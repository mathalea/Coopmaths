{"version":3,"file":"js/654.5aa6b0f64b191d3e8e0b.js","mappings":"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","sources":["webpack://mathalea/./src/js/exercices/6e/6I12.js","webpack://mathalea/./src/js/exercices/Exercice.js"],"sourcesContent":["// on importe les fonctions nécessaires.\nimport Exercice from '../Exercice.js'\nimport { context } from '../../modules/context.js'\nimport { listeQuestionsToContenuSansNumero, randint, combinaisonListesSansChangerOrdre, shuffle, calcul } from '../../modules/outils.js'\n// Ici ce sont les fonctions de la librairie maison 2d.js qui gèrent tout ce qui est graphique (SVG/tikz) et en particulier ce qui est lié à l'objet lutin\nimport { angleScratchTo2d, orienter, mathalea2d, scratchblock, creerLutin, avance, tournerD, tournerG, baisseCrayon, allerA, leveCrayon, grille, tracePoint, point, segment, texteParPoint } from '../../modules/2d.js'\nimport { afficheScore } from '../../modules/gestionInteractif.js'\nexport const interactifReady = true\n// il y avait un fonctionnement avec amcType cf commit 3ae7c43\nexport const interactifType = 'custom' // La correction doit être gérée dans l'exercice avec la méthode this.correctionInteractive()\nexport const amcReady = true\nexport const amcType = 'qcmMono'\n\nexport const titre = 'Trouver le bon tracé avec Scratch'\nexport default function AlgoTortue () { // ça c'est la classe qui permet de créer cet exercice\n  'use strict'\n  Exercice.call(this) // la classe parente qui définit les attributs commun à tous les exercices\n  this.titre = titre\n  this.nbQuestions = 1\n  this.nbQuestionsModifiable = false\n  this.nbCols = 1\n  this.nbColsCorr = 1\n  this.pasDeVersionLatex = false\n  this.pas_de_version_HMTL = false\n  this.typeExercice = 'Scratch'\n  this.listePackages = 'scratch3'\n  this.sup = 9 // 7 instructions par défaut, paramètre réglable.\n  this.sup2 = 1 // types d'instructionsde déplacement (ici seulement avancer et tourner)\n\n  this.nouvelleVersion = function (numeroExercice) {\n    this.listeQuestions = []\n    this.listeCorrections = []\n    this.autoCorrection = []\n    const angleDepart = 90 // On choisit l'orientation de départ (On pourrait en faire un paramètre de l'exo)\n    const xDepart = 0 // Le départ est en (0,0) pour avoir la même marge dans toutes les directions\n    const yDepart = 0\n    const objetsCorrection = []\n    const paramsEnonces = {}\n    const paramsCorrection = {}\n    const sequences = [ // séquences d'intruction pré-établies, on en choisit une parmi celles-ci\n      ['tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer'],\n      ['tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer'],\n      ['tournerD', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer'],\n      ['tournerD', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer'],\n      ['avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD'],\n      ['avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerG'],\n      ['avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerD'],\n      ['avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG'],\n      ['tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer'],\n      ['tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer'],\n      ['tournerG', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer', 'tournerD', 'avancer'],\n      ['tournerG', 'avancer', 'tournerD', 'avancer', 'tournerG', 'avancer', 'tournerG', 'avancer', 'tournerD', 'avancer']\n    ]\n    let erreursDeDeplacement = [0, 1, 0]\n    erreursDeDeplacement = combinaisonListesSansChangerOrdre(erreursDeDeplacement, parseInt(this.sup))\n    const choix = randint(0, 11) // On va choisir une des 12 sequences\n    const commandes = combinaisonListesSansChangerOrdre(sequences[choix], parseInt(this.sup)) // on crée la succession de commandes en répétant la séquence choisie si le nombre d'instructions demandées dépasse la longueur de la séquence\n    const val = []\n    const lutins = []\n\n    // Ici on crée 5 instances de l'objet Lutin.\n    for (let i = 0; i < 5; i++) {\n      lutins[i] = creerLutin()\n      lutins[i].color = 'green' // la couleur de la trace\n      lutins[i].epaisseur = 3 // son epaisseur\n    }\n    context.unitesLutinParCm = 10 // avancer de 10 pour le lutin lui fait parcourir 1cm (en fait 0,5cm car j'ai ajouté un scale=0.5 pour la sortie latex)\n    context.pixelsParCm = 20 // 20 pixels d'écran représentent 1cm (enfin ça dépend du zoom, donc c'est juste un réglage par défaut)\n\n    let texte = '' // la chaine qui va contenir l'énoncé\n    let texteCorr = '' // la chaine qui va contenir la correction\n    // On écrit le début du programme dans l'attribut codeScratch du lutins[0][0]... cet attribut de type chaine contient le code du programme du lutin en Scratch Latex\n    // A chaque instruction ajoutée dans le programme correspond une action à effectuée sur l'objet lutins[0]..\n    lutins[0].codeScratch = '\\\\begin{scratch}[print,fill,blocks,scale=0.75]\\n \\\\blockinit{quand \\\\greenflag est cliqué}\\n '\n    lutins[0].codeScratch += `\\\\blockmove{aller à x: \\\\ovalnum{${xDepart}} y: \\\\ovalnum{${yDepart}}}\\n ` // ça c'est pour ajouter la brique scratch\n    lutins[0].codeScratch += `\\\\blockmove{s'orienter à \\\\ovalnum{${angleDepart}}}\\n`\n    lutins[0].codeScratch += '\\\\blockpen{stylo en position d\\'écriture}\\n'\n    for (let i = 0; i < 5; i++) {\n      allerA(0, 0, lutins[i]) // ça c'est pour faire bouger le lutin (écrire le programme ne le fait pas exécuter !)\n      baisseCrayon(lutins[i])\n      orienter(angleScratchTo2d(angleDepart), lutins[i])// l'angle 2d est l'angle trigonométrique... Scratch est décallé de 90°, il faut donc convertir pour utiliser Orienter()\n    }\n    for (let i = 0; i < parseInt(this.sup); i++) { // On va parcourir la listes des commandes de déplacement mais certains lutins font des erreurs\n      switch (commandes[i]) {\n        case 'avancer':\n          val[i] = randint(1, 4) * 5 // La longueur du déplacement est 10, 20, 30 ou 40\n          lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalnum{${val[i]}} pas}\\n`\n          avance(val[i], lutins[0])\n          avance(val[i], lutins[1])\n          avance(val[i], lutins[2])\n          avance(val[i], lutins[3])\n          avance(val[i] + 5 * erreursDeDeplacement[i], lutins[4]) // avance trop\n          break\n        case 'tournerD' : // On peut difficilement choisir autre chose que de tourner de 90°...\n          lutins[0].codeScratch += '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{90} degrés}\\n'\n          tournerD(90, lutins[0])\n          tournerD(90, lutins[2])\n          orienter(90, lutins[4])\n          tournerG(90, lutins[1]) // tournent dans le mauvais sens\n          tournerG(90, lutins[3])\n          break\n        case 'tournerG' :\n          lutins[0].codeScratch += '\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{90} degrés}\\n'\n          tournerG(90, lutins[0])\n          tournerG(90, lutins[1])\n          tournerG(90, lutins[4])\n          tournerD(90, lutins[2]) // tournent dans le mauvais sens\n          tournerD(90, lutins[3])\n          break\n      }\n    }\n    lutins[0].codeScratch += '\\\\blockpen{relever le stylo}\\n'\n\n    let largeur = 1\n    let hauteur = 1\n    for (let i = 0; i < 5; i++) { // on calcule la largeur et la hauteur maximale des parcours.\n      leveCrayon(lutins[i])\n      largeur = Math.max(largeur, lutins[i].xMax - lutins[i].xMin)\n      hauteur = Math.max(hauteur, lutins[i].yMax - lutins[i].yMin)\n    }\n    largeur++\n    lutins[0].codeScratch += '\\\\end{scratch}'\n    texte = 'Quelle figure est tracée par le stylo à l\\'éxécution du programme ci-dessous ?<br>Un carreau représente 5 pas<br>Le tracé démarre à la croix bleue.<br>'\n    texte += \"S'orienter à 90° signifie s'orienter vers la droite de l'écran.<br>\"\n\n    if (context.isHtml) { // On crée 2 colonnes selon le contexte html / Latex\n      texte += '<table style=\"width: 100%\"><tr><td>'\n    } else {\n      texte += '\\\\begin{minipage}[b]{.25\\\\textwidth}'\n    }\n    texte += scratchblock(lutins[0].codeScratch) // la fonction scratchblock va convertir le code Latex en code html si besoin.\n    if (context.isHtml) { // on change de colonne...\n      texte += '</td><td style=\"vertical-align: top; text-align: center\">'\n    } else {\n      texte += '\\\\end{minipage} '\n      texte += '\\\\hfill \\\\begin{minipage}[b]{.74\\\\textwidth}'\n    }\n    let ordreLutins = [0, 1, 2, 3, 4]\n    ordreLutins = shuffle(ordreLutins) // On mélange les emplacements pour éviter d'avoir la bonne réponse au même endroit\n    for (let i = 0; i < 5; i++) {\n      for (let j = 0; j < lutins[i].listeTraces.length; j++) { // On recadre les traces des lutins...\n        lutins[i].listeTraces[j][0] -= lutins[i].xMin\n        lutins[i].listeTraces[j][2] -= lutins[i].xMin\n        lutins[i].listeTraces[j][1] -= lutins[i].yMin\n        lutins[i].listeTraces[j][3] -= lutins[i].yMin\n      }\n    }\n    const depart = []\n    for (let i = 0; i < 5; i++) { // ajouter le point de départ de chaque tracé\n      depart[i] = tracePoint(point(lutins[i].listeTraces[0][0], lutins[i].listeTraces[0][1]))\n      depart[i].taille = 5\n      depart[i].color = 'blue'\n      depart[i].epaisseur = 2\n      if (i === 0) {\n        objetsCorrection.push(depart[0])\n      }\n    }\n    const echelle = segment(0, hauteur + 0.5, 1, hauteur + 0.5)\n    echelle.epaisseur = 2\n    echelle.styleExtremites = '|-|'\n    objetsCorrection.push(grille(-1, -1, largeur + 1), hauteur + 1, 'gray', 0.5, 0.5)\n    objetsCorrection.push(lutins[0])\n    paramsEnonces.xmin = -0.5\n    paramsEnonces.ymin = -1.5\n    paramsEnonces.xmax = largeur\n    paramsEnonces.ymax = hauteur + 1\n    paramsEnonces.pixelsParCm = Math.round(200 / largeur)\n    paramsEnonces.scale = calcul(2 / largeur)\n    paramsEnonces.style = ''\n    paramsCorrection.xmin = -0.5\n    paramsCorrection.ymin = -0.5\n    paramsCorrection.xmax = largeur\n    paramsCorrection.ymax = hauteur + 1\n    paramsCorrection.pixelsParCm = Math.round(200 / largeur)\n    paramsCorrection.scale = calcul(2 / largeur)\n\n    // mathalea2d() est la fonction qui ajoute soit une figure SVG (en html), soit une figure tikz en Latex. Ici, juste la grille est le point de départ.\n    for (let i = 0; i < 5; i++) {\n      paramsEnonces.id = `figure${i}exo${numeroExercice}`\n      texte += mathalea2d(paramsEnonces,\n        lutins[ordreLutins[i]],\n        depart[ordreLutins[i]],\n        grille(-0.5, -0.5, largeur, hauteur + 1, 'gray', 0.5, 0.5),\n        texteParPoint('10 pas', point(0.5, hauteur + 0.2), 'milieu', 'black', 1),\n        texteParPoint(`figure ${i + 1}`, point((lutins[ordreLutins[i]].xMax - lutins[ordreLutins[i]].xMin) / 2, -0.8), 'milieu', 'black', 1),\n        echelle)\n    }\n    if (context.isHtml) {\n      texte += '</td></tr></table>'\n      texte += `<div id=\"resultatCheckEx${this.numeroExercice}Q${0}\"></div>`\n    } else {\n      texte += '\\\\end{minipage} '\n    }\n    if (context.isAmc) {\n      this.autoCorrection[0] = {\n        enonce: texte,\n        propositions: [\n          {\n            texte: 'figure 1',\n            statut: false\n          },\n          {\n            texte: 'figure 2',\n            statut: false\n          },\n          {\n            texte: 'figure 3',\n            statut: false\n          },\n          {\n            texte: 'figure 4',\n            statut: false\n          },\n          {\n            texte: 'figure 5',\n            statut: false\n          }\n        ],\n        options: { ordered: true }\n      }\n      this.autoCorrection[0].propositions[ordreLutins.indexOf(0)].statut = true\n    }\n    this.indiceBonneFigure = ordreLutins.indexOf(0)\n    // Ici, la figure contient la grille, le point de départ et le lutin qui s'anime sur sa trace...\n    texteCorr += `La bonne figure est la figure ${this.indiceBonneFigure + 1}`\n\n    texteCorr += mathalea2d(paramsCorrection, objetsCorrection)\n    this.listeQuestions.push(texte) // on met à jour la liste des questions\n    this.listeCorrections.push(texteCorr) // et la liste des corrections\n\n    listeQuestionsToContenuSansNumero(this) // on envoie tout à la fonction qui va mettre en forme.\n\n    // Gestion de la souris\n    // ToFix si on passe de interactif à non interactif il y a toujours l'effet au survol\n    if (this.interactif) {\n      document.addEventListener('exercicesAffiches', () => {\n      // Dès que l'exercice est affiché, on rajoute des listenners sur chaque Svg.\n        for (let i = 0; i < 5; i++) {\n          const figSvg = document.getElementById(`figure${i}exo${this.numeroExercice}`)\n          if (figSvg) {\n            figSvg.addEventListener('mouseover', mouseOverSvgEffect)\n            figSvg.addEventListener('mouseout', mouseOutSvgEffect)\n            figSvg.addEventListener('click', mouseSvgClick)\n            figSvg.etat = false\n          }\n        }\n      })\n    }\n  }\n  this.besoinFormulaireNumerique = [\"Nombre d'instructions\"] // gestion des paramètres supplémentaires\n\n  // Pour pouvoir récupérer this dans la correction interactive\n  const exercice = this\n  // Pour distinguer les deux types de codage de recuperation des résultats\n  this.exoCustomResultat = false\n  // Gestion de la correction\n  this.correctionInteractive = (elt) => {\n    let nbBonnesReponses = 0\n    let nbMauvaisesReponses = 0\n    let nbFiguresCliquees = 0\n    const divFeedback = document.querySelector(`#resultatCheckEx${this.numeroExercice}Q${0}`)\n    const figures = []\n    for (let i = 0; i < 5; i++) {\n      const figure = document.getElementById(`figure${i}exo${this.numeroExercice}`)\n      figures.push(figure)\n      figure.removeEventListener('mouseover', mouseOverSvgEffect)\n      figure.removeEventListener('mouseout', mouseOutSvgEffect)\n      figure.removeEventListener('click', mouseSvgClick)\n      if (figure.etat) nbFiguresCliquees++\n    }\n    if (nbFiguresCliquees === 1 && figures[exercice.indiceBonneFigure].etat) {\n      divFeedback.innerHTML = '😎'\n      nbBonnesReponses++\n    } else {\n      divFeedback.innerHTML = '☹️'\n      nbMauvaisesReponses++\n    }\n    afficheScore(this, nbBonnesReponses, nbMauvaisesReponses)\n  }\n}\n\nfunction mouseOverSvgEffect () {\n  this.style.border = 'inset'\n}\nfunction mouseOutSvgEffect () {\n  this.style.border = 'none'\n}\nfunction mouseSvgClick () {\n  if (this.etat) {\n    // Déja choisi, donc on le réinitialise\n    this.style.border = 'none'\n    this.addEventListener('mouseover', mouseOverSvgEffect)\n    this.addEventListener('mouseout', mouseOutSvgEffect)\n    this.addEventListener('click', mouseSvgClick)\n    this.etat = false\n  } else {\n    // Passe à l'état choisi donc on désactive les listenners pour over et pour out\n    this.removeEventListener('mouseover', mouseOverSvgEffect)\n    this.removeEventListener('mouseout', mouseOutSvgEffect)\n    this.style.border = 'solid #f15929'\n    this.etat = true\n  }\n}\n","/**\n *\n *  Classe parente de tous les exercices.\n *\n * @author Rémi Angot\n */\nexport default function Exercice () {\n  // ///////////////////////////////////////////////\n  // Autour de l'exercice\n  // ///////////////////////////////////////////////\n  this.titre = '' // Chaîne de caractère sans point à la fin. C'est le titre de l'exercice qui sera affiché avec la référence dans le générateur d'exercices.\n  this.boutonAide = false // Bouton en haut à droite des questions permettant d'afficher un pdf, texte, image, vidéo, contenu d'un autre site en \"pop-up\" via les fonctions modalXXXXXXX de outils.js.\n  // Ci-dessous des exemples d'utilisation du this.boutonAide.\n  // Noter que pour récupérer le numeroExercice dont il est question, au lieu d'écrire \"this.nouvelleVersion = function () {\" comme d'habitude, on écrit \"this.nouvelleVersion = function (numeroExercice) {\".\n  // this.boutonAide = modalImage(numeroExercice, urlImage, titre, labelBouton = 'Illustration', icone = 'image')\n  // this.boutonAide = modalPdf(numeroExercice, urlPdf, titre='Aide', labelBouton = 'Aide - PDF', icone = 'file pdf')\n  // this.boutonAide = modalTexteCourt(numeroExercice, texte, labelBouton = 'Aide', icone = 'info circle')\n  // this.boutonAide = modalTexteLong(numeroExercice, titre, texte, labelBouton = 'Aide', icone = 'info circle')\n  // this.boutonAide = modalUrl(numeroExercice, url, labelBouton = 'Aide', icone) pour afficher le contenu de url dans un iframe\n  // this.boutonAide = modalVideo(numeroExercice, urlVideo, titre, labelBouton, icone)\n  // this.boutonAide = modalYoutube(numeroExercice, idYoutube, titre, labelBouton = 'Aide - Vidéo', icone = 'youtube')\n\n  // ///////////////////////////////////////////////\n  // Construction de l'exercice\n  // ///////////////////////////////////////////////\n  this.consigne = '' // Chaîne de caractère qui apparaît en gras au-dessus des questions de préférence à l'infinitif et sans point à la fin.\n  this.consigneCorrection = '' // Chaîne de caractère en général vide qui apparaît au-dessus des corrections.\n  this.introduction = '' // Texte qui n'est pas forcément en gras et qui apparaît entre la consigne et les questions.\n  this.listeQuestions = [] // Liste de chaînes de caractères avec chacune correspondant à une question. Chaque question est définie par la méthode this.nouvelleVersion puis `listeDeQuestionToContenu(this)` mettra en forme `this.contenu` et `this.contenuCorrection` suivant `context` (sortie HTML ? diaporama ?...)\n  this.listeCorrections = [] // Idem avec la correction.\n  this.contenu = '' // Chaîne de caractères avec tout l'énoncé de l'exercice construit à partir de `this.listeQuestions` suivant le `context`\n  this.contenuCorrection = '' // Idem avec la correction\n  this.autoCorrection = [] // Liste des objets par question pour correction interactive || export AMC.\n  this.tableauSolutionsDuQcm = [] // Pour sauvegarder les solutions des QCM.\n\n  // ///////////////////////////////////////////////\n  // Mise en forme de l'exercice\n  // ///////////////////////////////////////////////\n  this.spacing = 1 // Interligne des questions\n  this.spacingCorr = 1 // Interligne des réponses\n\n  // ////////////////////////////////////////////\n  // Gestion de la sortie LateX\n  // ////////////////////////////////////////////\n  this.pasDeVersionLatex = false // booléen qui indique qu'une sortie LateX est impossible.\n  this.listePackages = [] // string ou liste de string avec le nom des packages spécifiques à ajouter dans le préambule.\n  this.consigneModifiable = true // booléen pour déterminer si la consigne est modifiable en ligne dans la sortie LaTeX.\n  this.nbQuestionsModifiable = true // booléen pour déterminer si le nombre de questions est modifiable en ligne.\n  this.nbCols = 1 // Nombre de colonnes pour la sortie LaTeX des questions (environnement multicols).\n  this.nbColsCorr = 1 // Nombre de colonnes pour la sortie LaTeX des réponses (environnement multicols).\n  this.nbColsModifiable = true // booléen pour déterminer si le nombre de colonnes est modifiable en ligne dans la sortie LaTeX.\n  this.nbColsCorrModifiable = true // booléen pour déterminer si le nombre de colonnes de la correction est modifiable en ligne dans la sortie LaTeX.\n  this.spacingModifiable = true // booléen pour déterminer si l'espacement est modifiable en ligne dans la sortie LaTeX.\n  this.spacingCorrModifiable = true // booléen pour déterminer si l'espacement est modifiable en ligne dans la sortie LaTeX.\n  // this.vspace = -1 //Ajoute un \\vspace{-1cm} avant l'énoncé ce qui peut être pratique pour des exercices avec des figures.\n\n  // ////////////////////////////////////////////\n  // Gestion de la sortie autre que LateX\n  // ////////////////////////////////////////////\n  this.beamer = false // booléen pour savoir si la sortie devra être un diaporama beamer\n  this.tailleDiaporama = 1 // Facteur par lequel multiplier la police pour la vue 'diap'\n\n  // ////////////////////////////////////////////\n  // Paramètres\n  // ////////////////////////////////////////////\n  this.nbQuestions = 10 // Nombre de questions par défaut (récupéré dans l'url avec le paramètre `,n=`)\n  this.pointsParQuestions = 1 // Pour définir la note par défaut d'un exercice dans sa sortie Moodle\n  this.correctionDetailleeDisponible = false // booléen qui indique si une correction détaillée est disponible.\n  this.correctionDetaillee = true // booléen indiquant si la correction détaillée doit être affiché par défaut (récupéré dans l'url avec le paramètre `,cd=`).\n  this.correctionIsCachee = false // pour cacher une correction\n  this.video = '' // Chaine de caractère pour un complément numérique (id Youtube, url, code iframe...).\n  // Interactivité\n  this.interactif = false // Exercice sans saisie utilisateur par défaut.\n  this.interactifObligatoire = false // Certains exercices sont uniquement des QCM et n'ont pas de version non interactive.\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup ou dans le paramètre d'url ',s='\n  this.besoinFormulaireNumerique = false // Sinon this.besoinFormulaireNumerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaireTexte = false // Sinon this.besoinFormulaireTexte = [texte, tooltip]\n  this.besoinFormulaireCaseACocher = false // Sinon this.besoinFormulaireCaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup2 ou dans le paramètre d'url ',s2='\n  this.besoinFormulaire2Numerique = false // Sinon this.besoinFormulaire2Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire2Texte = false // Sinon this.besoinFormulaire2Texte = [texte, tooltip]\n  this.besoinFormulaire2CaseACocher = false // Sinon this.besoinFormulaire2CaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup3 ou dans le paramètre d'url ',s3='\n  this.besoinFormulaire3Numerique = false // Sinon this.besoinFormulaire3Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire3Texte = false // Sinon this.besoinFormulaire3Texte = [texte, tooltip]\n  this.besoinFormulaire3CaseACocher = false // Sinon this.besoinFormulaire3CaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup4 ou dans le paramètre d'url ',s4='\n  this.besoinFormulaire4Numerique = false // Sinon this.besoinFormulaire4Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire4Texte = false // Sinon this.besoinFormulaire4Texte = [texte, tooltip]\n  this.besoinFormulaire4CaseACocher = false // Sinon this.besoinFormulaire4CaseACocher = [texte]\n\n  // ///////////////////////////////////////////////\n  // Exercice avec des dépendances particulières\n  // ///////////////////////////////////////////////\n  // this.typeExercice = 'MG32' // Pour charger MathGraph32.\n  this.mg32Editable = false // Les figures MG32 ne sont pas interactives par défaut.\n  // this.dimensionsDivMg32 = [500, 450] // Dimensions du SVG créé par MathGraph32.\n\n  // this.typeExercice = 'Scratch' // Pour charger Scratchblocks.\n  // this.typeExercice = 'IEP' // Pour charger InstrumEnPoche.\n  // this.typeExercice = 'dnb' // Ce n’est pas un exercice aléatoire il est traité différemment. Les exercices DNB sont des images pour la sortie Html et du code LaTeX statique pour la sortie latex.\n  // this.typeExercice = 'XCas' // Pour charger le JavaScript de XCas qui provient de https://www-fourier.ujf-grenoble.fr/~parisse/giac_fr.html\n  // this.typeExercice = 'simple' // Pour les exercices plus simples destinés aux courses aux nombres\n\n  this.listeArguments = [] // Variable servant à comparer les exercices pour ne pas avoir deux exercices identiques\n\n  /**\n   * Fonction qui est appellée pour chaque exercice\n   * @param {number} numeroExercice numéro de l'exercice utilisé pour avoir des identifiants uniques pour associer un champ avec le bon exercice (pour l'interactivité par exemple)\n   */\n  this.nouvelleVersion = function (numeroExercice) {}\n\n  /**\n   * Compare chaque nouvelle version d'un exercice aux précédentes pour s'assurer de ne pas avoir deux exercices identiques\n   * @param {int} i indice de la question\n   * @param  {...any} args toutes les variables pertinentes qui \"résumeraient\" la question\n   * @returns {boolean} true si la question n'a jamais été posée\n   */\n  this.questionJamaisPosee = function (i, ...args) {\n    if (i === 0) this.listeArguments = []\n    let argsConcatenes = ''\n    for (const arg of args) {\n      if (arg !== undefined) argsConcatenes += arg.toString()\n    }\n    if (this.listeArguments.indexOf(argsConcatenes) > -1) {\n      return false\n    } else {\n      this.listeArguments.push(argsConcatenes)\n      return true\n    }\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","AlgoTortue","Exercice","this","nbQuestions","nbQuestionsModifiable","nbCols","nbColsCorr","pasDeVersionLatex","pas_de_version_HMTL","typeExercice","listePackages","sup","sup2","nouvelleVersion","numeroExercice","listeQuestions","listeCorrections","autoCorrection","objetsCorrection","paramsEnonces","paramsCorrection","erreursDeDeplacement","combinaisonListesSansChangerOrdre","parseInt","choix","randint","commandes","val","lutins","i","creerLutin","color","epaisseur","context","texte","texteCorr","codeScratch","allerA","baisseCrayon","orienter","angleScratchTo2d","avance","tournerD","tournerG","largeur","hauteur","leveCrayon","Math","max","xMax","xMin","yMax","yMin","scratchblock","ordreLutins","shuffle","j","listeTraces","length","depart","tracePoint","point","taille","push","echelle","segment","styleExtremites","grille","xmin","ymin","xmax","ymax","pixelsParCm","round","scale","calcul","style","id","mathalea2d","texteParPoint","enonce","propositions","statut","options","ordered","indexOf","indiceBonneFigure","listeQuestionsToContenuSansNumero","interactif","document","addEventListener","figSvg","getElementById","mouseOverSvgEffect","mouseOutSvgEffect","mouseSvgClick","etat","besoinFormulaireNumerique","exercice","exoCustomResultat","correctionInteractive","elt","nbBonnesReponses","nbMauvaisesReponses","nbFiguresCliquees","divFeedback","querySelector","figures","figure","removeEventListener","innerHTML","afficheScore","border","boutonAide","consigne","consigneCorrection","introduction","contenu","contenuCorrection","tableauSolutionsDuQcm","spacing","spacingCorr","consigneModifiable","nbColsModifiable","nbColsCorrModifiable","spacingModifiable","spacingCorrModifiable","beamer","tailleDiaporama","pointsParQuestions","correctionDetailleeDisponible","correctionDetaillee","correctionIsCachee","video","interactifObligatoire","besoinFormulaireTexte","besoinFormulaireCaseACocher","besoinFormulaire2Numerique","besoinFormulaire2Texte","besoinFormulaire2CaseACocher","besoinFormulaire3Numerique","besoinFormulaire3Texte","besoinFormulaire3CaseACocher","besoinFormulaire4Numerique","besoinFormulaire4Texte","besoinFormulaire4CaseACocher","mg32Editable","listeArguments","questionJamaisPosee","args","argsConcatenes","arg","undefined","toString"],"sourceRoot":""}