{"version":3,"file":"js/5474.52a5a30a9f86d470d3bf.js","mappings":"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","sources":["webpack://mathalea/./src/js/exercices/Exercice.js","webpack://mathalea/./src/js/modules/operations.js"],"sourcesContent":["/**\n *\n *  Classe parente de tous les exercices.\n *\n * @author Rémi Angot\n */\nexport default function Exercice () {\n  // ///////////////////////////////////////////////\n  // Autour de l'exercice\n  // ///////////////////////////////////////////////\n  this.titre = '' // Chaîne de caractère sans point à la fin. C'est le titre de l'exercice qui sera affiché avec la référence dans le générateur d'exercices.\n  this.boutonAide = false // Bouton en haut à droite des questions permettant d'afficher un pdf, texte, image, vidéo, contenu d'un autre site en \"pop-up\" via les fonctions modalXXXXXXX de outils.js.\n  // Ci-dessous des exemples d'utilisation du this.boutonAide.\n  // Noter que pour récupérer le numeroExercice dont il est question, au lieu d'écrire \"this.nouvelleVersion = function () {\" comme d'habitude, on écrit \"this.nouvelleVersion = function (numeroExercice) {\".\n  // this.boutonAide = modalImage(numeroExercice, urlImage, titre, labelBouton = 'Illustration', icone = 'image')\n  // this.boutonAide = modalPdf(numeroExercice, urlPdf, titre='Aide', labelBouton = 'Aide - PDF', icone = 'file pdf')\n  // this.boutonAide = modalTexteCourt(numeroExercice, texte, labelBouton = 'Aide', icone = 'info circle')\n  // this.boutonAide = modalTexteLong(numeroExercice, titre, texte, labelBouton = 'Aide', icone = 'info circle')\n  // this.boutonAide = modalUrl(numeroExercice, url, labelBouton = 'Aide', icone) pour afficher le contenu de url dans un iframe\n  // this.boutonAide = modalVideo(numeroExercice, urlVideo, titre, labelBouton, icone)\n  // this.boutonAide = modalYoutube(numeroExercice, idYoutube, titre, labelBouton = 'Aide - Vidéo', icone = 'youtube')\n\n  // ///////////////////////////////////////////////\n  // Construction de l'exercice\n  // ///////////////////////////////////////////////\n  this.consigne = '' // Chaîne de caractère qui apparaît en gras au-dessus des questions de préférence à l'infinitif et sans point à la fin.\n  this.consigneCorrection = '' // Chaîne de caractère en général vide qui apparaît au-dessus des corrections.\n  this.introduction = '' // Texte qui n'est pas forcément en gras et qui apparaît entre la consigne et les questions.\n  this.listeQuestions = [] // Liste de chaînes de caractères avec chacune correspondant à une question. Chaque question est définie par la méthode this.nouvelleVersion puis `listeDeQuestionToContenu(this)` mettra en forme `this.contenu` et `this.contenuCorrection` suivant `context` (sortie HTML ? diaporama ?...)\n  this.listeCorrections = [] // Idem avec la correction.\n  this.contenu = '' // Chaîne de caractères avec tout l'énoncé de l'exercice construit à partir de `this.listeQuestions` suivant le `context`\n  this.contenuCorrection = '' // Idem avec la correction\n  this.autoCorrection = [] // Liste des objets par question pour correction interactive || export AMC.\n  this.tableauSolutionsDuQcm = [] // Pour sauvegarder les solutions des QCM.\n\n  // ///////////////////////////////////////////////\n  // Mise en forme de l'exercice\n  // ///////////////////////////////////////////////\n  this.spacing = 1 // Interligne des questions\n  this.spacingCorr = 1 // Interligne des réponses\n\n  // ////////////////////////////////////////////\n  // Gestion de la sortie LateX\n  // ////////////////////////////////////////////\n  this.pasDeVersionLatex = false // booléen qui indique qu'une sortie LateX est impossible.\n  this.listePackages = [] // string ou liste de string avec le nom des packages spécifiques à ajouter dans le préambule.\n  this.consigneModifiable = true // booléen pour déterminer si la consigne est modifiable en ligne dans la sortie LaTeX.\n  this.nbQuestionsModifiable = true // booléen pour déterminer si le nombre de questions est modifiable en ligne.\n  this.nbCols = 1 // Nombre de colonnes pour la sortie LaTeX des questions (environnement multicols).\n  this.nbColsCorr = 1 // Nombre de colonnes pour la sortie LaTeX des réponses (environnement multicols).\n  this.nbColsModifiable = true // booléen pour déterminer si le nombre de colonnes est modifiable en ligne dans la sortie LaTeX.\n  this.nbColsCorrModifiable = true // booléen pour déterminer si le nombre de colonnes de la correction est modifiable en ligne dans la sortie LaTeX.\n  this.spacingModifiable = true // booléen pour déterminer si l'espacement est modifiable en ligne dans la sortie LaTeX.\n  this.spacingCorrModifiable = true // booléen pour déterminer si l'espacement est modifiable en ligne dans la sortie LaTeX.\n  // this.vspace = -1 //Ajoute un \\vspace{-1cm} avant l'énoncé ce qui peut être pratique pour des exercices avec des figures.\n\n  // ////////////////////////////////////////////\n  // Gestion de la sortie autre que LateX\n  // ////////////////////////////////////////////\n  this.beamer = false // booléen pour savoir si la sortie devra être un diaporama beamer\n  this.tailleDiaporama = 1 // Facteur par lequel multiplier la police pour la vue 'diap'\n\n  // ////////////////////////////////////////////\n  // Paramètres\n  // ////////////////////////////////////////////\n  this.nbQuestions = 10 // Nombre de questions par défaut (récupéré dans l'url avec le paramètre `,n=`)\n  this.pointsParQuestions = 1 // Pour définir la note par défaut d'un exercice dans sa sortie Moodle\n  this.correctionDetailleeDisponible = false // booléen qui indique si une correction détaillée est disponible.\n  this.correctionDetaillee = true // booléen indiquant si la correction détaillée doit être affiché par défaut (récupéré dans l'url avec le paramètre `,cd=`).\n  this.correctionIsCachee = false // pour cacher une correction\n  this.video = '' // Chaine de caractère pour un complément numérique (id Youtube, url, code iframe...).\n  // Interactivité\n  this.interactif = false // Exercice sans saisie utilisateur par défaut.\n  this.interactifObligatoire = false // Certains exercices sont uniquement des QCM et n'ont pas de version non interactive.\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup ou dans le paramètre d'url ',s='\n  this.besoinFormulaireNumerique = false // Sinon this.besoinFormulaireNumerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaireTexte = false // Sinon this.besoinFormulaireTexte = [texte, tooltip]\n  this.besoinFormulaireCaseACocher = false // Sinon this.besoinFormulaireCaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup2 ou dans le paramètre d'url ',s2='\n  this.besoinFormulaire2Numerique = false // Sinon this.besoinFormulaire2Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire2Texte = false // Sinon this.besoinFormulaire2Texte = [texte, tooltip]\n  this.besoinFormulaire2CaseACocher = false // Sinon this.besoinFormulaire2CaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup3 ou dans le paramètre d'url ',s3='\n  this.besoinFormulaire3Numerique = false // Sinon this.besoinFormulaire3Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire3Texte = false // Sinon this.besoinFormulaire3Texte = [texte, tooltip]\n  this.besoinFormulaire3CaseACocher = false // Sinon this.besoinFormulaire3CaseACocher = [texte]\n  // Ajoute un formulaire de paramétrage par l'utilisateur récupéré via this.sup4 ou dans le paramètre d'url ',s4='\n  this.besoinFormulaire4Numerique = false // Sinon this.besoinFormulaire4Numerique = [texte, max, tooltip facultatif]\n  this.besoinFormulaire4Texte = false // Sinon this.besoinFormulaire4Texte = [texte, tooltip]\n  this.besoinFormulaire4CaseACocher = false // Sinon this.besoinFormulaire4CaseACocher = [texte]\n\n  // ///////////////////////////////////////////////\n  // Exercice avec des dépendances particulières\n  // ///////////////////////////////////////////////\n  // this.typeExercice = 'MG32' // Pour charger MathGraph32.\n  this.mg32Editable = false // Les figures MG32 ne sont pas interactives par défaut.\n  // this.dimensionsDivMg32 = [500, 450] // Dimensions du SVG créé par MathGraph32.\n\n  // this.typeExercice = 'Scratch' // Pour charger Scratchblocks.\n  // this.typeExercice = 'IEP' // Pour charger InstrumEnPoche.\n  // this.typeExercice = 'dnb' // Ce n’est pas un exercice aléatoire il est traité différemment. Les exercices DNB sont des images pour la sortie Html et du code LaTeX statique pour la sortie latex.\n  // this.typeExercice = 'XCas' // Pour charger le JavaScript de XCas qui provient de https://www-fourier.ujf-grenoble.fr/~parisse/giac_fr.html\n  // this.typeExercice = 'simple' // Pour les exercices plus simples destinés aux courses aux nombres\n\n  this.listeArguments = [] // Variable servant à comparer les exercices pour ne pas avoir deux exercices identiques\n\n  /**\n   * Fonction qui est appellée pour chaque exercice\n   * @param {number} numeroExercice numéro de l'exercice utilisé pour avoir des identifiants uniques pour associer un champ avec le bon exercice (pour l'interactivité par exemple)\n   */\n  this.nouvelleVersion = function (numeroExercice) {}\n\n  /**\n   * Compare chaque nouvelle version d'un exercice aux précédentes pour s'assurer de ne pas avoir deux exercices identiques\n   * @param {int} i indice de la question\n   * @param  {...any} args toutes les variables pertinentes qui \"résumeraient\" la question\n   * @returns {boolean} true si la question n'a jamais été posée\n   */\n  this.questionJamaisPosee = function (i, ...args) {\n    if (i === 0) this.listeArguments = []\n    let argsConcatenes = ''\n    for (const arg of args) {\n      if (arg !== undefined) argsConcatenes += arg.toString()\n    }\n    if (this.listeArguments.indexOf(argsConcatenes) > -1) {\n      return false\n    } else {\n      this.listeArguments.push(argsConcatenes)\n      return true\n    }\n  }\n}\n","import { ordreDeGrandeur, calcul, base10VersBaseN } from './outils.js'\nimport { mathalea2d, texteParPosition, segment } from './2d.js'\nimport { context } from './context.js'\nimport { format } from 'mathjs'\nconst math = { format: format }\n/**\n *\n * Pose une opération\n * @author Jean-Claude Lhote\n * les types possibles sont : addition, soustraction, multiplication, division, additiond, soustractiond, multiplicationd, divisiond\n * Le paramètre précision précise pour divisiond, le nombre de chiffres après la virgule dans le quotient.\n */\n\nexport default function Operation ({ operande1 = 1, operande2 = 2, type = 'addition', precision = 0, base = 10 }) { // precision est pour le quotient décimal\n  let Code\n  const nombreDeChiffresApresLaVirgule = function (x) {\n    const s = Number(x).toString()\n    const pe = Number(Math.floor(x)).toString()\n    if (pe.length === s.length) return 0\n    return s.length - pe.length - 1\n  }\n\n  const cacherleszerosdevant = function (chaine) {\n    let blancs = ''\n    while (chaine[0] === '0') {\n      chaine = chaine.substr(1)\n      blancs += ' '\n    }\n    for (let i = 0; i < chaine.length; i++) {\n      blancs += `${chaine[i]}`\n    }\n    return blancs\n  }\n\n  const DivisionPosee3d = function (divid, divis, precision = 0) {\n    const objets = []; let zeroutile = false; const periode = 0\n    precision = Math.min(precision, nombreDeChiffresApresLaVirgule(calcul(divid / divis)))\n    const decalage = nombreDeChiffresApresLaVirgule(divis)\n    const dec1 = nombreDeChiffresApresLaVirgule(divid)\n    if (divid < divis) { zeroutile = true }\n    divis = calcul(`${divis}*10^${decalage}`)\n    divid = calcul(`${divid}*10^${decalage + dec1}`)\n    let dec2 = nombreDeChiffresApresLaVirgule(divid)\n    dec2 = precision - dec2 - dec1\n    divid = math.format(divid * 10 ** dec2, { notation: 'auto', lowerExp: -12, upperExp: 12, precision: 12 })\n    const ecriresoustraction = function (upos, P) {\n      objets.push(texteParPosition('-', upos - P.length - 0.5, 10 - i * 2, 'milieu', 'black', 1.2, 'middle', false))\n      for (let k = 0; k < P.length; k++) {\n        objets.push(texteParPosition(P[P.length - k - 1], upos - k - 1, 10 - i * 2, 'milieu', 'black', 1.2, 'middle', false))\n      }\n    }\n    const ecrirereste = function (upos, R) {\n      objets.push(segment(i - 1, 9.6 - i * 2, i + R.length, 9.6 - i * 2))\n      for (let k = 0; k < R.length; k++) {\n        objets.push(texteParPosition(R[R.length - k - 1], upos - k - 1, 9 - i * 2, 'milieu', 'black', 1.2, 'middle', false))\n      }\n    }\n    const ecrirequotient = function (x, Q) {\n      objets.push(texteParPosition(Q, n + 1.5 + x, 10, 'milieu', 'black', 1.2, 'middle', false))\n    }\n\n    const divd = []; const Q = []; const R = []; const P = []\n    const dividende = Number(divid).toString()\n    const diviseur = Number(divis).toString()\n    const n = Math.log10(ordreDeGrandeur(divid, 1)) // nombre de chiffres du dividende\n    const m = Math.log10(ordreDeGrandeur(divis, 1)) // nombre de chiffre du diviseur\n    let upos = m\n\n    for (let i = 0; i < n; i++) { // on écrit le dividende\n      objets.push(texteParPosition(dividende[i], i, 11, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    for (let i = 0; i < m; i++) { // on écrit le diviseur\n      objets.push(texteParPosition(diviseur[i], i + n + 1.5, 11, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    if (dec1 + dec2 !== 0) {\n      objets.push(texteParPosition(',', n - dec1 - dec2 - 1 + 0.5, 11, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    objets.push(segment(n, 11.5, n, 11.5 - n * 2)) // on trace le trait vertical\n\n    let i = 0\n    divd.push(dividende.substr(0, m))\n    if (parseInt(divd[0]) < divis) {\n      divd[0] += dividende.substr(m, 1)\n      if (divis / (10 ** dec2) < divis && zeroutile) ecrirequotient(-1, '0')\n      upos++\n    } else if (zeroutile) { ecrirequotient(-1, '0') }\n    while (upos <= n) {\n      Q.push(Number(Math.floor(parseInt(divd[i]) / divis)).toString())\n      R.push(Number(parseInt(divd[i]) % divis).toString())\n      P.push('')\n      if (Q[i] === '0') {\n        for (let z = 0; z < m; z++) {\n          P[i] += '0'\n        }\n      } else {\n        P[i] += Number(parseInt(Q[i]) * divis).toString()\n      }\n      ecriresoustraction(upos, P[i])\n      if (upos < n) {\n        R[i] += dividende.substr(upos, 1)\n        ecrirereste(upos + 1, R[i])\n      } else {\n        ecrirereste(upos, R[i])\n      }\n      //  for (let r=0;r<i;r++){\n      //      if (R[i]==R[r]) periode=i-r\n      //  }\n      divd.push(R[i])\n      upos++\n\n      //  if (periode!=0) {\n      //      ecrirequotient(i,'...')\n      //      break\n      //  }\n      //  else\n      ecrirequotient(i, Q[i])\n      i++\n    }\n    if (precision > 0 && periode === 0) {\n      objets.push(texteParPosition(',', n + 1 + i - dec2 - dec1, 10, 'milieu', 'black', 1.2, 'middle', false))\n    } else if (periode !== 0) {\n      objets.push(texteParPosition(',', 2 * n - dec2 - dec1, 10, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    objets.push(segment(n, 10.5, n + m + i, 10.5)) // on trace le trait horizontal\n\n    const code = mathalea2d({ xmin: -1.5, ymin: 10 - 2 * n, xmax: n + m + 10, ymax: 11.5, pixelsParCm: 20, scale: 0.8 }, objets)\n    return code\n  }\n\n  const AdditionPosee3d = function (operande1, operande2, base) {\n    const dec1 = nombreDeChiffresApresLaVirgule(operande1)\n    const dec2 = nombreDeChiffresApresLaVirgule(operande2)\n    let code = ''\n    const objets = []\n    let sop1; let sop2\n    let sresultat\n    let resultat\n    let lresultat\n    let decalage\n    if (base ? base === 10 : true) {\n      decalage = Math.max(dec1, dec2)\n      operande1 = calcul(`${operande1}*10^${decalage}`)\n      operande2 = calcul(`${operande2}*10^${decalage}`)\n      sop1 = Number(operande1).toString()\n      sop2 = Number(operande2).toString()\n      resultat = operande1 + operande2\n      sresultat = Number(resultat).toString()\n      lresultat = sresultat.length\n    } else {\n      decalage = 0\n      sop1 = base10VersBaseN(operande1, base)\n      sop2 = base10VersBaseN(operande2, base)\n      resultat = operande1 + operande2\n      sresultat = base10VersBaseN(resultat, base)\n      lresultat = sresultat.length\n    }\n    const lop1 = sop1.length\n    const lop2 = sop2.length\n    const longueuroperandes = Math.max(lop1, lop2)\n    let retenues = ' '\n    if (lop1 > lop2) { // si op1 a plus de chiffres qu'op2 on complète op2 avec des zéros.\n      for (let j = 0; j < lop1 - lop2; j++) {\n        sop2 = ' ' + sop2\n      }\n    } else if (lop2 > lop1) { // on fait pareil pour op1 si c'est op2 le plus 'grand'\n      for (let j = 0; j < lop2 - lop1; j++) {\n        sop1 = ' ' + sop1\n      }\n    }\n    // les deux operande ont le même nomre de chiffres\n    for (let i = longueuroperandes - 1; i > 0; i--) { // on construit la chaine des retenues.\n      if (parseInt(sop1[i], base) + parseInt(sop2[i], base) + parseInt(retenues[0] > 0 ? retenues[0] : 0) > base - 1) {\n        retenues = `1${retenues}`\n      } else {\n        retenues = ` ${retenues}`\n      }\n    }\n    retenues = ' ' + retenues\n    sop1 = ` ${sop1}`\n    sop2 = `+${sop2}`\n\n    for (let i = 0; i < longueuroperandes + 1 - lresultat; i++) {\n      sresultat = ` ${sresultat}`\n    }\n    for (let i = 0; i < longueuroperandes + 1; i++) {\n      if (sop1[i] !== ' ') objets.push(texteParPosition(sop1[i], i * 0.6, 4, 'milieu', 'black', 1.2, 'middle', false))\n      if (sop2[i] !== ' ') objets.push(texteParPosition(sop2[i], i * 0.6, 3, 'milieu', 'black', 1.2, 'middle', false))\n      objets.push(segment(0, 2, (longueuroperandes + 1) * 0.6, 2))\n      if (retenues[i] !== ' ') objets.push(texteParPosition(retenues[i], i * 0.6, 2.5, 'milieu', 'red', 0.8, 'middle', false))\n      if (sresultat[i] !== ' ') objets.push(texteParPosition(sresultat[i], i * 0.6, 1, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    if (decalage !== 0) {\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 4, 'milieu', 'black', 1.2, 'middle', false))\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 3, 'milieu', 'black', 1.2, 'middle', false))\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 1, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    code += mathalea2d({ xmin: -0.5, ymin: 0, xmax: longueuroperandes, ymax: 5, pixelsParCm: 20, scale: 0.8 }, objets)\n    return code\n  }\n\n  const SoustractionPosee3d = function (operande1, operande2, base) {\n    let code = ''\n    const objets = []\n    let sop1; let sop2\n    let sresultat\n    let resultat\n    let lresultat\n    let decalage\n    if (base ? base === 10 : true) {\n      const dec1 = nombreDeChiffresApresLaVirgule(operande1)\n      const dec2 = nombreDeChiffresApresLaVirgule(operande2)\n      decalage = Math.max(dec1, dec2)\n      operande1 = calcul(`${operande1}*10^${decalage}`)\n      operande2 = calcul(`${operande2}*10^${decalage}`)\n      resultat = operande1 - operande2\n      sresultat = Number(resultat).toString()\n      lresultat = sresultat.length\n      if (operande1 < operande2) {\n        sop2 = Number(operande1).toString()\n        sop1 = Number(operande2).toString()\n      } else {\n        sop1 = Number(operande1).toString()\n        sop2 = Number(operande2).toString()\n      }\n    } else {\n      decalage = 0\n      sop1 = base10VersBaseN(operande1, base)\n      sop2 = base10VersBaseN(operande2, base)\n      resultat = operande1 - operande2\n      sresultat = base10VersBaseN(resultat, base)\n      lresultat = sresultat.length\n    }\n    const lop1 = sop1.length\n    const lop2 = sop2.length\n    const longueuroperandes = lop1\n    let retenues = '00'\n    if (lop1 > lop2) { // si op1 a plus de chiffres qu'op2 on complète op2 avec des blancs.\n      for (let j = 0; j < lop1 - lop2; j++) {\n        sop2 = ' ' + sop2\n      }\n    }\n\n    // les deux operande ont le même nomre de chiffres\n    for (let i = longueuroperandes - 1; i >= lop1 - lop2; i--) { // on construit la chaine des retenues.\n      if (parseInt(sop1[i], base) < (parseInt(sop2[i], base) + parseInt(retenues.charAt(0), base))) {\n        retenues = `1${retenues}`\n      } else {\n        retenues = `0${retenues}`\n      }\n    }\n    sop1 = ` ${sop1}`\n    sop2 = `-${sop2}`\n    retenues = `0${retenues}`\n\n    for (let i = 0; i < longueuroperandes + 1 - lresultat; i++) {\n      sresultat = ` ${sresultat}`\n    }\n    const offsetCarry = lop1 - lop2\n    for (let i = 0; i < longueuroperandes + 1; i++) {\n      if (retenues[i] !== '0') objets.push(texteParPosition(retenues[i], i * 0.6 - 0.2 + 0.6 * offsetCarry, 4.1, 'milieu', 'red', 0.8, 'middle', false))\n      if (sop1[i] !== ' ') objets.push(texteParPosition(sop1[i], i * 0.6, 4, 'milieu', 'black', 1.2, 'middle', false))\n      if (sop2[i] !== ' ') objets.push(texteParPosition(sop2[i], i * 0.6, 3, 'milieu', 'black', 1.2, 'middle', false))\n      if (retenues[i] !== '0') objets.push(texteParPosition(retenues[i], i * 0.6 - 0.6 + 0.6 * offsetCarry, 2.6, 'milieu', 'blue', 0.8, 'middle', false))\n      if (sresultat[i] !== ' ') objets.push(texteParPosition(sresultat[i], i * 0.6, 1, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    objets.push(segment(0, 2, (longueuroperandes + 1) * 0.6, 2))\n    if (decalage !== 0) {\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 4, 'milieu', 'black', 1.2, 'middle', false))\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 3, 'milieu', 'black', 1.2, 'middle', false))\n      objets.push(texteParPosition(',', 0.3 + 0.6 * (longueuroperandes - decalage), 1, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    code += mathalea2d({ xmin: -0.5, ymin: 0, xmax: longueuroperandes, ymax: 5, pixelsParCm: 20, scale: 0.8 }, objets)\n    return code\n  }\n  const MultiplicationPosee3d = function (operande1, operande2, base) {\n    let sop1; let sop2; const objets = []; let operandex; let lignesinutiles = 0\n\n    const produits = []; let strprod; const sommes = []\n    if (operande1 < operande2) {\n      operandex = operande1\n      operande1 = operande2\n      operande2 = operandex\n    }\n    let dec1, dec2\n    if (base ? base === 10 : true) {\n      dec1 = nombreDeChiffresApresLaVirgule(operande1)\n      dec2 = nombreDeChiffresApresLaVirgule(operande2)\n      operande1 = calcul(`${operande1}*10^${dec1}`)\n      operande2 = calcul(`${operande2}*10^${dec2}`)\n      sop1 = Number(operande1).toString()\n      sop2 = Number(operande2).toString()\n    } else {\n      dec1 = 0\n      dec2 = 0\n      sop1 = base10VersBaseN(operande1, base)\n      sop2 = base10VersBaseN(operande2, base)\n    }\n    let sresultat\n    const lop1 = sop1.length\n    const lop2 = sop2.length\n    const longueurtotale = lop1 + lop2 + 1\n    const retenues = []\n    for (let i = 0; i < sop2.length; i++) {\n      retenues.push('0')\n      produits.push('')\n      for (let k = 0; k < i; k++) {\n        retenues[i] = `${retenues[i]}0`\n        produits[i] = `${produits[i]}°`\n      }\n      if (sop2[lop2 - i - 1] !== '0') {\n        for (let j = 0; j < sop1.length; j++) {\n          if (base ? base === 10 : true) {\n            strprod = parseInt(sop1[lop1 - j - 1] * parseInt(sop2[lop2 - i - 1])) + parseInt(retenues[i][0])\n            retenues[i] = `${Number(Math.floor(strprod / 10)).toString()}${retenues[i]}`\n            produits[i] = `${Number(strprod % 10).toString()}${produits[i]}`\n          } else {\n            strprod = parseInt(sop1[lop1 - j - 1], base) * parseInt(sop2[lop2 - i - 1], base) + parseInt(retenues[i][0], base)\n            retenues[i] = `${Number(Math.floor(strprod / base)).toString()}${retenues[i]}`\n            produits[i] = `${Number(strprod % base).toString()}${produits[i]}`\n          }\n        }\n        produits[i] = `${retenues[i][0]}${produits[i]}`\n      } else {\n        for (let j = 0; j < sop1.length; j++) {\n          retenues[i] = `0${retenues[i]}`\n          produits[i] = `°${produits[i]}`\n        }\n      }\n    }\n\n    for (let i = lop2; i < longueurtotale; i++) {\n      sop2 = ` ${sop2}`\n    }\n    for (let i = lop1; i <= longueurtotale; i++) {\n      sop1 = ` ${sop1}`\n    }\n    for (let i = 0; i < lop2; i++) {\n      for (let j = retenues[i].length; j <= longueurtotale; j++) {\n        retenues[i] = `0${retenues[i]}`\n      }\n    }\n    let resultat\n    if (base ? base === 10 : true) {\n      resultat = calcul(`${operande1}*${operande2}`)\n    } else {\n      resultat = base10VersBaseN(operande1 * operande2, base)\n    }\n    sresultat = Number(resultat).toString()\n    const lresultat = sresultat.length\n    for (let i = 0; i < lop2; i++) {\n      for (let j = produits[i].length; j <= lresultat; j++) {\n        produits[i] = `0${produits[i]}`\n      }\n    }\n    retenues.push('0')\n    for (let i = 0; i < lresultat - 1; i++) {\n      sommes.push(0)\n      sommes[i] += parseInt(retenues[lop2][0])\n      for (let j = 0; j < lop2; j++) {\n        if (produits[j][lresultat - i] !== '0' && produits[j][lresultat - i] !== '°') {\n          sommes[i] += parseInt(produits[j][lresultat - i])\n        }\n      }\n      retenues[lop2] = `${Number(Math.floor(sommes[i] / 10)).toString()[0]}${retenues[lop2]}`\n    }\n    for (let i = 0; i < lop2; i++) {\n      produits[i] = cacherleszerosdevant(produits[i])\n      for (let j = produits[i].length; j <= longueurtotale; j++) {\n        produits[i] = ` ${produits[i]}`\n      }\n    }\n    sop2 = `×${sop2}`\n    for (let i = lresultat; i <= longueurtotale; i++) {\n      sresultat = ` ${sresultat}`\n    }\n    for (let i = retenues[lop2].length; i <= longueurtotale; i++) {\n      retenues[lop2] = `0${retenues[lop2]}`\n    }\n    for (let i = 0; i <= longueurtotale; i++) {\n      if (sop1[i] !== ' ') objets.push(texteParPosition(sop1[i], i * 0.6, 7, 'milieu', 'black', 1.2, 'middle', false))\n      if (sop2[i] !== ' ') objets.push(texteParPosition(sop2[i], i * 0.6, 6, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    if (dec1 !== 0) { objets.push(texteParPosition(',', 0.3 + (longueurtotale - dec1) * 0.6, 7, 'milieu', 'black', 1.2, 'middle', false)) }\n    if (dec2 !== 0) { objets.push(texteParPosition(',', 0.3 + (longueurtotale - dec2) * 0.6, 6, 'milieu', 'black', 1.2, 'middle', false)) }\n\n    for (let j = 0; j < lop2; j++) {\n      if (sop2[longueurtotale - j] !== '0') {\n        for (let i = 0; i <= longueurtotale; i++) {\n          if (produits[j][i] !== ' ' & produits[j][i] !== '°') objets.push(texteParPosition(produits[j][i], i * 0.6, 5 - j + lignesinutiles, 'milieu', 'black', 1.2, 'middle', false))\n          if (retenues[j][i] !== '0') objets.push(texteParPosition(retenues[j][i], i * 0.6, 5.5 - j + lignesinutiles, 'milieu', 'blue', 0.7, 'middle', false))\n        }\n      } else { lignesinutiles++ }\n    }\n\n    for (let i = 0; i <= longueurtotale; i++) {\n      if (retenues[lop2][i] !== '0') objets.push(texteParPosition(retenues[lop2][i], i * 0.6, 5.5 - lop2 + lignesinutiles, 'milieu', 'red', 0.7, 'middle', false))\n    }\n    objets.push(segment(0, 5.2 - lop2 + lignesinutiles, (longueurtotale + 1) * 0.6, 5.2 - lop2 + lignesinutiles))\n    objets.push(segment(0, 5.7, (longueurtotale + 1) * 0.6, 5.7))\n    for (let i = 0; i <= longueurtotale; i++) {\n      if (sresultat[i] !== ' ') objets.push(texteParPosition(sresultat[i], i * 0.6, 4.5 - lop2 + lignesinutiles, 'milieu', 'black', 1.2, 'middle', false))\n    }\n    if (dec1 + dec2 !== 0) { objets.push(texteParPosition(',', 0.3 + (longueurtotale - dec2 - dec1) * 0.6, 4.5 - lop2 + lignesinutiles, 'milieu', 'black', 1.2, 'middle', false)) }\n\n    const code = mathalea2d({ xmin: -0.5, ymin: 4 - lop2, xmax: longueurtotale + 2, ymax: 8, pixelsParCm: 20, scale: 0.8 }, objets)\n\n    return code\n  }\n\n  switch (type) {\n    case 'addition':\n      if (context.isHtml) { Code = AdditionPosee3d(operande1, operande2, base) } else { Code = `$\\\\opadd[decimalsepsymbol={,}]{${operande1}}{${operande2}}$` }\n\n      break\n    case 'soustraction':\n      if (context.isHtml) { Code = SoustractionPosee3d(operande1, operande2, base) } else { Code = `$\\\\opsub[carrysub,lastcarry,decimalsepsymbol={,}]{${operande1}}{${operande2}}$` }\n      break\n    case 'multiplication':\n      if (context.isHtml) { Code = MultiplicationPosee3d(operande1, operande2, base) } else { Code = `$\\\\opmul[displayshiftintermediary=all,decimalsepsymbol={,}]{${operande1}}{${operande2}}$` }\n      break\n    case 'division':\n      if (context.isHtml) { Code = DivisionPosee3d(operande1, operande2, precision) } else { Code = `$\\\\opdiv[displayintermediary=all,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${operande1}}{${operande2}}$` }\n      break\n    case 'divisionE':\n      if (context.isHtml) { Code = DivisionPosee3d(operande1, operande2, 0) } else { Code = `$\\\\opidiv{${operande1}}{${operande2}}$` }\n      break\n  }\n  return Code\n}\n"],"names":["Exercice","this","titre","boutonAide","consigne","consigneCorrection","introduction","listeQuestions","listeCorrections","contenu","contenuCorrection","autoCorrection","tableauSolutionsDuQcm","spacing","spacingCorr","pasDeVersionLatex","listePackages","consigneModifiable","nbQuestionsModifiable","nbCols","nbColsCorr","nbColsModifiable","nbColsCorrModifiable","spacingModifiable","spacingCorrModifiable","beamer","tailleDiaporama","nbQuestions","pointsParQuestions","correctionDetailleeDisponible","correctionDetaillee","correctionIsCachee","video","interactif","interactifObligatoire","besoinFormulaireNumerique","besoinFormulaireTexte","besoinFormulaireCaseACocher","besoinFormulaire2Numerique","besoinFormulaire2Texte","besoinFormulaire2CaseACocher","besoinFormulaire3Numerique","besoinFormulaire3Texte","besoinFormulaire3CaseACocher","besoinFormulaire4Numerique","besoinFormulaire4Texte","besoinFormulaire4CaseACocher","mg32Editable","listeArguments","nouvelleVersion","numeroExercice","questionJamaisPosee","i","args","argsConcatenes","arg","undefined","toString","indexOf","push","math","format","Operation","operande1","operande2","type","precision","base","Code","nombreDeChiffresApresLaVirgule","x","s","Number","pe","Math","floor","length","cacherleszerosdevant","chaine","blancs","substr","DivisionPosee3d","divid","divis","objets","zeroutile","min","calcul","decalage","dec1","dec2","notation","lowerExp","upperExp","ecriresoustraction","upos","P","texteParPosition","k","ecrirereste","R","segment","ecrirequotient","Q","n","divd","dividende","diviseur","log10","ordreDeGrandeur","m","parseInt","z","mathalea2d","xmin","ymin","xmax","ymax","pixelsParCm","scale","context","code","sop1","sop2","sresultat","resultat","lresultat","base10VersBaseN","max","lop1","lop2","longueuroperandes","retenues","j","AdditionPosee3d","charAt","offsetCarry","SoustractionPosee3d","operandex","lignesinutiles","produits","strprod","sommes","longueurtotale","MultiplicationPosee3d"],"sourceRoot":""}