/*! For license information please see mathalea2d.e485d2bf7e9ab3e034ee.js.LICENSE.txt */
(()=>{var __webpack_modules__={77269:e=>{e.exports=function(){var e,t=["navigation","request","process","log","user","state","error","manual"],r=function(e,t,r){for(var n=r,i=0,o=e.length;i<o;i++)n=t(n,e[i],i,e);return n},n=function(e,t){return r(e,(function(e,r,n,i){return t(r,n,i)?e.concat(r):e}),[])},i=function(e,t){return r(e,(function(e,r,n,i){return!0===e||r===t}),!1)},o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);if(!a)return r;for(var n=0,i=s.length;n<i;n++)Object.prototype.hasOwnProperty.call(e,s[n])&&r.push(s[n]);return r},u=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(r){return"number"==typeof r&&parseInt(""+r,10)===r&&r>=e&&r<=t}},c=function(e){return"function"==typeof e||o(e)&&n(e,(function(e){return"function"==typeof e})).length===e.length},p=function(e){return"string"==typeof e&&!!e.length},h={},f=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};h.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:p},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||p(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||p(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return f()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=l(e),r=l(f());return!(n(t,(function(e){return i(r,e)})).length<t.length||n(l(e),(function(t){return"boolean"!=typeof e[t]})).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&p(e.notify)&&p(e.sessions)&&0===n(l(e),(function(e){return!i(["notify","sessions"],e)})).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||o(e)&&n(e,(function(e){return"string"==typeof e})).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return u(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(",")+")",validate:function(e){return null===e||o(e)&&r(e,(function(e,r){return!1===e?e:i(t,r)}),!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&r(l(e),(function(e,t){return e&&i(["id","email","name"],t)}),!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&r(["debug","info","warn","error"],(function(t,r){return t&&"function"==typeof e[r]}),!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return o(e)&&e.length===n(e,(function(e){return"string"==typeof e||e&&"function"==typeof e.test})).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return o(e)&&e.length===n(e,(function(e){return e&&"object"==typeof e&&"function"==typeof e.load})).length}}};var d=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m=function(e,t){return r(e,(function(e,r,n,i){return e.concat(t(r,n,i))}),[])},g=h.schema,y={releaseStage:d({},g.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),logger:d({},g.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?v():void 0}})},v=function(){var e={},t=console.log;return m(["debug","info","warn","error"],(function(r){var n=console[r];e[r]="function"==typeof n?n.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")})),e},x=function(){function e(e,t,r,n){void 0===n&&(n=new Date),this.type=r,this.message=e,this.metadata=t,this.timestamp=n}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),b={};!function(t,r){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],r):"object"==typeof b?b=r():t.StackFrame=r()}(this,(function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=["args"],s=n.concat(i,o,a);function l(e){if(e instanceof Object)for(var r=0;r<s.length;r++)e.hasOwnProperty(s[r])&&void 0!==e[s[r]]&&this["set"+t(s[r])](e[s[r]])}l.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof l)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new l(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<n.length;u++)l.prototype["get"+t(n[u])]=r(n[u]),l.prototype["set"+t(n[u])]=function(e){return function(t){this[e]=Boolean(t)}}(n[u]);for(var c=0;c<i.length;c++)l.prototype["get"+t(i[c])]=r(i[c]),l.prototype["set"+t(i[c])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(i[c]);for(var p=0;p<o.length;p++)l.prototype["get"+t(o[p])]=r(o[p]),l.prototype["set"+t(o[p])]=function(e){return function(t){this[e]=String(t)}}(o[p]);return l}));var _={};!function(t,r){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],r):"object"==typeof _?_=r(b):t.ErrorStackParser=r(t.StackFrame)}(this,(function(e){"use strict";var t=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=r.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(r=n?r.replace(n[0],""):r).split(/\s+/).slice(1),o=this.extractLocation(n?n[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(r=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}}));var w=_,E=function(e){return!(!e||!e.stack&&!e.stacktrace&&!e["opera#sourceloc"]||"string"!=typeof(e.stack||e.stacktrace||e["opera#sourceloc"])||e.stack===e.name+": "+e.message)};function M(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}var S=M,N=function(e,t,r,n){var i;if(t){var o;if(null===r)return k(e,t);"object"==typeof r&&(o=r),"string"==typeof r&&((i={})[r]=n,o=i),o&&(e[t]||(e[t]={}),e[t]=d({},e[t],o))}},k=function(e,t,r){"string"==typeof t&&(r?e[t]&&delete e[t][r]:delete e[t])},A={add:N,get:function(e,t,r){if("string"==typeof t)return r?e[t]?e[t][r]:void 0:e[t]},clear:k},T={};!function(t,r){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],r):"object"==typeof T?T=r(b):t.StackGenerator=r(t.StackFrame)}(this,(function(e){return{backtrace:function(t){var r=[],n=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(n=t.maxStackSize);for(var i=arguments.callee;i&&r.length<n&&i.arguments;){for(var o=new Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:o})):r.push(new e({args:o}));try{i=i.caller}catch(s){break}}return r}}}));var O=function(){function e(t,n,i,o,a){void 0===i&&(i=[]),void 0===o&&(o=R()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=a,this._handledState=o,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._user={},this._session=void 0,this.errors=[{errorClass:D(t),errorMessage:D(n),type:e.__type,stacktrace:r(i,(function(e,t){var r=C(t);try{return"{}"===JSON.stringify(r)?e:e.concat(r)}catch(n){return e}}),[])}]}var t=e.prototype;return t.addMetadata=function(e,t,r){return A.add(this._metadata,e,t,r)},t.getMetadata=function(e,t){return A.get(this._metadata,e,t)},t.clearMetadata=function(e,t){return A.clear(this._metadata,e,t)},t.getUser=function(){return this._user},t.setUser=function(e,t,r){this._user={id:e,email:t,name:r}},t.toJSON=function(){return{payloadVersion:"4",exceptions:m(this.errors,(function(e){return d({},e,{message:e.errorMessage})})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session}},e}(),C=function(e){var t={file:e.fileName,method:I(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},I=function(e){return/^global code$/i.test(e)?"global code":e},R=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},D=function(e){return"string"==typeof e?e:""};O.getStacktrace=function(e,t,r){if(E(e))return w.parse(e).slice(t);try{return n(T.backtrace(),(function(e){return-1===(e.functionName||"").indexOf("StackGenerator$$")})).slice(1+r)}catch(i){return[]}},O.create=function(e,t,r,n,i,o){void 0===i&&(i=0);var a,s=q(e,t,n,o),l=s[0],u=s[1];try{var c=O.getStacktrace(l,u>0?1+u+i:0,1+i);a=new O(l.name,l.message,c,r,e)}catch(p){a=new O(l.name,l.message,[],r,e)}return"InvalidError"===l.name&&a.addMetadata(""+n,"non-error parameter",L(e)),a};var L=function(e){return null===e?"null":void 0===e?"undefined":e},q=function(e,t,r,n){var i,o=0,a=function(e){n&&n.warn(r+' received a non-error: "'+e+'"');var t=new Error(r+' received a non-error. See "'+r+'" tab for more detail.');return t.name="InvalidError",t};if(t)switch(typeof e){case"string":case"number":case"boolean":i=new Error(String(e)),o+=1;break;case"function":i=a("function"),o+=2;break;case"object":null!==e&&S(e)?i=e:null!==e&&B(e)?((i=new Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=1):(i=a(null===e?"null":"unsupported object"),o+=2);break;default:i=a("nothing"),o+=2}else S(e)?i=e:(i=a(typeof e),o+=2);if(!E(i))try{throw i}catch(s){E(s)&&(i=s,o=1)}return[i,o]};O.__type="browserjs";var B=function(e){return!("string"!=typeof e.name&&"string"!=typeof e.errorClass||"string"!=typeof e.message&&"string"!=typeof e.errorMessage)},P=O,z=function(e,t,r){var n=0,i=function(){if(n>=e.length)return r(null,!0);t(e[n],(function(e,t){return e?r(e):!1===t?r(null,!1):(n++,void i())}))};i()},U=function(e,t,r,n){z(e,(function(e,n){if("function"!=typeof e)return n(null);try{if(2!==e.length){var i=e(t);return i&&"function"==typeof i.then?i.then((function(e){return setTimeout((function(){return n(null,e)}))}),(function(e){setTimeout((function(){return r(e),n(null,!0)}))})):n(null,i)}e(t,(function(e,t){if(e)return r(e),n(null);n(null,t)}))}catch(o){r(o),n(null)}}),n)},$=function(e,t,r,n){for(var i=!1,o=e.slice();!i&&o.length;)try{i=!1===o.pop()(t)}catch(a){n.error("Error occurred in "+r+" callback, continuing anyway…"),n.error(a)}return i},F=function(e,t){var r="000000000"+e;return r.substr(r.length-t)},G="object"==typeof window?window:self,V=0;for(var H in G)Object.hasOwnProperty.call(G,H)&&V++;var j=navigator.mimeTypes?navigator.mimeTypes.length:0,W=F((j+navigator.userAgent.length).toString(36)+V.toString(36),4),X=function(){return W},Y=0,Z=4,J=36,K=Math.pow(J,Z);function Q(){return F((Math.random()*K<<0).toString(J),Z)}function ee(){return Y=Y<K?Y:0,++Y-1}function te(){return"c"+(new Date).getTime().toString(J)+F(ee().toString(J),Z)+X()+(Q()+Q())}te.fingerprint=X;var re=te,ne=function(){function e(){this.id=re(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,r){this._user={id:e,email:t,name:r}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),ie=function(){},oe=function(){function e(t,r,n,i){var o=this;void 0===r&&(r=h.schema),void 0===n&&(n=[]),this._notifier=i,this._config={},this._schema=r,this._delivery={sendSession:ie,sendEvent:ie},this._logger={debug:ie,info:ie,warn:ie,error:ie},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=P,this.Breadcrumb=x,this.Session=ne,this._config=this._configure(t,n),m(n.concat(this._config.plugins),(function(e){e&&o._loadPlugin(e)})),this._depth=1;var a=this,s=this.notify;this.notify=function(){return s.apply(a,arguments)}}var o=e.prototype;return o.addMetadata=function(e,t,r){return A.add(this._metadata,e,t,r)},o.getMetadata=function(e,t){return A.get(this._metadata,e,t)},o.clearMetadata=function(e,t){return A.clear(this._metadata,e,t)},o.getContext=function(){return this._context},o.setContext=function(e){this._context=e},o._configure=function(e,t){var n=r(t,(function(e,t){return t&&t.configSchema?d({},e,t.configSchema):e}),this._schema),i=r(l(n),(function(t,r){var i=n[r].defaultValue(e[r]);return void 0!==e[r]?n[r].validate(e[r])?n[r].allowPartialObject?t.config[r]=d(i,e[r]):t.config[r]=e[r]:(t.errors[r]=n[r].message,t.config[r]=i):t.config[r]=i,t}),{errors:{},config:{}}),o=i.errors,a=i.config;if(n.apiKey){if(!a.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(a.apiKey)||(o.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=d({},a.metadata),this._user=d({},a.user),this._context=a.context,a.logger&&(this._logger=a.logger),a.onError&&(this._cbs.e=this._cbs.e.concat(a.onError)),a.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(a.onBreadcrumb)),a.onSession&&(this._cbs.s=this._cbs.s.concat(a.onSession)),l(o).length&&this._logger.warn(ae(o,e)),a},o.getUser=function(){return this._user},o.setUser=function(e,t,r){this._user={id:e,email:t,name:r}},o._loadPlugin=function(e){var t=e.load(this);return e.name&&(this._plugins["~"+e.name+"~"]=t),this},o.getPlugin=function(e){return this._plugins["~"+e+"~"]},o._setDelivery=function(e){this._delivery=e(this)},o.startSession=function(){var e=new ne;return e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=d({},this._user),$(this._cbs.s,e,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},o.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},o.removeOnError=function(e){this._cbs.e=n(this._cbs.e,(function(t){return t!==e}))},o._addOnSessionPayload=function(e){this._cbs.sp.push(e)},o.addOnSession=function(e){this._cbs.s.push(e)},o.removeOnSession=function(e){this._cbs.s=n(this._cbs.s,(function(t){return t!==e}))},o.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},o.removeOnBreadcrumb=function(e){this._cbs.b=n(this._cbs.b,(function(t){return t!==e}))},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(e,r,n){if(e="string"==typeof e?e:"",n="string"==typeof n&&i(t,n)?n:"manual",r="object"==typeof r&&null!==r?r:{},e){var o=new x(e,r,n);$(this._cbs.b,o,"onBreadcrumb",this._logger)?this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback"):(this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs)))}},o.notify=function(e,t,r){void 0===r&&(r=ie);var n=P.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(n,t,r)},o._notify=function(t,r,n){var o=this;if(void 0===n&&(n=ie),t.app=d({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=d({},t._metadata,this._metadata),t._user=d({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),null!==this._config.enabledReleaseStages&&!i(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),n(null,t);var a=t.severity,s=function(e){o._logger.error("Error occurred in onError callback, continuing anyway…"),o._logger.error(e)},l=[].concat(this._cbs.e).concat(r);U(l,t,s,(function(r,l){if(r&&s(r),!l)return o._logger.debug("Event not sent due to onError callback"),n(null,t);i(o._config.enabledBreadcrumbTypes,"error")&&e.prototype.leaveBreadcrumb.call(o,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),a!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),o._session&&(o._session._track(t),t._session=o._session),o._delivery.sendEvent({apiKey:t.apiKey||o._config.apiKey,notifier:o._notifier,events:[t]},(function(e){return n(e,t)}))}))},e}(),ae=function(e,t){return new Error("Invalid configuration\n"+m(l(e),(function(r){return"  - "+r+" "+e[r]+", got "+se(t[r])})).join("\n\n"))},se=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},le=oe,ue=function(e,t,r,n){var i=n&&n.redactedKeys?n.redactedKeys:[],o=n&&n.redactedPaths?n.redactedPaths:[];return JSON.stringify(_e(e,i,o),t,r)},ce=20,pe=25e3,he=8,fe="...";function de(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function me(e){return"[Throws: "+(e?e.message:"?")+"]"}function ge(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return!0;return!1}function ye(e,t){for(var r=0,n=e.length;r<n;r++)if(0===t.indexOf(e[r]))return!0;return!1}function ve(e,t){for(var r=0,n=e.length;r<n;r++){if("string"==typeof e[r]&&e[r].toLowerCase()===t.toLowerCase())return!0;if(e[r]&&"function"==typeof e[r].test&&e[r].test(t))return!0}return!1}function xe(e){return"[object Array]"===Object.prototype.toString.call(e)}function be(e,t){try{return e[t]}catch(r){return me(r)}}function _e(e,t,r){var n=[],i=0;function o(e,a){function s(){return a.length>he&&i>pe}if(i++,a.length>ce)return fe;if(s())return fe;if(null===e||"object"!=typeof e)return e;if(ge(n,e))return"[Circular]";if(n.push(e),"function"==typeof e.toJSON)try{i--;var l=o(e.toJSON(),a);return n.pop(),l}catch(m){return me(m)}if(de(e)){i--;var u=o({name:e.name,message:e.message},a);return n.pop(),u}if(xe(e)){for(var c=[],p=0,h=e.length;p<h;p++){if(s()){c.push(fe);break}c.push(o(e[p],a.concat("[]")))}return n.pop(),c}var f={};try{for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d))if(ye(r,a.join("."))&&ve(t,d))f[d]="[REDACTED]";else{if(s()){f[d]=fe;break}f[d]=o(be(e,d),a.concat(d))}}catch(g){}return n.pop(),f}return o(e,[])}var we={},Ee=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];we.event=function(e,t){var r=ue(e,null,null,{redactedPaths:Ee,redactedKeys:t});if(r.length>1e6&&(e.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+r.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},(r=ue(e,null,null,{redactedPaths:Ee,redactedKeys:t})).length>1e6))throw new Error("payload exceeded 1MB limit");return r},we.session=function(e,t){var r=ue(e,null,null);if(r.length>1e6)throw new Error("payload exceeded 1MB limit");return r};var Me={};Me=function(e,t){return void 0===t&&(t=window),{sendEvent:function(r,n){void 0===n&&(n=function(){});var i=Se(e._config,"notify","4",t),o=new t.XDomainRequest;o.onload=function(){n(null)},o.open("POST",i),setTimeout((function(){try{o.send(we.event(r,e._config.redactedKeys))}catch(t){e._logger.error(t),n(t)}}),0)},sendSession:function(r,n){void 0===n&&(n=function(){});var i=Se(e._config,"sessions","1",t),o=new t.XDomainRequest;o.onload=function(){n(null)},o.open("POST",i),setTimeout((function(){try{o.send(we.session(r,e._config.redactedKeys))}catch(t){e._logger.error(t),n(t)}}),0)}}};var Se=function(e,t,r,n){var i=JSON.parse(JSON.stringify(new Date));return Ne(e.endpoints[t],n.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+r+"&sentAt="+encodeURIComponent(i)},Ne=Me._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},ke=function(e,t){return void 0===t&&(t=window),{sendEvent:function(r,n){void 0===n&&(n=function(){});try{var i=e._config.endpoints.notify,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&n(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",r.apiKey||e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(we.event(r,e._config.redactedKeys))}catch(a){e._logger.error(a)}},sendSession:function(r,n){void 0===n&&(n=function(){});try{var i=e._config.endpoints.sessions,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&n(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(we.session(r,e._config.redactedKeys))}catch(a){e._logger.error(a)}}}},Ae=new Date,Te=function(){Ae=new Date},Oe={name:"appDuration",load:function(e){return e.addOnError((function(e){var t=new Date;e.app.duration=t-Ae}),!0),{reset:Te}}},Ce=function(e){return void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){void 0===t.context&&(t.context=e.location.pathname)}),!0)}}},Ie=function(e,t){var r="000000000"+e;return r.substr(r.length-t)},Re="object"==typeof window?window:self,De=0;for(var Le in Re)Object.hasOwnProperty.call(Re,Le)&&De++;var qe=navigator.mimeTypes?navigator.mimeTypes.length:0,Be=Ie((qe+navigator.userAgent.length).toString(36)+De.toString(36),4),Pe=function(){return Be},ze=0,Ue=4,$e=36,Fe=Math.pow($e,Ue);function Ge(){return Ie((Math.random()*Fe<<0).toString($e),Ue)}function Ve(){return ze=ze<Fe?ze:0,++ze-1}function He(){return"c"+(new Date).getTime().toString($e)+Ie(Ve().toString($e),Ue)+Pe()+(Ge()+Ge())}He.fingerprint=Pe;var je=He,We="bugsnag-anonymous-id",Xe=function(){try{var e=window.localStorage,t=e.getItem(We);return t&&/^c[a-z0-9]{20,32}$/.test(t)||(t=je(),e.setItem(We,t)),t}catch(r){}},Ye=function(e,t){return void 0===e&&(e=navigator),void 0===t&&(t=window.screen),{load:function(r){var n={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};t&&t.orientation&&t.orientation.type?n.orientation=t.orientation.type:n.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?"landscape":"portrait",r._config.generateAnonymousId&&(n.id=Xe()),r.addOnSession((function(e){e.device=d({},e.device,n)})),r.addOnError((function(e){e.device=d({},e.device,n,{time:new Date})}),!0)},configSchema:{generateAnonymousId:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}},Ze=function(e){return void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){t.request&&t.request.url||(t.request=d({},t.request,{url:e.location.href}))}),!0)}}},Je={load:function(e){e._sessionDelegate=Ke}},Ke={startSession:function(e,t){var r=e;return r._session=t,r._pausedSession=null,null===r._config.enabledReleaseStages||i(r._config.enabledReleaseStages,r._config.releaseStage)?(r._delivery.sendSession({notifier:r._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),r):(r._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),r)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},Qe={load:function(e){e._config.collectUserIp||e.addOnError((function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=d({id:"[REDACTED]"},e._user),e.request=d({clientIp:"[REDACTED]"},e.request)}))},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},et={load:function(e){var t=/^dev(elopment)?$/.test(e._config.releaseStage);e._config.enabledBreadcrumbTypes&&i(e._config.enabledBreadcrumbTypes,"log")&&!t&&m(tt,(function(t){var n=console[t];console[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.leaveBreadcrumb("Console output",r(o,(function(e,t,r){var n="[Unknown value]";try{n=String(t)}catch(i){}if("[object Object]"===n)try{n=JSON.stringify(t)}catch(i){}return e["["+r+"]"]=n,e}),{severity:0===t.indexOf("group")?"log":t}),"log"),n.apply(console,o)},console[t]._restore=function(){console[t]=n}}))}},tt=n(["log","debug","info","warn","error"],(function(e){return"undefined"!=typeof console&&"function"==typeof console[e]})),rt=200,nt=5e5,it=function(e,t){return void 0===e&&(e=document),void 0===t&&(t=window),{load:function(i){if(i._config.trackInlineScripts){var o=t.location.href,a="",s=e.attachEvent?"complete"===e.readyState:"loading"!==e.readyState,l=function(){return e.documentElement.outerHTML};a=l();var u=e.onreadystatechange;e.onreadystatechange=function(){"interactive"===e.readyState&&(a=l(),s=!0);try{u.apply(this,arguments)}catch(t){}};var c=null,p=function(e){c=e},h=function(){var t=e.currentScript||c;if(!t&&!s){var r=e.scripts||e.getElementsByTagName("script");t=r[r.length-1]}return t},f=function(e){s&&a||(a=l());var t=["\x3c!-- DOC START --\x3e"].concat(a.split("\n")),n=e-1,i=Math.max(n-3,0),o=Math.min(n+3,t.length);return r(t.slice(i,o),(function(e,t,r){return e[i+1+r]=t.length<=rt?t:t.substr(0,rt),e}),{})};i.addOnError((function(e){e.errors[0].stacktrace=n(e.errors[0].stacktrace,(function(e){return!/__trace__$/.test(e.method)}));var t=e.errors[0].stacktrace[0];if(!t||!t.file||t.file.replace(/#.*$/,"")===o.replace(/#.*$/,"")){var r=h();if(r){var i=r.innerHTML;e.addMetadata("script","content",i.length<=nt?i:i.substr(0,nt)),t&&t.lineNumber&&(t.code=f(t.lineNumber))}}}),!0);var d=m(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],(function(e){return ot(t,e,(function(e){return g(e,(function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}}))}))}))[0];m(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],(function(e){t[e]&&t[e].prototype&&Object.prototype.hasOwnProperty.call(t[e].prototype,"addEventListener")&&(ot(t[e].prototype,"addEventListener",(function(e){return g(e,at)})),ot(t[e].prototype,"removeEventListener",(function(e){return g(e,at,!0)})))}))}function g(e,t,r){return void 0===r&&(r=!1),function(){var n=[].slice.call(arguments);try{var i=t(n),o=i.get();if(r&&e.apply(this,n),"function"!=typeof o)return e.apply(this,n);if(o.__trace__)i.replace(o.__trace__);else{var a=h();o.__trace__=function(){p(a),d((function(){p(null)}),0);var e=o.apply(this,arguments);return p(null),e},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(s){}if(e.apply)return e.apply(this,n);switch(n.length){case 1:return e(n[0]);case 2:return e(n[0],n[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}};function ot(e,t,r){var n=e[t];if(!n)return n;var i=r(n);return e[t]=i,n}function at(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(r){t?e[1].handleEvent=r:e[1]=r}}}var st=function(e){return void 0===e&&(e=window),{load:function(t){"addEventListener"in e&&t._config.enabledBreadcrumbTypes&&i(t._config.enabledBreadcrumbTypes,"user")&&e.addEventListener("click",(function(r){var n,i;try{n=lt(r.target),i=ut(r.target,e)}catch(o){n="[hidden]",i="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:n,targetSelector:i},"user")}),!0)}}},lt=function(e){var t=e.textContent||e.innerText||"";return t||"submit"!==e.type&&"button"!==e.type||(t=e.value),ct(t=t.replace(/^\s+|\s+$/g,""),140)};function ut(e,t){var r=[e.tagName];if(e.id&&r.push("#"+e.id),e.className&&e.className.length&&r.push("."+e.className.split(" ").join(".")),!t.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===t.document.querySelectorAll(r.join("")).length)return r.join("")}catch(i){return r.join("")}if(e.parentNode.childNodes.length>1){var n=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;r.push(":nth-child("+n+")")}return 1===t.document.querySelectorAll(r.join("")).length?r.join(""):e.parentNode?ut(e.parentNode,t)+" > "+r.join(""):r.join("")}function ct(e,t){var r="(...)";return e&&e.length<=t?e:e.slice(0,t-r.length)+r}var pt={};pt=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._config.enabledBreadcrumbTypes&&i(t._config.enabledBreadcrumbTypes,"navigation")){var r=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",r("Page hidden"),!0),e.addEventListener("pageshow",r("Page shown"),!0),e.addEventListener("load",r("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",r("DOMContentLoaded"),!0),e.addEventListener("load",(function(){return e.addEventListener("popstate",r("Navigated back"),!0)})),e.addEventListener("hashchange",(function(r){var n=r.oldURL?{from:ht(r.oldURL,e),to:ht(r.newURL,e),state:mt(e)}:{to:ht(e.location.href,e)};t.leaveBreadcrumb("Hash changed",n,"navigation")}),!0),e.history.replaceState&&dt(t,e.history,"replaceState",e),e.history.pushState&&dt(t,e.history,"pushState",e),t.leaveBreadcrumb("Bugsnag loaded",{},"navigation")}}}};var ht=function(e,t){var r=t.document.createElement("A");return r.href=e,""+r.pathname+r.search+r.hash},ft=function(e,t,r,n){var i=ht(e.location.href,e);return{title:r,state:t,prevState:mt(e),to:n||i,from:i}},dt=function(e,t,r,n){var i=t[r];t[r]=function(o,a,s){e.leaveBreadcrumb("History "+r,ft(n,o,a,s),"navigation"),"function"==typeof e.resetEventCount&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),i.apply(t,[o,a].concat(void 0!==s?s:[]))}},mt=function(e){try{return e.history.state}catch(t){}},gt="request",yt="BS~~S",vt="BS~~U",xt="BS~~M",bt=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=window),{load:function(r){if(r._config.enabledBreadcrumbTypes&&i(r._config.enabledBreadcrumbTypes,"request")){var n=[r._config.endpoints.notify,r._config.endpoints.sessions].concat(e);s(),c();var o=function(e,t,n){var i={status:e.status,request:t+" "+n};e.status>=400?r.leaveBreadcrumb("fetch() failed",i,gt):r.leaveBreadcrumb("fetch() succeeded",i,gt)},a=function(e,t){r.leaveBreadcrumb("fetch() error",{request:e+" "+t},gt)}}function s(){if("addEventListener"in t.XMLHttpRequest.prototype){var e=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(t,r){this[vt]=r,this[xt]=t,this[yt]&&(this.removeEventListener("load",l),this.removeEventListener("error",u)),this.addEventListener("load",l),this.addEventListener("error",u),this[yt]=!0,e.apply(this,arguments)}}}function l(){if(!i(n,this[vt])){var e={status:this.status,request:this[xt]+" "+this[vt]};this.status>=400?r.leaveBreadcrumb("XMLHttpRequest failed",e,gt):r.leaveBreadcrumb("XMLHttpRequest succeeded",e,gt)}}function u(){i(n,this[vt])||r.leaveBreadcrumb("XMLHttpRequest error",{request:this[xt]+" "+this[vt]},gt)}function c(){if("fetch"in t&&!t.fetch.polyfill){var e=t.fetch;t.fetch=function(){var t,r=arguments,n=arguments[0],i=arguments[1],s=null;return n&&"object"==typeof n?(s=n.url,i&&"method"in i?t=i.method:n&&"method"in n&&(t=n.method)):(s=n,i&&"method"in i&&(t=i.method)),void 0===t&&(t="GET"),new Promise((function(n,i){e.apply(void 0,r).then((function(e){o(e,t,s),n(e)})).catch((function(e){a(t,s),i(e)}))}))}}}}}},_t={load:function(e){var t=0;e.addOnError((function(r){if(t>=e._config.maxEvents)return!1;t++})),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return u(1,100)(e)}}}},wt={},Et=(wt={load:function(e){e.addOnError((function(e){var t=r(e.errors,(function(e,t){return e.concat(t.stacktrace)}),[]);m(t,(function(e){e.file=Et(e.file)}))}))}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},Mt=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledExceptions){var r=e.onerror;e.onerror=n}function n(e,n,i,o,a){if(0===i&&/Script error\.?/.test(e))t._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var s,l={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(a)s=t.Event.create(a,!0,l,"window onerror",1),St(s.errors[0].stacktrace,n,i,o);else if("object"!=typeof e||null===e||n&&"string"==typeof n||i||o||a)s=t.Event.create(e,!0,l,"window onerror",1),St(s.errors[0].stacktrace,n,i,o);else{var u=e.type?"Event: "+e.type:"Error",c=e.message||e.detail||"";(s=t.Event.create({name:u,message:c},!0,l,"window onerror",1)).originalError=e,s.addMetadata("window onerror",{event:e,extraParameters:n})}t._notify(s)}"function"==typeof r&&r.apply(this,arguments)}}}},St=function(e,t,r,n){e[0]||e.push({});var i=e[0];i.file||"string"!=typeof t||(i.file=t),!i.lineNumber&&Nt(r)&&(i.lineNumber=r),i.columnNumber||(Nt(n)?i.columnNumber=n:window.event&&Nt(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},Nt=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},kt=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledRejections){var r=function(e){var r=e.reason,n=!1;try{e.detail&&e.detail.reason&&(r=e.detail.reason,n=!0)}catch(o){}var i=t.Event.create(r,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,t._logger);n&&m(i.errors[0].stacktrace,At(r)),t._notify(i,(function(e){var t;S(e.originalError)&&!e.originalError.stack&&e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}))};"addEventListener"in e?e.addEventListener("unhandledrejection",r):e.onunhandledrejection=function(e,t){r({detail:{reason:e,promise:t}})}}}}},At=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},Tt={},Ot="Bugsnag JavaScript",Ct="7.9.2",It="https://github.com/bugsnag/bugsnag-js",Rt=d({},h.schema,y),Dt={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t=[Oe,Ye(),Ce(),Ze(),_t,Je,Qe,wt,Mt(),kt(),pt(),st(),bt(),et,it()],r=new le(e,Rt,t,{name:Ot,version:Ct,url:It});return r._setDelivery(window.XDomainRequest?Me:ke),r._logger.debug("Loaded!"),r._config.autoTrackSessions?r.startSession():r},start:function(e){return Dt._client?(Dt._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Dt._client):(Dt._client=Dt.createClient(e),Dt._client)}};return m(["resetEventCount"].concat(l(le.prototype)),(function(e){/^_/.test(e)||(Dt[e]=function(){if(!Dt._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");Dt._client._depth+=1;var t=Dt._client[e].apply(Dt._client,arguments);return Dt._client._depth-=1,t})})),(Tt=Dt).Client=le,Tt.Event=P,Tt.Session=ne,Tt.Breadcrumb=x,Tt.default=Dt,Tt}()},68981:(e,t,r)=>{e.exports=r(77269)},13786:function(__unused_webpack_module,exports,__webpack_require__){(function(){var $,ABS,ADD,ADJ,AND,APPROXRATIO,ARCCOS,ARCCOSH,ARCSIN,ARCSINH,ARCTAN,ARCTANH,ARG,ASSUME_REAL_VARIABLES,ATOMIZE,AUTOEXPAND,BAKE,BESSELJ,BESSELY,BINDING,BINOMIAL,BINOM_check_args,BUF,C1,C2,C3,C4,C5,C6,CEILING,CHECK,CHOOSE,CIRCEXP,CLEAR,CLEARALL,CLEARPATTERNS,CLOCK,COEFF,COFACTOR,CONDENSE,CONJ,CONS,CONTRACT,COS,COSH,Condense,DEBUG,DEBUG_ABS,DEBUG_ARG,DEBUG_CLOCKFORM,DEBUG_IMAG,DEBUG_IS,DEBUG_MULTIPLY,DEBUG_POWER,DEBUG_RATIONALIZE,DEBUG_RECT,DEBUG_SIMPLIFY,DECOMP,DEFINT,DEGREE,DENOMINATOR,DERIVATIVE,DET,DET_check_arg,DIM,DIRAC,DIVISORS,DO,DOT,DOUBLE,DRAW,DRAWX,DSOLVE,E,EIGEN,EIGENVAL,EIGENVEC,EIG_N,EIG_check_arg,EIG_yydd,EIG_yyqq,ERF,ERFC,EVAL,EXP,EXPAND,EXPCOS,EXPSIN,Eval,Eval_Eval,Eval_abs,Eval_add,Eval_adj,Eval_and,Eval_approxratio,Eval_arccos,Eval_arccosh,Eval_arcsin,Eval_arcsinh,Eval_arctan,Eval_arctanh,Eval_arg,Eval_besselj,Eval_bessely,Eval_binding,Eval_binomial,Eval_ceiling,Eval_check,Eval_choose,Eval_circexp,Eval_clear,Eval_clearall,Eval_clearpatterns,Eval_clock,Eval_coeff,Eval_cofactor,Eval_condense,Eval_conj,Eval_cons,Eval_contract,Eval_cos,Eval_cosh,Eval_decomp,Eval_defint,Eval_degree,Eval_denominator,Eval_derivative,Eval_det,Eval_dim,Eval_dirac,Eval_divisors,Eval_do,Eval_dsolve,Eval_eigen,Eval_eigenval,Eval_eigenvec,Eval_erf,Eval_erfc,Eval_exp,Eval_expand,Eval_expcos,Eval_expsin,Eval_factor,Eval_factorial,Eval_factorpoly,Eval_filter,Eval_float,Eval_floor,Eval_for,Eval_function_reference,Eval_gamma,Eval_gcd,Eval_hermite,Eval_hilbert,Eval_imag,Eval_index,Eval_inner,Eval_integral,Eval_inv,Eval_invg,Eval_isinteger,Eval_isprime,Eval_laguerre,Eval_lcm,Eval_leading,Eval_legendre,Eval_log,Eval_lookup,Eval_mod,Eval_multiply,Eval_noexpand,Eval_not,Eval_nroots,Eval_number,Eval_numerator,Eval_operator,Eval_or,Eval_outer,Eval_pattern,Eval_patternsinfo,Eval_polar,Eval_power,Eval_predicate,Eval_prime,Eval_print,Eval_print2dascii,Eval_printcomputer,Eval_printhuman,Eval_printlatex,Eval_printlist,Eval_product,Eval_quote,Eval_quotient,Eval_rank,Eval_rationalize,Eval_real,Eval_rect,Eval_roots,Eval_round,Eval_setq,Eval_sgn,Eval_shape,Eval_silentpattern,Eval_simfac,Eval_simplify,Eval_sin,Eval_sinh,Eval_sqrt,Eval_stop,Eval_subst,Eval_sum,Eval_sym,Eval_symbolsinfo,Eval_tan,Eval_tanh,Eval_taylor,Eval_tensor,Eval_test,Eval_testeq,Eval_testge,Eval_testgt,Eval_testle,Eval_testlt,Eval_transpose,Eval_unit,Eval_user_function,Eval_zero,Evalpoly,FACTOR,FACTORIAL,FACTORPOLY,FILTER,FLOATF,FLOOR,FOR,FORCE_FIXED_PRINTOUT,FUNCTION,Find,GAMMA,GCD,HERMITE,HILBERT,IMAG,INDEX,INNER,INTEGRAL,INV,INVG,INV_check_arg,INV_decomp,ISINTEGER,ISPRIME,LAGUERRE,LAST,LAST_2DASCII_PRINT,LAST_FULL_PRINT,LAST_LATEX_PRINT,LAST_LIST_PRINT,LAST_PLAIN_PRINT,LAST_PRINT,LCM,LEADING,LEGENDRE,LOG,LOOKUP,M,MAXDIM,MAXPRIMETAB,MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES,MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE,MAX_FIXED_PRINTOUT_DIGITS,MAX_PROGRAM_SIZE,MEQUAL,METAA,METAB,METAX,MLENGTH,MOD,MSIGN,MULTIPLY,MZERO,N,NIL,NOT,NROOTS,NROOTS_ABS,NROOTS_DELTA,NROOTS_EPSILON,NROOTS_RANDOM,NROOTS_YMAX,NROOTS_divpoly,NSYM,NUM,NUMBER,NUMERATOR,OPERATOR,OR,OUTER,PATTERN,PATTERNSINFO,PI,POLAR,POWER,PRIME,PRINT,PRINT2DASCII,PRINTFULL,PRINTLATEX,PRINTLIST,PRINTMODE_2DASCII,PRINTMODE_COMPUTER,PRINTMODE_HUMAN,PRINTMODE_LATEX,PRINTMODE_LIST,PRINTOUTRESULT,PRINTPLAIN,PRINT_LEAVE_E_ALONE,PRINT_LEAVE_X_ALONE,PRODUCT,QUOTE,QUOTIENT,RANK,RATIONALIZE,REAL,ROOTS,ROUND,SECRETX,SELFTEST,SETQ,SGN,SHAPE,SILENTPATTERN,SIMPLIFY,SIN,SINH,SPACE_BETWEEN_COLUMNS,SPACE_BETWEEN_ROWS,SQRT,STOP,STR,SUBST,SUM,SYM,SYMBOLSINFO,SYMBOL_A,SYMBOL_A_UNDERSCORE,SYMBOL_B,SYMBOL_B_UNDERSCORE,SYMBOL_C,SYMBOL_D,SYMBOL_I,SYMBOL_IDENTITY_MATRIX,SYMBOL_J,SYMBOL_N,SYMBOL_R,SYMBOL_S,SYMBOL_T,SYMBOL_X,SYMBOL_X_UNDERSCORE,SYMBOL_Y,SYMBOL_Z,TAN,TANH,TAYLOR,TENSOR,TEST,TESTEQ,TESTGE,TESTGT,TESTLE,TESTLT,TIMING_DEBUGS,TOS,TRACE,TRANSPOSE,T_DOUBLE,T_EQ,T_FUNCTION,T_GTEQ,T_INTEGER,T_LTEQ,T_NEQ,T_NEWLINE,T_QUOTASSIGN,T_STRING,T_SYMBOL,U,UNIT,USR_SYMBOLS,VERSION,YMAX,YYE,YYRECT,ZERO,__emit_char,__emit_str,__factor_add,__factorial,__is_negative,__is_radical_number,__lcm,__legendre,__legendre2,__legendre3,__normalize_radical_factors,__rationalize_tensor,_print,abs,absValFloat,absval,absval_tensor,add,addSymbolLeftOfAssignment,addSymbolRightOfAssignment,add_all,add_factor_to_accumulator,add_numbers,add_terms,addf,adj,alloc_tensor,allocatedId,any_denominators,approxAll,approxLogs,approxLogsOfRationals,approxOneRatioOnly,approxRadicals,approxRadicalsOfRationals,approxRationalsOfLogs,approxRationalsOfPowersOfE,approxRationalsOfPowersOfPI,approxRationalsOfRadicals,approxSineOfRationalMultiplesOfPI,approxSineOfRationals,approxTrigonometric,approx_just_an_integer,approx_logarithmsOfRationals,approx_nothingUseful,approx_radicalOfRatio,approx_ratioOfRadical,approx_rationalOfE,approx_rationalOfPi,approx_rationalsOfLogarithms,approx_sine_of_pi_times_rational,approx_sine_of_rational,approxratioRecursive,arccos,arccosh,arcsin,arcsinh,arctan,arctanh,areunivarpolysfactoredorexpandedform,arg,arglist,assignmentFound,avoidCalculatingPowersIntoArctans,bake,bake_poly,bake_poly_term,besselj,bessely,bigInt,bignum_factorial,bignum_float,bignum_power_number,bignum_scan_float,bignum_scan_integer,bignum_truncate,binding,binomial,buffer,build_tensor,caaddr,caadr,caar,cadaddr,cadadr,cadar,caddaddr,caddadr,caddar,caddddr,cadddr,caddr,cadr,called_from_Algebra_block,car,cdaddr,cdadr,cdar,cddaddr,cddar,cdddaddr,cddddr,cdddr,cddr,cdr,ceiling,chainOfUserSymbolsNotFunctionsBeingEvaluated,charTabIndex,chartab,checkFloatHasWorkedOutCompletely,check_esc_flag,check_stack,check_tensor_dimensions,choose,choose_check_args,circexp,clearAlgebraEnvironment,clearRenamedVariablesToAvoidBindingToExternalScope,clear_symbols,clear_term,clearall,clockform,cmpGlyphs,cmp_args,cmp_expr,cmp_terms,cmp_terms_count,codeGen,coeff,cofactor,collectLatexStringFromReturnValue,collectUserSymbols,combine_factors,combine_gammas,combine_terms,compareState,compare_numbers,compare_rationals,compare_tensors,compatible,computeDependenciesFromAlgebra,computeResultsAndJavaScriptFromAlgebra,compute_fa,conjugate,cons,consCount,contract,convert_bignum_to_double,convert_rational_to_double,copy_tensor,cosine,cosine_of_angle,cosine_of_angle_sum,count,countOccurrencesOfSymbol,count_denominators,counter,countsize,d_scalar_scalar,d_scalar_scalar_1,d_scalar_tensor,d_tensor_scalar,d_tensor_tensor,dabs,darccos,darccosh,darcsin,darcsinh,darctan,darctanh,dbesselj0,dbesseljn,dbessely0,dbesselyn,dcos,dcosh,dd,decomp,decomp_product,decomp_sum,defineSomeHandyConstants,define_user_function,defn,defn_str,degree,denominator,derf,derfc,derivative,derivative_of_integral,det,determinant,detg,dfunction,dhermite,dirac,display,display_flag,displaychar,divide,divide_numbers,divisors,divisors_onstack,divpoly,dlog,do_clearPatterns,do_clearall,do_simplify_nested_radicals,dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication,dotprod_unicode,doubleToReasonableString,dpow,dpower,dproduct,draw_flag,draw_stop_return,dsgn,dsin,dsinh,dsum,dtan,dtanh,dupl,eigen,elelmIndex,elem,emit_denominator,emit_denominators,emit_expr,emit_factor,emit_factorial_function,emit_flat_tensor,emit_fraction,emit_function,emit_index_function,emit_multiply,emit_number,emit_numerators,emit_numerical_fraction,emit_power,emit_string,emit_subexpr,emit_symbol,emit_tensor,emit_tensor_inner,emit_term,emit_top_expr,emit_unsigned_expr,emit_x,equal,equaln,equalq,erfc,errorMessage,esc_flag,evaluatingAsFloats,evaluatingPolar,exec,expand,expand_get_A,expand_get_AF,expand_get_B,expand_get_C,expand_get_CF,expand_tensor,expanding,expcos,exponential,expr_level,expsin,f1,f10,f2,f3,f4,f5,f9,f_equals_a,factor,factor_a,factor_again,factor_b,factor_number,factor_small_number,factor_term,factorial,factorpoly,factors,fill_buf,filter,filter_main,filter_sum,filter_tensor,findDependenciesInScript,findPossibleClockForm,findPossibleExponentialForm,findroot,fixup_fraction,fixup_power,flag,floatToRatioRoutine,fmt_index,fmt_level,fmt_x,frame,freeze,functionInvokationsScanningStack,gamma,gamma_of_sum,gammaf,gcd,gcd_main,gcd_numbers,gcd_polys,gcd_powers_with_same_base,gcd_product_product,gcd_product_sum,gcd_sum,gcd_sum_product,gcd_sum_sum,gen,getSimpleRoots,getStateHash,get_binding,get_factor_from_complex_root,get_factor_from_real_root,get_innerprod_factors,get_next_token,get_printname,get_size,get_token,getdisplaystr,glyph,gp,guess,hasImaginaryCoeff,hasNegativeRationalExponent,hash_addition,hash_function,hash_multiplication,hash_power,hashcode_values,hashed_itab,hermite,hilbert,i1,imag,imaginaryunit,index_function,init,initNRoots,inited,inner,inner_f,input_str,integral,integral_of_form,integral_of_product,integral_of_sum,inv,inverse,invert_number,invg,isNumberOneOverSomething,isNumericAtom,isNumericAtomOrTensor,isSimpleRoot,isSmall,isSymbolLeftOfAssignment,isSymbolReclaimable,isZeroAtom,isZeroAtomOrTensor,isZeroLikeOrNonZeroLikeOrUndetermined,isZeroTensor,is_denominator,is_factor,is_small_integer,is_square_matrix,is_usr_symbol,isadd,isalnumorunderscore,isalpha,isalphaOrUnderscore,iscomplexnumber,iscomplexnumberdouble,iscons,isdenominator,isdigit,isdouble,iseveninteger,isfactor,isfactorial,isfloating,isfraction,isidentitymatrix,isimaginarynumber,isimaginarynumberdouble,isimaginaryunit,isinnerordot,isinteger,isintegerfactor,isintegerorintegerfloat,isinv,iskeyword,isminusone,isminusoneoversqrttwo,isminusoneovertwo,isminussqrtthreeovertwo,ismultiply,isnegative,isnegativenumber,isnegativeterm,isnonnegativeinteger,isnpi,isone,isoneover,isoneoversqrttwo,isoneovertwo,isplusone,isplustwo,ispolyexpandedform,ispolyexpandedform_expr,ispolyexpandedform_factor,ispolyexpandedform_term,ispolyfactoredorexpandedform,ispolyfactoredorexpandedform_factor,ispolyfactoredorexpandedform_power,isposint,ispositivenumber,ispower,isquarterturn,isrational,isspace,issqrtthree,issqrtthreeovertwo,isstr,issymbol,issymbolic,istensor,istranspose,isunderscore,isunivarpolyfactoredorexpandedform,itab,italu_hashcode,j1,laguerre,laguerre2,lastFoundSymbol,latexErrorSign,lcm,leading,legendre,length,lessp,level,list,listLength,logarithm,logbuf,lookupsTotal,lu_decomp,madd,makePositive,makeSignSameAs,make_hashed_itab,mask,mcmp,mcmpint,mdiv,mdivrem,meta_mode,mgcd,mini_solve,mint,mmod,mmul,mod,monic,move,moveTos,mp_clr_bit,mp_denominator,mp_numerator,mp_set_bit,mpow,mprime,mroot,mshiftright,msub,mtotal,multinomial_sum,multiply,multiply_all,multiply_all_noexpand,multiply_consecutive_constants,multiply_denominators,multiply_denominators_factor,multiply_denominators_term,multiply_noexpand,multiply_numbers,n_factor_number,negate,negate_expand,negate_noexpand,negate_number,new_integer,new_string,newline_flag,nil_symbols,normaliseDots,normalisedCoeff,normalize_angle,nroots_a,nroots_b,nroots_c,nroots_df,nroots_dx,nroots_fa,nroots_fb,nroots_x,nroots_y,nterms,nthCadr,numerator,numericRootOfPolynomial,o,one,oneElement,one_as_double,out_buf,out_count,out_of_memory,outer,p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,parse,parse_internal,parse_p1,parse_p2,parse_time_simplifications,partition,patternHasBeenFound,patternsinfo,performing_roots,polar,polarRectAMinusOneBase,polyform,pop,pop_double,pop_frame,pop_integer,power,power_str,power_sum,power_tensor,predefinedSymbolsInGlobalScope_doNotTrackInDependencies,prime,primetab,print2dascii,printMode,print_ABS_latex,print_ARCCOS_codegen,print_ARCSIN_codegen,print_ARCTAN_codegen,print_BINOMIAL_latex,print_COS_codegen,print_DEFINT_latex,print_DOT_codegen,print_DOT_latex,print_DO_codegen,print_FOR_codegen,print_INV_codegen,print_INV_latex,print_PRODUCT_codegen,print_PRODUCT_latex,print_SETQ_codegen,print_SIN_codegen,print_SQRT_latex,print_SUM_codegen,print_SUM_latex,print_TAN_codegen,print_TESTEQ_latex,print_TESTGE_latex,print_TESTGT_latex,print_TESTLE_latex,print_TESTLT_latex,print_TEST_codegen,print_TEST_latex,print_TRANSPOSE_codegen,print_TRANSPOSE_latex,print_UNIT_codegen,print_a_over_b,print_base,print_base_of_denom,print_char,print_denom,print_double,print_expo_of_denom,print_exponent,print_expr,print_factor,print_factorial_function,print_glyphs,print_index_function,print_list,print_multiply_sign,print_number,print_power,print_str,print_subexpr,print_tensor,print_tensor_inner,print_tensor_inner_latex,print_tensor_latex,print_term,printchar,printchar_nowrap,printline,program_buf,promote_tensor,push,pushTryNotToDuplicate,push_cars,push_double,push_factor,push_frame,push_identity_matrix,push_integer,push_rational,push_symbol,push_term_factors,push_terms,push_zero_matrix,qadd,qdiv,qmul,qpow,qpowf,quickfactor,quickpower,rational,rationalize,rationalize_coefficients,real,reciprocate,rect,recursionLevelNestedRadicalsRemoval,recursiveDependencies,ref,ref1,rememberPrint,remove_negative_exponents,reset_after_error,restore,restoreMetaBindings,rewrite_args,rewrite_args_tensor,roots,roots2,roots3,run,runUserDefinedSimplifications,save,saveMetaBindings,scalar_times_tensor,scan,scan_error,scan_expression,scan_factor,scan_function_call_with_function_name,scan_function_call_without_function_name,scan_index,scan_meta,scan_power,scan_relation,scan_stmt,scan_str,scan_string,scan_subexpr,scan_symbol,scan_tensor,scan_term,scanned,scanningParameters,setM,setSignTo,set_binding,set_component,setq_indexed,sfac_product,sfac_product_f,sgn,shape,show_power_debug,sign,sign_of_term,simfac,simfac_term,simpleComplexityMeasure,simplify,simplifyForCodeGeneration,simplify_1_in_products,simplify_main,simplify_nested_radicals,simplify_polar,simplify_polarRect,simplify_rational_expressions,simplify_rectToClock,simplify_tensor,simplify_trig,simplifyfactorials,sine,sine_of_angle,sine_of_angle_sum,skipRootVariableToBeSolved,sort_stack,square,ssqrt,stack,stackAddsCount,std_symbol,step,step2,stop,strcmp,stringsEmittedByUserPrintouts,subf,subst,subtract,subtract_numbers,swap,symbol,symbolsDependencies,symbolsHavingReassignments,symbolsInExpressionsWithoutAssignments,symbolsLeftOfAssignment,symbolsRightOfAssignment,symbolsinfo,symnum,symtab,take_care_of_nested_radicals,tangent,taylor,tensor,tensor_plus_tensor,tensor_times_scalar,testApprox,test_flag,text_metric,theRandom,token,token_buf,token_str,top,top_level_eval,tos,transform,transpose,transpose_unicode,trigmode,trivial_divide,try_kth_prime,turnErrorMessageToLatex,ucmp,unfreeze,unique,unique_f,update_token_buf,userSimplificationsInListForm,userSimplificationsInStringForm,usr_symbol,verbosing,version,will_be_displayed_as_fraction,ybinomial,ycosh,ydirac,yerf,yerfc,yfloor,yindex,yround,ysinh,yyarg,yybesselj,yybessely,yyceiling,yycondense,yycontract,yycosh,yydegree,yydetg,yydivpoly,yyerf,yyerfc,yyexpand,yyfactorpoly,yyfloat,yyfloor,yyhermite,yyhermite2,yyinvg,yylcm,yylog,yymultiply,yyouter,yypower,yyrationalize,yyround,yysgn,yysimfac,yysinh,yytangent,zero,zzfloat,hasProp={}.hasOwnProperty;for(bigInt=__webpack_require__(9787),version="1.4.0",SELFTEST=1,NSYM=1e3,DEBUG=!1,PRINTOUTRESULT=!1,PRINTMODE_LATEX="PRINTMODE_LATEX",PRINTMODE_2DASCII="PRINTMODE_2DASCII",PRINTMODE_COMPUTER="PRINTMODE_COMPUTER",PRINTMODE_HUMAN="PRINTMODE_HUMAN",PRINTMODE_LIST="PRINTMODE_LIST",printMode=PRINTMODE_COMPUTER,dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication=!0,recursionLevelNestedRadicalsRemoval=0,do_simplify_nested_radicals=!0,avoidCalculatingPowersIntoArctans=!0,rational=function(){class e{}return e.prototype.a=null,e.prototype.b=null,e}.call(this),U=function(){class e{toString(){return print_expr(this)}toLatexString(){return collectLatexStringFromReturnValue(this)}constructor(){this.cons={},this.cons.car=null,this.cons.cdr=null,this.q=new rational}}return e.prototype.cons=null,e.prototype.printname="",e.prototype.str="",e.prototype.tensor=null,e.prototype.q=null,e.prototype.d=0,e.prototype.k=0,e.prototype.tag=0,e}.call(this),errorMessage="",CONS=0,NUM=1,DOUBLE=2,STR=3,TENSOR=4,SYM=5,counter=0,ABS=counter++,ADD=counter++,ADJ=counter++,AND=counter++,APPROXRATIO=counter++,ARCCOS=counter++,ARCCOSH=counter++,ARCSIN=counter++,ARCSINH=counter++,ARCTAN=counter++,ARCTANH=counter++,ARG=counter++,ATOMIZE=counter++,BESSELJ=counter++,BESSELY=counter++,BINDING=counter++,BINOMIAL=counter++,CEILING=counter++,CHECK=counter++,CHOOSE=counter++,CIRCEXP=counter++,CLEAR=counter++,CLEARALL=counter++,CLEARPATTERNS=counter++,CLOCK=counter++,COEFF=counter++,COFACTOR=counter++,CONDENSE=counter++,CONJ=counter++,CONTRACT=counter++,COS=counter++,COSH=counter++,DECOMP=counter++,DEFINT=counter++,DEGREE=counter++,DENOMINATOR=counter++,DERIVATIVE=counter++,DET=counter++,DIM=counter++,DIRAC=counter++,DIVISORS=counter++,DO=counter++,DOT=counter++,DRAW=counter++,DSOLVE=counter++,EIGEN=counter++,EIGENVAL=counter++,EIGENVEC=counter++,ERF=counter++,ERFC=counter++,EVAL=counter++,EXP=counter++,EXPAND=counter++,EXPCOS=counter++,EXPSIN=counter++,FACTOR=counter++,FACTORIAL=counter++,FACTORPOLY=counter++,FILTER=counter++,FLOATF=counter++,FLOOR=counter++,FOR=counter++,FUNCTION=counter++,GAMMA=counter++,GCD=counter++,HERMITE=counter++,HILBERT=counter++,IMAG=counter++,INDEX=counter++,INNER=counter++,INTEGRAL=counter++,INV=counter++,INVG=counter++,ISINTEGER=counter++,ISPRIME=counter++,LAGUERRE=counter++,LCM=counter++,LEADING=counter++,LEGENDRE=counter++,LOG=counter++,LOOKUP=counter++,MOD=counter++,MULTIPLY=counter++,NOT=counter++,NROOTS=counter++,NUMBER=counter++,NUMERATOR=counter++,OPERATOR=counter++,OR=counter++,OUTER=counter++,PATTERN=counter++,PATTERNSINFO=counter++,POLAR=counter++,POWER=counter++,PRIME=counter++,PRINT_LEAVE_E_ALONE=counter++,PRINT_LEAVE_X_ALONE=counter++,PRINT=counter++,PRINT2DASCII=counter++,PRINTFULL=counter++,PRINTLATEX=counter++,PRINTLIST=counter++,PRINTPLAIN=counter++,PRODUCT=counter++,QUOTE=counter++,QUOTIENT=counter++,RANK=counter++,RATIONALIZE=counter++,REAL=counter++,ROUND=counter++,YYRECT=counter++,ROOTS=counter++,SETQ=counter++,SGN=counter++,SILENTPATTERN=counter++,SIMPLIFY=counter++,SIN=counter++,SINH=counter++,SHAPE=counter++,SQRT=counter++,STOP=counter++,SUBST=counter++,SUM=counter++,SYMBOLSINFO=counter++,TAN=counter++,TANH=counter++,TAYLOR=counter++,TEST=counter++,TESTEQ=counter++,TESTGE=counter++,TESTGT=counter++,TESTLE=counter++,TESTLT=counter++,TRANSPOSE=counter++,UNIT=counter++,ZERO=counter++,NIL=counter++,LAST=counter++,LAST_PRINT=counter++,LAST_2DASCII_PRINT=counter++,LAST_FULL_PRINT=counter++,LAST_LATEX_PRINT=counter++,LAST_LIST_PRINT=counter++,LAST_PLAIN_PRINT=counter++,AUTOEXPAND=counter++,BAKE=counter++,ASSUME_REAL_VARIABLES=counter++,TRACE=counter++,FORCE_FIXED_PRINTOUT=counter++,MAX_FIXED_PRINTOUT_DIGITS=counter++,YYE=counter++,DRAWX=counter++,METAA=counter++,METAB=counter++,METAX=counter++,SECRETX=counter++,VERSION=counter++,PI=counter++,SYMBOL_A=counter++,SYMBOL_B=counter++,SYMBOL_C=counter++,SYMBOL_D=counter++,SYMBOL_I=counter++,SYMBOL_J=counter++,SYMBOL_N=counter++,SYMBOL_R=counter++,SYMBOL_S=counter++,SYMBOL_T=counter++,SYMBOL_X=counter++,SYMBOL_Y=counter++,SYMBOL_Z=counter++,SYMBOL_IDENTITY_MATRIX=counter++,SYMBOL_A_UNDERSCORE=counter++,SYMBOL_B_UNDERSCORE=counter++,SYMBOL_X_UNDERSCORE=counter++,C1=counter++,C2=counter++,C3=counter++,C4=counter++,C5=counter++,C6=counter++,USR_SYMBOLS=counter++,E=YYE,TOS=1e5,BUF=1e4,MAX_PROGRAM_SIZE=100001,MAXPRIMETAB=1e4,MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES=5,MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE=10,MAXDIM=24,symbolsDependencies={},symbolsHavingReassignments=[],symbolsInExpressionsWithoutAssignments=[],patternHasBeenFound=!1,predefinedSymbolsInGlobalScope_doNotTrackInDependencies=["rationalize","abs","e","i","pi","sin","ceiling","cos","roots","integral","derivative","defint","sqrt","eig","cov","deig","dcov","float","floor","product","root","round","sum","test","unit"],parse_time_simplifications=!0,chainOfUserSymbolsNotFunctionsBeingEvaluated=[],stringsEmittedByUserPrintouts="",called_from_Algebra_block=!1,tensor=function(){class e{constructor(){this.dim=function(){var e,t,r;for(r=[],e=0,t=MAXDIM;0<=t?e<=t:e>=t;0<=t?e++:e--)r.push(0);return r}(),this.elem=[]}}return e.prototype.ndim=0,e.prototype.dim=null,e.prototype.nelem=0,e.prototype.elem=null,e}.call(this),display=function(){class e{}return e.prototype.h=0,e.prototype.w=0,e.prototype.n=0,e.prototype.a=[],e}.call(this),text_metric=function(){class e{}return e.prototype.ascent=0,e.prototype.descent=0,e.prototype.width=0,e}.call(this),tos=0,expanding=0,evaluatingAsFloats=0,evaluatingPolar=0,fmt_x=0,fmt_index=0,fmt_level=0,verbosing=0,primetab=function(){var e,t,r,n;for(n=[2],t=3;n.length<MAXPRIMETAB;){for(r=0,e=Math.sqrt(t);r<n.length&&n[r]<=e;){if(t%n[r]==0){r=-1;break}r++}-1!==r&&n.push(t),t+=2}return n[MAXPRIMETAB]=0,n}(),esc_flag=0,draw_flag=0,mtotal=0,trigmode=0,logbuf="",program_buf="",symtab=[],binding=[],isSymbolReclaimable=[],arglist=[],stack=[],frame=0,p0=null,p1=null,p2=null,p3=null,p4=null,p5=null,p6=null,p7=null,p8=null,p9=null,zero=null,one=null,one_as_double=null,imaginaryunit=null,out_buf="",out_count=0,test_flag=0,codeGen=!1,draw_stop_return=null,userSimplificationsInListForm=[],userSimplificationsInStringForm=[],transpose_unicode=7488,dotprod_unicode=183,symbol=function(e){return symtab[e]},iscons=function(e){return e.k===CONS},isrational=function(e){return e.k===NUM},isdouble=function(e){return e.k===DOUBLE},isNumericAtom=function(e){return isrational(e)||isdouble(e)},isstr=function(e){return e.k===STR},istensor=function(e){if(null!=e)return e.k===TENSOR},isNumericAtomOrTensor=function(e){var t,r,n,i,o;if(isNumericAtom(e)||e===symbol(SYMBOL_IDENTITY_MATRIX))return 1;if(!istensor(e)&&!isNumericAtom(e))return 0;for(n=e.tensor.nelem,t=e.tensor.elem,r=i=0,o=n;0<=o?i<o:i>o;r=0<=o?++i:--i)if(!isNumericAtomOrTensor(t[r]))return 0;return 1},issymbol=function(e){return e.k===SYM},iskeyword=function(e){return issymbol(e)&&symnum(e)<NIL},car=function(e){return iscons(e)?e.cons.car:symbol(NIL)},cdr=function(e){return iscons(e)?e.cons.cdr:symbol(NIL)},caar=function(e){return car(car(e))},cadr=function(e){return car(cdr(e))},cdar=function(e){return cdr(car(e))},cddr=function(e){return cdr(cdr(e))},caadr=function(e){return car(car(cdr(e)))},caddr=function(e){return car(cdr(cdr(e)))},cadar=function(e){return car(cdr(car(e)))},cdadr=function(e){return cdr(car(cdr(e)))},cddar=function(e){return cdr(cdr(car(e)))},cdddr=function(e){return cdr(cdr(cdr(e)))},caaddr=function(e){return car(car(cdr(cdr(e))))},cadadr=function(e){return car(cdr(car(cdr(e))))},caddar=function(e){return car(cdr(cdr(car(e))))},cdaddr=function(e){return cdr(car(cdr(cdr(e))))},cadddr=function(e){return car(cdr(cdr(cdr(e))))},cddddr=function(e){return cdr(cdr(cdr(cdr(e))))},caddddr=function(e){return car(cdr(cdr(cdr(cdr(e)))))},cadaddr=function(e){return car(cdr(car(cdr(cdr(e)))))},cddaddr=function(e){return cdr(cdr(car(cdr(cdr(e)))))},caddadr=function(e){return car(cdr(cdr(car(cdr(e)))))},cdddaddr=function(e){return cdr(cdr(cdr(car(cdr(cdr(e))))))},caddaddr=function(e){return car(cdr(cdr(car(cdr(cdr(e))))))},listLength=function(e){var t;for(t=-1;iscons(e);)e=cdr(e),t++;return t},nthCadr=function(e,t){var r;for(r=0;r<=t;)e=cdr(e),r++;return car(e)},isadd=function(e){return car(e)===symbol(ADD)},ismultiply=function(e){return car(e)===symbol(MULTIPLY)},ispower=function(e){return car(e)===symbol(POWER)},isfactorial=function(e){return car(e)===symbol(FACTORIAL)},isinnerordot=function(e){return car(e)===symbol(INNER)||car(e)===symbol(DOT)},istranspose=function(e){return car(e)===symbol(TRANSPOSE)},isinv=function(e){return car(e)===symbol(INV)},isidentitymatrix=function(e){return e===symbol(SYMBOL_IDENTITY_MATRIX)},MSIGN=function(e){return e.isPositive()?1:e.isZero()?0:-1},MLENGTH=function(e){return e.toString().length},MZERO=function(e){return e.isZero()},MEQUAL=function(e,t){return e.equals(t)},reset_after_error=function(){return moveTos(0),esc_flag=0,draw_flag=0,frame=TOS,evaluatingAsFloats=0,evaluatingPolar=0},$=null!==exports?exports:this,$.version=version,$.isadd=isadd,$.ismultiply=ismultiply,$.ispower=ispower,$.isfactorial=isfactorial,$.car=car,$.cdr=cdr,$.caar=caar,$.cadr=cadr,$.cdar=cdar,$.cddr=cddr,$.caadr=caadr,$.caddr=caddr,$.cadar=cadar,$.cdadr=cdadr,$.cddar=cddar,$.cdddr=cdddr,$.caaddr=caaddr,$.cadadr=cadadr,$.caddar=caddar,$.cdaddr=cdaddr,$.cadddr=cadddr,$.cddddr=cddddr,$.caddddr=caddddr,$.cadaddr=cadaddr,$.cddaddr=cddaddr,$.caddadr=caddadr,$.cdddaddr=cdddaddr,$.caddaddr=caddaddr,$.symbol=symbol,$.iscons=iscons,$.isrational=isrational,$.isdouble=isdouble,$.isNumericAtom=isNumericAtom,$.isstr=isstr,$.istensor=istensor,$.issymbol=issymbol,$.iskeyword=iskeyword,$.CONS=CONS,$.NUM=NUM,$.DOUBLE=DOUBLE,$.STR=STR,$.TENSOR=TENSOR,$.SYM=SYM,DEBUG_ABS=!1,Eval_abs=function(){return push(cadr(p1)),Eval(),abs()},absValFloat=function(){return Eval(),absval(),Eval(),zzfloat()},abs=function(){var e;if(e=top(),DEBUG_ABS&&console.trace(">>>>  ABS of "+e),numerator(),DEBUG_ABS&&console.log("ABS numerator "+stack[tos-1]),absval(),DEBUG_ABS&&console.log("ABSVAL numerator: "+stack[tos-1]),push(e),denominator(),DEBUG_ABS&&console.log("ABS denominator: "+stack[tos-1]),absval(),DEBUG_ABS&&console.log("ABSVAL denominator: "+stack[tos-1]),divide(),DEBUG_ABS&&console.log("ABSVAL divided: "+stack[tos-1]),DEBUG_ABS)return console.log("<<<<<<<  ABS")},absval=function(){var e,t;if(save(),t=p1=pop(),DEBUG_ABS&&console.log("ABS of "+p1),isZeroAtomOrTensor(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just zero"),push(zero),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(isnegativenumber(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just a negative"),push(p1),negate(),void restore();if(ispositivenumber(p1))return DEBUG_ABS&&console.log(" abs: "+p1+" just a positive"),push(p1),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(p1===symbol(PI))return DEBUG_ABS&&console.log(" abs: "+p1+" of PI"),push(p1),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(ADD)&&(findPossibleClockForm(p1)||findPossibleExponentialForm(p1)||Find(p1,imaginaryunit)))return DEBUG_ABS&&console.log(" abs: "+p1+" is a sum"),DEBUG_ABS&&console.log("abs of a sum"),push(p1),rect(),p1=pop(),push(p1),real(),push_integer(2),power(),push(p1),imag(),push_integer(2),power(),add(),push_rational(1,2),power(),simplify_trig(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&equaln(cadr(p1),-1))return DEBUG_ABS&&console.log(" abs: "+p1+" is -1 to any power"),evaluatingAsFloats?(DEBUG_ABS&&console.log(" abs: numeric, so result is 1.0"),push_double(1)):(DEBUG_ABS&&console.log(" abs: symbolic, so result is 1"),push_integer(1)),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&ispositivenumber(caddr(p1)))return DEBUG_ABS&&console.log(" abs: "+p1+" is something to the power of a positive number"),push(cadr(p1)),abs(),push(caddr(p1)),power(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(POWER)&&cadr(p1)===symbol(E))return DEBUG_ABS&&console.log(" abs: "+p1+" is an exponential"),push(caddr(p1)),real(),exponential(),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore();if(car(p1)===symbol(MULTIPLY)){for(DEBUG_ABS&&console.log(" abs: "+p1+" is a product"),e=!1,p1=cdr(p1);iscons(p1);)push(car(p1)),absval(),e&&multiply(),e=!0,p1=cdr(p1);return DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore()}return car(p1)===symbol(ABS)?(DEBUG_ABS&&console.log(" abs: "+p1+" is abs of a abs"),push_symbol(ABS),push(cadr(p1)),list(2),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),void restore()):istensor(p1)?(absval_tensor(),void restore()):((isnegativeterm(p1)||car(p1)===symbol(ADD)&&isnegativeterm(cadr(p1)))&&(push(p1),negate(),p1=pop()),DEBUG_ABS&&console.log(" abs: "+p1+" is nothing decomposable"),push_symbol(ABS),push(p1),list(2),DEBUG_ABS&&console.log(" --\x3e ABS of "+t+" : "+stack[tos-1]),restore())},absval_tensor=function(){return 1!==p1.tensor.ndim&&stop("abs(tensor) with tensor rank > 1"),push(p1),push(p1),conjugate(),inner(),push_rational(1,2),power(),simplify(),Eval()},flag=0,Eval_add=function(){var e;for(e=tos,p1=cdr(p1);iscons(p1);)push(car(p1)),Eval(),p2=pop(),push_terms(p2),p1=cdr(p1);return add_terms(tos-e)},stackAddsCount=0,add_terms=function(e){var t,r,n,i,o,a,s,l,u;if(stackAddsCount++,r=0,t=tos-e,DEBUG&&console.log("stack before adding terms #"+stackAddsCount),DEBUG)for(r=o=0,a=tos;0<=a?o<a:o>a;r=0<=a?++o:--o)console.log(print_list(stack[r]));for(r=n=0;n<10&&!(e<2)&&(flag=0,(u=stack.slice(t,t+e)).sort(cmp_terms),stack=stack.slice(0,t).concat(u).concat(stack.slice(t+e)),0!==flag);r=++n)e=combine_terms(t,e);switch(moveTos(t+e),e){case 0:evaluatingAsFloats?push_double(0):push(zero);break;case 1:break;default:list(e),p1=pop(),push_symbol(ADD),push(p1),cons()}if(DEBUG&&console.log("stack after adding terms #"+stackAddsCount),DEBUG){for(l=[],r=i=0,s=tos;0<=s?i<s:i>s;r=0<=s?++i:--i)l.push(console.log(print_list(stack[r])));return l}},cmp_terms_count=0,cmp_terms=function(e,t){var r,n,i,o;if(cmp_terms_count++,r=0,isNumericAtom(e)&&isNumericAtom(t))return flag=1,0;if(istensor(e)&&istensor(t)){if(e.tensor.ndim<t.tensor.ndim)return-1;if(e.tensor.ndim>t.tensor.ndim)return 1;for(r=n=0,i=e.tensor.ndim;0<=i?n<i:n>i;r=0<=i?++n:--n){if(e.tensor.dim[r]<t.tensor.dim[r])return-1;if(e.tensor.dim[r]>t.tensor.dim[r])return 1}return flag=1,0}return car(e)===symbol(MULTIPLY)&&(e=cdr(e),isNumericAtom(car(e))&&(e=cdr(e),cdr(e)===symbol(NIL)&&(e=car(e)))),car(t)===symbol(MULTIPLY)&&(t=cdr(t),isNumericAtom(car(t))&&(t=cdr(t),cdr(t)===symbol(NIL)&&(t=car(t)))),0===(o=cmp_expr(e,t))&&(flag=1),o},combine_terms=function(e,t){var r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x;for(r=0;r<t-1;)if(check_esc_flag(),p3=stack[e+r],p4=stack[e+r+1],istensor(p3)&&istensor(p4)){if(push(p3),push(p4),tensor_plus_tensor(),(p1=pop())!==symbol(NIL)){for(stack[e+r]=p1,i=l=u=r+1,c=t-1;u<=c?l<c:l>c;i=u<=c?++l:--l)stack[e+i]=stack[e+i+1];t--,r--}r++}else if(istensor(p3)||istensor(p4))r++;else if(isNumericAtom(p3)&&isNumericAtom(p4)){if(push(p3),push(p4),add_numbers(),p1=pop(),isZeroAtomOrTensor(p1)){for(i=n=p=r,h=t-2;p<=h?n<h:n>h;i=p<=h?++n:--n)stack[e+i]=stack[e+i+2];t-=2}else{for(stack[e+r]=p1,i=o=f=r+1,d=t-1;f<=d?o<d:o>d;i=f<=d?++o:--o)stack[e+i]=stack[e+i+1];t--}r--,r++}else if(isNumericAtom(p3)||isNumericAtom(p4))r++;else if(evaluatingAsFloats?(p1=one_as_double,p2=one_as_double):(p1=one,p2=one),x=0,car(p3)===symbol(MULTIPLY)&&(p3=cdr(p3),x=1,isNumericAtom(car(p3))&&(p1=car(p3),p3=cdr(p3),cdr(p3)===symbol(NIL)&&(p3=car(p3),x=0))),car(p4)===symbol(MULTIPLY)&&(p4=cdr(p4),isNumericAtom(car(p4))&&(p2=car(p4),p4=cdr(p4),cdr(p4)===symbol(NIL)&&(p4=car(p4)))),equal(p3,p4))if(push(p1),push(p2),add_numbers(),p1=pop(),isZeroAtomOrTensor(p1)){for(i=a=m=r,g=t-2;m<=g?a<g:a>g;i=m<=g?++a:--a)stack[e+i]=stack[e+i+2];t-=2,r--,r++}else{for(push(p1),x?(push(symbol(MULTIPLY)),push(p3),cons()):push(p3),multiply(),stack[e+r]=pop(),i=s=y=r+1,v=t-1;y<=v?s<v:s>v;i=y<=v?++s:--s)stack[e+i]=stack[e+i+1];t--,r--,r++}else r++;return t},push_terms=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t}if(!isZeroAtom(e))return push(e)},add=function(){var e;return save(),p2=pop(),p1=pop(),e=tos,push_terms(p1),push_terms(p2),add_terms(tos-e),restore()},add_all=function(e){var t,r,n,i,o;for(r=0,save(),o=tos-e,t=tos,r=n=0,i=e;0<=i?n<i:n>i;r=0<=i?++n:--n)push_terms(stack[o+r]);return add_terms(tos-t),p1=pop(),moveTos(tos-e),push(p1),restore()},subtract=function(){return negate(),add()},Eval_adj=function(){return push(cadr(p1)),Eval(),adj()},adj=function(){var e,t,r,n,i,o,a;for(e=0,r=0,0,save(),p1=pop(),istensor(p1)&&2===p1.tensor.ndim&&p1.tensor.dim[0]===p1.tensor.dim[1]?1:stop("adj: square matrix expected"),n=p1.tensor.dim[0],(p2=alloc_tensor(n*n)).tensor.ndim=2,p2.tensor.dim[0]=n,p2.tensor.dim[1]=n,e=i=0,o=n;0<=o?i<o:i>o;e=0<=o?++i:--i)for(r=t=0,a=n;0<=a?t<a:t>a;r=0<=a?++t:--t)cofactor(p1,n,e,r),p2.tensor.elem[n*r+e]=pop();return push(p2),restore()},Eval_approxratio=function(){var e;return e=cadr(p1),push(e),approxratioRecursive()},approxratioRecursive=function(){var e,t,r,n,i;if(e=0,save(),p1=pop(),istensor(p1)){for((p4=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=r=0,n=p1.tensor.ndim;0<=n?r<n:r>n;e=0<=n?++r:--r)p4.tensor.dim[e]=p1.tensor.dim[e];for(e=t=0,i=p1.tensor.nelem;0<=i?t<i:t>i;e=0<=i?++t:--t)push(p1.tensor.elem[e]),approxratioRecursive(),p4.tensor.elem[e]=pop(),check_tensor_dimensions(p4);push(p4)}else p1.k===DOUBLE?(push(p1),approxOneRatioOnly()):iscons(p1)?(push(car(p1)),approxratioRecursive(),push(cdr(p1)),approxratioRecursive(),cons()):push(p1);return restore()},approxOneRatioOnly=function(){var e,t,r,n,i,o;if(zzfloat(),(n=pop()).k!==DOUBLE)return push_symbol(APPROXRATIO),push(theArgument),list(2);2===(r=(i=n.d).toString().split(".")).length?(e=r[1].length,t=1/Math.pow(10,e),o=floatToRatioRoutine(i,t),push_rational(o[0],o[1])):push_integer(i)},floatToRatioRoutine=function(e,t){var r,n,i,o,a,s,l;if(i=void 0,n=void 0,r=void 0,s=void 0,o=void 0,a=void 0,l=[0,0],isNaN(e))return l;if(Infinity===e)return l[0]=1,l[1]=0,l;if(-Infinity===e)return l[0]=-1,l[1]=0,l;if(r=e<0?-1:1,e=Math.abs(e),Math.abs(e-Math.floor(e))<t)return i=e*r,n=1,l[0]=i,l[1]=n,l;if(e<1e-19)return i=r,n=1e19,l[0]=i,l[1]=n,l;if(e>1e19)return i=1e19*r,n=1,l[0]=i,l[1]=n,l;for(s=e,o=0,n=1;s=1/(s-Math.floor(s)),a=n,n=n*Math.floor(s)+o,o=a,i=Math.floor(e*n+.5),Math.abs(e-i/n)>t&&s!==Math.floor(s););return i*=r,l[0]=i,l[1]=n,l},approx_just_an_integer=0,approx_sine_of_rational=1,approx_sine_of_pi_times_rational=2,approx_rationalOfPi=3,approx_radicalOfRatio=4,approx_nothingUseful=5,approx_ratioOfRadical=6,approx_rationalOfE=7,approx_logarithmsOfRationals=8,approx_rationalsOfLogarithms=9,approxRationalsOfRadicals=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g;if(2!==(g=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=g[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,c=Number.MAX_VALUE,h=0,l=(m=[2,3,5,6,7,8,10]).length;h<l;h++)for(o=m[h],s=a=1;a<=10;s=++a)i=Math.sqrt(o)/s,Math.abs(i)>1e-10?(d=e/i,u=Math.round(d),n=Math.abs(1-d/u)):(d=1,u=1,n=Math.abs(e-i)),n<2*f&&(r=simpleComplexityMeasure(u,o,s))<c&&(c=r,t=[u+" * sqrt( "+o+" ) / "+s,approx_ratioOfRadical,u,o,s]);return t},approxRadicalsOfRationals=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v;if(2!==(v=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(h=v[1].length,d=1/Math.pow(10,h),console.log("precision: "+d),t=null,p=Number.MAX_VALUE,f=0,l=(g=[1,2,3,5,6,7,8,10]).length;f<l;f++)for(o=g[f],a=0,u=(y=[1,2,3,5,6,7,8,10]).length;a<u;a++)s=y[a],i=Math.sqrt(o/s),Math.abs(i)>1e-10?(m=e/i,c=Math.round(m),n=Math.abs(1-m/c)):(m=1,c=1,n=Math.abs(e-i)),n<2*d&&(r=simpleComplexityMeasure(c,o,s))<p&&(p=r,t=[c+" * (sqrt( "+o+" / "+s+" )",approx_radicalOfRatio,c,o,s]);return t},approxRadicals=function(e){var t,r,n,i,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(n=o[1].length,i=1/Math.pow(10,n),console.log("precision: "+i),null!=(r=approxRationalsOfRadicals(e))?r:null!=(t=approxRadicalsOfRationals(e))?t:null)},approxLogs=function(e){var t,r,n,i,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(n=o[1].length,i=1/Math.pow(10,n),console.log("precision: "+i),null!=(r=approxRationalsOfLogs(e))?r:null!=(t=approxLogsOfRationals(e))?t:null)},approxRationalsOfLogs=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d;if(2!==(d=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(c=d[1].length,h=1/Math.pow(10,c),console.log("precision: "+h),t=null,u=Number.MAX_VALUE,o=p=2;p<=5;o=++p)for(s=a=1;a<=5;s=++a)i=Math.log(o)/s,Math.abs(i)>1e-10?(f=e/i,l=Math.round(f),n=Math.abs(1-f/l)):(f=1,l=1,n=Math.abs(e-i)),1!==l&&Math.abs(Math.floor(l/s))===Math.abs(l/s)||n<2.2*h&&(r=simpleComplexityMeasure(l,o,s))<u&&(u=r,t=[l+" * log( "+o+" ) / "+s,approx_rationalsOfLogarithms,l,o,s]);return t},approxLogsOfRationals=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d;if(2!==(d=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(c=d[1].length,h=1/Math.pow(10,c),console.log("precision: "+h),t=null,u=Number.MAX_VALUE,o=p=1;p<=5;o=++p)for(s=a=1;a<=5;s=++a)i=Math.log(o/s),Math.abs(i)>1e-10?(f=e/i,l=Math.round(f),n=Math.abs(1-f/l)):(f=1,l=1,n=Math.abs(e-i)),n<1.96*h&&(r=simpleComplexityMeasure(l,o,s))<u&&(u=r,t=[l+" * log( "+o+" / "+s+" )",approx_logarithmsOfRationals,l,o,s]);return t},approxRationalsOfPowersOfE=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d;if(2!==(d=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(c=d[1].length,h=1/Math.pow(10,c),console.log("precision: "+h),t=null,u=Number.MAX_VALUE,o=p=1;p<=2;o=++p)for(s=a=1;a<=12;s=++a)i=Math.pow(Math.E,o)/s,Math.abs(i)>1e-10?(f=e/i,l=Math.round(f),n=Math.abs(1-f/l)):(f=1,l=1,n=Math.abs(e-i)),n<2*h&&(r=simpleComplexityMeasure(l,o,s))<u&&(u=r,t=[l+" * (e ^ "+o+" ) / "+s,approx_rationalOfE,l,o,s]);return t},approxRationalsOfPowersOfPI=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d;if(2!==(d=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(c=d[1].length,h=1/Math.pow(10,c),console.log("precision: "+h),t=null,u=Number.MAX_VALUE,o=p=1;p<=5;o=++p)for(s=a=1;a<=12;s=++a)i=Math.pow(Math.PI,o)/s,Math.abs(i)>1e-10?(f=e/i,l=Math.round(f),n=Math.abs(1-f/l)):(f=1,l=1,n=Math.abs(e-i)),n<2*h&&(r=simpleComplexityMeasure(l,o,s))<u&&(u=r,t=[l+" * (pi ^ "+o+" ) / "+s+" )",approx_rationalOfPi,l,o,s]);return t},approxTrigonometric=function(e){var t,r,n,i,o;return 2!==(o=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(n=o[1].length,i=1/Math.pow(10,n),console.log("precision: "+i),null!=(r=approxSineOfRationals(e))?r:null!=(t=approxSineOfRationalMultiplesOfPI(e))?t:null)},approxSineOfRationals=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m;if(2!==(m=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=m[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,c=Number.MAX_VALUE,a=h=1;h<=4;a=++h)for(l=s=1;s<=4;l=++s)i=a/l,o=Math.sin(i),Math.abs(o)>1e-10?(d=e/o,u=Math.round(d),n=Math.abs(1-d/u)):(d=1,u=1,n=Math.abs(e-o)),n<2*f&&(r=simpleComplexityMeasure(u,a,l))<c&&(c=r,t=[u+" * sin( "+a+"/"+l+" )",approx_sine_of_rational,u,a,l]);return t},approxSineOfRationalMultiplesOfPI=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m;if(2!==(m=e.toString().split(".")).length)return[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2];for(p=m[1].length,f=1/Math.pow(10,p),console.log("precision: "+f),t=null,c=Number.MAX_VALUE,a=h=1;h<=13;a=++h)for(l=s=1;s<=13;l=++s)i=a/l,o=Math.sin(Math.PI*i),Math.abs(o)>1e-10?(d=e/o,u=Math.round(d),n=Math.abs(1-d/u)):(d=1,u=1,n=Math.abs(e-o)),n<23*f&&(r=simpleComplexityMeasure(u,a,l))<c&&(c=r,t=[u+" * sin( "+a+"/"+l+" * pi )",approx_sine_of_pi_times_rational,u,a,l]);return t},approxAll=function(e){var t,r,n,i,o,a,s,l,u,c,p;return 2!==(p=e.toString().split(".")).length?[""+Math.floor(e),approx_just_an_integer,Math.floor(e),1,2]:(u=p[1].length,c=1/Math.pow(10,u),console.log("precision: "+c),l=Number.MAX_VALUE,s=0,a=null,!0,null!=(r=approxRadicals(e))&&((s=simpleComplexityMeasure(r))<l?(console.log("better explanation by approxRadicals: "+r+" complexity: "+s),l=s,a=r):console.log("subpar explanation by approxRadicals: "+r+" complexity: "+s)),null!=(t=approxLogs(e))&&((s=simpleComplexityMeasure(t))<l?(console.log("better explanation by approxLogs: "+t+" complexity: "+s),l=s,a=t):console.log("subpar explanation by approxLogs: "+t+" complexity: "+s)),null!=(n=approxRationalsOfPowersOfE(e))&&((s=simpleComplexityMeasure(n))<l?(console.log("better explanation by approxRationalsOfPowersOfE: "+n+" complexity: "+s),l=s,a=n):console.log("subpar explanation by approxRationalsOfPowersOfE: "+n+" complexity: "+s)),null!=(i=approxRationalsOfPowersOfPI(e))&&((s=simpleComplexityMeasure(i))<l?(console.log("better explanation by approxRationalsOfPowersOfPI: "+i+" complexity: "+s),l=s,a=i):console.log("subpar explanation by approxRationalsOfPowersOfPI: "+i+" complexity: "+s)),null!=(o=approxTrigonometric(e))&&((s=simpleComplexityMeasure(o))<l?(console.log("better explanation by approxTrigonometric: "+o+" complexity: "+s),l=s,a=o):console.log("subpar explanation by approxTrigonometric: "+o+" complexity: "+s)),a)},simpleComplexityMeasure=function(e,t,r){var n;if(n=null,e instanceof Array){switch(e[1]){case approx_sine_of_pi_times_rational:n=4;break;case approx_rationalOfPi:n=Math.pow(4,Math.abs(e[3]))*Math.abs(e[2]);break;case approx_rationalOfE:n=Math.pow(3,Math.abs(e[3]))*Math.abs(e[2]);break;default:n=0}n+=Math.abs(e[2])*(Math.abs(e[3])+Math.abs(e[4]))}else n+=Math.abs(e)*(Math.abs(t)+Math.abs(r));return 1===e[2]?n-=1:n+=1,1===e[3]?n-=1:n+=1,1===e[4]?n-=1:n+=1,n<0&&(n=0),n},testApprox=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I,R,D,L,q,B,P,z,U,$,F,G,V,H,j,W,X,Y,Z,J,K,Q,ee,te,re,ne,ie;for(k=0,d=(L=[2,3,5,6,7,8,10]).length;k<d;k++)for(r=L[k],n=0,m=(q=[2,3,5,6,7,8,10]).length;n<m;n++)r!==(a=q[n])&&(console.log("testapproxRadicals testing: 1 * sqrt( "+r+" ) / "+a),t=r/a,ee=Math.sqrt(r)/a,H=(G=approxRadicals(ee))[2]*Math.sqrt(G[3])/G[4],Math.abs(ee-H)>1e-15&&console.log("fail testapproxRadicals: 1 * sqrt( "+r+" ) / "+a+" . obtained: "+G));for(s=0,g=(B=[2,3,5,6,7,8,10]).length;s<g;s++)for(r=B[s],p=0,y=(P=[2,3,5,6,7,8,10]).length;p<y;p++)r!==(a=P[p])&&(console.log("testapproxRadicals testing with 4 digits: 1 * sqrt( "+r+" ) / "+a),t=r/a,ee=(O=Math.sqrt(r)/a).toFixed(4),H=(G=approxRadicals(ee))[2]*Math.sqrt(G[3])/G[4],Math.abs(O-H)>1e-15&&console.log("fail testapproxRadicals with 4 digits: 1 * sqrt( "+r+" ) / "+a+" . obtained: "+G));for(w=0,v=(z=[2,3,5,6,7,8,10]).length;w<v;w++)for(r=z[w],S=0,x=(U=[2,3,5,6,7,8,10]).length;S<x;S++)r!==(a=U[S])&&(console.log("testapproxRadicals testing: 1 * sqrt( "+r+" / "+a+" )"),t=r/a,ee=Math.sqrt(r/a),null!=(G=approxRadicals(ee))&&(H=G[2]*Math.sqrt(G[3]/G[4]),G[1]===approx_radicalOfRatio&&Math.abs(ee-H)>1e-15&&console.log("fail testapproxRadicals: 1 * sqrt( "+r+" / "+a+" ) . obtained: "+G)));for(A=0,b=($=[1,2,3,5,6,7,8,10]).length;A<b;A++)for(r=$[A],C=0,_=(F=[1,2,3,5,6,7,8,10]).length;C<_;C++)a=F[C],1===r&&1===a||(console.log("testapproxRadicals testing with 4 digits:: 1 * sqrt( "+r+" / "+a+" )"),t=r/a,ee=(O=Math.sqrt(r/a)).toFixed(4),H=(G=approxRadicals(ee))[2]*Math.sqrt(G[3]/G[4]),G[1]===approx_radicalOfRatio&&Math.abs(O-H)>1e-15&&console.log("fail testapproxRadicals with 4 digits:: 1 * sqrt( "+r+" / "+a+" ) . obtained: "+G));for(r=R=1;R<=5;r=++R)for(a=j=1;j<=5;a=++j)console.log("testApproxAll testing: 1 * log("+r+" ) / "+a),t=r/a,ee=Math.log(r)/a,H=(G=approxAll(ee))[2]*Math.log(G[3])/G[4],Math.abs(ee-H)>1e-15&&console.log("fail testApproxAll: 1 * log("+r+" ) / "+a+" . obtained: "+G);for(r=X=1;X<=5;r=++X)for(a=Z=1;Z<=5;a=++Z)console.log("testApproxAll testing with 4 digits: 1 * log("+r+" ) / "+a),t=r/a,ee=(O=Math.log(r)/a).toFixed(4),H=(G=approxAll(ee))[2]*Math.log(G[3])/G[4],Math.abs(O-H)>1e-15&&console.log("fail testApproxAll with 4 digits: 1 * log("+r+" ) / "+a+" . obtained: "+G);for(r=K=1;K<=5;r=++K)for(a=te=1;te<=5;a=++te)console.log("testApproxAll testing: 1 * log("+r+" / "+a+" )"),t=r/a,ee=Math.log(r/a),H=(G=approxAll(ee))[2]*Math.log(G[3]/G[4]),Math.abs(ee-H)>1e-15&&console.log("fail testApproxAll: 1 * log("+r+" / "+a+" ) . obtained: "+G);for(r=ne=1;ne<=5;r=++ne)for(a=i=1;i<=5;a=++i)console.log("testApproxAll testing with 4 digits: 1 * log("+r+" / "+a+" )"),t=r/a,ee=(O=Math.log(r/a)).toFixed(4),H=(G=approxAll(ee))[2]*Math.log(G[3]/G[4]),Math.abs(O-H)>1e-15&&console.log("fail testApproxAll with 4 digits: 1 * log("+r+" / "+a+" ) . obtained: "+G);for(r=l=1;l<=2;r=++l)for(a=h=1;h<=12;a=++h)console.log("testApproxAll testing: 1 * (e ^ "+r+" ) / "+a),t=r/a,ee=Math.pow(Math.E,r)/a,H=(G=approxAll(ee))[2]*Math.pow(Math.E,G[3])/G[4],Math.abs(ee-H)>1e-15&&console.log("fail testApproxAll: 1 * (e ^ "+r+" ) / "+a+" . obtained: "+G);for(r=E=1;E<=2;r=++E)for(a=N=1;N<=12;a=++N)console.log("approxRationalsOfPowersOfE testing with 4 digits: 1 * (e ^ "+r+" ) / "+a),t=r/a,ee=(O=Math.pow(Math.E,r)/a).toFixed(4),H=(G=approxRationalsOfPowersOfE(ee))[2]*Math.pow(Math.E,G[3])/G[4],Math.abs(O-H)>1e-15&&console.log("fail approxRationalsOfPowersOfE with 4 digits: 1 * (e ^ "+r+" ) / "+a+" . obtained: "+G);for(r=T=1;T<=2;r=++T)for(a=I=1;I<=12;a=++I)console.log("testApproxAll testing: 1 * pi ^ "+r+" / "+a),t=r/a,ee=Math.pow(Math.PI,r)/a,H=(G=approxAll(ee))[2]*Math.pow(Math.PI,G[3])/G[4],Math.abs(ee-H)>1e-15&&console.log("fail testApproxAll: 1 * pi ^ "+r+" / "+a+" ) . obtained: "+G);for(r=D=1;D<=2;r=++D)for(a=W=1;W<=12;a=++W)console.log("approxRationalsOfPowersOfPI testing with 4 digits: 1 * pi ^ "+r+" / "+a),t=r/a,ee=(O=Math.pow(Math.PI,r)/a).toFixed(4),H=(G=approxRationalsOfPowersOfPI(ee))[2]*Math.pow(Math.PI,G[3])/G[4],Math.abs(O-H)>1e-15&&console.log("fail approxRationalsOfPowersOfPI with 4 digits: 1 * pi ^ "+r+" / "+a+" ) . obtained: "+G);for(r=Y=1;Y<=4;r=++Y)for(a=J=1;J<=4;a=++J)console.log("testApproxAll testing: 1 * sin( "+r+"/"+a+" )"),t=r/a,ee=Math.sin(t),V=(G=approxAll(ee))[3]/G[4],H=G[2]*Math.sin(V),Math.abs(ee-H)>1e-15&&console.log("fail testApproxAll: 1 * sin( "+r+"/"+a+" ) . obtained: "+G);for(r=Q=1;Q<=4;r=++Q)for(a=re=1;re<=4;a=++re)console.log("testApproxAll testing with 5 digits: 1 * sin( "+r+"/"+a+" )"),t=r/a,ee=(O=Math.sin(t)).toFixed(5),null==(G=approxAll(ee))&&console.log("fail testApproxAll with 5 digits: 1 * sin( "+r+"/"+a+" ) . obtained:  undefined "),V=G[3]/G[4],H=G[2]*Math.sin(V),(e=Math.abs(O-H))>1e-14&&console.log("fail testApproxAll with 5 digits: 1 * sin( "+r+"/"+a+" ) . obtained: "+G+" error: "+e);for(r=ie=1;ie<=4;r=++ie)for(a=o=1;o<=4;a=++o)console.log("testApproxAll testing with 4 digits: 1 * sin( "+r+"/"+a+" )"),t=r/a,ee=(O=Math.sin(t)).toFixed(4),null==(G=approxAll(ee))&&console.log("fail testApproxAll with 4 digits: 1 * sin( "+r+"/"+a+" ) . obtained:  undefined "),V=G[3]/G[4],H=G[2]*Math.sin(V),(e=Math.abs(O-H))>1e-14&&console.log("fail testApproxAll with 4 digits: 1 * sin( "+r+"/"+a+" ) . obtained: "+G+" error: "+e);for("0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.0"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.00"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.000"),"0"!==approxAll(ee=0)[0]&&console.log("fail testApproxAll: 0.0000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.00"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0000"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.00000"),ee=Math.sqrt(2),"1 * sqrt( 2 ) / 1"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2)"),"1 * sqrt( 2 ) / 1"!==approxAll(ee=1.41)[0]&&console.log("fail testApproxAll: 1.41"),"1 * sqrt( 2 ) / 1"!==approxRadicals(ee=1.4)[0]&&console.log("fail approxRadicals: 1.4"),"1 * log( 2 ) / 1"!==approxLogs(ee=.6)[0]&&console.log("fail approxLogs: 0.6"),"1 * log( 2 ) / 1"!==approxLogs(ee=.69)[0]&&console.log("fail approxLogs: 0.69"),"1 * log( 2 ) / 1"!==approxLogs(ee=.7)[0]&&console.log("fail approxLogs: 0.7"),"1 * log( 3 ) / 1"!==approxLogs(ee=1.09)[0]&&console.log("fail approxLogs: 1.09"),"1 * log( 3 ) / 1"!==approxAll(ee=1.09)[0]&&console.log("fail approxAll: 1.09"),"1 * log( 3 ) / 1"!==approxAll(ee=1.098)[0]&&console.log("fail approxAll: 1.098"),"1 * log( 3 ) / 1"!==approxAll(ee=1.1)[0]&&console.log("fail approxAll: 1.1"),"1 * log( 3 ) / 1"!==approxAll(ee=1.11)[0]&&console.log("fail approxAll: 1.11"),ee=Math.sqrt(3),"1 * sqrt( 3 ) / 1"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(3)"),"1"!==approxAll(ee=1)[0]&&console.log("fail testApproxAll: 1.0000"),"1 * (pi ^ 1 ) / 1 )"!==approxAll(ee=3.141592)[0]&&console.log("fail testApproxAll: 3.141592"),"10 * (pi ^ 1 ) / 1 )"!==approxAll(ee=31.41592)[0]&&console.log("fail testApproxAll: 31.41592"),"100 * (pi ^ 1 ) / 1 )"!==approxAll(ee=314.1592)[0]&&console.log("fail testApproxAll: 314.1592"),"10000000 * (pi ^ 1 ) / 1 )"!==approxAll(ee=31415926.53589793)[0]&&console.log("fail testApproxAll: 31415926.53589793"),ee=Math.sqrt(2),"2 * sin( 1/4 * pi )"!==approxTrigonometric(ee)[0]&&console.log("fail approxTrigonometric: Math.sqrt(2)"),ee=Math.sqrt(3),"2 * sin( 1/3 * pi )"!==approxTrigonometric(ee)[0]&&console.log("fail approxTrigonometric: Math.sqrt(3)"),ee=(Math.sqrt(6)-Math.sqrt(2))/4,"1 * sin( 1/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(6) - Math.sqrt(2))/4"),ee=Math.sqrt(2-Math.sqrt(2))/2,"1 * sin( 1/8 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2 - Math.sqrt(2))/2"),ee=(Math.sqrt(6)+Math.sqrt(2))/4,"1 * sin( 5/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(6) + Math.sqrt(2))/4"),ee=Math.sqrt(2+Math.sqrt(3))/2,"1 * sin( 5/12 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(2 + Math.sqrt(3))/2"),ee=(Math.sqrt(5)-1)/4,"1 * sin( 1/10 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: (Math.sqrt(5) - 1)/4"),ee=Math.sqrt(10-2*Math.sqrt(5))/4,"1 * sin( 1/5 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sqrt(10 - 2*Math.sqrt(5))/4"),ee=Math.sin(Math.PI/7),"1 * sin( 1/7 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sin(Math.PI/7)"),ee=Math.sin(Math.PI/9),"1 * sin( 1/9 * pi )"!==approxAll(ee)[0]&&console.log("fail testApproxAll: Math.sin(Math.PI/9)"),"6 * (pi ^ 5 ) / 1 )"!==approxRationalsOfPowersOfPI(ee=1836.15267)[0]&&console.log("fail approxRationalsOfPowersOfPI: 1836.15267"),r=u=1;u<=13;r=++u)for(a=c=1;c<=13;a=++c)console.log("approxTrigonometric testing: 1 * sin( "+r+"/"+a+" * pi )"),t=r/a,ee=Math.sin(Math.PI*t),V=(G=approxTrigonometric(ee))[3]/G[4],H=G[2]*Math.sin(Math.PI*V),Math.abs(ee-H)>1e-15&&console.log("fail approxTrigonometric: 1 * sin( "+r+"/"+a+" * pi ) . obtained: "+G);for(r=f=1;f<=13;r=++f)for(a=M=1;M<=13;a=++M)5===r&&11===a||6===r&&11===a||(console.log("approxTrigonometric testing with 4 digits: 1 * sin( "+r+"/"+a+" * pi )"),t=r/a,ee=(O=Math.sin(Math.PI*t)).toFixed(4),V=(G=approxTrigonometric(ee))[3]/G[4],H=G[2]*Math.sin(Math.PI*V),(e=Math.abs(O-H))>1e-14&&console.log("fail approxTrigonometric with 4 digits: 1 * sin( "+r+"/"+a+" * pi ) . obtained: "+G+" error: "+e));return console.log("testApprox done")},$.approxRadicals=approxRadicals,$.approxRationalsOfLogs=approxRationalsOfLogs,$.approxAll=approxAll,$.testApprox=testApprox,Eval_arccos=function(){return push(cadr(p1)),Eval(),arccos()},arccos=function(){var e;if(0,e=0,save(),p1=pop(),car(p1)===symbol(COS))return push(cadr(p1)),void restore();if(isdouble(p1))return 0,e=Math.acos(p1.d),push_double(e),void restore();if(isoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(Math.PI/4):(push_rational(1,4),push_symbol(PI),multiply()),void restore();if(isminusoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),-1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(3*Math.PI/4):(push_rational(3,4),push_symbol(PI),multiply()),void restore();if(issqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(Math.PI/6):(push_rational(1,6),push_symbol(PI),multiply()),void restore();if(isminussqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(5*Math.PI/6):(push_rational(5,6),push_symbol(PI),multiply()),void restore();if(!isrational(p1))return push_symbol(ARCCOS),push(p1),list(2),void restore();switch(push(p1),push_integer(2),multiply(),pop_integer()){case-2:evaluatingAsFloats?push_double(Math.PI):push_symbol(PI);break;case-1:evaluatingAsFloats?push_double(2*Math.PI/3):(push_rational(2,3),push_symbol(PI),multiply());break;case 0:evaluatingAsFloats?push_double(Math.PI/2):(push_rational(1,2),push_symbol(PI),multiply());break;case 1:evaluatingAsFloats?push_double(Math.PI/3):(push_rational(1,3),push_symbol(PI),multiply());break;case 2:evaluatingAsFloats?push_double(0):push(zero);break;default:push_symbol(ARCCOS),push(p1),list(2)}return restore()},Eval_arccosh=function(){return push(cadr(p1)),Eval(),arccosh()},arccosh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(COSH)?(push(cadr(p1)),void restore()):isdouble(p1)?((e=p1.d)<1&&stop("arccosh function argument is less than 1.0"),e=Math.log(e+Math.sqrt(e*e-1)),push_double(e),void restore()):isplusone(p1)?(push(zero),void restore()):(push_symbol(ARCCOSH),push(p1),list(2),restore())},Eval_arcsin=function(){return push(cadr(p1)),Eval(),arcsin()},arcsin=function(){var e;if(0,e=0,save(),p1=pop(),car(p1)===symbol(SIN))return push(cadr(p1)),void restore();if(isdouble(p1))return 0,e=Math.asin(p1.d),push_double(e),void restore();if(isoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return push_rational(1,4),push_symbol(PI),multiply(),void restore();if(isminusoneoversqrttwo(p1)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),-1,2)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),2)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2))return evaluatingAsFloats?push_double(-Math.PI/4):(push_rational(-1,4),push_symbol(PI),multiply()),void restore();if(issqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(Math.PI/3):(push_rational(1,3),push_symbol(PI),multiply()),void restore();if(isminussqrtthreeovertwo(p1))return evaluatingAsFloats?push_double(-Math.PI/3):(push_rational(-1,3),push_symbol(PI),multiply()),void restore();if(!isrational(p1))return push_symbol(ARCSIN),push(p1),list(2),void restore();switch(push(p1),push_integer(2),multiply(),pop_integer()){case-2:evaluatingAsFloats?push_double(-Math.PI/2):(push_rational(-1,2),push_symbol(PI),multiply());break;case-1:evaluatingAsFloats?push_double(-Math.PI/6):(push_rational(-1,6),push_symbol(PI),multiply());break;case 0:evaluatingAsFloats?push_double(0):push(zero);break;case 1:evaluatingAsFloats?push_double(Math.PI/6):(push_rational(1,6),push_symbol(PI),multiply());break;case 2:evaluatingAsFloats?push_double(Math.PI/2):(push_rational(1,2),push_symbol(PI),multiply());break;default:push_symbol(ARCSIN),push(p1),list(2)}return restore()},Eval_arcsinh=function(){return push(cadr(p1)),Eval(),arcsinh()},arcsinh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(SINH)?(push(cadr(p1)),void restore()):isdouble(p1)?(e=p1.d,e=Math.log(e+Math.sqrt(e*e+1)),push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(ARCSINH),push(p1),list(2),restore())},Eval_arctan=function(){return push(cadr(p1)),Eval(),arctan()},arctan=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(TAN)?(push(cadr(p1)),void restore()):isdouble(p1)?(0,e=Math.atan(p1.d),push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):isnegative(p1)?(push(p1),negate(),arctan(),negate(),void restore()):Find(p1,symbol(SIN))&&Find(p1,symbol(COS))&&(push(p1),numerator(),p2=pop(),push(p1),denominator(),p3=pop(),car(p2)===symbol(SIN)&&car(p3)===symbol(COS)&&equal(cadr(p2),cadr(p3)))?(push(cadr(p2)),void restore()):car(p1)===symbol(POWER)&&equaln(cadr(p1),3)&&equalq(caddr(p1),-1,2)||car(p1)===symbol(MULTIPLY)&&equalq(car(cdr(p1)),1,3)&&car(car(cdr(cdr(p1))))===symbol(POWER)&&equaln(car(cdr(car(cdr(cdr(p1))))),3)&&equalq(car(cdr(cdr(car(cdr(cdr(p1)))))),1,2)?(push_rational(1,6),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):equaln(p1,1)?(push_rational(1,4),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):car(p1)===symbol(POWER)&&equaln(cadr(p1),3)&&equalq(caddr(p1),1,2)?(push_rational(1,3),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),multiply(),void restore()):(push_symbol(ARCTAN),push(p1),list(2),restore())},Eval_arctanh=function(){return push(cadr(p1)),Eval(),arctanh()},arctanh=function(){var e;return e=0,save(),p1=pop(),car(p1)===symbol(TANH)?(push(cadr(p1)),void restore()):isdouble(p1)?(((e=p1.d)<-1||e>1)&&stop("arctanh function argument is not in the interval [-1,1]"),e=Math.log((1+e)/(1-e))/2,push_double(e),void restore()):isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(ARCTANH),push(p1),list(2),restore())},DEBUG_ARG=!1,Eval_arg=function(){return push(cadr(p1)),Eval(),arg()},arg=function(){return save(),p1=pop(),push(p1),numerator(),yyarg(),push(p1),denominator(),yyarg(),subtract(),restore()},yyarg=function(){if(save(),p1=pop(),ispositivenumber(p1)||p1===symbol(PI))isdouble(p1)||evaluatingAsFloats?push_double(0):push_integer(0);else if(isnegativenumber(p1))isdouble(p1)||evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),negate();else if(issymbol(p1))push_symbol(ARG),push(p1),list(2);else if(car(p1)===symbol(POWER)&&equaln(cadr(p1),-1))evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),push(caddr(p1)),multiply();else if(car(p1)===symbol(POWER)&&cadr(p1)===symbol(E))push(caddr(p1)),imag();else if(car(p1)===symbol(POWER)&&isoneovertwo(caddr(p1)))DEBUG_ARG&&console.log("arg of a sqrt: "+p1),push(cadr(p1)),arg(),DEBUG_ARG&&console.log(" = 1/2 * "+stack[tos-1]),push(caddr(p1)),multiply();else if(car(p1)===symbol(MULTIPLY))for(push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),arg(),add(),p1=cdr(p1);else car(p1)===symbol(ADD)?(push(p1),rect(),p1=pop(),push(p1),real(),p2=pop(),push(p1),imag(),p3=pop(),isZeroAtomOrTensor(p2)?(evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),isnegative(p3)&&negate()):(push(p3),push(p2),divide(),arctan(),isnegative(p2)&&(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),isnegative(p3)?subtract():add()))):isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))?(push_symbol(ARG),push(p1),list(2)):push_integer(0);return restore()},bake=function(){var e,t,r,n,i,o;if(e=0,0,0,0,0,0,expanding++,save(),p1=pop(),t=ispolyexpandedform(p1,symbol(SYMBOL_S)),r=ispolyexpandedform(p1,symbol(SYMBOL_T)),n=ispolyexpandedform(p1,symbol(SYMBOL_X)),i=ispolyexpandedform(p1,symbol(SYMBOL_Y)),o=ispolyexpandedform(p1,symbol(SYMBOL_Z)),1===t&&0===r&&0===n&&0===i&&0===o)p2=symbol(SYMBOL_S),bake_poly();else if(0===t&&1===r&&0===n&&0===i&&0===o)p2=symbol(SYMBOL_T),bake_poly();else if(0===t&&0===r&&1===n&&0===i&&0===o)p2=symbol(SYMBOL_X),bake_poly();else if(0===t&&0===r&&0===n&&1===i&&0===o)p2=symbol(SYMBOL_Y),bake_poly();else if(0===t&&0===r&&0===n&&0===i&&1===o)p2=symbol(SYMBOL_Z),bake_poly();else if(iscons(p1)&&car(p1)!==symbol(FOR)){for(e=tos,push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),bake(),p1=cdr(p1);list(tos-e)}else push(p1);return restore(),expanding--},polyform=function(){var e;if(e=0,save(),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2))bake_poly();else if(iscons(p1)){for(e=tos,push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),polyform(),p1=cdr(p1);list(tos-e)}else push(p1);return restore()},bake_poly=function(){var e,t,r,n,i,o;for(0,r=0,0,0,e=tos,n=coeff(p2,p1),t=tos,r=o=n-1;o>=0;r=o+=-1)p1=stack[e+r],bake_poly_term(r);return(i=tos-t)>1&&(list(i),push(symbol(ADD)),swap(),cons()),p1=pop(),moveTos(tos-n),push(p1)},bake_poly_term=function(e){var t,r;if(0,0,!isZeroAtomOrTensor(p1)){if(0!==e){if(t=tos,car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else equaln(p1,1)||push(p1);return 1===e?push(p2):(push(symbol(POWER)),push(p2),push_integer(e),list(3)),(r=tos-t)>1?(list(r),push(symbol(MULTIPLY)),swap(),cons()):void 0}if(car(p1)===symbol(ADD))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else push(p1)}},Eval_besselj=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),besselj()},besselj=function(){return save(),yybesselj(),restore()},yybesselj=function(){var e,t;if(e=0,0,p2=pop(),p1=pop(),push(p2),t=pop_integer(),isdouble(p1)&&!isNaN(t))return e=jn(t,p1.d),void push_double(e);if(isZeroAtomOrTensor(p1)&&isZeroAtomOrTensor(p2))push_integer(1);else{if(!isZeroAtomOrTensor(p1)||isNaN(t))return p2.k===NUM&&MEQUAL(p2.q.b,2)?MEQUAL(p2.q.a,1)?(evaluatingAsFloats?push_double(2/Math.PI):(push_integer(2),push_symbol(PI),divide()),push(p1),divide(),push_rational(1,2),power(),push(p1),sine(),void multiply()):MEQUAL(p2.q.a,-1)?(evaluatingAsFloats?push_double(2/Math.PI):(push_integer(2),push_symbol(PI),divide()),push(p1),divide(),push_rational(1,2),power(),push(p1),cosine(),void multiply()):(push_integer(MSIGN(p2.q.a)),p3=pop(),push_integer(2),push(p1),divide(),push(p2),push(p3),subtract(),multiply(),push(p1),push(p2),push(p3),subtract(),besselj(),multiply(),push(p1),push(p2),push_integer(2),push(p3),multiply(),subtract(),besselj(),void subtract()):isnegativeterm(p1)?(push(p1),negate(),push(p2),power(),push(p1),push(p2),negate(),power(),multiply(),push_symbol(BESSELJ),push(p1),negate(),push(p2),list(3),void multiply()):isnegativeterm(p2)?(push_integer(-1),push(p2),power(),push_symbol(BESSELJ),push(p1),push(p2),negate(),list(3),void multiply()):(push(symbol(BESSELJ)),push(p1),push(p2),list(3));push_integer(0)}},Eval_bessely=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),bessely()},bessely=function(){return save(),yybessely(),restore()},yybessely=function(){var e,t;return e=0,0,p2=pop(),p1=pop(),push(p2),t=pop_integer(),isdouble(p1)&&!isNaN(t)?(e=yn(t,p1.d),void push_double(e)):isnegativeterm(p2)?(push_integer(-1),push(p2),power(),push_symbol(BESSELY),push(p1),push(p2),negate(),list(3),void multiply()):(push_symbol(BESSELY),push(p1),push(p2),void list(3))},mint=function(e){return bigInt(e)},isSmall=function(e){return e.geq(Number.MIN_SAFE_INTEGER)&&e.leq(Number.MAX_SAFE_INTEGER)},setSignTo=function(e,t){if(e.isPositive()){if(t<0)return e.multiply(bigInt(-1))}else if(t>0)return e.multiply(bigInt(-1));return e},makeSignSameAs=function(e,t){if(e.isPositive()){if(t.isNegative())return e.multiply(bigInt(-1))}else if(t.isPositive())return e.multiply(bigInt(-1));return e},makePositive=function(e){return e.isNegative()?e.multiply(bigInt(-1)):e},add_numbers=function(){var e,t;if(e=1,t=1,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e+t),restore();qadd()},subtract_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e-t),restore();qsub()},multiply_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e*t),restore();qmul()},divide_numbers=function(){var e,t;if(e=0,t=0,!isrational(stack[tos-1])||!isrational(stack[tos-2]))return save(),p2=pop(),p1=pop(),isZeroAtomOrTensor(p2)&&stop("divide by zero"),e=isdouble(p1)?p1.d:convert_rational_to_double(p1),t=isdouble(p2)?p2.d:convert_rational_to_double(p2),push_double(e/t),restore();qdiv()},invert_number=function(){var e,t;return save(),p1=pop(),isZeroAtomOrTensor(p1)&&stop("divide by zero"),isdouble(p1)?(push_double(1/p1.d),void restore()):(e=bigInt(p1.q.a),t=bigInt(p1.q.b),t=makeSignSameAs(t,e),e=setSignTo(e,1),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=e,push(p1),restore())},compare_rationals=function(e,t){var r,n;return 0,r=mmul(e.q.a,t.q.b),n=mmul(e.q.b,t.q.a),mcmp(r,n)},compare_numbers=function(e,t){var r,n;return r=0,n=0,isrational(e)&&isrational(t)?compare_rationals(e,t):(r=isdouble(e)?e.d:convert_rational_to_double(e))<(n=isdouble(t)?t.d:convert_rational_to_double(t))?-1:r>n?1:0},negate_number=function(){if(save(),p1=pop(),isZeroAtomOrTensor(p1))return push(p1),void restore();switch(p1.k){case NUM:(p2=new U).k=NUM,p2.q.a=bigInt(p1.q.a.multiply(bigInt.minusOne)),p2.q.b=bigInt(p1.q.b),push(p2);break;case DOUBLE:push_double(-p1.d);break;default:stop("bug caught in mp_negate_number")}return restore()},bignum_truncate=function(){var e;return save(),p1=pop(),e=mdiv(p1.q.a,p1.q.b),(p1=new U).k=NUM,p1.q.a=e,p1.q.b=bigInt(1),push(p1),restore()},mp_numerator=function(){return save(),(p1=pop()).k!==NUM?(push(one),void restore()):((p2=new U).k=NUM,p2.q.a=bigInt(p1.q.a),p2.q.b=bigInt(1),push(p2),restore())},mp_denominator=function(){return save(),(p1=pop()).k!==NUM?(push(one),void restore()):((p2=new U).k=NUM,p2.q.a=bigInt(p1.q.b),p2.q.b=bigInt(1),push(p2),restore())},bignum_power_number=function(e){var t,r,n;return save(),p1=pop(),t=mpow(p1.q.a,Math.abs(e)),r=mpow(p1.q.b,Math.abs(e)),e<0&&(n=t,t=makeSignSameAs(t=r,r=n),r=setSignTo(r,1)),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=r,push(p1),restore()},convert_bignum_to_double=function(e){return e.toJSNumber()},convert_rational_to_double=function(e){var t;return e.q,(t=e.q.a.divmod(e.q.b)).quotient+t.remainder/e.q.b.toJSNumber()},new_integer=function(e){var t;return(t=new U).k=NUM,t.q.a=bigInt(e),t.q.b=bigInt(1),t},push_integer=function(e){return DEBUG&&console.log("pushing integer "+e),push(new_integer(e))},push_double=function(e){return save(),(p1=new U).k=DOUBLE,p1.d=e,push(p1),restore()},push_rational=function(e,t){var r;return(r=new U).k=NUM,r.q.a=bigInt(e),r.q.b=bigInt(t),push(r)},pop_integer=function(){var e;switch(e=NaN,save(),(p1=pop()).k){case NUM:isinteger(p1)&&isSmall(p1.q.a)&&(e=p1.q.a.toJSNumber());break;case DOUBLE:DEBUG&&console.log("popping integer but double is found"),Math.floor(p1.d)===p1.d&&(DEBUG&&console.log("...altough it's an integer"),e=p1.d)}return restore(),e},print_double=function(e,t){var r,n;return r="",n=doubleToReasonableString(e.d),r+=print_str(1===t&&"-"===n?n+1:n)},bignum_scan_integer=function(e){var t,r,n;return save(),"+"!==(n=e[r=0])&&"-"!==n||r++,t=bigInt(e.substring(r)),(p1=new U).k=NUM,p1.q.a=t,p1.q.b=bigInt(1),push(p1),"-"===n&&negate(),restore()},bignum_scan_float=function(e){return push_double(parseFloat(e))},print_number=function(e,t){var r,n,i;switch(n="",i="","",e.k){case NUM:r=e.q.a.toString(),t||"-"===r[0]&&(r=r.substring(1)),printMode===PRINTMODE_LATEX&&isfraction(e)&&(r="\\frac{"+r+"}{"),n+=r,isfraction(e)&&(printMode!==PRINTMODE_LATEX&&(n+="/"),i=e.q.b.toString(),printMode===PRINTMODE_LATEX&&(i+="}"),n+=i);break;case DOUBLE:r=doubleToReasonableString(e.d),t||"-"===r[0]&&(r=r.substring(1)),n+=r}return n},gcd_numbers=function(){return save(),p2=pop(),p1=pop(),(p3=new U).k=NUM,p3.q.a=mgcd(p1.q.a,p2.q.a),p3.q.b=mgcd(p1.q.b,p2.q.b),p3.q.a=setSignTo(p3.q.a,1),push(p3),restore()},pop_double=function(){var e;switch(e=0,save(),(p1=pop()).k){case NUM:e=convert_rational_to_double(p1);break;case DOUBLE:e=p1.d;break;default:e=0}return restore(),e},bignum_float=function(){var e;return 0,e=convert_rational_to_double(pop()),push_double(e)},bignum_factorial=function(e){return save(),(p1=new U).k=NUM,p1.q.a=__factorial(e),p1.q.b=bigInt(1),push(p1),restore()},__factorial=function(e){var t,r,n,i,o;if(n=0,0===e||1===e)return t=bigInt(1);if(t=bigInt(2),r=bigInt(0),3<=e)for(n=i=3,o=e;3<=o?i<=o:i>=o;n=3<=o?++i:--i)r=bigInt(n),t=mmul(t,r);return t},mask=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648],mp_set_bit=function(e,t){return console.log("not implemented yet"),e[t/32]|=mask[t%32]},mp_clr_bit=function(e,t){return console.log("not implemented yet"),e[t/32]&=~mask[t%32]},mshiftright=function(e){return e.shiftRight()},Eval_binomial=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),binomial()},binomial=function(){return save(),ybinomial(),restore()},ybinomial=function(){if(p2=pop(),p1=pop(),0!==BINOM_check_args())return push(p1),factorial(),push(p2),factorial(),divide(),push(p1),push(p2),subtract(),factorial(),divide();push(zero)},BINOM_check_args=function(){return isNumericAtom(p1)&&lessp(p1,zero)||isNumericAtom(p2)&&lessp(p2,zero)||isNumericAtom(p1)&&isNumericAtom(p2)&&lessp(p1,p2)?0:1},Eval_ceiling=function(){return push(cadr(p1)),Eval(),ceiling()},ceiling=function(){return save(),yyceiling(),restore()},yyceiling=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.ceil(p1.d),void push_double(e)):isinteger(p1)?void push(p1):((p3=new U).k=NUM,p3.q.a=mdiv(p1.q.a,p1.q.b),p3.q.b=mint(1),push(p3),isnegativenumber(p1)?1:(push_integer(1),add())):(push_symbol(CEILING),push(p1),void list(2))},Eval_choose=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),choose()},choose=function(){return save(),p2=pop(),p1=pop(),0===choose_check_args()?(push_integer(0),void restore()):(push(p1),factorial(),push(p2),factorial(),divide(),push(p1),push(p2),subtract(),factorial(),divide(),restore())},choose_check_args=function(){return isNumericAtom(p1)&&lessp(p1,zero)||isNumericAtom(p2)&&lessp(p2,zero)||isNumericAtom(p1)&&isNumericAtom(p2)&&lessp(p1,p2)?0:1},Eval_circexp=function(){return push(cadr(p1)),Eval(),circexp(),Eval()},circexp=function(){var e,t,r,n;if(t=0,e=0,save(),p1=pop(),car(p1)===symbol(COS))return push(cadr(p1)),expcos(),void restore();if(car(p1)===symbol(SIN))return push(cadr(p1)),expsin(),void restore();if(car(p1)===symbol(TAN))return p1=cadr(p1),push(imaginaryunit),push(p1),multiply(),exponential(),p2=pop(),push(imaginaryunit),push(p1),multiply(),negate(),exponential(),p3=pop(),push(p3),push(p2),subtract(),push(imaginaryunit),multiply(),push(p2),push(p3),add(),divide(),void restore();if(car(p1)===symbol(COSH))return p1=cadr(p1),push(p1),exponential(),push(p1),negate(),exponential(),add(),push_rational(1,2),multiply(),void restore();if(car(p1)===symbol(SINH))return p1=cadr(p1),push(p1),exponential(),push(p1),negate(),exponential(),subtract(),push_rational(1,2),multiply(),void restore();if(car(p1)===symbol(TANH))return p1=cadr(p1),push(p1),push_integer(2),multiply(),exponential(),p1=pop(),push(p1),push_integer(1),subtract(),push(p1),push_integer(1),add(),divide(),void restore();if(iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),circexp(),p1=cdr(p1);return list(tos-e),void restore()}if(p1.k===TENSOR){for(push(p1),copy_tensor(),t=r=0,n=(p1=pop()).tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)push(p1.tensor.elem[t]),circexp(),p1.tensor.elem[t]=pop();return push(p1),void restore()}return push(p1),restore()},Eval_clearall=function(){return do_clearall(),push(symbol(NIL))},do_clearall=function(){return 0===test_flag&&clear_term(),do_clearPatterns(),clear_symbols(),defn(),codeGen=!1},clearall=function(){return run("clearall")},clearRenamedVariablesToAvoidBindingToExternalScope=function(){var e,t,r,n;for(n=[],e=t=0,r=symtab.length;0<=r?t<r:t>r;e=0<=r?++t:--t)-1!==symtab[e].printname.indexOf("AVOID_BINDING_TO_EXTERNAL_SCOPE_VALUE")?(symtab[e].k=SYM,symtab[e].printname="",binding[e]=symtab[e],n.push(isSymbolReclaimable[e]=!0)):n.push(void 0);return n},Eval_clear=function(){var e,t;for(p2=cdr(p1);iscons(p2);)(t=car(p2)).k!==SYM&&stop("symbol error"),e=symtab.indexOf(t),symtab[e].k=SYM,symtab[e].printname="",binding[e]=symtab[e],isSymbolReclaimable[e]=!0,p2=cdr(p2);return push(symbol(NIL))},DEBUG_CLOCKFORM=!1,Eval_clock=function(){return push(cadr(p1)),Eval(),clockform()},clockform=function(){return save(),p1=pop(),push(p1),abs(),DEBUG_CLOCKFORM&&console.log("clockform: abs of "+p1+" : "+stack[tos-1]),push_symbol(POWER),push_integer(-1),push(p1),arg(),DEBUG_CLOCKFORM&&console.log("clockform: arg of "+p1+" : "+stack[tos-1]),evaluatingAsFloats?push_double(Math.PI):push(symbol(PI)),divide(),DEBUG_CLOCKFORM&&console.log("clockform: divide : "+stack[tos-1]),list(3),DEBUG_CLOCKFORM&&console.log("clockform: power : "+stack[tos-1]),multiply(),DEBUG_CLOCKFORM&&console.log("clockform: multiply : "+stack[tos-1]),restore()},Eval_coeff=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),p3=pop(),p2=pop(),p1=pop(),p3===symbol(NIL)&&(p3=p2,p2=symbol(SYMBOL_X)),push(p1),push(p2),push(p3),power(),divide(),push(p2),filter()},coeff=function(e,t){var r,n,i,o;for(DEBUG&&console.log("coeff: "+e+" "+t),r=0;;){if(push(t),push(e),push(zero),subst(),Eval(),n=pop(),push(n),r++,push(t),push(n),subtract(),i=pop(),equal(i,zero))return DEBUG&&console.log("coeff: result: "+r),r;push(i),push(e),o=expanding,expanding=1,divide(),expanding=o,t=pop()}},Eval_cofactor=function(){var e,t,r;return 0,0,0,push(cadr(p1)),Eval(),p2=pop(),istensor(p2)&&2===p2.tensor.ndim&&p2.tensor.dim[0]===p2.tensor.dim[1]?1:stop("cofactor: 1st arg: square matrix expected"),r=p2.tensor.dim[0],push(caddr(p1)),Eval(),((e=pop_integer())<1||e>r)&&stop("cofactor: 2nd arg: row index expected"),push(cadddr(p1)),Eval(),((t=pop_integer())<1||t>r)&&stop("cofactor: 3rd arg: column index expected"),cofactor(p2,r,e-1,t-1)},cofactor=function(e,t,r,n){var i,o,a,s,l,u;for(i=0,a=0,i=s=0,l=t;0<=l?s<l:s>l;i=0<=l?++s:--s)for(a=o=0,u=t;0<=u?o<u:o>u;a=0<=u?++o:--o)i!==r&&a!==n&&push(e.tensor.elem[t*i+a]);if(determinant(t-1),(r+n)%2)return negate()},Eval_condense=function(){return push(cadr(p1)),Eval(),Condense()},Condense=function(){var e;return e=expanding,expanding=0,save(),yycondense(),restore(),expanding=e},yycondense=function(){if(p1=pop(),car(p1)===symbol(ADD)){for(p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),DEBUG&&console.log("calculating gcd between: "+stack[tos-1]+" and "+stack[tos-2]),gcd(),DEBUG&&console.log("partial gcd: "+stack[tos-1]),p3=cdr(p3);for(DEBUG&&console.log("condense: this is the gcd of all the terms: "+stack[tos-1]),inverse(),p2=pop(),push(zero),p3=cdr(p1);iscons(p3);)push(p2),push(car(p3)),multiply_noexpand(),add(),p3=cdr(p3);return yyexpand(),push(p2),divide()}push(p1)},Eval_conj=function(){return push(cadr(p1)),Eval(),p1=pop(),push(p1),Find(p1,imaginaryunit)?conjugate():(polar(),conjugate(),clockform())},conjugate=function(){return push(imaginaryunit),push(imaginaryunit),negate(),subst(),Eval()},consCount=0,cons=function(){var e;return consCount++,DEBUG&&console.log("cons tos: "+tos+" # "+consCount),(e=new U).k=CONS,e.cons.cdr=pop(),e===e.cons.cdr&&console.log("something wrong p == its cdr"),e.cons.car=pop(),push(e)},Eval_contract=function(){return push(cadr(p1)),Eval(),cddr(p1)===symbol(NIL)?(push_integer(1),push_integer(2)):(push(caddr(p1)),Eval(),push(cadddr(p1)),Eval()),contract()},contract=function(){return save(),yycontract(),restore()},yycontract=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N;if(i=0,o=0,s=0,u=0,c=0,h=0,0,0,y=0,t=[],r=[],p3=pop(),p2=pop(),p1=pop(),!istensor(p1))return isZeroAtomOrTensor(p1)||stop("contract: tensor expected, 1st arg is not a tensor"),void push(zero);for(push(p2),c=pop_integer(),push(p3),h=pop_integer(),g=p1.tensor.ndim,(c<1||c>g||h<1||h>g||c===h||p1.tensor.dim[c-1]!==p1.tensor.dim[h-1])&&stop("contract: index out of range"),c--,h--,d=p1.tensor.dim[c],y=1,o=v=0,b=g;0<=b?v<b:v>b;o=0<=b?++v:--v)o!==c&&o!==h&&(y*=p1.tensor.dim[o]);for((p2=alloc_tensor(y)).tensor.ndim=g-2,s=0,o=a=0,_=g;0<=_?a<_:a>_;o=0<=_?++a:--a)o!==c&&o!==h&&(p2.tensor.dim[s++]=p1.tensor.dim[o]);for(e=p1.tensor.elem,n=p2.tensor.elem,o=l=0,w=g;0<=w?l<w:l>w;o=0<=w?++l:--l)t[o]=0,r[o]=p1.tensor.dim[o];for(o=p=0,E=y;0<=E?p<E:p>E;o=0<=E?++p:--p){for(push(zero),s=f=0,M=d;0<=M?f<M:f>M;s=0<=M?++f:--f){for(t[c]=s,t[h]=s,i=0,u=m=0,S=g;0<=S?m<S:m>S;u=0<=S?++m:--m)i=i*r[u]+t[u];push(e[i]),add()}for(n[o]=pop(),s=x=N=g-1;N<=0?x<=0:x>=0;s=N<=0?++x:--x)if(s!==c&&s!==h){if(++t[s]<r[s])break;t[s]=0}}return push(1===y?n[0]:p2)},Eval_cos=function(){return push(cadr(p1)),Eval(),cosine()},cosine=function(){return save(),p1=pop(),car(p1)===symbol(ADD)?cosine_of_angle_sum():cosine_of_angle(),restore()},cosine_of_angle_sum=function(){for(p2=cdr(p1);iscons(p2);){if(p4=car(p2),isnpi(p4))return push(p1),push(p4),subtract(),p3=pop(),push(p3),cosine(),push(p4),cosine(),multiply(),push(p3),sine(),push(p4),sine(),multiply(),void subtract();p2=cdr(p2)}return cosine_of_angle()},cosine_of_angle=function(){var e,t;if(car(p1)!==symbol(ARCCOS)){if(isdouble(p1))return e=Math.cos(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1)&&(push(p1),negate(),p1=pop()),car(p1)===symbol(ARCTAN))return push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),push_rational(-1,2),void power();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(COS)),push(p1),void list(2);switch(t%360){case 90:case 270:return push_integer(0);case 60:case 300:return push_rational(1,2);case 120:case 240:return push_rational(-1,2);case 45:case 315:return push_rational(1,2),push_integer(2),push_rational(1,2),power(),multiply();case 135:case 225:return push_rational(-1,2),push_integer(2),push_rational(1,2),power(),multiply();case 30:case 330:return push_rational(1,2),push_integer(3),push_rational(1,2),power(),multiply();case 150:case 210:return push_rational(-1,2),push_integer(3),push_rational(1,2),power(),multiply();case 0:return push_integer(1);case 180:return push_integer(-1);default:return push(symbol(COS)),push(p1),list(2)}}else push(cadr(p1))},Eval_cosh=function(){return push(cadr(p1)),Eval(),ycosh()},ycosh=function(){return save(),yycosh(),restore()},yycosh=function(){var e;if(e=0,p1=pop(),car(p1)!==symbol(ARCCOSH)){if(isdouble(p1))return e=Math.cosh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(COSH),push(p1),list(2);push(one)}else push(cadr(p1))},Eval_decomp=function(){var e;return save(),console.log("Eval_decomp is being called!!!!!!!!!!!!!!!!!!!!"),e=tos,push(symbol(NIL)),push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),decomp(!1),list(tos-e),restore()},pushTryNotToDuplicate=function(e){if(!(tos>0&&(DEBUG&&console.log("comparing "+e+" to: "+stack[tos-1]),equal(e,stack[tos-1]))))return push(e);DEBUG&&console.log("skipping "+e+" because it's already on stack ")},decomp=function(e){if(save(),p2=pop(),p1=pop(),DEBUG&&console.log("DECOMPOSING "+p1),e){if(!iscons(p1))return DEBUG&&console.log(" ground thing: "+p1),pushTryNotToDuplicate(p1),void restore()}else if(0===Find(p1,p2))return DEBUG&&console.log(" entire expression is constant"),pushTryNotToDuplicate(p1),void restore();if(isadd(p1))return decomp_sum(e),void restore();if(ismultiply(p1))return decomp_product(e),void restore();for(DEBUG&&console.log(" naive decomp"),p3=cdr(p1),DEBUG&&console.log("startig p3: "+p3);iscons(p3);)e&&push(car(p3)),DEBUG&&console.log("recursive decomposition"),push(car(p3)),DEBUG&&console.log("car(p3): "+car(p3)),push(p2),DEBUG&&console.log("p2: "+p2),decomp(e),p3=cdr(p3);return restore()},decomp_sum=function(e){var t;for(DEBUG&&console.log(" decomposing the sum "),0,p3=cdr(p1);iscons(p3);)(Find(car(p3),p2)||e)&&(push(car(p3)),push(p2),decomp(e)),p3=cdr(p3);for(t=tos,p3=cdr(p1);iscons(p3);)0===Find(car(p3),p2)&&pushTryNotToDuplicate(car(p3)),p3=cdr(p3);if(tos-t)return add_all(tos-t),p3=pop(),pushTryNotToDuplicate(p3),push(p3),negate()},decomp_product=function(e){var t;for(DEBUG&&console.log(" decomposing the product "),0,p3=cdr(p1);iscons(p3);)(Find(car(p3),p2)||e)&&(push(car(p3)),push(p2),decomp(e)),p3=cdr(p3);for(t=tos,p3=cdr(p1);iscons(p3);)0===Find(car(p3),p2)&&pushTryNotToDuplicate(car(p3)),p3=cdr(p3);if(tos-t)return multiply_all(tos-t)},define_user_function=function(){return p3=caadr(p1),p4=cdadr(p1),p5=caddr(p1),issymbol(p3)||stop("function name?"),car(p5)===symbol(EVAL)&&(push(cadr(p5)),Eval(),p5=pop()),push_symbol(FUNCTION),push(p5),push(p4),list(3),p5=pop(),set_binding(p3,p5),push_symbol(NIL)},Eval_function_reference=function(){return push(p1)},Eval_defint=function(){for(push(cadr(p1)),Eval(),p2=pop(),p1=cddr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1),Eval(),p3=pop(),push(car(p1)),p1=cdr(p1),Eval(),p4=pop(),push(car(p1)),p1=cdr(p1),Eval(),p5=pop(),push(p2),push(p3),integral(),p2=pop(),push(p2),push(p3),push(p5),subst(),Eval(),push(p2),push(p3),push(p4),subst(),Eval(),subtract(),p2=pop();return push(p2)},Eval_degree=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),degree()},degree=function(){return save(),p2=pop(),p1=pop(),p3=zero,yydegree(p1),push(p3),restore()},yydegree=function(e){var t;if(equal(e,p2)){if(isZeroAtomOrTensor(p3))return p3=one}else if(car(e)===symbol(POWER)){if(equal(cadr(e),p2)&&isNumericAtom(caddr(e))&&lessp(p3,caddr(e)))return p3=caddr(e)}else if(iscons(e)){for(e=cdr(e),t=[];iscons(e);)yydegree(car(e)),t.push(e=cdr(e));return t}},Eval_denominator=function(){return push(cadr(p1)),Eval(),denominator()},denominator=function(){var e,t;if(e=0,t=pop(),car(t)===symbol(ADD)&&(push(t),rationalize(),t=pop()),car(t)!==symbol(MULTIPLY)||isplusone(car(cdr(t))))return isrational(t)?(push(t),mp_denominator()):car(t)===symbol(POWER)&&isnegativeterm(caddr(t))?(push(t),reciprocate()):push(one);for(e=tos,t=cdr(t);iscons(t);)push(car(t)),denominator(),t=cdr(t);return multiply_all(tos-e)},Eval_derivative=function(){var e,t,r,n,i;for(0,p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?(guess(),push(symbol(NIL))):isNumericAtom(p2)?(guess(),push(p2)):(push(p2),p1=cdr(p1),push(car(p1)),Eval()),p5=pop(),p4=pop(),p3=pop();;){if(isNumericAtom(p5)?(push(p5),t=pop_integer(),isNaN(t)&&stop("nth derivative: check n")):t=1,push(p3),t>=0)for(r=0,n=t;0<=n?r<n:r>n;0<=n?++r:--r)push(p4),derivative();else for(e=0,i=t=-t;0<=i?e<i:e>i;0<=i?++e:--e)push(p4),integral();if(p3=pop(),p5===symbol(NIL))break;if(isNumericAtom(p5)){if(p1=cdr(p1),push(car(p1)),Eval(),(p5=pop())===symbol(NIL))break;isNumericAtom(p5)?1:(p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop())}else p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop()}return push(p3)},derivative=function(){return save(),p2=pop(),p1=pop(),isNumericAtom(p2)&&stop("undefined function"),istensor(p1)?istensor(p2)?d_tensor_tensor():d_tensor_scalar():istensor(p2)?d_scalar_tensor():d_scalar_scalar(),restore()},d_scalar_scalar=function(){return issymbol(p2)?d_scalar_scalar_1():(push(p1),push(p2),push(symbol(SECRETX)),subst(),push(symbol(SECRETX)),derivative(),push(symbol(SECRETX)),push(p2),subst())},d_scalar_scalar_1=function(){if(equal(p1,p2))push(one);else if(iscons(p1))if(isadd(p1))dsum();else if(car(p1)!==symbol(MULTIPLY))if(car(p1)!==symbol(POWER))if(car(p1)!==symbol(DERIVATIVE))if(car(p1)!==symbol(LOG))if(car(p1)!==symbol(SIN))if(car(p1)!==symbol(COS))if(car(p1)!==symbol(TAN))if(car(p1)!==symbol(ARCSIN))if(car(p1)!==symbol(ARCCOS))if(car(p1)!==symbol(ARCTAN))if(car(p1)!==symbol(SINH))if(car(p1)!==symbol(COSH))if(car(p1)!==symbol(TANH))if(car(p1)!==symbol(ARCSINH))if(car(p1)!==symbol(ARCCOSH))if(car(p1)!==symbol(ARCTANH))if(car(p1)!==symbol(ABS))if(car(p1)!==symbol(SGN))if(car(p1)!==symbol(HERMITE))if(car(p1)!==symbol(ERF))if(car(p1)!==symbol(ERFC))if(car(p1)!==symbol(BESSELJ))if(car(p1)!==symbol(BESSELY)){if(car(p1)!==symbol(INTEGRAL)||caddr(p1)!==p2)return dfunction();derivative_of_integral()}else isZeroAtomOrTensor(caddr(p1))?dbessely0():dbesselyn();else isZeroAtomOrTensor(caddr(p1))?dbesselj0():dbesseljn();else derfc();else derf();else dhermite();else dsgn();else dabs();else darctanh();else darccosh();else darcsinh();else dtanh();else dcosh();else dsinh();else darctan();else darccos();else darcsin();else dtan();else dcos();else dsin();else dlog();else dd();else dpower();else dproduct();else push(zero)},dsum=function(){var e;for(e=tos,p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),derivative(),p1=cdr(p1);return add_all(tos-e)},dproduct=function(){var e,t,r,n,i,o,a;for(e=0,r=0,0,e=i=0,o=n=length(p1)-1;0<=o?i<o:i>o;e=0<=o?++i:--i){for(p3=cdr(p1),r=t=0,a=n;0<=a?t<a:t>a;r=0<=a?++t:--t)push(car(p3)),e===r&&(push(p2),derivative()),p3=cdr(p3);multiply_all(n)}return add_all(n)},dpower=function(){return push(caddr(p1)),push(cadr(p1)),divide(),push(cadr(p1)),push(p2),derivative(),multiply(),push(cadr(p1)),logarithm(),push(caddr(p1)),push(p2),derivative(),multiply(),add(),push(p1),multiply()},dlog=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),divide()},dd=function(){return push(cadr(p1)),push(p2),derivative(),p3=pop(),car(p3)===symbol(DERIVATIVE)?(push_symbol(DERIVATIVE),push_symbol(DERIVATIVE),push(cadr(p3)),lessp(caddr(p3),caddr(p1))?(push(caddr(p3)),list(3),push(caddr(p1))):(push(caddr(p1)),list(3),push(caddr(p3))),list(3)):(push(p3),push(caddr(p1)),derivative())},dfunction=function(){return(p3=cdr(p1))===symbol(NIL)||Find(p3,p2)?(push_symbol(DERIVATIVE),push(p1),push(p2),list(3)):push(zero)},dsin=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),cosine(),multiply()},dcos=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),sine(),multiply(),negate()},dtan=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),cosine(),push_integer(-2),power(),multiply()},darcsin=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),push_rational(-1,2),power(),multiply()},darccos=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),push_rational(-1,2),power(),multiply(),negate()},darctan=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),inverse(),multiply(),simplify()},dsinh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ycosh(),multiply()},dcosh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ysinh(),multiply()},dtanh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),ycosh(),push_integer(-2),power(),multiply()},darcsinh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(2),power(),push_integer(1),add(),push_rational(-1,2),power(),multiply()},darccosh=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(2),power(),push_integer(-1),add(),push_rational(-1,2),power(),multiply()},darctanh=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(1),push(cadr(p1)),push_integer(2),power(),subtract(),inverse(),multiply()},dabs=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),sgn(),multiply()},dsgn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),dirac(),multiply(),push_integer(2),multiply()},dhermite=function(){return push(cadr(p1)),push(p2),derivative(),push_integer(2),push(caddr(p1)),multiply(),multiply(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),hermite(),multiply()},derf=function(){return push(cadr(p1)),push_integer(2),power(),push_integer(-1),multiply(),exponential(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(-1,2),power(),multiply(),push_integer(2),multiply(),push(cadr(p1)),push(p2),derivative(),multiply()},derfc=function(){return push(cadr(p1)),push_integer(2),power(),push_integer(-1),multiply(),exponential(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(-1,2),power(),multiply(),push_integer(-2),multiply(),push(cadr(p1)),push(p2),derivative(),multiply()},dbesselj0=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(1),besselj(),multiply(),push_integer(-1),multiply()},dbesseljn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),besselj(),push(caddr(p1)),push_integer(-1),multiply(),push(cadr(p1)),divide(),push(cadr(p1)),push(caddr(p1)),besselj(),multiply(),add(),multiply()},dbessely0=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push_integer(1),besselj(),multiply(),push_integer(-1),multiply()},dbesselyn=function(){return push(cadr(p1)),push(p2),derivative(),push(cadr(p1)),push(caddr(p1)),push_integer(-1),add(),bessely(),push(caddr(p1)),push_integer(-1),multiply(),push(cadr(p1)),divide(),push(cadr(p1)),push(caddr(p1)),bessely(),multiply(),add(),multiply()},derivative_of_integral=function(){return push(cadr(p1))},DET_check_arg=function(){return istensor(p1)?2!==p1.tensor.ndim||p1.tensor.dim[0]!==p1.tensor.dim[1]?0:1:0},det=function(){var e,t,r,n,i,o,a;if(t=0,0,save(),p1=pop(),0===DET_check_arg())return push_symbol(DET),push(p1),list(2),void restore();for(n=p1.tensor.nelem,e=p1.tensor.elem,t=i=0,o=n;(0<=o?i<o:i>o)&&isNumericAtom(e[t]);t=0<=o?++i:--i);if(t===n)yydetg();else{for(t=r=0,a=p1.tensor.nelem;0<=a?r<a:r>a;t=0<=a?++r:--r)push(p1.tensor.elem[t]);determinant(p1.tensor.dim[0])}return restore()},determinant=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d;for(0,i=0,a=0,s=0,u=0,h=0,f=0,d=0,t=[],n=tos-e*e,i=l=0,c=e;0<=c?l<c:l>c;i=0<=c?++l:--l)t[i]=i,t[i+e]=0,t[i+e+e]=1;for(f=1,push(zero);;){for(push_integer(1===f?1:-1),i=o=0,p=e;0<=p?o<p:o>p;i=0<=p?++o:--o)s=e*t[i]+i,push(stack[n+s]),multiply();for(add(),a=e-1,h=0,r=!1;;)if((u=t[e+a]+t[e+e+a])<0)t[e+e+a]=-t[e+e+a],a--;else{if(u!==a+1)break;if(0===a){r=!0;break}h++,t[e+e+a]=-t[e+e+a],a--}if(r)break;d=t[a-t[e+a]+h],t[a-t[e+a]+h]=t[a-u+h],t[a-u+h]=d,t[e+a]=u,f=-f}return stack[n]=stack[tos-1],moveTos(n+1)},detg=function(){return save(),p1=pop(),0===DET_check_arg()?(push_symbol(DET),push(p1),list(2),void restore()):(yydetg(),restore())},yydetg=function(){var e,t,r,n;for(e=0,0,e=r=0,n=(t=p1.tensor.dim[0])*t;0<=n?r<n:r>n;e=0<=n?++r:--r)push(p1.tensor.elem[e]);return lu_decomp(t),moveTos(tos-t*t),push(p1)},M=function(e,t,r,n){return stack[e+t*r+n]},setM=function(e,t,r,n,i){return stack[e+t*r+n]=i},lu_decomp=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v;for(t=0,0,n=0,o=0,r=tos-e*e,p1=one,t=u=0,c=e-1;0<=c?u<c:u>c;t=0<=c?++u:--u){if(equal(M(r,e,t,t),zero)){for(n=i=p=t+1,h=e;(p<=h?i<h:i>h)&&equal(M(r,e,n,t),zero);n=p<=h?++i:--i);if(n===e){p1=zero;break}for(o=a=f=t,d=e;f<=d?a<d:a>d;o=f<=d?++a:--a)p2=M(r,e,t,o),setM(r,e,t,o,M(r,e,n,o)),setM(r,e,n,o,p2);push(p1),negate(),p1=pop()}for(push(p1),push(M(r,e,t,t)),multiply(),p1=pop(),n=s=m=t+1,g=e;m<=g?s<g:s>g;n=m<=g?++s:--s)for(push(M(r,e,n,t)),push(M(r,e,t,t)),divide(),negate(),p2=pop(),setM(r,e,n,t,zero),o=l=y=t+1,v=e;y<=v?l<v:l>v;o=y<=v?++l:--l)push(M(r,e,t,o)),push(p2),multiply(),push(M(r,e,n,o)),add(),setM(r,e,n,o,pop())}return push(p1),push(M(r,e,e-1,e-1)),multiply(),p1=pop()},Eval_dirac=function(){return push(cadr(p1)),Eval(),dirac()},dirac=function(){return save(),ydirac(),restore()},ydirac=function(){return p1=pop(),isdouble(p1)?0===p1.d?void push_integer(1):void push_integer(0):isrational(p1)?MZERO(mmul(p1.q.a,p1.q.b))?void push_integer(1):void push_integer(0):car(p1)===symbol(POWER)?(push_symbol(DIRAC),push(cadr(p1)),void list(2)):isnegativeterm(p1)?(push_symbol(DIRAC),push(p1),negate(),void list(2)):((isnegativeterm(p1)||car(p1)===symbol(ADD)&&isnegativeterm(cadr(p1)))&&(push(p1),negate(),p1=pop()),push_symbol(DIRAC),push(p1),list(2))},divisors=function(){var e,t,r,n,i,o;for(t=0,0,0,save(),e=tos-1,divisors_onstack(),r=tos-e,(o=stack.slice(e,e+r)).sort(cmp_expr),stack=stack.slice(0,e).concat(o).concat(stack.slice(e+r)),(p1=alloc_tensor(r)).tensor.ndim=1,p1.tensor.dim[0]=r,t=n=0,i=r;0<=i?n<i:n>i;t=0<=i?++n:--n)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1),restore()},divisors_onstack=function(){var e,t,r,n,i,o;if(0,t=0,0,0,save(),p1=pop(),e=tos,isNumericAtom(p1))push(p1),factor_small_number();else if(car(p1)===symbol(ADD))push(p1),__factor_add();else if(car(p1)===symbol(MULTIPLY))for(p1=cdr(p1),isNumericAtom(car(p1))&&(push(car(p1)),factor_small_number(),p1=cdr(p1));iscons(p1);)p2=car(p1),car(p2)===symbol(POWER)?(push(cadr(p2)),push(caddr(p2))):(push(p2),push(one)),p1=cdr(p1);else car(p1)===symbol(POWER)?(push(cadr(p1)),push(caddr(p1))):(push(p1),push(one));for(r=tos,push(one),gen(e,r),t=i=0,o=n=tos-r;0<=o?i<o:i>o;t=0<=o?++i:--i)stack[e+t]=stack[r+t];return moveTos(e+n),restore()},gen=function(e,t){var r,n,i,o;if(0,n=0,save(),p1=pop(),e===t)return push(p1),void restore();if(p2=stack[e+0],p3=stack[e+1],push(p3),r=pop_integer(),!isNaN(r))for(n=i=0,o=Math.abs(r);0<=o?i<=o:i>=o;n=0<=o?++i:--i)push(p1),push(p2),push_integer(sign(r)*n),power(),multiply(),gen(e+2,t);return restore()},__factor_add=function(){for(save(),p1=pop(),p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),gcd(),p3=cdr(p3);if(p2=pop(),isplusone(p2))return push(p1),push(one),void restore();if(isNumericAtom(p2))push(p2),factor_small_number();else if(car(p2)===symbol(MULTIPLY))for(p3=cdr(p2),isNumericAtom(car(p3))?(push(car(p3)),factor_small_number()):(push(car(p3)),push(one)),p3=cdr(p3);iscons(p3);)push(car(p3)),push(one),p3=cdr(p3);else push(p2),push(one);for(push(p2),inverse(),p2=pop(),push(zero),p3=cdr(p1);iscons(p3);)push(p2),push(car(p3)),multiply(),add(),p3=cdr(p3);return push(one),restore()},dpow=function(){var e,t,r,n,i,o;return e=0,t=0,0,0,i=0,0,n=pop_double(),0===(r=pop_double())&&n<0&&stop("divide by zero"),r>=0||n%1==0?(i=Math.pow(r,n),void push_double(i)):(i=Math.pow(Math.abs(r),n),o=Math.PI*n,n%.5==0?(e=0,t=Math.sin(o)):(e=Math.cos(o),t=Math.sin(o)),push_double(e*i),push_double(t*i),push(imaginaryunit),multiply(),add())},EIG_N=0,EIG_yydd=[],EIG_yyqq=[],Eval_eigen=function(){return 0===EIG_check_arg()&&stop("eigen: argument is not a square matrix"),eigen(EIGEN),p1=usr_symbol("D"),set_binding(p1,p2),p1=usr_symbol("Q"),set_binding(p1,p3),push(symbol(NIL))},Eval_eigenval=function(){return 0===EIG_check_arg()?(push_symbol(EIGENVAL),push(p1),void list(2)):(eigen(EIGENVAL),push(p2))},Eval_eigenvec=function(){return 0===EIG_check_arg()?(push_symbol(EIGENVEC),push(p1),void list(2)):(eigen(EIGENVEC),push(p3))},EIG_check_arg=function(){var e,t,r,n,i,o,a,s,l,u,c;if(e=0,r=0,push(cadr(p1)),Eval(),yyfloat(),Eval(),p1=pop(),!istensor(p1))return 0;for(2===p1.tensor.ndim&&p1.tensor.dim[0]===p1.tensor.dim[1]||stop("eigen: argument is not a square matrix"),e=o=0,a=EIG_N=p1.tensor.dim[0];0<=a?o<a:o>a;e=0<=a?++o:--o)for(r=t=0,s=EIG_N;0<=s?t<s:t>s;r=0<=s?++t:--t)isdouble(p1.tensor.elem[EIG_N*e+r])||stop("eigen: matrix is not numerical");for(e=n=0,l=EIG_N-1;0<=l?n<l:n>l;e=0<=l?++n:--n)for(r=i=u=e+1,c=EIG_N;u<=c?i<c:i>c;r=u<=c?++i:--i)Math.abs(p1.tensor.elem[EIG_N*e+r].d-p1.tensor.elem[EIG_N*r+e].d)>1e-10&&stop("eigen: matrix is not symmetrical");return 1},eigen=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M;for(t=0,n=0,t=l=0,h=EIG_N*EIG_N;0<=h?l<h:l>h;t=0<=h?++l:--l)EIG_yydd[t]=0;for(t=r=0,f=EIG_N*EIG_N;0<=f?r<f:r>f;t=0<=f?++r:--r)EIG_yyqq[t]=0;for(t=i=0,m=EIG_N;0<=m?i<m:i>m;t=0<=m?++i:--i)for(EIG_yydd[EIG_N*t+t]=p1.tensor.elem[EIG_N*t+t].d,n=o=g=t+1,y=EIG_N;g<=y?o<y:o>y;n=g<=y?++o:--o)EIG_yydd[EIG_N*t+n]=p1.tensor.elem[EIG_N*t+n].d,EIG_yydd[EIG_N*n+t]=p1.tensor.elem[EIG_N*t+n].d;for(t=a=0,v=EIG_N;0<=v?a<v:a>v;t=0<=v?++a:--a)for(EIG_yyqq[EIG_N*t+t]=1,n=s=x=t+1,b=EIG_N;x<=b?s<b:s>b;n=x<=b?++s:--s)EIG_yyqq[EIG_N*t+n]=0,EIG_yyqq[EIG_N*n+t]=0;for(t=u=0;u<100&&0!==step();t=++u);if(100===t&&printstr("\nnote: eigen did not converge\n"),e===EIGEN||e===EIGENVAL)for(push(p1),copy_tensor(),p2=pop(),t=c=0,_=EIG_N;0<=_?c<_:c>_;t=0<=_?++c:--c)for(n=p=0,w=EIG_N;0<=w?p<w:p>w;n=0<=w?++p:--p)push_double(EIG_yydd[EIG_N*t+n]),p2.tensor.elem[EIG_N*t+n]=pop();if(e===EIGEN||e===EIGENVEC){for(push(p1),copy_tensor(),p3=pop(),E=[],t=M=0,d=EIG_N;0<=d?M<d:M>d;t=0<=d?++M:--M)E.push(function(){var e,r,i;for(r=[],n=i=0,e=EIG_N;0<=e?i<e:i>e;n=0<=e?++i:--i)push_double(EIG_yyqq[EIG_N*t+n]),r.push(p3.tensor.elem[EIG_N*t+n]=pop());return r}());return E}},step=function(){var e,t,r,n,i,o,a,s;for(t=0,n=0,e=0,t=i=0,o=EIG_N-1;0<=o?i<o:i>o;t=0<=o?++i:--i)for(n=r=a=t+1,s=EIG_N;a<=s?r<s:r>s;n=a<=s?++r:--r)0!==EIG_yydd[EIG_N*t+n]&&(step2(t,n),e++);return e},step2=function(e,t){var r,n,i,o,a,s,l,u,c,p,h,f,d;for(a=0,f=0,0,0,n=0,0,h=0,d=.5*(EIG_yydd[EIG_N*e+e]-EIG_yydd[EIG_N*t+t])/EIG_yydd[EIG_N*e+t],f=1/(Math.abs(d)+Math.sqrt(d*d+1)),d<0&&(f=-f),p=f*(r=1/Math.sqrt(f*f+1)),a=s=0,l=EIG_N;0<=l?s<l:s>l;a=0<=l?++s:--s)n=EIG_yydd[EIG_N*e+a],h=EIG_yydd[EIG_N*t+a],EIG_yydd[EIG_N*e+a]=r*n+p*h,EIG_yydd[EIG_N*t+a]=r*h-p*n;for(a=i=0,u=EIG_N;0<=u?i<u:i>u;a=0<=u?++i:--i)n=EIG_yydd[EIG_N*a+e],h=EIG_yydd[EIG_N*a+t],EIG_yydd[EIG_N*a+e]=r*n+p*h,EIG_yydd[EIG_N*a+t]=r*h-p*n;for(a=o=0,c=EIG_N;0<=c?o<c:o>c;a=0<=c?++o:--o)n=EIG_yyqq[EIG_N*e+a],h=EIG_yyqq[EIG_N*t+a],EIG_yyqq[EIG_N*e+a]=r*n+p*h,EIG_yyqq[EIG_N*t+a]=r*h-p*n;return EIG_yydd[EIG_N*e+t]=0,EIG_yydd[EIG_N*t+e]=0},Eval_erf=function(){return push(cadr(p1)),Eval(),yerf()},yerf=function(){return save(),yyerf(),restore()},yyerf=function(){var e;if(e=0,p1=pop(),isdouble(p1))return e=1-erfc(p1.d),void push_double(e);if(isZeroAtomOrTensor(p1))push(zero);else{if(isnegativeterm(p1))return push_symbol(ERF),push(p1),negate(),list(2),void negate();push_symbol(ERF),push(p1),list(2)}},Eval_erfc=function(){return push(cadr(p1)),Eval(),yerfc()},yerfc=function(){return save(),yyerfc(),restore()},yyerfc=function(){var e;if(e=0,p1=pop(),isdouble(p1))return e=erfc(p1.d),void push_double(e);isZeroAtomOrTensor(p1)?push(one):(push_symbol(ERFC),push(p1),list(2))},erfc=function(e){var t,r,n;return 0===e?1:(0,0,0,t=(r=1/(1+.5*(n=Math.abs(e))))*Math.exp(-n*n-1.26551223+r*(1.00002368+r*(.37409196+r*(.09678418+r*(r*(.27886807+r*(r*(1.48851587+r*(.17087277*r-.82215223))-1.13520398))-.18628806))))),e>=0?t:2-t)},Eval=function(){var e;switch(check_esc_flag(),save(),p1=pop(),!evaluatingAsFloats&&isfloating(p1)&&(e=!0,evaluatingAsFloats++),p1.k){case CONS:Eval_cons();break;case NUM:evaluatingAsFloats?push_double(convert_rational_to_double(p1)):push(p1);break;case DOUBLE:case STR:push(p1);break;case TENSOR:Eval_tensor();break;case SYM:Eval_sym();break;default:stop("atom?")}return e&&evaluatingAsFloats--,restore()},Eval_sym=function(){var e,t,r,n,i,o;if(iskeyword(p1))return push(p1),push(symbol(LAST)),list(2),void Eval();if(p1===symbol(PI)&&evaluatingAsFloats)push_double(Math.PI);else if(p2=get_binding(p1),DEBUG&&console.log("looked up: "+p1+" which contains: "+p2),push(p2),p1!==p2){if(-1!==(n=chainOfUserSymbolsNotFunctionsBeingEvaluated.indexOf(p1))){for(e="",t=r=i=n,o=chainOfUserSymbolsNotFunctionsBeingEvaluated.length;i<=o?r<o:r>o;t=i<=o?++r:--r)e+=chainOfUserSymbolsNotFunctionsBeingEvaluated[t].printname+" -> ";return e+=p1.printname,void stop("recursive evaluation of symbols: "+e)}return chainOfUserSymbolsNotFunctionsBeingEvaluated.push(p1),Eval(),chainOfUserSymbolsNotFunctionsBeingEvaluated.pop()}},Eval_cons=function(){var e;if(e=car(p1),car(e)!==symbol(EVAL))switch(issymbol(e)||stop("cons?"),symnum(e)){case ABS:return Eval_abs();case ADD:return Eval_add();case ADJ:return Eval_adj();case AND:return Eval_and();case ARCCOS:return Eval_arccos();case ARCCOSH:return Eval_arccosh();case ARCSIN:return Eval_arcsin();case ARCSINH:return Eval_arcsinh();case ARCTAN:return Eval_arctan();case ARCTANH:return Eval_arctanh();case ARG:return Eval_arg();case ATOMIZE:return Eval_atomize();case BESSELJ:return Eval_besselj();case BESSELY:return Eval_bessely();case BINDING:return Eval_binding();case BINOMIAL:return Eval_binomial();case CEILING:return Eval_ceiling();case CHECK:return Eval_check();case CHOOSE:return Eval_choose();case CIRCEXP:return Eval_circexp();case CLEAR:return Eval_clear();case CLEARALL:return Eval_clearall();case CLEARPATTERNS:return Eval_clearpatterns();case CLOCK:return Eval_clock();case COEFF:return Eval_coeff();case COFACTOR:return Eval_cofactor();case CONDENSE:return Eval_condense();case CONJ:return Eval_conj();case CONTRACT:return Eval_contract();case COS:return Eval_cos();case COSH:return Eval_cosh();case DECOMP:return Eval_decomp();case DEGREE:return Eval_degree();case DEFINT:return Eval_defint();case DENOMINATOR:return Eval_denominator();case DERIVATIVE:return Eval_derivative();case DET:return Eval_det();case DIM:return Eval_dim();case DIRAC:return Eval_dirac();case DIVISORS:return Eval_divisors();case DO:return Eval_do();case DOT:return Eval_inner();case DRAW:return Eval_draw();case DSOLVE:return Eval_dsolve();case EIGEN:return Eval_eigen();case EIGENVAL:return Eval_eigenval();case EIGENVEC:return Eval_eigenvec();case ERF:return Eval_erf();case ERFC:return Eval_erfc();case EVAL:return Eval_Eval();case EXP:return Eval_exp();case EXPAND:return Eval_expand();case EXPCOS:return Eval_expcos();case EXPSIN:return Eval_expsin();case FACTOR:return Eval_factor();case FACTORIAL:return Eval_factorial();case FACTORPOLY:return Eval_factorpoly();case FILTER:return Eval_filter();case FLOATF:return Eval_float();case APPROXRATIO:return Eval_approxratio();case FLOOR:return Eval_floor();case FOR:return Eval_for();case FUNCTION:return Eval_function_reference();case GAMMA:return Eval_gamma();case GCD:return Eval_gcd();case HERMITE:return Eval_hermite();case HILBERT:return Eval_hilbert();case IMAG:return Eval_imag();case INDEX:return Eval_index();case INNER:return Eval_inner();case INTEGRAL:return Eval_integral();case INV:return Eval_inv();case INVG:return Eval_invg();case ISINTEGER:return Eval_isinteger();case ISPRIME:return Eval_isprime();case LAGUERRE:return Eval_laguerre();case LCM:return Eval_lcm();case LEADING:return Eval_leading();case LEGENDRE:return Eval_legendre();case LOG:return Eval_log();case LOOKUP:return Eval_lookup();case MOD:return Eval_mod();case MULTIPLY:return Eval_multiply();case NOT:return Eval_not();case NROOTS:return Eval_nroots();case NUMBER:return Eval_number();case NUMERATOR:return Eval_numerator();case OPERATOR:return Eval_operator();case OR:return Eval_or();case OUTER:return Eval_outer();case PATTERN:return Eval_pattern();case PATTERNSINFO:return Eval_patternsinfo();case POLAR:return Eval_polar();case POWER:return Eval_power();case PRIME:return Eval_prime();case PRINT:return Eval_print();case PRINT2DASCII:return Eval_print2dascii();case PRINTFULL:return Eval_printcomputer();case PRINTLATEX:return Eval_printlatex();case PRINTLIST:return Eval_printlist();case PRINTPLAIN:return Eval_printhuman();case PRODUCT:return Eval_product();case QUOTE:return Eval_quote();case QUOTIENT:return Eval_quotient();case RANK:return Eval_rank();case RATIONALIZE:return Eval_rationalize();case REAL:return Eval_real();case ROUND:return Eval_round();case YYRECT:return Eval_rect();case ROOTS:return Eval_roots();case SETQ:return Eval_setq();case SGN:return Eval_sgn();case SILENTPATTERN:return Eval_silentpattern();case SIMPLIFY:return Eval_simplify();case SIN:return Eval_sin();case SINH:return Eval_sinh();case SHAPE:return Eval_shape();case SQRT:return Eval_sqrt();case STOP:return Eval_stop();case SUBST:return Eval_subst();case SUM:return Eval_sum();case SYMBOLSINFO:return Eval_symbolsinfo();case TAN:return Eval_tan();case TANH:return Eval_tanh();case TAYLOR:return Eval_taylor();case TEST:return Eval_test();case TESTEQ:return Eval_testeq();case TESTGE:return Eval_testge();case TESTGT:return Eval_testgt();case TESTLE:return Eval_testle();case TESTLT:return Eval_testlt();case TRANSPOSE:return Eval_transpose();case UNIT:return Eval_unit();case ZERO:return Eval_zero();default:return Eval_user_function()}else Eval_user_function()},Eval_binding=function(){return push(get_binding(cadr(p1)))},Eval_check=function(){var e;return null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(cadr(p1)))?push(p1):push_integer(e)},Eval_det=function(){return push(cadr(p1)),Eval(),det()},Eval_dim=function(){var e;return push(cadr(p1)),Eval(),p2=pop(),iscons(cddr(p1))?(push(caddr(p1)),Eval(),e=pop_integer()):e=1,istensor(p2)?e<1||e>p2.tensor.ndim?push(p1):push_integer(p2.tensor.dim[e-1]):push_integer(1)},Eval_divisors=function(){return push(cadr(p1)),Eval(),divisors()},Eval_do=function(){var e;for(push(car(p1)),p1=cdr(p1),e=[];iscons(p1);)pop(),push(car(p1)),Eval(),e.push(p1=cdr(p1));return e},Eval_dsolve=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),dsolve()},Eval_Eval=function(){for(push(cadr(p1)),Eval(),p1=cddr(p1);iscons(p1);)push(car(p1)),Eval(),push(cadr(p1)),Eval(),subst(),p1=cddr(p1);return Eval()},Eval_exp=function(){return push(cadr(p1)),Eval(),exponential()},Eval_factorial=function(){return push(cadr(p1)),Eval(),factorial()},Eval_factorpoly=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),factorpoly(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),factorpoly(),e.push(p1=cdr(p1));return e},Eval_hermite=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),hermite()},Eval_hilbert=function(){return push(cadr(p1)),Eval(),hilbert()},Eval_index=function(){var e,t,r;if(e=tos,t=p1,p1=cdr(p1),push(car(p1)),Eval(),r=stack[tos-1],isNumericAtom(r)&&stop("trying to access a scalar as a tensor"),!istensor(r))return moveTos(e),void push(t);for(p1=cdr(p1);iscons(p1);){if(push(car(p1)),Eval(),!isintegerorintegerfloat(stack[tos-1]))return moveTos(e),void push(t);p1=cdr(p1)}return index_function(tos-e)},Eval_inv=function(){return push(cadr(p1)),Eval(),inv()},Eval_invg=function(){return push(cadr(p1)),Eval(),invg()},Eval_isinteger=function(){if(push(cadr(p1)),Eval(),p1=pop(),isrational(p1))isinteger(p1)?push(one):push(zero);else{if(!isdouble(p1))return push_symbol(ISINTEGER),push(p1),list(2);Math.floor(p1.d)===p1.d?push(one):push(zero)}},Eval_number=function(){return push(cadr(p1)),Eval(),(p1=pop()).k===NUM||p1.k===DOUBLE?push_integer(1):push_integer(0)},Eval_operator=function(){var e;for(e=tos,push_symbol(OPERATOR),p1=cdr(p1);iscons(p1);)push(car(p1)),Eval(),p1=cdr(p1);return list(tos-e)},Eval_quote=function(){return push(cadr(p1))},Eval_rank=function(){return push(cadr(p1)),Eval(),p1=pop(),istensor(p1)?push_integer(p1.tensor.ndim):push(zero)},Eval_setq=function(){if(caadr(p1)!==symbol(INDEX)){if(!iscons(cadr(p1)))return issymbol(cadr(p1))||stop("symbol assignment: error in symbol"),push(caddr(p1)),Eval(),p2=pop(),set_binding(cadr(p1),p2),push(symbol(NIL));define_user_function()}else setq_indexed()},setq_indexed=function(){var e;for(p4=cadadr(p1),issymbol(p4)||stop("indexed assignment: expected a symbol name"),e=tos,push(caddr(p1)),Eval(),p2=cdadr(p1);iscons(p2);)push(car(p2)),Eval(),p2=cdr(p2);return set_component(tos-e),p3=pop(),set_binding(p4,p3),push(symbol(NIL))},Eval_sqrt=function(){return push(cadr(p1)),Eval(),push_rational(1,2),power()},Eval_stop=function(){return stop("user stop")},Eval_subst=function(){return push(cadddr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadr(p1)),Eval(),subst(),Eval()},Eval_unit=function(){var e,t,r,n;if(e=0,0,push(cadr(p1)),Eval(),t=pop_integer(),isNaN(t))push(p1);else{if(!(t<1)){for((p1=alloc_tensor(t*t)).tensor.ndim=2,p1.tensor.dim[0]=t,p1.tensor.dim[1]=t,e=r=0,n=t;0<=n?r<n:r>n;e=0<=n?++r:--r)p1.tensor.elem[t*e+e]=one;return check_tensor_dimensions(p1),push(p1)}push(p1)}},Eval_noexpand=function(){var e;return e=expanding,expanding=0,Eval(),expanding=e},Eval_predicate=function(){return save(),p1=top(),car(p1)===symbol(SETQ)&&(pop(),push_symbol(TESTEQ),push(cadr(p1)),push(caddr(p1)),list(3)),Eval(),restore()},Eval_expand=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),expand()},expand=function(){var e;if(save(),p9=pop(),p5=pop(),istensor(p5))return expand_tensor(),void restore();if(car(p5)!==symbol(ADD))return push(p5),numerator(),p3=pop(),push(p5),denominator(),p2=pop(),remove_negative_exponents(),push(p3),push(p2),push(p9),!isone(p3)&&!isone(p2)||ispolyexpandedform(p2,p9)&&!isone(p2)?(divpoly(),p7=pop(),push(p3),push(p2),push(p7),multiply(),subtract(),p3=pop(),isZeroAtomOrTensor(p3)?(push(p7),void restore()):(push(p2),push(p9),factorpoly(),p2=pop(),expand_get_C(),expand_get_B(),expand_get_A(),istensor(p4)?(push(p4),e=expanding,expanding=1,inv(),expanding=e,push(p3),inner(),push(p2),inner()):(push(p3),push(p4),e=expanding,expanding=1,divide(),expanding=e,push(p2),multiply()),push(p7),add(),restore())):(pop(),pop(),pop(),push(p5),void restore());for(push_integer(0),p1=cdr(p5);iscons(p1);)push(car(p1)),push(p9),expand(),add(),p1=cdr(p1);restore()},expand_tensor=function(){var e,t,r;for(e=0,push(p5),copy_tensor(),e=t=0,r=(p5=pop()).tensor.nelem;0<=r?t<r:t>r;e=0<=r?++t:--t)push(p5.tensor.elem[e]),push(p9),expand(),p5.tensor.elem[e]=pop();return push(p5)},remove_negative_exponents=function(){var e,t,r,n,i,o;for(0,t=0,r=0,n=0,0,e=tos,factors(p2),factors(p3),r=0,t=i=0,o=tos-e;0<=o?i<o:i>o;t=0<=o?++i:--i)p1=stack[e+t],car(p1)===symbol(POWER)&&cadr(p1)===p9&&(push(caddr(p1)),n=pop_integer(),isNaN(n)||n<r&&(r=n));if(moveTos(e),0!==r)return push(p2),push(p9),push_integer(-r),power(),multiply(),p2=pop(),push(p3),push(p9),push_integer(-r),power(),multiply(),p3=pop()},expand_get_C=function(){var e,t,r,n,i,o,a,s,l,u;if(0,r=0,i=0,0,t=tos,car(p2)===symbol(MULTIPLY))for(p1=cdr(p2);iscons(p1);)p5=car(p1),expand_get_CF(),p1=cdr(p1);else p5=p2,expand_get_CF();if(1!==(o=tos-t)){for((p4=alloc_tensor(o*o)).tensor.ndim=2,p4.tensor.dim[0]=o,p4.tensor.dim[1]=o,e=t,r=a=0,l=o;0<=l?a<l:a>l;r=0<=l?++a:--a)for(i=n=0,u=o;0<=u?n<u:n>u;i=0<=u?++n:--n)push(stack[e+i]),push(p9),push_integer(r),power(),s=expanding,expanding=1,divide(),expanding=s,push(p9),filter(),p4.tensor.elem[o*r+i]=pop();return moveTos(tos-o)}p4=pop()},expand_get_CF=function(){var e,t,r,n,i,o,a,s;if(0,t=0,r=0,n=0,Find(p5,p9)){for(o=expanding,expanding=1,trivial_divide(),expanding=o,car(p5)===symbol(POWER)?(push(caddr(p5)),n=pop_integer(),p6=cadr(p5)):(n=1,p6=p5),push(p6),push(p9),degree(),e=pop_integer(),s=[],t=i=0,a=n;0<=a?i<a:i>a;t=0<=a?++i:--i)s.push(function(){var n,i,a;for(a=[],r=n=0,i=e;0<=i?n<i:n>i;r=0<=i?++n:--n)push(p8),push(p6),push_integer(t),power(),o=expanding,expanding=1,multiply(),expanding=o,push(p9),push_integer(r),power(),o=expanding,expanding=1,multiply(),a.push(expanding=o);return a}());return s}},trivial_divide=function(){var e;if(e=0,car(p2)===symbol(MULTIPLY)){for(e=tos,p0=cdr(p2);iscons(p0);)equal(car(p0),p5)||(push(car(p0)),Eval()),p0=cdr(p0);multiply_all(tos-e)}else push_integer(1);return p8=pop()},expand_get_B=function(){var e,t,r,n,i;if(e=0,0,istensor(p4)){for(t=p4.tensor.dim[0],(p8=alloc_tensor(t)).tensor.ndim=1,p8.tensor.dim[0]=t,e=r=0,i=t;0<=i?r<i:r>i;e=0<=i?++r:--r)push(p3),push(p9),push_integer(e),power(),n=expanding,expanding=1,divide(),expanding=n,push(p9),filter(),p8.tensor.elem[e]=pop();return p3=p8}},expand_get_A=function(){var e,t,r,n,i;if(0,t=0,0,!istensor(p4))return push(p2),reciprocate(),void(p2=pop());if(e=tos,car(p2)===symbol(MULTIPLY))for(p8=cdr(p2);iscons(p8);)p5=car(p8),expand_get_AF(),p8=cdr(p8);else p5=p2,expand_get_AF();for((p8=alloc_tensor(r=tos-e)).tensor.ndim=1,p8.tensor.dim[0]=r,t=n=0,i=r;0<=i?n<i:n>i;t=0<=i?++n:--n)p8.tensor.elem[t]=stack[e+t];return moveTos(e),p2=p8},expand_get_AF=function(){var e,t,r,n,i,o,a;if(0,t=0,r=0,n=1,Find(p5,p9)){for(car(p5)===symbol(POWER)&&(push(caddr(p5)),n=pop_integer(),p5=cadr(p5)),push(p5),push(p9),degree(),e=pop_integer(),a=[],t=i=o=n;o<=0?i<0:i>0;t=o<=0?++i:--i)a.push(function(){var n,i,o;for(o=[],r=n=0,i=e;0<=i?n<i:n>i;r=0<=i?++n:--n)push(p5),push_integer(t),power(),reciprocate(),push(p9),push_integer(r),power(),o.push(multiply());return o}());return a}},Eval_expcos=function(){return push(cadr(p1)),Eval(),expcos()},expcos=function(){return save(),p1=pop(),push(imaginaryunit),push(p1),multiply(),exponential(),push_rational(1,2),multiply(),push(imaginaryunit),negate(),push(p1),multiply(),exponential(),push_rational(1,2),multiply(),add(),restore()},Eval_expsin=function(){return push(cadr(p1)),Eval(),expsin()},expsin=function(){return save(),p1=pop(),push(imaginaryunit),push(p1),multiply(),exponential(),push(imaginaryunit),divide(),push_rational(1,2),multiply(),push(imaginaryunit),negate(),push(p1),multiply(),exponential(),push(imaginaryunit),divide(),push_rational(1,2),multiply(),subtract(),restore()},Eval_factor=function(){var e;for(push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),factor(),p1=cdddr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),factor_again(),e.push(p1=cdr(p1));return e},factor_again=function(){var e,t;if(save(),p2=pop(),p1=pop(),e=tos,car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),factor_term(),p1=cdr(p1);else push(p1),push(p2),factor_term();return(t=tos-e)>1&&multiply_all_noexpand(t),restore()},factor_term=function(){if(save(),factorpoly(),p1=pop(),car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),p1=cdr(p1);else push(p1);return restore()},factor=function(){return save(),p2=pop(),p1=pop(),isinteger(p1)?(push(p1),factor_number()):(push(p1),push(p2),factorpoly()),restore()},factor_small_number=function(){var e,t,r,n,i,o;for(r=0,save(),n=pop_integer(),isNaN(n)&&stop("number too big to factor"),n<0&&(n=-n),r=i=0,o=MAXPRIMETAB;(0<=o?i<o:i>o)&&!((e=primetab[r])>n/e);r=0<=o?++i:--i){for(t=0;n%e==0;)n/=e,t++;t&&(push_integer(e),push_integer(t))}return n>1&&(push_integer(n),push_integer(1)),restore()},factorial=function(){var e;return 0,save(),p1=pop(),push(p1),(e=pop_integer())<0||isNaN(e)?(push_symbol(FACTORIAL),push(p1),list(2),void restore()):(bignum_factorial(e),restore())},simplifyfactorials=function(){var e;if(0,save(),e=expanding,expanding=0,p1=pop(),car(p1)===symbol(ADD)){for(push(zero),p1=cdr(p1);iscons(p1);)push(car(p1)),simplifyfactorials(),add(),p1=cdr(p1);return expanding=e,void restore()}return car(p1)===symbol(MULTIPLY)?(sfac_product(),expanding=e,void restore()):(push(p1),expanding=e,restore())},sfac_product=function(){var e,t,r,n,i,o,a,s,l,u,c;for(e=0,r=0,i=0,c=tos,p1=cdr(p1),i=0;iscons(p1);)push(car(p1)),p1=cdr(p1),i++;for(e=o=0,a=i-1;0<=a?o<a:o>a;e=0<=a?++o:--o)if(stack[c+e]!==symbol(NIL))for(r=t=s=e+1,l=i;s<=l?t<l:t>l;r=s<=l?++t:--t)stack[c+r]!==symbol(NIL)&&sfac_product_f(c,e,r);for(push(one),e=n=0,u=i;0<=u?n<u:n>u;e=0<=u?++n:--n)stack[c+e]!==symbol(NIL)&&(push(stack[c+e]),multiply());return p1=pop(),moveTos(tos-i),push(p1)},sfac_product_f=function(e,t,r){var n,i,o,a;if(n=0,i=0,p1=stack[e+t],p2=stack[e+r],ispower(p1)?(p3=caddr(p1),p1=cadr(p1)):p3=one,ispower(p2)?(p4=caddr(p2),p2=cadr(p2)):p4=one,isfactorial(p1)&&isfactorial(p2)){if(push(p3),push(p4),add(),yyexpand(),0!==(i=pop_integer()))return;if(push(cadr(p1)),push(cadr(p2)),subtract(),yyexpand(),0===(i=pop_integer())||isNaN(i))return;for(i<0&&(i=-i,p5=p1,p1=p2,p2=p5,p5=p3,p3=p4,p4=p5),push(one),n=o=1,a=i;1<=a?o<=a:o>=a;n=1<=a?++o:--o)push(cadr(p2)),push_integer(n),add(),push(p3),power(),multiply();return stack[e+t]=pop(),stack[e+r]=symbol(NIL)}},factorpoly=function(){var e,t;return DEBUG&&console.log("factorpoly: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),save(),t=pop(),e=pop(),Find(e,t)&&ispolyexpandedform(e,t)&&issymbol(t)?yyfactorpoly(t,e):push(e),restore()},yyfactorpoly=function(e,t){var r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A;for(DEBUG&&(l=e,k=t,console.log("yyfactorpoly: "+l+" "+k)),save(),p=tos,isfloating(t)&&stop("floating point numbers in polynomial"),v=tos,s=coeff(e,t)-1,DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" factpoly_expo before rationalize_coefficients: "+s),y=rationalize_coefficients(p),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" factpoly_expo  after rationalize_coefficients: "+s),A="real",S=null;s>0;)if(DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" factpoly_expo inside while loop: "+s),isZeroAtomOrTensor(stack[v+0])?(DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" isZeroAtomOrTensor"),r=one,i=zero):"real"===A?[c,r,i]=get_factor_from_real_root(e,s,v):"complex"===A&&([u,r]=get_factor_from_complex_root(S,s,v)),"real"===A){if(0===c){A="complex";continue}for(push(r),push(e),multiply(),push(i),add(),n=pop(),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" success\nFACTOR="+n),push(y),push(n),multiply_noexpand(),y=pop(),yydivpoly(s,v,r,i);s&&isZeroAtomOrTensor(stack[v+s]);)s--;for(push(zero),h=g=0,_=s;0<=_?g<=_:g>=_;h=0<=_?++g:--g)push(stack[v+h]),push(e),push_integer(h),power(),multiply(),add();S=pop()}else if("complex"===A){if(0===u)break;if(push(r),push(e),subtract(),push(r),conjugate(),push(e),subtract(),multiply(),N=pop(),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" success\nFACTOR="+N),push(y),b=pop(),push(y),push(N),multiply_noexpand(),y=pop(),null==S){for(push(zero),h=f=0,w=s;0<=w?f<=w:f>=w;h=0<=w?++f:--f)push(stack[v+h]),push(e),push_integer(h),power(),multiply(),add();S=pop()}if(push(a=S),push(N),push(e),divpoly(),S=pop(),push(S),push(N),multiply(),o=pop(),!equal(o,a))return DEBUG&&console.log("we found a polynomial based on complex root and its conj but it doesn't divide the poly, quitting"),DEBUG&&console.log("so just returning previousFactorisation times dividend: "+b+" * "+a),push(b),push(a),x=expanding,expanding=0,yycondense(),expanding=x,multiply_noexpand(),y=pop(),stack[p]=y,moveTos(p+1),void restore();for(h=d=0,E=s;0<=E?d<=E:d>=E;h=0<=E?++d:--d)pop();coeff(e,S),s-=2}for(DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" building the remaining unfactored part of the polynomial"),push(zero),h=m=0,M=s;0<=M?m<=M:m>=M;h=0<=M?++m:--m)push(stack[v+h]),push(e),push_integer(h),power(),multiply(),add();return t=pop(),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" remaining unfactored part of the polynomial: "+t.toString()),push(t),x=expanding,expanding=0,yycondense(),expanding=x,t=pop(),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" new poly with extracted common factor: "+t.toString()),s>0&&isnegativeterm(stack[v+s])&&(push(t),negate(),t=pop(),push(y),negate_noexpand(),y=pop()),push(y),push(t),multiply_noexpand(),y=pop(),DEBUG&&console.log("yyfactorpoly: "+l+" "+k+" result: "+y),stack[p]=y,moveTos(p+1),restore()},rationalize_coefficients=function(e){var t,r,n,i,o,a,s,l,u;for(i=one,t=n=a=e,s=tos;a<=s?n<s:n>s;t=a<=s?++n:--n)push(stack[t]),denominator(),push(i),lcm(),i=pop();for(t=r=l=e,u=tos;l<=u?r<u:r>u;t=l<=u?++r:--r)push(i),push(stack[t]),multiply(),stack[t]=pop();return push(i),reciprocate(),o=pop(),DEBUG&&console.log("rationalize_coefficients result: "+o.toString()),o},get_factor_from_real_root=function(e,t,r){var n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S;if(DEBUG&&console.log("get_factor_from_real_root"),s=0,0,0,0,0,0,0,DEBUG){for(push(zero),s=d=0,g=t;0<=g?d<=g:d>=g;s=0<=g?++d:--d)push(stack[r+s]),push(e),push_integer(s),power(),multiply(),add();m=pop(),console.log("POLY="+m)}if(a=tos,i=tos,push(stack[r+t]),divisors_onstack(),f=tos-i,n=tos,push(stack[r+0]),divisors_onstack(),h=tos-n,DEBUG){for(console.log("divisors of base term"),s=l=0,y=h;0<=y?l<y:l>y;s=0<=y?++l:--l)console.log(", "+stack[n+s]);for(console.log("divisors of leading term"),s=u=0,v=f;0<=v?u<v:u>v;s=0<=v?++u:--u)console.log(", "+stack[i+s])}for(_=c=0,x=f;0<=x?c<x:c>x;_=0<=x?++c:--c)for(w=p=0,b=h;0<=b?p<b:p>b;w=0<=b?++p:--p){if(M=stack[i+_],E=stack[n+w],push(E),push(M),divide(),negate(),S=pop(),o=Evalpoly(t,r,S),DEBUG&&(console.log("try A="+M),console.log(", B="+E),console.log(", root "+e),console.log("=-B/A="+S),console.log(", POLY("+S),console.log(")="+o)),isZeroAtomOrTensor(o))return moveTos(a),DEBUG&&console.log("get_factor_from_real_root returning 1"),[1,M,E];if(push(E),negate(),E=pop(),push(S),negate(),S=pop(),o=Evalpoly(t,r,S),DEBUG&&(console.log("try A="+M),console.log(", B="+E),console.log(", root "+e),console.log("=-B/A="+S),console.log(", POLY("+S),console.log(")="+o)),isZeroAtomOrTensor(o))return moveTos(a),DEBUG&&console.log("get_factor_from_real_root returning 1"),[1,M,E]}return moveTos(a),DEBUG&&console.log("get_factor_from_real_root returning"),[0,null,null]},get_factor_from_complex_root=function(e,t,r){var n,i,o,a,s,l,u;if(0,0,0,0,0,0,0,t<=2)return DEBUG&&console.log("no more factoring via complex roots to be found in polynomial of degree <= 2"),[0,null];if(DEBUG&&console.log("complex root finding for POLY="+e),i=tos,tos,push_integer(-1),push_rational(2,3),power(),rect(),u=pop(),DEBUG&&console.log("complex root finding: trying with "+u),push(u),n=Evalpoly(t,r,u),DEBUG&&console.log("complex root finding result: "+n),isZeroAtomOrTensor(n))return moveTos(i),DEBUG&&console.log("get_factor_from_complex_root returning 1"),[1,u];if(push_integer(1),push_rational(2,3),power(),rect(),u=pop(),DEBUG&&console.log("complex root finding: trying with "+u),push(u),n=Evalpoly(t,r,u),DEBUG&&console.log("complex root finding result: "+n),isZeroAtomOrTensor(n))return moveTos(i),DEBUG&&console.log("get_factor_from_complex_root returning 1"),[1,u];for(s=a=-10;a<=10;s=++a)for(l=o=1;o<=5;l=++o)if(push_integer(s),push_integer(l),push(imaginaryunit),multiply(),add(),rect(),u=pop(),DEBUG&&console.log("complex root finding: trying simple complex combination "+u),push(u),n=Evalpoly(t,r,u),isZeroAtomOrTensor(n))return moveTos(i),DEBUG&&console.log("found complex root: "+n),[1,u];return moveTos(i),DEBUG&&console.log("get_factor_from_complex_root returning 0"),[0,null]},yydivpoly=function(e,t,r,n){var i,o,a,s;for(i=zero,o=a=s=e;s<=0?a<0:a>0;o=s<=0?++a:--a)push(stack[t+o]),stack[t+o]=i,push(r),divide(),i=pop(),push(stack[t+o-1]),push(i),push(n),multiply(),subtract(),stack[t+o-1]=pop();if(stack[t+0]=i,DEBUG)return console.log("yydivpoly Q: "+i.toString())},Evalpoly=function(e,t,r){var n,i,o;for(push(zero),n=i=o=e;o<=0?i<=0:i>=0;n=o<=0?++i:--i)push(r),multiply(),push(stack[t+n]),add();return pop()},factors=function(e){var t;if(t=tos,car(e)===symbol(ADD))for(e=cdr(e);iscons(e);)push_term_factors(car(e)),e=cdr(e);else push_term_factors(e);return tos-t},push_term_factors=function(e){var t;if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t}return push(e)},Eval_filter=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),filter(),e.push(p1=cdr(p1));return e},filter=function(){return save(),p2=pop(),p1=pop(),filter_main(),restore()},filter_main=function(){return car(p1)===symbol(ADD)?filter_sum():istensor(p1)?filter_tensor():Find(p1,p2)?push_integer(0):push(p1)},filter_sum=function(){var e;for(push_integer(0),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),push(p2),filter(),add(),e.push(p1=cdr(p1));return e},filter_tensor=function(){var e,t,r,n,i,o;for(e=0,0,r=p1.tensor.nelem,(p3=alloc_tensor(r)).tensor.ndim=p1.tensor.ndim,e=n=0,i=p1.tensor.ndim;0<=i?n<i:n>i;e=0<=i?++n:--n)p3.tensor.dim[e]=p1.tensor.dim[e];for(e=t=0,o=r;0<=o?t<o:t>o;e=0<=o?++t:--t)push(p1.tensor.elem[e]),push(p2),filter(),p3.tensor.elem[e]=pop();return push(p3)},Eval_float=function(){return evaluatingAsFloats++,push(cadr(p1)),Eval(),yyfloat(),Eval(),evaluatingAsFloats--},checkFloatHasWorkedOutCompletely=function(e){var t,r,n,i,o;if(i=countOccurrencesOfSymbol(symbol(POWER),e),n=countOccurrencesOfSymbol(symbol(PI),e),t=countOccurrencesOfSymbol(symbol(E),e),r=countOccurrencesOfSymbol(symbol(MULTIPLY),e),o=countOccurrencesOfSymbol(symbol(ADD),e),DEBUG&&(console.log("     ... numberOfPowers: "+i),console.log("     ... numberOfPIs: "+n),console.log("     ... numberOfEs: "+t),console.log("     ... numberOfMults: "+r),console.log("     ... numberOfSums: "+o)),i>1||n>0||t>0||r>1||o>1)return stop("float: some unevalued parts in "+e)},zzfloat=function(){return save(),evaluatingAsFloats++,Eval(),yyfloat(),Eval(),evaluatingAsFloats--,restore()},yyfloat=function(){var e,t,r,n;if(t=0,e=0,evaluatingAsFloats++,save(),p1=pop(),iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),yyfloat(),p1=cdr(p1);list(tos-e)}else if(p1.k===TENSOR){for(push(p1),copy_tensor(),t=r=0,n=(p1=pop()).tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)push(p1.tensor.elem[t]),yyfloat(),p1.tensor.elem[t]=pop();push(p1)}else p1.k===NUM?(push(p1),bignum_float()):p1===symbol(PI)?push_double(Math.PI):p1===symbol(E)?push_double(Math.E):push(p1);return restore(),evaluatingAsFloats--},Eval_floor=function(){return push(cadr(p1)),Eval(),yfloor()},yfloor=function(){return save(),yyfloor(),restore()},yyfloor=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.floor(p1.d),void push_double(e)):isinteger(p1)?void push(p1):((p3=new U).k=NUM,p3.q.a=mdiv(p1.q.a,p1.q.b),p3.q.b=mint(1),push(p3),isnegativenumber(p1)?(push_integer(-1),add()):void 0):(push_symbol(FLOOR),push(p1),void list(2))},Eval_for=function(){var e,t,r,n,i,o,a;if(e=0,0,0,n=caddr(p1),issymbol(n)||stop("for: 2nd arg should be the variable to loop over"),push(cadddr(p1)),Eval(),t=pop_integer(),isNaN(t))push(p1);else{if(push(caddddr(p1)),Eval(),r=pop_integer(),!isNaN(r)){for(p4=get_binding(n),e=i=o=t,a=r;o<=a?i<=a:i>=a;e=o<=a?++i:--i)push_integer(e),p5=pop(),set_binding(n,p5),push(cadr(p1)),Eval(),pop();return set_binding(n,p4),push_symbol(NIL)}push(p1)}},Eval_gamma=function(){return push(cadr(p1)),Eval(),gamma()},gamma=function(){return save(),gammaf(),restore()},gammaf=function(){return p1=pop(),isrational(p1)&&MEQUAL(p1.q.a,1)&&MEQUAL(p1.q.b,2)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(1,2),void power()):isrational(p1)&&MEQUAL(p1.q.a,3)&&MEQUAL(p1.q.b,2)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_rational(1,2),power(),push_rational(1,2),void multiply()):isnegativeterm(p1)?(evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push_integer(-1),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),push(p1),multiply(),sine(),push(p1),multiply(),push(p1),negate(),gamma(),multiply(),void divide()):void(car(p1)!==symbol(ADD)?(push_symbol(GAMMA),push(p1),list(2)):gamma_of_sum())},gamma_of_sum=function(){return p3=cdr(p1),isrational(car(p3))&&MEQUAL(car(p3).q.a,1)&&MEQUAL(car(p3).q.b,1)?(push(cadr(p3)),push(cadr(p3)),gamma(),multiply()):isrational(car(p3))&&MEQUAL(car(p3).q.a,-1)&&MEQUAL(car(p3).q.b,1)?(push(cadr(p3)),gamma(),push(cadr(p3)),push_integer(-1),add(),divide()):(push_symbol(GAMMA),push(p1),void list(2))},Eval_gcd=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),gcd(),e.push(p1=cdr(p1));return e},gcd=function(){var e;return e=expanding,save(),gcd_main(),restore(),expanding=e},gcd_main=function(){var e;if(expanding=1,p2=pop(),p1=pop(),DEBUG&&console.log("gcd_main: p1: "+p1+" p2: "+p2),equal(p1,p2))push(p1);else{if(isrational(p1)&&isrational(p2))return push(p1),push(p2),void gcd_numbers();if(e=areunivarpolysfactoredorexpandedform(p1,p2))gcd_polys(e);else if(car(p1)!==symbol(ADD)||car(p2)!==symbol(ADD))if(car(p1)===symbol(ADD)&&(gcd_sum(p1),p1=pop()),car(p2)===symbol(ADD)&&(gcd_sum(p2),p2=pop()),car(p1)!==symbol(MULTIPLY))if(car(p2)!==symbol(MULTIPLY)){if(car(p1)!==symbol(MULTIPLY)||car(p2)!==symbol(MULTIPLY))return gcd_powers_with_same_base();gcd_product_product()}else gcd_product_sum();else gcd_sum_product();else gcd_sum_sum()}},areunivarpolysfactoredorexpandedform=function(e,t){var r;return DEBUG&&console.log("areunivarpolysfactoredorexpandedform: p1: "+e+" p2: "+t),!(!(r=isunivarpolyfactoredorexpandedform(e))||!isunivarpolyfactoredorexpandedform(t,r))&&r},gcd_polys=function(e){if(DEBUG&&console.log("gcd_polys: p1: "+p1+" polyVar: "+e),push(p1),push(e),factorpoly(),p1=pop(),push(p2),push(e),factorpoly(),p2=pop(),DEBUG&&console.log("GCD: factored polys:"),DEBUG&&console.log("  p1:"+p1.toString()),DEBUG&&console.log("  p2:"+p2.toString()),car(p1)!==symbol(MULTIPLY)&&car(p2)!==symbol(MULTIPLY)||(car(p1)!==symbol(MULTIPLY)&&(push_symbol(MULTIPLY),push(p1),push(one),list(3),p1=pop()),car(p2)!==symbol(MULTIPLY)&&(push_symbol(MULTIPLY),push(p2),push(one),list(3),p2=pop())),car(p1)!==symbol(MULTIPLY)||car(p2)!==symbol(MULTIPLY))return gcd_powers_with_same_base(),!0;gcd_product_product()},gcd_product_product=function(){var e;for(push(one),p3=cdr(p1),e=[];iscons(p3);){for(p4=cdr(p2);iscons(p4);)push(car(p3)),push(car(p4)),gcd(),multiply(),p4=cdr(p4);e.push(p3=cdr(p3))}return e},gcd_powers_with_same_base=function(){if(car(p1)===symbol(POWER)?(p3=caddr(p1),p1=cadr(p1)):p3=one,car(p2)===symbol(POWER)?(p4=caddr(p2),p2=cadr(p2)):p4=one,equal(p1,p2)){if(isNumericAtom(p3)&&isNumericAtom(p4))return push(p1),lessp(p3,p4)?push(p3):push(p4),void power();if(push(p3),push(p4),divide(),p5=pop(),isNumericAtom(p5))return push(p1),p5=car(p3)===symbol(MULTIPLY)&&isNumericAtom(cadr(p3))?cadr(p3):one,p6=car(p4)===symbol(MULTIPLY)&&isNumericAtom(cadr(p4))?cadr(p4):one,lessp(p5,p6)?push(p3):push(p4),void power();if(push(p3),push(p4),subtract(),p5=pop(),isNumericAtom(p5))return push(p1),isnegativenumber(p5)?push(p3):push(p4),power();push(one)}else push(one)},gcd_sum_sum=function(){if(length(p1)===length(p2)){for(p3=cdr(p1),push(car(p3)),p3=cdr(p3);iscons(p3);)push(car(p3)),gcd(),p3=cdr(p3);for(p3=pop(),p4=cdr(p2),push(car(p4)),p4=cdr(p4);iscons(p4);)push(car(p4)),gcd(),p4=cdr(p4);return p4=pop(),push(p1),push(p3),divide(),p5=pop(),push(p2),push(p4),divide(),p6=pop(),equal(p5,p6)?(push(p5),push(p3),push(p4),gcd(),multiply()):push(one)}push(one)},gcd_sum=function(e){var t;for(e=cdr(e),push(car(e)),e=cdr(e),t=[];iscons(e);)push(car(e)),gcd(),t.push(e=cdr(e));return t},gcd_sum_product=function(){var e;for(push(one),p3=cdr(p1),e=[];iscons(p3);)push(car(p3)),push(p2),gcd(),multiply(),e.push(p3=cdr(p3));return e},gcd_product_sum=function(){var e;for(push(one),p4=cdr(p2),e=[];iscons(p4);)push(p1),push(car(p4)),gcd(),multiply(),e.push(p4=cdr(p4));return e},guess=function(){var e;return e=pop(),push(e),Find(e,symbol(SYMBOL_X))?push_symbol(SYMBOL_X):Find(e,symbol(SYMBOL_Y))?push_symbol(SYMBOL_Y):Find(e,symbol(SYMBOL_Z))?push_symbol(SYMBOL_Z):Find(e,symbol(SYMBOL_T))?push_symbol(SYMBOL_T):Find(e,symbol(SYMBOL_S))?push_symbol(SYMBOL_S):push_symbol(SYMBOL_X)},hermite=function(){return save(),yyhermite(),restore()},yyhermite=function(){var e;return 0,p2=pop(),p1=pop(),push(p2),(e=pop_integer())<0||isNaN(e)?(push_symbol(HERMITE),push(p1),push(p2),void list(3)):issymbol(p1)?yyhermite2(e):(p3=p1,p1=symbol(SECRETX),yyhermite2(e),p1=p3,push(symbol(SECRETX)),push(p1),subst(),Eval())},yyhermite2=function(e){var t,r,n,i;for(t=0,push_integer(1),push_integer(0),p4=pop(),i=[],t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)p5=p4,p4=pop(),push(p1),push(p4),multiply(),push_integer(t),push(p5),multiply(),subtract(),push_integer(2),i.push(multiply());return i},hilbert=function(){var e,t,r,n,i,o,a;if(e=0,r=0,0,save(),p2=pop(),push(p2),(n=pop_integer())<2)return push_symbol(HILBERT),push(p2),list(2),void restore();for(push_zero_matrix(n,n),p1=pop(),e=i=0,o=n;0<=o?i<o:i>o;e=0<=o?++i:--i)for(r=t=0,a=n;0<=a?t<a:t>a;r=0<=a?++t:--t)push_integer(e+r+1),inverse(),p1.tensor.elem[e*n+r]=pop();return push(p1),restore()},DEBUG_IMAG=!1,Eval_imag=function(){return push(cadr(p1)),Eval(),imag()},imag=function(){return save(),rect(),p1=pop(),DEBUG_IMAG&&console.log("IMAGE of "+p1),push(p1),push(p1),conjugate(),DEBUG_IMAG&&console.log(" image: conjugate result: "+stack[tos-1]),subtract(),push_integer(2),divide(),DEBUG_IMAG&&console.log(" image: 1st divide result: "+stack[tos-1]),push(imaginaryunit),divide(),DEBUG_IMAG&&console.log(" image: 2nd divide result: "+stack[tos-1]),restore()},index_function=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b;for(t=0,i=0,0,0,u=0,b=0,save(),(a=e-1)>(l=(p1=stack[x=tos-e]).tensor.ndim)&&stop("too many indices for tensor"),i=0,t=c=0,p=a;0<=p?c<p:c>p;t=0<=p?++c:--c)push(stack[x+t+1]),((b=pop_integer())<1||b>p1.tensor.dim[t])&&stop("index out of range"),i=i*p1.tensor.dim[t]+b-1;if(l===a)return moveTos(tos-e),push(p1.tensor.elem[i]),void restore();for(t=r=h=a,f=l;h<=f?r<f:r>f;t=h<=f?++r:--r)i=i*p1.tensor.dim[t]+0;for(u=1,t=n=d=a,m=l;d<=m?n<m:n>m;t=d<=m?++n:--n)u*=p1.tensor.dim[t];for((p2=alloc_tensor(u)).tensor.ndim=l-a,t=o=g=a,y=l;g<=y?o<y:o>y;t=g<=y?++o:--o)p2.tensor.dim[t-a]=p1.tensor.dim[t];for(t=s=0,v=u;0<=v?s<v:s>v;t=0<=v?++s:--s)p2.tensor.elem[t]=p1.tensor.elem[i+t];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),moveTos(tos-e),push(p2),restore()},set_component=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x;for(t=0,i=0,0,0,x=0,save(),e<3&&stop("error in indexed assign"),p2=stack[v=tos-e],p1=stack[v+1],istensor(p1)||stop("error in indexed assign: assigning to something that is not a tensor"),(a=e-2)>(u=p1.tensor.ndim)&&stop("error in indexed assign"),i=0,t=c=0,p=a;0<=p?c<p:c>p;t=0<=p?++c:--c)push(stack[v+t+2]),((x=pop_integer())<1||x>p1.tensor.dim[t])&&stop("error in indexed assign\n"),i=i*p1.tensor.dim[t]+x-1;for(t=r=h=a,f=u;h<=f?r<f:r>f;t=h<=f?++r:--r)i=i*p1.tensor.dim[t]+0;for((p3=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,t=n=0,d=p1.tensor.ndim;0<=d?n<d:n>d;t=0<=d?++n:--n)p3.tensor.dim[t]=p1.tensor.dim[t];for(t=o=0,m=p1.tensor.nelem;0<=m?o<m:o>m;t=0<=m?++o:--o)p3.tensor.elem[t]=p1.tensor.elem[t];if(check_tensor_dimensions(p1),check_tensor_dimensions(p3),p1=p3,u===a)return istensor(p2)&&stop("error in indexed assign"),p1.tensor.elem[i]=p2,check_tensor_dimensions(p1),moveTos(tos-e),push(p1),void restore();for(istensor(p2)||stop("error in indexed assign"),u-a!==p2.tensor.ndim&&stop("error in indexed assign"),t=s=0,g=p2.tensor.ndim;0<=g?s<g:s>g;t=0<=g?++s:--s)p1.tensor.dim[a+t]!==p2.tensor.dim[t]&&stop("error in indexed assign");for(t=l=0,y=p2.tensor.nelem;0<=y?l<y:l>y;t=0<=y?++l:--l)p1.tensor.elem[i+t]=p2.tensor.elem[t];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),moveTos(tos-e),push(p1),restore()},Eval_inner=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m;for((m=[]).push(car(cdr(p1))),car(cdr(cdr(p1)))===symbol(NIL)&&stop("pattern needs at least a template and a transformed version"),o=cdr(cdr(p1));o!==symbol(NIL);)m.push(car(o)),o=cdr(o);if(m.length>2){for(push_symbol(INNER),push(m[m.length-2]),push(m[m.length-1]),list(3),t=a=2,l=m.length;2<=l?a<l:a>l;t=2<=l?++a:--a)push_symbol(INNER),swap(),push(m[m.length-t-1]),swap(),list(3);return p1=pop(),void Eval_inner()}for(get_innerprod_factors(p1,s=[]),h=[],t=r=0,u=s.length;0<=u?r<u:r>u;t=0<=u?++r:--r)s[t]!==symbol(SYMBOL_IDENTITY_MATRIX)&&h.push(s[t]);if(s=h,h=[],s.length>1){for(d=0,t=n=0,c=s.length;(0<=c?n<c:n>c)&&t+d+1<=s.length-1&&(isNumericAtomOrTensor(s[t+d])||isNumericAtomOrTensor(s[t+d+1])?h.push(s[t+d]):(push(s[t+d]),Eval(),inv(),push(s[t+d+1]),Eval(),subtract(),e=pop(),isZeroAtomOrTensor(e)?d+=1:h.push(s[t+d])),t+d===s.length-2&&h.push(s[s.length-1]),!(t+d>=s.length-1));t=0<=c?++n:--n);s=h}if(push(symbol(INNER)),!(s.length>0))return pop(),void push(symbol(SYMBOL_IDENTITY_MATRIX));for(t=i=0,p=s.length;0<=p?i<p:i>p;t=0<=p?++i:--i)push(s[t]);for(list(s.length+1),p1=pop(),p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),f=[];iscons(p1);)push(car(p1)),Eval(),inner(),f.push(p1=cdr(p1));return f},inner=function(){var e,t,r,n;if(save(),p2=pop(),p1=pop(),isnegativeterm(p2)&&isnegativeterm(p1)&&(push(p2),negate(),p2=pop(),push(p1),negate(),p1=pop()),isinnerordot(p1)&&(e=car(cdr(p1)),t=car(cdr(cdr(p1))),r=p2,p1=e,push(t),push(r),inner(),p2=pop()),p1===symbol(SYMBOL_IDENTITY_MATRIX))return push(p2),void restore();if(p2===symbol(SYMBOL_IDENTITY_MATRIX))return push(p1),void restore();if(istensor(p1)&&istensor(p2))inner_f();else{if(!isNumericAtomOrTensor(p1)&&!isNumericAtomOrTensor(p2)&&(push(p1),push(p2),inv(),subtract(),n=pop(),isZeroAtomOrTensor(n)))return push_symbol(SYMBOL_IDENTITY_MATRIX),void restore();if(expanding&&isadd(p1)){for(p1=cdr(p1),push(zero);iscons(p1);)push(car(p1)),push(p2),inner(),add(),p1=cdr(p1);return void restore()}if(expanding&&isadd(p2)){for(p2=cdr(p2),push(zero);iscons(p2);)push(p1),push(car(p2)),inner(),add(),p2=cdr(p2);return void restore()}if(push(p1),push(p2),istensor(p1)&&isNumericAtom(p2))tensor_times_scalar();else if(isNumericAtom(p1)&&istensor(p2))scalar_times_tensor();else{if(!isNumericAtom(p1)&&!isNumericAtom(p2))return pop(),pop(),push_symbol(INNER),push(p1),push(p2),list(3),void restore();multiply()}}return restore()},inner_f=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E;for(o=0,(h=p1.tensor.dim[p1.tensor.ndim-1])!==p2.tensor.dim[0]&&stop("inner: tensor dimension check"),(d=p1.tensor.ndim+p2.tensor.ndim-2)>MAXDIM&&stop("inner: rank of result exceeds maximum"),e=p1.tensor.elem,r=p2.tensor.elem,t=1,o=m=0,y=p1.tensor.ndim-1;0<=y?m<y:m>y;o=0<=y?++m:--m)t*=p1.tensor.dim[o];for(n=1,o=a=1,v=p2.tensor.ndim;1<=v?a<v:a>v;o=1<=v?++a:--a)n*=p2.tensor.dim[o];for(i=(p3=alloc_tensor(t*n)).tensor.elem,o=l=0,x=t;0<=x?l<x:l>x;o=0<=x?++l:--l)for(s=c=0,b=h;0<=b?c<b:c>b;s=0<=b?++c:--c)if(!isZeroAtomOrTensor(e[o*h+s]))for(u=p=0,_=n;0<=_?p<_:p>_;u=0<=_?++p:--p)push(e[o*h+s]),push(r[s*n+u]),multiply(),push(i[o*n+u]),add(),i[o*n+u]=pop();if(0===d)return push(p3.tensor.elem[0]);for(p3.tensor.ndim=d,s=0,o=f=0,w=p1.tensor.ndim-1;0<=w?f<w:f>w;o=0<=w?++f:--f)p3.tensor.dim[o]=p1.tensor.dim[o];for(s=p1.tensor.ndim-1,o=g=0,E=p2.tensor.ndim-1;0<=E?g<E:g>E;o=0<=E?++g:--g)p3.tensor.dim[s+o]=p2.tensor.dim[o+1];return push(p3)},get_innerprod_factors=function(e,t){if(iscons(e)){if(cdr(e)!==symbol(NIL))return isinnerordot(e)?(get_innerprod_factors(car(cdr(e)),t),void get_innerprod_factors(cdr(cdr(e)),t)):add_factor_to_accumulator(e,t);e=get_innerprod_factors(car(e),t)}else add_factor_to_accumulator(e,t)},add_factor_to_accumulator=function(e,t){if(e!==symbol(NIL))return t.push(e)},itab=["f(a,a*x)","f(1/x,log(x))","f(x^a,x^(a+1)/(a+1))","f(x^(-2),-x^(-1))","f(x^(-1/2),2*x^(1/2))","f(x^(1/2),2/3*x^(3/2))","f(x,x^2/2)","f(x^2,x^3/3)","f(exp(a*x),1/a*exp(a*x))","f(exp(a*x+b),1/a*exp(a*x+b))","f(x*exp(a*x^2),exp(a*x^2)/(2*a))","f(x*exp(a*x^2+b),exp(a*x^2+b)/(2*a))","f(log(a*x),x*log(a*x)-x)","f(a^x,a^x/log(a),or(not(number(a)),a>0))","f(1/(a+x^2),1/sqrt(a)*arctan(x/sqrt(a)),or(not(number(a)),a>0))","f(1/(a-x^2),1/sqrt(a)*arctanh(x/sqrt(a)))","f(1/sqrt(a-x^2),arcsin(x/(sqrt(a))))","f(1/sqrt(a+x^2),log(x+sqrt(a+x^2)))","f(1/(a+b*x),1/b*log(a+b*x))","f(1/(a+b*x)^2,-1/(b*(a+b*x)))","f(1/(a+b*x)^3,-1/(2*b)*1/(a+b*x)^2)","f(x/(a+b*x),x/b-a*log(a+b*x)/b/b)","f(x/(a+b*x)^2,1/b^2*(log(a+b*x)+a/(a+b*x)))","f(x^2/(a+b*x),1/b^2*(1/2*(a+b*x)^2-2*a*(a+b*x)+a^2*log(a+b*x)))","f(x^2/(a+b*x)^2,1/b^3*(a+b*x-2*a*log(a+b*x)-a^2/(a+b*x)))","f(x^2/(a+b*x)^3,1/b^3*(log(a+b*x)+2*a/(a+b*x)-1/2*a^2/(a+b*x)^2))","f(1/x*1/(a+b*x),-1/a*log((a+b*x)/x))","f(1/x*1/(a+b*x)^2,1/a*1/(a+b*x)-1/a^2*log((a+b*x)/x))","f(1/x*1/(a+b*x)^3,1/a^3*(1/2*((2*a+b*x)/(a+b*x))^2+log(x/(a+b*x))))","f(1/x^2*1/(a+b*x),-1/(a*x)+b/a^2*log((a+b*x)/x))","f(1/x^3*1/(a+b*x),(2*b*x-a)/(2*a^2*x^2)+b^2/a^3*log(x/(a+b*x)))","f(1/x^2*1/(a+b*x)^2,-(a+2*b*x)/(a^2*x*(a+b*x))+2*b/a^3*log((a+b*x)/x))","f(1/(a+b*x^2),1/sqrt(a*b)*arctan(x*sqrt(a*b)/a),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^2),1/(2*sqrt(-a*b))*log((a+x*sqrt(-a*b))/(a-x*sqrt(-a*b))),or(not(number(a*b)),a*b<0))","f(x/(a+b*x^2),1/2*1/b*log(a+b*x^2))","f(x^2/(a+b*x^2),x/b-a/b*integral(1/(a+b*x^2),x))","f(1/(a+b*x^2)^2,x/(2*a*(a+b*x^2))+1/2*1/a*integral(1/(a+b*x^2),x))","f(1/x*1/(a+b*x^2),1/2*1/a*log(x^2/(a+b*x^2)))","f(1/x^2*1/(a+b*x^2),-1/(a*x)-b/a*integral(1/(a+b*x^2),x))","f(1/(a+b*x^3),1/3*1/a*(a/b)^(1/3)*(1/2*log(((a/b)^(1/3)+x)^3/(a+b*x^3))+sqrt(3)*arctan((2*x-(a/b)^(1/3))*(a/b)^(-1/3)/sqrt(3))))","f(x^2/(a+b*x^3),1/3*1/b*log(a+b*x^3))","f(x/(a+b*x^4),1/2*sqrt(b/a)/b*arctan(x^2*sqrt(b/a)),or(not(number(a*b)),a*b>0))","f(x/(a+b*x^4),1/4*sqrt(-b/a)/b*log((x^2-sqrt(-a/b))/(x^2+sqrt(-a/b))),or(not(number(a*b)),a*b<0))","f(x^3/(a+b*x^4),1/4*1/b*log(a+b*x^4))","f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))","f(x*sqrt(a+b*x),-2*(2*a-3*b*x)*sqrt((a+b*x)^3)/15/b^2)","f(x^2*sqrt(a+b*x),2*(8*a^2-12*a*b*x+15*b^2*x^2)*sqrt((a+b*x)^3)/105/b^3)","f(sqrt(a+b*x)/x,2*sqrt(a+b*x)+a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(a+b*x)/x^2,-sqrt(a+b*x)/x+b/2*integral(1/x*1/sqrt(a+b*x),x))","f(1/sqrt(a+b*x),2*sqrt(a+b*x)/b)","f(x/sqrt(a+b*x),-2/3*(2*a-b*x)*sqrt(a+b*x)/b^2)","f(x^2/sqrt(a+b*x),2/15*(8*a^2-4*a*b*x+3*b^2*x^2)*sqrt(a+b*x)/b^3)","f(1/x*1/sqrt(a+b*x),1/sqrt(a)*log((sqrt(a+b*x)-sqrt(a))/(sqrt(a+b*x)+sqrt(a))),or(not(number(a)),a>0))","f(1/x*1/sqrt(a+b*x),2/sqrt(-a)*arctan(sqrt(-(a+b*x)/a)),or(not(number(a)),a<0))","f(1/x^2*1/sqrt(a+b*x),-sqrt(a+b*x)/a/x-1/2*b/a*integral(1/x*1/sqrt(a+b*x),x))","f(sqrt(x^2+a),1/2*(x*sqrt(x^2+a)+a*log(x+sqrt(x^2+a))))","f(1/sqrt(x^2+a),log(x+sqrt(x^2+a)))","f(1/x*1/sqrt(x^2+a),arcsec(x/sqrt(-a))/sqrt(-a),or(not(number(a)),a<0))","f(1/x*1/sqrt(x^2+a),-1/sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(-a)*arcsec(x/sqrt(-a)),or(not(number(a)),a<0))","f(x/sqrt(x^2+a),sqrt(x^2+a))","f(x*sqrt(x^2+a),1/3*sqrt((x^2+a)^3))","f(sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2+a^(1/3))^3)+3/2*a^(1/3)*x*sqrt(x^2+a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2+a^(1/3)))))","f(sqrt(-a+x^6-3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2-a^(1/3))^3)-3/2*a^(1/3)*x*sqrt(x^2-a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2-a^(1/3)))))","f(1/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),x/a^(1/3)/sqrt(x^2+a^(1/3)))","f(x/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),-1/sqrt(x^2+a^(1/3)))","f(x*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/5*sqrt((x^2+a^(1/3))^5))","f(x^2*sqrt(x^2+a),1/4*x*sqrt((x^2+a)^3)-1/8*a*x*sqrt(x^2+a)-1/8*a^2*log(x+sqrt(x^2+a)))","f(x^3*sqrt(x^2+a),(1/5*x^2-2/15*a)*sqrt((x^2+a)^3),and(number(a),a>0))","f(x^3*sqrt(x^2+a),sqrt((x^2+a)^5)/5-a*sqrt((x^2+a)^3)/3,and(number(a),a<0))","f(x^2/sqrt(x^2+a),1/2*x*sqrt(x^2+a)-1/2*a*log(x+sqrt(x^2+a)))","f(x^3/sqrt(x^2+a),1/3*sqrt((x^2+a)^3)-a*sqrt(x^2+a))","f(1/x^2*1/sqrt(x^2+a),-sqrt(x^2+a)/a/x)","f(1/x^3*1/sqrt(x^2+a),-1/2*sqrt(x^2+a)/a/x^2+1/2*log((sqrt(a)+sqrt(x^2+a))/x)/a^(3/2),or(not(number(a)),a>0))","f(1/x^3*1/sqrt(x^2-a),1/2*sqrt(x^2-a)/a/x^2+1/2*1/(a^(3/2))*arcsec(x/(a^(1/2))),or(not(number(a)),a>0))","f(x^2*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/6*x*sqrt((x^2+a^(1/3))^5)-1/24*a^(1/3)*x*sqrt((x^2+a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2+a^(1/3))-1/16*a*log(x+sqrt(x^2+a^(1/3))),or(not(number(a)),a>0))","f(x^2*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/6*x*sqrt((x^2-a^(1/3))^5)+1/24*a^(1/3)*x*sqrt((x^2-a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2-a^(1/3))+1/16*a*log(x+sqrt(x^2-a^(1/3))),or(not(number(a)),a>0))","f(x^3*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/7*sqrt((x^2+a^(1/3))^7)-1/5*a^(1/3)*sqrt((x^2+a^(1/3))^5),or(not(number(a)),a>0))","f(x^3*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/7*sqrt((x^2-a^(1/3))^7)+1/5*a^(1/3)*sqrt((x^2-a^(1/3))^5),or(not(number(a)),a>0))","f(1/(x-a)/sqrt(x^2-a^2),-sqrt(x^2-a^2)/a/(x-a))","f(1/(x+a)/sqrt(x^2-a^2),sqrt(x^2-a^2)/a/(x+a))","f(sqrt(a-x^2),1/2*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(abs(a)))))","f(1/x*1/sqrt(a-x^2),-1/sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x,sqrt(a-x^2)-sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))","f(x/sqrt(a-x^2),-sqrt(a-x^2))","f(x*sqrt(a-x^2),-1/3*sqrt((a-x^2)^3))","f(x^2*sqrt(a-x^2),-x/4*sqrt((a-x^2)^3)+1/8*a*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(a))),or(not(number(a)),a>0))","f(x^3*sqrt(a-x^2),(-1/5*x^2-2/15*a)*sqrt((a-x^2)^3),or(not(number(a)),a>0))","f(x^2/sqrt(a-x^2),-x/2*sqrt(a-x^2)+a/2*arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(1/x^2*1/sqrt(a-x^2),-sqrt(a-x^2)/a/x,or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^2,-sqrt(a-x^2)/x-arcsin(x/sqrt(a)),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^3,-1/2*sqrt(a-x^2)/x^2+1/2*log((sqrt(a)+sqrt(a-x^2))/x)/sqrt(a),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^4,-1/3*sqrt((a-x^2)^3)/a/x^3,or(not(number(a)),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*log(x*sqrt(a)+sqrt(a*x^2+b))/2/sqrt(a),and(number(a),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*arcsin(x*sqrt(-a/b))/2/sqrt(-a),and(number(a),a<0))","f(sin(a*x),-cos(a*x)/a)","f(cos(a*x),sin(a*x)/a)","f(tan(a*x),-log(cos(a*x))/a)","f(1/tan(a*x),log(sin(a*x))/a)","f(1/cos(a*x),log(tan(pi/4+a*x/2))/a)","f(1/sin(a*x),log(tan(a*x/2))/a)","f(sin(a*x)^2,x/2-sin(2*a*x)/(4*a))","f(sin(a*x)^3,-cos(a*x)*(sin(a*x)^2+2)/(3*a))","f(sin(a*x)^4,3/8*x-sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(cos(a*x)^2,x/2+sin(2*a*x)/(4*a))","f(cos(a*x)^3,sin(a*x)*(cos(a*x)^2+2)/(3*a))","f(cos(a*x)^4,3/8*x+sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))","f(1/sin(a*x)^2,-1/(a*tan(a*x)))","f(1/cos(a*x)^2,tan(a*x)/a)","f(sin(a*x)*cos(a*x),sin(a*x)^2/(2*a))","f(sin(a*x)^2*cos(a*x)^2,-sin(4*a*x)/(32*a)+x/8)","f(sin(a*x)/cos(a*x)^2,1/(a*cos(a*x)))","f(sin(a*x)^2/cos(a*x),(log(tan(pi/4+a*x/2))-sin(a*x))/a)","f(cos(a*x)/sin(a*x)^2,-1/(a*sin(a*x)))","f(1/(sin(a*x)*cos(a*x)),log(tan(a*x))/a)","f(1/(sin(a*x)*cos(a*x)^2),(1/cos(a*x)+log(tan(a*x/2)))/a)","f(1/(sin(a*x)^2*cos(a*x)),(log(tan(pi/4+a*x/2))-1/sin(a*x))/a)","f(1/(sin(a*x)^2*cos(a*x)^2),-2/(a*tan(2*a*x)))","f(sin(a+b*x),-cos(a+b*x)/b)","f(cos(a+b*x),sin(a+b*x)/b)","f(1/(b+b*sin(a*x)),-tan(pi/4-a*x/2)/a/b)","f(1/(b-b*sin(a*x)),tan(pi/4+a*x/2)/a/b)","f(1/(b+b*cos(a*x)),tan(a*x/2)/a/b)","f(1/(b-b*cos(a*x)),-1/tan(a*x/2)/a/b)","f(1/(a+b*sin(x)),1/sqrt(b^2-a^2)*log((a*tan(x/2)+b-sqrt(b^2-a^2))/(a*tan(x/2)+b+sqrt(b^2-a^2))),b^2-a^2)","f(1/(a+b*cos(x)),1/sqrt(b^2-a^2)*log((sqrt(b^2-a^2)*tan(x/2)+a+b)/(sqrt(b^2-a^2)*tan(x/2)-a-b)),b^2-a^2)","f(x*sin(a*x),sin(a*x)/a^2-x*cos(a*x)/a)","f(x^2*sin(a*x),2*x*sin(a*x)/a^2-(a^2*x^2-2)*cos(a*x)/a^3)","f(x*cos(a*x),cos(a*x)/a^2+x*sin(a*x)/a)","f(x^2*cos(a*x),2*x*cos(a*x)/a^2+(a^2*x^2-2)*sin(a*x)/a^3)","f(arcsin(a*x),x*arcsin(a*x)+sqrt(1-a^2*x^2)/a)","f(arccos(a*x),x*arccos(a*x)-sqrt(1-a^2*x^2)/a)","f(arctan(a*x),x*arctan(a*x)-1/2*log(1+a^2*x^2)/a)","f(x*log(a*x),x^2*log(a*x)/2-x^2/4)","f(x^2*log(a*x),x^3*log(a*x)/3-1/9*x^3)","f(log(x)^2,x*log(x)^2-2*x*log(x)+2*x)","f(1/x*1/(a+log(x)),log(a+log(x)))","f(log(a*x+b),(a*x+b)*log(a*x+b)/a-x)","f(log(a*x+b)/x^2,a/b*log(x)-(a*x+b)*log(a*x+b)/b/x)","f(sinh(x),cosh(x))","f(cosh(x),sinh(x))","f(tanh(x),log(cosh(x)))","f(x*sinh(x),x*cosh(x)-sinh(x))","f(x*cosh(x),x*sinh(x)-cosh(x))","f(sinh(x)^2,sinh(2*x)/4-x/2)","f(tanh(x)^2,x-tanh(x))","f(cosh(x)^2,sinh(2*x)/4+x/2)","f(x^3*exp(a*x^2),exp(a*x^2)*(x^2/a-1/(a^2))/2)","f(x^3*exp(a*x^2+b),exp(a*x^2)*exp(b)*(x^2/a-1/(a^2))/2)","f(exp(a*x^2),-i*sqrt(pi)*erf(i*sqrt(a)*x)/sqrt(a)/2)","f(erf(a*x),x*erf(a*x)+exp(-a^2*x^2)/a/sqrt(pi))","f(x^2*(1-x^2)^(3/2),(x*sqrt(1-x^2)*(-8*x^4+14*x^2-3)+3*arcsin(x))/48)","f(x^2*(1-x^2)^(5/2),(x*sqrt(1-x^2)*(48*x^6-136*x^4+118*x^2-15)+15*arcsin(x))/384)","f(x^4*(1-x^2)^(3/2),(-x*sqrt(1-x^2)*(16*x^6-24*x^4+2*x^2+3)+3*arcsin(x))/128)","f(x*exp(a*x),exp(a*x)*(a*x-1)/(a^2))","f(x*exp(a*x+b),exp(a*x+b)*(a*x-1)/(a^2))","f(x^2*exp(a*x),exp(a*x)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^2*exp(a*x+b),exp(a*x+b)*(a^2*x^2-2*a*x+2)/(a^3))","f(x^3*exp(a*x),exp(a*x)*x^3/a-3/a*integral(x^2*exp(a*x),x))","f(x^3*exp(a*x+b),exp(a*x+b)*x^3/a-3/a*integral(x^2*exp(a*x+b),x))",0],Eval_integral=function(){var e,t,r,n,i;for(0,t=0,p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?(guess(),push(symbol(NIL))):isNumericAtom(p2)?(guess(),push(p2)):(push(p2),p1=cdr(p1),push(car(p1)),Eval()),p5=pop(),p4=pop(),p3=pop();;){if(isNumericAtom(p5)?(push(p5),t=pop_integer(),isNaN(t)&&stop("nth integral: check n")):t=1,push(p3),t>=0)for(r=0,n=t;0<=n?r<n:r>n;0<=n?++r:--r)push(p4),integral();else for(e=0,i=t=-t;0<=i?e<i:e>i;0<=i?++e:--e)push(p4),derivative();if(p3=pop(),p5===symbol(NIL))break;if(isNumericAtom(p5)){if(p1=cdr(p1),push(car(p1)),Eval(),(p5=pop())===symbol(NIL))break;isNumericAtom(p5)?1:(p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop())}else p4=p5,p1=cdr(p1),push(car(p1)),Eval(),p5=pop()}return push(p3)},integral=function(){return save(),p2=pop(),p1=pop(),car(p1)===symbol(ADD)?integral_of_sum():car(p1)===symbol(MULTIPLY)?integral_of_product():integral_of_form(),p1=pop(),Find(p1,symbol(INTEGRAL))&&stop("integral: sorry, could not find a solution"),push(p1),simplify(),Eval(),restore()},integral_of_sum=function(){var e;for(p1=cdr(p1),push(car(p1)),push(p2),integral(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),push(p2),integral(),add(),e.push(p1=cdr(p1));return e},integral_of_product=function(){return push(p1),push(p2),partition(),p1=pop(),integral_of_form(),multiply()},integral_of_form=function(){var e,t;return e=italu_hashcode(p1,p2).toFixed(6),(t=hashed_itab[e])?(push(p1),push(p2),transform(t,!1),(p3=pop())===symbol(NIL)?(push_symbol(INTEGRAL),push(p1),push(p2),list(3)):push(p3)):(push_symbol(INTEGRAL),push(p1),push(p2),void list(3))},hashcode_values={x:.95532,constexp:1.43762,constant:1.1441659362941434,constbase:1.2036412230421882,sin:1.7330548251830322,arcsin:1.6483368529465805,cos:1.0586721236863401,arccos:1.8405225918106694,tan:1.1224943776292506,arctan:1.1297397925394963,sinh:1.8176164926060079,cosh:1.9404934661708022,tanh:1.6421307715103122,log:1.477443701354924,erf:1.0825269225702916},italu_hashcode=function(e,t){var r;if(issymbol(e))return equal(e,t)?hashcode_values.x:hashcode_values.constant;if(iscons(e))switch(symnum(car(e))){case ADD:return hash_addition(cdr(e),t);case MULTIPLY:return hash_multiplication(cdr(e),t);case POWER:return hash_power(cadr(e),caddr(e),t);case EXP:return hash_power(symbol(E),cadr(e),t);case SQRT:return push_double(.5),r=pop(),hash_power(cadr(e),r,t);default:return hash_function(e,t)}return hashcode_values.constant},hash_function=function(e,t){var r,n,i;if(!Find(cadr(e),t))return hashcode_values.constant;if(i=car(e),r=italu_hashcode(cadr(e),t),!(n=hashcode_values[i.printname]))throw new Error("Unsupported function "+i.printname);return Math.pow(n,r)},hash_addition=function(e,t){var r,n,i,o;for(o={};iscons(e);)i=car(e),e=cdr(e),0,o[(Find(i,t)?italu_hashcode(i,t):hashcode_values.constant).toFixed(6)]=!0;for(r in n=0,o)hasProp.call(o,r)&&(o[r],n+=parseFloat(r,10));return n},hash_multiplication=function(e,t){var r,n;for(r=1;iscons(e);)n=car(e),e=cdr(e),Find(n,t)&&(r*=italu_hashcode(n,t));return r},hash_power=function(e,t,r){var n,i;if(n=hashcode_values.constant,i=hashcode_values.constexp,Find(e,r)&&(n=italu_hashcode(e,r)),Find(t,r))i=italu_hashcode(t,r);else{if(n===hashcode_values.constant)return hashcode_values.constant;isminusone(t)?i=-1:isoneovertwo(t)?i=.5:isminusoneovertwo(t)?i=-.5:equalq(t,2,1)?i=2:equalq(t,-2,1)&&(i=-2)}return Math.pow(n,i)},make_hashed_itab=function(){var e,t,r,n,i,o,a;for(o={},n=0,r=itab.length;n<r&&(i=itab[n]);n++)scan_meta(i),e=pop(),a=cadr(e),o[t=italu_hashcode(a,symbol(METAX)).toFixed(6)]||(o[t]=[]),o[t].push(i);return console.log("hashed_itab = "+JSON.stringify(o,null,2)),o},$.make_hashed_itab=make_hashed_itab,hashed_itab={1.144166:["f(a,a*x)"],"1.046770":["f(1/x,log(x))"],"0.936400":["f(x^a,x^(a+1)/(a+1))"],1.095727:["f(x^(-2),-x^(-1))"],1.023118:["f(x^(-1/2),2*x^(1/2))"],.977405:["f(x^(1/2),2/3*x^(3/2))"],"0.955320":["f(x,x^2/2)"],.912636:["f(x^2,x^3/3)"],1.137302:["f(exp(a*x),1/a*exp(a*x))","f(a^x,a^x/log(a),or(not(number(a)),a>0))"],1.326774:["f(exp(a*x+b),1/a*exp(a*x+b))"],1.080259:["f(x*exp(a*x^2),exp(a*x^2)/(2*a))"],1.260228:["f(x*exp(a*x^2+b),exp(a*x^2+b)/(2*a))"],1.451902:["f(log(a*x),x*log(a*x)-x)"],.486192:["f(1/(a+x^2),1/sqrt(a)*arctan(x/sqrt(a)),or(not(number(a)),a>0))","f(1/(a-x^2),1/sqrt(a)*arctanh(x/sqrt(a)))","f(1/(a+b*x^2),1/sqrt(a*b)*arctan(x*sqrt(a*b)/a),or(not(number(a*b)),a*b>0))","f(1/(a+b*x^2),1/(2*sqrt(-a*b))*log((a+x*sqrt(-a*b))/(a-x*sqrt(-a*b))),or(not(number(a*b)),a*b<0))"],.697274:["f(1/sqrt(a-x^2),arcsin(x/(sqrt(a))))","f(1/sqrt(a+x^2),log(x+sqrt(a+x^2)))","f(1/sqrt(x^2+a),log(x+sqrt(x^2+a)))"],.476307:["f(1/(a+b*x),1/b*log(a+b*x))"],.226868:["f(1/(a+b*x)^2,-1/(b*(a+b*x)))"],2.904531:["f(1/(a+b*x)^3,-1/(2*b)*1/(a+b*x)^2)"],.455026:["f(x/(a+b*x),x/b-a*log(a+b*x)/b/b)"],.216732:["f(x/(a+b*x)^2,1/b^2*(log(a+b*x)+a/(a+b*x)))"],.434695:["f(x^2/(a+b*x),1/b^2*(1/2*(a+b*x)^2-2*a*(a+b*x)+a^2*log(a+b*x)))"],.207048:["f(x^2/(a+b*x)^2,1/b^3*(a+b*x-2*a*log(a+b*x)-a^2/(a+b*x)))"],2.650781:["f(x^2/(a+b*x)^3,1/b^3*(log(a+b*x)+2*a/(a+b*x)-1/2*a^2/(a+b*x)^2))"],.498584:["f(1/x*1/(a+b*x),-1/a*log((a+b*x)/x))"],.237479:["f(1/x*1/(a+b*x)^2,1/a*1/(a+b*x)-1/a^2*log((a+b*x)/x))"],3.040375:["f(1/x*1/(a+b*x)^3,1/a^3*(1/2*((2*a+b*x)/(a+b*x))^2+log(x/(a+b*x))))"],.521902:["f(1/x^2*1/(a+b*x),-1/(a*x)+b/a^2*log((a+b*x)/x))"],.446014:["f(1/x^3*1/(a+b*x),(2*b*x-a)/(2*a^2*x^2)+b^2/a^3*log(x/(a+b*x)))"],.248586:["f(1/x^2*1/(a+b*x)^2,-(a+2*b*x)/(a^2*x*(a+b*x))+2*b/a^3*log((a+b*x)/x))"],.464469:["f(x/(a+b*x^2),1/2*1/b*log(a+b*x^2))"],.443716:["f(x^2/(a+b*x^2),x/b-a/b*integral(1/(a+b*x^2),x))"],.236382:["f(1/(a+b*x^2)^2,x/(2*a*(a+b*x^2))+1/2*1/a*integral(1/(a+b*x^2),x))"],.508931:["f(1/x*1/(a+b*x^2),1/2*1/a*log(x^2/(a+b*x^2)))"],.532733:["f(1/x^2*1/(a+b*x^2),-1/(a*x)-b/a*integral(1/(a+b*x^2),x))"],.480638:["f(1/(a+b*x^3),1/3*1/a*(a/b)^(1/3)*(1/2*log(((a/b)^(1/3)+x)^3/(a+b*x^3))+sqrt(3)*arctan((2*x-(a/b)^(1/3))*(a/b)^(-1/3)/sqrt(3))))"],.438648:["f(x^2/(a+b*x^3),1/3*1/b*log(a+b*x^3))"],.459164:["f(x/(a+b*x^4),1/2*sqrt(b/a)/b*arctan(x^2*sqrt(b/a)),or(not(number(a*b)),a*b>0))","f(x/(a+b*x^4),1/4*sqrt(-b/a)/b*log((x^2-sqrt(-a/b))/(x^2+sqrt(-a/b))),or(not(number(a*b)),a*b<0))"],"0.450070":["f(x^3/(a+b*x^4),1/4*1/b*log(a+b*x^4))"],"1.448960":["f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))"],1.384221:["f(x*sqrt(a+b*x),-2*(2*a-3*b*x)*sqrt((a+b*x)^3)/15/b^2)"],1.322374:["f(x^2*sqrt(a+b*x),2*(8*a^2-12*a*b*x+15*b^2*x^2)*sqrt((a+b*x)^3)/105/b^3)"],1.516728:["f(sqrt(a+b*x)/x,2*sqrt(a+b*x)+a*integral(1/x*1/sqrt(a+b*x),x))"],1.587665:["f(sqrt(a+b*x)/x^2,-sqrt(a+b*x)/x+b/2*integral(1/x*1/sqrt(a+b*x),x))"],"0.690150":["f(1/sqrt(a+b*x),2*sqrt(a+b*x)/b)"],.659314:["f(x/sqrt(a+b*x),-2/3*(2*a-b*x)*sqrt(a+b*x)/b^2)"],.629856:["f(x^2/sqrt(a+b*x),2/15*(8*a^2-4*a*b*x+3*b^2*x^2)*sqrt(a+b*x)/b^3)"],.722428:["f(1/x*1/sqrt(a+b*x),1/sqrt(a)*log((sqrt(a+b*x)-sqrt(a))/(sqrt(a+b*x)+sqrt(a))),or(not(number(a)),a>0))","f(1/x*1/sqrt(a+b*x),2/sqrt(-a)*arctan(sqrt(-(a+b*x)/a)),or(not(number(a)),a<0))"],.756216:["f(1/x^2*1/sqrt(a+b*x),-sqrt(a+b*x)/a/x-1/2*b/a*integral(1/x*1/sqrt(a+b*x),x))"],1.434156:["f(sqrt(x^2+a),1/2*(x*sqrt(x^2+a)+a*log(x+sqrt(x^2+a))))","f(sqrt(a-x^2),1/2*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(abs(a)))))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*log(x*sqrt(a)+sqrt(a*x^2+b))/2/sqrt(a),and(number(a),a>0))","f(sqrt(a*x^2+b),x*sqrt(a*x^2+b)/2+b*arcsin(x*sqrt(-a/b))/2/sqrt(-a),and(number(a),a<0))"],.729886:["f(1/x*1/sqrt(x^2+a),arcsec(x/sqrt(-a))/sqrt(-a),or(not(number(a)),a<0))","f(1/x*1/sqrt(x^2+a),-1/sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(1/x*1/sqrt(a-x^2),-1/sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))"],"1.501230":["f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(a)*log((sqrt(a)+sqrt(x^2+a))/x),or(not(number(a)),a>0))","f(sqrt(x^2+a)/x,sqrt(x^2+a)-sqrt(-a)*arcsec(x/sqrt(-a)),or(not(number(a)),a<0))","f(sqrt(a-x^2)/x,sqrt(a-x^2)-sqrt(a)*log((sqrt(a)+sqrt(a-x^2))/x),or(not(number(a)),a>0))"],"0.666120":["f(x/sqrt(x^2+a),sqrt(x^2+a))","f(x/sqrt(a-x^2),-sqrt(a-x^2))"],1.370077:["f(x*sqrt(x^2+a),1/3*sqrt((x^2+a)^3))","f(x*sqrt(a-x^2),-1/3*sqrt((a-x^2)^3))"],1.730087:["f(sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2+a^(1/3))^3)+3/2*a^(1/3)*x*sqrt(x^2+a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2+a^(1/3)))))","f(sqrt(-a+x^6-3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/4*(x*sqrt((x^2-a^(1/3))^3)-3/2*a^(1/3)*x*sqrt(x^2-a^(1/3))+3/2*a^(2/3)*log(x+sqrt(x^2-a^(1/3)))))"],.578006:["f(1/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),x/a^(1/3)/sqrt(x^2+a^(1/3)))"],"0.552180":["f(x/sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),-1/sqrt(x^2+a^(1/3)))"],1.652787:["f(x*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/5*sqrt((x^2+a^(1/3))^5))"],1.308862:["f(x^2*sqrt(x^2+a),1/4*x*sqrt((x^2+a)^3)-1/8*a*x*sqrt(x^2+a)-1/8*a^2*log(x+sqrt(x^2+a)))","f(x^2*sqrt(a-x^2),-x/4*sqrt((a-x^2)^3)+1/8*a*(x*sqrt(a-x^2)+a*arcsin(x/sqrt(a))),or(not(number(a)),a>0))"],1.342944:["f(x^3*sqrt(x^2+a),(1/5*x^2-2/15*a)*sqrt((x^2+a)^3),and(number(a),a>0))","f(x^3*sqrt(x^2+a),sqrt((x^2+a)^5)/5-a*sqrt((x^2+a)^3)/3,and(number(a),a<0))","f(x^3*sqrt(a-x^2),(-1/5*x^2-2/15*a)*sqrt((a-x^2)^3),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^3,-1/2*sqrt(a-x^2)/x^2+1/2*log((sqrt(a)+sqrt(a-x^2))/x)/sqrt(a),or(not(number(a)),a>0))","f(sqrt(a-x^2)/x^4,-1/3*sqrt((a-x^2)^3)/a/x^3,or(not(number(a)),a>0))"],.636358:["f(x^2/sqrt(x^2+a),1/2*x*sqrt(x^2+a)-1/2*a*log(x+sqrt(x^2+a)))","f(x^2/sqrt(a-x^2),-x/2*sqrt(a-x^2)+a/2*arcsin(x/sqrt(a)),or(not(number(a)),a>0))"],.652928:["f(x^3/sqrt(x^2+a),1/3*sqrt((x^2+a)^3)-a*sqrt(x^2+a))","f(1/x^3*1/sqrt(x^2+a),-1/2*sqrt(x^2+a)/a/x^2+1/2*log((sqrt(a)+sqrt(x^2+a))/x)/a^(3/2),or(not(number(a)),a>0))","f(1/x^3*1/sqrt(x^2-a),1/2*sqrt(x^2-a)/a/x^2+1/2*1/(a^(3/2))*arcsec(x/(a^(1/2))),or(not(number(a)),a>0))"],.764022:["f(1/x^2*1/sqrt(x^2+a),-sqrt(x^2+a)/a/x)","f(1/x^2*1/sqrt(a-x^2),-sqrt(a-x^2)/a/x,or(not(number(a)),a>0))"],"1.578940":["f(x^2*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/6*x*sqrt((x^2+a^(1/3))^5)-1/24*a^(1/3)*x*sqrt((x^2+a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2+a^(1/3))-1/16*a*log(x+sqrt(x^2+a^(1/3))),or(not(number(a)),a>0))","f(x^2*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/6*x*sqrt((x^2-a^(1/3))^5)+1/24*a^(1/3)*x*sqrt((x^2-a^(1/3))^3)-1/16*a^(2/3)*x*sqrt(x^2-a^(1/3))+1/16*a*log(x+sqrt(x^2-a^(1/3))),or(not(number(a)),a>0))"],1.620055:["f(x^3*sqrt(a+x^6+3*a^(1/3)*x^4+3*a^(2/3)*x^2),1/7*sqrt((x^2+a^(1/3))^7)-1/5*a^(1/3)*sqrt((x^2+a^(1/3))^5),or(not(number(a)),a>0))","f(x^3*sqrt(-a-3*a^(1/3)*x^4+3*a^(2/3)*x^2+x^6),1/7*sqrt((x^2-a^(1/3))^7)+1/5*a^(1/3)*sqrt((x^2-a^(1/3))^5),or(not(number(a)),a>0))"],.332117:["f(1/(x-a)/sqrt(x^2-a^2),-sqrt(x^2-a^2)/a/(x-a))","f(1/(x+a)/sqrt(x^2-a^2),sqrt(x^2-a^2)/a/(x+a))"],1.571443:["f(sqrt(a-x^2)/x^2,-sqrt(a-x^2)/x-arcsin(x/sqrt(a)),or(not(number(a)),a>0))"],1.690994:["f(sin(a*x),-cos(a*x)/a)"],1.055979:["f(cos(a*x),sin(a*x)/a)"],1.116714:["f(tan(a*x),-log(cos(a*x))/a)"],.895484:["f(1/tan(a*x),log(sin(a*x))/a)"],.946989:["f(1/cos(a*x),log(tan(pi/4+a*x/2))/a)"],.591368:["f(1/sin(a*x),log(tan(a*x/2))/a)"],2.859462:["f(sin(a*x)^2,x/2-sin(2*a*x)/(4*a))"],"2.128050":["f(sin(a*x)^3,-cos(a*x)*(sin(a*x)^2+2)/(3*a))","f(sin(a*x)^4,3/8*x-sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))"],1.115091:["f(cos(a*x)^2,x/2+sin(2*a*x)/(4*a))"],1.081452:["f(cos(a*x)^3,sin(a*x)*(cos(a*x)^2+2)/(3*a))","f(cos(a*x)^4,3/8*x+sin(2*a*x)/(4*a)+sin(4*a*x)/(32*a))"],.349716:["f(1/sin(a*x)^2,-1/(a*tan(a*x)))"],.896788:["f(1/cos(a*x)^2,tan(a*x)/a)"],1.785654:["f(sin(a*x)*cos(a*x),sin(a*x)^2/(2*a))"],"3.188560":["f(sin(a*x)^2*cos(a*x)^2,-sin(4*a*x)/(32*a)+x/8)"],1.516463:["f(sin(a*x)/cos(a*x)^2,1/(a*cos(a*x)))"],2.707879:["f(sin(a*x)^2/cos(a*x),(log(tan(pi/4+a*x/2))-sin(a*x))/a)"],.369293:["f(cos(a*x)/sin(a*x)^2,-1/(a*sin(a*x)))"],.560019:["f(1/(sin(a*x)*cos(a*x)),log(tan(a*x))/a)"],.530332:["f(1/(sin(a*x)*cos(a*x)^2),(1/cos(a*x)+log(tan(a*x/2)))/a)"],.331177:["f(1/(sin(a*x)^2*cos(a*x)),(log(tan(pi/4+a*x/2))-1/sin(a*x))/a)"],.313621:["f(1/(sin(a*x)^2*cos(a*x)^2),-2/(a*tan(2*a*x)))"],3.172365:["f(sin(a+b*x),-cos(a+b*x)/b)"],1.127162:["f(cos(a+b*x),sin(a+b*x)/b)"],.352714:["f(1/(b+b*sin(a*x)),-tan(pi/4-a*x/2)/a/b)","f(1/(b-b*sin(a*x)),tan(pi/4+a*x/2)/a/b)","f(1/(a+b*sin(x)),1/sqrt(b^2-a^2)*log((a*tan(x/2)+b-sqrt(b^2-a^2))/(a*tan(x/2)+b+sqrt(b^2-a^2))),b^2-a^2)"],.454515:["f(1/(b+b*cos(a*x)),tan(a*x/2)/a/b)","f(1/(b-b*cos(a*x)),-1/tan(a*x/2)/a/b)","f(1/(a+b*cos(x)),1/sqrt(b^2-a^2)*log((sqrt(b^2-a^2)*tan(x/2)+a+b)/(sqrt(b^2-a^2)*tan(x/2)-a-b)),b^2-a^2)"],1.615441:["f(x*sin(a*x),sin(a*x)/a^2-x*cos(a*x)/a)"],1.543263:["f(x^2*sin(a*x),2*x*sin(a*x)/a^2-(a^2*x^2-2)*cos(a*x)/a^3)"],1.008798:["f(x*cos(a*x),cos(a*x)/a^2+x*sin(a*x)/a)"],.963724:["f(x^2*cos(a*x),2*x*cos(a*x)/a^2+(a^2*x^2-2)*sin(a*x)/a^3)"],1.611938:["f(arcsin(a*x),x*arcsin(a*x)+sqrt(1-a^2*x^2)/a)"],1.791033:["f(arccos(a*x),x*arccos(a*x)-sqrt(1-a^2*x^2)/a)"],1.123599:["f(arctan(a*x),x*arctan(a*x)-1/2*log(1+a^2*x^2)/a)"],1.387031:["f(x*log(a*x),x^2*log(a*x)/2-x^2/4)"],1.325058:["f(x^2*log(a*x),x^3*log(a*x)/3-1/9*x^3)"],2.108018:["f(log(x)^2,x*log(x)^2-2*x*log(x)+2*x)"],.403214:["f(1/x*1/(a+log(x)),log(a+log(x)))"],2.269268:["f(log(a*x+b),(a*x+b)*log(a*x+b)/a-x)"],2.486498:["f(log(a*x+b)/x^2,a/b*log(x)-(a*x+b)*log(a*x+b)/b/x)"],1.769733:["f(sinh(x),cosh(x))"],1.883858:["f(cosh(x),sinh(x))"],"1.606140":["f(tanh(x),log(cosh(x)))"],1.690661:["f(x*sinh(x),x*cosh(x)-sinh(x))"],1.799688:["f(x*cosh(x),x*sinh(x)-cosh(x))"],3.131954:["f(sinh(x)^2,sinh(2*x)/4-x/2)"],2.579685:["f(tanh(x)^2,x-tanh(x))"],3.548923:["f(cosh(x)^2,sinh(2*x)/4+x/2)"],1.058866:["f(x^3*exp(a*x^2),exp(a*x^2)*(x^2/a-1/(a^2))/2)"],"1.235270":["f(x^3*exp(a*x^2+b),exp(a*x^2)*exp(b)*(x^2/a-1/(a^2))/2)"],1.130783:["f(exp(a*x^2),-i*sqrt(pi)*erf(i*sqrt(a)*x)/sqrt(a)/2)"],1.078698:["f(erf(a*x),x*erf(a*x)+exp(-a^2*x^2)/a/sqrt(pi))"],"2.573650":["f(x^2*(1-x^2)^(3/2),(x*sqrt(1-x^2)*(-8*x^4+14*x^2-3)+3*arcsin(x))/48)","f(x^2*(1-x^2)^(5/2),(x*sqrt(1-x^2)*(48*x^6-136*x^4+118*x^2-15)+15*arcsin(x))/384)"],2.640666:["f(x^4*(1-x^2)^(3/2),(-x*sqrt(1-x^2)*(16*x^6-24*x^4+2*x^2+3)+3*arcsin(x))/128)"],1.086487:["f(x*exp(a*x),exp(a*x)*(a*x-1)/(a^2))"],1.267493:["f(x*exp(a*x+b),exp(a*x+b)*(a*x-1)/(a^2))"],1.037943:["f(x^2*exp(a*x),exp(a*x)*(a^2*x^2-2*a*x+2)/(a^3))"],1.210862:["f(x^2*exp(a*x+b),exp(a*x+b)*(a^2*x^2-2*a*x+2)/(a^3))"],"1.064970":["f(x^3*exp(a*x),exp(a*x)*x^3/a-3/a*integral(x^2*exp(a*x),x))"],1.242392:["f(x^3*exp(a*x+b),exp(a*x+b)*x^3/a-3/a*integral(x^2*exp(a*x+b),x))"]},INV_check_arg=function(){return istensor(p1)?2!==p1.tensor.ndim||p1.tensor.dim[0]!==p1.tensor.dim[1]?0:1:0},inv=function(){var e,t,r,n;if(0,0,save(),p1=pop(),isinv(p1))return push(car(cdr(p1))),void restore();if(isidentitymatrix(p1))return push(p1),void restore();if(!expanding||!isinnerordot(p1))return 0===INV_check_arg()?(push_symbol(INV),push(p1),list(2),void restore()):(isNumericAtomOrTensor(p1)?yyinvg():(push(p1),adj(),push(p1),det(),p2=pop(),isZeroAtomOrTensor(p2)&&stop("inverse of singular matrix"),push(p2),divide()),restore());for(p1=cdr(p1),e=[];iscons(p1);)e.push(car(p1)),p1=cdr(p1);for(t=r=n=e.length-1;n<=0?r<=0:r>=0;t=n<=0?++r:--r)push(e[t]),inv(),t!==e.length-1&&inner();restore()},invg=function(){return save(),p1=pop(),0===INV_check_arg()?(push_symbol(INVG),push(p1),list(2),void restore()):(yyinvg(),restore())},yyinvg=function(){var e,t,r,n,i,o,a,s,l,u,c,p;for(0,t=0,n=0,0,a=p1.tensor.dim[0],e=tos,t=s=0,l=a;0<=l?s<l:s>l;t=0<=l?++s:--s)for(n=r=0,u=a;0<=u?r<u:r>u;n=0<=u?++r:--r)push(t===n?one:zero);for(t=i=0,c=a*a;0<=c?i<c:i>c;t=0<=c?++i:--i)push(p1.tensor.elem[t]);for(INV_decomp(a),(p1=alloc_tensor(a*a)).tensor.ndim=2,p1.tensor.dim[0]=a,p1.tensor.dim[1]=a,t=o=0,p=a*a;0<=p?o<p:o>p;t=0<=p?++o:--o)p1.tensor.elem[t]=stack[e+t];return moveTos(tos-2*a*a),push(p1)},INV_decomp=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m;for(0,r=0,n=0,o=0,0,m=(t=tos-e*e)-e*e,d=[],r=l=0,u=e;0<=u?l<u:l>u;r=0<=u?++l:--l){if(equal(stack[t+e*r+r],zero)){for(n=i=c=r+1,p=e;(c<=p?i<p:i>p)&&equal(stack[t+e*n+r],zero);n=c<=p?++i:--i);for(n===e&&stop("inverse of singular matrix"),o=a=0,h=e;0<=h?a<h:a>h;o=0<=h?++a:--a)p2=stack[t+e*r+o],stack[t+e*r+o]=stack[t+e*n+o],stack[t+e*n+o]=p2,p2=stack[m+e*r+o],stack[m+e*r+o]=stack[m+e*n+o],stack[m+e*n+o]=p2}for(p2=stack[t+e*r+r],o=s=0,f=e;0<=f?s<f:s>f;o=0<=f?++s:--s)o>r&&(push(stack[t+e*r+o]),push(p2),divide(),stack[t+e*r+o]=pop()),push(stack[m+e*r+o]),push(p2),divide(),stack[m+e*r+o]=pop();d.push(function(){var i,a,s;for(s=[],n=i=0,a=e;0<=a?i<a:i>a;n=0<=a?++i:--i)n!==r&&(p2=stack[t+e*n+r],s.push(function(){var i,a,s;for(s=[],o=i=0,a=e;0<=a?i<a:i>a;o=0<=a?++i:--i)o>r&&(push(stack[t+e*n+o]),push(stack[t+e*r+o]),push(p2),multiply(),subtract(),stack[t+e*n+o]=pop()),push(stack[m+e*n+o]),push(stack[m+e*r+o]),push(p2),multiply(),subtract(),s.push(stack[m+e*n+o]=pop());return s}()));return s}())}return d},DEBUG_IS=!1,isZeroAtom=function(e){switch(e.k){case NUM:return MZERO(e.q.a);case DOUBLE:return 0===e.d;default:return!1}},isZeroTensor=function(e){var t,r,n;if(e.k!==TENSOR)return 0;for(t=r=0,n=e.tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)if(!isZeroAtomOrTensor(e.tensor.elem[t]))return 0;return 1},isZeroAtomOrTensor=function(e){return isZeroAtom(e)||isZeroTensor(e)},isZeroLikeOrNonZeroLikeOrUndetermined=function(e){var t;if(push(e),Eval_predicate(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1;if(push(t),zzfloat(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1;if(Find(t,imaginaryunit)){if(push(t),absValFloat(),Eval_predicate(),t=pop(),isZeroAtomOrTensor(t))return 0;if(isNumericAtomOrTensor(t))return 1}return null},isnegativenumber=function(e){switch(e.k){case NUM:if(-1===MSIGN(e.q.a))return 1;break;case DOUBLE:if(e.d<0)return 1}return 0},ispositivenumber=function(e){switch(e.k){case NUM:if(1===MSIGN(e.q.a))return 1;break;case DOUBLE:if(e.d>0)return 1}return 0},isplustwo=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,2)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(2===e.d)return 1}return 0},isplusone=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,1)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(1===e.d)return 1}return 0},isminusone=function(e){switch(e.k){case NUM:if(MEQUAL(e.q.a,-1)&&MEQUAL(e.q.b,1))return 1;break;case DOUBLE:if(-1===e.d)return 1}return 0},isone=function(e){return isplusone(e)||isminusone(e)},isinteger=function(e){return e.k===NUM&&MEQUAL(e.q.b,1)?1:0},isintegerorintegerfloat=function(e){return e.k===DOUBLE?e.d===Math.round(e.d)?1:0:isinteger(e)},isnonnegativeinteger=function(e){return isrational(e)&&MEQUAL(e.q.b,1)&&1===MSIGN(e.q.a)?1:0},isposint=function(e){return isinteger(e)&&1===MSIGN(e.q.a)?1:0},isunivarpolyfactoredorexpandedform=function(e,t){return DEBUG&&console.log("isunivarpolyfactoredorexpandedform: p: "+e+" x: "+t),null==t&&(push(e),guess(),t=pop(),pop()),ispolyfactoredorexpandedform(e,t)&&Find(e,symbol(SYMBOL_X))+Find(e,symbol(SYMBOL_Y))+Find(e,symbol(SYMBOL_Z))===1?t:0},ispolyfactoredorexpandedform=function(e,t){return ispolyfactoredorexpandedform_factor(e,t)},ispolyfactoredorexpandedform_factor=function(e,t){if(car(e)===symbol(MULTIPLY)){for(e=cdr(e);iscons(e);){if(DEBUG&&console.log("ispolyfactoredorexpandedform_factor testing "+car(e)),!ispolyfactoredorexpandedform_power(car(e),t))return DEBUG&&console.log("... tested negative:"+car(e)),0;e=cdr(e)}return 1}return ispolyfactoredorexpandedform_power(e,t)},ispolyfactoredorexpandedform_power=function(e,t){return car(e)===symbol(POWER)?(DEBUG&&console.log("ispolyfactoredorexpandedform_power (isposint(caddr(p)) "+(isposint(caddr(e)),DEBUG?console.log("ispolyfactoredorexpandedform_power ispolyexpandedform_expr(cadr(p), x)) "+ispolyexpandedform_expr(cadr(e),t)):void 0)),isposint(caddr(e))&&ispolyexpandedform_expr(cadr(e),t)):(DEBUG&&console.log("ispolyfactoredorexpandedform_power not a power, testing if this is exp form: "+e),ispolyexpandedform_expr(e,t))},ispolyexpandedform=function(e,t){return Find(e,t)?ispolyexpandedform_expr(e,t):0},ispolyexpandedform_expr=function(e,t){if(car(e)===symbol(ADD)){for(e=cdr(e);iscons(e);){if(!ispolyexpandedform_term(car(e),t))return 0;e=cdr(e)}return 1}return ispolyexpandedform_term(e,t)},ispolyexpandedform_term=function(e,t){if(car(e)===symbol(MULTIPLY)){for(e=cdr(e);iscons(e);){if(!ispolyexpandedform_factor(car(e),t))return 0;e=cdr(e)}return 1}return ispolyexpandedform_factor(e,t)},ispolyexpandedform_factor=function(e,t){return equal(e,t)?1:car(e)===symbol(POWER)&&equal(cadr(e),t)?isposint(caddr(e))?1:0:Find(e,t)?0:1},isnegativeterm=function(e){return isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?1:0},hasNegativeRationalExponent=function(e){return car(e)===symbol(POWER)&&isrational(car(cdr(cdr(e))))&&isnegativenumber(car(cdr(e)))?(DEBUG_IS&&console.log("hasNegativeRationalExponent: "+e.toString()+" has imaginary component"),1):(DEBUG_IS&&console.log("hasNegativeRationalExponent: "+e.toString()+" has NO imaginary component"),0)},isimaginarynumberdouble=function(e){return car(e)===symbol(MULTIPLY)&&3===length(e)&&isdouble(cadr(e))&&hasNegativeRationalExponent(caddr(e))||equal(e,imaginaryunit)?1:0},isimaginarynumber=function(e){return car(e)===symbol(MULTIPLY)&&3===length(e)&&isNumericAtom(cadr(e))&&equal(caddr(e),imaginaryunit)||equal(e,imaginaryunit)||hasNegativeRationalExponent(caddr(e))?(DEBUG_IS&&console.log("isimaginarynumber: "+e.toString()+" is imaginary number"),1):(DEBUG_IS&&console.log("isimaginarynumber: "+e.toString()+" isn't an imaginary number"),0)},iscomplexnumberdouble=function(e){return car(e)===symbol(ADD)&&3===length(e)&&isdouble(cadr(e))&&isimaginarynumberdouble(caddr(e))||isimaginarynumberdouble(e)?1:0},iscomplexnumber=function(e){return car(e)===symbol(ADD)&&3===length(e)&&isNumericAtom(cadr(e))&&isimaginarynumber(caddr(e))||isimaginarynumber(e)?(DEBUG&&console.log("iscomplexnumber: "+e.toString()+" is imaginary number"),1):(DEBUG&&console.log("iscomplexnumber: "+e.toString()+" is imaginary number"),0)},iseveninteger=function(e){return isinteger(e)&&e.q.a.isEven()?1:0},isnegative=function(e){return car(e)===symbol(ADD)&&isnegativeterm(cadr(e))||isnegativeterm(e)?1:0},issymbolic=function(e){if(issymbol(e))return 1;for(;iscons(e);){if(issymbolic(car(e)))return 1;e=cdr(e)}return 0},isintegerfactor=function(e){return isinteger(e)||car(e)===symbol(POWER)&&isinteger(cadr(e))&&isinteger(caddr(e))},isNumberOneOverSomething=function(e){return isfraction(e)&&MEQUAL(e.q.a.abs(),1)},isoneover=function(e){return car(e)===symbol(POWER)&&isminusone(caddr(e))},isfraction=function(e){return e.k===NUM&&!MEQUAL(e.q.b,1)},equaln=function(e,t){switch(e.k){case NUM:return MEQUAL(e.q.a,t)&&MEQUAL(e.q.b,1);case DOUBLE:return e.d===t;default:return!1}},equalq=function(e,t,r){switch(e.k){case NUM:return MEQUAL(e.q.a,t)&&MEQUAL(e.q.b,r);case DOUBLE:return e.d===t/r;default:return!1}},isoneovertwo=function(e){return equalq(e,1,2)},isminusoneovertwo=function(e){return equalq(e,-1,2)},isoneoversqrttwo=function(e){return car(e)===symbol(POWER)&&equaln(cadr(e),2)&&equalq(caddr(e),-1,2)},isminusoneoversqrttwo=function(e){return car(e)===symbol(MULTIPLY)&&equaln(cadr(e),-1)&&isoneoversqrttwo(caddr(e))&&3===length(e)},issqrtthreeovertwo=function(e){return car(e)===symbol(MULTIPLY)&&isoneovertwo(cadr(e))&&issqrtthree(caddr(e))&&3===length(e)},isminussqrtthreeovertwo=function(e){return car(e)===symbol(MULTIPLY)&&isminusoneovertwo(cadr(e))&&issqrtthree(caddr(e))&&3===length(e)},issqrtthree=function(e){return car(e)===symbol(POWER)&&equaln(cadr(e),3)&&isoneovertwo(caddr(e))},isfloating=function(e){if(e.k===DOUBLE||e===symbol(FLOATF))return 1;for(;iscons(e);){if(isfloating(car(e)))return 1;e=cdr(e)}return 0},isimaginaryunit=function(e){return equal(e,imaginaryunit)?1:0},isquarterturn=function(e){var t,r;if(r=0,t=0,car(e)!==symbol(MULTIPLY))return 0;if(equal(cadr(e),imaginaryunit))return caddr(e)!==symbol(PI)||3!==length(e)?0:2;if(!isNumericAtom(cadr(e)))return 0;if(!equal(caddr(e),imaginaryunit))return 0;if(cadddr(e)!==symbol(PI))return 0;if(4!==length(e))return 0;if(push(cadr(e)),push_integer(2),multiply(),r=pop_integer(),isNaN(r))return 0;switch(r<1&&(t=1,r=-r),r%4){case 0:r=1;break;case 1:r=t?4:3;break;case 2:r=2;break;case 3:r=t?3:4}return r},isnpi=function(e){var t;return t=0,e===symbol(PI)?2:car(e)===symbol(MULTIPLY)&&isNumericAtom(cadr(e))&&caddr(e)===symbol(PI)&&3===length(e)?(0,push(cadr(e)),push_integer(2),multiply(),t=pop_integer(),isNaN(t)?0:t=t<0?4- -t%4:1+(t-1)%4):0},$.isZeroAtomOrTensor=isZeroAtomOrTensor,$.isnegativenumber=isnegativenumber,$.isplusone=isplusone,$.isminusone=isminusone,$.isinteger=isinteger,$.isnonnegativeinteger=isnonnegativeinteger,$.isposint=isposint,$.isnegativeterm=isnegativeterm,$.isimaginarynumber=isimaginarynumber,$.iscomplexnumber=iscomplexnumber,$.iseveninteger=iseveninteger,$.isnegative=isnegative,$.issymbolic=issymbolic,$.isintegerfactor=isintegerfactor,$.isoneover=isoneover,$.isfraction=isfraction,$.isoneoversqrttwo=isoneoversqrttwo,$.isminusoneoversqrttwo=isminusoneoversqrttwo,$.isfloating=isfloating,$.isimaginaryunit=isimaginaryunit,$.isquarterturn=isquarterturn,$.isnpi=isnpi,Eval_isprime=function(){return push(cadr(p1)),Eval(),p1=pop(),isnonnegativeinteger(p1)&&mprime(p1.q.a)?push_integer(1):push_integer(0)},Eval_laguerre=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),laguerre()},laguerre=function(){var e;return 0,save(),p3=pop(),p2=pop(),p1=pop(),push(p2),(e=pop_integer())<0||isNaN(e)?(push_symbol(LAGUERRE),push(p1),push(p2),push(p3),list(4),void restore()):(issymbol(p1)?laguerre2(e):(p4=p1,p1=symbol(SECRETX),laguerre2(e),p1=p4,push(symbol(SECRETX)),push(p1),subst(),Eval()),restore())},laguerre2=function(e){var t,r,n,i;for(t=0,push_integer(1),push_integer(0),p6=pop(),i=[],t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)p5=p6,p6=pop(),push_integer(2*t+1),push(p1),subtract(),push(p3),add(),push(p6),multiply(),push_integer(t),push(p3),add(),push(p5),multiply(),subtract(),push_integer(t+1),i.push(divide());return i},Eval_lcm=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),lcm(),e.push(p1=cdr(p1));return e},lcm=function(){var e;return e=expanding,save(),yylcm(),restore(),expanding=e},yylcm=function(){return expanding=1,p2=pop(),p1=pop(),push(p1),push(p2),gcd(),push(p1),divide(),push(p2),divide(),inverse()},Eval_leading=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p1=pop())===symbol(NIL)?guess():push(p1),leading()},leading=function(){return save(),p2=pop(),p1=pop(),push(p1),push(p2),degree(),p3=pop(),push(p1),push(p2),push(p3),power(),divide(),push(p2),filter(),restore()},Eval_legendre=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),legendre()},legendre=function(){return save(),__legendre(),restore()},__legendre=function(){var e,t;return 0,0,p3=pop(),p2=pop(),p1=pop(),push(p2),t=pop_integer(),push(p3),e=pop_integer(),t<0||isNaN(t)||e<0||isNaN(e)?(push_symbol(LEGENDRE),push(p1),push(p2),push(p3),void list(4)):(issymbol(p1)?__legendre2(t,e):(p4=p1,p1=symbol(SECRETX),__legendre2(t,e),p1=p4,push(symbol(SECRETX)),push(p1),subst(),Eval()),__legendre3(e))},__legendre2=function(e,t){var r,n,i,o,a,s;for(r=0,push_integer(1),push_integer(0),p6=pop(),r=i=0,o=e;0<=o?i<o:i>o;r=0<=o?++i:--i)p5=p6,p6=pop(),push_integer(2*r+1),push(p1),multiply(),push(p6),multiply(),push_integer(r),push(p5),multiply(),subtract(),push_integer(r+1),divide();for(s=[],r=n=0,a=t;0<=a?n<a:n>a;r=0<=a?++n:--n)push(p1),s.push(derivative());return s},__legendre3=function(e){if(0!==e)return car(p1)===symbol(COS)?(push(cadr(p1)),sine(),square()):car(p1)===symbol(SIN)?(push(cadr(p1)),cosine(),square()):(push_integer(1),push(p1),square(),subtract()),push_integer(e),push_rational(1,2),multiply(),power(),multiply(),e%2?negate():void 0},list=function(e){var t,r,n;for(0,push(symbol(NIL)),n=[],t=0,r=e;0<=r?t<r:t>r;0<=r?++t:--t)n.push(cons());return n},Eval_log=function(){return push(cadr(p1)),Eval(),logarithm()},logarithm=function(){return save(),yylog(),restore()},yylog=function(){var e;if(e=0,(p1=pop())!==symbol(E))if(equaln(p1,1))push_integer(0);else{if(isnegativenumber(p1))return push(p1),negate(),logarithm(),push(imaginaryunit),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),multiply(),void add();if(isdouble(p1))return e=Math.log(p1.d),void push_double(e);if(isfraction(p1))return push(p1),numerator(),logarithm(),push(p1),denominator(),logarithm(),void subtract();if(car(p1)===symbol(POWER))return push(caddr(p1)),push(cadr(p1)),logarithm(),void multiply();if(car(p1)!==symbol(MULTIPLY))return push_symbol(LOG),push(p1),list(2);for(push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),logarithm(),add(),p1=cdr(p1)}else push_integer(1)},Eval_lookup=function(){return p1=cadr(p1),iscons(p1)||cadr(p1).k!==SYM||(p1=get_binding(p1)),push(p1)},madd=function(e,t){return e.add(t)},msub=function(e,t){return e.subtract(t)},addf=function(e,t){return e.add(t)},subf=function(e,t){return e.subtract(t)},ucmp=function(e,t){return e.compareAbs(t)},mgcd=function(e,t){return bigInt.gcd(e,t)},new_string=function(e){var t;return(t=new U).k=STR,t.str=e,t},out_of_memory=function(){return stop("out of memory")},push_zero_matrix=function(e,t){return push(alloc_tensor(e*t)),stack[tos-1].tensor.ndim=2,stack[tos-1].tensor.dim[0]=e,stack[tos-1].tensor.dim[1]=t},push_identity_matrix=function(e){var t,r,n;for(push_zero_matrix(e,e),t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)stack[tos-1].tensor.elem[t*e+t]=one;return check_tensor_dimensions(stack[tos-1])},push_cars=function(e){var t;for(t=[];iscons(e);)push(car(e)),t.push(e=cdr(e));return t},equal=function(e,t){return 0===cmp_expr(e,t)?1:0},lessp=function(e,t){return cmp_expr(e,t)<0?1:0},sign=function(e){return e<0?-1:e>0?1:0},cmp_expr=function(e,t){var r;if(r=0,e===t)return 0;if(e===symbol(NIL))return-1;if(t===symbol(NIL))return 1;if(isNumericAtom(e)&&isNumericAtom(t))return sign(compare_numbers(e,t));if(isNumericAtom(e))return-1;if(isNumericAtom(t))return 1;if(isstr(e)&&isstr(t))return sign(strcmp(e.str,t.str));if(isstr(e))return-1;if(isstr(t))return 1;if(issymbol(e)&&issymbol(t))return sign(strcmp(get_printname(e),get_printname(t)));if(issymbol(e))return-1;if(issymbol(t))return 1;if(istensor(e)&&istensor(t))return compare_tensors(e,t);if(istensor(e))return-1;if(istensor(t))return 1;for(;iscons(e)&&iscons(t);){if(0!==(r=cmp_expr(car(e),car(t))))return r;e=cdr(e),t=cdr(t)}return iscons(t)?-1:iscons(e)?1:0},length=function(e){var t;for(t=0;iscons(e);)e=cdr(e),t++;return t},unique=function(e){return save(),p1=symbol(NIL),p2=symbol(NIL),unique_f(e),p2!==symbol(NIL)&&(p1=symbol(NIL)),e=p1,restore(),e},unique_f=function(e){if(isstr(e))p1===symbol(NIL)?p1=e:e!==p1&&(p2=e);else for(;iscons(e);){if(unique_f(car(e)),p2!==symbol(NIL))return;e=cdr(e)}},ssqrt=function(){return push_rational(1,2),power()},yyexpand=function(){var e;return e=expanding,expanding=1,Eval(),expanding=e},exponential=function(){return push_symbol(E),swap(),power()},square=function(){return push_integer(2),power()},sort_stack=function(e){var t,r;return t=tos-e,(r=stack.slice(t,t+e)).sort(cmp_expr),stack=stack.slice(0,t).concat(r).concat(stack.slice(t+e))},$.equal=equal,$.length=length,mmul=function(e,t){return e.multiply(t)},mdiv=function(e,t){return e.divide(t)},mmod=function(e,t){return e.mod(t)},mdivrem=function(e,t){var r;return[(r=e.divmod(t)).quotient,r.remainder]},Eval_mod=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),mod()},mod=function(){var e;return e=0,save(),p2=pop(),p1=pop(),isZeroAtomOrTensor(p2)&&stop("mod function: divide by zero"),isNumericAtom(p1)&&isNumericAtom(p2)?(isdouble(p1)&&(push(p1),e=pop_integer(),isNaN(e)&&stop("mod function: cannot convert float value to integer"),push_integer(e),p1=pop()),isdouble(p2)&&(push(p2),e=pop_integer(),isNaN(e)&&stop("mod function: cannot convert float value to integer"),push_integer(e),p2=pop()),isinteger(p1)&&isinteger(p2)||stop("mod function: integer arguments expected"),(p3=new U).k=NUM,p3.q.a=mmod(p1.q.a,p2.q.a),p3.q.b=mint(1),push(p3),restore()):(push_symbol(MOD),push(p1),push(p2),list(3),void restore())},mpow=function(e,t){return e.pow(t)},mprime=function(e){return e.isProbablePrime()},mroot=function(e,t){var r,n,i,o,a,s,l;for(e=e.abs(),r=0,0,i=0,0===t&&stop("root index is zero"),i=0;e.shiftRight(i)>0;)i++;if(0===i)return mint(0);for(i=Math.floor((i-1)/t),n=Math.floor(i/32+1),s=bigInt(n),r=o=0,a=n;0<=a?o<a:o>a;r=0<=a?++o:--o)s=s.and(bigInt(1).shiftLeft(r).not());for(;i>=0;){switch(s=s.or(bigInt(1).shiftLeft(i)),l=mpow(s,t),mcmp(l,e)){case 0:return s;case 1:s=s.and(bigInt(1).shiftLeft(i).not())}i--}return 0},DEBUG_MULTIPLY=!1,Eval_multiply=function(){var e;for(push(cadr(p1)),Eval(),p1=cddr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),multiply(),e.push(p1=cdr(p1));return e},multiply=function(){return esc_flag&&stop("escape key stop"),isNumericAtom(stack[tos-2])&&isNumericAtom(stack[tos-1])?multiply_numbers():(save(),yymultiply(),restore())},yymultiply=function(){var e,t,r,n,i,o;if(0,t=0,0,p2=pop(),p1=pop(),e=tos,isZeroAtom(p1)||isZeroAtom(p2))evaluatingAsFloats?push_double(0):push(zero);else if(expanding&&isadd(p1))for(p1=cdr(p1),evaluatingAsFloats?push_double(0):push(zero);iscons(p1);)push(car(p1)),push(p2),multiply(),add(),p1=cdr(p1);else if(expanding&&isadd(p2))for(p2=cdr(p2),evaluatingAsFloats?push_double(0):push(zero);iscons(p2);)push(p1),push(car(p2)),multiply(),add(),p2=cdr(p2);else{if(!istensor(p1)&&istensor(p2))return push(p1),push(p2),void scalar_times_tensor();if(istensor(p1)&&!istensor(p2))return push(p1),push(p2),void tensor_times_scalar();for(car(p1)===symbol(MULTIPLY)?p1=cdr(p1):(push(p1),list(1),p1=pop()),car(p2)===symbol(MULTIPLY)?p2=cdr(p2):(push(p2),list(1),p2=pop()),isNumericAtom(car(p1))&&isNumericAtom(car(p2))?(push(car(p1)),push(car(p2)),multiply_numbers(),p1=cdr(p1),p2=cdr(p2)):isNumericAtom(car(p1))?(push(car(p1)),p1=cdr(p1)):isNumericAtom(car(p2))?(push(car(p2)),p2=cdr(p2)):evaluatingAsFloats?push_double(1):push(one),parse_p1(),parse_p2();iscons(p1)&&iscons(p2);)if(caar(p1)!==symbol(OPERATOR)||caar(p2)!==symbol(OPERATOR))switch(cmp_expr(p3,p4)){case-1:push(car(p1)),p1=cdr(p1),parse_p1();break;case 1:push(car(p2)),p2=cdr(p2),parse_p2();break;case 0:combine_factors(e),p1=cdr(p1),p2=cdr(p2),parse_p1(),parse_p2();break;default:stop("internal error 2")}else push_symbol(OPERATOR),push(cdar(p1)),push(cdar(p2)),append(),cons(),p1=cdr(p1),p2=cdr(p2),parse_p1(),parse_p2();for(;iscons(p1);)push(car(p1)),p1=cdr(p1);for(;iscons(p2);)push(car(p2)),p2=cdr(p2);if(__normalize_radical_factors(e),expanding)for(t=n=i=e,o=tos;i<=o?n<o:n>o;t=i<=o?++n:--n)if(isadd(stack[t]))return void multiply_all(tos-e);if(1!==(r=tos-e)){if(!isrational(stack[e])||!equaln(stack[e],1))return list(r),p7=pop(),push_symbol(MULTIPLY),push(p7),cons();2===r?(p7=pop(),pop(),push(p7)):(stack[e]=symbol(MULTIPLY),list(r))}}},parse_p1=function(){if(p3=car(p1),p5=evaluatingAsFloats?one_as_double:one,car(p3)===symbol(POWER))return p5=caddr(p3),p3=cadr(p3)},parse_p2=function(){if(p4=car(p2),p6=evaluatingAsFloats?one_as_double:one,car(p4)===symbol(POWER))return p6=caddr(p4),p4=cadr(p4)},combine_factors=function(e){return push(p4),push(p5),push(p6),add(),power(),p7=pop(),isNumericAtom(p7)?(push(stack[e]),push(p7),multiply_numbers(),stack[e]=pop()):car(p7)===symbol(MULTIPLY)&&isNumericAtom(cadr(p7))&&cdddr(p7)===symbol(NIL)?(push(stack[e]),push(cadr(p7)),multiply_numbers(),stack[e]=pop(),push(caddr(p7))):push(p7)},gp=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,-6,-7,-8,-3,-4,-5,13,14,15,-16,9,10,11,-12],[0,0,6,-1,-11,10,-2,-15,14,12,-5,4,-9,16,-8,7,-13],[0,0,7,11,-1,-9,15,-2,-13,5,12,-3,-10,8,16,-6,-14],[0,0,8,-10,9,-1,-14,13,-2,-4,3,12,-11,-7,6,16,-15],[0,0,3,2,15,-14,1,11,-10,16,-8,7,13,12,-5,4,9],[0,0,4,-15,2,13,-11,1,9,8,16,-6,14,5,12,-3,10],[0,0,5,14,-13,2,10,-9,1,-7,6,16,15,-4,3,12,11],[0,0,13,12,-5,4,16,-8,7,-1,-11,10,-3,-2,-15,14,-6],[0,0,14,5,12,-3,8,16,-6,11,-1,-9,-4,15,-2,-13,-7],[0,0,15,-4,3,12,-7,6,16,-10,9,-1,-5,-14,13,-2,-8],[0,0,16,-9,-10,-11,-13,-14,-15,-3,-4,-5,1,-6,-7,-8,2],[0,0,9,-16,8,-7,-12,5,-4,-2,-15,14,6,-1,-11,10,3],[0,0,10,-8,-16,6,-5,-12,3,15,-2,-13,7,11,-1,-9,4],[0,0,11,7,-6,-16,4,-3,-12,-14,13,-2,8,-10,9,-1,5],[0,0,12,13,14,15,9,10,11,-6,-7,-8,-2,-3,-4,-5,-1]],combine_gammas=function(e){var t;if((t=gp[Math.floor(p1.gamma)][Math.floor(p2.gamma)])<0&&(t=-t,push(stack[e]),negate(),stack[e]=pop()),t>1)return push(_gamma[t])},multiply_noexpand=function(){var e;return e=expanding,expanding=0,multiply(),expanding=e},multiply_all=function(e){var t,r,n,i;if(r=0,1!==e){if(0!==e){for(push(stack[t=tos-e]),r=n=1,i=e;1<=i?n<i:n>i;r=1<=i?++n:--n)push(stack[t+r]),multiply();return stack[t]=pop(),moveTos(t+1)}push(evaluatingAsFloats?one_as_double:one)}},multiply_all_noexpand=function(e){var t;return t=expanding,expanding=0,multiply_all(e),expanding=t},divide=function(){return isNumericAtom(stack[tos-2])&&isNumericAtom(stack[tos-1])?divide_numbers():(inverse(),multiply())},inverse=function(){return isNumericAtom(stack[tos-1])?invert_number():(push_integer(-1),power())},reciprocate=function(){return inverse()},negate=function(){return isNumericAtom(stack[tos-1])?negate_number():(evaluatingAsFloats?push_double(-1):push_integer(-1),multiply())},negate_expand=function(){var e;return e=expanding,expanding=1,negate(),expanding=e},negate_noexpand=function(){var e;return e=expanding,expanding=0,negate(),expanding=e},__normalize_radical_factors=function(e){var t,r,n,i,o,a,s,l,u,c;if(t=0,!(isplusone(stack[e])||isminusone(stack[e])||isdouble(stack[e]))){for(t=i=o=e+1,a=tos;(o<=a?i<a:i>a)&&!__is_radical_number(stack[t]);t=o<=a?++i:--i);if(t!==tos){for(save(),push(stack[e]),mp_numerator(),DEBUG_MULTIPLY&&console.log("__normalize_radical_factors numerator: "+stack[tos-1]),p1=pop(),t=r=s=e+1,l=tos;(s<=l?r<l:r>l)&&(!isplusone(p1)&&!isminusone(p1));t=s<=l?++r:--r)__is_radical_number(stack[t])&&(p3=cadr(stack[t]),p4=caddr(stack[t]),isnegativenumber(p4)&&(push(p1),push(p3),divide(),p5=pop(),isinteger(p5)&&(p1=p5,push_symbol(POWER),push(p3),push(evaluatingAsFloats?one_as_double:one),push(p4),add(),list(3),stack[t]=pop())));for(push(stack[e]),mp_denominator(),DEBUG_MULTIPLY&&console.log("__normalize_radical_factors denominator: "+stack[tos-1]),p2=pop(),t=n=u=e+1,c=tos;(u<=c?n<c:n>c)&&!isplusone(p2);t=u<=c?++n:--n)if(__is_radical_number(stack[t])&&(p3=cadr(stack[t]),p4=caddr(stack[t]),!isnegativenumber(p4)&&(push(p2),push(p3),divide(),p5=pop(),isinteger(p5)))){if(DEBUG_MULTIPLY&&console.log("__new radical p5: "+p5.toString()),DEBUG_MULTIPLY&&console.log("__new radical top stack: "+stack[tos-1]),p2=p5,push_symbol(POWER),push(p3),push(p4),DEBUG_MULTIPLY&&console.log("__new radical p3: "+p3.toString()),DEBUG_MULTIPLY&&console.log("__new radical p4: "+p4.toString()),push(one),subtract(),dontCreateNewRadicalsInDenominatorWhenEvalingMultiplication&&isinteger(p3)&&!isinteger(stack[tos-1])&&isnegativenumber(stack[tos-1])){pop(),pop(),pop(),push(p1),push(p3),divide(),p1=pop();break}DEBUG_MULTIPLY&&console.log("__new radical exponent: "+stack[tos-1]),list(3),stack[t]=pop()}return push(p1),push(p2),divide(),stack[e]=pop(),restore()}}},__is_radical_number=function(e){return car(e)===symbol(POWER)&&isNumericAtom(cadr(e))&&isfraction(caddr(e))&&!isminusone(cadr(e))},NROOTS_YMAX=101,NROOTS_DELTA=1e-6,NROOTS_EPSILON=1e-9,NROOTS_ABS=function(e){return Math.sqrt(e.r*e.r+e.i*e.i)},theRandom=0,NROOTS_RANDOM=function(){return 4*Math.random()-2},numericRootOfPolynomial=function(){class e{}return e.prototype.r=0,e.prototype.i=0,e}.call(this),nroots_a=new numericRootOfPolynomial,nroots_b=new numericRootOfPolynomial,nroots_x=new numericRootOfPolynomial,nroots_y=new numericRootOfPolynomial,nroots_fa=new numericRootOfPolynomial,nroots_fb=new numericRootOfPolynomial,nroots_dx=new numericRootOfPolynomial,nroots_df=new numericRootOfPolynomial,nroots_c=[],initNRoots=o=0,ref=NROOTS_YMAX;0<=ref?o<ref:o>ref;initNRoots=0<=ref?++o:--o)nroots_c[initNRoots]=new numericRootOfPolynomial;for(Eval_nroots=function(){var e,t,r,n,i,o,a,s,l;for(0,t=0,i=0,a=0,push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2)||stop("nroots: polynomial?"),e=tos,(a=coeff(p2,p1))>NROOTS_YMAX&&stop("nroots: degree?"),t=r=0,s=a;0<=s?r<s:r>s;t=0<=s?++r:--r)push(stack[e+t]),real(),yyfloat(),Eval(),p1=pop(),push(stack[e+t]),imag(),yyfloat(),Eval(),p2=pop(),isdouble(p1)&&isdouble(p2)||stop("nroots: coefficients?"),nroots_c[t].r=p1.d,nroots_c[t].i=p2.d;for(moveTos(e),monic(a),i=n=a;n>1;i=n+=-1)findroot(i),Math.abs(nroots_a.r)<NROOTS_DELTA&&(nroots_a.r=0),Math.abs(nroots_a.i)<NROOTS_DELTA&&(nroots_a.i=0),push_double(nroots_a.r),push_double(nroots_a.i),push(imaginaryunit),multiply(),add(),NROOTS_divpoly(i);if((a=tos-e)>1){for(sort_stack(a),(p1=alloc_tensor(a)).tensor.ndim=1,p1.tensor.dim[0]=a,t=o=0,l=a;0<=l?o<l:o>l;t=0<=l?++o:--o)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1)}},monic=function(e){var t,r,n,i;for(r=0,0,nroots_y.r=nroots_c[e-1].r,nroots_y.i=nroots_c[e-1].i,i=nroots_y.r*nroots_y.r+nroots_y.i*nroots_y.i,r=t=0,n=e-1;0<=n?t<n:t>n;r=0<=n?++t:--t)nroots_c[r].r=(nroots_c[r].r*nroots_y.r+nroots_c[r].i*nroots_y.i)/i,nroots_c[r].i=(nroots_c[r].i*nroots_y.r-nroots_c[r].r*nroots_y.i)/i;return nroots_c[e-1].r=1,nroots_c[e-1].i=0},findroot=function(e){var t,r,n,i;if(0,0,i=0,NROOTS_ABS(nroots_c[0])<NROOTS_DELTA)return nroots_a.r=0,void(nroots_a.i=0);for(t=0;t<100;++t)for(nroots_a.r=NROOTS_RANDOM(),nroots_a.i=NROOTS_RANDOM(),compute_fa(e),nroots_b.r=nroots_a.r,nroots_b.i=nroots_a.i,nroots_fb.r=nroots_fa.r,nroots_fb.i=nroots_fa.i,nroots_a.r=NROOTS_RANDOM(),nroots_a.i=NROOTS_RANDOM(),r=0;r<1e3;++r){if(compute_fa(e),n=NROOTS_ABS(nroots_fa),DEBUG&&console.log("nrabs: "+n),n<NROOTS_EPSILON)return;if(NROOTS_ABS(nroots_fa)<NROOTS_ABS(nroots_fb)&&(nroots_x.r=nroots_a.r,nroots_x.i=nroots_a.i,nroots_a.r=nroots_b.r,nroots_a.i=nroots_b.i,nroots_b.r=nroots_x.r,nroots_b.i=nroots_x.i,nroots_x.r=nroots_fa.r,nroots_x.i=nroots_fa.i,nroots_fa.r=nroots_fb.r,nroots_fa.i=nroots_fb.i,nroots_fb.r=nroots_x.r,nroots_fb.i=nroots_x.i),nroots_dx.r=nroots_b.r-nroots_a.r,nroots_dx.i=nroots_b.i-nroots_a.i,nroots_df.r=nroots_fb.r-nroots_fa.r,nroots_df.i=nroots_fb.i-nroots_fa.i,0===(i=nroots_df.r*nroots_df.r+nroots_df.i*nroots_df.i))break;nroots_y.r=(nroots_dx.r*nroots_df.r+nroots_dx.i*nroots_df.i)/i,nroots_y.i=(nroots_dx.i*nroots_df.r-nroots_dx.r*nroots_df.i)/i,nroots_a.r=nroots_b.r-(nroots_y.r*nroots_fb.r-nroots_y.i*nroots_fb.i),nroots_a.i=nroots_b.i-(nroots_y.r*nroots_fb.i+nroots_y.i*nroots_fb.r)}return stop("nroots: convergence error")},compute_fa=function(e){var t,r,n,i,o;for(r=0,o=0,nroots_x.r=nroots_a.r,nroots_x.i=nroots_a.i,nroots_fa.r=nroots_c[0].r+nroots_c[1].r*nroots_x.r-nroots_c[1].i*nroots_x.i,nroots_fa.i=nroots_c[0].i+nroots_c[1].r*nroots_x.i+nroots_c[1].i*nroots_x.r,i=[],r=t=2,n=e;2<=n?t<n:t>n;r=2<=n?++t:--t)o=nroots_a.r*nroots_x.r-nroots_a.i*nroots_x.i,nroots_x.i=nroots_a.r*nroots_x.i+nroots_a.i*nroots_x.r,nroots_x.r=o,nroots_fa.r+=nroots_c[r].r*nroots_x.r-nroots_c[r].i*nroots_x.i,i.push(nroots_fa.i+=nroots_c[r].r*nroots_x.i+nroots_c[r].i*nroots_x.r);return i},NROOTS_divpoly=function(e){var t,r,n,i,o,a;for(n=0,n=t=i=e-1;i<=0?t<0:t>0;n=i<=0?++t:--t)nroots_c[n-1].r+=nroots_c[n].r*nroots_a.r-nroots_c[n].i*nroots_a.i,nroots_c[n-1].i+=nroots_c[n].i*nroots_a.r+nroots_c[n].r*nroots_a.i;for(NROOTS_ABS(nroots_c[0])>NROOTS_DELTA&&stop("nroots: residual error"),a=[],n=r=0,o=e-1;0<=o?r<o:r>o;n=0<=o?++r:--r)nroots_c[n].r=nroots_c[n+1].r,a.push(nroots_c[n].i=nroots_c[n+1].i);return a},Eval_numerator=function(){return push(cadr(p1)),Eval(),numerator()},numerator=function(){var e,t;if(e=0,t=pop(),car(t)===symbol(ADD)&&(push(t),rationalize(),t=pop()),car(t)!==symbol(MULTIPLY)||isplusone(car(cdr(t))))return isrational(t)?(push(t),mp_numerator()):car(t)===symbol(POWER)&&isnegativeterm(caddr(t))?push(one):push(t);for(e=tos,t=cdr(t);iscons(t);)push(car(t)),numerator(),t=cdr(t);return multiply_all(tos-e)},Eval_outer=function(){var e;for(p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),e=[];iscons(p1);)push(car(p1)),Eval(),outer(),e.push(p1=cdr(p1));return e},outer=function(){return save(),p2=pop(),p1=pop(),istensor(p1)&&istensor(p2)?yyouter():(push(p1),push(p2),istensor(p1)?tensor_times_scalar():istensor(p2)?scalar_times_tensor():multiply()),restore()},yyouter=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h;for(e=0,r=0,i=0,0,0,(s=p1.tensor.ndim+p2.tensor.ndim)>MAXDIM&&stop("outer: rank of result exceeds maximum"),l=p1.tensor.nelem*p2.tensor.nelem,(p3=alloc_tensor(l)).tensor.ndim=s,e=t=0,u=p1.tensor.ndim;0<=u?t<u:t>u;e=0<=u?++t:--t)p3.tensor.dim[e]=p1.tensor.dim[e];for(r=e,e=n=0,c=p2.tensor.ndim;0<=c?n<c:n>c;e=0<=c?++n:--n)p3.tensor.dim[r+e]=p2.tensor.dim[e];for(i=0,e=o=0,p=p1.tensor.nelem;0<=p?o<p:o>p;e=0<=p?++o:--o)for(r=a=0,h=p2.tensor.nelem;0<=h?a<h:a>h;r=0<=h?++a:--a)push(p1.tensor.elem[e]),push(p2.tensor.elem[r]),multiply(),p3.tensor.elem[i++]=pop();return push(p3)},partition=function(){for(save(),p2=pop(),p1=pop(),push_integer(1),p3=pop(),p4=p3,p1=cdr(p1);iscons(p1);)Find(car(p1),p2)?(push(p4),push(car(p1)),multiply(),p4=pop()):(push(p3),push(car(p1)),multiply(),p3=pop()),p1=cdr(p1);return push(p3),push(p4),restore()},Eval_silentpattern=function(){return Eval_pattern(),pop(),push_symbol(NIL)},Eval_pattern=function(){var e,t,r,n,i;return iscons(cdr(p1))||stop("pattern needs at least a template and a transformed version"),e=car(cdr(p1)),(r=car(cdr(cdr(p1))))===symbol(NIL)&&stop("pattern needs at least a template and a transformed version"),i=iscons(cdr(cdr(p1)))?car(cdr(cdr(cdr(p1)))):symbol(NIL),equal(e,r)&&stop("recursive pattern"),n="template: "+print_list(e),n+=" tests: "+print_list(i),DEBUG&&console.log("pattern stringkey: "+n),-1===(t=userSimplificationsInStringForm.indexOf(n))?(userSimplificationsInStringForm.push(n),userSimplificationsInListForm.push(cdr(p1))):(DEBUG&&console.log("pattern already exists, replacing. "+cdr(p1)),userSimplificationsInStringForm[t]=n,userSimplificationsInListForm[t]=cdr(p1)),push_symbol(PATTERN),push(cdr(p1)),list(2)},do_clearPatterns=function(){return userSimplificationsInListForm=[],userSimplificationsInStringForm=[]},Eval_clearpatterns=function(){return do_clearPatterns(),push_symbol(NIL)},Eval_patternsinfo=function(){var e;return""!==(e=patternsinfo())?push(new_string(e)):push_symbol(NIL)},patternsinfo=function(){var e,t,r;for(r="",e=0,t=userSimplificationsInListForm.length;e<t;e++)userSimplificationsInListForm[e],r+=userSimplificationsInListForm+"\n";return r},Eval_polar=function(){return push(cadr(p1)),Eval(),polar()},polar=function(){return evaluatingPolar++,save(),p1=pop(),push(p1),abs(),push(imaginaryunit),push(p1),arg(),multiply(),exponential(),multiply(),evaluatingPolar--,restore()},n_factor_number=0,factor_number=function(){var e;return 0,save(),p1=pop(),equaln(p1,0)||equaln(p1,1)||equaln(p1,-1)?(push(p1),void restore()):(n_factor_number=p1.q.a,e=tos,factor_a(),tos-e>1&&(list(tos-e),push_symbol(MULTIPLY),swap(),cons()),restore())},factor_a=function(){var e,t;for(t=0,n_factor_number.isNegative()&&(n_factor_number=setSignTo(n_factor_number,1),push_integer(-1)),t=e=0;e<1e4;t=++e)if(try_kth_prime(t),0===n_factor_number.compare(1))return;return factor_b()},try_kth_prime=function(e){var t,r,n,i;for(t=0,r=mint(primetab[e]),t=0;;){if(0===n_factor_number.compare(1))return void(t&&push_factor(r,t));if([n,i]=mdivrem(n_factor_number,r),!i.isZero())break;t++,n_factor_number=n}if(t&&push_factor(r,t),-1===mcmp(n,r))return push_factor(n_factor_number,1),n_factor_number=mint(1)},factor_b=function(){var e,t,r,n,i,o,a;for(r=0,n=0,e=mint(1),o=mint(5),a=mint(2),r=1,n=1;;){if(mprime(n_factor_number))return push_factor(n_factor_number,1),0;for(;;){if(esc_flag&&stop("esc"),i=msub(a,o),i=setSignTo(i,1),t=mgcd(i,n_factor_number),!MEQUAL(t,1)){if(push_factor(t,1),0===mcmp(t,n_factor_number))return-1;i=mdiv(n_factor_number,t),o=i=mmod(o,n_factor_number=i),a=i=mmod(a,n_factor_number);break}0==--r&&(a=o,r=n*=2),i=mmul(o,o),o=madd(i,e),o=i=mmod(o,n_factor_number)}}},push_factor=function(e,t){if((p1=new U).k=NUM,p1.q.a=e,p1.q.b=mint(1),push(p1),t>1)return push_symbol(POWER),swap(),(p1=new U).k=NUM,p1.q.a=mint(t),p1.q.b=mint(1),push(p1),list(3)},DEBUG_POWER=!1,Eval_power=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),power()},power=function(){return save(),yypower(),restore()},yypower=function(){var e,t,r,n,i,o,a;if(a=0,p2=pop(),p1=pop(),n=p2,r=p1,DEBUG_POWER&&console.log("POWER: "+p1+" ^ "+p2),equal(p1,one)||isZeroAtomOrTensor(p2))return evaluatingAsFloats?push_double(1):push(one),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(equal(p2,one))return push(p1),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isminusone(p1)&&isminusone(p2))return evaluatingAsFloats?push_double(1):push(one),negate(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isminusone(p1)&&isoneovertwo(p2))return push(imaginaryunit),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isminusone(p1)&&isminusoneovertwo(p2))return push(imaginaryunit),negate(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isminusone(p1)&&!isdouble(p1)&&isrational(p2)&&!isinteger(p2)&&ispositivenumber(p2)&&!evaluatingAsFloats)return DEBUG_POWER&&console.log("   power: -1 ^ rational"),DEBUG_POWER&&console.log(" trick: p2.q.a , p2.q.b "+p2.q.a+" , "+p2.q.b),p2.q.a<p2.q.b?(push_symbol(POWER),push(p1),push(p2),list(3)):(push_symbol(MULTIPLY),push(p1),push_symbol(POWER),push(p1),push_rational(p2.q.a.mod(p2.q.b),p2.q.b),list(3),list(3),DEBUG_POWER&&console.log(" trick applied : "+stack[tos-1])),rect(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isrational(p1)&&isrational(p2))return DEBUG_POWER&&console.log("   power: isrational(p1) && isrational(p2)"),push(p1),push(p2),qpow(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isNumericAtom(p1)&&isNumericAtom(p2))return DEBUG_POWER&&console.log("   power: both base and exponent are either rational or double "),DEBUG_POWER&&console.log("POWER - isNumericAtom(p1) && isNumericAtom(p2)"),push(p1),push(p2),dpow(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(istensor(p1))return DEBUG_POWER&&console.log("   power: istensor(p1) "),power_tensor(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(car(p1)===symbol(ABS)&&iseveninteger(p2)&&!isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES))))return DEBUG_POWER&&console.log("   power: even power of absolute of real value "),push(cadr(p1)),push(p2),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(p1===symbol(E)&&car(p2)===symbol(LOG))return push(cadr(p2)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(p1===symbol(E)&&isdouble(p2))return DEBUG_POWER&&console.log("   power: p1 == symbol(E) && isdouble(p2) "),push_double(Math.exp(p2.d)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(p1===symbol(E)&&0!==Find(p2,imaginaryunit)&&0!==Find(p2,symbol(PI))&&!evaluatingPolar&&(push_symbol(POWER),push(p1),push(p2),list(3),DEBUG_POWER&&console.log("   power: turning complex exponential to rect: "+stack[tos-1]),rect(),t=pop(),0===Find(t,symbol(PI))))return DEBUG_POWER&&console.log("   power: turned complex exponential to rect: "+t),void push(t);if(car(p1)===symbol(MULTIPLY)&&isinteger(p2)){for(DEBUG_POWER&&console.log("   power: (a * b) ^ c  ->  (a ^ c) * (b ^ c) "),p1=cdr(p1),push(car(p1)),push(p2),power(),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),power(),multiply(),p1=cdr(p1);DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1])}else{if(o=!1,isNumericAtom(cadr(p1))&&(o=sign(compare_numbers(cadr(p1),zero))),car(p1)===symbol(POWER)&&(isinteger(p2)||o))return push(cadr(p1)),push(caddr(p1)),push(p2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(e=!1,iseveninteger(caddr(p1))&&(push(caddr(p1)),push(p2),multiply(),i=pop(),isone(i)&&(e=!0)),car(p1)===symbol(POWER)&&e)return DEBUG_POWER&&console.log("   power: car(p1) == symbol(POWER) && b_isEven_and_c_isItsInverse "),push(cadr(p1)),abs(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(expanding&&isadd(p1)&&isNumericAtom(p2)&&(push(p2),(a=pop_integer())>1&&!isNaN(a)))return DEBUG_POWER&&console.log("   power: expanding && isadd(p1) && isNumericAtom(p2) "),power_sum(a),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(1===trigmode&&car(p1)===symbol(SIN)&&iseveninteger(p2))return DEBUG_POWER&&console.log("   power: trigmode == 1 && car(p1) == symbol(SIN) && iseveninteger(p2) "),push_integer(1),push(cadr(p1)),cosine(),push_integer(2),power(),subtract(),push(p2),push_rational(1,2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(2===trigmode&&car(p1)===symbol(COS)&&iseveninteger(p2))return DEBUG_POWER&&console.log("   power: trigmode == 2 && car(p1) == symbol(COS) && iseveninteger(p2) "),push_integer(1),push(cadr(p1)),sine(),push_integer(2),power(),subtract(),push(p2),push_rational(1,2),multiply(),power(),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(iscomplexnumber(p1)){if(DEBUG_POWER&&console.log(" power - handling the case (a + ib) ^ n"),isinteger(p2))return push(p1),conjugate(),p3=pop(),push(p3),push(p3),push(p1),multiply(),divide(),isone(p2)||(push(p2),negate(),power()),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]));if(isNumericAtom(p2))return push(p1),abs(),push(p2),power(),push_integer(-1),push(p1),arg(),push(p2),multiply(),evaluatingAsFloats||iscomplexnumberdouble(p1)&&isdouble(p2)?push_double(Math.PI):push(symbol(PI)),divide(),power(),multiply(),avoidCalculatingPowersIntoArctans&&Find(stack[tos-1],symbol(ARCTAN))&&(pop(),push_symbol(POWER),push(p1),push(p2),list(3)),void(DEBUG_POWER&&console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]))}if(!simplify_polar())return DEBUG_POWER&&console.log("   power: nothing can be done "),push_symbol(POWER),push(p1),push(p2),list(3),DEBUG_POWER?console.log("   power of "+r+" ^ "+n+": "+stack[tos-1]):void 0;DEBUG_POWER&&console.log("   power: using simplify_polar")}},power_sum=function(e){var t,r,n,i,o,a,s,l,u,c;for(t=[],r=0,i=0,0,a=length(p1)-1,push_frame(a*(e+1)),p1=cdr(p1),r=n=0,l=a;0<=l?n<l:n>l;r=0<=l?++n:--n){for(i=o=0,u=e;0<=u?o<=u:o>=u;i=0<=u?++o:--o)push(car(p1)),push_integer(i),power(),stack[frame+r*(e+1)+i]=pop();p1=cdr(p1)}for(push_integer(e),factorial(),p1=pop(),r=s=0,c=a;0<=c?s<c:s>c;r=0<=c?++s:--s)t[r]=0;return push(zero),multinomial_sum(a,e,t,0,e),pop_frame(a*(e+1))},multinomial_sum=function(e,t,r,n,i){var o,a,s,l,u,c,p;if(a=0,!(n<e-1)){for(r[n]=i,push(p1),a=s=0,c=e;0<=c?s<c:s>c;a=0<=c?++s:--s)push_integer(r[a]),factorial(),divide();for(a=l=0,p=e;0<=p?l<p:l>p;a=0<=p?++l:--l)push(stack[frame+a*(t+1)+r[a]]),multiply();return add()}for(a=o=0,u=i;0<=u?o<=u:o>=u;a=0<=u?++o:--o)r[n]=a,multinomial_sum(e,t,r,n+1,i-a)},simplify_polar=function(){var e;switch(e=0,e=isquarterturn(p2)){case 0:1;break;case 1:return push_integer(1),1;case 2:return push_integer(-1),1;case 3:return push(imaginaryunit),1;case 4:return push(imaginaryunit),negate(),1}if(car(p2)===symbol(ADD)){for(p3=cdr(p2);iscons(p3)&&!(e=isquarterturn(car(p3)));)p3=cdr(p3);switch(e){case 0:return 0;case 1:push_integer(1);break;case 2:push_integer(-1);break;case 3:push(imaginaryunit);break;case 4:push(imaginaryunit),negate()}return push(p2),push(car(p3)),subtract(),exponential(),multiply(),1}return 0},Eval_prime=function(){return push(cadr(p1)),Eval(),prime()},prime=function(){var e;return e=0,((e=pop_integer())<1||e>MAXPRIMETAB)&&stop("prime: Argument out of range."),e=primetab[e-1],push_integer(e)},power_str="^",codeGen=!1,Eval_print=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),printMode),push(symbol(NIL))},Eval_print2dascii=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_2DASCII),push(symbol(NIL))},Eval_printcomputer=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_COMPUTER),push(symbol(NIL))},Eval_printlatex=function(){return stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_LATEX),push(symbol(NIL))},Eval_printhuman=function(){var e;return e=test_flag,test_flag=0,stringsEmittedByUserPrintouts+=_print(cdr(p1),PRINTMODE_HUMAN),test_flag=e,push(symbol(NIL))},Eval_printlist=function(){var e;return e=_print(cdr(p1),PRINTMODE_LIST),stringsEmittedByUserPrintouts+=e,push(symbol(NIL))},_print=function(e,t){var r,n;for(r="";iscons(e);)push(car(e)),Eval(),p2=pop(),n=printMode,t===PRINTMODE_COMPUTER?(printMode=PRINTMODE_COMPUTER,r=printline(p2),rememberPrint(r,LAST_FULL_PRINT)):t===PRINTMODE_HUMAN?(printMode=PRINTMODE_HUMAN,r=printline(p2),rememberPrint(r,LAST_PLAIN_PRINT)):t===PRINTMODE_2DASCII?(printMode=PRINTMODE_2DASCII,r=print2dascii(p2),rememberPrint(r,LAST_2DASCII_PRINT)):t===PRINTMODE_LATEX?(printMode=PRINTMODE_LATEX,r=printline(p2),rememberPrint(r,LAST_LATEX_PRINT)):t===PRINTMODE_LIST&&(printMode=PRINTMODE_LIST,r=print_list(p2),rememberPrint(r,LAST_LIST_PRINT)),printMode=n,e=cdr(e);return DEBUG&&console.log("emttedString from display: "+stringsEmittedByUserPrintouts),r},rememberPrint=function(e,t){var r;return scan('"'+e+'"'),r=pop(),set_binding(symbol(t),r)},print_str=function(e){return DEBUG&&console.log("emttedString from print_str: "+stringsEmittedByUserPrintouts),e},print_char=function(e){return e},collectLatexStringFromReturnValue=function(e){var t,r,n;return t=printMode,printMode=PRINTMODE_LATEX,r=codeGen,codeGen=!1,n=(n=print_expr(e)).replace(/_/g,"\\_"),printMode=t,codeGen=r,DEBUG&&console.log("emttedString from collectLatexStringFromReturnValue: "+stringsEmittedByUserPrintouts),n},printline=function(e){var t;return t="",t+=print_expr(e)},print_base_of_denom=function(e){var t;return t="",isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||lessp(e,zero)?(t+=print_char("("),t+=print_expr(e),t+=print_char(")")):t+=print_expr(e),t},print_expo_of_denom=function(e){var t;return t="",isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)?(t+=print_char("("),t+=print_expr(e),t+=print_char(")")):t+=print_expr(e),t},print_denom=function(e,t){var r;return r="",save(),p1=cadr(e),p2=caddr(e),isminusone(p2)?(r+=print_base_of_denom(p1),restore(),r):(1===t&&(r+=print_char("(")),push(p2),negate(),p2=pop(),r+=print_power(p1,p2),1===t&&(r+=print_char(")")),restore(),r)},print_a_over_b=function(e){var t,r,n;for(t="",flag=0,n=0,r=0,save(),n=0,r=0,p1=cdr(e),p2=car(p1),isrational(p2)?(push(p2),mp_numerator(),absval(),p3=pop(),push(p2),mp_denominator(),p4=pop(),isplusone(p3)||n++,isplusone(p4)||r++,p1=cdr(p1)):(p3=one,p4=one);iscons(p1);)p2=car(p1),is_denominator(p2)?r++:n++,p1=cdr(p1);if(printMode===PRINTMODE_LATEX&&(t+=print_str("\\frac{")),0===n)t+=print_char("1");else for(flag=0,p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1)),isplusone(p3)||(t+=print_factor(p3),flag=1);iscons(p1);)p2=car(p1),is_denominator(p2)?1:(flag&&(t+=print_multiply_sign()),t+=print_factor(p2),flag=1),p1=cdr(p1);for(t+=print_str(printMode===PRINTMODE_LATEX?"}{":printMode!==PRINTMODE_HUMAN||test_flag?"/":" / "),r>1&&printMode!==PRINTMODE_LATEX&&(t+=print_char("(")),flag=0,p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1)),isplusone(p4)||(t+=print_factor(p4),flag=1);iscons(p1);)p2=car(p1),is_denominator(p2)&&(flag&&(t+=print_multiply_sign()),t+=print_denom(p2,r),flag=1),p1=cdr(p1);return r>1&&printMode!==PRINTMODE_LATEX&&(t+=print_char(")")),printMode===PRINTMODE_LATEX&&(t+=print_str("}")),restore(),t},print_expr=function(e){var t;if(t="",isadd(e))for(e=cdr(e),"-"===sign_of_term(car(e))&&(t+=print_str("-")),t+=print_term(car(e)),e=cdr(e);iscons(e);)"+"===sign_of_term(car(e))?t+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"+":" + "):t+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"-":" - "),t+=print_term(car(e)),e=cdr(e);else"-"===sign_of_term(e)&&(t+=print_str("-")),t+=print_term(e);return t},sign_of_term=function(e){var t;return t="",car(e)===symbol(MULTIPLY)&&isNumericAtom(cadr(e))&&lessp(cadr(e),zero)||isNumericAtom(e)&&lessp(e,zero)?t+="-":t+="+",t},print_term=function(e){var t,r,n,i,o;if(t="",car(e)===symbol(MULTIPLY)&&any_denominators(e))return t+=print_a_over_b(e);if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),isminusone(car(e))&&(e=cdr(e)),o=!1,isNumericAtom(car(e))&&(o=!0),n=!1,printMode===PRINTMODE_LATEX&&iscons(cdr(e))&&isNumberOneOverSomething(car(e))&&(n=!0,r=car(e).q.b.toString()),n?(i=t,t=""):t+=print_factor(car(e)),e=cdr(e);iscons(e);)printMode===PRINTMODE_LATEX&&o&&caar(e)===symbol(POWER)&&isNumericAtom(car(cdr(car(e))))&&(isfraction(car(cdr(cdr(car(e)))))||(t+=" \\cdot ")),t+=print_multiply_sign(),t+=print_factor(car(e),!1,!0),o=!1,isNumericAtom(car(e))&&(o=!0),e=cdr(e);n&&(t=i+"\\frac{"+t+"}{"+r+"}")}else t+=print_factor(e);return t},print_subexpr=function(e){var t;return t="",t+=print_char("("),t+=print_expr(e),t+=print_char(")")},print_factorial_function=function(e){var t;return t="",e=cadr(e),isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||car(e)===symbol(FACTORIAL)?t+=print_subexpr(e):t+=print_expr(e),t+=print_char("!")},print_ABS_latex=function(e){var t;return t="",t+=print_str("\\left |"),t+=print_expr(cadr(e)),t+=print_str(" \\right |")},print_BINOMIAL_latex=function(e){var t;return t="",t+=print_str("\\binom{"),t+=print_expr(cadr(e)),t+=print_str("}{"),t+=print_expr(caddr(e)),t+=print_str("} ")},print_DOT_latex=function(e){var t;return t="",t+=print_expr(cadr(e)),t+=print_str(" \\cdot "),t+=print_expr(caddr(e))},print_DOT_codegen=function(e){var t;return t="dot(",t+=print_expr(cadr(e)),t+=", ",t+=print_expr(caddr(e)),t+=")"},print_SIN_codegen=function(e){var t;return t="Math.sin(",t+=print_expr(cadr(e)),t+=")"},print_COS_codegen=function(e){var t;return t="Math.cos(",t+=print_expr(cadr(e)),t+=")"},print_TAN_codegen=function(e){var t;return t="Math.tan(",t+=print_expr(cadr(e)),t+=")"},print_ARCSIN_codegen=function(e){var t;return t="Math.asin(",t+=print_expr(cadr(e)),t+=")"},print_ARCCOS_codegen=function(e){var t;return t="Math.acos(",t+=print_expr(cadr(e)),t+=")"},print_ARCTAN_codegen=function(e){var t;return t="Math.atan(",t+=print_expr(cadr(e)),t+=")"},print_SQRT_latex=function(e){var t;return t="",t+=print_str("\\sqrt{"),t+=print_expr(cadr(e)),t+=print_str("} ")},print_TRANSPOSE_latex=function(e){var t;return t="",t+=print_str("{"),iscons(cadr(e))&&(t+=print_str("(")),t+=print_expr(cadr(e)),iscons(cadr(e))&&(t+=print_str(")")),t+=print_str("}"),t+=print_str("^T")},print_TRANSPOSE_codegen=function(e){var t;return t="",t+=print_str("transpose("),t+=print_expr(cadr(e)),t+=print_str(")")},print_UNIT_codegen=function(e){var t;return t="",t+=print_str("identity("),t+=print_expr(cadr(e)),t+=print_str(")")},print_INV_latex=function(e){var t;return t="",t+=print_str("{"),iscons(cadr(e))&&(t+=print_str("(")),t+=print_expr(cadr(e)),iscons(cadr(e))&&(t+=print_str(")")),t+=print_str("}"),t+=print_str("^{-1}")},print_INV_codegen=function(e){var t;return t="",t+=print_str("inv("),t+=print_expr(cadr(e)),t+=print_str(")")},print_DEFINT_latex=function(e){var t,r,n,i,o,a,s,l,u;for(t="",r=car(cdr(e)),a=e=cdr(e),o=0;iscons(cdr(cdr(e)));)o++,l=cdr(cdr(e)),t+=print_str("\\int^{"),t+=print_expr(car(cdr(l))),t+=print_str("}_{"),t+=print_expr(car(l)),t+=print_str("} \\! "),e=cdr(l);for(t+=print_expr(r),t+=print_str(" \\,"),e=a,n=i=1,s=o;1<=s?i<=s:i>=s;n=1<=s?++i:--i)u=cdr(e),t+=print_str(" \\mathrm{d} "),t+=print_expr(car(u)),n<o&&(t+=print_str(" \\, ")),e=cdr(cdr(u));return t},print_tensor=function(e){var t;return t="",t+=print_tensor_inner(e,0,0)[1]},print_tensor_inner=function(e,t,r){var n,i,o,a,s,l,u;if(n="",n+=print_str("["),t<e.tensor.ndim-1)for(i=o=0,s=e.tensor.dim[t];0<=s?o<s:o>s;i=0<=s?++o:--o)[r,u]=print_tensor_inner(e,t+1,r),n+=u,i!==e.tensor.dim[t]-1&&(n+=print_str(","));else for(i=a=0,l=e.tensor.dim[t];0<=l?a<l:a>l;i=0<=l?++a:--a)n+=print_expr(e.tensor.elem[r]),i!==e.tensor.dim[t]-1&&(n+=print_str(",")),r++;return[r,n+=print_str("]")]},print_tensor_latex=function(e){var t;return t="",e.tensor.ndim<=2&&(t+=print_tensor_inner_latex(!0,e,0,0)[1]),t},print_tensor_inner_latex=function(e,t,r,n){var i,o,a,s,l,u,c;if(i="",e&&(i+="\\begin{bmatrix} "),r<t.tensor.ndim-1)for(o=a=0,l=t.tensor.dim[r];0<=l?a<l:a>l;o=0<=l?++a:--a)[n,c]=print_tensor_inner_latex(0,t,r+1,n),i+=c,o!==t.tensor.dim[r]-1&&(i+=print_str(" \\\\ "));else for(o=s=0,u=t.tensor.dim[r];0<=u?s<u:s>u;o=0<=u?++s:--s)i+=print_expr(t.tensor.elem[n]),o!==t.tensor.dim[r]-1&&(i+=print_str(" & ")),n++;return e&&(i+=" \\end{bmatrix}"),[n,i]},print_SUM_latex=function(e){var t;return t="\\sum_{",t+=print_expr(caddr(e)),t+="=",t+=print_expr(cadddr(e)),t+="}^{",t+=print_expr(caddddr(e)),t+="}{",t+=print_expr(cadr(e)),t+="}"},print_SUM_codegen=function(e){var t,r,n,i;return t=cadr(e),i=caddr(e),r=cadddr(e),n=caddddr(e),"(function(){ var "+i+";  var holderSum = 0;  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(n)+";  for ("+i+" = lowerlimit; "+i+" < upperlimit; "+i+"++) {    holderSum += "+print_expr(t)+"; }  return holderSum;})()"},print_TEST_latex=function(e){var t;for(t="\\left\\{ \\begin{array}{ll}",e=cdr(e);iscons(e);){if(cdr(e)===symbol(NIL)){t+="{",t+=print_expr(car(e)),t+="} & otherwise ",t+=" \\\\\\\\";break}t+="{",t+=print_expr(cadr(e)),t+="} & if & ",t+=print_expr(car(e)),t+=" \\\\\\\\",e=cddr(e)}return(t=t.substring(0,t.length-4))+"\\end{array} \\right."},print_TEST_codegen=function(e){var t,r;for(t="(function(){",e=cdr(e),r=0;iscons(e);){if(cdr(e)===symbol(NIL)){t+="else {",t+="return ("+print_expr(car(e))+");",t+="}";break}r&&(t+=" else "),t+="if ("+print_expr(car(e))+"){",t+="return ("+print_expr(cadr(e))+");",t+="}",r++,e=cddr(e)}return t+="})()"},print_TESTLT_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" < ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTLE_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" \\leq ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTGT_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" > ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTGE_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" \\geq ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_TESTEQ_latex=function(e){var t;return t="{",t+=print_expr(cadr(e)),t+="}",t+=" = ",t+="{",(t+=print_expr(caddr(e)))+"}"},print_FOR_codegen=function(e){var t,r,n,i;return t=cadr(e),i=caddr(e),r=cadddr(e),n=caddddr(e),"(function(){ var "+i+";  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(n)+";  for ("+i+" = lowerlimit; "+i+" < upperlimit; "+i+"++) {    "+print_expr(t)+" } })()"},print_DO_codegen=function(e){var t;for(t="",e=cdr(e);iscons(e);)t+=print_expr(car(e)),e=cdr(e);return t},print_SETQ_codegen=function(e){var t;return t="",t+=print_expr(cadr(e)),t+=" = ",t+=print_expr(caddr(e)),t+="; "},print_PRODUCT_latex=function(e){var t;return t="\\prod_{",t+=print_expr(caddr(e)),t+="=",t+=print_expr(cadddr(e)),t+="}^{",t+=print_expr(caddddr(e)),t+="}{",t+=print_expr(cadr(e)),t+="}"},print_PRODUCT_codegen=function(e){var t,r,n,i;return t=cadr(e),i=caddr(e),r=cadddr(e),n=caddddr(e),"(function(){ var "+i+";  var holderProduct = 1;  var lowerlimit = "+print_expr(r)+";  var upperlimit = "+print_expr(n)+";  for ("+i+" = lowerlimit; "+i+" < upperlimit; "+i+"++) {    holderProduct *= "+print_expr(t)+"; }  return holderProduct;})()"},print_base=function(e){var t;return t="",isadd(cadr(e))||caadr(e)===symbol(MULTIPLY)||caadr(e)===symbol(POWER)||isnegativenumber(cadr(e))?(t+=print_str("("),t+=print_expr(cadr(e)),t+=print_str(")")):isNumericAtom(cadr(e))&&(lessp(cadr(e),zero)||isfraction(cadr(e)))?(t+=print_str("("),t+=print_factor(cadr(e)),t+=print_str(")")):t+=print_factor(cadr(e)),t},print_exponent=function(e){var t;return t="",iscons(caddr(e))||isfraction(caddr(e))||isNumericAtom(caddr(e))&&lessp(caddr(e),zero)?(t+=print_str("("),t+=print_expr(caddr(e)),t+=print_str(")")):t+=print_factor(caddr(e)),t},print_power=function(e,t){var r,n,i,o;if(r="",DEBUG&&console.log("power base: "+e+"  exponent: "+t),isoneovertwo(t))if(equaln(e,2)){if(codeGen)return r+=print_str("Math.SQRT2")}else{if(printMode===PRINTMODE_LATEX)return r+=print_str("\\sqrt{"),r+=print_expr(e),r+=print_str("}");if(codeGen)return r+=print_str("Math.sqrt("),r+=print_expr(e),r+=print_str(")")}if(equaln(get_binding(symbol(PRINT_LEAVE_E_ALONE)),1)&&e===symbol(E))return codeGen?(r+=print_str("Math.exp("),r+=print_expo_of_denom(t),r+=print_str(")")):(printMode===PRINTMODE_LATEX?(r+=print_str("e^{"),r+=print_expr(t),r+=print_str("}")):(r+=print_str("exp("),r+=print_expr(t),r+=print_str(")")),r);if(codeGen)return r+=print_str("Math.pow("),r+=print_base_of_denom(e),r+=print_str(", "),r+=print_expo_of_denom(t),r+=print_str(")");if(equaln(get_binding(symbol(PRINT_LEAVE_X_ALONE)),0)||"x"!==e.printname){if(e!==symbol(E)){if(isminusone(t))return r+=print_str(printMode===PRINTMODE_LATEX?"\\frac{1}{":printMode!==PRINTMODE_HUMAN||test_flag?"1/":"1 / "),iscons(e)&&printMode!==PRINTMODE_LATEX?(r+=print_str("("),r+=print_expr(e),r+=print_str(")")):r+=print_expr(e),printMode===PRINTMODE_LATEX&&(r+=print_str("}")),r;if(isnegativeterm(t))return r+=print_str(printMode===PRINTMODE_LATEX?"\\frac{1}{":printMode!==PRINTMODE_HUMAN||test_flag?"1/":"1 / "),push(t),push_integer(-1),multiply(),i=pop(),iscons(e)&&printMode!==PRINTMODE_LATEX?(r+=print_str("("),r+=print_power(e,i),r+=print_str(")")):r+=print_power(e,i),printMode===PRINTMODE_LATEX&&(r+=print_str("}")),r}if(isfraction(t)&&printMode===PRINTMODE_LATEX)return r+=print_str("\\sqrt"),push(t),denominator(),n=pop(),isplustwo(n)||(r+=print_str("["),r+=print_expr(n),r+=print_str("]")),r+=print_str("{"),push(t),numerator(),o=pop(),r+=print_power(e,t=o),r+=print_str("}")}return printMode===PRINTMODE_LATEX&&isplusone(t)?r+=print_expr(e):(isadd(e)||isnegativenumber(e)?(r+=print_str("("),r+=print_expr(e),r+=print_str(")")):car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)?(printMode!==PRINTMODE_LATEX&&(r+=print_str("(")),r+=print_factor(e,!0),printMode!==PRINTMODE_LATEX&&(r+=print_str(")"))):isNumericAtom(e)&&(lessp(e,zero)||isfraction(e))?(r+=print_str("("),r+=print_factor(e),r+=print_str(")")):r+=print_factor(e),r+=print_str(printMode!==PRINTMODE_HUMAN||test_flag?"^":power_str),printMode===PRINTMODE_LATEX?print_expr(t).length>1?(r+=print_str("{"),r+=print_expr(t),r+=print_str("}")):r+=print_expr(t):iscons(t)||isfraction(t)||isNumericAtom(t)&&lessp(t,zero)?(r+=print_str("("),r+=print_expr(t),r+=print_str(")")):r+=print_factor(t)),r},print_index_function=function(e){var t;if(t="",e=cdr(e),caar(e)===symbol(ADD)||caar(e)===symbol(MULTIPLY)||caar(e)===symbol(POWER)||caar(e)===symbol(FACTORIAL)?t+=print_subexpr(car(e)):t+=print_expr(car(e)),t+=print_str("["),e=cdr(e),iscons(e))for(t+=print_expr(car(e)),e=cdr(e);iscons(e);)t+=print_str(","),t+=print_expr(car(e)),e=cdr(e);return t+=print_str("]")},print_factor=function(e,t,r){var n,i,o,a,s;if(n="",isNumericAtom(e))return r&&lessp(e,zero)&&(n+="("),n+=print_number(e,r),r&&lessp(e,zero)&&(n+=")"),n;if(isstr(e))return n+=print_str('"'),n+=print_str(e.str),n+=print_str('"');if(istensor(e))return n+=printMode===PRINTMODE_LATEX?print_tensor_latex(e):print_tensor(e);if(car(e)===symbol(MULTIPLY))return t||"-"!==sign_of_term(e)&&printMode===PRINTMODE_LATEX||(n+=print_str(printMode===PRINTMODE_LATEX?" \\left (":"(")),n+=print_expr(e),t||"-"!==sign_of_term(e)&&printMode===PRINTMODE_LATEX||(n+=print_str(printMode===PRINTMODE_LATEX?" \\right ) ":")")),n;if(isadd(e))return t||(n+=print_str("(")),n+=print_expr(e),t||(n+=print_str(")")),n;if(car(e)===symbol(POWER))return i=cadr(e),o=caddr(e),n+=print_power(i,o);if(car(e)===symbol(FUNCTION))return a=cadr(e),codeGen||(s=caddr(e),n+=print_str("function "),DEBUG&&console.log("emittedString from print_factor "+stringsEmittedByUserPrintouts),n+=print_list(s),n+=print_str(" -> ")),n+=print_expr(a);if(car(e)===symbol(PATTERN))return n+=print_expr(caadr(e)),n+=print_str(printMode===PRINTMODE_LATEX?" \\rightarrow ":printMode!==PRINTMODE_HUMAN||test_flag?"->":" -> "),n+=print_expr(car(cdr(cadr(e))));if(car(e)===symbol(INDEX)&&issymbol(cadr(e)))return n+=print_index_function(e);if(car(e)===symbol(FACTORIAL))return n+=print_factorial_function(e);if(car(e)===symbol(ABS)&&printMode===PRINTMODE_LATEX)return n+=print_ABS_latex(e);if(car(e)===symbol(SQRT)&&printMode===PRINTMODE_LATEX)return n+=print_SQRT_latex(e);if(car(e)===symbol(TRANSPOSE)){if(printMode===PRINTMODE_LATEX)return n+=print_TRANSPOSE_latex(e);if(codeGen)return n+=print_TRANSPOSE_codegen(e)}else if(car(e)===symbol(UNIT)){if(codeGen)return n+=print_UNIT_codegen(e)}else if(car(e)===symbol(INV)){if(printMode===PRINTMODE_LATEX)return n+=print_INV_latex(e);if(codeGen)return n+=print_INV_codegen(e)}else{if(car(e)===symbol(BINOMIAL)&&printMode===PRINTMODE_LATEX)return n+=print_BINOMIAL_latex(e);if(car(e)===symbol(DEFINT)&&printMode===PRINTMODE_LATEX)return n+=print_DEFINT_latex(e);if(isinnerordot(e)){if(printMode===PRINTMODE_LATEX)return n+=print_DOT_latex(e);if(codeGen)return n+=print_DOT_codegen(e)}else if(car(e)===symbol(SIN)){if(codeGen)return n+=print_SIN_codegen(e)}else if(car(e)===symbol(COS)){if(codeGen)return n+=print_COS_codegen(e)}else if(car(e)===symbol(TAN)){if(codeGen)return n+=print_TAN_codegen(e)}else if(car(e)===symbol(ARCSIN)){if(codeGen)return n+=print_ARCSIN_codegen(e)}else if(car(e)===symbol(ARCCOS)){if(codeGen)return n+=print_ARCCOS_codegen(e)}else if(car(e)===symbol(ARCTAN)){if(codeGen)return n+=print_ARCTAN_codegen(e)}else if(car(e)===symbol(SUM)){if(printMode===PRINTMODE_LATEX)return n+=print_SUM_latex(e);if(codeGen)return n+=print_SUM_codegen(e)}else if(car(e)===symbol(PRODUCT)){if(printMode===PRINTMODE_LATEX)return n+=print_PRODUCT_latex(e);if(codeGen)return n+=print_PRODUCT_codegen(e)}else if(car(e)===symbol(FOR)){if(codeGen)return n+=print_FOR_codegen(e)}else if(car(e)===symbol(DO)){if(codeGen)return n+=print_DO_codegen(e)}else if(car(e)===symbol(TEST)){if(codeGen)return n+=print_TEST_codegen(e);if(printMode===PRINTMODE_LATEX)return n+=print_TEST_latex(e)}else if(car(e)===symbol(TESTLT)){if(codeGen)return n+="(("+print_expr(cadr(e))+") < ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return n+=print_TESTLT_latex(e)}else if(car(e)===symbol(TESTLE)){if(codeGen)return n+="(("+print_expr(cadr(e))+") <= ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return n+=print_TESTLE_latex(e)}else if(car(e)===symbol(TESTGT)){if(codeGen)return n+="(("+print_expr(cadr(e))+") > ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return n+=print_TESTGT_latex(e)}else if(car(e)===symbol(TESTGE)){if(codeGen)return n+="(("+print_expr(cadr(e))+") >= ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return n+=print_TESTGE_latex(e)}else if(car(e)===symbol(TESTEQ)){if(codeGen)return n+="(("+print_expr(cadr(e))+") === ("+print_expr(caddr(e))+"))";if(printMode===PRINTMODE_LATEX)return n+=print_TESTEQ_latex(e)}else if(car(e)===symbol(FLOOR)){if(codeGen)return n+="Math.floor("+print_expr(cadr(e))+")";if(printMode===PRINTMODE_LATEX)return n+=" \\lfloor {"+print_expr(cadr(e))+"} \\rfloor "}else if(car(e)===symbol(CEILING)){if(codeGen)return n+="Math.ceiling("+print_expr(cadr(e))+")";if(printMode===PRINTMODE_LATEX)return n+=" \\lceil {"+print_expr(cadr(e))+"} \\rceil "}else if(car(e)===symbol(ROUND)){if(codeGen)return n+="Math.round("+print_expr(cadr(e))+")"}else if(car(e)===symbol(SETQ))return codeGen?n+=print_SETQ_codegen(e):(n+=print_expr(cadr(e)),n+=print_str("="),n+=print_expr(caddr(e)))}if(iscons(e)){if(n+=print_factor(car(e)),e=cdr(e),t||(n+=print_str("(")),iscons(e))for(n+=print_expr(car(e)),e=cdr(e);iscons(e);)n+=print_str(","),n+=print_expr(car(e)),e=cdr(e);return t||(n+=print_str(")")),n}return e===symbol(DERIVATIVE)?n+=print_char("d"):e===symbol(E)?n+=print_str(codeGen?"Math.E":"e"):e===symbol(PI)?n+=print_str(printMode===PRINTMODE_LATEX?"\\pi":"pi"):n+=print_str(get_printname(e)),n},print_list=function(e){var t;switch(t="",e.k){case CONS:for(t+="(",t+=print_list(car(e)),e===cdr(e)&&e!==symbol(NIL)&&console.log("oh no recursive!"),e=cdr(e);iscons(e);)t+=" ",t+=print_list(car(e)),(e=cdr(e))===cdr(e)&&e!==symbol(NIL)&&console.log("oh no recursive!");e!==symbol(NIL)&&(t+=" . ",t+=print_list(e)),t+=")";break;case STR:t+=e.str;break;case NUM:case DOUBLE:t+=print_number(e,!0);break;case SYM:t+=get_printname(e);break;default:t+="<tensor>"}return t},print_multiply_sign=function(){var e;if(e="",printMode===PRINTMODE_LATEX){if(printMode!==PRINTMODE_HUMAN||test_flag)return e;e+=print_str(" ")}return e+=print_str(printMode!==PRINTMODE_HUMAN||test_flag||codeGen?"*":" ")},is_denominator=function(e){return car(e)===symbol(POWER)&&cadr(e)!==symbol(E)&&isnegativeterm(caddr(e))?1:0},any_denominators=function(e){var t;for(e=cdr(e);iscons(e);){if(t=car(e),is_denominator(t))return 1;e=cdr(e)}return 0},YMAX=1e4,glyph=function(){class e{}return e.prototype.c=0,e.prototype.x=0,e.prototype.y=0,e}.call(this),chartab=[],charTabIndex=i1=0,ref1=YMAX;0<=ref1?i1<ref1:i1>ref1;charTabIndex=0<=ref1?++i1:--i1)chartab[charTabIndex]=new glyph;for(yindex=0,level=0,emit_x=0,expr_level=0,display_flag=0,printchar_nowrap=function(e){var t;return t="",t+=e},printchar=function(e){return printchar_nowrap(e)},print2dascii=function(e){var t,r,n,i;return r=0,n=0,i=0,save(),yindex=0,level=0,emit_x=0,emit_top_expr(e),[r,n,i]=get_size(0,yindex),n>100?(printline(e),void restore()):(t=print_glyphs(),restore(),t)},emit_top_expr=function(e){return car(e)===symbol(SETQ)?(emit_expr(cadr(e)),__emit_str(" = "),void emit_expr(caddr(e))):istensor(e)?emit_tensor(e):emit_expr(e)},will_be_displayed_as_fraction=function(e){if(level>0)return 0;if(isfraction(e))return 1;if(car(e)!==symbol(MULTIPLY))return 0;if(isfraction(cadr(e)))return 1;for(;iscons(e);){if(isdenominator(car(e)))return 1;e=cdr(e)}return 0},emit_expr=function(e){if(expr_level++,car(e)===symbol(ADD))for(e=cdr(e),__is_negative(car(e))&&(__emit_char("-"),will_be_displayed_as_fraction(car(e))&&__emit_char(" ")),emit_term(car(e)),e=cdr(e);iscons(e);)__is_negative(car(e))?(__emit_char(" "),__emit_char("-"),__emit_char(" ")):(__emit_char(" "),__emit_char("+"),__emit_char(" ")),emit_term(car(e)),e=cdr(e);else __is_negative(e)&&(__emit_char("-"),will_be_displayed_as_fraction(e)&&__emit_char(" ")),emit_term(e);return expr_level--},emit_unsigned_expr=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),emit_term(car(e)),e=cdr(e),t=[];iscons(e);)__is_negative(car(e))?(__emit_char(" "),__emit_char("-"),__emit_char(" ")):(__emit_char(" "),__emit_char("+"),__emit_char(" ")),emit_term(car(e)),t.push(e=cdr(e));return t}return emit_term(e)},__is_negative=function(e){return isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?1:0},emit_term=function(e){var t;return car(e)===symbol(MULTIPLY)?(t=count_denominators(e))&&0===level?emit_fraction(e,t):emit_multiply(e,t):emit_factor(e)},isdenominator=function(e){return car(e)===symbol(POWER)&&cadr(e)!==symbol(E)&&__is_negative(caddr(e))?1:0},count_denominators=function(e){var t,r;for(t=0,e=cdr(e);iscons(e);)r=car(e),isdenominator(r)&&t++,e=cdr(e);return t},emit_multiply=function(e,t){var r;if(0===t){for(e=cdr(e),(isplusone(car(e))||isminusone(car(e)))&&(e=cdr(e)),emit_factor(car(e)),e=cdr(e),r=[];iscons(e);)__emit_char(" "),emit_factor(car(e)),r.push(e=cdr(e));return r}return emit_numerators(e),__emit_char("/"),t>1||isfraction(cadr(e))?(__emit_char("("),emit_denominators(e),__emit_char(")")):emit_denominators(e)},emit_fraction=function(e,t){var r,n,i,o,a;for(r=0,0,0,o=0,0,save(),p3=one,p4=one,isrational(cadr(e))&&(push(cadr(e)),mp_numerator(),absval(),p3=pop(),push(cadr(e)),mp_denominator(),p4=pop()),isdouble(cadr(e))&&(push(cadr(e)),absval(),p3=pop()),o=isplusone(p3)?0:1,p1=cdr(e),isNumericAtom(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)?1:o++,p1=cdr(p1);for(a=emit_x,n=yindex,r=0,isplusone(p3)||(emit_number(p3,0),r++),p1=cdr(e),isNumericAtom(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)?1:(r>0&&__emit_char(" "),1===o?emit_expr(p2):emit_factor(p2),r++),p1=cdr(p1);for(0===r&&__emit_char("1"),i=yindex,r=0,isplusone(p4)||(emit_number(p4,0),r++,t++),p1=cdr(e),isrational(car(p1))&&(p1=cdr(p1));iscons(p1);)p2=car(p1),isdenominator(p2)&&(r>0&&__emit_char(" "),emit_denominator(p2,t),r++),p1=cdr(p1);return fixup_fraction(a,n,i),restore()},emit_numerators=function(e){var t;for(save(),t=0,p1=one,e=cdr(e),isrational(car(e))?(push(car(e)),mp_numerator(),absval(),p1=pop(),e=cdr(e)):isdouble(car(e))&&(push(car(e)),absval(),p1=pop(),e=cdr(e)),t=0,isplusone(p1)||(emit_number(p1,0),t++);iscons(e);)isdenominator(car(e))?1:(t>0&&__emit_char(" "),emit_factor(car(e)),t++),e=cdr(e);return 0===t&&__emit_char("1"),restore()},emit_denominators=function(e){var t;for(save(),t=0,e=cdr(e),isfraction(car(e))&&(push(car(e)),mp_denominator(),p1=pop(),emit_number(p1,0),t++,e=cdr(e));iscons(e);)isdenominator(car(e))&&(t>0&&__emit_char(" "),emit_denominator(car(e),0),t++),e=cdr(e);return restore()},emit_factor=function(e){istensor(e)?emit_flat_tensor(e):isdouble(e)?emit_number(e,0):car(e)!==symbol(ADD)&&car(e)!==symbol(MULTIPLY)?car(e)!==symbol(POWER)?iscons(e)?emit_function(e):isNumericAtom(e)?0===level?emit_numerical_fraction(e):emit_number(e,0):issymbol(e)?emit_symbol(e):isstr(e)&&emit_string(e):emit_power(e):emit_subexpr(e)},emit_numerical_fraction=function(e){var t,r,n;return 0,0,0,save(),push(e),mp_numerator(),absval(),p3=pop(),push(e),mp_denominator(),p4=pop(),isplusone(p4)?(emit_number(p3,0),void restore()):(n=emit_x,t=yindex,emit_number(p3,0),r=yindex,emit_number(p4,0),fixup_fraction(n,t,r),restore())},isfactor=function(e){return iscons(e)&&car(e)!==symbol(ADD)&&car(e)!==symbol(MULTIPLY)&&car(e)!==symbol(POWER)||issymbol(e)?1:isfraction(e)||isnegativenumber(e)?0:isNumericAtom(e)?1:0},emit_power=function(e){var t,r,n;return t=0,r=0,n=0,cadr(e)===symbol(E)?(__emit_str("exp("),emit_expr(caddr(e)),void __emit_char(")")):level>0?void(isminusone(caddr(e))?(__emit_char("1"),__emit_char("/"),isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e))):(isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),__emit_char("^"),isfactor(caddr(e))?emit_factor(caddr(e)):emit_subexpr(caddr(e)))):__is_negative(caddr(e))?(n=emit_x,t=yindex,__emit_char("1"),r=yindex,emit_denominator(e,1),void fixup_fraction(n,t,r)):(t=yindex,isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),r=yindex,level++,emit_expr(caddr(e)),level--,fixup_power(t,r))},emit_denominator=function(e,t){var r,n;if(0,0,!isminusone(caddr(e)))return r=yindex,isfactor(cadr(e))?emit_factor(cadr(e)):emit_subexpr(cadr(e)),n=yindex,level++,emit_unsigned_expr(caddr(e)),level--,fixup_power(r,n);1===t?emit_expr(cadr(e)):emit_factor(cadr(e))},emit_function=function(e){if(car(e)===symbol(INDEX)&&issymbol(cadr(e)))emit_index_function(e);else{if(car(e)!==symbol(FACTORIAL)){if(car(e)===symbol(DERIVATIVE)?__emit_char("d"):emit_symbol(car(e)),__emit_char("("),e=cdr(e),iscons(e))for(emit_expr(car(e)),e=cdr(e);iscons(e);)__emit_char(","),emit_expr(car(e)),e=cdr(e);return __emit_char(")")}emit_factorial_function(e)}},emit_index_function=function(e){if(e=cdr(e),caar(e)===symbol(ADD)||caar(e)===symbol(MULTIPLY)||caar(e)===symbol(POWER)||caar(e)===symbol(FACTORIAL)?emit_subexpr(car(e)):emit_expr(car(e)),__emit_char("["),e=cdr(e),iscons(e))for(emit_expr(car(e)),e=cdr(e);iscons(e);)__emit_char(","),emit_expr(car(e)),e=cdr(e);return __emit_char("]")},emit_factorial_function=function(e){return e=cadr(e),isfraction(e)||car(e)===symbol(ADD)||car(e)===symbol(MULTIPLY)||car(e)===symbol(POWER)||car(e)===symbol(FACTORIAL)?emit_subexpr(e):emit_expr(e),__emit_char("!")},emit_subexpr=function(e){return __emit_char("("),emit_expr(e),__emit_char(")")},emit_symbol=function(e){var t,r,n,i,o;if(t=0,e!==symbol(E)){for(o=[],t=r=0,i=(n=get_printname(e)).length;0<=i?r<i:r>i;t=0<=i?++r:--r)o.push(__emit_char(n[t]));return o}__emit_str("exp(1)")},emit_string=function(e){var t,r,n,i;for(t=0,n=e.str,__emit_char('"'),t=r=0,i=n.length;0<=i?r<i:r>i;t=0<=i?++r:--r)__emit_char(n[t]);return __emit_char('"')},fixup_fraction=function(e,t,r){var n,i,o,a,s,l,u,c,p,h,f;for(n=0,0,0,u=0,0,i=0,c=0,h=0,o=0,p=0,f=0,[i,c,h]=get_size(t,r),[o,p,f]=get_size(r,yindex),n=p>c?(p-c)/2:0,n++,move(t,r,n,-(h+i-1)-1),n=p>c?-c:(c-p)/2-c,n++,move(r,yindex,n,1-f),u=p>c?p:c,emit_x=e,l=[],a=0,s=u+=2;0<=s?a<s:a>s;0<=s?++a:--a)l.push(__emit_char("-"));return l},fixup_power=function(e,t){var r,n,i,o,a,s,l;return r=0,n=0,o=0,s=0,i=0,a=0,l=0,[n,o,s]=get_size(e,t),[i,a,l]=get_size(t,yindex),r=-l-i+1,move(t,yindex,0,r+=s-1)},move=function(e,t,r,n){var i,o,a,s,l;for(i=0,l=[],i=o=a=e,s=t;a<=s?o<s:o>s;i=a<=s?++o:--o)chartab[i].x+=r,l.push(chartab[i].y+=n);return l},get_size=function(e,t){var r,n,i,o,a,s,l,u;for(r=0,a=chartab[e].x,i=chartab[e].x,s=chartab[e].y,o=chartab[e].y,r=n=l=e+1,u=t;l<=u?n<u:n>u;r=l<=u?++n:--n)chartab[r].x<a&&(a=chartab[r].x),chartab[r].x>i&&(i=chartab[r].x),chartab[r].y<s&&(s=chartab[r].y),chartab[r].y>o&&(o=chartab[r].y);return[o-s+1,i-a+1,s]},displaychar=function(e){return __emit_char(e)},__emit_char=function(e){if(yindex!==YMAX)return chartab[yindex],chartab[yindex].c=e,chartab[yindex].x=emit_x,chartab[yindex].y=0,yindex++,emit_x++},__emit_str=function(e){var t,r,n,i;for(t=0,i=[],t=r=0,n=e.length;0<=n?r<n:r>n;t=0<=n?++r:--r)i.push(__emit_char(e[t]));return i},emit_number=function(e,t){var r,n,i,o,a,s,l,u,c,p;switch(p="",r=0,e.k){case NUM:for("-"===(p=e.q.a.toString())[0]&&0===t&&(p=p.substring(1)),r=n=0,a=p.length;0<=a?n<a:n>a;r=0<=a?++n:--n)__emit_char(p[r]);if("1"===(p=e.q.b.toString()))break;for(__emit_char("/"),u=[],r=i=0,s=p.length;0<=s?i<s:i>s;r=0<=s?++i:--i)u.push(__emit_char(p[r]));return u;case DOUBLE:for("-"===(p=doubleToReasonableString(e.d))[0]&&0===t&&(p=p.substring(1)),c=[],r=o=0,l=p.length;0<=l?o<l:o>l;r=0<=l?++o:--o)c.push(__emit_char(p[r]));return c}},cmpGlyphs=function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0},print_glyphs=function(){var e,t,r,n,i,o,a;for(t=0,e="",(i=chartab.slice(0,yindex)).sort(cmpGlyphs),o=0,a=(chartab=[].concat(i).concat(chartab.slice(yindex)))[0].y,t=r=0,n=yindex;0<=n?r<n:r>n;t=0<=n?++r:--r){for(;chartab[t].y>a;)e+=printchar("\n"),o=0,a++;for(;chartab[t].x>o;)e+=printchar_nowrap(" "),o++;e+=printchar_nowrap(chartab[t].c),o++}return e},buffer="",getdisplaystr=function(){return yindex=0,level=0,emit_x=0,emit_expr(pop()),fill_buf(),buffer},fill_buf=function(){var e,t,r,n,i,o,a,s;for(o=buffer,n=0,e=0,(i=chartab.slice(0,yindex)).sort(cmpGlyphs),a=0,s=(chartab=[].concat(i).concat(chartab.slice(yindex)))[0].y,e=t=0,r=yindex;0<=r?t<r:t>r;e=0<=r?++t:--t){for(;chartab[e].y>s;)o[n++]="\n",a=0,s++;for(;chartab[e].x>a;)o[n++]=" ",a++;o[n++]=chartab[e].c,a++}return o[n++]="\n"},N=100,oneElement=function(){class e{}return e.prototype.x=0,e.prototype.y=0,e.prototype.h=0,e.prototype.w=0,e.prototype.index=0,e.prototype.count=0,e}.call(this),elem=[],elelmIndex=j1=0;j1<1e4;elelmIndex=++j1)elem[elelmIndex]=new oneElement;SPACE_BETWEEN_COLUMNS=3,SPACE_BETWEEN_ROWS=1,emit_tensor=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_;if(a=0,0,0,p=0,0,0,0,0,r=0,n=0,i=0,o=0,v=0,t=0,e.tensor.ndim>2)emit_flat_tensor(e);else{if(!((u=(h=e.tensor.dim[0])*(p=2===e.tensor.ndim?e.tensor.dim[1]:1))>N)){for(b=emit_x,a=s=0,d=u;0<=d?s<d:s>d;a=0<=d?++s:--s)elem[a].index=yindex,elem[a].x=emit_x,emit_expr(e.tensor.elem[a]),elem[a].count=yindex-elem[a].index,[elem[a].h,elem[a].w,elem[a].y]=get_size(elem[a].index,yindex);for(i=0,o=0,a=l=0,m=u;0<=m?l<m:l>m;a=0<=m?++l:--l)elem[a].h>i&&(i=elem[a].h),elem[a].w>o&&(o=elem[a].w);for(x=p*o+(p-1)*SPACE_BETWEEN_COLUMNS,_=-(h*i+(h-1)*SPACE_BETWEEN_ROWS)/2,v=c=0,g=h;0<=g?c<g:c>g;v=0<=g?++c:--c)for(t=f=0,y=p;0<=y?f<y:f>y;t=0<=y?++f:--f)r=b-elem[a=v*p+t].x,n=_-elem[a].y,move(elem[a].index,elem[a].index+elem[a].count,r,n),r=0,t>0&&(r=t*(o+SPACE_BETWEEN_COLUMNS)),n=0,v>0&&(n=v*(i+SPACE_BETWEEN_ROWS)),r+=(o-elem[a].w)/2,n+=(i-elem[a].h)/2,move(elem[a].index,elem[a].index+elem[a].count,r,n);return emit_x=b+x}emit_flat_tensor(e)}},emit_flat_tensor=function(e){return emit_tensor_inner(e,0,0)},emit_tensor_inner=function(e,t,r){var n,i,o;for(n=0,__emit_char("("),n=i=0,o=e.tensor.dim[t];0<=o?i<o:i>o;n=0<=o?++i:--i)t+1===e.tensor.ndim?(emit_expr(e.tensor.elem[r]),r+=1):r=emit_tensor_inner(e,t+1,r),n+1<e.tensor.dim[t]&&__emit_char(",");return __emit_char(")"),r},Eval_product=function(){var e,t,r,n,i,o,a,s,l;if(t=0,0,0,e=cadr(p1),r=caddr(p1),issymbol(r)||stop("sum: 2nd arg?"),push(cadddr(p1)),Eval(),n=pop_integer(),isNaN(n))push(p1);else{if(push(caddddr(p1)),Eval(),i=pop_integer(),!isNaN(i)){for(a=get_binding(r),push_integer(1),t=o=s=n,l=i;s<=l?o<=l:o>=l;t=s<=l?++o:--o)push_integer(t),p5=pop(),set_binding(r,p5),push(e),Eval(),DEBUG&&(console.log("product - factor 1: "+stack[tos-1].toString()),console.log("product - factor 2: "+stack[tos-2].toString())),multiply(),DEBUG&&console.log("product - result: "+stack[tos-1].toString());return set_binding(r,a)}push(p1)}},qadd=function(){var e,t,r,n,i,o,a,s;if(o=pop(),i=pop(),t=mmul(i.q.a,o.q.b),r=mmul(i.q.b,o.q.a),a=madd(t,r),!MZERO(a))return n=mmul(i.q.b,o.q.b),e=mgcd(a,n),e=makeSignSameAs(e,n),(s=new U).k=NUM,s.q.a=mdiv(a,e),s.q.b=mdiv(n,e),push(s);push(zero)},qdiv=function(){var e,t,r;return save(),p2=pop(),p1=pop(),MZERO(p2.q.a)&&stop("divide by zero"),MZERO(p1.q.a)?(push(zero),void restore()):(e=mmul(p1.q.a,p2.q.b),t=mmul(p1.q.b,p2.q.a),r=mgcd(e,t),r=makeSignSameAs(r,t),(p1=new U).k=NUM,p1.q.a=mdiv(e,r),p1.q.b=mdiv(t,r),push(p1),restore())},qmul=function(){var e,t,r;return save(),p2=pop(),p1=pop(),MZERO(p1.q.a)||MZERO(p2.q.a)?(push(zero),void restore()):(e=mmul(p1.q.a,p2.q.a),t=mmul(p1.q.b,p2.q.b),r=mgcd(e,t),r=makeSignSameAs(r,t),(p1=new U).k=NUM,p1.q.a=mdiv(e,r),p1.q.b=mdiv(t,r),push(p1),restore())},qpow=function(){return save(),qpowf(),restore()},qpowf=function(){var e,t,r,n,i,o;if(r=0,p2=pop(),p1=pop(),isplusone(p1)||isZeroAtomOrTensor(p2))push_integer(1);else if(isminusone(p1)&&isoneovertwo(p2))push(imaginaryunit);else{if(isZeroAtomOrTensor(p1))return isnegativenumber(p2)&&stop("divide by zero"),void push(zero);if(!isplusone(p2))return isinteger(p2)?(push(p2),r=pop_integer(),isNaN(r)?(push_symbol(POWER),push(p1),push(p2),void list(3)):(i=mpow(p1.q.a,Math.abs(r)),o=mpow(p1.q.b,Math.abs(r)),r<0&&(n=i,i=makeSignSameAs(i=o,o=n),o=makePositive(o)),(p3=new U).k=NUM,p3.q.a=i,p3.q.b=o,void push(p3))):isminusone(p1)?(push(p2),void normalize_angle()):isnegativenumber(p1)?(push(p1),negate(),push(p2),qpow(),push_integer(-1),push(p2),qpow(),void multiply()):isinteger(p1)?is_small_integer(p1)?(push(p1),push(p2),void quickfactor()):isSmall(p2.q.a)&&isSmall(p2.q.b)?(e=p2.q.a,t=p2.q.b,0===(i=mroot(p1.q.a,t))?(push_symbol(POWER),push(p1),push(p2),void list(3)):(o=mpow(i,e),(p3=new U).k=NUM,p2.q.a.isNegative()?(p3.q.a=bigInt(1),p3.q.b=o):(p3.q.a=o,p3.q.b=bigInt(1)),push(p3))):(push_symbol(POWER),push(p1),push(p2),void list(3)):(push(p1),mp_numerator(),push(p2),qpow(),push(p1),mp_denominator(),push(p2),negate(),qpow(),void multiply());push(p1)}},normalize_angle=function(){return save(),p1=pop(),isinteger(p1)?(p1.q.a.isOdd()?push_integer(-1):push_integer(1),void restore()):(push(p1),bignum_truncate(),p2=pop(),isnegativenumber(p1)&&(push(p2),push_integer(-1),add(),p2=pop()),push(p1),push(p2),subtract(),p3=pop(),push_symbol(POWER),push_integer(-1),push(p3),list(3),p2.q.a.isOdd()&&negate(),restore())},is_small_integer=function(e){return isSmall(e.q.a)},quickfactor=function(){var e,t,r,n,i,o;for(t=0,save(),p2=pop(),p1=pop(),e=tos,push(p1),factor_small_number(),o=e,t=r=0,i=n=tos-e;r<i;t=r+=2)push(stack[o+t]),push(stack[o+t+1]),push(p2),multiply(),quickpower();return multiply_all(tos-e-n),p1=pop(),moveTos(e),push(p1),restore()},quickpower=function(){var e;return 0,save(),p2=pop(),p1=pop(),push(p2),bignum_truncate(),p3=pop(),push(p2),push(p3),subtract(),p4=pop(),isZeroAtomOrTensor(p4)||(push_symbol(POWER),push(p1),push(p4),list(3)),push(p3),e=pop_integer(),isNaN(e)?(push_symbol(POWER),push(p1),push(p3),list(3),void restore()):0!==e?(push(p1),bignum_power_number(e),restore()):void restore()},Eval_quotient=function(){return push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),push(cadddr(p1)),Eval(),(p1=pop())===symbol(NIL)&&(p1=symbol(SYMBOL_X)),push(p1),divpoly()},divpoly=function(){var e,t,r,n,i,o,a,s,l;for(0,n=0,o=0,0,l=0,save(),p3=pop(),p2=pop(),p1=pop(),r=tos,e=tos,o=coeff(p3,p1)-1,t=tos,l=o-(a=coeff(p3,p2)-1),push_integer(0),p5=pop();l>=0;){for(push(stack[e+o]),push(stack[t+a]),divide(),p4=pop(),n=i=0,s=a;0<=s?i<=s:i>=s;n=0<=s?++i:--i)push(stack[e+l+n]),push(stack[t+n]),push(p4),multiply(),subtract(),stack[e+l+n]=pop();push(p5),push(p4),push(p3),push_integer(l),power(),multiply(),add(),p5=pop(),o--,l--}return moveTos(r),push(p5),restore()},DEBUG_RATIONALIZE=!1,Eval_rationalize=function(){return push(cadr(p1)),Eval(),rationalize()},rationalize=function(){var e;return e=expanding,yyrationalize(),expanding=e},yyrationalize=function(){var e,t,r;if(r=pop(),istensor(r))__rationalize_tensor(r);else{if(expanding=0,car(r)===symbol(ADD)){for(DEBUG_RATIONALIZE&&console.log("rationalize: this is the input expr: "+r),push(one),multiply_denominators(r),e=pop(),DEBUG_RATIONALIZE&&console.log("rationalize: this is the new denominator: "+e),push(zero),t=cdr(r);iscons(t);)DEBUG_RATIONALIZE&&console.log("term: "+car(t)),push(e),push(car(t)),multiply(),add(),t=cdr(t);return DEBUG_RATIONALIZE&&console.log("rationalize: original terms times new denominator: "+stack[tos-1]),Condense(),DEBUG_RATIONALIZE&&console.log("rationalize: after factoring: "+stack[tos-1]),push(e),divide(),DEBUG_RATIONALIZE?console.log("rationalize: after dividing by new denom. (and we're done): "+stack[tos-1]):void 0}push(r)}},multiply_denominators=function(e){var t;if(car(e)===symbol(ADD)){for(e=cdr(e),t=[];iscons(e);)multiply_denominators_term(car(e)),t.push(e=cdr(e));return t}return multiply_denominators_term(e)},multiply_denominators_term=function(e){var t;if(car(e)===symbol(MULTIPLY)){for(e=cdr(e),t=[];iscons(e);)multiply_denominators_factor(car(e)),t.push(e=cdr(e));return t}return multiply_denominators_factor(e)},multiply_denominators_factor=function(e){if(car(e)===symbol(POWER))return push(e),e=caddr(e),isnegativenumber(e)||car(e)===symbol(MULTIPLY)&&isnegativenumber(cadr(e))?(inverse(),void __lcm()):pop()},__rationalize_tensor=function(e){var t,r,n;if(t=0,push(e),Eval(),e=pop(),istensor(e)){for(t=r=0,n=e.tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)push(e.tensor.elem[t]),rationalize(),e.tensor.elem[t]=pop();return check_tensor_dimensions(e),push(e)}push(e)},__lcm=function(){return save(),p1=pop(),p2=pop(),push(p1),push(p2),multiply(),push(p1),push(p2),gcd(),divide(),restore()},Eval_real=function(){return push(cadr(p1)),Eval(),real()},real=function(){return save(),rect(),p1=pop(),push(p1),push(p1),conjugate(),add(),push_integer(2),divide(),restore()},DEBUG_RECT=!1,Eval_rect=function(){return push(cadr(p1)),Eval(),rect()},rect=function(){var e;if(save(),e=p1=pop(),DEBUG_RECT&&console.log("RECT of "+e),DEBUG_RECT&&console.log("any clock forms in : "+e+" ? "+findPossibleClockForm(e)),issymbol(p1))DEBUG_RECT&&console.log(" rect: simple symbol: "+e),isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))?(push_symbol(YYRECT),push(p1),list(2)):push(p1);else if(isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES)))||findPossibleExponentialForm(p1)||findPossibleClockForm(p1)||Find(p1,symbol(SIN))&&Find(p1,symbol(COS))&&Find(p1,imaginaryunit))if(car(p1)===symbol(MULTIPLY)&&isimaginaryunit(cadr(p1))&&!isZeroAtomOrTensor(get_binding(symbol(ASSUME_REAL_VARIABLES))))push(p1);else if(car(p1)===symbol(ADD))for(DEBUG_RECT&&console.log(" rect - "+e+" is a sum "),push_integer(0),p1=cdr(p1);iscons(p1);)push(car(p1)),rect(),add(),p1=cdr(p1);else DEBUG_RECT&&console.log(" rect - "+e+" is NOT a sum "),push(p1),abs(),DEBUG_RECT&&console.log(" rect - "+e+" abs: "+stack[tos-1].toString()),push(p1),arg(),DEBUG_RECT&&console.log(" rect - "+e+" arg of "+p1+" : "+stack[tos-1].toString()),p1=pop(),push(p1),cosine(),DEBUG_RECT&&console.log(" rect - "+e+" cosine: "+stack[tos-1].toString()),push(imaginaryunit),push(p1),sine(),DEBUG_RECT&&console.log(" rect - "+e+" sine: "+stack[tos-1].toString()),multiply(),DEBUG_RECT&&console.log(" rect - "+e+" i * sine: "+stack[tos-1].toString()),add(),DEBUG_RECT&&console.log(" rect - "+e+" cos + i * sine: "+stack[tos-1].toString()),multiply();else DEBUG_RECT&&console.log(" rect: simple symbol: "+e),push(p1);if(restore(),DEBUG_RECT)return console.log("rect of "+e+" : "+stack[tos-1])},show_power_debug=!1,performing_roots=!1,Eval_roots=function(){return p2=cadr(p1),car(p2)===symbol(SETQ)||car(p2)===symbol(TESTEQ)?(push(cadr(p2)),Eval(),push(caddr(p2)),Eval(),subtract()):(push(p2),Eval(),p2=pop(),car(p2)===symbol(SETQ)||car(p2)===symbol(TESTEQ)?(push(cadr(p2)),Eval(),push(caddr(p2)),Eval(),subtract()):push(p2)),push(caddr(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p2=pop(),p1=pop(),ispolyexpandedform(p1,p2)||stop("roots: 1st argument is not a polynomial in the variable "+p2),push(p1),push(p2),roots()},hasImaginaryCoeff=function(e){var t,r,n;for(r=!1,tos,t=n=e;n>0;t=n+=-1)if(iscomplexnumber(stack[tos-t])){r=!0;break}return r},isSimpleRoot=function(e){var t,r,n;if(e>2){for(r=!0,tos,isZeroAtomOrTensor(stack[tos-e])&&(r=!1),t=n=e-1;n>1;t=n+=-1)if(!isZeroAtomOrTensor(stack[tos-t])){r=!1;break}}else r=!1;return r},normalisedCoeff=function(e,t){var r,n,i,o,a,s,l,u;for(i=coeff(e,t),r=stack[tos-1],s=[],n=o=1,l=i;1<=l?o<=l:o>=l;n=1<=l?++o:--o)s.push(pop());for(n=a=u=i-1;u<=0?a<=0:a>=0;n=u<=0?++a:--a)push(s[n]),push(r),divide();return i},roots=function(){var e,t,r,n,i,o,a,s;if(0,t=0,0,DEBUG&&console.log("roots: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),save(),recursionLevelNestedRadicalsRemoval>1)return pop(),pop(),push(symbol(NIL)),void restore();if(performing_roots=!0,e=tos-2,DEBUG&&console.log("roots checking if "+stack[tos-1].toString()+" is a case of simple roots"),p2=pop(),p1=pop(),push(p1),push(p2),r=normalisedCoeff(p2,p1),isSimpleRoot(r)?(DEBUG&&console.log("yes, "+stack[tos-1].toString()+" is a case of simple roots"),i=stack[tos-r],o=stack[tos-1],moveTos(tos-r),pop(),pop(),getSimpleRoots(r,o,i)):(moveTos(tos-r),roots2()),0===(a=tos-e)&&stop("roots: the polynomial is not factorable, try nroots"),1===a)return performing_roots=!1,void restore();for(sort_stack(a),(p1=alloc_tensor(a)).tensor.ndim=1,p1.tensor.dim[0]=a,t=n=0,s=a;0<=s?n<s:n>s;t=0<=s?++n:--n)p1.tensor.elem[t]=stack[e+t];return moveTos(e),push(p1),restore(),performing_roots=!1},getSimpleRoots=function(e,t,r){var n,i,o,a,s,l,u;if(DEBUG&&console.log("getSimpleRoots"),save(),e-=1,push(r),push_rational(1,e),power(),push(t),push_rational(1,e),power(),divide(),i=pop(),e%2==0)for(u=o=1,s=e;o<=s;u=o+=2)push(i),push_integer(-1),push_rational(u,e),power(),multiply(),n=pop(),push(n),push(n),negate();else for(u=a=1,l=e;1<=l?a<=l:a>=l;u=1<=l?++a:--a)push(i),push_integer(-1),push_rational(u,e),power(),multiply(),u%2==0&&negate();return restore()},roots2=function(){var e;if(save(),DEBUG&&console.log("roots2: "+stack[tos-1].toString()+" "+stack[tos-2].toString()),p2=pop(),p1=pop(),push(p1),push(p2),e=normalisedCoeff(p2,p1),hasImaginaryCoeff(e)?(moveTos(tos-e),pop(),pop()):(moveTos(tos-e),factorpoly(),p1=pop()),car(p1)===symbol(MULTIPLY))for(p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),roots3(),p1=cdr(p1);else push(p1),push(p2),roots3();return restore()},roots3=function(){var e;return save(),p2=pop(),p1=pop(),car(p1)===symbol(POWER)&&ispolyexpandedform(cadr(p1),p2)&&isposint(caddr(p1))?(e=normalisedCoeff(p2,cadr(p1)),mini_solve(e)):ispolyexpandedform(p1,p2)&&(e=normalisedCoeff(p2,p1),mini_solve(e)),restore()},mini_solve=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I,R,D,L,q,B,P,z,U,$,F,G,V,H,j,W,X,Y,Z,J,K,Q,ee,te,re,ne,ie,oe,ae,se,le,ue,ce,pe,he;if(save(),2===e)return p3=pop(),p4=pop(),push(p4),push(p3),divide(),negate(),void restore();if(3===e)return p3=pop(),p4=pop(),p5=pop(),push(p4),push_integer(2),power(),push_integer(4),push(p3),multiply(),push(p5),multiply(),subtract(),push_rational(1,2),power(),p6=pop(),push(p6),push(p4),subtract(),push(p3),push_integer(2),multiply(),divide(),push(p6),push(p4),add(),negate(),push(p3),divide(),push_rational(1,2),multiply(),void restore();if(4===e||5===e){if(p3=pop(),p4=pop(),p5=pop(),p6=pop(),push(p5),push(p5),multiply(),A=pop(),push(A),push(p5),multiply(),T=pop(),push(p4),push(p4),multiply(),M=pop(),push(M),push(p4),multiply(),N=pop(),push(N),push(p6),multiply(),k=pop(),push(k),push_integer(-4),multiply(),B=pop(),push(N),push_integer(2),multiply(),i=pop(),push(p3),push(p3),multiply(),y=pop(),push(y),push(p3),multiply(),b=pop(),push_integer(3),push(p3),multiply(),o=pop(),push(y),push(p6),multiply(),v=pop(),push(v),push(p6),multiply(),x=pop(),push(v),push_integer(27),multiply(),n=pop(),push(x),push_integer(-27),multiply(),L=pop(),push(o),push_integer(2),multiply(),pop(),push(p3),push(p5),multiply(),E=pop(),push(E),push(p4),multiply(),_=pop(),push(_),push(p6),multiply(),w=pop(),push(E),push_integer(3),multiply(),s=pop(),push_integer(-4),push(p3),push(T),multiply(),multiply(),q=pop(),push(_),push_integer(9),multiply(),negate(),P=pop(),push(w),push_integer(18),multiply(),r=pop(),push(M),push(s),subtract(),f=pop(),push(M),push(A),multiply(),S=pop(),push(p4),negate(),push(o),divide(),z=pop(),4===e){if(DEBUG&&console.log(">>>>>>>>>>>>>>>> actually using cubic formula <<<<<<<<<<<<<<< "),DEBUG&&console.log("cubic: D0: "+f.toString()),push(f),push_integer(3),power(),push_integer(4),multiply(),l=pop(),push(f),simplify(),absValFloat(),d=pop(),DEBUG&&console.log("cubic: D0 as float: "+d.toString()),push(r),push(B),push(S),push(q),push(L),add(),add(),add(),add(),simplify(),absValFloat(),C=pop(),DEBUG&&console.log("cubic: DETERMINANT: "+C.toString()),push(i),push(P),push(n),add(),add(),m=pop(),DEBUG&&console.log("cubic: D1: "+m.toString()),push(m),push_integer(2),power(),push(l),subtract(),push_rational(1,2),power(),simplify(),g=pop(),isZeroAtomOrTensor(C))return isZeroAtomOrTensor(d)?(DEBUG&&console.log(" cubic: DETERMINANT IS ZERO and delta0 is zero"),push(z),void restore()):(DEBUG&&console.log(" cubic: DETERMINANT IS ZERO and delta0 is not zero"),push(p3),push(p6),push_integer(9),multiply(),multiply(),push(p4),push(p5),multiply(),subtract(),push(f),push_integer(2),multiply(),divide(),ce=pop(),push(ce),push(ce),push(_),push_integer(4),multiply(),push(p3),push(p3),push(p6),push_integer(9),multiply(),multiply(),multiply(),negate(),push(N),negate(),add(),add(),push(p3),push(f),multiply(),divide(),void restore());for(t=!1,Z=!1;!t;)push(g),Z&&negate(),push(m),add(),push_rational(1,2),multiply(),push_rational(1,3),power(),simplify(),c=pop(),DEBUG&&console.log("cubic: C: "+c.toString()),push(c),simplify(),absValFloat(),h=pop(),DEBUG&&console.log("cubic: C as absval and float: "+h.toString()),isZeroAtomOrTensor(h)?(DEBUG&&console.log(" cubic: C IS ZERO flipping the sign"),Z=!0):t=!0;return push(c),push(o),multiply(),a=pop(),push(a),push_integer(2),multiply(),u=pop(),push(imaginaryunit),push_integer(3),push_rational(1,2),power(),multiply(),J=pop(),push_integer(1),push(J),add(),oe=pop(),push_integer(1),push(J),subtract(),ie=pop(),push(c),push(o),divide(),p=pop(),push(z),push(p),negate(),push(f),push(a),divide(),negate(),add(),add(),simplify(),push(z),push(p),push(oe),multiply(),push_integer(2),divide(),push(ie),push(f),multiply(),push(u),divide(),add(),add(),simplify(),push(z),push(p),push(ie),multiply(),push_integer(2),divide(),push(oe),push(f),multiply(),push(u),divide(),add(),add(),simplify(),void restore()}if(5===e){if(DEBUG&&console.log(">>>>>>>>>>>>>>>> actually using quartic formula <<<<<<<<<<<<<<< "),p7=pop(),isZeroAtomOrTensor(p4)&&isZeroAtomOrTensor(p6)&&!isZeroAtomOrTensor(p5)&&!isZeroAtomOrTensor(p7)){for(DEBUG&&console.log("biquadratic case"),push(p3),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push(p5),push(symbol(SECRETX)),multiply(),push(p7),add(),add(),push(symbol(SECRETX)),roots(),K=0,Q=(ae=pop().tensor.elem).length;K<Q;K++)Y=ae[K],push(Y),push_rational(1,2),power(),simplify(),push(Y),push_rational(1,2),power(),negate(),simplify();return void restore()}if(push(p6),push(p6),multiply(),O=pop(),push(p7),push(p7),multiply(),I=pop(),push(I),push(p7),multiply(),R=pop(),push_integer(256),push(b),push(R),multiply(),multiply(),push_integer(-192),push(v),push(I),push(p4),multiply(),multiply(),multiply(),push_integer(-128),push(y),push(A),push(I),multiply(),multiply(),multiply(),push_integer(144),push(x),push(p5),push(p7),multiply(),multiply(),multiply(),push(L),push(O),multiply(),push_integer(144),push(_),push(p4),push(I),multiply(),multiply(),multiply(),push_integer(-6),push(p3),push(M),push(O),push(p7),multiply(),multiply(),multiply(),multiply(),push_integer(-80),push(w),push(p5),push(p7),multiply(),multiply(),multiply(),push_integer(18),push(w),push(O),multiply(),multiply(),push_integer(16),push(E),push(T),push(p7),multiply(),multiply(),multiply(),push_integer(-4),push(E),push(A),push(O),multiply(),multiply(),multiply(),push_integer(-27),push(N),push(p4),push(I),multiply(),multiply(),multiply(),push_integer(18),push(k),push(p5),push(p7),multiply(),multiply(),multiply(),push(B),push(O),multiply(),push_integer(-4),push(S),push(p5),push(p7),multiply(),multiply(),multiply(),push(S),push(O),multiply(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),add(),C=pop(),DEBUG&&console.log("R_determinant: "+C.toString()),push(A),push_integer(-3),push(p4),push(p6),multiply(),multiply(),push_integer(12),push(p3),push(p7),multiply(),multiply(),add(),add(),f=pop(),DEBUG&&console.log("R_DELTA0: "+f.toString()),push_integer(2),push(T),multiply(),push_integer(-9),push(p4),push(p5),push(p6),multiply(),multiply(),multiply(),push_integer(27),push(M),push(p7),multiply(),multiply(),push_integer(27),push(p3),push(O),multiply(),multiply(),push_integer(-72),push(E),push(p7),multiply(),multiply(),add(),add(),add(),add(),m=pop(),DEBUG&&console.log("R_DELTA1: "+m.toString()),push_integer(8),push(E),multiply(),push_integer(-3),push(M),multiply(),add(),push_integer(8),push(y),multiply(),divide(),U=pop(),DEBUG&&console.log("p: "+U.toString()),push(N),push_integer(-4),push(_),multiply(),push_integer(8),push(v),multiply(),add(),add(),push_integer(8),push(b),multiply(),divide(),$=pop(),DEBUG&&console.log("q: "+$.toString()),DEBUG&&console.log("tos 1 "+tos),isZeroAtomOrTensor(p4)){for(U=p5,$=p6,F=p7,push_rational(5,2),push(U),multiply(),H=pop(),push_integer(2),push(U),push_integer(2),power(),multiply(),push(F),subtract(),j=pop(),push(U),push_integer(3),power(),push_integer(2),divide(),push_rational(-1,2),push(U),push(F),multiply(),multiply(),push_rational(-1,8),push($),push_integer(2),power(),multiply(),add(),add(),W=pop(),push(symbol(SECRETX)),push_integer(3),power(),push(H),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push(j),push(symbol(SECRETX)),multiply(),push(W),add(),add(),add(),DEBUG&&console.log("resolventCubic: "+stack[tos-1].toString()),push(symbol(SECRETX)),roots(),ue=pop(),DEBUG&&console.log("resolventCubicSolutions: "+ue),D=null,ne=0,te=(le=ue.tensor.elem).length;ne<te;ne++)if(Y=le[ne],DEBUG&&console.log("examining solution: "+Y),push(Y),push_integer(2),multiply(),push(U),add(),absValFloat(),he=pop(),DEBUG&&console.log("abs value is: "+Y),!isZeroAtomOrTensor(he)){D=Y;break}return DEBUG&&console.log("chosen solution: "+D),push(D),push_integer(2),multiply(),push(U),add(),push_rational(1,2),power(),simplify(),pe=pop(),push($),push_integer(2),multiply(),push(pe),divide(),simplify(),V=pop(),push(U),push_integer(3),multiply(),push(D),push_integer(2),multiply(),add(),G=pop(),push(pe),push(G),push(V),add(),negate(),push_rational(1,2),power(),simplify(),add(),push_integer(2),divide(),push(pe),push(G),push(V),add(),negate(),push_rational(1,2),power(),simplify(),subtract(),push_integer(2),divide(),push(pe),negate(),push(G),push(V),subtract(),negate(),push_rational(1,2),power(),simplify(),add(),push_integer(2),divide(),push(pe),negate(),push(G),push(V),subtract(),negate(),push_rational(1,2),power(),simplify(),subtract(),push_integer(2),divide(),void restore()}for(DEBUG&&console.log("tos 2 "+tos),push_integer(8),push(p5),push(p3),multiply(),multiply(),push_integer(-3),push(p4),push_integer(2),power(),multiply(),add(),push_integer(8),push(p3),push_integer(2),power(),multiply(),divide(),U=pop(),DEBUG&&console.log("p for depressed quartic: "+U.toString()),push(p4),push_integer(3),power(),push_integer(-4),push(p3),push(p4),push(p5),multiply(),multiply(),multiply(),push_integer(8),push(p6),push(p3),push_integer(2),power(),multiply(),multiply(),add(),add(),push_integer(8),push(p3),push_integer(3),power(),multiply(),divide(),$=pop(),DEBUG&&console.log("q for depressed quartic: "+$.toString()),push(p4),push_integer(4),power(),push_integer(-3),multiply(),push_integer(256),push(b),push(p7),multiply(),multiply(),push_integer(-64),push(v),push(p4),multiply(),multiply(),push_integer(16),push(M),push(p3),push(p5),multiply(),multiply(),multiply(),add(),add(),add(),push_integer(256),push(p3),push_integer(4),power(),multiply(),divide(),F=pop(),DEBUG&&console.log("r for depressed quartic: "+F.toString()),DEBUG&&console.log("tos 4 "+tos),push(symbol(SECRETX)),push_integer(4),power(),DEBUG&&console.log("4 * x^4: "+stack[tos-1].toString()),push(U),push(symbol(SECRETX)),push_integer(2),power(),multiply(),DEBUG&&console.log("R_p * x^2: "+stack[tos-1].toString()),push($),push(symbol(SECRETX)),multiply(),DEBUG&&console.log("R_q * x: "+stack[tos-1].toString()),push(F),DEBUG&&console.log("R_r: "+stack[tos-1].toString()),add(),add(),add(),simplify(),DEBUG&&console.log("solving depressed quartic: "+stack[tos-1].toString()),push(symbol(SECRETX)),roots(),X=pop(),DEBUG&&console.log("depressedSolutions: "+X),re=0,ee=(se=X.tensor.elem).length;re<ee;re++)Y=se[re],push(Y),push(p4),push_integer(4),push(p3),multiply(),divide(),subtract(),simplify(),DEBUG&&console.log("solution from depressed: "+stack[tos-1].toString());return void restore()}}return moveTos(tos-e),restore()},Eval_round=function(){return push(cadr(p1)),Eval(),yround()},yround=function(){return save(),yyround(),restore()},yyround=function(){var e;return e=0,p1=pop(),isNumericAtom(p1)?isdouble(p1)?(e=Math.round(p1.d),void push_double(e)):isinteger(p1)?void push(p1):(push(p1),yyfloat(),p1=pop(),push_integer(Math.round(p1.d))):(push_symbol(ROUND),push(p1),void list(2))},T_INTEGER=1001,T_DOUBLE=1002,T_SYMBOL=1003,T_FUNCTION=1004,T_NEWLINE=1006,T_STRING=1007,T_GTEQ=1008,T_LTEQ=1009,T_EQ=1010,T_NEQ=1011,T_QUOTASSIGN=1012,token="",newline_flag=0,meta_mode=0,input_str=0,scan_str=0,token_str=0,token_buf=0,lastFoundSymbol=null,symbolsRightOfAssignment=null,symbolsLeftOfAssignment=null,isSymbolLeftOfAssignment=null,scanningParameters=null,functionInvokationsScanningStack=null,skipRootVariableToBeSolved=!1,assignmentFound=null,scanned="",scan=function(e){return DEBUG&&console.log("#### scanning "+e),lastFoundSymbol=null,symbolsRightOfAssignment=[],symbolsLeftOfAssignment=[],isSymbolLeftOfAssignment=!0,scanningParameters=[],functionInvokationsScanningStack=[""],assignmentFound=!1,scanned=e,meta_mode=0,expanding++,input_str=0,scan_str=0,get_next_token(),""===token?(push(symbol(NIL)),expanding--,0):(scan_stmt(),expanding--,assignmentFound||(symbolsInExpressionsWithoutAssignments=symbolsInExpressionsWithoutAssignments.concat(symbolsLeftOfAssignment)),token_str-input_str)},scan_meta=function(e){return scanned=e,meta_mode=1,expanding++,input_str=0,scan_str=0,get_next_token(),""===token?(push(symbol(NIL)),expanding--,0):(scan_stmt(),expanding--,token_str-input_str)},scan_stmt=function(){var e,t,r,n,i,o,a,s,l;if(scan_relation(),e=!1,token===T_QUOTASSIGN&&(e=!0),(token===T_QUOTASSIGN||"="===token)&&(l=lastFoundSymbol,DEBUG&&console.log("assignment!"),assignmentFound=!0,isSymbolLeftOfAssignment=!1,get_next_token(),push_symbol(SETQ),swap(),e&&push_symbol(QUOTE),scan_relation(),e&&list(2),list(3),isSymbolLeftOfAssignment=!0,codeGen)){if(-1!==(n=symbolsRightOfAssignment.indexOf(l))&&(symbolsRightOfAssignment.splice(n,1),symbolsHavingReassignments.push(l)),DEBUG)for(console.log("locally, "+l+" depends on: "),i=0,o=symbolsRightOfAssignment.length;i<o;i++)r=symbolsRightOfAssignment[i],console.log("  "+r);for(null==symbolsDependencies[l]&&(symbolsDependencies[l]=[]),t=symbolsDependencies[l],s=0,a=symbolsRightOfAssignment.length;s<a;s++)r=symbolsRightOfAssignment[s],-1===t.indexOf(r)&&t.push(r);return symbolsRightOfAssignment=[]}},scan_relation=function(){switch(scan_expression(),token){case T_EQ:return push_symbol(TESTEQ),swap(),get_next_token(),scan_expression(),list(3);case T_NEQ:return push_symbol(NOT),swap(),push_symbol(TESTEQ),swap(),get_next_token(),scan_expression(),list(3),list(2);case T_LTEQ:return push_symbol(TESTLE),swap(),get_next_token(),scan_expression(),list(3);case T_GTEQ:return push_symbol(TESTGE),swap(),get_next_token(),scan_expression(),list(3);case"<":return push_symbol(TESTLT),swap(),get_next_token(),scan_expression(),list(3);case">":return push_symbol(TESTGT),swap(),get_next_token(),scan_expression(),list(3)}},scan_expression=function(){var e;switch(e=tos,token){case"+":get_next_token(),scan_term();break;case"-":get_next_token(),scan_term(),negate();break;default:scan_term()}for(;0===newline_flag&&("+"===token||"-"===token);)"+"===token?(get_next_token(),scan_term()):(get_next_token(),scan_term(),negate());if(tos-e>1)return list(tos-e),push_symbol(ADD),swap(),cons()},is_factor=function(){if(("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===dotprod_unicode)return 1;switch(token){case"*":case"/":return 1;case"(":case T_SYMBOL:case T_FUNCTION:case T_INTEGER:case T_DOUBLE:case T_STRING:return newline_flag?(scan_str=token_str,0):1}return 0},simplify_1_in_products=function(e,t){if(e>t&&isrational(stack[e-1])&&equaln(stack[e-1],1))return pop()},multiply_consecutive_constants=function(e,t){if(e>t+1&&isNumericAtom(stack[e-2])&&isNumericAtom(stack[e-1]))return multiply()},scan_term=function(){var e;for(e=tos,scan_factor(),parse_time_simplifications&&simplify_1_in_products(tos,e);is_factor();)"*"===token?(get_next_token(),scan_factor()):"/"===token?(simplify_1_in_products(tos,e),get_next_token(),scan_factor(),inverse()):("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===dotprod_unicode?(get_next_token(),push_symbol(INNER),swap(),scan_factor(),list(3)):scan_factor(),parse_time_simplifications&&(multiply_consecutive_constants(tos,e),simplify_1_in_products(tos,e));return e===tos?push_integer(1):tos-e>1?(list(tos-e),push_symbol(MULTIPLY),swap(),cons()):void 0},scan_power=function(){if("^"===token)return get_next_token(),push_symbol(POWER),swap(),scan_factor(),list(3)},scan_index=function(e){for(get_next_token(),push_symbol(INDEX),swap(),scan_expression();","===token;)get_next_token(),scan_expression();return"]"!==token&&scan_error("] expected"),get_next_token(),list(tos-e)},scan_factor=function(){var e,t;for(t=tos,e=!1,"("===token?scan_subexpr():token===T_SYMBOL?scan_symbol():token===T_FUNCTION?scan_function_call_with_function_name():"["===token?scan_tensor():token===T_INTEGER?(e=!0,bignum_scan_integer(token_buf),get_next_token()):token===T_DOUBLE?(e=!0,bignum_scan_float(token_buf),get_next_token()):token===T_STRING?scan_string():scan_error("syntax error");"["===token||"("===token&&0===newline_flag&&!e;)"["===token?scan_index(t):"("===token&&scan_function_call_without_function_name();for(;"!"===token;)get_next_token(),push_symbol(FACTORIAL),swap(),list(2);for(;("function"==typeof token.charCodeAt?token.charCodeAt(0):void 0)===transpose_unicode;)get_next_token(),push_symbol(TRANSPOSE),swap(),list(2);return scan_power()},addSymbolRightOfAssignment=function(e){var t,r,n,i;if(-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e)&&-1===symbolsRightOfAssignment.indexOf(e)&&-1===symbolsRightOfAssignment.indexOf("'"+e)&&!skipRootVariableToBeSolved){for(DEBUG&&console.log("... adding symbol: "+e+" to the set of the symbols right of assignment"),n="",t=r=1,i=functionInvokationsScanningStack.length;1<=i?r<i:r>i;t=1<=i?++r:--r)""!==functionInvokationsScanningStack[t]&&(n+=functionInvokationsScanningStack[t]+"_"+t+"_");return e=n+e,symbolsRightOfAssignment.push(e)}},addSymbolLeftOfAssignment=function(e){var t,r,n,i;if(-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e)&&-1===symbolsLeftOfAssignment.indexOf(e)&&-1===symbolsLeftOfAssignment.indexOf("'"+e)&&!skipRootVariableToBeSolved){for(DEBUG&&console.log("... adding symbol: "+e+" to the set of the symbols left of assignment"),n="",t=r=1,i=functionInvokationsScanningStack.length;1<=i?r<i:r>i;t=1<=i?++r:--r)""!==functionInvokationsScanningStack[t]&&(n+=functionInvokationsScanningStack[t]+"_"+t+"_");return e=n+e,symbolsLeftOfAssignment.push(e)}},scan_symbol=function(){if(token!==T_SYMBOL&&scan_error("symbol expected"),meta_mode&&1===token_buf.length)switch(token_buf[0]){case"a":push(symbol(METAA));break;case"b":push(symbol(METAB));break;case"x":push(symbol(METAX));break;default:push(usr_symbol(token_buf))}else push(usr_symbol(token_buf));return 0===scanningParameters.length?(DEBUG&&console.log("out of scanning parameters, processing "+token_buf),lastFoundSymbol=token_buf,isSymbolLeftOfAssignment&&addSymbolLeftOfAssignment(token_buf)):(DEBUG&&console.log("still scanning parameters, skipping "+token_buf),isSymbolLeftOfAssignment&&addSymbolRightOfAssignment("'"+token_buf)),DEBUG&&console.log("found symbol: "+token_buf+" left of assignment: "+isSymbolLeftOfAssignment),isSymbolLeftOfAssignment||addSymbolRightOfAssignment(token_buf),get_next_token()},scan_string=function(){return push(new_string(token_buf)),get_next_token()},scan_function_call_with_function_name=function(){var e,t,r,n,i,o;if(DEBUG&&console.log("-- scan_function_call_with_function_name start"),n=1,new U,i=usr_symbol(token_buf),push(i),"roots"!==(e=token_buf)&&"defint"!==e&&"sum"!==e&&"product"!==e&&"for"!==e||functionInvokationsScanningStack.push(token_buf),lastFoundSymbol=token_buf,isSymbolLeftOfAssignment||addSymbolRightOfAssignment(token_buf),get_next_token(),get_next_token(),scanningParameters.push(!0),")"!==token){for(scan_stmt(),n++;","===token;)get_next_token(),2===n&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("roots")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===n&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("sum")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("sum_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===n&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("product")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("product_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),2===n&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("for")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("for_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("defint")&&(2===n||n>2&&(n-2)%3==0)&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("defint_"+(functionInvokationsScanningStack.length-1)+"_"+token_buf).test(e)})),skipRootVariableToBeSolved=!0),scan_stmt(),skipRootVariableToBeSolved=!1,n++;2===n&&-1!==functionInvokationsScanningStack[functionInvokationsScanningStack.length-1].indexOf("roots")&&(symbolsRightOfAssignment=symbolsRightOfAssignment.filter((function(e){return!new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_x").test(e)})))}for(scanningParameters.pop(),t=r=0,o=symbolsRightOfAssignment.length;0<=o?r<=o:r>=o;t=0<=o?++r:--r)null!=symbolsRightOfAssignment[t]&&("roots"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("roots_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"defint"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("defint_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"sum"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("sum_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"product"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("product_"+(functionInvokationsScanningStack.length-1)+"_"),"")),"for"===e&&(symbolsRightOfAssignment[t]=symbolsRightOfAssignment[t].replace(new RegExp("for_"+(functionInvokationsScanningStack.length-1)+"_"),"")));if(")"!==token&&scan_error(") expected"),get_next_token(),list(n),"roots"!==e&&"defint"!==e&&"sum"!==e&&"product"!==e&&"for"!==e||functionInvokationsScanningStack.pop(),e===symbol(PATTERN).printname&&(patternHasBeenFound=!0),DEBUG)return console.log("-- scan_function_call_with_function_name end")},scan_function_call_without_function_name=function(){var e;if(DEBUG&&console.log("-- scan_function_call_without_function_name start"),push_symbol(EVAL),swap(),list(2),e=1,get_next_token(),scanningParameters.push(!0),")"!==token)for(scan_stmt(),e++;","===token;)get_next_token(),scan_stmt(),e++;if(scanningParameters.pop(),")"!==token&&scan_error(") expected"),get_next_token(),list(e),DEBUG)return console.log("-- scan_function_call_without_function_name end: "+stack[tos-1])},scan_subexpr=function(){return 0,"("!==token&&scan_error("( expected"),get_next_token(),scan_stmt(),")"!==token&&scan_error(") expected"),get_next_token()},scan_tensor=function(){var e;for(e=0,"["!==token&&scan_error("[ expected"),get_next_token(),scan_stmt(),e=1;","===token;)get_next_token(),scan_stmt(),e++;return build_tensor(e),"]"!==token&&scan_error("] expected"),get_next_token()},scan_error=function(e){for(errorMessage="";input_str!==scan_str&&("\n"!==scanned[input_str]&&"\r"!==scanned[input_str]||input_str+1!==scan_str);)errorMessage+=scanned[input_str++];for(errorMessage+=" ? ";scanned[input_str]&&"\n"!==scanned[input_str]&&"\r"!==scanned[input_str];)errorMessage+=scanned[input_str++];return errorMessage+="\n",stop(e)},build_tensor=function(e){var t,r,n;for(t=0,save(),(p2=alloc_tensor(e)).tensor.ndim=1,p2.tensor.dim[0]=e,t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)p2.tensor.elem[t]=stack[tos-e+t];return check_tensor_dimensions(p2),moveTos(tos-e),push(p2),restore()},get_next_token=function(){for(newline_flag=0;get_token(),token===T_NEWLINE;)newline_flag=1;if(DEBUG)return console.log("get_next_token token: "+token)},get_token=function(){for(;isspace(scanned[scan_str]);){if("\n"===scanned[scan_str]||"\r"===scanned[scan_str])return token=T_NEWLINE,void scan_str++;scan_str++}if(token_str=scan_str,scan_str!==scanned.length){if(!isdigit(scanned[scan_str])&&"."!==scanned[scan_str]){if(isalpha(scanned[scan_str])){for(;isalnumorunderscore(scanned[scan_str]);)scan_str++;return token="("===scanned[scan_str]?T_FUNCTION:T_SYMBOL,void update_token_buf(token_str,scan_str)}if('"'===scanned[scan_str]){for(scan_str++;'"'!==scanned[scan_str];)scan_str===scanned.length-1&&(scan_str++,scan_error("runaway string"),scan_str--),scan_str++;return scan_str++,token=T_STRING,void update_token_buf(token_str+1,scan_str-1)}if("#"===scanned[scan_str]||"-"===scanned[scan_str]&&"-"===scanned[scan_str+1]){for(;scanned[scan_str]&&"\n"!==scanned[scan_str]&&"\r"!==scanned[scan_str];)scan_str++;return scanned[scan_str]&&scan_str++,void(token=T_NEWLINE)}return":"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_QUOTASSIGN)):"="===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_EQ)):"!"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_NEQ)):"<"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_LTEQ)):">"===scanned[scan_str]&&"="===scanned[scan_str+1]?(scan_str+=2,void(token=T_GTEQ)):token=scanned[scan_str++]}for(;isdigit(scanned[scan_str]);)scan_str++;if("."===scanned[scan_str]){for(scan_str++;isdigit(scanned[scan_str]);)scan_str++;if("e"===scanned[scan_str]&&("+"===scanned[scan_str+1]||"-"===scanned[scan_str+1]||isdigit(scanned[scan_str+1])))for(scan_str+=2;isdigit(scanned[scan_str]);)scan_str++;token=T_DOUBLE}else token=T_INTEGER;update_token_buf(token_str,scan_str)}else token=""},update_token_buf=function(e,t){return token_buf=scanned.substring(e,t)},$.scan=scan,Eval_sgn=function(){return push(cadr(p1)),Eval(),sgn()},sgn=function(){return save(),yysgn(),restore()},yysgn=function(){return p1=pop(),isdouble(p1)?p1.d>0||0===p1.d?void push_integer(1):void push_integer(-1):isrational(p1)?-1===MSIGN(mmul(p1.q.a,p1.q.b))?void push_integer(-1):MZERO(mmul(p1.q.a,p1.q.b))?void push_integer(0):void push_integer(1):iscomplexnumber(p1)?(push_integer(-1),push(p1),absval(),power(),push(p1),void multiply()):isnegativeterm(p1)?(push_symbol(SGN),push(p1),negate(),list(2),push_integer(-1),void multiply()):(push_symbol(SGN),push(p1),list(2))},Eval_shape=function(){return push(cadr(p1)),Eval(),shape()},shape=function(){var e,t,r,n,i,o,a,s;for(r=0,0,0,e=[],t=[],r=n=0,a=MAXDIM;0<=a?n<a:n>a;r=0<=a?++n:--n)e[r]=0,t[r]=0;if(save(),p1=pop(),!istensor(p1))return isZeroAtomOrTensor(p1)||stop("transpose: tensor expected, 1st arg is not a tensor"),push(zero),void restore();for(o=p1.tensor.ndim,(p2=alloc_tensor(o)).tensor.ndim=1,p2.tensor.dim[0]=o,r=i=0,s=o;0<=s?i<s:i>s;r=0<=s?++i:--i)push_integer(p1.tensor.dim[r]),p2.tensor.elem[r]=pop();return push(p2),restore()},Eval_simfac=function(){return push(cadr(p1)),Eval(),simfac()},simfac=function(){var e;if(e=0,save(),p1=pop(),car(p1)===symbol(ADD)){for(e=tos,p1=cdr(p1);p1!==symbol(NIL);)push(car(p1)),simfac_term(),p1=cdr(p1);add_all(tos-e)}else push(p1),simfac_term();return restore()},simfac_term=function(){var e;if(0,save(),p1=pop(),car(p1)!==symbol(MULTIPLY))return push(p1),void restore();for(e=tos,p1=cdr(p1);p1!==symbol(NIL);)push(car(p1)),p1=cdr(p1);for(;yysimfac(e);)1;return multiply_all_noexpand(tos-e),restore()},yysimfac=function(e){var t,r,n,i,o,a,s,l;for(t=0,r=0,t=n=o=e,a=tos;o<=a?n<a:n>a;t=o<=a?++n:--n)for(p1=stack[t],r=i=s=e,l=tos;s<=l?i<l:i>l;r=s<=l?++i:--i)if(t!==r){if(p2=stack[r],car(p1)===symbol(FACTORIAL)&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&equal(cadr(p1),cadr(p2)))return push(cadr(p1)),push(one),subtract(),factorial(),stack[t]=pop(),stack[r]=one,1;if(car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)&&equal(p1,cadadr(p2)))return push(p1),push_integer(-1),add(),factorial(),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(car(p2)===symbol(FACTORIAL)&&(push(p1),push(cadr(p2)),subtract(),p3=pop(),isplusone(p3)))return push(p1),factorial(),stack[t]=pop(),stack[r]=one,1;if(car(p1)===symbol(POWER)&&isminusone(caddr(p1))&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)&&(push(cadr(p1)),push(cadr(cadr(p2))),subtract(),p3=pop(),isplusone(p3)))return push(cadr(p1)),factorial(),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(car(p1)===symbol(FACTORIAL)&&car(p2)===symbol(POWER)&&isminusone(caddr(p2))&&caadr(p2)===symbol(FACTORIAL)){if(push(cadr(p1)),push(cadr(cadr(p2))),subtract(),p3=pop(),isplusone(p3))return stack[t]=cadr(p1),stack[r]=one,1;if(isminusone(p3))return push(cadr(cadr(p2))),reciprocate(),stack[t]=pop(),stack[r]=one,1;if(equaln(p3,2))return stack[t]=cadr(p1),push(cadr(p1)),push_integer(-1),add(),stack[r]=pop(),1;if(equaln(p3,-2))return push(cadr(cadr(p2))),reciprocate(),stack[t]=pop(),push(cadr(cadr(p2))),push_integer(-1),add(),reciprocate(),stack[r]=pop(),1}}return 0},DEBUG_SIMPLIFY=!1,Eval_simplify=function(){return push(cadr(p1)),runUserDefinedSimplifications(),Eval(),simplify()},runUserDefinedSimplifications=function(){var e,t,r,n,i,o,a,s,l,u;if(0!==userSimplificationsInListForm.length&&!Find(cadr(p1),symbol(INTEGRAL))){for(l=expanding,expanding=!1,DEBUG_SIMPLIFY&&console.log("runUserDefinedSimplifications passed: "+stack[tos-1].toString()),Eval(),DEBUG_SIMPLIFY&&console.log("runUserDefinedSimplifications after eval no expanding: "+stack[tos-1].toString()),expanding=l,p1=stack[tos-1],DEBUG_SIMPLIFY&&console.log("patterns to be checked: "),n=0,i=userSimplificationsInListForm.length;n<i;n++)r=userSimplificationsInListForm[n],DEBUG_SIMPLIFY&&console.log("..."+r);for(e=!0,s=0;e&&s<MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES;)for(e=!1,s++,a=0,o=userSimplificationsInListForm.length;a<o;a++){for(r=userSimplificationsInListForm[a],u=!0,t=0;u&&t<MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE;)t++,DEBUG_SIMPLIFY&&console.log("simplify - tos: "+tos+" checking pattern: "+r+" on: "+p1),push_symbol(NIL),(u=transform(r,!0))&&(e=!0),p1=stack[tos-1],DEBUG_SIMPLIFY&&console.log("p1 at this stage of simplification: "+p1);t===MAX_CONSECUTIVE_APPLICATIONS_OF_SINGLE_RULE&&stop("maximum application of single transformation rule exceeded: "+r)}if(s===MAX_CONSECUTIVE_APPLICATIONS_OF_ALL_RULES&&stop("maximum application of all transformation rules exceeded "),DEBUG_SIMPLIFY&&console.log("METAX = "+get_binding(symbol(METAX))),DEBUG_SIMPLIFY&&console.log("METAA = "+get_binding(symbol(METAA))),DEBUG_SIMPLIFY)return console.log("METAB = "+get_binding(symbol(METAB)))}},simplifyForCodeGeneration=function(){return save(),runUserDefinedSimplifications(),codeGen=!0,simplify_main(),codeGen=!1,restore()},simplify=function(){return save(),simplify_main(),restore()},simplify_main=function(){var args,fbody;if(p1=pop(),codeGen&&car(p1)===symbol(FUNCTION)&&(fbody=cadr(p1),push(fbody),eval(),simplify(),p3=pop(),args=caddr(p1),push_symbol(FUNCTION),push(p3),push(args),list(3),p1=pop()),!istensor(p1))return Find(p1,symbol(FACTORIAL))&&(push(p1),simfac(),p2=pop(),push(p1),rationalize(),simfac(),p3=pop(),p1=count(p2)<count(p3)?p2:p3),f10(),DEBUG_SIMPLIFY&&console.log("f10: "+p1.toString()),f1(),DEBUG_SIMPLIFY&&console.log("f1: "+p1.toString()),f2(),DEBUG_SIMPLIFY&&console.log("f2: "+p1.toString()),f3(),DEBUG_SIMPLIFY&&console.log("f3: "+p1.toString()),f4(),DEBUG_SIMPLIFY&&console.log("f4: "+p1.toString()),f5(),DEBUG_SIMPLIFY&&console.log("f5: "+p1.toString()),f9(),DEBUG_SIMPLIFY&&console.log("f9: "+p1.toString()),simplify_polarRect(),do_simplify_nested_radicals&&simplify_nested_radicals()?(DEBUG_SIMPLIFY&&console.log("de-nesting successful into: "+p1.toString()),push(p1),void simplify()):(simplify_rectToClock(),simplify_rational_expressions(),push(p1));simplify_tensor()},simplify_tensor=function(){var e,t,r,n,i;for(e=0,(p2=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=t=0,n=p1.tensor.ndim;0<=n?t<n:t>n;e=0<=n?++t:--t)p2.tensor.dim[e]=p1.tensor.dim[e];for(e=r=0,i=p1.tensor.nelem;0<=i?r<i:r>i;e=0<=i?++r:--r)push(p1.tensor.elem[e]),simplify(),p2.tensor.elem[e]=pop();return check_tensor_dimensions(p2),isZeroAtomOrTensor(p2)&&(p2=zero),push(p2)},f1=function(){if(car(p1)===symbol(ADD))return push(p1),rationalize(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},f2=function(){if(car(p1)===symbol(ADD))return push(p1),Condense(),p2=pop(),count(p2)<=count(p1)?p1=p2:void 0},f3=function(){if(push(p1),rationalize(),negate(),rationalize(),negate(),rationalize(),p2=pop(),count(p2)<count(p1))return p1=p2},f10=function(){var e,t,r,n;if(r=car(p1),cdr(p1),(r===symbol(MULTIPLY)||isinnerordot(p1))&&car(car(cdr(p1)))===symbol(TRANSPOSE)&&car(car(cdr(cdr(p1))))===symbol(TRANSPOSE)&&(DEBUG_SIMPLIFY&&console.log("maybe collecting a transpose "+p1),e=cadr(car(cdr(p1))),t=cadr(car(cdr(cdr(p1)))),r===symbol(MULTIPLY)?(push(e),push(t),multiply()):isinnerordot(p1)&&(push(t),push(e),inner()),push_integer(1),push_integer(2),n=expanding,expanding=!1,transpose(),expanding=n,p2=pop(),count(p2)<count(p1)&&(p1=p2),DEBUG_SIMPLIFY))return console.log("collecting a transpose "+p2)},f4=function(){if(!isZeroAtomOrTensor(p1))return push(p1),rationalize(),inverse(),rationalize(),inverse(),rationalize(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},simplify_trig=function(){return save(),p1=pop(),f5(),push(p1),restore()},f5=function(){if(0!==Find(p1,symbol(SIN))||0!==Find(p1,symbol(COS)))return trigmode=1,push(p2=p1),Eval(),p3=pop(),trigmode=2,push(p2),Eval(),p4=pop(),trigmode=0,(count(p4)<count(p3)||nterms(p4)<nterms(p3))&&(p3=p4),count(p3)<count(p1)||nterms(p3)<nterms(p1)?p1=p3:void 0},f9=function(){var e,t;if(car(p1)===symbol(ADD)){for(push_integer(0),p2=cdr(p1);iscons(p2);)push(car(p2)),simplify(),add(),e=p1,t=p2,p1=pop(),simplify_rational_expressions(),push(p1),p1=e,p2=cdr(p2=t);return p2=pop(),count(p2)<count(p1)?p1=p2:void 0}},simplify_rational_expressions=function(){var e,t,r,n;if(push(p1),denominator(),e=pop(),!isone(e)&&(push(p1),numerator(),t=pop(),!isone(t)&&(r=areunivarpolysfactoredorexpandedform(t,e))&&(push(t),push(e),gcd(),push(r),factor(),n=pop(),!isone(n))))return push(t),push(r),factor(),push(n),inverse(),multiply_noexpand(),simplify(),stack[tos-1].toString(),push(e),push(r),factor(),push(n),inverse(),multiply_noexpand(),simplify(),stack[tos-1].toString(),divide(),Condense(),stack[tos-1].toString(),p2=pop(),count(p2)<count(p1)?p1=p2:void 0},simplify_rectToClock=function(){if(0!==Find(p1,symbol(SIN))||0!==Find(p1,symbol(COS)))return push(p1),Eval(),clockform(),p2=pop(),DEBUG_SIMPLIFY&&console.log("before simplification clockform: "+p1+" after: "+p2),count(p2)<count(p1)?p1=p2:void 0},simplify_polarRect=function(){if(push(p1),polarRectAMinusOneBase(),Eval(),p2=pop(),count(p2)<count(p1))return p1=p2},polarRectAMinusOneBase=function(){var e;if(save(),p1=pop(),isimaginaryunit(p1))return push(p1),void restore();if(equal(car(p1),symbol(POWER))&&isminusone(cadr(p1)))push(one),negate(),push(caddr(p1)),polarRectAMinusOneBase(),power(),polar(),rect();else if(iscons(p1)){for(e=tos;iscons(p1);)push(car(p1)),polarRectAMinusOneBase(),p1=cdr(p1);list(tos-e)}else push(p1);restore()},nterms=function(e){return car(e)!==symbol(ADD)?1:length(e)-1},simplify_nested_radicals=function(){var e,t,r,n;return recursionLevelNestedRadicalsRemoval>0?(DEBUG_SIMPLIFY&&console.log("denesting bailing out because of too much recursion"),!1):(push(p1),n=take_care_of_nested_radicals(),r=stack[tos-1],e=expanding,expanding=0,yycondense(),expanding=e,t=pop(),countOccurrencesOfSymbol(symbol(POWER),r)<countOccurrencesOfSymbol(symbol(POWER),t)?push(r):push(t),p1=pop(),n)},take_care_of_nested_radicals=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I,R,D,L,q,B;if(recursionLevelNestedRadicalsRemoval>0)return DEBUG_SIMPLIFY&&console.log("denesting bailing out because of too much recursion"),!1;if(save(),p1=pop(),equal(car(p1),symbol(POWER))){if(o=cadr(p1),p=caddr(p1),!isminusone(p)&&equal(car(o),symbol(ADD))&&isfraction(p)&&(equalq(p,1,3)||equalq(p,1,2))){for(h=cadr(o),push(h),take_care_of_nested_radicals(),pop(),L=caddr(o),push(L),take_care_of_nested_radicals(),pop(),N=0,u=o;cdr(u)!==symbol(NIL);)N++,u=cdr(u);if(N>2)return push(p1),restore(),!1;if(l=null,s=[],B=[],car(L)===symbol(MULTIPLY)){if(q=cdr(L),iscons(q))for(;iscons(q);)I=car(q),car(I)===symbol(POWER)?(m=cadr(I),g=caddr(I),equalq(g,1,2)&&(null==l?(l=g,s.push(m)):equal(g,l)&&s.push(m))):B.push(I),q=cdr(q)}else car(L)===symbol(POWER)&&(m=cadr(L),g=caddr(L),null==l&&equalq(g,1,2)&&(l=g,s.push(m)));if(0===s.length)return push(p1),restore(),!1;for(e=h,push_integer(1),y=0,v=s.length;y<v;y++)d=s[y],push(d),multiply();for(r=pop(),push_integer(1),M=0,x=B.length;M<x;M++)d=B[M],push(d),multiply();if(t=pop(),equalq(p,1,3)){if(push(e),negate(),push(r),multiply(),push(t),divide(),a=pop(),push(a),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return push(p1),restore(),!1;if(push(a),push_integer(3),push(r),multiply(),a=pop(),push(a),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),push(p1),restore(),!1;if(push(a),push(symbol(SECRETX)),multiply(),push_integer(-3),push(e),multiply(),push(t),divide(),a=pop(),push(a),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),pop(),push(p1),restore(),!1;push(a),push(symbol(SECRETX)),push_integer(2),power(),multiply(),push_integer(1),push(symbol(SECRETX)),push_integer(3),power(),multiply(),add(),add(),add()}else if(equalq(p,1,2)){if(push(r),a=pop(),push(a),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return push(p1),restore(),!1;if(push(a),push_integer(-2),push(e),multiply(),push(t),divide(),a=pop(),push(a),real(),yyfloat(),Math.abs(pop().d)>Math.pow(2,32))return pop(),push(p1),restore(),!1;push(a),push(symbol(SECRETX)),multiply(),push_integer(1),push(symbol(SECRETX)),push_integer(2),power(),multiply(),add(),add()}if(push(symbol(SECRETX)),recursionLevelNestedRadicalsRemoval++,roots(),recursionLevelNestedRadicalsRemoval--,equal(stack[tos-1],symbol(NIL)))return DEBUG_SIMPLIFY&&console.log("roots bailed out because of too much recursion"),pop(),push(p1),restore(),!1;for(C=[],S=0,b=(D=stack[tos-1].tensor.elem).length;S<b;S++)c=D[S],Find(c,symbol(POWER))||C.push(c);if(pop(),0===C.length)return push(p1),restore(),!1;for(O=[],R=[],k=0,_=C.length;k<_;k++)d=C[k],push(d),real(),yyfloat(),O.push(d),R.push(pop().d);return n=O[R.indexOf(Math.max.apply(Math,R))],equalq(p,1,3)?(push(e),push(n),push_integer(3),power(),push_integer(3),push(r),multiply(),push(n),multiply(),add(),divide(),push_rational(1,3),power()):equalq(p,1,2)&&(push(e),push(n),push_integer(2),power(),push(r),add(),divide(),push_rational(1,2),power()),null==(E=pop())?(push(p1),restore(),!1):(push(E),push(n),multiply(),equalq(p,1,3)?(w=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(w),add(),simplify()):equalq(p,1,2)&&(w=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(w),add(),simplify(),A=pop(),push(A),real(),yyfloat(),T=pop(),isnegativenumber(T)?(push(E),negate(),E=pop(),push(w),negate(),w=pop(),push(E),push(r),push_rational(1,2),power(),multiply(),push(w),add(),simplify()):push(A)),p1=pop(),push(p1),restore(),!0)}return push(p1),restore(),!1}if(iscons(p1)){for(f=tos,i=!1;iscons(p1);)push(car(p1)),i=i||take_care_of_nested_radicals(),p1=cdr(p1);return list(tos-f),restore(),i}return push(p1),restore(),!1},Eval_sin=function(){return push(cadr(p1)),Eval(),sine()},sine=function(){return save(),p1=pop(),car(p1)===symbol(ADD)?sine_of_angle_sum():sine_of_angle(),restore()},sine_of_angle_sum=function(){for(p2=cdr(p1);iscons(p2);){if(p4=car(p2),isnpi(p4))return push(p1),push(p4),subtract(),p3=pop(),push(p3),sine(),push(p4),cosine(),multiply(),push(p3),cosine(),push(p4),sine(),multiply(),void add();p2=cdr(p2)}return sine_of_angle()},sine_of_angle=function(){var e,t;if(car(p1)!==symbol(ARCSIN)){if(isdouble(p1))return e=Math.sin(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1))return push(p1),negate(),sine(),void negate();if(car(p1)===symbol(ARCTAN))return push(cadr(p1)),push_integer(1),push(cadr(p1)),push_integer(2),power(),add(),push_rational(-1,2),power(),void multiply();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(SIN)),push(p1),void list(2);switch(t%360){case 0:case 180:return push_integer(0);case 30:case 150:return push_rational(1,2);case 210:case 330:return push_rational(-1,2);case 45:case 135:return push_rational(1,2),push_integer(2),push_rational(1,2),power(),multiply();case 225:case 315:return push_rational(-1,2),push_integer(2),push_rational(1,2),power(),multiply();case 60:case 120:return push_rational(1,2),push_integer(3),push_rational(1,2),power(),multiply();case 240:case 300:return push_rational(-1,2),push_integer(3),push_rational(1,2),power(),multiply();case 90:return push_integer(1);case 270:return push_integer(-1);default:return push(symbol(SIN)),push(p1),list(2)}}else push(cadr(p1))},Eval_sinh=function(){return push(cadr(p1)),Eval(),ysinh()},ysinh=function(){return save(),yysinh(),restore()},yysinh=function(){var e;if(e=0,p1=pop(),car(p1)!==symbol(ARCSINH)){if(isdouble(p1))return e=Math.sinh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(SINH),push(p1),list(2);push(zero)}else push(cadr(p1))},subst=function(){var e,t,r,n,i,o,a,s,l;if(save(),i=pop(),(a=pop())!==symbol(NIL)&&i!==symbol(NIL)){if(e=pop(),istensor(e)){for((o=alloc_tensor(e.tensor.nelem)).tensor.ndim=e.tensor.ndim,t=r=0,s=e.tensor.ndim;0<=s?r<s:r>s;t=0<=s?++r:--r)o.tensor.dim[t]=e.tensor.dim[t];for(t=n=0,l=e.tensor.nelem;0<=l?n<l:n>l;t=0<=l?++n:--n)push(e.tensor.elem[t]),push(a),push(i),subst(),o.tensor.elem[t]=pop(),check_tensor_dimensions(o);push(o)}else equal(e,a)?push(i):iscons(e)?(push(car(e)),push(a),push(i),subst(),push(cdr(e)),push(a),push(i),subst(),cons()):push(e);return restore()}restore()},Eval_sum=function(){var e,t,r,n,i,o,a,s;if(t=0,0,0,e=cadr(p1),r=caddr(p1),issymbol(r)||stop("sum: 2nd arg?"),push(cadddr(p1)),Eval(),n=pop_integer(),isNaN(n))push(p1);else{if(push(caddddr(p1)),Eval(),i=pop_integer(),!isNaN(i)){for(p4=get_binding(r),push_integer(0),t=o=a=n,s=i;a<=s?o<=s:o>=s;t=a<=s?++o:--o)push_integer(t),p5=pop(),set_binding(r,p5),push(e),Eval(),add();return set_binding(r,p4)}push(p1)}},Eval_tan=function(){return push(cadr(p1)),Eval(),tangent()},tangent=function(){return save(),yytangent(),restore()},yytangent=function(){var e,t;if(0,e=0,p1=pop(),car(p1)!==symbol(ARCTAN)){if(isdouble(p1))return e=Math.tan(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(isnegative(p1))return push(p1),negate(),tangent(),void negate();if(push(p1),push_integer(180),multiply(),evaluatingAsFloats?push_double(Math.PI):push_symbol(PI),divide(),(t=pop_integer())<0||isNaN(t))return push(symbol(TAN)),push(p1),void list(2);switch(t%360){case 0:case 180:return push_integer(0);case 30:case 210:return push_rational(1,3),push_integer(3),push_rational(1,2),power(),multiply();case 150:case 330:return push_rational(-1,3),push_integer(3),push_rational(1,2),power(),multiply();case 45:case 225:return push_integer(1);case 135:case 315:return push_integer(-1);case 60:case 240:return push_integer(3),push_rational(1,2),power();case 120:case 300:return push_integer(3),push_rational(1,2),power(),negate();default:return push(symbol(TAN)),push(p1),list(2)}}else push(cadr(p1))},Eval_tanh=function(){var e;if(e=0,push(cadr(p1)),Eval(),p1=pop(),car(p1)!==symbol(ARCTANH)){if(isdouble(p1))return e=Math.tanh(p1.d),Math.abs(e)<1e-10&&(e=0),void push_double(e);if(!isZeroAtomOrTensor(p1))return push_symbol(TANH),push(p1),list(2);push(zero)}else push(cadr(p1))},Eval_taylor=function(){return p1=cdr(p1),push(car(p1)),Eval(),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?guess():push(p2),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(24):push(p2),p1=cdr(p1),push(car(p1)),Eval(),(p2=pop())===symbol(NIL)?push_integer(0):push(p2),taylor()},taylor=function(){var e,t,r,n;if(e=0,0,save(),p4=pop(),p3=pop(),p2=pop(),p1=pop(),push(p3),t=pop_integer(),isNaN(t))return push_symbol(TAYLOR),push(p1),push(p2),push(p3),push(p4),list(5),void restore();for(push(p1),push(p2),push(p4),subst(),Eval(),push_integer(1),p5=pop(),e=r=1,n=t;(1<=n?r<=n:r>=n)&&(push(p1),push(p2),derivative(),p1=pop(),!isZeroAtomOrTensor(p1));e=1<=n?++r:--r)push(p5),push(p2),push(p4),subtract(),multiply(),p5=pop(),push(p1),push(p2),push(p4),subst(),Eval(),push(p5),multiply(),push_integer(e),factorial(),divide(),add();return restore()},Eval_tensor=function(){var e,t,r,n,i,o,a,s,l;for(r=0,0,0,check_tensor_dimensions(p1),a=p1.tensor.nelem,o=p1.tensor.ndim,(p2=alloc_tensor(a)).tensor.ndim=o,r=n=0,s=o;0<=s?n<s:n>s;r=0<=s?++n:--n)p2.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p2.tensor.elem,check_tensor_dimensions(p2),r=i=0,l=a;0<=l?i<l:i>l;r=0<=l?++i:--i)push(e[r]),Eval(),t[r]=pop();return check_tensor_dimensions(p1),check_tensor_dimensions(p2),push(p2),promote_tensor()},tensor_plus_tensor=function(){var e,t,r,n,i,o,a,s,l,u,c,p;if(n=0,0,0,save(),p2=pop(),(s=(p1=pop()).tensor.ndim)!==p2.tensor.ndim)return push(symbol(NIL)),void restore();for(n=i=0,u=s;0<=u?i<u:i>u;n=0<=u?++i:--i)if(p1.tensor.dim[n]!==p2.tensor.dim[n])return push(symbol(NIL)),void restore();for(l=p1.tensor.nelem,(p3=alloc_tensor(l)).tensor.ndim=s,n=o=0,c=s;0<=c?o<c:o>c;n=0<=c?++o:--o)p3.tensor.dim[n]=p1.tensor.dim[n];for(e=p1.tensor.elem,t=p2.tensor.elem,r=p3.tensor.elem,n=a=0,p=l;0<=p?a<p:a>p;n=0<=p?++a:--a)push(e[n]),push(t[n]),add(),r[n]=pop();return push(p3),restore()},tensor_times_scalar=function(){var e,t,r,n,i,o,a,s,l;for(r=0,0,0,save(),p2=pop(),o=(p1=pop()).tensor.ndim,a=p1.tensor.nelem,(p3=alloc_tensor(a)).tensor.ndim=o,r=n=0,s=o;0<=s?n<s:n>s;r=0<=s?++n:--n)p3.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p3.tensor.elem,r=i=0,l=a;0<=l?i<l:i>l;r=0<=l?++i:--i)push(e[r]),push(p2),multiply(),t[r]=pop();return push(p3),restore()},scalar_times_tensor=function(){var e,t,r,n,i,o,a,s,l;for(r=0,0,0,save(),p2=pop(),p1=pop(),o=p2.tensor.ndim,a=p2.tensor.nelem,(p3=alloc_tensor(a)).tensor.ndim=o,r=n=0,s=o;0<=s?n<s:n>s;r=0<=s?++n:--n)p3.tensor.dim[r]=p2.tensor.dim[r];for(e=p2.tensor.elem,t=p3.tensor.elem,r=i=0,l=a;0<=l?i<l:i>l;r=0<=l?++i:--i)push(p1),push(e[r]),multiply(),t[r]=pop();return push(p3),restore()},check_tensor_dimensions=function(e){e.tensor.nelem!==e.tensor.elem.length&&console.log("something wrong in tensor dimensions")},is_square_matrix=function(e){return istensor(e)&&2===e.tensor.ndim&&e.tensor.dim[0]===e.tensor.dim[1]?1:0},d_tensor_tensor=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h;if(n=0,i=0,0,0,l=p1.tensor.ndim,u=p1.tensor.nelem,l+1>=MAXDIM)return push_symbol(DERIVATIVE),push(p1),push(p2),void list(3);for((p3=alloc_tensor(u*p2.tensor.nelem)).tensor.ndim=l+1,n=o=0,c=l;0<=c?o<c:o>c;n=0<=c?++o:--o)p3.tensor.dim[n]=p1.tensor.dim[n];for(p3.tensor.dim[l]=p2.tensor.dim[0],e=p1.tensor.elem,t=p2.tensor.elem,r=p3.tensor.elem,n=a=0,p=u;0<=p?a<p:a>p;n=0<=p?++a:--a)for(i=s=0,h=p2.tensor.nelem;0<=h?s<h:s>h;i=0<=h?++s:--s)push(e[n]),push(t[i]),derivative(),r[n*p2.tensor.nelem+i]=pop();return push(p3)},d_scalar_tensor=function(){var e,t,r,n,i;for((p3=alloc_tensor(p2.tensor.nelem)).tensor.ndim=1,p3.tensor.dim[0]=p2.tensor.dim[0],e=p2.tensor.elem,t=p3.tensor.elem,r=n=0,i=p2.tensor.nelem;0<=i?n<i:n>i;r=0<=i?++n:--n)push(p1),push(e[r]),derivative(),t[r]=pop();return push(p3)},d_tensor_scalar=function(){var e,t,r,n,i,o,a;for(r=0,(p3=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,r=n=0,o=p1.tensor.ndim;0<=o?n<o:n>o;r=0<=o?++n:--n)p3.tensor.dim[r]=p1.tensor.dim[r];for(e=p1.tensor.elem,t=p3.tensor.elem,r=i=0,a=p1.tensor.nelem;0<=a?i<a:i>a;r=0<=a?++i:--i)push(e[r]),push(p2),derivative(),t[r]=pop();return push(p3)},compare_tensors=function(e,t){var r,n,i,o,a;if(r=0,e.tensor.ndim<t.tensor.ndim)return-1;if(e.tensor.ndim>t.tensor.ndim)return 1;for(r=n=0,o=e.tensor.ndim;0<=o?n<o:n>o;r=0<=o?++n:--n){if(e.tensor.dim[r]<t.tensor.dim[r])return-1;if(e.tensor.dim[r]>t.tensor.dim[r])return 1}for(r=i=0,a=e.tensor.nelem;0<=a?i<a:i>a;r=0<=a?++i:--i)if(!equal(e.tensor.elem[r],t.tensor.elem[r]))return lessp(e.tensor.elem[r],t.tensor.elem[r])?-1:1;return 0},power_tensor=function(){var e,t,r,n,i,o,a,s;if(e=0,0,i=0,t=p1.tensor.ndim-1,p1.tensor.dim[0]!==p1.tensor.dim[t])return push_symbol(POWER),push(p1),push(p2),void list(3);if(push(p2),i=pop_integer(),isNaN(i))return push_symbol(POWER),push(p1),push(p2),void list(3);if(0===i){for(2!==p1.tensor.ndim&&stop("power(tensor,0) with tensor rank not equal to 2"),i=p1.tensor.dim[0],(p1=alloc_tensor(i*i)).tensor.ndim=2,p1.tensor.dim[0]=i,p1.tensor.dim[1]=i,e=r=0,o=i;0<=o?r<o:r>o;e=0<=o?++r:--r)p1.tensor.elem[i*e+e]=one;return check_tensor_dimensions(p1),void push(p1)}for(i<0&&(i=-i,push(p1),inv(),p1=pop()),push(p1),s=[],e=n=1,a=i;(1<=a?n<a:n>a)&&(push(p1),inner(),!isZeroAtomOrTensor(stack[tos-1]));e=1<=a?++n:--n)s.push(void 0);return s},copy_tensor=function(){var e,t,r,n,i;for(e=0,save(),p1=pop(),(p2=alloc_tensor(p1.tensor.nelem)).tensor.ndim=p1.tensor.ndim,e=t=0,n=p1.tensor.ndim;0<=n?t<n:t>n;e=0<=n?++t:--t)p2.tensor.dim[e]=p1.tensor.dim[e];for(e=r=0,i=p1.tensor.nelem;0<=i?r<i:r>i;e=0<=i?++r:--r)p2.tensor.elem[e]=p1.tensor.elem[e];return check_tensor_dimensions(p1),check_tensor_dimensions(p2),push(p2),restore()},promote_tensor=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d;if(e=0,t=0,r=0,0,0,save(),p1=pop(),!istensor(p1))return push(p1),void restore();for(p2=p1.tensor.elem[0],e=n=1,c=p1.tensor.nelem;1<=c?n<c:n>c;e=1<=c?++n:--n)compatible(p2,p1.tensor.elem[e])||stop("Cannot promote tensor due to inconsistent tensor components.");if(!istensor(p2))return push(p1),void restore();for((a=p1.tensor.ndim+p2.tensor.ndim)>MAXDIM&&stop("tensor rank > "+MAXDIM),s=p1.tensor.nelem*p2.tensor.nelem,(p3=alloc_tensor(s)).tensor.ndim=a,e=i=0,p=p1.tensor.ndim;0<=p?i<p:i>p;e=0<=p?++i:--i)p3.tensor.dim[e]=p1.tensor.dim[e];for(t=o=0,h=p2.tensor.ndim;0<=h?o<h:o>h;t=0<=h?++o:--o)p3.tensor.dim[e+t]=p2.tensor.dim[t];for(r=0,e=l=0,f=p1.tensor.nelem;0<=f?l<f:l>f;e=0<=f?++l:--l)for(t=u=0,d=(p2=p1.tensor.elem[e]).tensor.nelem;0<=d?u<d:u>d;t=0<=d?++u:--u)p3.tensor.elem[r++]=p2.tensor.elem[t];return check_tensor_dimensions(p2),check_tensor_dimensions(p3),push(p3),restore()},compatible=function(e,t){var r,n,i;if(!istensor(e)&&!istensor(t))return 1;if(!istensor(e)||!istensor(t))return 0;if(e.tensor.ndim!==t.tensor.ndim)return 0;for(r=n=0,i=e.tensor.ndim;0<=i?n<i:n>i;r=0<=i?++n:--n)if(e.tensor.dim[r]!==t.tensor.dim[r])return 0;return 1},Eval_test=function(){var e,t;for(t=p1,p1=cdr(p1);iscons(p1);){if(cdr(p1)===symbol(NIL))return push(car(p1)),void Eval();if(null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(car(p1))))return void push(t);if(e)return push(cadr(p1)),void Eval();p1=cddr(p1)}return push_integer(0)},Eval_testeq=function(){var e,t,r;if(t=p1,push(cadr(p1)),Eval(),push(caddr(p1)),Eval(),subtract(),r=pop(),e=isZeroLikeOrNonZeroLikeOrUndetermined(r))push_integer(0);else if(null==e||e)if(push(cadr(p1)),Eval(),simplify(),push(caddr(p1)),Eval(),simplify(),subtract(),r=pop(),e=isZeroLikeOrNonZeroLikeOrUndetermined(r))push_integer(0);else{if(null==e||e)return push(t);push_integer(1)}else push_integer(1)},Eval_testge=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e>=0?1:0);push(t)},Eval_testgt=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e>0?1:0);push(t)},Eval_testle=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e<=0?1:0);push(t)},Eval_testlt=function(){var e,t;if(t=p1,null!=(e=cmp_args()))return push_integer(e<0?1:0);push(t)},Eval_not=function(){var e,t;return t=p1,null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(cadr(p1)))?push(t):push_integer(e?0:1)},Eval_and=function(){var e,t,r,n;for(e=cdr(n=p1),r=!1;iscons(e);)if(null==(t=isZeroLikeOrNonZeroLikeOrUndetermined(car(e))))r=!0,e=cdr(e);else if(t)e=cdr(e);else if(!t)return void push_integer(0);return r?push(n):push_integer(1)},Eval_or=function(){var e,t,r,n;for(t=cdr(n=p1),r=!1;iscons(t);)if(null==(e=isZeroLikeOrNonZeroLikeOrUndetermined(car(t))))r=!0,t=cdr(t);else{if(e)return void push_integer(1);e||(t=cdr(t))}return r?push(n):push_integer(0)},cmp_args=function(){var e;if(e=0,push(cadr(p1)),Eval(),simplify(),push(caddr(p1)),Eval(),simplify(),subtract(),(p1=pop()).k!==NUM&&p1.k!==DOUBLE&&(push(p1),yyfloat(),Eval(),p1=pop()),isZeroAtomOrTensor(p1))return 0;switch(p1.k){case NUM:e=-1===MSIGN(p1.q.a)?-1:1;break;case DOUBLE:e=p1.d<0?-1:1;break;default:e=null}return e},transform=function(e,t){var r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v;if(0,save(),p1=null,p4=pop(),p3=pop(),DEBUG&&console.log("         !!!!!!!!!   transform on: "+p3),saveMetaBindings(),set_binding(symbol(METAX),p4),g=tos,push_integer(1),push(p3),push(p4),polyform(),push(p4),r=tos-2,decomp(t),c=tos-r,DEBUG)for(console.log("  "+c+" decomposed elements ====== "),i=o=0,p=c;0<=p?o<p:o>p;i=0<=p?++o:--o)console.log("  decomposition element "+i+": "+stack[tos-1-i]);if(y=!1,t){if(!isNumericAtom(p3))if(m=e,DEBUG&&console.log("applying transform: "+m),DEBUG&&console.log("scanning table entry "+m),push(m),push(symbol(SYMBOL_A_UNDERSCORE)),push(symbol(METAA)),subst(),push(symbol(SYMBOL_B_UNDERSCORE)),push(symbol(METAB)),subst(),push(symbol(SYMBOL_X_UNDERSCORE)),push(symbol(METAX)),subst(),p1=pop(),p5=car(p1),DEBUG&&console.log("template expression: "+p5),p6=cadr(p1),p7=cddr(p1),f_equals_a(g,t))y=!0;else{for(DEBUG&&console.log("p3 at this point: "+p3),v=[],DEBUG&&console.log("car(p3): "+car(p3)),iscons(h=p3)&&(v.push(car(p3)),h=cdr(p3));iscons(h);)f=car(h),h=cdr(h),DEBUG&&console.log("tos before recursive transform: "+tos),push(f),push_symbol(NIL),DEBUG&&console.log("testing: "+f),DEBUG&&console.log("about to try to simplify other term: "+f),d=transform(e,t),y=y||d,v.push(pop()),DEBUG&&console.log("tried to simplify other term: "+f+" ...successful?: "+d+" ...transformed: "+v[v.length-1]);if(0!==v.length){for(l=0,a=v.length;l<a;l++)i=v[l],push(i);list(v.length),p6=pop()}}}else for(u=0,s=e.length;u<s;u++)if(n=e[u],DEBUG&&(console.log("scanning table entry "+n),(n+"").indexOf("f(sqrt(a+b*x),2/3*1/b*sqrt((a+b*x)^3))")),n&&(scan_meta(n),p1=pop(),p5=cadr(p1),p6=caddr(p1),p7=cdddr(p1),f_equals_a(g,t))){y=!0;break}return moveTos(g),y?(push(p6),Eval(),p1=pop(),y=!0):p1=t?p3:symbol(NIL),restoreMetaBindings(),push(p1),restore(),y},saveMetaBindings=function(){return push(get_binding(symbol(METAA))),push(get_binding(symbol(METAB))),push(get_binding(symbol(METAX)))},restoreMetaBindings=function(){return set_binding(symbol(METAX),pop()),set_binding(symbol(METAB),pop()),set_binding(symbol(METAA),pop())},f_equals_a=function(e,t){var r,n,i,o,a,s,l,u,c;for(r=0,n=0,r=i=s=e,l=tos;s<=l?i<l:i>l;r=s<=l?++i:--i)for(set_binding(symbol(METAA),stack[r]),DEBUG&&console.log("  binding METAA to "+get_binding(symbol(METAA))),n=o=u=e,c=tos;u<=c?o<c:o>c;n=u<=c?++o:--o){for(set_binding(symbol(METAB),stack[n]),DEBUG&&console.log("  binding METAB to "+get_binding(symbol(METAB))),p1=p7;iscons(p1)&&(push(car(p1)),Eval(),p2=pop(),!isZeroAtomOrTensor(p2));)p1=cdr(p1);if(!iscons(p1)&&(push(p3),DEBUG&&console.log("about to evaluate template expression: "+p5+" binding METAA to "+get_binding(symbol(METAA))+" and binding METAB to "+get_binding(symbol(METAB))+" and binding METAX to "+get_binding(symbol(METAX))),push(p5),t&&(a=expanding,expanding=!1),Eval(),t&&(expanding=a),DEBUG&&console.log("  comparing "+stack[tos-1]+" to: "+stack[tos-2]),subtract(),p1=pop(),isZeroAtomOrTensor(p1)))return DEBUG&&(console.log("binding METAA to "+get_binding(symbol(METAA))),console.log("binding METAB to "+get_binding(symbol(METAB))),console.log("binding METAX to "+get_binding(symbol(METAX))),console.log("comparing "+p3+" to: "+p5)),1}return 0},Eval_transpose=function(){return push(cadr(p1)),Eval(),cddr(p1)===symbol(NIL)?(push_integer(1),push_integer(2)):(push(caddr(p1)),Eval(),push(cadddr(p1)),Eval()),transpose()},transpose=function(){var e,t,r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A,T;for(a=0,u=0,c=0,p=0,f=0,0,0,T=0,r=[],n=[],a=h=0,_=MAXDIM;0<=_?h<_:h>_;a=0<=_?++h:--h)r[a]=0,n[a]=0;if(save(),p3=pop(),p2=pop(),p1=pop(),isNumericAtom(p1))return push(p1),void restore();if((isplusone(p2)&&isplustwo(p3)||isplusone(p3)&&isplustwo(p2))&&isidentitymatrix(p1))return push(p1),void restore();if(istranspose(p1)&&(s=car(cdr(cdr(p1))),l=car(cdr(cdr(cdr(p1)))),equal(s,p3)&&equal(l,p2)||equal(l,p3)&&equal(s,p2)||equal(s,symbol(NIL))&&equal(l,symbol(NIL))&&(isplusone(p3)&&isplustwo(p2)||isplusone(p2)&&isplustwo(p3))))return push(car(cdr(p1))),void restore();if(expanding&&isadd(p1)){for(p1=cdr(p1),push(zero);iscons(p1);)push(car(p1)),push(p2),push(p3),transpose(),add(),p1=cdr(p1);restore()}else if(expanding&&ismultiply(p1)){for(p1=cdr(p1),push(one);iscons(p1);)push(car(p1)),push(p2),push(p3),transpose(),multiply(),p1=cdr(p1);restore()}else{if(!expanding||!isinnerordot(p1)){if(!istensor(p1))return isZeroAtomOrTensor(p1)?(push(zero),void restore()):(push_symbol(TRANSPOSE),push(p1),isplusone(p2)&&isplustwo(p3)||isplusone(p3)&&isplustwo(p2)?list(2):(push(p2),push(p3),list(4)),void restore());if(g=p1.tensor.ndim,y=p1.tensor.nelem,1===g)return push(p1),void restore();for(push(p2),p=pop_integer(),push(p3),f=pop_integer(),(p<1||p>g||f<1||f>g)&&stop("transpose: index out of range"),p--,f--,(p2=alloc_tensor(y)).tensor.ndim=g,a=m=0,E=g;0<=E?m<E:m>E;a=0<=E?++m:--m)p2.tensor.dim[a]=p1.tensor.dim[a];for(p2.tensor.dim[p]=p1.tensor.dim[f],p2.tensor.dim[f]=p1.tensor.dim[p],e=p1.tensor.elem,i=p2.tensor.elem,a=v=0,M=g;0<=M?v<M:v>M;a=0<=M?++v:--v)r[a]=0,n[a]=p1.tensor.dim[a];for(a=x=0,S=y;0<=S?x<S:x>S;a=0<=S?++x:--x){for(T=r[p],r[p]=r[f],r[f]=T,T=n[p],n[p]=n[f],n[f]=T,c=0,u=b=0,N=g;0<=N?b<N:b>N;u=0<=N?++b:--b)c=c*n[u]+r[u];for(T=r[p],r[p]=r[f],r[f]=T,T=n[p],n[p]=n[f],n[f]=T,i[c]=e[a],u=A=k=g-1;(k<=0?A<=0:A>=0)&&!(++r[u]<n[u]);u=k<=0?++A:--A)r[u]=0}return push(p2),restore()}for(p1=cdr(p1),t=[];iscons(p1);)t.push([car(p1),p2,p3]),p1=cdr(p1);for(o=d=w=t.length-1;w<=0?d<=0:d>=0;o=w<=0?++d:--d)push(t[o][0]),push(t[o][1]),push(t[o][2]),transpose(),o!==t.length-1&&inner();restore()}},Eval_user_function=function(){var e,t;if(DEBUG&&console.log("Eval_user_function evaluating: "+car(p1)),car(p1)!==symbol(SYMBOL_D)||get_binding(symbol(SYMBOL_D))!==symbol(SYMBOL_D)){if(push(car(p1)),Eval(),e=pop(),isNumericAtom(e)?stop("expected function invocation, found multiplication instead. Use '*' symbol explicitly for multiplication."):istensor(e)?stop("expected function invocation, found tensor product instead. Use 'dot/inner' explicitly."):isstr(e)&&stop("expected function, found string instead."),p3=car(cdr(e)),p4=car(cdr(cdr(e))),p5=cdr(p1),car(e)===symbol(FUNCTION)&&e!==car(p1)){for(p1=p4,p2=p5,t=tos;iscons(p1)&&iscons(p2);)push(car(p1)),push(car(p2)),p1=cdr(p1),p2=cdr(p2);return list(tos-t),p6=pop(),push(p3),iscons(p6)&&(push(p6),rewrite_args()),Eval()}for(t=tos,push(e),p1=p5;iscons(p1);)push(car(p1)),Eval(),p1=cdr(p1);list(tos-t)}else Eval_derivative()},rewrite_args=function(){var e,t;if(t=0,save(),p2=pop(),p1=pop(),istensor(p1))return t=rewrite_args_tensor(),restore(),t;if(iscons(p1)){for(e=tos,car(p1)===car(p2)?(push_symbol(EVAL),push(car(cdr(p2))),list(2)):push(car(p1)),p1=cdr(p1);iscons(p1);)push(car(p1)),push(p2),t+=rewrite_args(),p1=cdr(p1);return list(tos-e),restore(),t}if(!issymbol(p1))return push(p1),restore(),0;for(p3=p2;iscons(p3);){if(p1===car(p3))return push(cadr(p3)),restore(),1;p3=cddr(p3)}return p3=get_binding(p1),push(p3),p1!==p3&&(push(p2),0===(t=rewrite_args())&&(pop(),push(p1))),restore(),t},rewrite_args_tensor=function(){var e,t,r,n;for(r=0,e=0,push(p1),copy_tensor(),e=t=0,n=(p1=pop()).tensor.nelem;0<=n?t<n:t>n;e=0<=n?++t:--t)push(p1.tensor.elem[e]),push(p2),r+=rewrite_args(),p1.tensor.elem[e]=pop();return check_tensor_dimensions(p1),push(p1),r},Eval_zero=function(){var e,t,r,n,i,o,a,s;for(e=0,t=[],n=0,o=0,e=r=0,a=MAXDIM;0<=a?r<a:r>a;e=0<=a?++r:--r)t[e]=0;for(n=1,o=0,p2=cdr(p1);iscons(p2);){if(push(car(p2)),Eval(),(e=pop_integer())<1||isNaN(e))return void push(zero);n*=e,t[o++]=e,p2=cdr(p2)}if(0!==o){for((p1=alloc_tensor(n)).tensor.ndim=o,e=i=0,s=o;0<=s?i<s:i>s;e=0<=s?++i:--i)p1.tensor.dim[e]=t[e];return push(p1)}push(zero)},allocatedId=0,alloc_tensor=function(e){var t,r,n,i;for(t=0,(n=new U).k=TENSOR,n.tensor=new tensor,n.tensor.nelem=e,t=r=0,i=e;0<=i?r<i:r>i;t=0<=i?++r:--r)n.tensor.elem[t]=zero;return n.tensor.allocatedId=allocatedId,allocatedId++,check_tensor_dimensions(n),n},Find=function(e,t){var r,n,i;if(r=0,equal(e,t))return 1;if(istensor(e)){for(r=n=0,i=e.tensor.nelem;0<=i?n<i:n>i;r=0<=i?++n:--n)if(Find(e.tensor.elem[r],t))return 1;return 0}for(;iscons(e);){if(Find(car(e),t))return 1;e=cdr(e)}return 0},findPossibleClockForm=function(e){var t,r,n;if(t=0,isimaginaryunit(e))return 0;if(car(e)===symbol(POWER)&&!isinteger(caddr(p1))&&Find(cadr(e),imaginaryunit))return 1;if(car(e)===symbol(POWER)&&equaln(cadr(e),-1)&&!isinteger(caddr(p1)))return 1;if(istensor(e)){for(t=r=0,n=e.tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)if(findPossibleClockForm(e.tensor.elem[t]))return 1;return 0}for(;iscons(e);){if(findPossibleClockForm(car(e)))return 1;e=cdr(e)}return 0},findPossibleExponentialForm=function(e){var t,r,n;if(t=0,car(e)===symbol(POWER)&&cadr(e)===symbol(E))return Find(caddr(e),imaginaryunit);if(istensor(e)){for(t=r=0,n=e.tensor.nelem;0<=n?r<n:r>n;t=0<=n?++r:--r)if(findPossibleExponentialForm(e.tensor.elem[t]))return 1;return 0}for(;iscons(e);){if(findPossibleExponentialForm(car(e)))return 1;e=cdr(e)}return 0},$.Find=Find,init=function(){var e,t,r;if(e=0,flag=0,reset_after_error(),chainOfUserSymbolsNotFunctionsBeingEvaluated=[],!flag){for(flag=1,e=t=0,r=NSYM;0<=r?t<r:t>r;e=0<=r?++t:--t)symtab[e]=new U,symtab[e].k=SYM,binding[e]=symtab[e],isSymbolReclaimable[e]=!1;return defn()}},defn_str=['version="'+version+'"',"e=exp(1)","i=sqrt(-1)","autoexpand=1","assumeRealVariables=1","trange=[-pi,pi]","xrange=[-10,10]","yrange=[-10,10]","last=0","trace=0","forceFixedPrintout=1","maxFixedPrintoutDigits=6","printLeaveEAlone=1","printLeaveXAlone=0","cross(u,v)=[u[2]*v[3]-u[3]*v[2],u[3]*v[1]-u[1]*v[3],u[1]*v[2]-u[2]*v[1]]","curl(v)=[d(v[3],y)-d(v[2],z),d(v[1],z)-d(v[3],x),d(v[2],x)-d(v[1],y)]","div(v)=d(v[1],x)+d(v[2],y)+d(v[3],z)","ln(x)=log(x)"],defn=function(){var e,t,r,n,i;for(p0=symbol(NIL),p1=symbol(NIL),p2=symbol(NIL),p3=symbol(NIL),p4=symbol(NIL),p5=symbol(NIL),p6=symbol(NIL),p7=symbol(NIL),p8=symbol(NIL),p9=symbol(NIL),std_symbol("abs",ABS),std_symbol("add",ADD),std_symbol("adj",ADJ),std_symbol("and",AND),std_symbol("approxratio",APPROXRATIO),std_symbol("arccos",ARCCOS),std_symbol("arccosh",ARCCOSH),std_symbol("arcsin",ARCSIN),std_symbol("arcsinh",ARCSINH),std_symbol("arctan",ARCTAN),std_symbol("arctanh",ARCTANH),std_symbol("arg",ARG),std_symbol("atomize",ATOMIZE),std_symbol("besselj",BESSELJ),std_symbol("bessely",BESSELY),std_symbol("binding",BINDING),std_symbol("binomial",BINOMIAL),std_symbol("ceiling",CEILING),std_symbol("check",CHECK),std_symbol("choose",CHOOSE),std_symbol("circexp",CIRCEXP),std_symbol("clear",CLEAR),std_symbol("clearall",CLEARALL),std_symbol("clearpatterns",CLEARPATTERNS),std_symbol("clock",CLOCK),std_symbol("coeff",COEFF),std_symbol("cofactor",COFACTOR),std_symbol("condense",CONDENSE),std_symbol("conj",CONJ),std_symbol("contract",CONTRACT),std_symbol("cos",COS),std_symbol("cosh",COSH),std_symbol("decomp",DECOMP),std_symbol("defint",DEFINT),std_symbol("deg",DEGREE),std_symbol("denominator",DENOMINATOR),std_symbol("det",DET),std_symbol("derivative",DERIVATIVE),std_symbol("dim",DIM),std_symbol("dirac",DIRAC),std_symbol("divisors",DIVISORS),std_symbol("do",DO),std_symbol("dot",DOT),std_symbol("draw",DRAW),std_symbol("dsolve",DSOLVE),std_symbol("erf",ERF),std_symbol("erfc",ERFC),std_symbol("eigen",EIGEN),std_symbol("eigenval",EIGENVAL),std_symbol("eigenvec",EIGENVEC),std_symbol("eval",EVAL),std_symbol("exp",EXP),std_symbol("expand",EXPAND),std_symbol("expcos",EXPCOS),std_symbol("expsin",EXPSIN),std_symbol("factor",FACTOR),std_symbol("factorial",FACTORIAL),std_symbol("factorpoly",FACTORPOLY),std_symbol("filter",FILTER),std_symbol("float",FLOATF),std_symbol("floor",FLOOR),std_symbol("for",FOR),std_symbol("function",FUNCTION),std_symbol("Gamma",GAMMA),std_symbol("gcd",GCD),std_symbol("hermite",HERMITE),std_symbol("hilbert",HILBERT),std_symbol("imag",IMAG),std_symbol("component",INDEX),std_symbol("inner",INNER),std_symbol("integral",INTEGRAL),std_symbol("inv",INV),std_symbol("invg",INVG),std_symbol("isinteger",ISINTEGER),std_symbol("isprime",ISPRIME),std_symbol("laguerre",LAGUERRE),std_symbol("lcm",LCM),std_symbol("leading",LEADING),std_symbol("legendre",LEGENDRE),std_symbol("log",LOG),std_symbol("lookup",LOOKUP),std_symbol("mod",MOD),std_symbol("multiply",MULTIPLY),std_symbol("not",NOT),std_symbol("nroots",NROOTS),std_symbol("number",NUMBER),std_symbol("numerator",NUMERATOR),std_symbol("operator",OPERATOR),std_symbol("or",OR),std_symbol("outer",OUTER),std_symbol("pattern",PATTERN),std_symbol("patternsinfo",PATTERNSINFO),std_symbol("polar",POLAR),std_symbol("power",POWER),std_symbol("prime",PRIME),std_symbol("print",PRINT),std_symbol("print2dascii",PRINT2DASCII),std_symbol("printcomputer",PRINTFULL),std_symbol("printlatex",PRINTLATEX),std_symbol("printlist",PRINTLIST),std_symbol("printhuman",PRINTPLAIN),std_symbol("printLeaveEAlone",PRINT_LEAVE_E_ALONE),std_symbol("printLeaveXAlone",PRINT_LEAVE_X_ALONE),std_symbol("product",PRODUCT),std_symbol("quote",QUOTE),std_symbol("quotient",QUOTIENT),std_symbol("rank",RANK),std_symbol("rationalize",RATIONALIZE),std_symbol("real",REAL),std_symbol("rect",YYRECT),std_symbol("roots",ROOTS),std_symbol("round",ROUND),std_symbol("equals",SETQ),std_symbol("sgn",SGN),std_symbol("silentpattern",SILENTPATTERN),std_symbol("simplify",SIMPLIFY),std_symbol("sin",SIN),std_symbol("sinh",SINH),std_symbol("shape",SHAPE),std_symbol("sqrt",SQRT),std_symbol("stop",STOP),std_symbol("subst",SUBST),std_symbol("sum",SUM),std_symbol("symbolsinfo",SYMBOLSINFO),std_symbol("tan",TAN),std_symbol("tanh",TANH),std_symbol("taylor",TAYLOR),std_symbol("test",TEST),std_symbol("testeq",TESTEQ),std_symbol("testge",TESTGE),std_symbol("testgt",TESTGT),std_symbol("testle",TESTLE),std_symbol("testlt",TESTLT),std_symbol("transpose",TRANSPOSE),std_symbol("unit",UNIT),std_symbol("zero",ZERO),std_symbol("nil",NIL),std_symbol("autoexpand",AUTOEXPAND),std_symbol("bake",BAKE),std_symbol("assumeRealVariables",ASSUME_REAL_VARIABLES),std_symbol("last",LAST),std_symbol("lastprint",LAST_PRINT),std_symbol("last2dasciiprint",LAST_2DASCII_PRINT),std_symbol("lastfullprint",LAST_FULL_PRINT),std_symbol("lastlatexprint",LAST_LATEX_PRINT),std_symbol("lastlistprint",LAST_LIST_PRINT),std_symbol("lastplainprint",LAST_PLAIN_PRINT),std_symbol("trace",TRACE),std_symbol("forceFixedPrintout",FORCE_FIXED_PRINTOUT),std_symbol("maxFixedPrintoutDigits",MAX_FIXED_PRINTOUT_DIGITS),std_symbol("~",YYE),std_symbol("$DRAWX",DRAWX),std_symbol("$METAA",METAA),std_symbol("$METAB",METAB),std_symbol("$METAX",METAX),std_symbol("$SECRETX",SECRETX),std_symbol("version",VERSION),std_symbol("pi",PI),std_symbol("a",SYMBOL_A),std_symbol("b",SYMBOL_B),std_symbol("c",SYMBOL_C),std_symbol("d",SYMBOL_D),std_symbol("i",SYMBOL_I),std_symbol("j",SYMBOL_J),std_symbol("n",SYMBOL_N),std_symbol("r",SYMBOL_R),std_symbol("s",SYMBOL_S),std_symbol("t",SYMBOL_T),std_symbol("x",SYMBOL_X),std_symbol("y",SYMBOL_Y),std_symbol("z",SYMBOL_Z),std_symbol("I",SYMBOL_IDENTITY_MATRIX),std_symbol("a_",SYMBOL_A_UNDERSCORE),std_symbol("b_",SYMBOL_B_UNDERSCORE),std_symbol("x_",SYMBOL_X_UNDERSCORE),std_symbol("$C1",C1),std_symbol("$C2",C2),std_symbol("$C3",C3),std_symbol("$C4",C4),std_symbol("$C5",C5),std_symbol("$C6",C6),defineSomeHandyConstants(),n=codeGen,codeGen=!1,t=r=0,i=defn_str.length;0<=i?r<i:r>i;t=0<=i?++r:--r)e=defn_str[t],scan(e),DEBUG&&(console.log("... evaling "+e),console.log("top of stack:"),console.log(print_list(stack[tos-1]))),Eval(),pop();return codeGen=n},defineSomeHandyConstants=function(){return zero=new_integer(0),one=new_integer(1),push_double(1),one_as_double=pop(),push_symbol(POWER),DEBUG&&console.log(print_list(stack[tos-1])),push_integer(-1),DEBUG&&console.log(print_list(stack[tos-1])),push_rational(1,2),DEBUG&&console.log(print_list(stack[tos-1])),list(3),DEBUG&&console.log(print_list(stack[tos-1])),imaginaryunit=pop()},mcmp=function(e,t){return e.compare(t)},mcmpint=function(e,t){var r;return r=bigInt(t),mcmp(e,r)},strcmp=function(e,t){return e===t?0:e>t?1:-1},doubleToReasonableString=function(e){var t,r;return codeGen?""+e:(isZeroAtomOrTensor(get_binding(symbol(FORCE_FIXED_PRINTOUT)))?(r=""+e,r=printMode===PRINTMODE_LATEX?/\d*\.\d*e.*/gm.test(r)?r.replace(/e(.*)/gm,"\\mathrm{e}{$1}"):r.replace(/(\d+)e(.*)/gm,"$1.0\\mathrm{e}{$2}"):/\d*\.\d*e.*/gm.test(r)?r.replace(/e(.*)/gm,"*10^($1)"):r.replace(/(\d+)e(.*)/gm,"$1.0*10^($2)")):(push(get_binding(symbol(MAX_FIXED_PRINTOUT_DIGITS))),t=pop_integer(),-1===(r=(r=(r=""+e.toFixed(t)).replace(/(\.\d*?[1-9])0+$/gm,"$1")).replace(/\.0+$/gm,"")).indexOf(".")&&(r+=".0"),parseFloat(r)!==e&&(r=e.toFixed(t)+"...")),r)},clear_term=function(){},isspace=function(e){return null!=e&&(" "===e||"\t"===e||"\n"===e||"\v"===e||"\f"===e||"\r"===e)},isdigit=function(e){return null!=e&&/^\d+$/.test(e)},isalpha=function(e){return null!=e&&-1===e.search(/[^A-Za-z]/)},isalphaOrUnderscore=function(e){return null!=e&&-1===e.search(/[^A-Za-z_]/)},isunderscore=function(e){return null!=e&&-1===e.search(/_/)},isalnumorunderscore=function(e){return null!=e&&(isalphaOrUnderscore(e)||isdigit(e))},count=function(e){var t;if(iscons(e))for(t=0;iscons(e);)t+=count(car(e))+1,e=cdr(e);else t=1;return t},countOccurrencesOfSymbol=function(e,t){var r;if(r=0,iscons(t))for(;iscons(t);)r+=countOccurrencesOfSymbol(e,car(t)),t=cdr(t);else equal(e,t)&&(r=1);return r},countsize=function(e){var t,r,n,i;if(n=0,istensor(e))for(t=r=0,i=e.tensor.nelem;0<=i?r<i:r>i;t=0<=i?++r:--r)n+=e.tensor.elem[t];else if(iscons(e))for(;iscons(e);)n+=count(car(e))+1,e=cdr(e);else n=1;return n},stop=function(e){var t;throw errorMessage+="Stop: ",t=errorMessage+=e,errorMessage="",moveTos(0),new Error(t)},findDependenciesInScript=function(e,t){var r,n,i,o,a,s,l,u,c,p,h,f,d,m,g,y,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I,R,D,L,q,B,P,z,U,$,F,G,V,H,j,W,X;for(DEBUG&&console.log("stringToBeParsed: "+e),G=(new Date).getTime(),!0,codeGen=!0,symbolsDependencies={},symbolsHavingReassignments=[],symbolsInExpressionsWithoutAssignments=[],patternHasBeenFound=!1,h=0,"","",M=0,o={affectsVariables:[],affectedBy:[]},U=e;;){try{errorMessage="",check_stack(),DEBUG&&console.log("findDependenciesInScript: scanning"),M=scan(e.substring(h)),DEBUG&&console.log("scanned"),pop(),check_stack()}catch(Y){s=Y,PRINTOUTRESULT&&console.log(s),errorMessage=s+"",reset_after_error();break}if(0===M)break;h+=M}for(f in F="",DEBUG&&console.log("all local dependencies ----------------"),F+="All local dependencies: ",symbolsDependencies){for(W=symbolsDependencies[f],DEBUG&&console.log("variable "+f+" depends on: "),o.affectsVariables.push(f),F+=" variable "+f+" depends on: ",d=0,m=W.length;d<m;d++)c=W[d],DEBUG&&console.log("    "+c),"'"!==c[0]&&o.affectedBy.push(c),F+=c+", ";F+="; "}for(F+=". ",DEBUG&&console.log("Symbols with reassignments ----------------"),F+="Symbols with reassignments: ",E=0,g=symbolsHavingReassignments.length;E<g;E++)f=symbolsHavingReassignments[E],-1===o.affectedBy.indexOf(f)&&(o.affectedBy.push(f),F+=f+", ");for(F+=". ",DEBUG&&console.log("Symbols in expressions without assignments ----------------"),F+="Symbols in expressions without assignments: ",S=0,y=symbolsInExpressionsWithoutAssignments.length;S<y;S++)f=symbolsInExpressionsWithoutAssignments[S],-1===o.affectedBy.indexOf(f)&&(o.affectedBy.push(f),F+=f+", ");if(F+=". ",o.affectedBy.push("PATTERN_DEPENDENCY"),patternHasBeenFound&&(o.affectsVariables.push("PATTERN_DEPENDENCY"),F+=" - PATTERN_DEPENDENCY inserted - "),DEBUG&&console.log("All dependencies recursively ----------------"),F+="All dependencies recursively: ",z=["",""],u="",R="",""===errorMessage&&!t){try{"","",z=run(e,!0),"",""}catch(Y){s=Y,PRINTOUTRESULT&&console.log(s),errorMessage=s+"",init()}if(""===errorMessage)for(f in symbolsDependencies){for(codeGen=!0,DEBUG&&console.log("  variable "+f+" is: "+get_binding(usr_symbol(f)).toString()),codeGen=!1,DEBUG&&console.log("  variable "+f+" depends on: "),F+=" variable "+f+" depends on: ",recursiveDependencies(f,D=[],[],X=[],[],n=[]),k=0,v=X.length;k<v;k++)c=X[k],DEBUG&&console.log("    --\x3e cycle through "+c);for(C=0,x=D.length;C<x;C++)c=D[C],DEBUG&&console.log("    "+c),F+=c+", ";for(F+="; ",I=0,b=n.length;I<b;I++)F+=" "+(c=n[I])+", ";for(DEBUG&&console.log("  code generation:"+f+" is: "+get_binding(usr_symbol(f)).toString()),push(get_binding(usr_symbol(f))),q=[],B=[],P=0,_=D.length;P<_;P++)"'"===(a=D[P])[0]&&(i=a.substring(1),T=usr_symbol(i),N=usr_symbol("AVOID_BINDING_TO_EXTERNAL_SCOPE_VALUE"+i),q.push(T),B.push(N),push(T),push(N),subst(),DEBUG&&console.log("after substitution: "+stack[tos-1]));try{simplifyForCodeGeneration()}catch(Y){s=Y,PRINTOUTRESULT&&console.log(s),errorMessage=s+"",init()}for(p=$=0,L=q.length;0<=L?$<L:$>L;p=0<=L?++$:--$)push(B[p]),push(q[p]),subst();if(clearRenamedVariablesToAvoidBindingToExternalScope(),""===errorMessage){if(V=pop(),collectUserSymbols(V,j=[]),"","",codeGen=!0,l=V.toString(),codeGen=!1,A=printMode,printMode=PRINTMODE_LATEX,r=V.toString(),printMode=A,-1!==X.indexOf(f))u+="// "+f+" is part of a cyclic dependency, no code generated.",R+="#"+f+" is part of a cyclic dependency, no code generated.";else if(0!==(j=(j=j.filter((function(e){return-1===predefinedSymbolsInGlobalScope_doNotTrackInDependencies.indexOf(e+"")}))).filter((function(e){return-1!==D.indexOf(e+"")||-1!==D.indexOf("'"+e)}))).length){for(O="(",H=0,w=j.length;H<w;H++)(c=j[H]).printname!==f&&(O+=c.printname+", ");O=O.replace(/, $/gm,""),u+=f+" = function "+(O+=")")+" { return ( "+l+" ); }",R+=f+O+" = "+r}else u+=f+" = "+l+";",R+=f+" = "+r;u+="\n",R+="\n",DEBUG&&console.log("    "+u)}}}return u=u.replace(/\n$/gm,""),R=R.replace(/\n$/gm,""),symbolsDependencies={},symbolsHavingReassignments=[],patternHasBeenFound=!1,symbolsInExpressionsWithoutAssignments=[],DEBUG&&console.log("testable string: "+F),TIMING_DEBUGS&&console.log("findDependenciesInScript time for: "+U+" : "+((new Date).getTime()-G)+"ms"),[F,z[0],u,R,z[1],errorMessage,o]},recursiveDependencies=function(e,t,r,n,i,o){var a,s,l,u,c,p,h,f;if(r.push(e),null!=symbolsDependencies[i[i.length-1]]&&-1!==symbolsDependencies[i[i.length-1]].indexOf("'"+e))return DEBUG&&console.log("can't keep following the chain of "+e+" because it's actually a variable bound to a parameter"),-1===t.indexOf("'"+e)&&-1===t.indexOf(e)&&t.push(e),t;if(i.push(e),null==symbolsDependencies[e])return-1===t.indexOf(e)&&t.push(e),t;for(u=0,c=(f=symbolsDependencies[e]).length;u<c;u++)if(s=f[u],-1!==i.indexOf(s)){for(DEBUG&&console.log("  found cycle:"),a="",h=0,p=i.length;h<p;h++)l=i[h],-1===n.indexOf(l)&&n.push(l),DEBUG&&console.log(l+" --\x3e "),a+=l+" --\x3e ";DEBUG&&console.log(" ... then "+s+" again"),a+=" ... then "+s+" again",o.push(a),-1===n.indexOf(s)&&n.push(s)}else recursiveDependencies(s,t,r,n,i,o),i.pop();return t},inited=!1,latexErrorSign="\\rlap{\\large\\color{red}\\bigtriangleup}{\\ \\ \\tiny\\color{red}!}",turnErrorMessageToLatex=function(e){return e="$$\\text{"+(e=(e=(e=(e=(e=(e=(e=e.replace(/\n/g,"")).replace(/_/g,"} \\_ \\text{")).replace(new RegExp(String.fromCharCode(transpose_unicode),"g"),"}{}^{T}\\text{")).replace(new RegExp(String.fromCharCode(dotprod_unicode),"g"),"}\\cdot \\text{")).replace("Stop:","}  \\quad \\text{Stop:")).replace("->","}  \\rightarrow \\text{")).replace("?","}\\enspace "+latexErrorSign+" \\enspace  \\text{")).replace(/\n/g,"")+"}$$"},normaliseDots=function(e){return e=(e=(e=(e=(e=e.replace(new RegExp(String.fromCharCode(8901),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(8226),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(12539),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(55296),"g"),String.fromCharCode(dotprod_unicode))).replace(new RegExp(String.fromCharCode(65381),"g"),String.fromCharCode(dotprod_unicode))},TIMING_DEBUGS=!1,run=function(e,t=!1){var r,n,i,o,a,s,l,u,c,p;if(c=(new Date).getTime(),"selftest"!==(e=normaliseDots(e))){for(inited||(inited=!0,init()),0,l=0,s=0,n="",r="";;){try{errorMessage="",check_stack(),l=scan(e.substring(s)),p1=pop(),check_stack()}catch(h){a=h,PRINTOUTRESULT&&console.log(a),n+=a.message,t&&(r+=turnErrorMessageToLatex(a.message)),reset_after_error();break}if(0===l)break;s+=l,push(p1),!1;try{stringsEmittedByUserPrintouts="",top_level_eval(),p2=pop(),check_stack(),isstr(p2)&&(DEBUG&&console.log(p2.str),DEBUG&&console.log("\n")),p2===symbol(NIL)?(o=stringsEmittedByUserPrintouts,t&&(i="$$"+stringsEmittedByUserPrintouts+"$$")):(o=print_expr(p2),o+="\n",t&&(i="$$"+collectLatexStringFromReturnValue(p2)+"$$",DEBUG&&console.log("collectedLatexResult: "+i))),n+=o,t&&(r+=i),PRINTOUTRESULT&&(DEBUG&&console.log("printline"),DEBUG&&console.log(o)),PRINTOUTRESULT&&(DEBUG&&console.log("display:"),print2dascii(p2)),t&&(r+="\n")}catch(h){!0,o=(a=h).message,t&&(i=turnErrorMessageToLatex(a.message)),PRINTOUTRESULT&&console.log(o),n+=o,""!==o&&(n+="\n"),t&&(r+=i,r+="\n"),init()}}return"\n"===n[n.length-1]&&(n=n.substring(0,n.length-1)),t&&"\n"===r[r.length-1]&&(r=r.substring(0,r.length-1)),t?(DEBUG&&console.log("allReturnedLatexStrings: "+r),u=[n,r]):u=n,TIMING_DEBUGS&&(p="run time on: "+e+" : "+((new Date).getTime()-c)+"ms",console.log(p)),n="",r="",u}selftest()},check_stack=function(){if(0!==tos&&stop("stack error"),frame!==TOS&&stop("frame error"),0!==chainOfUserSymbolsNotFunctionsBeingEvaluated.length&&stop("symbols evaluation still ongoing?"),0!==evaluatingAsFloats&&stop("numeric evaluation still ongoing?"),0!==evaluatingPolar)return stop("evaluation of polar still ongoing?")},top_level_eval=function(){var e,t,r;if(DEBUG&&console.log("#### top level eval"),trigmode=0,r=symbol(AUTOEXPAND),expanding=isZeroAtomOrTensor(get_binding(r))?0:1,t=top(),Eval(),(e=top())!==symbol(NIL))if(set_binding(symbol(LAST),e),isZeroAtomOrTensor(get_binding(symbol(BAKE)))||(bake(),e=top()),t!==symbol(SYMBOL_I)&&t!==symbol(SYMBOL_J)||!isimaginaryunit(e)){if(isimaginaryunit(get_binding(symbol(SYMBOL_J))))return push(imaginaryunit),push_symbol(SYMBOL_J),subst();if(isimaginaryunit(get_binding(symbol(SYMBOL_I))))return push(imaginaryunit),push_symbol(SYMBOL_I),subst()}else;},check_esc_flag=function(){if(esc_flag)return stop("esc key")},clearAlgebraEnvironment=function(){return do_clearall()},computeDependenciesFromAlgebra=function(e){var t,r,n;if(DEBUG&&console.log("computeDependenciesFromAlgebra!!!"),e,!0,called_from_Algebra_block=!0,e=normaliseDots(e),DEBUG){for(console.log("computeDependenciesFromAlgebra: patterns in the list --------------- "),n=0,r=userSimplificationsInListForm.length;n<r;n++)t=userSimplificationsInListForm[n],console.log(car(t)+","+cdr(t)+")");console.log("...end of list --------------- ")}return called_from_Algebra_block=!1,findDependenciesInScript(e,!0)[6]},computeResultsAndJavaScriptFromAlgebra=function(e){var t,r,n,i,o,a,s,l,u,c,p;if(e,!0,called_from_Algebra_block=!0,p=(new Date).getTime(),TIMING_DEBUGS&&console.log(" --------- computeResultsAndJavaScriptFromAlgebra input: "+e+" at: "+new Date),u=e=normaliseDots(e),DEBUG){for(console.log("computeResultsAndJavaScriptFromAlgebra: patterns in the list --------------- "),i=0,a=userSimplificationsInListForm.length;i<a;i++)n=userSimplificationsInListForm[i],console.log(car(n)+","+cdr(n)+")");console.log("...end of list --------------- ")}return[c,l,t,s,o,errorMessage,r]=findDependenciesInScript(e),called_from_Algebra_block=!1,""===s&&""===errorMessage||(l+="\n"+s,""!==errorMessage&&(l+="\n"+errorMessage),l=l.replace(/\n/g,"\n\n"),o+="\n$$"+s+"$$",""!==errorMessage&&(o+=turnErrorMessageToLatex(errorMessage)),o=o.replace(/\n/g,"\n\n")),o=(o=o.replace(/\n*/,"")).replace(/\$\$\$\$\n*/g,""),t=(t=t.replace(/Math\./g,"")).replace(/\n/g,"\n\n"),TIMING_DEBUGS&&console.log("computeResultsAndJavaScriptFromAlgebra time (total time from notebook and back) for: "+u+" : "+((new Date).getTime()-p)+"ms"),{code:t,result:o,latexResult:o,dependencyInfo:r}},(null!==exports?exports:this).run=run,(null!==exports?exports:this).findDependenciesInScript=findDependenciesInScript,(null!==exports?exports:this).computeDependenciesFromAlgebra=computeDependenciesFromAlgebra,(null!==exports?exports:this).computeResultsAndJavaScriptFromAlgebra=computeResultsAndJavaScriptFromAlgebra,(null!==exports?exports:this).clearAlgebraEnvironment=clearAlgebraEnvironment,tos=0,nil_symbols=0,push=function(e){return e.isZero,e===symbol(NIL)&&(nil_symbols++,DEBUG&&console.log("pushing symbol(NIL) #"+nil_symbols)),tos>=frame&&stop("stack overflow"),stack[tos++]=e},moveTos=function(e){if(tos<=e)tos=e;else for(;tos>e;)stack[tos]=null,tos--},top=function(){return stack[tos-1]},pop=function(){var e;return 0===tos&&stop("stack underflow"),stack[tos-1],e=stack[--tos],stack[tos]=null,e},push_frame=function(e){var t,r,n,i;for(t=0,(frame-=e)<tos&&stop("frame overflow, circular reference?"),i=[],t=r=0,n=e;0<=n?r<n:r>n;t=0<=n?++r:--r)i.push(stack[frame+t]=symbol(NIL));return i},pop_frame=function(e){if((frame+=e)>TOS)return stop("frame underflow")},save=function(){return(frame-=10)<tos&&stop("frame overflow, circular reference?"),stack[frame+0]=p0,stack[frame+1]=p1,stack[frame+2]=p2,stack[frame+3]=p3,stack[frame+4]=p4,stack[frame+5]=p5,stack[frame+6]=p6,stack[frame+7]=p7,stack[frame+8]=p8,stack[frame+9]=p9},restore=function(){return frame>TOS-10&&stop("frame underflow"),p0=stack[frame+0],p1=stack[frame+1],p2=stack[frame+2],p3=stack[frame+3],p4=stack[frame+4],p5=stack[frame+5],p6=stack[frame+6],p7=stack[frame+7],p8=stack[frame+8],p9=stack[frame+9],frame+=10},swap=function(){var e,t;return e=pop(),t=pop(),push(e),push(t)},dupl=function(){var e;return e=pop(),push(e),push(e)},$.dupl=dupl,$.swap=swap,$.restore=restore,$.save=save,$.push=push,$.pop=pop,Eval_symbolsinfo=function(){var e;return""!==(e=symbolsinfo())?push(new_string(e)):push_symbol(NIL)},symbolsinfo=function(){var e,t,r,n,i,o,a;for(o="",t=r=n=NIL+1,i=symtab.length;n<=i?r<i:r>i;t=n<=i?++r:--r)if(""!==symtab[t].printname)a=symtab[t]+"",e=(binding[t]+"").substring(0,4),o+="symbol: "+a+" size: "+countsize(binding[t])+" value: "+e+"...\n";else if(!1===isSymbolReclaimable[t])break;return o},std_symbol=function(e,t,r){var n;return(n=symtab[t]).printname=e,n.latexPrint=null!=r?r:e},usr_symbol=function(e){var t,r,n;for(t=0,t=r=0,n=NSYM;0<=n?r<n:r>n;t=0<=n?++r:--r){if(e===symtab[t].printname)return symtab[t];if(""===symtab[t].printname)break}return t===NSYM&&stop("symbol table overflow"),symtab[t]=new U,symtab[t].k=SYM,symtab[t].printname=e,binding[t]=symtab[t],isSymbolReclaimable[t]=!1,symtab[t]},get_printname=function(e){return e.k!==SYM&&stop("symbol error"),e.printname},set_binding=function(e,t){var r;return e.k!==SYM&&stop("symbol error"),r=symtab.indexOf(e),-1!==symtab.indexOf(e,r+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> set_binding lookup "+r),isSymbolReclaimable[r]=!1,binding[r]=t},get_binding=function(e){var t;return e.k!==SYM&&stop("symbol error"),t=symtab.indexOf(e),-1!==symtab.indexOf(e,t+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> get_binding lookup "+t),binding[t]},is_usr_symbol=function(e){var t;return e.k===SYM&&((t=symnum(e))>PI&&t!==SYMBOL_I&&t!==SYMBOL_IDENTITY_MATRIX)},lookupsTotal=0,symnum=function(e){var t;return lookupsTotal++,e.k!==SYM&&stop("symbol error"),t=symtab.indexOf(e),-1!==symtab.indexOf(e,t+1)&&console.log("ops, more than one element!"),DEBUG&&console.log("lookup >> symnum lookup "+t+" lookup # "+lookupsTotal),t},push_symbol=function(e){return push(symtab[e])},clear_symbols=function(){var e,t,r,n,i;for(i=[],e=t=r=NIL+1,n=NSYM;r<=n?t<n:t>n;e=r<=n?++t:--t)if(""!==symtab[e].printname)symtab[e]=new U,symtab[e].k=SYM,binding[e]=symtab[e],i.push(isSymbolReclaimable[e]=!1);else if(!1===isSymbolReclaimable[e])break;return i},collectUserSymbols=function(e,t=[]){var r,n,i;if(is_usr_symbol(e)&&-1===t.indexOf(e))t.push(e);else if(istensor(e))for(r=n=0,i=e.tensor.nelem;0<=i?n<i:n>i;r=0<=i?++n:--n)collectUserSymbols(e.tensor.elem[r],t);else for(;iscons(e);)collectUserSymbols(car(e),t),e=cdr(e)},$.get_binding=get_binding,$.set_binding=set_binding,$.usr_symbol=usr_symbol,$.symbolsinfo=symbolsinfo,$.collectUserSymbols=collectUserSymbols,inited||(inited=!0,init()),$.init=init,parse_internal=function(e){return"string"==typeof e?scan(e):"number"==typeof e?e%1==0?push_integer(e):push_double(e):e instanceof U?push(e):(console.warn("unknown argument type",e),push(symbol(NIL)))},parse=function(e){var t,r;try{parse_internal(e),t=pop(),check_stack()}catch(n){throw r=n,reset_after_error(),r}return t},exec=function(e,...t){var r,n,i,o,a,s;for(i=get_binding(usr_symbol(e)),check_stack(),push(i),o=0,a=t.length;o<a;o++)r=t[o],parse_internal(r);list(1+t.length),p1=pop(),push(p1);try{top_level_eval(),s=pop(),check_stack()}catch(l){throw n=l,reset_after_error(),n}return s},$.exec=exec,$.parse=parse,function(){var e,t,r,n,i;for(i=[],r=0,n=(e=["abs","add","adj","and","approxratio","arccos","arccosh","arcsin","arcsinh","arctan","arctanh","arg","atomize","besselj","bessely","binding","binomial","ceiling","check","choose","circexp","clear","clearall","clearpatterns","clock","coeff","cofactor","condense","conj","contract","cos","cosh","decomp","defint","deg","denominator","det","derivative","dim","dirac","divisors","do","dot","draw","dsolve","eigen","eigenval","eigenvec","erf","erfc","eval","exp","expand","expcos","expsin","factor","factorial","factorpoly","filter","float","floor","for","Gamma","gcd","hermite","hilbert","imag","component","inner","integral","inv","invg","isinteger","isprime","laguerre","lcm","leading","legendre","log","mod","multiply","not","nroots","number","numerator","operator","or","outer","pattern","patternsinfo","polar","power","prime","print","print2dascii","printcomputer","printlatex","printlist","printhuman","product","quote","quotient","rank","rationalize","real","rect","roots","round","equals","shape","sgn","silentpattern","simplify","sin","sinh","sqrt","stop","subst","sum","symbolsinfo","tan","tanh","taylor","test","testeq","testge","testgt","testle","testlt","transpose","unit","zero"]).length;r<n;r++)t=e[r],i.push($[t]=exec.bind(this,t))}(),freeze=function(){var e,t,r,n,i;for(t=[],e=[],[],"",r=n=0,i=symtab.length;0<=i?n<i:n>i;r=0<=i?++n:--n)!1===isSymbolReclaimable[r]&&(t.push(symtab[r]),e.push(binding[r]));return[t,e,userSimplificationsInListForm.slice(0),zero,one,imaginaryunit,getStateHash()]},unfreeze=function(e){var t,r,n,i,o,a;for([n,t,r,zero,one,imaginaryunit]=e,i=o=0,a=n.length;0<=a?o<a:o>a;i=0<=a?++o:--o)symtab[i]=n[i],binding[i]=t[i];return userSimplificationsInListForm=r.slice(0)},compareState=function(e){return getStateHash()===e},getStateHash=function(){var e,t,r,n,i,o,a;for(e="",t=r=o=NIL+1,a=symtab.length;o<=a?r<a:r>a;t=o<=a?++r:--r)if(""!==symtab[t].printname)e+=" //"+print_list(symtab[t])+" : "+print_list(binding[t]);else if(!1===isSymbolReclaimable[t])break;for(i=0,n=userSimplificationsInListForm.length;i<n;i++)e+=" pattern: "+(t=userSimplificationsInListForm[i]);return DEBUG&&console.log("frozenHash: "+e),e}}).call(this)},44393:(e,t,r)=>{"use strict";r.d(t,{xmu:()=>l,L6P:()=>c,hoQ:()=>h,Q2H:()=>f,T2s:()=>d,wAg:()=>m,D87:()=>g,gkR:()=>y,AU1:()=>v,KUA:()=>x,H$o:()=>b,dJt:()=>_,BD1:()=>E,NEH:()=>M,VTK:()=>N,bCN:()=>k,R2U:()=>A,vfb:()=>T,yfy:()=>O,dRX:()=>C,jZX:()=>I,nP0:()=>R,hwj:()=>L,HUl:()=>B,j6H:()=>z,XIh:()=>U,nzD:()=>F,KdP:()=>V,RxL:()=>j,cGZ:()=>X,tno:()=>Z,wq3:()=>K,EXn:()=>ee,PGN:()=>te,H2X:()=>re,FQq:()=>ne,R_h:()=>oe,uGk:()=>ae,l_G:()=>se,lmY:()=>le,TFz:()=>ue,UY7:()=>ce,LNy:()=>he,EZ_:()=>fe,jGu:()=>de,FEl:()=>me,UJ7:()=>ge,VCU:()=>ye,NVL:()=>xe,VTA:()=>be,Hyl:()=>_e,z7e:()=>Ee,Hpm:()=>Se,u$D:()=>Ne,asV:()=>ke,LL6:()=>Te,Nb1:()=>Ce,vZI:()=>Re,ItP:()=>De,YN4:()=>qe,apJ:()=>Pe,_QO:()=>Ue,z1:()=>Fe,Z$b:()=>Ve,MNE:()=>je,Ihq:()=>We,aP8:()=>Xe,cqN:()=>Ze,dve:()=>Ke,KRU:()=>et,xkU:()=>tt,I7O:()=>rt,Wnp:()=>nt,hlO:()=>ot,xcw:()=>at,Vj7:()=>st,hh1:()=>lt,epX:()=>ut,YLR:()=>ct,$7o:()=>pt,nl3:()=>ft,L5i:()=>mt,s$N:()=>yt,lhN:()=>xt,kZc:()=>_t,RQg:()=>wt,RHc:()=>Et,Hlq:()=>Mt,rJC:()=>St,arc:()=>Nt,NXM:()=>kt,K_0:()=>At,KlW:()=>Tt,Vae:()=>Ot,JR3:()=>Ct,Vp3:()=>Rt,UKq:()=>Dt,aJS:()=>Lt,lvA:()=>Bt,Y2F:()=>zt,DJq:()=>$t,DQC:()=>Gt,gI5:()=>Ht,umB:()=>Wt,KoI:()=>Yt,QSb:()=>Jt,TuY:()=>Qt,cR8:()=>er,UCr:()=>rr,oqt:()=>ir,DoQ:()=>ar,H_M:()=>lr,Jv5:()=>cr,flY:()=>hr,uNC:()=>dr,qZ8:()=>gr,Sl2:()=>vr,X4z:()=>br,sYn:()=>wr,TV2:()=>Er,imd:()=>Sr,rdJ:()=>kr,DtN:()=>Tr,CQJ:()=>Cr,oLr:()=>Rr,hhm:()=>Lr,o2h:()=>Br,wRX:()=>Ur,urB:()=>Fr,ugy:()=>Gr,ri7:()=>Vr,TB7:()=>jr,e95:()=>Xr,xD1:()=>Yr,QNZ:()=>Jr,Ots:()=>Kr,d8j:()=>Qr,SgA:()=>tn,T7E:()=>nn,LWc:()=>an,InT:()=>sn,wYR:()=>ln,EUu:()=>un,Ncz:()=>cn,wbg:()=>pn,NxE:()=>hn,oik:()=>mn,LBl:()=>gn,o8R:()=>yn,mK$:()=>vn,inN:()=>xn,swc:()=>bn,xEA:()=>_n,JlY:()=>wn,ALW:()=>En,p5m:()=>Mn,LMt:()=>Sn,J9c:()=>Nn,WS9:()=>kn,jbu:()=>Tn,EmS:()=>On,zMo:()=>Cn,iR9:()=>In,MtN:()=>Rn,DRD:()=>qn,T0Y:()=>Pn});var n=r(55339),i=r(48382);let o=0;function a(){this.positionLabel="above",this.isVisible=!0,this.color="black",this.style="",this.styleTikz="",this.epaisseur=1,this.opacite=1,this.pointilles=!1,this.id=o,o++,mathalea.objets2D.push(this)}function s(e,t,r,i="above"){this.typeObjet="point",o++,this.id=o,1===arguments.length?this.nom=e:2===arguments.length?(this.x=(0,n.vbX)(e,3),this.y=(0,n.vbX)(t,3)):(this.x=(0,n.vbX)(e,3),this.y=(0,n.vbX)(t,3),this.nom=r),this.positionLabel=i,this.xSVG=function(e){return(0,n.vbX)(this.x*e,3)},this.ySVG=function(e){return-(0,n.vbX)(this.y*e,3)},this.nom||(this.nom=" ")}function l(...e){return new s(...e)}function u(...e){a.call(this),this.taille=3,this.epaisseur=1,this.opacite=.8,this.style="x","string"==typeof e[e.length-1]?(this.color=e[e.length-1],e.length--):this.color="black",this.svg=function(t){const r=[];let n,i,o,a,u;for(const p of e)p.constructor===s&&("x"===this.style?(n=ee(l(p.x-this.taille/t,p.y+this.taille/t),l(p.x+this.taille/t,p.y-this.taille/t),this.color),i=ee(l(p.x-this.taille/t,p.y-this.taille/t),l(p.x+this.taille/t,p.y+this.taille/t),this.color),n.epaisseur=this.epaisseur,i.epaisseur=this.epaisseur,n.opacite=this.opacite,i.opacite=this.opacite,r.push(n,i),n.isVisible=!1,i.isVisible=!1):"o"===this.style?(o=l(p.x,p.y),u=Ee(o,this.taille/t,this.color),u.epaisseur=this.epaisseur,u.opacite=this.opacite,u.couleurDeRemplissage=this.color,u.opaciteDeRemplissage=this.opacite/2,r.push(u)):"#"===this.style?(o=l(p.x-this.taille/t,p.y-this.taille/t),a=l(p.x+this.taille/t,p.y-this.taille/t),u=ue(o,a,this.color),u.epaisseur=this.epaisseur,u.opacite=this.opacite,u.couleurDeRemplissage=this.color,u.opaciteDeRemplissage=this.opacite/2,r.push(u)):"+"===this.style?(n=ee(l(p.x,p.y+this.taille/t),l(p.x,p.y-this.taille/t),this.color),i=ee(l(p.x-this.taille/t,p.y),l(p.x+this.taille/t,p.y),this.color),n.epaisseur=this.epaisseur,i.epaisseur=this.epaisseur,n.opacite=this.opacite,i.opacite=this.opacite,r.push(n,i)):"|"===this.style&&(n=ee(l(p.x,p.y+this.taille/t),l(p.x,p.y-this.taille/t),this.color),n.epaisseur=this.epaisseur,n.opacite=this.opacite,r.push(n)));let c="";for(const e of r)c+="\n\t"+e.svg(t);return c=`<g id="${this.id}">`+c+"</g>",c},this.tikz=function(){const t=[];let r,n,i,o,a;const u=this.taille*mathalea.scale/20;for(const p of e)p.constructor===s&&("x"===this.style?(r=ee(l(p.x-u,p.y+u),l(p.x+u,p.y-u),this.color),n=ee(l(p.x-u,p.y-u),l(p.x+u,p.y+u),this.color),r.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,r.opacite=this.opacite,n.opacite=this.opacite,t.push(r,n)):"o"===this.style?(i=l(p.x,p.y),a=Ee(i,u,this.color),a.epaisseur=this.epaisseur,a.opacite=this.opacite,a.couleurDeRemplissage=this.color,a.opaciteDeRemplissage=this.opacite/2,t.push(a)):"#"===this.style?(i=l(p.x-u,p.y-u),o=l(p.x+u,p.y-u),a=ce(i,o,this.color),a.epaisseur=this.epaisseur,a.opacite=this.opacite,a.couleurDeRemplissage=this.color,a.opaciteDeRemplissage=this.opacite/2,t.push(a)):"+"===this.style?(r=ee(l(p.x,p.y+u),l(p.x,p.y-u),this.color),n=ee(l(p.x-u,p.y),l(p.x+u,p.y),this.color),r.epaisseur=this.epaisseur,n.epaisseur=this.epaisseur,r.opacite=this.opacite,n.opacite=this.opacite,t.push(r,n)):"|"===this.style&&(r=ee(l(p.x,p.y+u),l(p.x,p.y-u),this.color),r.epaisseur=this.epaisseur,r.opacite=this.opacite,t.push(r)));let c="";for(const e of t)c+="\n\t"+e.tikz();return c}}function c(...e){return new u(...e)}function p(e,t){let r,n;a.call(this),this.lieu=e,this.taille=.2,this.x=e.x,this.y=e.y,t.constructor===s&&(r=d(e,t,1),this.direction=nt(r,e,90)),t.constructor===S&&(n=T(e,t),n.isVisible=!1,this.direction=d(l(n.x1,n.y1),l(n.x2,n.y2),1)),this.svg=function(e){const t=ee(d(this.lieu,this.direction,20*this.taille/e),d(this.lieu,this.direction,20*-this.taille/e));return this.id=t.id,t.isVisible=!1,t.svg(e)},this.tikz=function(){return ee(d(this.lieu,this.direction,this.taille/mathalea.scale),d(this.lieu,this.direction,-this.taille/mathalea.scale)).tikz()}}function h(e,t){return new p(e,t)}function f(e,t,r,i="above"){return new s((0,n.n0o)((e.x+t.x)/2),(0,n.n0o)((e.y+t.y)/2),r,i)}function d(e,t,r,i="",o="above"){return void 0!==r&&"string"!=typeof r||(r=(0,n.n0o)(sn(e,t)*(0,n.nSR)(15,85)/100)),at(t,e,(0,n.n0o)(r/sn(e,t)),i,o)}function m(e,t,r){const n=(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y),i=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y),o=(r.x-t.x)**2+(r.y-t.y)**2;return 0===n&&i>0&&i<o}function g(e,t,r){return 0===(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y)}function y(e,t,r){const n=(r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y),i=(e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y);return 0===n&&i>0}function v(e,t,r,o="above"){"number"!=typeof t&&(t=(0,n.nSR)(-180,180));return l(e.centre.x+e.rayon*Math.cos((0,i.uR)(t)),e.centre.y+e.rayon*Math.sin((0,i.uR)(t)),r,o)}function x(e,t,r,i="above"){return 0===e.b?l((0,n.n0o)(-e.c/e.a),t,r,i):0===e.a?l(t,(0,n.n0o)(-e.c/e.b),r,i):l(t,(0,n.n0o)((-e.c-e.a*t)/e.b),r,i)}function b(e,t,r="",i="above"){let o,a;return t.a*e.b-t.b*e.a==0?(console.log("Les droites sont parallèles, pas de point d'intersection"),!1):(a=(0,n.n0o)((t.c*e.a-e.c*t.a)/(t.a*e.b-t.b*e.a)),o=0===e.a?(0,n.n0o)((-t.c-t.b*a)/t.a):(0,n.n0o)((-e.c-e.b*a)/e.a),l(o,a,r,i))}function _(...e){const t=e.length,r=(0,n.nSR)(1,360),i=e[0],o=l(i.x+1,i.y),a=e[1];return!(t<2)&&(2===t?pt(o,i,r,a):3===t?"number"==typeof e[2]?pt(o,i,e[2],a):pt(o,i,r,a,e[2]):4===t?"number"==typeof e[2]?pt(o,i,e[2],a,e[3]):pt(o,i,r,a,e[2],e[3]):pt(o,i,e[2],a,e[3],e[4]))}function w(...e){a.call(this),this.taille=1,"string"==typeof e[e.length-1]?(this.color=e[e.length-1],e.length--):this.color="black",this.svg=function(t){let r,n,i="";Array.isArray(e[0])?this.listePoints=e[0]:this.listePoints=e;for(const e of this.listePoints)switch(r=e.x,n=e.y,e.positionLabel){case"left":i+=tn(e.nom,r-10/t,n,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"right":i+=tn(e.nom,r+10/t,n,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"below":i+=tn(e.nom,r,n-10/t,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"above":i+=tn(e.nom,r,n+10/t,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"above right":i+=tn(e.nom,r+10/t,n+10/t,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"below left":i+=tn(e.nom,r-10/t,n-10/t,this.color,10,10*this.taille,"").svg(t)+"\n";break;case"below right":i+=tn(e.nom,r+10/t,n-10/t,this.color,10,10*this.taille,"").svg(t)+"\n";break;default:i+=tn(e.nom,r-10/t,n+10/t,this.color,10,10*this.taille,"").svg(t)+"\n"}return i=`<g id="${this.id}">${i}</g>`,i},this.tikz=function(){let t="",r="";"black"!==this.color&&(r=`,${this.color}`);for(const n of e)t+=`\t\\draw (${n.x},${n.y}) node[${n.positionLabel}${r}] {$${n.nom}$};\n`;return t}}function E(...e){return new w(...e)}function M(e,t="",r="above"){let i=0,o=0,a=0;for(const n of e.listePoints)i+=n.x,o+=n.y,a++;return new s((0,n.n0o)(i/a),(0,n.n0o)(o/a),t,r)}function S(e,t,r,i){let o,s,u,c,p,h,f,m;if(a.call(this),2===arguments.length?(this.nom="",this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=(0,n.n0o)(this.y1-this.y2),this.b=(0,n.n0o)(this.x2-this.x1),this.c=(0,n.n0o)((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1)):3===arguments.length?"number"==typeof e?(this.nom="",this.a=e,this.b=t,this.c=r,o=e,s=t,u=r,(0,n.h$R)(o,0)?(this.x1=0,this.x2=1,this.y1=(0,n.n0o)(-u/s),this.y2=(0,n.n0o)(-u/s)):(0,n.h$R)(s,0)?(this.y1=0,this.y2=1,this.x1=(0,n.n0o)(-u/o),this.x2=(0,n.n0o)(-u/o)):(this.x1=0,this.y1=(0,n.n0o)(-u/s),this.x2=1,this.y2=(0,n.n0o)((-u-o)/s))):(this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=(0,n.n0o)(this.y1-this.y2),this.b=(0,n.n0o)(this.x2-this.x1),this.c=(0,n.n0o)((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1),this.nom=r):4===arguments.length&&("number"==typeof e?(this.a=e,this.b=t,this.c=r,o=e,s=t,u=r,this.nom=i,(0,n.h$R)(o,0)?(this.x1=0,this.x2=1,this.y1=(0,n.n0o)(-u/s),this.y2=(0,n.n0o)(-u/s)):(0,n.h$R)(s,0)?(this.y1=0,this.y2=1,this.x1=(0,n.n0o)(-u/o),this.x2=(0,n.n0o)(-u/o)):(this.x1=0,this.y1=(0,n.n0o)(-u/s),this.x2=1,this.y2=(0,n.n0o)((-u-o)/s))):(this.x1=e.x,this.y1=e.y,this.x2=t.x,this.y2=t.y,this.a=(0,n.n0o)(this.y1-this.y2),this.b=(0,n.n0o)(this.x2-this.x1),this.c=(0,n.n0o)((this.x1-this.x2)*this.y1+(this.y2-this.y1)*this.x1),this.nom=r,this.color=i)),0!==this.b&&(this.pente=(0,n.n0o)(-this.a/this.b)),this.x1>this.x2&&(c=this.x1,p=this.y1,this.x1=this.x2+0,this.y1=this.y2+0,this.x2=c,this.y2=p),this.normal=Z(this.a,this.b),this.directeur=Z(this.b,-this.a),this.angleAvecHorizontale=cn(l(1,0),l(0,0),l(this.directeur.x,this.directeur.y)),""!==this.nom){if((0,n.h$R)(this.b,0,.1))h=-this.c/this.a+.8,f=mathalea.fenetreMathalea2d[1]+1;else if((0,n.h$R)(this.a,0,.1))h=mathalea.fenetreMathalea2d[0]+.8,f=-this.c/this.b+.8;else{const e=(-this.a*(mathalea.fenetreMathalea2d[0]+1)-this.c)/this.b,t=(-this.a*(mathalea.fenetreMathalea2d[2]-1)-this.c)/this.b,r=(-this.b*(mathalea.fenetreMathalea2d[1]+1)-this.c)/this.a,n=(-this.b*(mathalea.fenetreMathalea2d[3]-1)-this.c)/this.a;e>mathalea.fenetreMathalea2d[1]&&e<mathalea.fenetreMathalea2d[3]?(h=mathalea.fenetreMathalea2d[0]+1,f=e+this.pente):t>mathalea.fenetreMathalea2d[1]&&t<mathalea.fenetreMathalea2d[3]?(h=mathalea.fenetreMathalea2d[2]-1,f=t-this.pente):r>mathalea.fenetreMathalea2d[0]&&r<mathalea.fenetreMathalea2d[2]?(h=r,f=mathalea.fenetreMathalea2d[1]+Math.abs(this.pente)):n>mathalea.fenetreMathalea2d[0]&&n<mathalea.fenetreMathalea2d[2]?(h=n,f=mathalea.fenetreMathalea2d[3]+this.pente):(h=(mathalea.fenetreMathalea2d[0]+mathalea.fenetreMathalea2d[2])/2,f=x(this,h).y)}h=(0,n.vbX)(h,2),f=(0,n.vbX)(f,2),m=tn(this.nom,h,f,"black",20,0,"")}this.svg=function(e){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);const t=l(this.x1,this.y1),r=l(this.x2,this.y2),n=d(t,r,-50),i=d(r,t,-50);return""===this.nom?`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${i.xSVG(e)}" y2="${i.ySVG(e)}" stroke="${this.color}" ${this.style} id ="${this.id}" />`:`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${i.xSVG(e)}" y2="${i.ySVG(e)}" stroke="${this.color}" ${this.style} id ="${this.id}" />`+m.svg(e)},this.tikz=function(){const e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!==this.epaisseur&&e.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!==this.opacite&&e.push(`opacity = ${this.opacite}`);let t=[];e.length>0&&(t="["+e.join(",")+"]");const r=l(this.x1,this.y1),n=l(this.x2,this.y2),i=d(r,n,-50),o=d(n,r,-50);return""!==this.nom?`\\draw${t} (${i.x},${i.y})--(${o.x},${o.y});`+m.tikz():`\\draw${t} (${i.x},${i.y})--(${o.x},${o.y});`},this.svgml=function(e,t){const r=l(this.x1,this.y1),n=l(this.x2,this.y2),i=ee(d(r,n,-50),d(n,r,-50),this.color);return i.isVisible=!1,i.svgml(e,t)+m.svg(e)},this.tikzml=function(e){const t=l(this.x1,this.y1),r=l(this.x2,this.y2),n=ee(d(t,r,-50),d(r,t,-50),this.color);return n.isVisible=!1,n.tikzml(e)+m.tikz()}}function N(...e){return new S(...e)}function k(e,t,r="",i="black"){return N(e,l((0,n.n0o)(e.x+t.x),(0,n.n0o)(e.y+t.y)),r,i)}function A(e,t,r="",n="black"){return k(e,t.directeur,r,n)}function T(e,t,r="",n="black"){return k(e,t.normal,r,n)}function O(e,t="",r="black"){return I(e,0,t,r)}function C(e,t="",r){return k(e,Z(0,1),t,r)}function I(e,t,r="",i="black"){return N(e,l((0,n.n0o)(e.x+1),(0,n.n0o)(e.y+t)),r,i)}function R(e,t,r="",n="black"){const i=f(e,t);return N(nt(e,i,90),nt(e,i,-90),r,n)}function D(e,t,r="black",n="×"){a.call(this),this.color=r;const i=f(e,t),o=Bt(nt(e,i,90),i,t,this.color),s=Yt(n,this.color,e,i,i,t);o.isVisible=!1,s.isVisible=!1,this.svg=function(e){return`<g id="${this.id}">${o.svg(e)+"\n"+s.svg(e)}</g>`},this.tikz=function(){return o.tikz()+"\n"+s.tikz()},this.svgml=function(e,t){return o.svgml(e,t)+"\n"+s.svg(e)},this.tikzml=function(e){return o.tikzml(e)+"\n"+s.tikz()}}function L(...e){return new D(...e)}function q(e,t,r="black",n="×",i=!0){a.call(this),this.color=r;const o=f(e,t),s=N(e,t),l=h(o,s),u=Yt(n,r,e,o,o,t);let c="";this.svg=function(e){return c=i?l.svg(e)+"\n"+u.svg(e):u.svg(e),c=`<g id="${this.id}">${c}</g>`,l.isVisible=!1,s.isVisible=!1,u.isVisible=!1,c},this.tikz=function(){return i?l.tikz()+"\n"+u.tikz():u.tikz()}}function B(...e){return new q(...e)}function P(e,t,r=!1,n="blue",i="×",o="||",s="red",l=2){a.call(this);const u=f(e,t),c=nt(e,u,90),p=nt(e,u,-90),h=d(u,c,.785*sn(e,t)),m=d(u,p,.785*sn(e,t)),g=De(e,h),y=De(t,h),v=De(e,m),x=De(t,m),b=R(e,t);g.isVisible=!1,y.isVisible=!1,v.isVisible=!1,x.isVisible=!1,b.isVisible=!1,b.color=s,b.epaisseur=l;const _=L(e,t,n,i);_.isVisible=!1;const w=[g,y,v,x,b,_];if(r){const r=ee(e,h);r.pointilles=!0;const i=ee(t,h);i.pointilles=!0;const a=ee(e,m);a.pointilles=!0;const s=ee(t,m);s.pointilles=!0;const l=Yt(o,n,e,h,t,h,e,m,t,m);w.push(r,i,a,s,l,_)}this.svg=function(e){let t="";for(const r of w)t+="\n\t"+r.svg(e);return t=`<g id="${this.id}">${t}</g>`,t},this.tikz=function(){let e="";for(const t of w)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of w)void 0===n.svgml?r+="\n\t"+n.svg(e):r+="\n\t"+n.svgml(e,t);return r},this.tikzml=function(e){let t="";for(const r of w)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function z(...e){return new P(...e)}function U(e,t,r,i="black"){const o=(0,n.n0o)(cn(e,t,r)/2);return re(t,nt(d(t,e,3),t,o),i)}function $(e,t,r,i="black",o="×"){a.call(this),this.color=i,this.mark=o,this.centre=t,this.depart=d(t,e,1.5),this.demiangle=(0,n.n0o)(cn(e,t,r)/2),this.lieu=nt(this.depart,t,this.demiangle),this.arrivee=d(t,r,1.5),this.svg=function(e){const r=Jt(d(this.centre,this.depart,30/e),t,this.demiangle,30/e,this.mark,this.color,2,1),n=Jt(d(this.centre,this.lieu,30/e),t,this.demiangle,30/e,this.mark,this.color,2,1);return r.svg(e)+"\n"+n.svg(e)+"\n"},this.tikz=function(){const e=Jt(d(this.centre,this.depart,1.5/mathalea.scale),t,this.demiangle,1.5/mathalea.scale,this.mark,this.color,2,1),r=Jt(d(this.centre,this.lieu,1.5/mathalea.scale),t,this.demiangle,1.5/mathalea.scale,this.mark,this.color,2,1);return e.tikz()+"\n"+r.tikz()+"\n"}}function F(...e){return new $(...e)}function G(e,t,r,n=!1,i="blue",o="×",a=5,s="red",l=2){const u=d(t,e,a),c=d(t,r,a),p=ee(t,u),h=ee(t,c);p.styleExtremites="-|",h.styleExtremites="-|";const f=N(u,c);f.isVisible=!1;const m=st(t,f),g=De(c,m),y=De(u,m),v=U(e,t,r);v.color=s,v.epaisseur=l;const x=[p,h,g,y,v];if(n){const e=ee(u,m),r=ee(c,m);e.pointilles=!0,r.pointilles=!0;const n=Yt(o,i,t,u,u,m,t,c,c,m);x.push(e,r,n)}this.svg=function(e){let t="";for(const r of x)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of x)e+="\n\t"+t.tikz();return e}}function V(...e){return new G(...e)}function H(...e){if(a.call(this),Array.isArray(e[0])?(this.listePoints=e[0],this.color=e[1]):this.listePoints=e,this.nom="",e.length<15)for(const t of e)this.nom+=t.nom;this.svg=function(e){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let t="";for(const r of this.listePoints)t+=`${(0,n.n0o)(r.x*e)},${(0,n.n0o)(-r.y*e)} `;return`<polyline points="${t}" fill="none" stroke="${this.color}" ${this.style} id="${this.id}" />`},this.tikz=function(){const e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!==this.epaisseur&&e.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!==this.opacite&&e.push(`opacity = ${this.opacite}`);let t=[];e.length>0&&(t="["+e.join(",")+"]");let r="";for(const n of this.listePoints)r+=`(${n.x},${n.y})--`;return r=r.substr(0,r.length-2),`\\draw${t} ${r};`},this.svgml=function(e,t){let r,n="";for(let i=1;i<this.listePoints.length;i++)r=ee(this.listePoints[i-1],this.listePoints[i]),r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,n+=r.svgml(e,t);return n},this.tikzml=function(e){const t=[];this.color.length>1&&"black"!==this.color&&t.push(this.color),1!==this.epaisseur&&t.push(`line width = ${this.epaisseur}`),1!==this.opacite&&t.push(`opacity = ${this.opacite}`),t.push(`decorate,decoration={random steps , segment length=3pt, amplitude = ${e}pt}`);let r=[];t.length>0&&(r="["+t.join(",")+"]");let n="";for(const i of this.listePoints)n+=`(${i.x},${i.y})--`;return n=n.substr(0,n.length-2),`\\draw${r} ${n};`}}function j(...e){return new H(...e)}function W(e=10,t=5,r=5,i=l(0,0),o=!0,a=30,s=.5){const u=[],c=i,p=l(c.x+e,c.y),h=l(p.x,p.y+t),f=l(c.x,c.y+t),d=oe(c,p,h,f),m=_(c,(0,n.n0o)(r*s),a),g=tt(p,Z(c,m)),y=tt(h,Z(c,m)),v=tt(f,Z(c,m)),x=ee(c,m),b=ee(p,g),w=ee(h,y),E=ee(f,v),M=ee(m,g),S=ee(g,y),N=ee(y,v),k=ee(v,m);x.pointilles=!0,M.pointilles=!0,k.pointilles=!0,u.push(d,x,b,w,E,M,S,N,k),o&&(u.push(Ht(ee(p,c),"",1)),u.push(Ht(ee(c,f),"",1)),u.push(Ht(ee(g,p),r+" cm",1))),this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e}}function X(...e){return new W(...e)}function Y(e,t,r=""){a.call(this),1===arguments.length?this.nom=e:("number"==typeof e?(this.x=e,this.y=t):(this.x=(0,n.n0o)(t.x-e.x),this.y=(0,n.n0o)(t.y-e.y)),this.nom=r),this.norme=function(){return(0,n.n0o)(Math.sqrt(this.x**2+this.y**2))},this.oppose=function(){this.x=-this.x,this.y=-this.y},this.xSVG=function(e){return this.x*e},this.ySVG=function(e){return-this.y*e},this.representant=function(e){const t=ee(e,l(e.x+this.x,e.y+this.y));return t.styleExtremites="|->",t},this.representantNomme=function(e,t,r=1,n="black"){const i=l(e.x+this.x,e.y+this.y),o=ee(e,i).angleAvecHorizontale,a=tt(f(e,i),pt(this,e,90,1/this.norme()));return K(t,a.x,a.y,r,o,n)}}function Z(...e){return new Y(...e)}function J(e,t,r,n=1,i=0,o="black"){a.call(this),this.nom=e,this.x=t,this.y=r,this.color=o,this.angle=i,this.taille=n;const s=[];let u,c;const p=Kr(this.nom,this.x,this.y,-this.angle,this.color,this.taille,"middle",!0),h=l(this.x,this.y),f=l(h.x+1.1*this.nom.length,h.y),d=pt(f,h,90+this.angle,.5/this.nom.length),m=tt(d,Z(f,h));c=tt(d,Z(h,f)),u=Z(m,c),u=nt(u,h,this.angle),c=tt(m,u);const g=ee(m,c);g.styleExtremites="->",g.tailleExtremites=3,g.color=this.color,s.push(p,g),this.svg=function(e){let t="";for(const r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of s)e+="\n\t"+t.tikz();return e}}function K(e,t,r,n=1,i=0,o="black"){return new J(e,t,r,n,i,o)}function Q(e,t,r,i,o){a.call(this),this.typeObjet="segment",this.styleExtremites="",this.tailleExtremites=4,2===arguments.length?(this.x1=(0,n.vbX)(e.x,2),this.y1=(0,n.vbX)(e.y,2),this.x2=(0,n.vbX)(t.x,2),this.y2=(0,n.vbX)(t.y,2)):3===arguments.length?(this.x1=(0,n.vbX)(e.x,2),this.y1=(0,n.vbX)(e.y,2),this.x2=(0,n.vbX)(t.x,2),this.y2=(0,n.vbX)(t.y,2),this.color=r):4===arguments.length?(this.x1=(0,n.vbX)(e,2),this.y1=(0,n.vbX)(t,2),this.x2=(0,n.vbX)(r,2),this.y2=(0,n.vbX)(i,2)):(this.x1=(0,n.vbX)(e,2),this.y1=(0,n.vbX)(t,2),this.x2=(0,n.vbX)(r,2),this.y2=(0,n.vbX)(i,2),this.color=o),this.extremite1=l(this.x1,this.y1),this.extremite2=l(this.x2,this.y2),this.longueur=(0,n.n0o)(Math.sqrt((this.x2-this.x1)**2+(this.y2-this.y1)**2)),this.angleAvecHorizontale=cn(l(this.x1+1,this.y1),this.extremite1,this.extremite2),this.svg=function(e){const t=this.tailleExtremites;if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);let r="";const n=l(this.x1,this.y1),i=l(this.x2,this.y2);if(this.styleExtremites.length>1){if("|"===this.styleExtremites.substr(-1)){const o=d(i,n,t/mathalea.pixelsParCm),a=nt(o,i,90),s=nt(o,i,-90);r+=`<line x1="${a.xSVG(e)}" y1="${a.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}if(">"===this.styleExtremites.substr(-1)){const o=d(i,n,t/mathalea.pixelsParCm),a=nt(i,o,90),s=nt(i,o,-90);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}if("<"===this.styleExtremites.substr(-1)){const o=d(i,n,-t/mathalea.pixelsParCm),a=nt(i,o,90),s=nt(i,o,-90);r+=`<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${i.xSVG(e)}" y1="${i.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}if("<"===this.styleExtremites[0]){const o=d(n,i,t/mathalea.pixelsParCm),a=nt(n,o,90),s=nt(n,o,-90);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}if(">"===this.styleExtremites[0]){const o=d(n,i,-t/mathalea.pixelsParCm),a=nt(n,o,90),s=nt(n,o,-90);r+=`<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${a.xSVG(e)}" y2="${a.ySVG(e)}" stroke="${this.color}" />`,r+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}if("|"===this.styleExtremites[0]){const o=d(n,i,t/mathalea.pixelsParCm),a=nt(o,n,90),s=nt(o,n,-90);r+=`<line x1="${a.xSVG(e)}" y1="${a.ySVG(e)}" x2="${s.xSVG(e)}" y2="${s.ySVG(e)}" stroke="${this.color}" />`}}return r+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${i.xSVG(e)}" y2="${i.ySVG(e)}" stroke="${this.color}" ${this.style} />`,r=this.styleExtremites.length>0?`<g id="${this.id}">${r}</g>`:r.replace("/>",`id="${this.id}" />`),r},this.tikz=function(){let e=[];const t=[];if(this.color.length>1&&"black"!==this.color&&t.push(this.color),1!==this.epaisseur&&t.push(`line width = ${this.epaisseur}`),1!==this.opacite&&t.push(`opacity = ${this.opacite}`),this.pointilles)switch(this.pointilles){case 1:t.push(" dash dot ");break;case 2:t.push(" densely dash dot dot ");break;case 3:t.push(" dash dot dot ");break;case 4:t.push(" dotted ");break;default:t.push(" dashed ")}return this.styleExtremites.length>1&&t.push(this.styleExtremites),t.length>0&&(e="["+t.join(",")+"]"),`\\draw${e} (${this.x1},${this.y1})--(${this.x2},${this.y2});`},this.svgml=function(e,t){this.style='fill="none"',1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `);const r=l(this.x1,this.y1),i=l(this.x2,this.y2),o=sn(r,i),a=(i.xSVG(e)-r.xSVG(e))/o/2,s=(i.ySVG(e)-r.ySVG(e))/o/2;let u=`<path d="M ${r.xSVG(e)}, ${r.ySVG(e)} Q ${Math.round(r.xSVG(e),0)}, ${(0,n.vbX)(r.ySVG(e),0)} `,c=1;for(let l=0;l<2*o+.25;l+=.5)c++,u+=`${Math.round(r.xSVG(e)+l*a+(0,n.nSR)(-2,2,0)*t)}, ${Math.round(r.ySVG(e)+l*s+(0,n.nSR)(-2,2,0)*t)} `;return u+=c%2==1?` ${Math.round(i.xSVG(e),0)}, ${(0,n.vbX)(i.ySVG(e),0)}" stroke="${this.color}" ${this.style}/>`:` ${Math.round(i.xSVG(e),0)}, ${(0,n.vbX)(i.ySVG(e),0)} ${(0,n.vbX)(i.xSVG(e),0)}, ${(0,n.vbX)(i.ySVG(e),0)}" stroke="${this.color}" ${this.style}/>`,u},this.tikzml=function(e){const t=l(this.x1,this.y1),r=l(this.x2,this.y2);let n=[];const i=[];this.color.length>1&&"black"!==this.color&&i.push(this.color),1!==this.epaisseur&&i.push(`line width = ${this.epaisseur}`),1!==this.opacite&&i.push(`opacity = ${this.opacite}`),this.styleExtremites.length>1&&i.push(this.styleExtremites),i.push(`decorate,decoration={random steps , amplitude = ${e}pt}`),n="["+i.join(",")+"]";return`\\draw${n} (${t.x},${t.y})--(${r.x},${r.y});`}}function ee(...e){return new Q(...e)}function te(...e){const t=ee(...e);return t.styleExtremites="|-|",t}function re(e,t,r="black"){return ee(e,d(t,e,-10),r)}function ne(e,t,r="black"){const n=ee(e,d(t,e,-10),r);return n.styleExtremites="|-",n}function ie(...e){a.call(this),this.couleurDeRemplissage="none",this.opaciteDeRemplissage=1.1,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,Array.isArray(e[0])?(this.listePoints=e[0],e[1]&&(this.color=e[1]),this.nom=this.listePoints.join()):(this.listePoints=e,this.nom=this.listePoints.join()),this.binomesXY=function(e){let t="";for(const r of this.listePoints)t+=`${(0,n.n0o)(r.x*e)},${(0,n.n0o)(-r.y*e)} `;return t},this.svg=function(e){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<polygon points="${this.binomesXY(e)}" stroke="${this.color}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),`<polygon points="${this.binomesXY(e)}" stroke="${this.color}" ${this.style} id="${this.id}" />`)},this.tikz=function(){const e=[];if(this.color.length>1&&"black"!==this.color&&e.push(this.color),1!==this.epaisseur&&e.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:e.push(" dash dot ");break;case 2:e.push(" densely dash dot dot ");break;case 3:e.push(" dash dot dot ");break;case 4:e.push(" dotted ");break;default:e.push(" dashed ")}1!==this.opacite&&e.push(`opacity=${this.opacite}`),1!==this.opaciteDeRemplissage&&e.push(`fill opacity = ${this.opaciteDeRemplissage}`),""!==this.couleurDeRemplissage&&e.push(`fill = ${this.couleurDeRemplissage}`),this.hachures&&this.hachures&&e.push(Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage}));let t=[];e.length>0&&(t="["+e.join(",")+"]");let r="";for(const n of this.listePoints)r+=`(${n.x},${n.y})--`;return""===this.couleurDeRemplissage?`\\draw ${t} ${r}cycle;`:`\\filldraw ${t} ${r}cycle;`},this.svgml=function(e,t){let r,n,i="",o=this.listePoints[0];for(let a=1;a<=this.listePoints.length;a++)n=this.listePoints[a%this.listePoints.length],o=this.listePoints[a-1],r=ee(o,n),r.isVisible=!0,r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,i+=r.svgml(e,t);return i},this.tikzml=function(e){let t,r,n,i="";for(let o=1;o<=this.listePoints.length;o++)n=this.listePoints[o%this.listePoints.length],r=this.listePoints[o-1],t=ee(r,n),t.isVisible=!1,t.epaisseur=this.epaisseur,t.color=this.color,t.opacite=this.opacite,i+="\t"+t.tikzml(e)+"\n";return i}}function oe(...e){return new ie(...e)}function ae(...e){const t=oe(...e);return t.sommets=xe(t),[t,t.sommets]}function se(e,t,r,i="black"){const o=[e,t];for(let a=1;a<r-1;a++)o[a+1]=nt(o[a-1],o[a],(0,n.n0o)(360/r-180));return oe(o,i)}function le(e,t,r,i="black"){const o=[e,t];for(let a=1;a<r-1;a++)o[a+1]=nt(o[a-1],o[a],(0,n.n0o)(180-360/r));return oe(o,i)}function ue(e,t,r){return se(e,t,4,r)}function ce(e,t,r){return le(e,t,4,r)}function pe(e,t="black",r="×"){const n=[];n.push(Yt(r,t,e.listePoints)),n.push(Bt(e.listePoints[0],e.listePoints[1],e.listePoints[2],t)),n.push(Bt(e.listePoints[1],e.listePoints[2],e.listePoints[3],t)),n.push(Bt(e.listePoints[2],e.listePoints[3],e.listePoints[0],t)),n.push(Bt(e.listePoints[3],e.listePoints[0],e.listePoints[1],t)),this.svg=function(e){let t="";for(const r of n)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of n)e+="\n\t"+t.tikz();return e}}function he(...e){return new pe(...e)}function fe(e,t,r,i="black"){const o=[];o[0]=l((0,n.n0o)(e.x+t),e.y);for(let a=1;a<r;a++)o[a]=nt(o[a-1],e,(0,n.n0o)(-360/r));return oe(o,i)}function de(e,t,r,n,i=1){const o=Ee(e,r),a=Ee(t,n);let s;return s=1===i?ke(o,a):ke(o,a,"",2),o.isVisible=!1,a.isVisible=!1,oe(e,t,s)}function me(e,t,r,n,i=1){1===i?n*=-1:r*=-1;const o=nt(d(e,t,1),e,r),a=nt(d(t,e,1),t,n),s=N(e,o),l=N(t,a);s.isVisible=!1,l.isVisible=!1;return oe(e,t,b(s,l,"C"))}function ge(e,t,r,n,i=1){r=1===i?Math.abs(r)%180:-Math.abs(r)%180;return oe(e,t,nt(d(e,t,n),e,r))}function ye(e,t,r,n,i=1){let o;r=i%2==1?Math.abs(r)%180:-Math.abs(r)%180;const a=N(e,t),s=nt(a,e,r),l=Ee(t,n);return a.isVisible=!1,s.isVisible=!1,l.isVisible=!1,o=Ne(s,l,"",i+1>>1==1?1:2),oe(e,t,o)}function ve(e,t="",r=.5){a.call(this),this.poly=e,this.dist=r;for(let n=0;n<e.listePoints.length;n++)""!==t&&(e.listePoints[n].nom=t[n]);this.svg=function(e){let t,r="";const n=this.poly,i=this.dist,o=M(n);for(let a=0;a<n.listePoints.length;a++)t=d(o,n.listePoints[a],sn(o,n.listePoints[a])+20*i/e),t.positionLabel="center",r+="\n\t"+Qr(n.listePoints[a].nom,t,"black",12,12,"").svg(e);return r},this.tikz=function(){let e,t="";const r=this.poly,n=this.dist,i=M(r);for(let o=0;o<r.listePoints.length;o++)e=d(i,r.listePoints[o],sn(i,r.listePoints[o])+n/mathalea.scale),t+="\n\t"+Jr(`$${r.listePoints[o].nom}$`,e,"milieu").tikz();return t}}function xe(...e){return new ve(...e)}function be(e,t,r){for(let n=0;n<e.listePoints.length;n++)for(const i in t)e.listePoints[n].nom===t[i]&&(e.listePoints[n].positionLabel=r,E(e.listePoints[n]))}function _e(e){if(3!==e.listePoints.length)return!1;const t=e.listePoints[0],r=e.listePoints[1],n=e.listePoints[2];return.5*Math.abs((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))}function we(e,t,r){a.call(this),r&&(this.color=r,this.styleTikz=`[${r}]`),this.centre=e,this.rayon=t,this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,this.svg=function(r){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<circle cx="${e.xSVG(r)}" cy="${e.ySVG(r)}" r="${t*r}" stroke="${this.color}" ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<circle cx="${e.xSVG(r)}" cy="${e.ySVG(r)}" r="${t*r}" stroke="${this.color}" ${this.style} id="${this.id}" />`)},this.tikz=function(){let r=[];const n=[];if(this.color.length>1&&"black"!==this.color&&n.push(this.color),1!==this.epaisseur&&n.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:n.push(" dash dot ");break;case 2:n.push(" densely dash dot dot ");break;case 3:n.push(" dash dot dot ");break;case 4:n.push(" dotted ");break;default:n.push(" dashed ")}return 1!==this.opacite&&n.push(`opacity = ${this.opacite}`),this.hachures&&this.hachures&&n.push(Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})),n.length>0&&(r="["+n.join(",")+"]"),`\\draw${r} (${e.x},${e.y}) circle (${t});`},this.svgml=function(r,i){1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let o=`<path d="M ${e.xSVG(r)+t*r} ${e.ySVG(r)} C ${e.xSVG(r)+t*r} ${e.ySVG(r)}, `;for(let a=1;a<101;a++)o+=`${(0,n.vbX)(e.xSVG(r)+t*Math.cos(2*a*Math.PI/101)*r+(0,n.nSR)(-1,1)*i,2)} ${(0,n.vbX)(e.ySVG(r)+t*Math.sin(2*a*Math.PI/100)*r+(0,n.nSR)(-1,1)*i,2)}, `;return o+=` ${e.xSVG(r)+t*r} ${e.ySVG(r)} Z" stroke="${this.color}" ${this.style}"/>`,o},this.tikzml=function(r){let n=[];const i=[];this.color.length>1&&"black"!==this.color&&i.push(this.color),1!==this.epaisseur&&i.push(`line width = ${this.epaisseur}`),1!==this.opacite&&i.push(`opacity = ${this.opacite}`),i.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),n="["+i.join(",")+"]";return`\\draw${n} (${e.x},${e.y}) circle (${t});`}}function Ee(...e){return new we(...e)}function Me(e,t,r,i){a.call(this),i&&(this.color=i,this.styleTikz=`[${i}]`),this.centre=e,this.rx=t,this.ry=r,this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.svg=function(i){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return 1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<ellipse cx="${e.xSVG(i)}" cy="${e.ySVG(i)}" rx="${(0,n.n0o)(t*i)}" ry="${(0,n.n0o)(r*i)}" stroke="${this.color}" ${this.style} id="${this.id}" />`},this.tikz=function(){let n=[];const i=[];if(this.color.length>1&&"black"!==this.color&&i.push(this.color),1!==this.epaisseur&&i.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:i.push(" dash dot ");break;case 2:i.push(" densely dash dot dot ");break;case 3:i.push(" dash dot dot ");break;case 4:i.push(" dotted ");break;default:i.push(" dashed ")}return 1!==this.opacite&&i.push(`opacity = ${this.opacite}`),i.length>0&&(n="["+i.join(",")+"]"),`\\draw${n} (${e.x},${e.y}) ellipse (${t}cm and ${r}cm);`},this.tikzml=function(n){let i=[];const o=[];this.color.length>1&&"black"!==this.color&&o.push(this.color),1!==this.epaisseur&&o.push(`line width = ${this.epaisseur}`),1!==this.opacite&&o.push(`opacity = ${this.opacite}`),o.push(`decorate,decoration={random steps , amplitude = ${n}pt}`),i="["+o.join(",")+"]";return`\\draw${i} (${e.x},${e.y}) ellipse (${t}cm and ${r}cm);`}}function Se(...e){return new Me(...e)}function Ne(e,t,r="",i=1){const o=t.centre,a=t.rayon,s=e.a,u=e.b,c=e.c,p=o.x,h=o.y;let f,d,m,g,y,v;if(0===u){if(m=(0,n.n0o)(-c/s),y=m,f=(0,n.n0o)(4*(-p*p-c*c/(s*s)-2*p*c/s+a*a)),f<0)return!1;(0,n.h$R)(f,0)?(g=(0,n.n0o)(h+Math.sqrt(f)/2),v=g):(g=(0,n.n0o)(h-Math.sqrt(f)/2),v=(0,n.n0o)(h+Math.sqrt(f)/2))}else if(0===s){if(g=(0,n.n0o)(-c/u),v=g,f=(0,n.n0o)(4*(-h*h-c*c/(u*u)-2*h*c/u+a*a)),f<0)return!1;(0,n.h$R)(f,0)?(m=(0,n.n0o)(p+Math.sqrt(f)/2),y=m):(m=(0,n.n0o)(p-Math.sqrt(f)/2),y=(0,n.n0o)(p+Math.sqrt(f)/2))}else{if(f=(0,n.n0o)((2*(s*c/(u*u)+h*s/u-p))**2-4*(1+(s/u)**2)*(p*p+h*h+(c/u)**2+2*h*c/u-a*a)),f<0)return!1;(0,n.h$R)(f,0)?(d=(0,n.n0o)(Math.sqrt(f)),m=(0,n.n0o)((-2*(s*c/(u*u)+h*s/u-p)-d)/(2*(1+(s/u)**2))),y=m,g=(0,n.n0o)((-s*m-c)/u),v=g):(d=(0,n.n0o)(Math.sqrt(f)),m=(0,n.n0o)((-2*(s*c/(u*u)+h*s/u-p)-d)/(2*(1+(s/u)**2))),y=(0,n.n0o)((-2*(s*c/(u*u)+h*s/u-p)+d)/(2*(1+(s/u)**2))),g=(0,n.n0o)((-s*m-c)/u),v=(0,n.n0o)((-s*y-c)/u))}return 1===i?v>g?l(y,v,r):l(m,g,r):v>g?l(m,g,r):l(y,v,r)}function ke(e,t,r="",n=1){const i=e.centre,o=t.centre,a=e.rayon,s=t.rayon,u=i.x,c=o.x,p=i.y,h=c-u,f=o.y-p,d=Math.sqrt(f*f+h*h);if(d>a+s)return!1;if(d<Math.abs(a-s))return!1;const m=(a*a-s*s+d*d)/(2*d),g=u+h*m/d,y=p+f*m/d,v=Math.sqrt(a*a-m*m),x=v/d*-f,b=h*(v/d),_=g+x,w=g-x,E=y+b,M=y-b;return 1===n?M>E?l(w,M,r):l(_,E,r):M>E?l(_,E,r):l(w,M,r)}function Ae(e,t,r="black"){we.call(this,e,sn(e,t),r)}function Te(...e){return new Ae(...e)}function Oe(e,t,r,i=!1,o="none",s="black",u=.2){a.call(this),this.color=s,this.couleurDeRemplissage=o,this.opaciteDeRemplissage=u,this.hachures=!1,this.couleurDesHachures="black",this.epaisseurDesHachures=1,this.distanceDesHachures=10,"number"!=typeof r&&(r=(0,n.vbX)(cn(e,t,r),1));let c=sn(t,e),p=0,h=0;const f=l(t.x+1,t.y),d=(0,n.vbX)(cn(f,t,e),1),m=(0,n.vbX)(d+r,1);r>180?(r-=360,p=1,h=0):r<-180?(r=360+r,p=1,h=1):(p=0,h=1-(r>0));const g=nt(e,t,r);let y,v,x,b,_,w,E,M;this.svg=i?function(r){if(this.style="",1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return this.hachures?(this.couleurDeRemplissage.length<1&&(this.couleurDeRemplissage="none"),Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})+`<path d="M${e.xSVG(r)} ${e.ySVG(r)} A ${(0,n.vbX)(c*r,1)} ${(0,n.vbX)(c*r,1)} 0 ${p} ${h} ${g.xSVG(r)} ${g.ySVG(r)} L ${t.xSVG(r)} ${t.ySVG(r)} Z" stroke="${this.color}"  ${this.style} id="${this.id}" fill="url(#pattern${this.id})" />`):(1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),"none"!==this.couleurDeRemplissage&&(this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),`<path d="M${e.xSVG(r)} ${e.ySVG(r)} A ${(0,n.vbX)(c*r,1)} ${(0,n.vbX)(c*r,1)} 0 ${p} ${h} ${g.xSVG(r)} ${g.ySVG(r)} L ${t.xSVG(r)} ${t.ySVG(r)} Z" stroke="${this.color}" fill="${this.couleurDeRemplissage}" ${this.style}/>`)}:function(t){if(this.style="",1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}return 1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),`<path d="M${e.xSVG(t)} ${e.ySVG(t)} A ${(0,n.vbX)(c*t,1)} ${(0,n.vbX)(c*t,1)} 0 ${p} ${h} ${g.xSVG(t)} ${g.ySVG(t)}" stroke="${this.color}" fill="${o}" ${this.style} id="${this.id}" />`},this.tikz=function(){let r=[];const a=[];if(this.color.length>1&&"black"!==this.color&&a.push(this.color),1!==this.epaisseur&&a.push(`line width = ${this.epaisseur}`),this.pointilles)switch(this.pointilles){case 1:a.push(" dash dot ");break;case 2:a.push(" densely dash dot dot ");break;case 3:a.push(" dash dot dot ");break;case 4:a.push(" dotted ");break;default:a.push(" dashed ")}return 1!==this.opacite&&a.push(`opacity = ${this.opacite}`),i&&"none"!==o&&a.push(`fill opacity = ${this.opaciteDeRemplissage}`),i&&"none"!==o&&a.push(`fill = ${this.couleurDeRemplissage}`),this.hachures&&a.push(Dn({motif:this.hachures,id:this.id,distanceDesHachures:this.distanceDesHachures,epaisseurDesHachures:this.epaisseurDesHachures,couleurDesHachures:this.couleurDesHachures,couleurDeRemplissage:this.couleurDeRemplissage,opaciteDeRemplissage:this.opaciteDeRemplissage})),a.length>0&&(r="["+a.join(",")+"]"),i?`\\filldraw  ${r} (${g.x},${g.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${d}:${m}:${(0,n.vbX)(sn(t,e),2)}) -- cycle ;`:`\\draw${r} (${e.x},${e.y}) arc (${d}:${m}:${(0,n.vbX)(sn(t,e),2)}) ;`},this.svgml=function(o,a){if(this.style="",i){1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage||"none"===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `),y=sn(e,t),v=r/y/10,x=`<path d="M${e.xSVG(o)} ${e.ySVG(o)} C `;for(let i=0;i<=r;i+=v)b=nt(e,t,i),x+=`${Math.round(b.xSVG(o)+(0,n.nSR)(-1,1)*a)} ${Math.round(b.ySVG(o)+(0,n.nSR)(-1,1)*a)}, `;b=nt(e,t,y*v),x+=`${Math.round(b.xSVG(o)+(0,n.nSR)(-1,1)*a)} ${Math.round(b.ySVG(o)+(0,n.nSR)(-1,1)*a)} `,c=sn(t,e),_=(e.xSVG(o)-t.xSVG(o))/(4*c),w=(e.ySVG(o)-t.ySVG(o))/(4*c),E=(t.xSVG(o)-b.xSVG(o))/(4*c),M=(t.ySVG(o)-b.ySVG(o))/(4*c);for(let e=0;e<=4*c;e++)x+=`${Math.round(b.xSVG(o)+e*E+(0,n.nSR)(-1,1)*a)} ${Math.round(b.ySVG(o)+e*M+(0,n.nSR)(-1,1)*a)}, `;for(let e=0;e<=4*c;e++)x+=`${Math.round(t.xSVG(o)+e*_+(0,n.nSR)(-1,1)*a)} ${Math.round(t.ySVG(o)+e*w+(0,n.nSR)(-1,1)*a)}, `;return x+=`${Math.round(t.xSVG(o)+4*c*_+(0,n.nSR)(-1,1)*a)} ${Math.round(t.ySVG(o)+4*c*w+(0,n.nSR)(-1,1)*a)} Z `,x+=`" stroke="${s}" ${this.style} />`,x}1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),this.style+=' fill="none" ',y=sn(e,t),v=r/y/10,x=`<path d="M${e.xSVG(o)} ${e.ySVG(o)} C `;for(let i=0;Math.abs(i)<=Math.abs(r);i+=v)b=nt(e,t,i),x+=`${Math.round(b.xSVG(o)+(0,n.nSR)(-1,1)*a)} ${Math.round(b.ySVG(o)+(0,n.nSR)(-1,1)*a)}, `;return b=nt(e,t,r),x+=`${Math.round(b.xSVG(o)+(0,n.nSR)(-1,1)*a)} ${Math.round(b.ySVG(o)+(0,n.nSR)(-1,1)*a)} `,x+=`" stroke="${s}" ${this.style}/>`,x},this.tikzml=function(a){let s=[];const u=[],c=l(t.x+1,t.y),p=(0,n.vbX)(cn(c,t,e),1),h=(0,n.vbX)(p+r,1),f=nt(e,t,r);return this.color.length>1&&"black"!==this.color&&u.push(this.color),1!==this.epaisseur&&u.push(`line width = ${this.epaisseur}`),1!==this.opacite&&u.push(`opacity = ${this.opacite}`),i&&"none"!==o&&u.push(`fill opacity = ${this.opaciteDeRemplissage}`),i&&"none"!==o&&u.push(`fill = ${this.couleurDeRemplissage}`),u.push(`decorate,decoration={random steps , amplitude = ${a}pt}`),s="["+u.join(",")+"]",i?`\\filldraw  ${s} (${f.x},${f.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${p}:${h}:${(0,n.vbX)(sn(t,e),2)}) -- cycle ;`:`\\draw${s} (${e.x},${e.y}) arc (${p}:${h}:${(0,n.vbX)(sn(t,e),2)}) ;`}}function Ce(...e){return new Oe(...e)}function Ie(e,t,r,i=!1,o="none",a="black",s=.2){let u;u=r<0?(0,n.n0o)((r+180)/2):(0,n.n0o)((r-180)/2);const c=R(e,t,"black");c.isVisible=!1;const p=N(t,e);p.isVisible=!1;const h=nt(p,t,u);h.isVisible=!1;const f=(0,n.n0o)((-h.c+c.c*h.a/c.a)/(h.b-h.a*c.b/c.a)),d=l((0,n.n0o)(-c.c/c.a-c.b*f/c.a),f);Oe.call(this,e,d,r,i,o,a,s)}function Re(...e){return new Ie(...e)}function De(e,t,r=20,n="gray",i=1.1,o=1,a=!1){const s=Ce(nt(t,e,-r/2),e,r,!1);return s.epaisseur=o,s.opacite=i,s.color=n,s.pointilles=a,s}function Le(e,t,r){a.call(this),this.svg=function(n){return`<path d="M${e.xSVG(n)} ${e.ySVG(n)} Q ${t.xSVG(n)} ${t.ySVG(n)}, ${r.xSVG(n)} ${r.ySVG(n)}" stroke="black" fill="transparent"/>`}}function qe(...e){return new Le(...e)}function Be(e,t,r,i="black"){a.call(this),this.svg=function(o){1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);const a=Math.round(sn(e,t)),s=(t.xSVG(o)-e.xSVG(o))/(4*a),l=(t.ySVG(o)-e.ySVG(o))/(4*a);let u=`<path d="M${e.xSVG(o)} ${e.ySVG(o)} C `;for(let t=0;t<=4*a;t++)u+=`${(0,n.vbX)(e.xSVG(o)+t*s+(0,n.nSR)(-1,1)*r,0)} ${(0,n.vbX)(e.ySVG(o)+t*l+(0,n.nSR)(-1,1)*r,0)}, `;return u+=`${t.xSVG(o)} ${t.ySVG(o)}" stroke="${i}" ${this.style}"/>`,u},this.tikz=function(){let n=[];const i=[];this.color.length>1&&"black"!==this.color&&i.push(this.color),1!==this.epaisseur&&i.push(`line width = ${this.epaisseur}`),1!==this.opacite&&i.push(`opacity = ${this.opacite}`),i.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),n="["+i.join(",")+"]";return`\\draw ${n} (${e.x},${e.y})--(${t.x},${t.y});`}}function Pe(e,t,r,n="black",i=1){return new Be(e,t,r,n,i)}function ze(e,t,r,i="black"){a.call(this),this.color=i,this.svg=function(o){1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);let a=`<path d="M ${e.xSVG(o)+t*o} ${e.ySVG(o)} C ${e.xSVG(o)+t*o} ${e.ySVG(o)}, `;for(let i=1;i<101;i++)a+=`${(0,n.vbX)(e.xSVG(o)+t*Math.cos(2*i*Math.PI/101)*o+(0,n.nSR)(-1,1)*r,2)} ${(0,n.vbX)(e.ySVG(o)+t*Math.sin(2*i*Math.PI/100)*o+(0,n.nSR)(-1,1)*r,2)}, `;return a+=` ${e.xSVG(o)+t*o} ${e.ySVG(o)} Z" stroke="${i}" ${this.style}"/>`,a},this.tikz=function(){let n=[];const i=[];this.color.length>1&&"black"!==this.color&&i.push(this.color),1!==this.epaisseur&&i.push(`line width = ${this.epaisseur}`),1!==this.opacite&&i.push(`opacity = ${this.opacite}`),i.push(`decorate,decoration={random steps , amplitude = ${r}pt}`),n="["+i.join(",")+"]";return`\\draw${n} (${e.x},${e.y}) circle (${t});`}}function Ue(e,t,r,n="black",i=1){return new ze(e,t,r,n,i)}function $e(e,t,r,n="black"){a.call(this),this.svg=function(i){const o=N(e,t,n);return o.isVisible=!1,o.svgml(i,r)},this.tikz=function(){const i=N(e,t,n);return i.isVisible=!1,i.tikzml(r)}}function Fe(e,t,r,n="black",i=1){return new $e(e,t,r,n,i)}function Ge(e,t){a.call(this),this.couleurDeRemplissage="",this.opaciteDeRemplissage=1.1,this.listePoints=e,this.svg=function(e){let r,n,i,o="";for(let a=1;a<=this.listePoints.length;a++)i=this.listePoints[a%this.listePoints.length],n=this.listePoints[a-1],r=ee(n,i),r.isVisible=!1,r.epaisseur=this.epaisseur,r.color=this.color,r.opacite=this.opacite,o+=r.svgml(e,t);return o},this.tikz=function(){let e,r,n,i="";for(let o=1;o<=this.listePoints.length;o++)n=this.listePoints[o%this.listePoints.length],r=this.listePoints[o-1],e=ee(r,n),e.isVisible=!1,e.epaisseur=this.epaisseur,e.color=this.color,e.opacite=this.opacite,i+=e.tikzml(t);return i}}function Ve(e,t,r="black"){return new Ge(e,t,r)}function He(e,t,r,i,o=!1,s="none",u="black",c=.2){a.call(this),this.couleurDeRemplissage=s,this.opaciteDeRemplissage=c,this.color=u,this.svg=function(a){1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),1!==this.opacite&&(this.style+=` stroke-opacity="${this.opacite}" `),""===this.couleurDeRemplissage||"none"===this.couleurDeRemplissage?this.style+=' fill="none" ':(this.style+=` fill="${this.couleurDeRemplissage}" `,this.style+=` fill-opacity="${this.opaciteDeRemplissage}" `);const s=Math.round(2*sn(e,t)*Math.PI*r/360),l=r/s;let c,p=`<path d="M${e.xSVG(a)} ${e.ySVG(a)} C `;for(let r=0;r<=s;r++)c=nt(e,t,r*l),p+=`${(0,n.vbX)(c.xSVG(a)+(0,n.nSR)(-1,1)*i,0)} ${(0,n.vbX)(c.ySVG(a)+(0,n.nSR)(-1,1)*i,0)}, `;p+=`${(0,n.vbX)(c.xSVG(a)+(0,n.nSR)(-1,1)*i,0)} ${(0,n.vbX)(c.ySVG(a)+(0,n.nSR)(-1,1)*i,0)} `;const h=Math.abs(Math.round(sn(t,e))),f=(e.xSVG(a)-t.xSVG(a))/(4*h),d=(e.ySVG(a)-t.ySVG(a))/(4*h),m=(t.xSVG(a)-c.xSVG(a))/(4*h),g=(t.ySVG(a)-c.ySVG(a))/(4*h);if(o){for(let e=0;e<=4*h;e++)p+=`${(0,n.vbX)(c.xSVG(a)+e*m+(0,n.nSR)(-1,1)*i,0)} ${(0,n.vbX)(c.ySVG(a)+e*g+(0,n.nSR)(-1,1)*i,0)}, `;for(let e=0;e<=4*h;e++)p+=`${(0,n.vbX)(t.xSVG(a)+e*f+(0,n.nSR)(-1,1)*i,0)} ${(0,n.vbX)(t.ySVG(a)+e*d+(0,n.nSR)(-1,1)*i,0)}, `;p+=`${(0,n.vbX)(t.xSVG(a)+4*h*f+(0,n.nSR)(-1,1)*i,0)} ${(0,n.vbX)(t.ySVG(a)+4*h*d+(0,n.nSR)(-1,1)*i,0)} Z `}return p+=`" stroke="${u}" ${this.style}"/>`,p},this.tikz=function(){let n=[];const a=[],u=cn(l(t.x+1,t.y),t,e),c=u+r,p=nt(e,t,r);return this.color.length>1&&"black"!==this.color&&a.push(this.color),1!==this.epaisseur&&a.push(`line width = ${this.epaisseur}`),1!==this.opacite&&a.push(`opacity = ${this.opacite}`),o&&"none"!==s&&a.push(`fill opacity = ${this.opaciteDeRemplissage}`),o&&"none"!==s&&a.push(`fill = ${this.couleurDeRemplissage}`),a.push(`decorate,decoration={random steps , amplitude = ${i}pt}`),n="["+a.join(",")+"]",o?`\\filldraw  ${n} (${p.x},${p.y}) -- (${t.x},${t.y}) -- (${e.x},${e.y}) arc (${u}:${c}:${sn(t,e)}) -- cycle ;`:`\\draw${n} (${e.x},${e.y}) arc (${u}:${c}:${sn(t,e)}) ;`}}function je(e,t,r,n,i=!1,o="none",a="black",s=.2){return new He(e,t,r,n,i,o,a,s)}function We(e,t,r,i,o){const a=o[0].charCodeAt(0)-64,s=Math.floor(4*i),l=parseInt(o[1]),u=(0,n.n0o)((0,n.nSR)(-s,s)/10),c=(0,n.n0o)((0,n.nSR)(-s,s)/10),p=i/2;return l>r||a>r?"Cette cellule n'existe pas dans la cible":[(0,n.vbX)(e+u-a*i+p+r*p,2),(0,n.vbX)(t+c-2*l*p+(r+1)*p,2)]}function Xe(e,t,r,i,o){const a=o[0].charCodeAt(0)-64,s=Math.floor(4*i),u=parseInt(o[1]),c=(0,n.n0o)((0,n.nSR)(-s,s)/10),p=(0,n.nSR)(-20,20),h=(0,n.n0o)(45*(a-1)-157.5+p),f=(0,n.n0o)(i/2+(u-1)*i+c),d=pt(l(1,0),l(0,0),h,f);return d.x+=e,d.y+=t,u>r||a>8?"Cette cellule n'existe pas dans la cible":[(0,n.vbX)(d.x,2),(0,n.vbX)(d.y,2)]}function Ye({x:e=0,y:t=0,rang:r=4,num:i,taille:o=.6,color:s="gray",opacite:l=.5}){a.call(this),this.x=e,this.y=t,this.rang=r,void 0!==i&&(this.num=i),this.taille=o,this.color=s,this.opacite=l;const u=[];let c,p,h;void 0!==i&&(c=Kr(i,e-r*this.taille/4,t-r*this.taille/4,"milieu",this.color),c.opacite=.5,c.taille=30*this.taille,c.contour=!0,u.push(c)),this.num=i,u.push(hr((0,n.n0o)(e-r*this.taille/2),(0,n.n0o)(t-r*this.taille/2),(0,n.n0o)(e+r*this.taille/2),(0,n.n0o)(t+r*this.taille/2),this.color,this.opacite,this.taille,!1));for(let a=0;a<r;a++)p=Kr((0,n.Gag)(1+a),e-r*this.taille/2+(2*a+1)*this.taille/2,t-(r+1)*this.taille/2,"milieu"),h=Kr(a+1,e-(r+1)*this.taille/2,t-r*this.taille/2+(2*a+1)*this.taille/2,"milieu"),p.taille=10*this.taille,h.taille=10*this.taille,u.push(p),u.push(h);this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e}}function Ze({x:e=0,y:t=0,rang:r=4,num:n,taille:i=.6}){return new Ye({x:e,y:t,rang:r,num:n,taille:i})}function Je({x:e=0,y:t=0,rang:r=3,num:i,taille:o=.3}){a.call(this),this.x=e,this.y=t,this.num=i,this.taille=o,this.rang=r,this.opacite=.5,this.color="gray";const s=[];let u,c;const p=l(this.x,this.y,this.y),h=l(this.x+this.rang*this.taille,this.y),f=d(p,h,sn(p,h)+.3);for(let a=0;a<8;a++)c=ee(p,nt(h,p,45*a)),c.color=this.color,c.opacite=this.opacite,s.push(c),s.push(Jr((0,n.Gag)(1+a),nt(f,p,45*a+22.5),"milieu","gray"));for(let n=0;n<this.rang;n++)u=Ee(l(this.x,this.y),this.taille*(1+n)),u.opacite=this.opacite,u.color=this.color,s.push(u);const m=Kr((0,n.zqk)(i),this.x,this.y,0,"gray");m.opacite=.5,m.taille=30,m.contour=!0,s.push(m),this.svg=function(e){let t="";for(const r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of s)e+="\n\t"+t.tikz();return e}}function Ke({x:e=0,y:t=0,rang:r=3,num:n=1,taille:i=.3}){return new Je({x:e,y:t,rang:r,num:n,taille:i})}function Qe({x:e=0,y:t=0,taille:r=5,depart:i=0,nbDivisions:o=18,nbSubDivisions:s=3,semi:u=!1,label:c=!0}){a.call(this),this.x=e,this.y=t,this.taille=r,this.opacite=.5,this.color="gray";const p=[];let h,m,g,y;y=u?180:360;const v=l(this.x,this.y);m=nt(l(this.x+this.taille,this.y),v,i);let x=d(v,m,sn(v,m)+1);const b=[],_=Ce(m,v,y-.1,!1,"none","gray"),w=Ce(x,v,y-.1,!1,"none","gray");g=ee(m,x),p.push(_,w,g);for(let a=0;a<o;a++){for(let e=1;e<s;e++)b[e-1]=nt(g,v,e*y/o/s),b[e-1].pointilles=1,b[e-1].color=this.color,b[e-1].opacite=this.opacite,p.push(b[e-1]);c&&(h=Jr((0,n.Gag)(1+a),nt(f(m,x),v,y/o/2),"milieu","gray"),h.contour=!0,p.push(h)),g.color=this.color,g.opacite=this.opacite,p.push(g),m=nt(m,v,y/o),x=nt(x,v,y/o),g=ee(m,x)}this.svg=function(e){let t="";for(const r of p)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of p)e+="\n\t"+t.tikz();return e}}function et({x:e=0,y:t=0,taille:r=5,depart:n=0,nbDivisions:i=18,nbSubDivisions:o=3,semi:a=!1,label:s=!0}){return new Qe({x:e,y:t,taille:r,depart:n,nbDivisions:i,nbSubDivisions:o,semi:a,label:s})}function tt(e,t,r="",i="above"){if(e.constructor===s){return l((0,n.n0o)(e.x+t.x),(0,n.n0o)(e.y+t.y),r,i)}if(e.constructor===ie){const r=[];for(let n=0;n<e.listePoints.length;n++)r[n]=tt(e.listePoints[n],t),r[n].nom=e.listePoints[n].nom+"'";return oe(r)}if(e.constructor===S){return N(tt(l(e.x1,e.y1),t),tt(l(e.x2,e.y2),t))}if(e.constructor===Q){const r=ee(tt(e.extremite1,t),tt(e.extremite2,t));return r.styleExtremites=e.styleExtremites,r}if(e.constructor===Y)return e}function rt(e,t,r,i="",o="above"){if(e.constructor===s){return l((0,n.n0o)(e.x+r.x-t.x),(0,n.n0o)(e.y+r.y-t.y),i,o)}if(e.constructor===ie){const n=[];for(let i=0;i<e.listePoints.length;i++)n[i]=rt(e.listePoints[i],e,t,r),n[i].nom=t.listePoints[i].nom+"'";return oe(n)}if(e.constructor===S){return N(rt(l(e.x1,e.y1),t,r),rt(l(e.x2,e.y2),t,r))}if(e.constructor===Q){const n=ee(rt(e.extremite1,t,r),rt(e.extremite2,t,r));return n.styleExtremites=e.styleExtremites,n}if(t.constructor===Y)return t}function nt(e,t,r,i="",o="above"){if(e.constructor===s){return l((0,n.n0o)(t.x+(e.x-t.x)*Math.cos(r*Math.PI/180)-(e.y-t.y)*Math.sin(r*Math.PI/180)),(0,n.n0o)(t.y+(e.x-t.x)*Math.sin(r*Math.PI/180)+(e.y-t.y)*Math.cos(r*Math.PI/180)),i,o)}if(e.constructor===ie){const n=[];for(let i=0;i<e.listePoints.length;i++)n[i]=nt(e.listePoints[i],t,r),n[i].nom=e.listePoints[i].nom+"'";return oe(n)}if(e.constructor===S){return N(nt(l(e.x1,e.y1),t,r),nt(l(e.x2,e.y2),t,r))}if(e.constructor===Q){const n=ee(nt(e.extremite1,t,r),nt(e.extremite2,t,r));return n.styleExtremites=e.styleExtremites,n}if(e.constructor===Y){return Z((0,n.n0o)(e.x*Math.cos(r*Math.PI/180)-e.y*Math.sin(r*Math.PI/180)),(0,n.n0o)(e.x*Math.sin(r*Math.PI/180)+e.y*Math.cos(r*Math.PI/180)))}}function it(e,t,r){a.call(this);const n=[],i=Ce(e,t,20*r),o=nt(e,t,20*r),s=pt(o,t,-5*r,.95),l=pt(o,t,-5*r,1.05),u=ee(o,s),c=ee(o,l);n.push(i,u,c),this.svg=function(e){let t="";for(const r of n)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of n)e+="\n\t"+t.tikz();return e}}function ot(e,t,r){return new it(e,t,r)}function at(e,t,r,i="",o="above"){if(e.constructor===s){return new s((0,n.n0o)(t.x+r*(e.x-t.x)),(0,n.n0o)(t.y+r*(e.y-t.y)),i,o)}if(e.constructor===ie){const n=[];for(let i=0;i<e.listePoints.length;i++)n[i]=at(e.listePoints[i],t,r),n[i].nom=e.listePoints[i].nom+"'";return oe(n)}if(e.constructor===S){return N(at(l(e.x1,e.y1),t,r),at(l(e.x2,e.y2),t,r))}if(e.constructor===Q){const n=ee(at(e.extremite1,t,r),at(e.extremite2,t,r));return n.styleExtremites=e.styleExtremites,n}if(e.constructor===Y){return Z(e.x*r,e.y*r)}}function st(e,t,r="",i="above"){let o,a;const u=t.a,c=t.b,p=t.c,h=1/(u*u+c*c);if(e.constructor===s)return 0===u?(o=e.x,a=(0,n.n0o)(-(e.y+2*p/c))):0===c?(a=e.y,o=(0,n.n0o)(-(e.x+2*p/u))):(o=(0,n.n0o)(h*((c*c-u*u)*e.x-2*u*c*e.y-2*u*p)),a=(0,n.n0o)(h*((u*u-c*c)*e.y-2*u*c*e.x+u*u*p/c-c*p)-p/c)),l(o,a,r,i);if(e.constructor===ie){const r=[];for(let n=0;n<e.listePoints.length;n++)r[n]=st(e.listePoints[n],t),r[n].nom=e.listePoints[n].nom+"'";return oe(r)}if(e.constructor===S){return N(st(l(e.x1,e.y1),t),st(l(e.x2,e.y2),t))}if(e.constructor===Q){const r=ee(st(e.extremite1,t),st(e.extremite2,t));return r.styleExtremites=e.styleExtremites,r}if(e.constructor===Y){let r;r=(0,n.h$R)(c,0)?l((0,n.n0o)(-p/u),0):l(0,(0,n.n0o)(-p/c));return Z(r,st(tt(r,e),t))}}function lt(e,t){return sn(e,ut(e,t),9)}function ut(e,t,r="",i="above"){const o=t.a,a=t.b,u=t.c,c=(0,n.n0o)(1/(o*o+a*a));let p,h;if(e.constructor===s)return 0===o?(p=e.x,h=(0,n.n0o)(-u/a)):0===a?(h=e.y,p=(0,n.n0o)(-u/o)):(p=(0,n.n0o)(c*(a*a*e.x-o*a*e.y-o*u)),h=(0,n.n0o)(c*(-o*a*e.x+o*o*e.y+o*o*u/a)-u/a)),l(p,h,r,i);if(e.constructor===Y){let r;r=(0,n.h$R)(a,0)?l((0,n.n0o)(-u/o),0):l(0,(0,n.n0o)(-u/a));return Z(r,ut(tt(r,e),t))}}function ct(e,t,r,i="",o="above"){const a=t.a,u=t.b,c=t.c,p=(0,n.n0o)(1/(a*a+u*u));let h,f;if(e.constructor===s)return 0===a?(h=e.x,f=(0,n.n0o)(r*e.y+c*(r-1)/u)):0===u?(f=e.y,h=(0,n.n0o)(r*e.x+c*(r-1)/a)):(h=(0,n.n0o)(p*(u*u*e.x-a*u*e.y-a*c)*(1-r)+r*e.x),f=(0,n.n0o)(p*(a*a*e.y-a*u*e.x+a*a*c/u)*(1-r)+r*c/u+r*e.y-c/u)),l(h,f,i,o);if(e.constructor===ie){const n=[];for(let i=0;i<e.listePoints.length;i++)n[i]=ct(e.listePoints[i],t,r),n[i].nom=e.listePoints[i].nom+"'";return oe(n)}if(e.constructor===S){return N(ct(l(e.x1,e.y1),t,r),ct(l(e.x2,e.y2),t,r))}if(e.constructor===Q){const n=ee(ct(e.extremite1,t,r),ct(e.extremite2,t,r));return n.styleExtremites=e.styleExtremites,n}if(e.constructor===Y){let i;i=(0,n.h$R)(u,0)?l((0,n.n0o)(-c/a),0):l(0,(0,n.n0o)(-c/u));return Z(i,ct(tt(i,e),t,r))}}function pt(e,t,r,o,a="",u="above"){if(e.constructor===s){const s=(0,i.uR)(r);return l((0,n.n0o)(t.x+o*(Math.cos(s)*(e.x-t.x)-Math.sin(s)*(e.y-t.y))),(0,n.n0o)(t.y+o*(Math.cos(s)*(e.y-t.y)+Math.sin(s)*(e.x-t.x))),a,u)}if(e.constructor===ie){const n=[];for(let i=0;i<e.listePoints.length;i++)n[i]=pt(e.listePoints[i],t,r,o),n[i].nom=e.listePoints[i].nom+"'";return oe(n)}if(e.constructor===S){return N(pt(l(e.x1,e.y1),t,r,o),pt(l(e.x2,e.y2),t,r,o))}if(e.constructor===Q){const n=ee(pt(e.extremite1,t,r,o),pt(e.extremite2,t,r,o));return n.styleExtremites=e.styleExtremites,n}if(e.constructor===Y){return at(nt(e,t,r),t,o)}}function ht(e,t,r='begin="0s" dur="2s" repeatCount="indefinite"'){a.call(this),this.svg=function(n){let i="<g> ";if(Array.isArray(e))for(const t of e)i+="\n"+t.svg(n);else i+="\n"+e.svg(n);if(Array.isArray(t)){i+='<animateMotion path="M 0 0 l';for(const e of t)i+=` ${e.xSVG(n)} ${e.ySVG(n)} `;i+=`${r} />`}else i+=`<animateMotion path="M 0 0 l ${t.xSVG(n)} ${t.ySVG(n)} " ${r} />`;return i+="</g>",i}}function ft(...e){return new ht(...e)}function dt(e,t,r,n='begin="0s" dur="2s" repeatCount="indefinite"'){a.call(this),this.svg=function(i){let o="<g> ";if(Array.isArray(e))for(const t of e)o+="\n"+t.svg(i);else o+="\n"+e.svg(i);return o+=`<animateTransform\n  attributeName="transform"\n  type="rotate"\n  from="0 ${t.xSVG(i)} ${t.ySVG(i)}"\n  to="${-r} ${t.xSVG(i)} ${t.ySVG(i)}"\n  ${n}\n  />`,o+="</g>",o}}function mt(...e){return new dt(...e)}function gt(e,t,r,n='begin="0s" dur="2s" repeatCount="indefinite"'){a.call(this),this.svg=function(i){const o=e.binomesXY(i),a=at(e,t,r);a.isVisible=!1;const s=a.binomesXY(i);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="${e.couleurDeRemplissage}" >\n  <animate attributeName="points" ${n}\n  from="${o}"\n  to="${s}"\n  />\n  </polygon>`}}function yt(...e){return new gt(...e)}function vt(e,t,r='begin="0s" dur="2s" repeatCount="indefinite"'){a.call(this),this.svg=function(n){const i=e.binomesXY(n),o=st(e,t);o.isVisible=!1;const a=o.binomesXY(n);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="${e.couleurDeRemplissage}" >\n    <animate attributeName="points" ${r}\n    from="${i}"\n    to="${a}"\n    />\n    </polygon>`}}function xt(...e){return new vt(...e)}function bt(e,t,r,n='begin="0s" dur="2s" repeatCount="indefinite"'){a.call(this),this.svg=function(i){const o=e.binomesXY(i),a=ct(e,t,r);a.isVisible=!1;const s=a.binomesXY(i);return`<polygon stroke="${e.color}" stroke-width="${e.epaisseur}" fill="${e.couleurDeRemplissage}" >\n    <animate attributeName="points" ${n}\n    from="${o}"\n    to="${s}"\n    />\n    </polygon>`}}function _t(...e){return new bt(...e)}function wt(e){document.getElementById(e).style.visibility="visible"}function Et(e){document.getElementById(e).style.visibility="hidden"}function Mt(e,t=1,r=5,n="Infinity"){let i=1;const o=setInterval((function(){if(document.getElementById(e.id))if(clearInterval(o),Et(e.id),1===n)setTimeout((function(){wt(e.id)}),1e3*t);else{const o=setInterval((function(){Et(e.id)}),1e3*r);setTimeout((function(){wt(e.id);const t=setInterval((function(){wt(e.id),i++,"number"==typeof n&&i>=n&&(clearInterval(o),clearInterval(t))}),1e3*r)}),1e3*t)}}),100)}function St(e,t=1,r=5,n="Infinity"){let i=1;const o=setInterval((function(){if(document.getElementById(e))if(clearInterval(o),Et(e),1===n)setTimeout((function(){wt(e)}),1e3*t);else{const o=setInterval((function(){Et(e)}),1e3*r);setTimeout((function(){wt(e);const t=setInterval((function(){wt(e),i++,"number"==typeof n&&i>=n&&(clearInterval(o),clearInterval(t))}),1e3*r)}),1e3*t)}}),100)}function Nt(e,t=1,r="Infinity",n=5){let i=t;const o=e.length*t+n;for(const a of e)Mt(a,i,o,r),i+=t}function kt(e,t,r,n="black"){return N(e,f(t,r),"",n)}function At(e,t,r,n=""){const i=kt(t,e,r),o=kt(e,t,r);i.isVisible=!1,o.isVisible=!1;const a=b(i,o);return l(a.x,a.y,"",n)}function Tt(e,t,r,n="black"){const i=N(t,r);i.isVisible=!1;return N(ut(e,i),e,"",n)}function Ot(e,t,r,n="black"){a.call(this),this.color=n;const i=N(t,r),o=ut(e,i),s=nt(e,o,-90);t.x<r.x?o.x>r.x||o.x<t.x?(i.isVisible=!0,i.pointilles=!0):i.isVisible=!1:r.x<t.x?o.x<r.x||o.x>t.x?(i.isVisible=!0,i.pointilles=!0):i.isVisible=!1:t.y<r.y?o.y>r.y||o.y<t.y?(i.isVisible=!0,i.pointilles=!0):i.isVisible=!1:r.y<t.y&&(o.y<r.y||o.y>t.y?(i.isVisible=!0,i.pointilles=!0):i.isVisible=!1);const l=Bt(e,o,s,this.color);this.svg=function(e){return i.isVisible?l.svg(e)+"\n\t"+i.svg(e):l.svg(e)},this.tikz=function(){return i.isVisible?l.tikz()+"\n\t"+i.tikz():l.tikz()}}function Ct(...e){return new Ot(...e)}function It(e,t,r="black",n="//"){a.call(this),this.color=r;const i=f(e,t),o=Yt(n,this.color,e,i,i,t);this.svg=function(e){return o.svg(e)},this.tikz=function(e){return o.tikz(e)}}function Rt(...e){return new It(...e)}function Dt(e,t,r,n="",i="above"){const o=Tt(t,e,r),a=Tt(e,t,r);o.isVisible=!1,a.isVisible=!1;const s=b(o,a);return l(s.x,s.y,n,i)}function Lt(e,t,r,n="",i="above"){const o=R(e,t),a=R(t,r);o.isVisible=!1,a.isVisible=!1;const s=b(o,a);return l(s.x,s.y,n,i)}function qt(e,t,r,n="black",i=.4){a.call(this),this.sommet=t,this.depart=e,this.arrivee=r,this.taille=i,this.color=n,this.svg=function(t){const i=d(this.sommet,this.depart,20*this.taille/t),o=d(this.sommet,this.arrivee,20*this.taille/t);let a={};a=cn(e,this.sommet,r)>0?nt(this.sommet,i,-90):nt(this.sommet,i,90);const s=j([i,a,o],n);return s.isVisible=!1,this.id=s.id,s.svg(t)},this.tikz=function(){const t=d(this.sommet,this.depart,this.taille/mathalea.scale),i=d(this.sommet,this.arrivee,this.taille/mathalea.scale);let o={};return o=cn(e,this.sommet,r)>0?nt(this.sommet,t,-90):nt(this.sommet,t,90),j([t,o,i],n).tikz()},this.svgml=function(t,i){const o=d(this.sommet,this.depart,20*this.taille/t),a=d(this.sommet,this.arrivee,20*this.taille/t);let s={};return s=cn(e,this.sommet,r)>0?nt(this.sommet,o,-90):nt(this.sommet,o,90),j([o,s,a],n).svgml(t,i)},this.tikzml=function(t){const i=d(this.sommet,this.depart,this.taille/mathalea.scale),o=d(this.sommet,this.arrivee,this.taille/mathalea.scale);let a={};return a=cn(e,this.sommet,r)>0?nt(this.sommet,i,-90):nt(this.sommet,i,90),j([i,a,o],n).tikzml(t)}}function Bt(e,t,r,n="black",i=.4){return new qt(e,t,r,n,i)}function Pt(e,t,r="black",i=.5){a.call(this),this.color=r,this.extremite1=e,this.extremite2=t,this.distance=i,this.svg=function(e){const t=f(this.extremite1,this.extremite2),r=d(t,nt(this.extremite1,t,-90),20*this.distance/e);let i;const o=ee(this.extremite1,this.extremite2);o.isVisible=!1;const a=(0,n.zX6)((0,n.vbX)(o.longueur,1));return i=this.extremite2.x>this.extremite1.x?-o.angleAvecHorizontale:180-o.angleAvecHorizontale,Jr(a+" cm",r,i,this.color).svg(e)},this.tikz=function(){const e=f(this.extremite1,this.extremite2),t=d(e,nt(this.extremite1,e,-90),this.distance/mathalea.scale);let r;const i=ee(this.extremite1,this.extremite2);i.isVisible=!1;const o=(0,n.zX6)((0,n.vbX)(i.longueur,1));return r=this.extremite2.x>this.extremite1.x?-i.angleAvecHorizontale:180-i.angleAvecHorizontale,Jr(o+" cm",t,r,this.color).tikz()}}function zt(...e){return new Pt(...e)}function Ut(e,t,r,n="black",i=.5){a.call(this),this.color=n,this.extremite1=t,this.extremite2=r,this.distance=i,this.texte=e,this.svg=function(e){const t=f(this.extremite1,this.extremite2),r=d(t,nt(this.extremite1,t,-90),20*this.distance/e),n=ee(this.extremite1,this.extremite2);let i;return n.isVisible=!1,i=this.extremite2.x>this.extremite1.x?-n.angleAvecHorizontale:180-n.angleAvecHorizontale,Jr(this.texte,r,i,this.color).svg(e)},this.tikz=function(){const e=f(this.extremite1,this.extremite2),t=d(e,nt(this.extremite1,e,-90),this.distance/mathalea.scale),r=ee(this.extremite1,this.extremite2);let n;return r.isVisible=!1,n=this.extremite2.x>this.extremite1.x?-r.angleAvecHorizontale:180-r.angleAvecHorizontale,Jr(this.texte,t,n,this.color).tikz()}}function $t(...e){return new Ut(...e)}function Ft(e,t,r,i="black",o=1.5,s=""){a.call(this),this.depart=e,this.arrivee=r,this.sommet=t,this.distance=o,this.svg=function(e){let r;const o=d(this.sommet,this.depart,this.distance),a=nt(d(this.sommet,o,this.distance+10/e),this.sommet,cn(this.depart,this.sommet,this.arrivee)/2,"","center");let l;return""!==s?(l=s,r=30):(l=(0,n.S1u)(un(this.depart,this.sommet,this.arrivee),0)+"°",r=20),"\n"+Qr(l,a,i,r,10,"").svg(e)+"\n"+Ce(o,t,cn(this.depart,this.sommet,this.arrivee)).svg(e)},this.tikz=function(){let e;const r=d(this.sommet,this.depart,this.distance),o=nt(d(this.sommet,r,this.distance+.5),this.sommet,cn(this.depart,this.sommet,this.arrivee)/2,"","center");let a;return""!==s?(a=s,e=30):(a=(0,n.S1u)(un(this.depart,this.sommet,this.arrivee),0)+"°",e=20),"\n"+Qr(a,o,i,e,10,"").tikz()+"\n"+Ce(r,t,cn(this.depart,this.sommet,this.arrivee)).tikz()}}function Gt(...e){return new Ft(...e)}function Vt(e,t="",r=.5,n="black",i=1,o=.5,s="black"){a.call(this),this.positionCoteSVG=20*r/mathalea.pixelsParCm,this.positionCoteTIKZ=r/mathalea.scale,this.positionValeur=o,this.seg=e,this.cote=t,this.svg=function(e){let t;const r=this.seg.extremite1,o=this.seg.extremite2,a=pt(Z(r,o),r,90,this.positionCoteSVG/this.seg.longueur),l=ee(tt(r,a),tt(o,a),n);return sn(r,o)>1?l.styleExtremites="<->":l.styleExtremites=">-<",l.epaisseur=i,t=""===this.cote?zt(l.extremite1,l.extremite2,s,this.positionValeur):$t(this.cote,l.extremite1,l.extremite2,s,this.positionValeur),"\n\t"+l.svg(e)+"\n\t"+t.svg(e)},this.tikz=function(){let e;const t=this.seg.extremite1,r=this.seg.extremite2,o=pt(Z(t,r),t,90,this.positionCoteTIKZ/this.seg.longueur),a=ee(tt(t,o),tt(r,o),n);return sn(t,r)>1?a.styleExtremites="<->":a.styleExtremites=">-<",a.epaisseur=i,e=""===this.cote?zt(a.extremite1,a.extremite2,s,this.positionValeur):$t(this.cote,a.extremite1,a.extremite2,s,this.positionValeur),"\n\t"+a.tikz()+"\n\t"+e.tikz()}}function Ht(...e){return new Vt(...e)}function jt(e,t,r="||",n="black"){a.call(this),this.color=n;const i=f(e,t),o=ee(e,t);let s;return o.isVisible=!1,s=t.x>e.x?-parseInt(o.angleAvecHorizontale):180-parseInt(o.angleAvecHorizontale),Jr(r,i,s,this.color)}function Wt(...e){return new jt(...e)}function Xt(e="||",t="black",...r){a.call(this),this.svg=function(n){let i="";if(Array.isArray(r[0])){for(let a=0;a<r[0].length-1;a++){const o=Wt(r[0][a],r[0][a+1],e,t);o.isVisible=!1,i+=o.svg(n),i+="\n"}const o=Wt(r[0][r[0].length-1],r[0][0],e,t);o.isVisible=!1,i+=o.svg(n),i+="\n"}else if(r[0].constructor===Q)for(let o=0;o<r.length;o++){const a=Wt(r[o].extremite1,r[o].extremite2,e,t);a.isVisible=!1,i+=a.svg(n),i+="\n"}else for(let o=0;o<r.length;o+=2){const a=Wt(r[o],r[o+1],e,t);a.isVisible=!1,i+=a.svg(n),i+="\n"}return i=`<g id="${this.id}">${i}</g>`,i},this.tikz=function(){let n="";if(Array.isArray(r[0])){for(let i=0;i<r[0].length-1;i++)n+=Wt(r[0][i],r[0][i+1],e,t).tikz(),n+="\n";n+=Wt(r[0][r[0].length-1],r[0][0],e,t).tikz(),n+="\n"}else if(r[0].constructor===Q)for(let i=0;i<r.length;i++)n+=Wt(r[i].extremite1,r[i].extremite2,e,t).tikz(),n+="\n";else for(let i=0;i<r.length;i+=2)n+=Wt(r[i],r[i+1],e,t).tikz(),n+="\n";return n}}function Yt(e="||",t="black",...r){return new Xt(e,t,...r)}function Zt(e,t,r,i=.8,o="",s="black",l=1,u=1,c="none",p=.2,h=!1){let f;a.call(this),this.color=s,this.debut=e,this.centre=t,this.taille=i,this.mark=o,this.epaisseur=l,this.opacite=u,"none"!==c?(this.couleurDeRemplissage=c,this.opaciteDeRemplissage=p):this.couleurDeRemplissage="none",f="none"!==c,this.angle=r,this.svg=function(e){let t="";const a=[],l=d(this.centre,this.debut,20*this.taille/mathalea.pixelsParCm),u=nt(l,this.centre,this.angle/2),c=d(this.centre,u,i+12/e),p=N(this.centre,u);p.isVisible=!1;const m=(0,n.S1u)(Math.abs(r),0)+"°",g=Ce(l,this.centre,this.angle,f,this.couleurDeRemplissage,this.color);if(g.isVisible=!1,a.push(g),g.opacite=this.opacite,g.epaisseur=this.epaisseur,g.couleurDeRemplissage=this.couleurDeRemplissage,g.opaciteDeRemplissage=this.opaciteDeRemplissage,""!==this.mark){const e=Jr(o,u,90-p.angleAvecHorizontale,s);e.isVisible=!1,a.push(e)}if(h){const e=Jr(m,c,"milieu",s);e.isVisible=!1,a.push(e)}for(const r of a)t+="\n\t"+r.svg(e);return a.length>1?t=`<g id="${this.id}">${t}</g>`:this.id=g.id,t},this.tikz=function(){let e="";const t=d(this.centre,this.debut,this.taille/mathalea.scale),a=nt(t,this.centre,this.angle/2),l=d(this.centre,a,i+.6/mathalea.scale),u=(0,n.S1u)(Math.abs(r),0)+"°",c=N(this.centre,a);c.isVisible=!1;const p=Ce(t,this.centre,this.angle,f,this.couleurDeRemplissage,this.color);return p.opacite=this.opacite,p.epaisseur=this.epaisseur,p.couleurDeRemplissage=this.couleurDeRemplissage,p.opaciteDeRemplissage=this.opaciteDeRemplissage,""!==this.mark&&(e+=Jr(o,a,90-c.angleAvecHorizontale,s).tikz()+"\n"),h&&(e+=Jr(u,l,"milieu",s).tikz()+"\n"),e+=p.tikz(),e},this.svgml=function(e,t){let a="";const l=d(this.centre,this.debut,20*this.taille/mathalea.pixelsParCm),u=nt(l,this.centre,this.angle/2),c=d(this.centre,u,i+12/e),p=(0,n.S1u)(Math.abs(r),0)+"°",f=N(this.centre,u);f.isVisible=!1;const m=Ce(l,this.centre,this.angle,!1,this.couleurDeRemplissage,this.color);return m.opacite=this.opacite,m.epaisseur=this.epaisseur,m.couleurDeRemplissage=this.couleurDeRemplissage,m.opaciteDeRemplissage=this.opaciteDeRemplissage,""!==this.mark&&(a+=Jr(o,u,90-f.angleAvecHorizontale,s).svg(e)+"\n"),h&&(a+=Jr(p,c,"milieu",s).svg(e)+"\n"),a+=m.svgml(e,t),a},this.tikzml=function(e){let t="";const a=d(this.centre,this.debut,this.taille/mathalea.scale),l=nt(a,this.centre,this.angle/2),u=d(this.centre,l,i+.6/mathalea.scale),c=(0,n.S1u)(Math.abs(r),0)+"°",p=N(this.centre,l);p.isVisible=!1;const m=Ce(a,this.centre,this.angle,f,this.couleurDeRemplissage,this.color);return m.opacite=this.opacite,m.epaisseur=this.epaisseur,m.couleurDeRemplissage=this.couleurDeRemplissage,m.opaciteDeRemplissage=this.opaciteDeRemplissage,""!==this.mark&&(t+=Jr(o,l,90-p.angleAvecHorizontale,s).tikz()+"\n"),h&&(t+=Jr(c,u,"milieu",s).tikz()+"\n"),t+=m.tikzml(e),t}}function Jt(e,t,r,n=.8,i="",o="black",a=1,s=1,l="none",u=.2,c=!1){return"number"!=typeof r&&(r=cn(e,t,r)),90===r||-90===r?new qt(e,t,nt(e,t,r),o,n):new Zt(e,t,r,n,i,o,a,s,l,u,c)}function Kt(e,t,r,n,i){a.call(this);const o=[];o.push(Kr(e,t,r,"milieu",n,1,"middle",!0));const s=ee(t-.6,r+.4-i/10,t+.1,r+.4+i/10),l=ee(t+.1,r+.4+i/10,t+.8,r+.4-i/10);s.color=n,l.color=n,o.push(s,l),this.svg=function(e){let t="";for(const r of o)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of o)e+="\n\t"+t.tikz();return e}}function Qt(e,t,r,n){return new Kt(e,t,r,n,1)}function er(e,t,r,n){return new Kt(e,t,r,n,-1)}function tr(e=0,t=0,r="H",i="dd",o=10,s=10,u=15,c=0,p=1,h="O",f="I",d=!0,...m){a.call(this);let g,y,v,x,b=[1,0];const _=p-c;"H"!==r&&(b=[0,1]);const w=[];for(let n=0;n<m.length;n++)w.push(Kr(m[n][0],e+(-c+m[n][1])*b[0]*o/_+.8*b[1],t+(-c+m[n][1])*b[1]*o/_+.8*b[0])),w.push(Kr("X",e+(-c+m[n][1])*b[0]*o/_,t+(-c+m[n][1])*b[1]*o/_,"milieu","blue"));x=ee(l(e+u*b[0],t+u*b[1]),l(e+(u-.3)*b[0]+.3*b[1],t+(u-.3)*b[1]+.3*b[0])),x.epaisseur=2,w.push(x),x=ee(l(e+u*b[0],t+u*b[1]),l(e+(u-.3)*b[0]-.3*b[1],t+(u-.3)*b[1]-.3*b[0])),x.epaisseur=2,w.push(x);const E=(0,n.vbX)(o/s,2);g=ee("dd"===i?l(e,t):l(e-.5*b[0],t-.5*b[1]),l(e+u*b[0],t+u*b[1]));const M=Kr(h,e-.8*b[1],t-.8*b[0]),S=Kr(f,e-.8*b[1]+o*b[0],t-.8*b[0]+o*b[1]);y=0;for(let a=0;a<u;a+=E)y%s==0?(v=ee(l(e+a*b[0]-.3*b[1],t-.3*b[0]+a*b[1]),l(e+a*b[0]+.3*b[1],t+.3*b[0]+a*b[1])),v.epaisseur=2,w.push(v),d&&0!==y&&y!==s&&w.push(Kr((0,n.zqk)((0,n.vbX)((0,n.n0o)(c+a/o*_),3)),e+a*b[0]-.8*b[1],t+a*b[1]-.8*b[0]))):(v=ee(l(e+a*b[0]-.2*b[1],t-.2*b[0]+a*b[1]),l(e+a*b[0]+.2*b[1],t+.2*b[0]+a*b[1])),w.push(v)),y++;w.push(g,M,S,undefined),this.svg=function(e){let t="";for(const r of w)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of w)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of w)mathalea.mainlevee&&void 0!==n.svgml?r+="\t"+n.svgml(e,t)+"\n":r+="\t"+n.svg(e)+"\n";return r},this.tikzml=function(e){let t="";for(const r of w)mathalea.mainlevee&&void 0!==r.tikzml?t+="\t"+r.tikzml(e)+"\n":t+="\t"+r.tikz()+"\n";return t}}function rr(...e){return new tr(...e)}function nr({Unite:e=10,Min:t=0,Max:r=2,x:i=0,y:o=0,axeEpaisseur:s=2,axeCouleur:u="black",axeStyle:p="->",axeHauteur:h=4,axePosition:f="H",thickEpaisseur:d=2,thickCouleur:m=u,thickDistance:g=1,thickOffset:y=.1,thickSecDist:v=.1,thickSec:x=!1,thickTerDist:b=.01,thickTer:_=!1,pointListe:w=!1,pointCouleur:M="blue",pointTaille:S=4,pointStyle:N="+",pointOpacite:k=.8,pointEpaisseur:A=2,labelsPrincipaux:T=!0,labelsSecondaires:O=!1,step1:C=1,step2:I=1,labelDistance:R=(h+10)/mathalea.pixelsParCm,labelListe:D=!1,Legende:L="",LegendePosition:q=(0,n.n0o)((r-t)*e+1.5)}={}){a.call(this),this.Unite=e,this.Min=t,this.Max=r;const B=[];let P,z,U,$,F,G=(r-t)*e+1.1,V=[1,0];"H"!==f&&(V=[0,1]),"->"===p?(G+=.2,P=ee(l(i-.2*V[0],o-.2*V[1]),l(i+G*V[0],o+G*V[1]),u),P.styleExtremites="->",P.tailleExtremites=h,P.epaiseur=s):(P=ee(l(i,o),l(i+G*V[0],o+G*V[1]),u),P.styleExtremites="|->",P.epaiseur=s,P.tailleExtremites=h),B.push(P);const H=10/mathalea.pixelsParCm;F=_?(0,n.n0o)(1/b):x?(0,n.n0o)(1/v):(0,n.n0o)(1/g);const j=Math.round((t+y)*F),W=Math.round((r-y)*F),X=Math.round(g*F),Y=Math.round(v*F);for(let a=j;a<=W;a++)$=(0,n.n0o)((a-t*F)/F),a%X==0?(P=ee(l(i+$*e*V[0]-h/8*H*V[1],o-h/8*H*V[0]+$*e*V[1]),l(i+$*e*V[0]+h/8*H*V[1],o+h/8*H*V[0]+$*e*V[1]),m),P.epaisseur=d,B.push(P)):a%Y==0&&x?(P=ee(l(i+$*e*V[0]-h/12*H*V[1],o-h/12*H*V[0]+$*e*V[1]),l(i+$*e*V[0]+h/12*H*V[1],o+h/12*H*V[0]+$*e*V[1]),m),P.epaisseur=d/2,P.opacite=.8,B.push(P)):_&&(P=ee(l(i+$*e*V[0]-h/16*H*V[1],o-h/16*H*V[0]+$*e*V[1]),l(i+$*e*V[0]+h/16*H*V[1],o+h/16*H*V[0]+$*e*V[1]),m),P.epaisseur=d/4,P.opacite=.6,B.push(P));if(T)for(let a=j;a<=W;a++)a%(C*X)==0&&($=(0,n.n0o)((a-t*F)/F),z=Kr(`${(0,n.zqk)((0,n.vbX)((0,n.n0o)(t+$),3))}`,i+$*e*V[0]-R*V[1],o+$*e*V[1]-R*V[0]),B.push(z));if(O)for(let a=j;a<=W;a++)a%(I*Y)==0&&a%X!=0&&($=(0,n.n0o)((a-t*F)/F),z=Kr(`${(0,n.zqk)((0,n.vbX)((0,n.n0o)(t+$),3))}`,i+$*e*V[0]-R*V[1],o+$*e*V[1]-R*V[0]),B.push(z));let Z;if(D)for(const n of D)Z=Kr(n[1],i-R*V[1]+(n[0]-t)*V[0]*e,o-R*V[0]+(n[0]-t)*V[1]*e),B.push(Z);if(""!==L&&B.push(Kr(L,i+q*V[0],o+q*V[1])),w)for(const n of w)U=l(i+(n[0]-t)*V[0]*e,o+(n[0]-t)*V[1]*e,n[1],"above"),z=c(U,M),z.taille=S,z.opacite=k,z.style=N,z.epaisseur=A,B.push(z,E(U));this.svg=function(e){let t="";for(const r of B)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of B)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of B)void 0===n.svgml?r+="\t"+n.svg(e)+"\n":r+="\t"+n.svgml(e,t)+"\n";return r},this.tikzml=function(e){let t="";for(const r of B)void 0===r.tikzml?t+="\t"+r.tikz()+"\n":t+="\t"+r.tikzml(e)+"\n";return t}}function ir(...e){return new nr(...e)}function or(e=-30,t=-30,r=30,i=30,o=.2,s=1,l=1,u=2,c="black"){a.call(this);const p=[];let h,f;h=t>0?t:0,f=e>0?e:0;const d=ee(e,h,r,h);d.styleExtremites="->",d.epaisseur=u,d.color=c;const m=ee(f,t,f,i);m.styleExtremites="->",m.epaisseur=u,p.push(d,m),m.color=c;for(let a=e;a<r;a=(0,n.n0o)(a+s)){const e=ee(a,h-o,a,h+o);e.epaisseur=u,e.color=c,p.push(e)}for(let a=t;a<i;a=(0,n.n0o)(a+l)){const e=ee(f-o,a,f+o,a);e.epaisseur=u,e.color=c,p.push(e)}this.svg=function(e){let t="";for(const r of p)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of p)e+="\n\t"+t.tikz();return e},this.commentaire=`Axes(xmin = ${e}, ymin = ${t}, xmax = ${r}, ymax = ${i}, thick = ${o})`}function ar(...e){return new or(...e)}function sr(e=1,t=20,r=1,i="black",o=-.6,s=1){a.call(this);const u=[];for(let a=Math.ceil(e/s);(0,n.n0o)(a*s)<=t;a=(0,n.n0o)(a+r))u.push(Jr(Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format((0,n.n0o)(a*s)).toString(),l(a,o),"milieu",i));this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e},this.commentaire=`labelX(xmin=${e},xmax=${t},step=${r},color=${i},pos=${o},coeff=${s})`}function lr(...e){return new sr(...e)}function ur(e=1,t=20,r=1,i="black",o=-.6,s=1){a.call(this);const u=[];for(let a=Math.ceil(e/s);(0,n.n0o)(a*s)<=t;a=(0,n.n0o)(a+r))u.push(Jr(Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format((0,n.n0o)(a*s)).toString(),l(o,a),"milieu",i));this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e},this.commentaire=`labelX(ymin=${e},ymax=${t},step=${r},color=${i},pos=${o})`}function cr(...e){return new ur(...e)}function pr(e=-30,t=-30,r=30,i=30,o="gray",s=.4,l=1,u=!1){a.call(this),this.color=o,this.opacite=s;const c=[];for(let a=(0,n.vbX)(e,2);a<=(0,n.vbX)(r,2);a=(0,n.vbX)((0,n.n0o)(a+l),2)){const e=ee(a,t,a,i);e.color=this.color,e.opacite=this.opacite,u&&(e.pointilles=!0),c.push(e)}for(let a=(0,n.vbX)(t,2);a<=(0,n.vbX)(i+.005,2);a=(0,n.vbX)((0,n.n0o)(a+l),2)){const t=ee(e,a,r,a);t.color=this.color,t.opacite=this.opacite,u&&(t.pointilles=!0),c.push(t)}this.commentaire=`Grille(xmin = ${e}, ymin = ${t}, xmax = ${r}, ymax = ${i}, color = ${o}, opacite = ${s}, pas = ${l})`,this.svg=function(e){let t="";for(const r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of c)e+="\n\t"+t.tikz();return e}}function hr(...e){return new pr(...e)}function fr(e=-30,t=-30,r=30,n=30,i="gray",o=.4,s=1,l=!1){a.call(this),this.color=i,this.opacite=o;const u=[];for(let a=t;a<=n;a+=s){const t=ee(e,a,r,a);t.color=this.color,t.opacite=this.opacite,l&&(t.pointilles=!0),u.push(t)}this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e}}function dr(...e){return new fr(...e)}function mr(e=-30,t=-30,r=30,i=30,o="gray",s=.4,l=1,u=!1){a.call(this),this.color=o,this.opacite=s;const c=[];for(let a=(0,n.vbX)(e,2);a<=(0,n.vbX)(r,2);a=(0,n.vbX)((0,n.n0o)(a+l),2)){const e=ee(a,t,a,i);e.color=this.color,e.opacite=this.opacite,u&&(e.pointilles=!0),c.push(e)}this.svg=function(e){let t="";for(const r of c)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of c)e+="\n\t"+t.tikz();return e}}function gr(...e){return new mr(...e)}function yr(e=0,t=0,r=15,i=15,o=.5,s=.2){a.call(this);const l=[];for(let a=t;a<=i;a=(0,n.n0o)(a+.25))if(a%1!=0){const t=ee(e,a,r,a);t.color="red",t.opacite=s,l.push(t)}l.push(hr(e,t,r,i,"blue",o,1)),this.svg=function(e){let t="";for(const r of l)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of l)e+="\n\t"+t.tikz();return e}}function vr(...e){return new yr(...e)}function xr({xmin:e=-10,xmax:t=10,ymin:r=-10,ymax:i=10,xscale:o=1,yscale:s=1,xstep:l=1,ystep:u=1,graduationColor:c="black",afficheZero:p=!1,afficheNumeros:h=!0,afficheLabelX:f=!0,afficheLabelY:d=!0,axesEpaisseur:m=2,axesColor:g="black",grilleHorizontaleVisible:y=!1,grillePrincipaleDistance:v=1,grillePrincipaleColor:x="gray",grillePrincipaleOpacite:b=1.1,grillePrincipalePointilles:_=!1,grillePrincipaleVisible:w=!0,grilleSecondaireDistance:E=.1,grilleSecondaireColor:M="gray",grilleSecondaireOpacite:S=.3,grilleSecondairePointilles:N=!1,grilleSecondaireVisible:k=!1,graduationsxMin:A=e,graduationsxMax:T=t,graduationsyMin:O=r,graduationsyMax:C=i,positionLabelX:I=-.6,positionLabelY:R=-.6,legendeX:D="x",legendeY:L="y",positionLegendeX:q,positionLegendeY:B}={}){let P,z;a.call(this),P=r>0?r:0,z=e>0?e:0,1!==s&&(r=(0,n.Uwv)(s,r),i=(0,n.ISW)(s,i)),1!==o&&(e=(0,n.Uwv)(o,e),t=(0,n.ISW)(o,t)),this.svg=function(a){let U="";return w&&(U+=y?dr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),x,b,v,_).svg(a):hr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),x,b,v,_).svg(a)),k&&(U+=hr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),M,S,E,N).svg(a)),U+=ar((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),4/a,l,u,m,g).svg(a),h&&(p?(f&&(U+=lr((0,n.ISW)(l,A),T,l,c,(0,n.n0o)(P/s)+20*I/a,o).svg(a)),d&&(U+=cr((0,n.ISW)(u,O),C,u,c,(0,n.n0o)(z/o)+20*R/a,s).svg(a))):(f&&(U+=lr((0,n.ISW)(l,A),-1,l,c,(0,n.n0o)(P/s)+20*I/a,o).svg(a)),d&&(U+=cr((0,n.ISW)(u,O),-1,u,c,(0,n.n0o)(z/o)+20*R/a,s).svg(a)),f&&(U+=lr(Math.max(l,(0,n.ISW)(l,A)),T,l,c,(0,n.n0o)(P/s)+20*I/a,o).svg(a)),d&&(U+=cr(Math.max(u,(0,n.ISW)(u,O)),C,u,c,(0,n.n0o)(z/o)+20*R/a,s).svg(a)))),void 0===q&&(q=[t+4/a,P+6/a]),void 0===B&&(B=[z+6/a,i+8/a]),U+=Kr(D,(0,n.n0o)(q[0]/o),(0,n.n0o)(q[1]/s),"droite").svg(a),U+=Kr(L,(0,n.n0o)(B[0]/o),(0,n.n0o)(B[1]/s),"droite").svg(a),U},this.tikz=function(){let a="";return w&&(a+=y?dr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),x,b,v,_).tikz():hr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),x,b,v,_).tikz()),k&&(a+=hr((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),M,S,E,N).tikz()),a+=ar((0,n.n0o)(e/o),(0,n.n0o)(r/s),(0,n.n0o)(t/o),(0,n.n0o)(i/s),.2/mathalea.scale,l,u,m,g).tikz(),p?(f&&(a+=lr((0,n.ISW)(l,A),T,l,c,(0,n.n0o)(P/s)+I/mathalea.scale,o).tikz()),d&&(a+=cr((0,n.ISW)(u,O),C,u,c,(0,n.n0o)(z/o)+R/mathalea.scale,s).tikz())):(f&&(a+=lr((0,n.ISW)(l,A),-1,l,c,(0,n.n0o)(P/s)+I/mathalea.scale,o).tikz()),d&&(a+=cr((0,n.ISW)(u,O),-1,u,c,(0,n.n0o)(z/o)+R/mathalea.scale,s).tikz()),f&&(a+=lr(Math.max(l,(0,n.ISW)(l,A)),T,l,c,(0,n.n0o)(P/s)+I/mathalea.scale,o).tikz()),d&&(a+=cr(Math.max(u,(0,n.ISW)(u,O)),C,u,c,(0,n.n0o)(z/o)+R/mathalea.scale,s).tikz())),void 0===q&&(q=[t+.2/mathalea.scale,P+.3/mathalea.scale]),void 0===B&&(B=[z+.3/mathalea.scale,i+.2/mathalea.scale]),a+=Kr(D,(0,n.n0o)(q[0]/o),(0,n.n0o)(q[1]/s),"droite").tikz(),a+=Kr(L,(0,n.n0o)(B[0]/o),(0,n.n0o)(B[1]/s),"droite").tikz(),a},this.xscale=o,this.yscale=s}function br(...e){return new xr(...e)}function _r({xUnite:e=1,yUnite:t=1,xMin:r=-10,xMax:i=10,yMin:o=-10,yMax:s=10,axesEpaisseur:l=2,axesCouleur:u="black",axeXStyle:c="->",axeYStyle:p="->",thickEpaisseur:h=2,thickHauteur:f=.2,thickCouleur:d=u,xThickDistance:m=1,xThickListe:g=!1,xThickMin:y=r+m,xThickMax:v=i-m,yThickDistance:x=1,yThickListe:b=!1,yThickMin:_=o+x,yThickMax:w=s-x,xLabelDistance:E=m,xLabelListe:M=!1,xLabelMin:S=y,xLabelMax:N=v,yLabelDistance:k=x,yLabelListe:A=!1,yLabelMin:T=_,yLabelMax:O=w,xLegende:C="",xLegendePosition:I=[(0,n.n0o)(i*e)+.5,.5],yLegende:R="",yLegendePosition:D=[.5,(0,n.n0o)(s*t)+.5],grille:L=!0,grilleDistance:q=!1,grilleCouleur:B="black",grilleOpacite:P=.5,grilleEpaisseur:z=1,grilleSecondaire:U=!1,grilleSecondaireDistance:$=!1,grilleSecondaireCouleur:F="gray",grilleSecondaireOpacite:G=.3,grilleSecondaireEpaisseur:V=1,grilleX:H=L,grilleXListe:j=!1,grilleXDistance:W=q,grilleXMin:X=!1,grilleXMax:Y=!1,grilleXCouleur:Z=B,grilleXOpacite:J=P,grilleY:K=L,grilleYListe:Q=!1,grilleYDistance:te=q,grilleYMin:re=!1,grilleYMax:ne=!1,grilleYCouleur:ie=B,grilleYOpacite:oe=P,grilleSecondaireX:ae=U,grilleSecondaireXListe:se=!1,grilleSecondaireXDistance:le=$,grilleSecondaireXMin:ue=!1,grilleSecondaireXMax:ce=!1,grilleSecondaireXCouleur:pe=F,grilleSecondaireXOpacite:he=G,grilleSecondaireY:fe=U,grilleSecondaireYListe:de=!1,grilleSecondaireYDistance:me=$,grilleSecondaireYMin:ge=!1,grilleSecondaireYMax:ye=!1,grilleSecondaireYCouleur:ve=F,grilleSecondaireYOpacite:xe=G}={}){a.call(this),this.xUnite=e,this.yUnite=t,this.xMin=r,this.xMax=i,this.yMin=o,this.yMax=s;const be=[],_e=Math.max(0,o),we=ee((0,n.n0o)(r*e),(0,n.n0o)(_e*t),(0,n.n0o)(i*e),(0,n.n0o)(_e*t));we.epaisseur=l,we.styleExtremites=c,we.color=u;const Ee=Math.max(0,r),Me=ee((0,n.n0o)(Ee*e),(0,n.n0o)(o*t),(0,n.n0o)(Ee*e),(0,n.n0o)(s*t));Me.epaisseur=l,Me.styleExtremites=p,Me.color=u,be.push(we,Me),we.isVisible=!1,Me.isVisible=!1,g||(g=(0,n.BAU)(y,v,[0],m));for(const a of g){const r=ee((0,n.n0o)(a*e),(0,n.n0o)(_e*t-f),(0,n.n0o)(a*e),(0,n.n0o)(_e*t+f));r.isVisible=!1,r.epaisseur=h,r.color=d,be.push(r)}b||(b=(0,n.BAU)(_,w,[0],x));for(const a of b){const r=ee((0,n.n0o)(Ee*e-f),(0,n.n0o)(a*t),(0,n.n0o)(Ee*e+f),(0,n.n0o)(a*t));r.isVisible=!1,r.epaisseur=h,r.color=d,be.push(r)}M||(M=(0,n.BAU)(S,N,[0],E));for(const a of M){const r=Kr((0,n.euh)(a),(0,n.n0o)(a*e),(0,n.n0o)(_e*t)-.5,"milieu","black",1,"middle",!0);r.isVisible=!1,be.push(r)}A||(A=(0,n.BAU)(T,O,[0],k));for(const a of A){const r=Kr((0,n.euh)(a),(0,n.n0o)(Ee*e)-.5,(0,n.n0o)(a*t),"milieu","black",1,"middle",!0);r.isVisible=!1,be.push(r)}if(C.length>0&&be.push(Kr(C,I[0],I[1],"droite")),R.length>0&&be.push(Kr(R,D[0],D[1],"droite")),K){Q||("number"!=typeof re&&(re=_),"number"!=typeof ne&&(ne=w),te||(te=x),Q=(0,n.BAU)(re,ne,[0],te));for(const o of Q){const a=ee((0,n.n0o)(r*e),(0,n.n0o)(o*t),(0,n.n0o)(i*e),(0,n.n0o)(o*t));a.isVisible=!1,a.color=ie,a.opacite=oe,a.epaisseur=z,"pointilles"===K&&(a.pointilles=!0),be.push(a)}}if(H){j||("number"!=typeof X&&(X=y),"number"!=typeof Y&&(Y=v),"number"!=typeof W&&(W=m),j=(0,n.BAU)(X,Y,[0],W));for(const r of j){const i=ee((0,n.n0o)(r*e),(0,n.n0o)(o*t),(0,n.n0o)(r*e),(0,n.n0o)(s*t));i.isVisible=!1,i.color=Z,i.opacite=J,i.epaisseur=z,"pointilles"===H&&(i.pointilles=!0),be.push(i)}}if(fe){de||("number"!=typeof ge&&(ge=_),"number"!=typeof ye&&(ye=w),"number"!=typeof me&&(me=(0,n.n0o)(x/2)),de=(0,n.BAU)(ge,ye,[0],me));for(const o of de){const a=ee((0,n.n0o)(r*e),(0,n.n0o)(o*t),(0,n.n0o)(i*e),(0,n.n0o)(o*t));a.isVisible=!1,a.color=ve,a.opacite=xe,a.epaisseur=V,"pointilles"===fe&&(a.pointilles=!0),be.push(a)}}if(ae){se||("number"!=typeof ue&&(ue=y/2),"number"!=typeof ce&&(ce=v),"number"!=typeof le&&(le=(0,n.n0o)(m/2)),se=(0,n.BAU)(ue,ce,[0],le));for(const r of se){const i=ee((0,n.n0o)(r*e),(0,n.n0o)(o*t),(0,n.n0o)(r*e),(0,n.n0o)(s*t));i.isVisible=!1,i.color=pe,i.opacite=he,i.epaisseur=V,"pointilles"===ae&&(i.pointilles=!0),be.push(i)}}this.svg=function(e){let t="";for(const r of be)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of be)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of be)void 0===n.svgml?r+="\n\t"+n.svg(e):r+="\n\t"+n.svgml(e,t);return r},this.tikzml=function(e){let t="";for(const r of be)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function wr(...e){return new _r(...e)}function Er(e,t,r={xUnite:1,yUnite:1}){return l((0,n.n0o)(e*r.xUnite),(0,n.n0o)(t*r.yUnite))}function Mr(e,t,{couleurDesPoints:r="red",couleurDuTrait:n="blue",styleDuTrait:i="",epaisseurDuTrait:o=2,styleDesPoints:s="x",tailleDesPoints:l=3}={}){a.call(this);const u=[],p=[];for(const[a,f]of e){const e=Er(a,f,t);p.push(e);const n=c(e);n.color=r,n.style=s,n.taille=l,n.isVisible=!1,e.isVisible=!1,u.push(n)}const h=j(...p);h.isVisible=!1,h.epaisseur=o,h.color=n,"pointilles"===i&&(h.pointilles=!0),u.push(h),this.svg=function(e){let t="";for(const r of u)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of u)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of u)void 0===n.svgml?r+="\n\t"+n.svg(e):r+="\n\t"+n.svgml(e,t);return r},this.tikzml=function(e){let t="";for(const r of u)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function Sr(...e){return new Mr(...e)}function Nr(e,t,r="",{epaisseur:i=.6,couleurDeRemplissage:o="blue",color:s="black",opaciteDeRemplissage:u=.3,angle:c=66,unite:p=1,hachures:h=!1}={}){a.call(this);const f=oe(l((0,n.n0o)(e-i/2),0),l((0,n.n0o)(e-i/2),(0,n.n0o)(t*p)),l((0,n.n0o)(e+i/2),(0,n.n0o)(t*p)),l((0,n.n0o)(e+i/2),0));f.couleurDeRemplissage=o,f.opaciteDeRemplissage=u,f.color=s,h&&(f.hachures=h);const d=Kr(r,e,-.2,c,"black",1,"gauche");this.tikz=function(){return f.tikz()+"\n"+d.tikz()},this.svg=function(e){return f.svg(e)+"\n"+d.svg(e)}}function kr(...e){return new Nr(...e)}function Ar(e,t,r="",{epaisseur:i=.6,couleurDeRemplissage:o="blue",color:s="black",opaciteDeRemplissage:u=.3,unite:c=1}={}){a.call(this);const p=oe(l(0,(0,n.n0o)(t-i/2)),l(0,(0,n.n0o)(t+i/2)),l((0,n.n0o)(c*e),(0,n.n0o)(t+i/2)),l((0,n.n0o)(c*e),(0,n.n0o)(t-i/2)));p.couleurDeRemplissage=o,p.opaciteDeRemplissage=u,p.color=s;const h=Kr(r,-.2,t,"gauche","black");this.tikz=function(){return p.tikz()+"\n"+h.tikz()},this.svg=function(e){return p.svg(e)+"\n"+h.svg(e)}}function Tr(...e){return new Ar(...e)}function Or(e,t,r=1,i=1,o="red",s="",u=""){a.call(this),this.x=e,this.y=t,this.xscale=r,this.yscale=i,""===s&&(s=e.toString()),""===u&&(u=t.toString()),this.text_abs=s,this.text_ord=u,this.color=o,this.svg=function(e){const t=(0,n.n0o)(this.x/this.xscale),r=(0,n.n0o)(this.y/this.yscale),i=l(t,r),o=l(t,0),a=l(0,r),s=ee(o,i,this.color),u=ee(i,a,this.color);return s.styleExtremites="->",u.styleExtremites="->",s.pointilles=!0,u.pointilles=!0,"\t\n"+s.svg(e)+"\t\n"+u.svg(e)+"\t\n"+Kr(this.text_abs,t,-20/e,"milieu",this.color).svg(e)+"\t\n"+Kr(this.text_ord,-20/e,r,"milieu",this.color).svg(e)},this.tikz=function(){const e=(0,n.n0o)(this.x/this.xscale),t=(0,n.n0o)(this.y/this.yscale),r=l(e,t),i=l(e,0),o=l(0,t),a=ee(i,r,this.color),s=ee(r,o,this.color);return a.styleExtremites="->",s.styleExtremites="->",a.pointilles=!0,s.pointilles=!0,"\t\n"+a.tikz()+"\t\n"+s.tikz()+"\t\n"+Kr(this.text_abs,e,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+Kr(this.text_ord,-1/mathalea.scale,t,"milieu",this.color).tikz()},this.svgml=function(r,i){const o=(0,n.n0o)(this.x/this.xscale),a=(0,n.n0o)(this.y/this.yscale),s=l(e,t),u=l(o,0),c=l(0,a),p=ee(u,s,this.color),h=ee(s,c,this.color);return p.styleExtremites="->",h.styleExtremites="->",p.pointilles=!0,h.pointilles=!0,"\t\n"+p.svgml(r,i)+"\t\n"+h.svgml(r,i)+"\t\n"+Kr(this.text_abs,o,-20/r,"milieu",this.color).svg(r)+"\t\n"+Kr(this.text_ord,-20/r,a,"milieu",this.color).svg(r)},this.tikzml=function(r){const i=(0,n.n0o)(this.x/this.xscale),a=(0,n.n0o)(this.y/this.yscale),s=l(e,t),u=l(i,0),c=l(0,a),p=ee(u,s,o),h=ee(s,c,o);return p.styleExtremites="->",h.styleExtremites="->",p.pointilles=!0,h.pointilles=!0,"\t\n"+p.tikzml(r)+"\t\n"+h.tikzml(r)+"\t\n"+Kr(this.text_abs,i,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+Kr(this.text_ord,-1/mathalea.scale,a,"milieu",this.color).tikz()}}function Cr(...e){return new Or(...e)}function Ir(e,t,r,i,o,s,u){a.call(this),this.x=e,this.y=t,this.xscale=r,this.yscale=i,""===u&&(u=this.x.toString()),""===s&&(s=this.y.toString()),this.text_abs=u,this.text_ord=s,this.color=o,this.svg=function(e){const t=(0,n.n0o)(this.x/this.xscale),r=(0,n.n0o)(this.y/this.yscale),i=l(t,r),a=l(t,0),s=l(0,r),u=ee(i,a,o),c=ee(s,i,o);return u.styleExtremites="->",c.styleExtremites="->",u.pointilles=!0,c.pointilles=!0,"\t\n"+u.svg(e)+"\t\n"+c.svg(e)+"\t\n"+Kr(this.text_abs,t,-20/e,"milieu",this.color).svg(e)+"\t\n"+Kr(this.text_ord,-20/e,r,"milieu",this.color).svg(e)},this.tikz=function(){const e=(0,n.n0o)(this.x/this.xscale),t=(0,n.n0o)(this.y/this.yscale),r=l(e,t),i=l(e,0),a=l(0,t),s=ee(r,i,o),u=ee(a,r,o);return s.styleExtremites="->",u.styleExtremites="->",s.pointilles=!0,u.pointilles=!0,"\t\n"+s.tikz()+"\t\n"+u.tikz()+"\t\n"+Kr(this.text_abs,e,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+Kr(this.text_ord,-1/mathalea.scale,t,"milieu",this.color).tikz()},this.svgml=function(e,t){const r=(0,n.n0o)(this.x/this.xscale),i=(0,n.n0o)(this.y/this.yscale),a=l(r,i),s=l(r,0),u=l(0,i),c=ee(a,s,o),p=ee(u,a,o);return c.styleExtremites="->",p.styleExtremites="->",c.pointilles=!0,p.pointilles=!0,"\t\n"+c.svgml(e,t)+"\t\n"+p.svgml(e,t)+"\t\n"+Kr(this.text_abs,r,-20/e,"milieu",this.color).svg(e)+"\t\n"+Kr(this.text_ord,-20/e,i,"milieu",this.color).svg(e)},this.tikzml=function(e){const t=(0,n.n0o)(this.x/this.xscale),r=(0,n.n0o)(this.y/this.yscale),i=l(t,r),a=l(t,0),s=l(0,r),u=ee(i,a,o),c=ee(s,i,o);return u.styleExtremites="->",c.styleExtremites="->",u.pointilles=!0,c.pointilles=!0,"\t\n"+u.tikzml(e)+"\t\n"+c.tikzml(e)+"\t\n"+Kr(this.text_abs,t,-1/mathalea.scale,"milieu",this.color).tikz()+"\t\n"+Kr(this.text_ord,-1/mathalea.scale,r,"milieu",this.color).tikz()}}function Rr(...e){return new Ir(...e)}function Dr(e,t=-20,r=30,i="black",o=2,s=[1,1],u=.1){let c,p;a.call(this),this.color=i,s.constructor===xr?(c=s.xscale,p=s.yscale):(c=s[0],p=s[1]);const h=[];for(let a=(0,n.n0o)(t/c);a<=(0,n.n0o)(r/c);a=(0,n.n0o)(a+u))isFinite(e(a*c))&&h.push(l(a,e(a*c)/p));const f=j([...h],this.color);return f.epaisseur=o,f}function Lr(e,t=-20,r=30,n="black",i=2,o=[1,1],a=.1){return new Dr(e,t,r,n,i,o,a)}function qr(e,{repere:t={},color:r="black",epaisseur:i=2,step:o=!1,xMin:s=-10,xMax:u=10,yMin:c=-10,yMax:p=10,xUnite:h=1,yUnite:f=1}={}){let d,m,g,y,v,x;a.call(this),this.color=r,d=t.xMin,m=t.yMin,g=t.xMax,y=t.yMax,v=t.xUnite,x=t.yUnite,isNaN(d)&&(d=s),isNaN(g)&&(g=u),isNaN(m)&&(m=c),isNaN(y)&&(y=p),isNaN(v)&&(v=h),isNaN(x)&&(x=f);const b=[];let _,w=[];_=o||(0,n.n0o)(.2/h);for(let a=d;a<=g;a+=_){if(e(a)<y+.2&&e(a)>m-.2)w.push(l((0,n.n0o)(a*v),(0,n.n0o)(e(a)*x)));else{const e=j([...w],this.color);e.epaisseur=i,b.push(e),w=[]}const t=j([...w],this.color);t.epaisseur=i,b.push(t)}this.svg=function(e){let t="";for(const r of b)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of b)e+="\n\t"+t.tikz();return e},this.svgml=function(e,t){let r="";for(const n of b)void 0===n.svgml?r+="\n\t"+n.svg(e):r+="\n\t"+n.svgml(e,t);return r},this.tikzml=function(e){let t="";for(const r of b)void 0===r.tikzml?t+="\n\t"+r.tikz():t+="\n\t"+r.tikzml(e);return t}}function Br(...e){return new qr(...e)}const Pr=(e,t,r)=>{const n=(1-Math.cos(r*Math.PI))/2;return e*(1-n)+t*n};function zr(e,t="black",r=2,i=[1,1],o,s){a.call(this);const l=[];for(let a=0;a<e.length-1;a++){const u=e[a][0],c=e[a][1],p=e[a+1][0],h=e[a+1][1];let f,d;f=o>u?o:u,d=s<p?s:p;const m=Lr((e=>Pr(c,h,(0,n.n0o)((e-u)/(p-u)))),f,d,t,r,i);l.push(m),this.svg=function(e){let t="";for(const r of l)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of l)e+="\n\t"+t.tikz();return e}}}function Ur(...e){return new zr(...e)}function $r(e,{color:t="black",epaisseur:r=1,repere:i={},step:o=.2}={}){a.call(this);const s=[];for(let a=0;a<e.length-1;a++){const l=e[a][0],u=e[a][1],c=e[a+1][0],p=e[a+1][1],h=e=>Pr(u,p,(0,n.n0o)((e-l)/(c-l)));let f,d;f=i.xMin>l?i.xMin:l,d=i.xMax<c?i.xMax:c;const m=Br(h,{step:o,xMin:f,xMax:d,color:t,epaisseur:r,xUnite:i.xUnite,yUnite:i.yUnite,yMin:i.yMin,yMax:i.yMax});s.push(m),this.svg=function(e){let t="";for(const r of s)t+="\n\t"+r.svg(e);return t},this.tikz=function(){let e="";for(const t of s)e+="\n\t"+t.tikz();return e}}}function Fr(...e){return new $r(...e)}function Gr(e,t){const r=e[0][0],i=e[0][1],o=e[1][0],a=e[1][1];return s=t,Pr(i,a,(0,n.n0o)((s-r)/(o-r)));var s}function Vr(e,t){const r=e[0][0],i=e[0][1],o=e[1][0],a=e[1][1];return function(e,t,r,n,i=.01){let o,a;e>t&&(o=e,e=t,t=o);o=(t+e)/2,a=r(o);for(;Math.abs(a-n)>i;)r(e)<r(t)?a>n?t=o:e=o:a>n?e=o:t=o,o=(e+t)/2,a=r(o);return o}(r,o,(e=>Pr(i,a,(0,n.n0o)((e-r)/(o-r)))),t,.01)}function Hr(e,t="blue"){a.call(this),this.epaisseur=2,this.color=t,this.taille=.2,this.svg=function(t){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}let r=`<polyline points="${(0,n.n0o)(e.xSVG(t)+20*this.taille)},${(0,n.n0o)(e.ySVG(t)+2*this.taille*20/t*t)} ${e.xSVG(t)},${(0,n.n0o)(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${(0,n.n0o)(e.ySVG(t)+-2*this.taille*20)} ${(0,n.n0o)(e.xSVG(t)+20*this.taille)},${(0,n.n0o)(e.ySVG(t)+-2*this.taille*20)}" fill="none" stroke="${this.color}" ${this.style} />`;return r+=`\n\t<text x="${e.xSVG(t)}" y="${(0,n.n0o)(e.ySVG(t)+20*this.taille*5)}" text-anchor="middle" dominant-baseline="central" fill="${this.color}">${e.nom}</text>\n `,r},this.tikz=function(){let t=`\\draw[very thick,${this.color}] (${(0,n.n0o)(e.x+this.taille/mathalea.scale)},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y-this.taille/mathalea.scale})--(${(0,n.n0o)(e.x+this.taille/mathalea.scale)},${e.y-this.taille/mathalea.scale});`;return t+=`\n\t\\draw[${this.color}] (${e.x},${e.y-this.taille/mathalea.scale}) node[below] {$${e.nom}$};`,t}}function jr(...e){return new Hr(...e)}function Wr(e,t="blue"){a.call(this),this.epaisseur=2,this.color=t,this.taille=.2,this.svg=function(t){if(1!==this.epaisseur&&(this.style+=` stroke-width="${this.epaisseur}" `),this.pointilles)switch(this.pointilles){case 1:this.style+=' stroke-dasharray="6 10" ';break;case 2:this.style+=' stroke-dasharray="6 3" ';break;case 3:this.style+=' stroke-dasharray="3 2 6 2 " ';break;case 4:this.style+=' stroke-dasharray="1 2" ';break;default:this.style+=' stroke-dasharray="5 5" '}let r=`<polyline points="${(0,n.n0o)(e.xSVG(t)-20*this.taille)},${(0,n.n0o)(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${(0,n.n0o)(e.ySVG(t)+2*this.taille*20)} ${e.xSVG(t)},${(0,n.n0o)(e.ySVG(t)-2*this.taille*20)} ${(0,n.n0o)(e.xSVG(t)-20*this.taille)},${(0,n.n0o)(e.ySVG(t)-2*this.taille*20)}" fill="none" stroke="${this.color}" ${this.style} />`;return r+=`\n\t<text x="${e.xSVG(t)}" y="${e.ySVG(t)+5*this.taille*20}" text-anchor="middle" dominant-baseline="central" fill="${this.color}">${e.nom}</text>\n `,r},this.tikz=function(){let t=`\\draw[very thick,${this.color}] (${(0,n.n0o)(e.x-this.taille/mathalea.scale)},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y+this.taille/mathalea.scale})--(${e.x},${e.y-this.taille/mathalea.scale})--(${(0,n.n0o)(e.x-this.taille/mathalea.scale)},${e.y-this.taille/mathalea.scale});`;return t+=`\n\t\\draw[${this.color}] (${e.x},${e.y-this.taille/mathalea.scale}) node[below] {$${e.nom}$};`,t}}function Xr(...e){return new Wr(...e)}function Yr(e,t,r="blue",n=0){const i=ee(l(e.x,e.y+n),l(t.x,t.y+n));return i.epaisseur=3,i.color=r,i}function Zr(e,t,r="milieu",n="black",i=1,o="middle",s=!1){a.call(this),this.color=n,this.contour=!1,this.taille=10*i,this.opacite=1,this.svg=function(n){let i="",a="";if(s&&(a=' font-family= "KaTeX_Math" '),this.contour?a+=` style="font-size:${this.taille}px;fill:none;fill-opacity:${this.opacite};stroke:${this.color};stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:${this.opacite}" `:a+=` style="font-size:${this.taille}px;fill:${this.color};fill-opacity:${this.opacite}" `,"number"==typeof r)i=`<text ${a} x="${t.xSVG(n)}" y="${t.ySVG(n)}" text-anchor = ${o} dominant-baseline = "central" fill="${this.color}" transform="rotate(${r} ${t.xSVG(n)} ${t.ySVG(n)})" id="${this.id}" >${e}</text>\n `;else switch(r){case"milieu":i=`<text ${a} x="${t.xSVG(n)}" y="${t.ySVG(n)}" text-anchor="middle" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `;break;case"gauche":i=`<text x="${t.xSVG(n)}" y="${t.ySVG(n)}" text-anchor="end" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `;break;case"droite":i=`<text x="${t.xSVG(n)}" y="${t.ySVG(n)}" text-anchor="start" dominant-baseline="central" fill="${this.color}" id="${this.id}" >${e}</text>\n `}return i},this.tikz=function(){let a="";if(s&&(e="$"+e+"$"),"number"==typeof r){let i="center";"gauche"===o&&(i="west"),"droite"===o&&(i="east"),a=`\\draw [${n}] (${t.x},${t.y}) node[anchor = ${i}, rotate = ${-r}] {${e}};`}else{let o="";"gauche"===r&&(o=`node[anchor = east,scale=${i}]`),"droite"===r&&(o=`node[anchor = west,scale=${i}]`),"milieu"===r&&(o=`node[anchor = center,scale=${i}]`),a=`\\draw [${n}] (${t.x},${t.y}) ${o} {${e}};`}return a}}function Jr(...e){return new Zr(...e)}function Kr(e,t,r,n="milieu",i,o=1,a="middle",s=!1){return new Zr(e,l(t,r),n,i,o,a,s)}function Qr(e,t,r="black",n=200,i=12,o="white"){let a,s;const l=mathalea.pixelsParCm;switch(t.positionLabel){case"above":a=t.x,s=t.y+15/l;break;case"below":a=t.x,s=t.y-15/l;break;case"left":a=t.x-15/l,s=t.y;break;case"right":a=t.x+15/l,s=t.y;break;case"above right":a=t.x+15/l,s=t.y+15/l;break;case"above left":a=t.x-15/l,s=t.y+15/l;break;case"below right":a=t.x+15/l,s=t.y-15/l;break;case"below left":a=t.x-15/l,s=t.y-15/l;break;case"center":default:a=t.x,s=t.y}return tn(e,a,s,r,n,i,o)}function en(e,t,r,i="black",o=200,s=12,l="white"){a.call(this),this.x=t,this.y=r,this.size=o,this.hauteurLigne=s,this.colorBackground=l,this.color=i,this.texte=e,this.svg=function(e){const t=(0,n.n0o)(this.size/2),r=.25*mathalea.pixelsParCm;return""!==l?`<foreignObject style=" overflow: visible; line-height: 0;" x="${(0,n.vbX)(this.x*e,2)-t}" y="${(0,n.vbX)(-this.y*e,2)-this.hauteurLigne/2-r}"  width="${this.size}" height="${this.hauteurLigne}" id="${this.id}" ><div style="margin:auto;width:${this.size}px;height:${s}px;position:fixed!important; text-align:center">\n    $\\colorbox{${this.colorBackground}}{$\\color{${i}}{${this.texte}}$}$</div></foreignObject>`:`<foreignObject style=" overflow: visible; line-height: 0;" x="${(0,n.vbX)(this.x*e,2)-t}" y="${(0,n.vbX)(-this.y*e,2)-this.hauteurLigne/2-r}"  width="${this.size}" height="${this.hauteurLigne}" id="${this.id}" ><div style="width:${this.size}px;height:${this.hauteurLigne}px;position:fixed!important; text-align:center">\n      $\\color{${this.color}}{${this.texte}}$</div></foreignObject>`},this.tikz=function(){let n;return n=""!==l?`\\draw (${t},${r}) node[anchor = center] {\\colorbox{${l}}{\\color{${i}}{${e}}}};`:`\\draw (${t},${r}) node[anchor = center] {$\\color{${i}}{${e}}$};`,n}}function tn(e,t,r,n="black",i=200,o=12,a="white"){return new en(e,t,r,n,i,o,a)}function rn({x:e=0,y:t=0,fraction:r={num:1,den:2},couleur:i="black"}={}){a.call(this);const o=Math.abs(r.num),s=Math.abs(r.den),l=(0,n.vOD)(r.num)*(0,n.vOD)(r.den),u=10*Math.max(Math.floor(Math.log10(o))+1,Math.floor(Math.log10(s))+1);this.svg=function(r){const a=ee(e-u/r/2,t,e+u/r/2,t,i);a.isVisible=!1;let c=a.svg(r);-1===l&&(c+=ee((0,n.n0o)(e-(u+15)/r/2,0),t,(0,n.n0o)(e-(u+5)/r/2,0),t,i).svg(r));const p=Kr((0,n.zqk)(o),e,(0,n.n0o)(t+10/r),"milieu",i);c+=p.svg(r);const h=Kr((0,n.zqk)(s),e,(0,n.n0o)(t-10/r),"milieu",i);return c+=h.svg(r),p.isVisible=!1,h.isVisible=!1,c=`<g id="${this.id}">${c}</g>`,c},this.tikz=function(){let r=ee(e,t,(0,n.n0o)(e+u/30/mathalea.scale,2),t,i).tikz();return-1===l&&(r+=ee((0,n.n0o)(e-(u/30+.785)/mathalea.scale/2,2),t,(0,n.n0o)(e-(u/30+.25)/mathalea.scale/2,2),t,i).tikz()),r+=Kr((0,n.zqk)(o),(0,n.n0o)(e+u/60/mathalea.scale,2),(0,n.n0o)(t+10/30/mathalea.scale,2),"milieu",i).tikz(),r+=Kr((0,n.zqk)(s),(0,n.n0o)(e+u/60/mathalea.scale,2),(0,n.n0o)(t-10/30/mathalea.scale,2),"milieu",i).tikz(),r}}function nn(e){return new rn(e)}function on(e){if("number"==typeof e)return Kr(e.toString(),0,0,"droite");Kr(e,0,0,"droite")}function an(...e){const t=[];for(let r=0;r<e.length;r++)t.push(on(e[r]));return t}function sn(e,t,r){return void 0===r?(0,n.n0o)(Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)):(0,n.n0o)(Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),r)}function ln(e){return(0,n.n0o)(Math.sqrt(e.x**2+e.y**2))}function un(e,t,r){const i=sn(t,e),o=sn(t,r),a=sn(e,r),s=Z(t,e),l=Z(t,r);return s.x*l.y-s.y*l.x==0?s.x*l.x>0?0:s.x*l.x<0?180:s.y*l.y>0?0:180:(0,n.n0o)(180*Math.acos((a**2-i**2-o**2)/(-2*i*o))/Math.PI,2)}function cn(e,t,r){const i=nt(e,t,90),o=Z(t,r),a=Z(t,i);return(0,n.vOD)(o.x*a.x+o.y*a.y)*un(e,t,r)}function pn(e,t,r){const i=sn(t,e),o=sn(t,r),a=sn(e,r);return(0,n.n0o)(Math.acos((a**2-i**2-o**2)/(-2*i*o)),2)}function hn(e){let t=90-e;return t<-180&&(t+=360),fn(t)}function fn(e){return e<-180?e+360:e>180?e-360:e}function dn(){a.call(this),this.x=0,this.y=0,this.xSVG=function(e){return this.x*e},this.ySVG=function(e){return-this.y*e},this.orientation=0,this.historiquePositions=[],this.crayonBaisse=!1,this.isVisible=!0,this.costume='<radialGradient id="Ball" cx="29.7275" cy="-13.1396" r="38.5299" gradientUnits="userSpaceOnUse">\n  <stop offset="0" style="stop-color:#FFFF99"/>\n  <stop offset="1" style="stop-color:#FF9400"/>\n</radialGradient> <circle fill="url(#Ball)"  r="22.5" stroke-width="1" ',this.listeTraces=[],this.color="black",this.epaisseur=2,this.pointilles=!1,this.opacite=1,this.style="",this.svg=function(e){let t="";for(const r of this.listeTraces){const n=l(r[0],r[1]),i=l(r[2],r[3]),o=r[4],a=r[5],s=r[6],u=r[7];let c="";1!==a&&(c+=` stroke-width="${a}" `),s&&(c+=' stroke-dasharray="4 3" '),1!==u&&(c+=` stroke-opacity="${u}" `),t+=`\n\t<line x1="${n.xSVG(e)}" y1="${n.ySVG(e)}" x2="${i.xSVG(e)}" y2="${i.ySVG(e)}" stroke="${o}" ${c}  />`}if(this.isVisible){t+=`\n<g>${this.costume} x="${this.listeTraces[0][0]*e}" y="${-this.listeTraces[0][1]*e}">\n<animateMotion path="M ${this.listeTraces[0][0]*e} ${-this.listeTraces[0][1]*e} L`;for(let r=0;r<this.listeTraces.length;r++){const n=l(this.listeTraces[r][2],this.listeTraces[r][3]);t+=` ${n.xSVG(e)} ${n.ySVG(e)} `}t+='" \'begin="10s" dur="10s" repeatCount="indefinite"\' />;\n    </circle>\n    </g>'}return t},this.tikz=function(){let e="";for(const t of this.listeTraces){const r=l(t[0],t[1]),n=l(t[2],t[3]),i=t[4],o=t[5],a=t[6],s=t[7];let u=[];const c=[];i.length>1&&"black"!==i&&c.push(i),1!==o&&c.push(`line width = ${o}`),1!==s&&c.push(`opacity = ${s}`),a&&c.push("dashed"),c.length>0&&(u="["+c.join(",")+"]"),e+=`\n\t\\draw${u} (${r.x},${r.y})--(${n.x},${n.y});`}return e}}function mn(...e){return new dn(...e)}function gn(e,t=mathalea.lutin){const r=t.x,o=t.y;t.x=(0,n.n0o)(t.x+e/mathalea.unitesLutinParCm*Math.cos((0,i.uR)(t.orientation))),t.y=(0,n.n0o)(t.y+e/mathalea.unitesLutinParCm*Math.sin((0,i.uR)(t.orientation))),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,o,t.x,t.y,t.color,t.epaisseur,t.pointilles,t.opacite])}function yn(e=mathalea.lutin){e.crayonBaisse=!0}function vn(e=mathalea.lutin){e.crayonBaisse=!1}function xn(e,t=mathalea.lutin){t.orientation=fn(e)}function bn(e,t=mathalea.lutin){t.orientation=fn(t.orientation+e)}function _n(e,t=mathalea.lutin){t.orientation=fn(t.orientation-e)}function wn(e,t,r=mathalea.lutin){const i=r.x,o=r.y;r.x=(0,n.n0o)(e/mathalea.unitesLutinParCm),r.y=(0,n.n0o)(t/mathalea.unitesLutinParCm),r.historiquePositions.push([r.x,r.y]),r.crayonBaisse&&r.listeTraces.push([i,o,r.x,r.y,r.color,r.epaisseur,r.pointilles,r.opacite])}function En(e,t=mathalea.lutin){const r=t.x;t.x=(0,n.n0o)(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,t.y,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function Mn(e,t=mathalea.lutin){const r=t.y;t.y=(0,n.n0o)(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([t.x,r,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function Sn(e,t=mathalea.lutin){const r=t.x;t.x+=(0,n.n0o)(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([r,t.y,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function Nn(e,t=mathalea.lutin){const r=t.y;t.y+=(0,n.n0o)(e/mathalea.unitesLutinParCm),t.historiquePositions.push([t.x,t.y]),t.crayonBaisse&&t.listeTraces.push([t.x,r,t.x,t.y,t.color,t.epaisseur,t.pointilles])}function kn(e){const t=/[\\{}]/,r=/[[]<>]/,n=/[{ ]/,i=function e(i,o,a){let s,l,u,c,p,h=[],f=[],d=[],m=[];const g=function(e){let t;return"}"===e[0]?"}":(t=e.split(n)[0],t)}(i.substring(o));switch(g.substring(0,5)){case"\\bloc":switch(l=g.split("{")[0],s=l.length,l=l.substring(6),a++,l){case"stop":f=e(i,o+s+1,a),d=e(i,f[1],f[2]),h=[`${f[0]} ${d[0]} `,d[1],d[2]];break;case"move":case"control":f=e(i,o+s+1,a),h=[f[0],f[1],f[2]];break;case"list":f=e(i,o+s+1,a),h=[f[0]+" :: list",f[1],f[2]];break;case"init":f=e(i,o+s+1,a),h=[f[0],f[1],f[2]];break;case"space\n":h=["\n",11+o,--a];break;case"if":for(f=e(i,o+s+1,a),d=e(i,f[1],f[2]),m=e(i,d[1],d[2]),h=[`${f[0]} ${d[0]} ${m[0]}`,m[1]+1,m[2]-1],c=(a=h[2])+1,p=i.substring(h[1]).indexOf("{")+h[1],h[1]=p+1,h[0]+="\n";c>a;)f=e(i,h[1],c),h[0]+=" "+f[0],h[1]=f[1],c=f[2];h[0]+=" fin";break;case"ifelse":for(f=e(i,o+s+1,a),d=e(i,f[1],f[2]),m=e(i,d[1],d[2]),h=[`${f[0]} ${d[0]} ${m[0]}`,m[1]+1,m[2]-1],c=(a=h[2])+1,p=i.substring(h[1]).indexOf("{")+h[1],h[1]=p+1,h[0]+="\n";c>a;)f=e(i,h[1],c),h[0]+=" "+f[0],h[1]=f[1],c=f[2];for(h[0]+=" sinon",c=a+1,p=i.substring(h[1]).indexOf("{")+h[1],h[1]=p+1,h[0]+="\n";c>a;)f=e(i,h[1],c),h[0]+=" "+f[0],h[1]=f[1],c=f[2];h[0]+=" fin";break;case"repeat":for(f=e(i,o+s+1,a),"indéfiniment"!==f[0].split(" ")[1]?"jusqu'à"!==f[0].split(" ")[1]?(d=e(i,f[1],f[2]),m=e(i,d[1],d[2]),h=[`${f[0]} ${d[0]} ${m[0]}`,m[1]+1,m[2]-1],a=h[2]):(d=e(i,f[1],f[2]),h=[`${f[0]} ${d[0]} `,d[1]+1,d[2]-1],a=h[2]):(h=[`${f[0]} `,f[1]+1,f[2]-1],a=h[2]),c=a+1,p=i.substring(h[1]).indexOf("{")+h[1],h[1]=p+1,h[0]+="\n";c>a;)f=e(i,h[1],c),h[0]+=" "+f[0],h[1]=f[1],c=f[2];h[0]+=" fin";break;default:f=e(i,o+s+1,a),h=[f[0],f[1],f[2]]}break;case"\\oval":switch(l=g.split("{")[0],s=l.length,l=l.substring(5),a++,"*"===l.charAt(l.length-1)?(u=!0,l=l.substring(0,l.length-1)):u=!1,l){case"num":f=e(i,o+s+1,a),h=isNaN(f[0])&&f[0].indexOf(r)?[`[${f[0]}]`,f[1]+1,f[2]-1]:[`(${f[0]})`,f[1]+1,f[2]-1];break;case"moreblocks":f=e(i,o+s+1,a),h=u?[`(${f[0]} v)`,f[1],f[2]]:[`(${f[0]})`,f[1],f[2]];break;case"variable":f=e(i,o+s+1,a),h=u?[`(${f[0]} v)`,f[1]+1,f[2]-1]:[`(${f[0]})`,f[1]+1,f[2]-1];break;case"sound":f=e(i,o+s+1,a),h=u?[`(${f[0]} v :: sound)`,f[1]+1,f[2]-1]:[`(${f[0]} :: sound)`,f[1]+1,f[2]-1];break;case"sensing":f=e(i,o+s+1,a),h=u?[`(${f[0]} v :: sensing)`,f[1]+1,f[2]-1]:[`(${f[0]} :: sensing)`,f[1]+1,f[2]-1];break;case"operator":for(f=e(i,o+s+1,a),d=e(i,f[1],f[2]),h=[`(${f[0]} ${d[0]}`,d[1],d[2]];"}"!==i.charAt(d[1]);)d=e(i,d[1],d[2]),h[0]+=" "+d[0];h[0]+=")",h[1]=d[1]+1,h[2]=d[2]-1;break;default:f=e(i,o+s+1,a),h=u?[`(${f[0]} v)`,f[1]+1,f[2]-1]:[`(${f[0]})`,f[1]+1,f[2]-1]}break;case"\\bool":switch(l=g.split(/\{ /)[0],s=l.length,l=l.substring(5,9),l){case"oper":for(f=e(i,o+s+1,++a),d=e(i,f[1],f[2]),h=[`<${f[0]} ${d[0]}`,d[1],d[2]];"}"!==i.charAt(d[1]);)d=e(i,d[1],d[2]),h[0]+=" "+d[0];h[0]+=" :: operators boolean>",h[1]=d[1]+1,h[2]=d[2]-1;break;case"empt":h=["< vide :: operators boolean>",o+s+1,a];break;case"sens":for(f=e(i,o+s+1,++a),d=e(i,f[1],f[2]),h=[`<${f[0]} ${d[0]}`,d[1],d[2]];"}"!==i.charAt(d[1]);)d=e(i,d[1],d[2]),h[0]+=" "+d[0];h[0]+=" :: sensing>",h[1]=d[1]+1,h[2]=d[2]-1;break;case"list":for(f=e(i,o+s+1,++a),d=e(i,f[1],f[2]),h=[`<${f[0]} ${d[0]}`,d[1],d[2]];"}"!==i.charAt(d[1]);)d=e(i,d[1],d[2]),h[0]+=" "+d[0];h[0]+=" :: list>",h[1]=d[1]+1,h[2]=d[2]-1;break;default:f=e(i,o+s+1,a),h=[`<${f[0]}>`,f[1],f[2]]}break;case"\\init":l=g.split("{")[0],s=l.length,f=e(i,o+s+1,++a),d=e(i,f[1],f[2]),h=[`${f[0]} ${d[0]} `,d[1],d[2]];break;case"\\name":for(l=g.split("{")[0],s=l.length,f=e(i,o+s+1,++a),d=e(i,f[1],f[2]),h=[`${f[0]} ${d[0]}`,d[1],d[2]];"}"!==i.charAt(d[1]);)d=e(i,d[1],d[2]),h[0]+=" "+d[0];h[1]=d[1]+1,h[2]=d[2]-1;break;default:switch(g){case"}":h=[" ",1+o,--a];break;case"\\begin":a++,"["===i.substring(15+o)[0]?o=i.substring(15+o).indexOf("]")+16+o:o+=15,h=[" \x3c!-- Code Scratch  --\x3e",o,a];break;case"\\end":h=[" \x3c!-- Fin du Code Scratch  --\x3e\n",13+o,--a];break;case"\\turnleft":h=["gauche ",11+o,a];break;case"\\turnright":h=["droite ",12+o,a];break;case"\\greenflag":h=[" @greenFlag ",10+o,a];break;case"\\selectmenu":f=e(i,12+o,++a),h=[`[${f[0]} v]`,f[1]+1,f[2]-1];break;default:l=i.substring(o).split(t)[0],h=[l,l.length+o,a]}}return h};let o,a,s="",l=[],u=0;if((e.match(/\{/g)||[]).length!==(e.match(/\}/g)||[]).length)return console.log("Il n'y a pas le même nombre de { que de }. Je préfère m'arrêter."),!1;if(sortieHtml){for(s="<pre class='blocks'>",a=0,o=!1;!o;)l=i(e,a,u),s+=l[0],a=l[1],u=l[2],0===u&&(o=!0);s+="</pre>\n"}else s=e;return s}function An(e){a.call(this),this.x=e.x,this.y=e.y,this.svg=function(){return`<g id="${this.id}" stroke="#000000" fill="none" transform="translate(${(this.x-.2)*mathalea.pixelsParCm},${-60-(this.y-.2)*mathalea.pixelsParCm}) scale(.1) ">\n   <path id="rect2990" d="m70.064 422.35 374.27-374.26 107.58 107.58-374.26 374.27-129.56 21.97z" stroke-width="30"/>\n   <path id="path3771" d="m70.569 417.81 110.61 110.61" stroke-width="25"/>\n   <path id="path3777" d="m491.47 108.37-366.69 366.68" stroke-width="25"/>\n   <path id="path3763" d="m54.222 507.26 40.975 39.546" stroke-width="25"/>\n  </g>`}}function Tn(...e){return new An(...e)}function On(e,t,r,...n){let i="";const o=e[0],a=-1*e[3],s=e[2],l=-1*e[1];i=`<svg width="${(s-o)*t}" height="${(l-a)*t}" viewBox="${o*t} ${a*t} ${(s-o)*t} ${(l-a)*t}" xmlns="http://www.w3.org/2000/svg">\n`;for(const c of n){if(Array.isArray(c))for(let e=0;e<c.length;e++)try{c[e].isVisible&&(r&&void 0!==c[e].svgml?i+="\t"+c[e].svgml(t,mathalea.amplitude)+"\n":i+="\t"+c[e].svg(t)+"\n")}catch(u){}try{c.isVisible&&(r&&void 0!==c.svgml?i+="\t"+c.svgml(t,mathalea.amplitude)+"\n":i+="\t"+c.svg(t)+"\n")}catch(u){}}return i+="</svg>",i}function Cn(e,t,r,...n){let i="";const o=e[0],a=-1*e[3],s=e[2],l=-1*e[1],u=sortieHtml;sortieHtml=!1,i+=1===t?"\\begin{tikzpicture}[baseline]\n":`\\begin{tikzpicture}[baseline,scale = ${t}]\n`,i+=`\\tikzset{\n    point/.style={\n      thick,\n      draw,\n      cross out,\n      inner sep=0pt,\n      minimum width=5pt,\n      minimum height=5pt,\n    },\n  }\n  \\clip (${o},${a}) rectangle (${s},${l});\n\n  \n\n`;for(const p of n){if(Array.isArray(p))for(let e=0;e<p.length;e++)try{p[e].isVisible&&(r&&void 0!==p[e].tikzml?i+="\t"+p[e].tikzml(mathalea.amplitude)+"\n":i+="\t"+p[e].tikz()+"\n")}catch(c){}try{p.isVisible&&(r&&void 0!==p.tikzml?i+="\t"+p.tikzml(mathalea.amplitude)+"\n":i+="\t"+p.tikz()+"\n")}catch(c){}}return i+="\\end{tikzpicture}\n",sortieHtml=u,i}function In({xmin:e=0,ymin:t=0,xmax:r=15,ymax:n=6,pixelsParCm:i=20,scale:o=1,optionsTikz:a,mainlevee:s=!1,amplitude:l=1}={},...u){let c="";if(sortieHtml){c=`<svg class="mathalea2d" width="${(r-e)*i}" height="${(n-t)*i}" viewBox="${e*i} ${-n*i} ${(r-e)*i} ${(n-t)*i}" xmlns="http://www.w3.org/2000/svg">\n`;for(const e of u){if(Array.isArray(e))for(let t=0;t<e.length;t++)try{e[t].isVisible&&(s&&void 0!==e[t].svgml?c+="\t"+e[t].svgml(i,l)+"\n":c+="\t"+e[t].svg(i)+"\n")}catch(p){}try{e.isVisible&&(s&&void 0!==e.svgml?c+="\t"+e.svgml(i,l)+"\n":c+="\t"+e.svg(i)+"\n")}catch(p){console.log("le try tout seul",p.message,e)}}c+="\n</svg>",c=c.replace(/\\thickspace/gm," ")}else{const i=[];if(void 0!==a&&("string"==typeof a?i.push(a):a.forEach((e=>i.push(e)))),1===o){c="\\begin{tikzpicture}[baseline";for(let e=0;e<i.length;e++)c+=`,${i[e]}`;c+="]\n"}else{c=`\\begin{tikzpicture}[baseline,scale = ${o}`;for(let e=0;e<i.length;e++)c+=`,${i[e]}`;c+="]\n"}c+=`\n    \\tikzset{\n      point/.style={\n        thick,\n        draw,\n        cross out,\n        inner sep=0pt,\n        minimum width=5pt,\n        minimum height=5pt,\n      },\n    }\n    \\clip (${e},${t}) rectangle (${r},${n});\n\n\n    `;for(const e of u){if(Array.isArray(e))for(let t=0;t<e.length;t++)try{e[t].isVisible&&(s&&void 0!==e[t].tikzml?c+="\t"+e[t].tikzml(l)+"\n":c+="\t"+e[t].tikz()+"\n")}catch(p){}try{e.isVisible&&(s&&void 0!==e.tikzml?c+="\t"+e.tikzml(l)+"\n":c+="\t"+e.tikz()+"\n")}catch(p){}}c+="\n\\end{tikzpicture}"}return c}function Rn(e){switch(e){case 0:return"north east lines";case 1:return"horizontal lines";case 2:return"vertical lines";case 3:return"dots";case 4:return"crosshatch dots";case 5:return"fivepointed stars";case 6:return"sixpointed stars";case 7:return"bricks";case 8:return"checkerboard";case 9:return"grid";case 10:return"crosshatch";default:return"north east lines"}}function Dn({motif:e="north east lines",id:t,distanceDesHachures:r=10,epaisseurDesHachures:i=1,couleurDesHachures:o="black",couleurDeRemplissage:a="none",opaciteDeRemplissage:s=.5}){let l="";if(sortieHtml){switch(a.length<1&&(a="none"),e){case"north east lines":l+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>\n            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${o}; stroke-width:${i}" />\n            </pattern>`;break;case"horizontal lines":l+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>\n            <line x1="0" y1="${(0,n.n0o)(r/2)}" x2="${(0,n.n0o)(r)}" y2="${(0,n.n0o)(r/2)}" style="stroke:${o}; stroke-width:${i}" />\n            </pattern>`;break;case"vertical lines":l+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n            <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>\n            <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${o}; stroke-width:${i}" />\n            </pattern>`;break;case"dots":l+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n            <circle cx="3" cy="3" r="1.5" fill="${a}" fill-opacity="${s}"/>\n            <circle cx="8" cy="3" r="1.5" fill="${a}" fill-opacity="${s}"/>\n            <circle cx="3" cy="8" r="1.5" fill="${a}" fill-opacity="${s}"/>\n            <circle cx="8" cy="8" r="1.5" fill="${a}" fill-opacity="${s}"/>\n            </pattern>`;break;case"crosshatch dots":l+=`<pattern id="pattern${t}" width="12" height="12" x="12" y="12" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <circle cx="2" cy="2" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="8" cy="2" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="5" cy="5" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="2" cy="8" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="8" cy="8" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="5" cy="11" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="11" cy="5" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          <circle cx="11" cy="11" r="1.5" fill="${a}" fill-opacity="${s}"/>\n          </pattern>`;break;case"fivepointed stars":l+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="10,5 6.2,4.2 6.6,0.2 4.6,3.6 1,2 3.6,5 1,8 4.6,6.4 6.6,9.8 6.2,5.8 " stroke="${o}"  fill="${a}" fill-opacity="${s}" />\n          </pattern>`;break;case"sixpointed stars":l+=`<pattern id="pattern${t}"  width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n        <polygon points="10,5 7.6,3.4 7.6,0.6 5,2 2.6,0.6 2.4,3.4 0,5 2.4,6.4 2.6,9.4 5,8 7.6,9.4 7.6,6.4 " stroke="${o}" fill="${a}" fill-opacity="${s}" />\n        </pattern>`;break;case"crosshatch":l+=`<pattern id="pattern${t}" width="12" height="12" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="2,2 7.6,7.6 7,8.4 9.8,8.4 9.8,5.6 9,6.2 3.4,0.6 " stroke="${o}"  fill="${a}" fill-opacity="${s}" />\n          </pattern>`;break;case"bricks":l+=`<pattern id="pattern${t}" width="18" height="16" x="18" y="16" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <line x1="4" y1="2" x2="4" y2="4" stroke="${o}" fill="${a}" fill-opacity="${s}"  />\n          <line x1="0" y1="4" x2="16" y2="4" stroke="${o}" fill="${a}" fill-opacity="${s}"   />\n          <line x1="14" y1="4" x2="14" y2="12" stroke="${o}" fill="${a}" fill-opacity="${s}"   />\n          <line x1="16" y1="12" x2="0" y2="12" stroke="${o}" fill="${a}" fill-opacity="${s}"   />\n          <line x1="4" y1="12" x2="4" y2="16" stroke="${o}" fill="${a}" fill-opacity="${s}"   />\n          </pattern>`;break;case"grid":l+=`<pattern id="pattern${t}" width="10" height="10" x="10" y="10" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polyline points="8,8 0,8 0,0 " fill="none" stroke="${o}" />\n          </pattern>`;break;case"checkerboard":l+=`<pattern id="pattern${t}" width="8" height="8" x="8" y="8" patternTransform="rotate(0 0 0)" patternUnits="userSpaceOnUse">\n          <polygon points="4,4 8,4 8,0 4,0 "  fill="${a}" fill-opacity="${s}" />\n          <polygon points="0,4 4,4 4,8 0,8 "  fill="${a}" fill-opacity="${s}" />\n        \n          </pattern>`;break;default:l+=`<pattern id="pattern${t}" width="${r}" height="${r}"  patternTransform="rotate(45 0 0)" patternUnits="userSpaceOnUse">\n        <rect x="0" y="0" width="${r}" height="${r}" fill="${a}" fill-opacity="${s}"/>\n        <line x1="0" y1="0" x2="0" y2="${r}" style="stroke:${o}; stroke-width:${i}" />\n        </pattern>`}return l}if(mathalea.sortieNB)switch(e){case"north east lines":case"horizontal lines":case"vertical lines":case"dots":case"crosshatch dots":case"fivepointed stars":case"sixpointed stars":case"crosshatch":case"bricks":case"grid":case"checkerboard":l=`pattern = ${e}`;break;default:l="pattern = north east lines"}else switch(e){case"north east lines":case"horizontal lines":case"vertical lines":case"dots":case"crosshatch dots":case"fivepointed stars":case"sixpointed stars":case"crosshatch":case"bricks":case"grid":case"checkerboard":l=`pattern color = ${o} , pattern = ${e}`;break;default:l=`pattern color = ${o} , pattern = north east lines`}return`${l}`}function Ln(){this.murs2d=[],this.chemin2d=[],this.nombres2d=[],this.chemin=[],this.niveau=3,this.nombres=[[]];const e="brown",t=[[[1,0],[2,0],[3,0],[4,0],[5,0],[5,1],[6,1]],[[1,0],[2,0],[3,0],[4,0],[4,1],[5,1],[6,1]],[[1,0],[2,0],[2,1],[3,1],[4,1],[5,1],[6,1]],[[1,0],[1,1],[2,1],[3,1],[4,1],[5,1],[6,1]],[[1,0],[2,0],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[4,0],[4,1],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[4,0],[4,1],[4,2],[5,2],[6,2]],[[1,0],[2,0],[3,0],[3,1],[4,1],[5,1],[5,2],[6,2]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[6,2]],[[1,0],[2,0],[2,1],[3,1],[4,1],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[3,1],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[2,1],[3,1],[4,1],[5,1],[5,2],[6,2]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[5,2],[6,2]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[5,1],[6,1]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[5,1],[6,1]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[4,1],[5,1],[6,1]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[4,1],[5,1],[6,1]],[[1,0],[2,0],[3,0],[3,1],[3,2],[4,2],[5,2],[5,1],[5,0],[6,0]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[2,1],[2,2],[3,2],[4,2],[5,2],[5,1],[5,0],[6,0]],[[1,0],[1,1],[1,2],[2,2],[3,2],[4,2],[4,1],[4,0],[5,0],[6,0]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]],[[1,0],[1,1],[1,2],[2,2],[3,2],[3,1],[3,0],[4,0],[5,0],[5,1],[5,2],[6,2]]];let r;for(let n=0;n<24;n++){r=[];for(let e=0;e<t[n].length;e++)r.push([t[n][e][0],2-t[n][e][1]]);t.push(r)}this.choisitChemin=function(e){const r=(0,n.q$q)([0,24]);let i;switch(e){case 1:i=(0,n.nSR)(0,3)+r;break;case 2:i=(0,n.nSR)(4,13)+r;break;case 3:i=(0,n.nSR)(14,17)+r;break;case 4:i=(0,n.nSR)(18,21)+r;break;case 5:i=(0,n.nSR)(22,23)+r;break;case 6:i=(0,n.nSR)(0,23)+r}return t[i]},this.construitMurs=function(e){let t;const r=[];let n,i,o,a,s;t=0===e[0][1]?0:2;for(let u=0;u<6;u++)0===t?(n=ee(l(3*u,1),l(3*u,2)),n.epaisseur=2,r.push(n),u>0&&(i=ee(l(3*u,10),l(3*u,9)),i.epaisseur=2,r.push(i))):(n=ee(l(3*u,10),l(3*u,9)),n.epaisseur=2,r.push(n),u>0&&(i=ee(l(3*u,1),l(3*u,2)),i.epaisseur=2,r.push(i)));0===t?(n=ee(l(0,10),l(0,3)),n.epaisseur=3,r.push(n),n=ee(l(-3,1),l(0,1),"green"),n.epaisseur=3,r.push(n),n=ee(l(-3,1),l(-3,4),"green"),n.epaisseur=3,r.push(n),n=ee(l(-3,4),l(0,4),"green"),n.epaisseur=3,r.push(n),r.push(Jr("Départ",l(-1.5,2.5),"milieu","blue",1.5,0,!1))):(n=ee(l(0,1),l(0,8)),n.epaisseur=3,r.push(n),n=ee(l(-3,10),l(0,10),"green"),n.epaisseur=3,r.push(n),n=ee(l(-3,7),l(-3,10),"green"),n.epaisseur=3,r.push(n),n=ee(l(-3,7),l(0,7),"green"),n.epaisseur=3,r.push(n),r.push(Jr("Départ",l(-1.5,8.5),"milieu","blue",1.5,0,!1)));for(let u=1;u<6;u++)n=ee(l(3*u,8),l(3*u,6),"black"),n.epaisseur=2,i=ee(l(3*u-.5,7),l(3*u+.5,7),"black"),i.epaisseur=2,o=ee(l(3*u,5),l(3*u,3),"black"),o.epaisseur=2,a=ee(l(3*u-.5,4),l(3*u+.5,4),"black"),a.epaisseur=2,r.push(i,o,a,n);n=ee(l(18,9),l(18,10)),n.epaisseur=3,r.push(n),n=ee(l(0,10),l(18,10)),n.epaisseur=3,r.push(n),n=ee(l(18,9),l(18,10)),n.epaisseur=3,r.push(n),n=ee(l(18,1),l(18,2)),n.epaisseur=3,r.push(n),n=ee(l(0,1),l(18,1)),n.epaisseur=3,r.push(n);for(let u=0;u<2;u++)n=ee(l(18,6-3*u),l(20,6-3*u)),n.epaisseur=3,i=ee(l(18,7-3*u),l(17,7-3*u)),i.epaisseur=3,o=ee(l(18,8-3*u),l(20,8-3*u)),o.epaisseur=3,a=ee(l(18,8-3*u),l(18,6-3*u)),a.epaisseur=3,s=ee(l(0,7-3*u),l(1,7-3*u)),s.epaisseur=3,r.push(n,i,o,a,s);for(let u=1;u<=3;u++)r.push(Jr(`Sortie ${u}`,l(19.5,11.5-3*u),"milieu","blue",1.5,0,!1));return n=ee(l(18,9),l(20,9)),n.epaisseur=3,i=ee(l(18,2),l(20,2)),i.epaisseur=3,r.push(n,i),r},this.traceChemin=function(t){let r=t[0][1],n=0;const i=[];let o;for(let a=0;a<t.length;a++)o=ee(l(3*n-1.5,3*r+2.5),l(3*t[a][0]-1.5,3*t[a][1]+2.5),e),o.pointilles=!0,o.stylePointilles=2,o.epaisseur=5,o.opacite=.3,i.push(o),n=t[a][0],r=t[a][1];return o=ee(l(3*n-1.5,3*r+2.5),l(3*n+1.5,3*r+2.5),e),o.pointilles=!0,o.stylePointilles=2,o.epaisseur=5,o.opacite=.3,i.push(o),i},this.placeNombres=function(e,t){const r=[];for(let i=1;i<7;i++)for(let o=0;o<3;o++)"number"==typeof e[i-1][o]?r.push(Jr((0,n.zqk)(e[i-1][o]),l(3*i-1.5,2.5+3*o),"milieu","black",t,0,!0)):"string"==typeof e[i-1][o]?r.push(Kr(e[i-1][o],3*i-1.5,2.5+3*o,"milieu","black",t,0,!0)):r.push(nn({x:3*i-1.5,y:2.5+3*o,fraction:e[i-1][o]}));return r}}function qn(){return new Ln}function Bn(){this.type=1,this.polygones=[],this.barycentres=[],this.tracesCentres=[],this.numeros=[],this.coordonnees=[],this.Nx=1,this.Ny=1,this.echelle=20,this.fenetre={},this.construit=function(e=1,t=1,r=1,i=3){let o,a,s,u,p,h,f,d,m,g,y,v,x,b,_,w,E,S,N=0,k=0,A=0,T=0;switch(o=l(0,0),a=l(i,0),e){case 1:s=Z(o,a),u=nt(s,o,-90),u=at(u,o,1.73205);for(let e=0;e<r;e++){for(let e=0;e<t;e++){f=se(o,a,3),d=nt(f,o,60),m=nt(f,o,-60),g=nt(f,o,-120),this.polygones.push(f,d,m,g);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,s),a=tt(a,s)}o=tt(o,Z(-t*s.x,-2*s.y)),a=tt(a,Z(-t*s.x,-2*s.y)),o=tt(o,u),a=tt(a,u)}break;case 2:s=Z(o,a),s=at(s,o,2),u=nt(s,o,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){f=se(o,a,4),d=nt(f,o,90),m=nt(f,o,-90),g=nt(f,o,-180),this.polygones.push(f,d,m,g);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,s),a=tt(a,s)}o=tt(o,Z(-t*s.x,-2*s.y)),a=tt(a,Z(-t*s.x,-2*s.y)),o=tt(o,u),a=tt(a,u)}break;case 3:a=at(a,o,.8),s=Z(o,a),s=at(s,o,2),u=nt(s,o,-90),u=at(u,o,1.73205);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=pt(a,o,30,1.1547),f=se(o,p,6),d=nt(f,o,-120),m=tt(f,s),g=tt(d,s),this.polygones.push(f,d,m,g);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,Z(2*s.x,0)),a=tt(a,Z(2*s.x,0))}o=tt(o,Z(2*-t*s.x,u.y)),a=tt(a,Z(2*-t*s.x,u.y))}break;case 4:s=Z(o,a),s=at(s,o,2.73205),u=nt(s,o,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=nt(a,o,60),f=se(o,a,3),d=nt(f,o,150),v=nt(f,a,-150),x=nt(f,a,60),_=nt(d,p,150),w=nt(_,o,-60),E=nt(d,a,60),S=nt(v,o,-60),m=se(o,p,4),g=le(a,p,4),y=nt(g,a,-150),b=nt(m,o,150),this.polygones.push(f,d,m,g,y,v,x,b,_,w,E,S);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of E.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of S.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of y.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of v.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of x.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of b.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of _.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of w.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,Z(s.x,0)),a=tt(a,Z(s.x,0))}o=tt(o,Z(-t*s.x,u.y)),a=tt(a,Z(-t*s.x,u.y))}break;case 5:s=Z(o,a),s=at(s,o,2.4142),u=nt(s,o,-90);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=nt(o,a,-135),f=se(o,a,8),d=le(o,a,8),m=tt(f,s),g=tt(d,s),y=le(a,p,4),v=tt(y,s),x=tt(y,u),b=tt(v,u),this.polygones.push(f,d,m,g,y,v,x,b);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of y.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of v.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of x.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of b.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,Z(2*s.x,0)),a=tt(a,Z(2*s.x,0))}o=tt(o,Z(2*-t*s.x,2*u.y)),a=tt(a,Z(2*-t*s.x,2*u.y))}break;case 6:s=Z(o,a),u=nt(s,o,60),s=Z(s.x+u.x,s.y+u.y),u=nt(s,o,-60);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=nt(o,a,120),h=nt(a,p,60),f=oe(o,a,p,h),d=nt(f,p,-60),m=nt(f,o,60),g=tt(d,s),y=tt(f,s),v=tt(m,s),x=tt(f,u),b=tt(d,u),_=tt(m,u),this.polygones.push(f,d,m,g,y,v,x,b,_);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of y.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of v.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of x.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of b.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of _.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,Z(u.x+s.x,u.y+s.y)),a=tt(a,Z(u.x+s.x,u.y+s.y))}o=tt(o,Z(-t*(u.x+s.x)+2*u.x-s.x,2*u.y-s.y)),a=tt(a,Z(-t*(u.x+s.x)+2*u.x-s.x,2*u.y-s.y))}break;case 7:s=Z(o,a),s=at(s,o,2),u=nt(s,o,-60);for(let e=0;e<r;e++){for(let e=0;e<t;e++){p=nt(o,a,-120),h=nt(a,p,-120),f=se(o,a,6),d=se(p,a,3),m=nt(d,p,180),g=tt(m,u),y=tt(d,u),v=nt(f,a,180),this.polygones.push(f,d,m,v,y,g);for(const e of f.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of d.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of m.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of g.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of y.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);for(const e of v.listePoints)N=Math.min(N,e.x),A=Math.max(A,e.x),k=Math.min(k,e.y),T=Math.max(T,e.y);o=tt(o,s),a=tt(a,s)}o=tt(o,Z(-t*s.x+2*u.x-s.x,2*u.y-s.y)),a=tt(a,Z(-t*s.x+2*u.x-s.x,2*u.y-s.y))}}this.echelle=(0,n.vbX)(80/Math.sqrt(A-N),0),this.fenetre={xmin:N-.5,ymin:k-.5,xmax:A+.5,ymax:T+.5,pixelsParCm:this.echelle,scale:(0,n.vbX)(this.echelle/30,2)},function(e){let t,r;for(let i=0;i<e.length;i++){t=M(e[i]);for(let o=i+1;o<e.length;)r=M(e[o]),(0,n.h$R)(t.x,r.x,.1)&&(0,n.h$R)(t.y,r.y,.1)?e.splice(o,1):o++}}(this.polygones),this.nb_polygones=this.polygones.length;for(let l=0;l<this.nb_polygones;l++)this.barycentres.push(M(this.polygones[l])),this.tracesCentres.push(c(this.barycentres[l])),this.tracesCentres[l].opacite=.5,this.tracesCentres[l].color="blue",this.tracesCentres[l].taille=2,this.coordonnees.push([(0,n.vbX)(this.barycentres[l].x,2),(0,n.vbX)(this.barycentres[l].y,2)]),this.numeros.push(Kr((0,n.zqk)(l+1),this.barycentres[l].x+.5,this.barycentres[l].y,"milieu","black",50/this.echelle,0,!0))}}function Pn(){return new Bn}},23067:(e,t,r)=>{"use strict";r(55339),r(44393),r(13786)},48382:(e,t,r)=>{"use strict";r.d(t,{uR:()=>n});r(55339);function n(e){return e*Math.PI/180}},94850:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(44393),i=r(55339);function o(){window.mathalea={sortieNB:!1,anglePerspective:30,coeffPerspective:.5,pixelsParCm:20,scale:1,unitesLutinParCm:50,mainlevee:!1,amplitude:1,fenetreMathalea2d:[-1,-10,29,10],objets2D:[]},window.sortieHtml=!0,window.est_diaporama=!1,window.randint=i.nSR,window.texNombre=i.euh,window.nombreDecimal=i.Off,window.calcul=i.n0o,window.numId=0,window.angleScratchTo2d=n.NxE,window.appartientSegment=n.wAg,window.appartientDroite=n.D87,window.appartientDemiDroite=n.gkR,window.scratchblock=n.WS9,window.motifs=n.MtN,window.nomVecteurParPosition=n.wq3,window.point=n.xmu,window.tracePoint=n.L6P,window.tracePointSurDroite=n.hoQ,window.milieu=n.Q2H,window.pointSurSegment=n.T2s,window.pointSurCercle=n.AU1,window.pointSurDroite=n.KUA,window.pointIntersectionDD=n.H$o,window.pointAdistance=n.dJt,window.labelPoint=n.BD1,window.barycentre=n.NEH,window.droite=n.VTK,window.droiteParPointEtVecteur=n.bCN,window.droiteParPointEtParallele=n.R2U,window.droiteParPointEtPerpendiculaire=n.vfb,window.droiteHorizontaleParPoint=n.yfy,window.droiteVerticaleParPoint=n.dRX,window.droiteParPointEtPente=n.jZX,window.mediatrice=n.nP0,window.codageMediatrice=n.hwj,window.codageMilieu=n.HUl,window.constructionMediatrice=n.j6H,window.bissectrice=n.XIh,window.codageBissectrice=n.nzD,window.constructionBissectrice=n.KdP,window.polyline=n.RxL,window.pave=n.cGZ,window.vecteur=n.tno,window.segment=n.EXn,window.segmentAvecExtremites=n.PGN,window.demiDroite=n.H2X,window.demiDroiteAvecExtremite=n.FQq,window.polygone=n.R_h,window.polygoneAvecNom=n.uGk,window.polygoneRegulier=n.l_G,window.polygoneRegulierIndirect=n.lmY,window.carre=n.TFz,window.carreIndirect=n.UY7,window.codageCarre=n.LNy,window.polygoneRegulierParCentreEtRayon=n.EZ_,window.triangle2points2longueurs=n.jGu,window.triangle2points2angles=n.FEl,window.triangle2points1angle1longueur=n.UJ7,window.triangle2points1angle1longueurOppose=n.VCU,window.nommePolygone=n.NVL,window.deplaceLabel=n.VTA,window.aireTriangle=n.Hyl,window.cercle=n.z7e,window.ellipse=n.Hpm,window.pointIntersectionLC=n.u$D,window.pointIntersectionCC=n.asV,window.cercleCentrePoint=n.LL6,window.arc=n.Nb1,window.arcPointPointAngle=n.vZI,window.traceCompas=n.ItP,window.courbeDeBezier=n.YN4,window.segmentMainLevee=n.apJ,window.cercleMainLevee=n._QO,window.droiteMainLevee=n.z1,window.polygoneMainLevee=n.Z$b,window.arcMainLevee=n.MNE,window.dansLaCibleCarree=n.Ihq,window.dansLaCibleRonde=n.aP8,window.cibleCarree=n.cqN,window.cibleRonde=n.dve,window.cibleCouronne=n.KRU,window.translation=n.xkU,window.translation2Points=n.I7O,window.rotation=n.Wnp,window.sens_de_rotation=n.hlO,window.homothetie=n.xcw,window.symetrieAxiale=n.Vj7,window.distancePointDroite=n.hh1,window.projectionOrtho=n.epX,window.affiniteOrtho=n.YLR,window.similitude=n.$7o,window.translationAnimee=n.nl3,window.rotationAnimee=n.L5i,window.homothetieAnimee=n.s$N,window.symetrieAnimee=n.lhN,window.affiniteOrthoAnimee=n.kZc,window.montrerParDiv=n.RQg,window.cacherParDiv=n.RHc,window.afficherTempo=n.Hlq,window.afficherTempoId=n.rJC,window.afficherUnParUn=n.arc,window.medianeTriangle=n.NXM,window.centreGraviteTriangle=n.K_0,window.hauteurTriangle=n.KlW,window.CodageHauteurTriangle=n.Vae,window.codageHauteurTriangle=n.JR3,window.codageMedianeTriangle=n.Vp3,window.orthoCentre=n.UKq,window.centreCercleCirconscrit=n.aJS,window.codageAngleDroit=n.lvA,window.afficheLongueurSegment=n.Y2F,window.texteSurSegment=n.DJq,window.afficheMesureAngle=n.DQC,window.afficheCoteSegment=n.gI5,window.codeSegment=n.umB,window.codeSegments=n.KoI,window.codeAngle=n.QSb,window.nomAngleSaillantParPosition=n.TuY,window.nomAngleRentrantParPosition=n.cR8,window.droiteGraduee=n.UCr,window.droiteGraduee2=n.oqt,window.axes=n.DoQ,window.labelX=n.H_M,window.labelY=n.Jv5,window.grille=n.flY,window.grilleHorizontale=n.uNC,window.grilleVerticale=n.qZ8,window.seyes=n.Sl2,window.repere=n.X4z,window.repere2=n.sYn,window.pointDansRepere=n.TV2,window.traceGraphiqueCartesien=n.imd,window.traceBarre=n.rdJ,window.traceBarreHorizontale=n.DtN,window.lectureImage=n.CQJ,window.lectureAntecedent=n.oLr,window.courbe=n.hhm,window.courbe2=n.o2h,window.courbeInterpolee=n.wRX,window.graphiqueInterpole=n.urB,window.imageInterpolee=n.ugy,window.antecedentInterpole=n.ri7,window.crochetD=n.TB7,window.crochetG=n.e95,window.intervalle=n.xD1,window.texteParPoint=n.QNZ,window.texteParPosition=n.Ots,window.latexParPoint=n.d8j,window.latexParCoordonnees=n.SgA,window.fractionParPosition=n.T7E,window.print2d=n.LWc,window.longueur=n.InT,window.norme=n.wYR,window.angle=n.EUu,window.angleOriente=n.Ncz,window.angleradian=n.wbg,window.creerLutin=n.oik,window.avance=n.LBl,window.baisseCrayon=n.o8R,window.leveCrayon=n.mK$,window.orienter=n.inN,window.tournerG=n.swc,window.tournerD=n.xEA,window.allerA=n.JlY,window.mettrexA=n.ALW,window.mettreyA=n.p5m,window.ajouterAx=n.LMt,window.ajouterAy=n.J9c,window.afficherCrayon=n.jbu,window.codeSvg=n.EmS,window.codeTikz=n.zMo,window.mathalea2d=n.iR9,window.labyrinthe=n.DRD,window.pavage=n.T0Y}},55339:(e,t,r)=>{"use strict";r.d(t,{h$R:()=>l,nSR:()=>u,q$q:()=>p,BAU:()=>h,vOD:()=>f,vbX:()=>d,S1u:()=>m,n0o:()=>g,Off:()=>y,Gag:()=>v,euh:()=>x,zqk:()=>b,zX6:()=>_,ISW:()=>E,Uwv:()=>M,ADB:()=>S});r(44393),r(23067);var n=r(13786),i=r.n(n),o=r(41194),a=r(12253);o.WUZ,a.ku;const s=1e-6;function l(e,t,r=s){return Math.abs(e-t)<r}function u(e,t,r=[]){const n=t-e;let i=Math.floor(Math.random()*(n+1));if(Number.isInteger(r)&&(r=[r]),r.length>0)for(;-1!==r.indexOf(e+i);)i=Math.floor(Math.random()*(n+1));return e+i}function c(e,t){for(let r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)}function p(e,t=[]){const r=e.slice();for(let n=0;n<t.length;n++)c(r,t[n]);return r[Math.floor(Math.random()*r.length)]}function h(e,t,r=[],n=1){const i=[];for(let o=e;o<=t;o=g(o+n))i.push(o);for(let o=0;o<r.length;o++)c(i,r[o]);return i}function f(e){return e<0?-1:1}function d(e,t=2){const r=Math.pow(10,t);return Math.round(e*r)/r}function m(e,t=2){const r=Math.pow(10,t);return String(Math.round(e*r)/r).replace(".",",")}Object.fromEntries||Object.defineProperty(Object,"fromEntries",{value(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach((r=>{const[n,i]=e[r];t[n]=i})),t}});function g(e,t=!1){return t?d(parseFloat(i().eval("float("+e+")")),t):parseFloat(i().eval("float("+e+")"))}function y(e,t=!1){return _(t?g(e,1):g(e))}function v(e){let t="";return e<=26?t=String.fromCharCode(64+e):e%26==0?(t=String.fromCharCode(64+Math.floor(e/26)-1),t+=String.fromCharCode(90)):(t=String.fromCharCode(64+Math.floor(e/26)),t+=String.fromCharCode(64+e%26)),t}function x(e){if(sortieHtml)return Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(e).toString().replace(/\s+/g,"\\thickspace ");{let t;return t=e>999||w(e)>3?"\\numprint{"+e.toString().replace(".",",")+"}":e.toString().replace(".",","),t}}function b(e){if(sortieHtml)return Intl.NumberFormat("fr-FR",{maximumFractionDigits:20}).format(e).toString().replace(/\s+/g," ");{let t;return t=e>999||w(e)>3?"\\numprint{"+e.toString().replace(".",",")+"}":e.toString().replace(".",","),t}}function _(e){const t=e.toString(),r=t.split(".")[0],n=t.split(".")[1];let i="";if(r.length>3){for(let e=0;e<Math.floor(r.length/3);e++)i=" "+r.slice(r.length-3*e-3,r.length-3*e)+i;i=r.slice(0,r.length-NaN)+i}else i=r;return" "===i[0]&&(i=i.substring(1,i.length)),void 0!==n&&(i+=","+n),i}function w(e){return String(e).indexOf(".")>0?String(e).split(".")[1].length:0}function E(e,t){let r=t;if(Number.isInteger(e)&&Number.isInteger(t)){for(;r%e!=0;)r+=1;return r}return l(Math.floor(t/e,t/e))?t:(reste=t/e-Math.floor(t/e),t-reste*e+e)}function M(e,t){const r=E(e,t);return r!==t?r-e:t}function S(e,t){const r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},9787:(e,t,r)=>{var n;e=r.nmd(e);var i=function(e){"use strict";var t=1e7,r=9007199254740992,n=h(r),o="0123456789abcdefghijklmnopqrstuvwxyz",a="function"==typeof BigInt;function s(e,t,r,n){return void 0===e?s[0]:void 0!==t&&(10!=+t||r)?V(e,t,r,n):Y(e)}function l(e,t){this.value=e,this.sign=t,this.isSmall=!1}function u(e){this.value=e,this.sign=e<0,this.isSmall=!0}function c(e){this.value=e}function p(e){return-r<e&&e<r}function h(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){d(e);var r=e.length;if(r<4&&O(e,n)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function d(e){for(var t=e.length;0===e[--t];);e.length=t+1}function m(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function g(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),l=0,u=t;for(i=0;i<a;i++)l=(n=e[i]+r[i]+l)>=u?1:0,s[i]=n-l*u;for(;i<o;)l=(n=e[i]+l)===u?1:0,s[i++]=n-l*u;return l>0&&s.push(l),s}function v(e,t){return e.length>=t.length?y(e,t):y(t,e)}function x(e,r){var n,i,o=e.length,a=new Array(o),s=t;for(i=0;i<o;i++)n=e[i]-s+r,r=Math.floor(n/s),a[i]=n-r*s,r+=1;for(;r>0;)a[i++]=r%s,r=Math.floor(r/s);return a}function b(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),l=0,u=t;for(n=0;n<a;n++)(i=e[n]-l-r[n])<0?(i+=u,l=1):l=0,s[n]=i;for(n=a;n<o;n++){if(!((i=e[n]-l)<0)){s[n++]=i;break}i+=u,s[n]=i}for(;n<o;n++)s[n]=e[n];return d(s),s}function _(e,r,n){var i,o,a=e.length,s=new Array(a),c=-r,p=t;for(i=0;i<a;i++)o=e[i]+c,c=Math.floor(o/p),o%=p,s[i]=o<0?o+p:o;return"number"==typeof(s=f(s))?(n&&(s=-s),new u(s)):new l(s,n)}function w(e,r){var n,i,o,a,s=e.length,l=r.length,u=m(s+l),c=t;for(o=0;o<s;++o){a=e[o];for(var p=0;p<l;++p)n=a*r[p]+u[o+p],i=Math.floor(n/c),u[o+p]=n-i*c,u[o+p+1]+=i}return d(u),u}function E(e,r){var n,i,o=e.length,a=new Array(o),s=t,l=0;for(i=0;i<o;i++)n=e[i]*r+l,l=Math.floor(n/s),a[i]=n-l*s;for(;l>0;)a[i++]=l%s,l=Math.floor(l/s);return a}function M(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function S(e,t){var r=Math.max(e.length,t.length);if(r<=30)return w(e,t);r=Math.ceil(r/2);var n=e.slice(r),i=e.slice(0,r),o=t.slice(r),a=t.slice(0,r),s=S(i,a),l=S(n,o),u=S(v(i,n),v(a,o)),c=v(v(s,M(b(b(u,s),l),r)),M(l,2*r));return d(c),c}function N(e,r,n){return new l(e<t?E(r,e):w(r,h(e)),n)}function k(e){var r,n,i,o,a=e.length,s=m(a+a),l=t;for(i=0;i<a;i++){n=0-(o=e[i])*o;for(var u=i;u<a;u++)r=o*e[u]*2+s[i+u]+n,n=Math.floor(r/l),s[i+u]=r-n*l;s[i+a]=n}return d(s),s}function A(e,t){var r,n,i,o,a=e.length,s=m(a);for(i=0,r=a-1;r>=0;--r)i=(o=1e7*i+e[r])-(n=g(o/t))*t,s[r]=0|n;return[s,0|i]}function T(e,r){var n,i=Y(r);if(a)return[new c(e.value/i.value),new c(e.value%i.value)];var o,p=e.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return i.isSmall?[new u(g(p/y)),new u(p%y)]:[s[0],e];if(i.isSmall){if(1===y)return[e,s[0]];if(-1==y)return[e.negate(),s[0]];var v=Math.abs(y);if(v<t){o=f((n=A(p,v))[0]);var x=n[1];return e.sign&&(x=-x),"number"==typeof o?(e.sign!==i.sign&&(o=-o),[new u(o),new u(x)]):[new l(o,e.sign!==i.sign),new u(x)]}y=h(v)}var _=O(p,y);if(-1===_)return[s[0],e];if(0===_)return[s[e.sign===i.sign?1:-1],s[0]];o=(n=p.length+y.length<=200?function(e,r){var n,i,o,a,s,l,u,c=e.length,p=r.length,h=t,d=m(r.length),g=r[p-1],y=Math.ceil(h/(2*g)),v=E(e,y),x=E(r,y);for(v.length<=c&&v.push(0),x.push(0),g=x[p-1],i=c-p;i>=0;i--){for(n=h-1,v[i+p]!==g&&(n=Math.floor((v[i+p]*h+v[i+p-1])/g)),o=0,a=0,l=x.length,s=0;s<l;s++)o+=n*x[s],u=Math.floor(o/h),a+=v[i+s]-(o-u*h),o=u,a<0?(v[i+s]=a+h,a=-1):(v[i+s]=a,a=0);for(;0!==a;){for(n-=1,o=0,s=0;s<l;s++)(o+=v[i+s]-h+x[s])<0?(v[i+s]=o+h,o=0):(v[i+s]=o,o=1);a+=o}d[i]=n}return v=A(v,y)[0],[f(d),f(v)]}(p,y):function(e,r){for(var n,i,o,a,s,l=e.length,u=r.length,c=[],p=[],h=t;l;)if(p.unshift(e[--l]),d(p),O(p,r)<0)c.push(0);else{o=p[(i=p.length)-1]*h+p[i-2],a=r[u-1]*h+r[u-2],i>u&&(o=(o+1)*h),n=Math.ceil(o/a);do{if(O(s=E(r,n),p)<=0)break;n--}while(n);c.push(n),p=b(p,s)}return c.reverse(),[f(c),f(p)]}(p,y))[0];var w=e.sign!==i.sign,M=n[1],S=e.sign;return"number"==typeof o?(w&&(o=-o),o=new u(o)):o=new l(o,w),"number"==typeof M?(S&&(M=-M),M=new u(M)):M=new l(M,S),[o,M]}function O(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function C(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function I(e,t){for(var r,n,o,a=e.prev(),s=a,l=0;s.isEven();)s=s.divide(2),l++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!(o=i(t[n]).modPow(s,e)).isUnit()&&!o.equals(a)){for(r=l-1;0!=r;r--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(a))continue e}return!1}return!0}l.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),l.prototype.add=function(e){var t=Y(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new l(x(r,Math.abs(n)),this.sign):new l(v(r,n),this.sign)},l.prototype.plus=l.prototype.add,u.prototype.add=function(e){var t=Y(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(p(r+n))return new u(r+n);n=h(Math.abs(n))}return new l(x(n,Math.abs(r)),r<0)},u.prototype.plus=u.prototype.add,c.prototype.add=function(e){return new c(this.value+Y(e).value)},c.prototype.plus=c.prototype.add,l.prototype.subtract=function(e){var t=Y(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?_(r,Math.abs(n),this.sign):function(e,t,r){var n;return O(e,t)>=0?n=b(e,t):(n=b(t,e),r=!r),"number"==typeof(n=f(n))?(r&&(n=-n),new u(n)):new l(n,r)}(r,n,this.sign)},l.prototype.minus=l.prototype.subtract,u.prototype.subtract=function(e){var t=Y(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new u(r-n):_(n,Math.abs(r),r>=0)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(e){return new c(this.value-Y(e).value)},c.prototype.minus=c.prototype.subtract,l.prototype.negate=function(){return new l(this.value,!this.sign)},u.prototype.negate=function(){var e=this.sign,t=new u(-this.value);return t.sign=!e,t},c.prototype.negate=function(){return new c(-this.value)},l.prototype.abs=function(){return new l(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},c.prototype.abs=function(){return new c(this.value>=0?this.value:-this.value)},l.prototype.multiply=function(e){var r,n,i,o=Y(e),a=this.value,u=o.value,c=this.sign!==o.sign;if(o.isSmall){if(0===u)return s[0];if(1===u)return this;if(-1===u)return this.negate();if((r=Math.abs(u))<t)return new l(E(a,r),c);u=h(r)}return n=a.length,i=u.length,new l(-.012*n-.012*i+15e-6*n*i>0?S(a,u):w(a,u),c)},l.prototype.times=l.prototype.multiply,u.prototype._multiplyBySmall=function(e){return p(e.value*this.value)?new u(e.value*this.value):N(Math.abs(e.value),h(Math.abs(this.value)),this.sign!==e.sign)},l.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():N(Math.abs(e.value),this.value,this.sign!==e.sign)},u.prototype.multiply=function(e){return Y(e)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,c.prototype.multiply=function(e){return new c(this.value*Y(e).value)},c.prototype.times=c.prototype.multiply,l.prototype.square=function(){return new l(k(this.value),!1)},u.prototype.square=function(){var e=this.value*this.value;return p(e)?new u(e):new l(k(h(Math.abs(this.value))),!1)},c.prototype.square=function(e){return new c(this.value*this.value)},l.prototype.divmod=function(e){var t=T(this,e);return{quotient:t[0],remainder:t[1]}},c.prototype.divmod=u.prototype.divmod=l.prototype.divmod,l.prototype.divide=function(e){return T(this,e)[0]},c.prototype.over=c.prototype.divide=function(e){return new c(this.value/Y(e).value)},u.prototype.over=u.prototype.divide=l.prototype.over=l.prototype.divide,l.prototype.mod=function(e){return T(this,e)[1]},c.prototype.mod=c.prototype.remainder=function(e){return new c(this.value%Y(e).value)},u.prototype.remainder=u.prototype.mod=l.prototype.remainder=l.prototype.mod,l.prototype.pow=function(e){var t,r,n,i=Y(e),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&p(t=Math.pow(o,a)))return new u(g(t));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},u.prototype.pow=l.prototype.pow,c.prototype.pow=function(e){var t=Y(e),r=this.value,n=t.value,i=BigInt(0),o=BigInt(1),a=BigInt(2);if(n===i)return s[1];if(r===i)return s[0];if(r===o)return s[1];if(r===BigInt(-1))return t.isEven()?s[1]:s[-1];if(t.isNegative())return new c(i);for(var l=this,u=s[1];(n&o)===o&&(u=u.times(l),--n),n!==i;)n/=a,l=l.square();return u},l.prototype.modPow=function(e,t){if(e=Y(e),(t=Y(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=s[1],n=this.mod(t);for(e.isNegative()&&(e=e.multiply(s[-1]),n=n.modInv(t));e.isPositive();){if(n.isZero())return s[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},c.prototype.modPow=u.prototype.modPow=l.prototype.modPow,l.prototype.compareAbs=function(e){var t=Y(e),r=this.value,n=t.value;return t.isSmall?1:O(r,n)},u.prototype.compareAbs=function(e){var t=Y(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},c.prototype.compareAbs=function(e){var t=this.value,r=Y(e).value;return(t=t>=0?t:-t)===(r=r>=0?r:-r)?0:t>r?1:-1},l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:O(r,n)*(this.sign?-1:1)},l.prototype.compareTo=l.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,r=Y(e).value;return t===r?0:t>r?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.equals=function(e){return 0===this.compare(e)},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals=l.prototype.eq=l.prototype.equals,l.prototype.notEquals=function(e){return 0!==this.compare(e)},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=l.prototype.neq=l.prototype.notEquals,l.prototype.greater=function(e){return this.compare(e)>0},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater=l.prototype.gt=l.prototype.greater,l.prototype.lesser=function(e){return this.compare(e)<0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser=l.prototype.lt=l.prototype.lesser,l.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals,l.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals,l.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},c.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},l.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},c.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},l.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},c.prototype.isPositive=u.prototype.isPositive,l.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},c.prototype.isNegative=u.prototype.isNegative,l.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},c.prototype.isUnit=function(){return this.abs().value===BigInt(1)},l.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},c.prototype.isZero=function(){return this.value===BigInt(0)},l.prototype.isDivisibleBy=function(e){var t=Y(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy=l.prototype.isDivisibleBy,l.prototype.isPrime=function(t){var r=C(this);if(r!==e)return r;var n=this.abs(),o=n.bitLength();if(o<=64)return I(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*o.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(a,2):a),l=[],u=0;u<s;u++)l.push(i(u+2));return I(n,l)},c.prototype.isPrime=u.prototype.isPrime=l.prototype.isPrime,l.prototype.isProbablePrime=function(t,r){var n=C(this);if(n!==e)return n;for(var o=this.abs(),a=t===e?5:t,s=[],l=0;l<a;l++)s.push(i.randBetween(2,o.minus(2),r));return I(o,s)},c.prototype.isProbablePrime=u.prototype.isProbablePrime=l.prototype.isProbablePrime,l.prototype.modInv=function(e){for(var t,r,n,o=i.zero,a=i.one,s=Y(e),l=this.abs();!l.isZero();)t=s.divide(l),r=o,n=s,o=a,s=l,a=r.subtract(t.multiply(a)),l=n.subtract(t.multiply(l));if(!s.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},c.prototype.modInv=u.prototype.modInv=l.prototype.modInv,l.prototype.next=function(){var e=this.value;return this.sign?_(e,1,this.sign):new l(x(e,1),this.sign)},u.prototype.next=function(){var e=this.value;return e+1<r?new u(e+1):new l(n,!1)},c.prototype.next=function(){return new c(this.value+BigInt(1))},l.prototype.prev=function(){var e=this.value;return this.sign?new l(x(e,1),!0):_(e,1,this.sign)},u.prototype.prev=function(){var e=this.value;return e-1>-r?new u(e-1):new l(n,!0)},c.prototype.prev=function(){return new c(this.value-BigInt(1))};for(var R=[1];2*R[R.length-1]<=t;)R.push(2*R[R.length-1]);var D=R.length,L=R[D-1];function q(e){return Math.abs(e)<=t}function B(e,t,r){t=Y(t);for(var n=e.isNegative(),o=t.isNegative(),a=n?e.not():e,s=o?t.not():t,l=0,u=0,c=null,p=null,h=[];!a.isZero()||!s.isZero();)l=(c=T(a,L))[1].toJSNumber(),n&&(l=L-1-l),u=(p=T(s,L))[1].toJSNumber(),o&&(u=L-1-u),a=c[0],s=p[0],h.push(r(l,u));for(var f=0!==r(n?1:0,o?1:0)?i(-1):i(0),d=h.length-1;d>=0;d-=1)f=f.multiply(L).add(i(h[d]));return f}l.prototype.shiftLeft=function(e){var t=Y(e).toJSNumber();if(!q(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var r=this;if(r.isZero())return r;for(;t>=D;)r=r.multiply(L),t-=D-1;return r.multiply(R[t])},c.prototype.shiftLeft=u.prototype.shiftLeft=l.prototype.shiftLeft,l.prototype.shiftRight=function(e){var t,r=Y(e).toJSNumber();if(!q(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=D;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(t=T(n,L))[1].isNegative()?t[0].prev():t[0],r-=D-1}return(t=T(n,R[r]))[1].isNegative()?t[0].prev():t[0]},c.prototype.shiftRight=u.prototype.shiftRight=l.prototype.shiftRight,l.prototype.not=function(){return this.negate().prev()},c.prototype.not=u.prototype.not=l.prototype.not,l.prototype.and=function(e){return B(this,e,(function(e,t){return e&t}))},c.prototype.and=u.prototype.and=l.prototype.and,l.prototype.or=function(e){return B(this,e,(function(e,t){return e|t}))},c.prototype.or=u.prototype.or=l.prototype.or,l.prototype.xor=function(e){return B(this,e,(function(e,t){return e^t}))},c.prototype.xor=u.prototype.xor=l.prototype.xor;var P=1<<30;function z(e){var r=e.value,n="number"==typeof r?r|P:"bigint"==typeof r?r|BigInt(P):r[0]+r[1]*t|1073758208;return n&-n}function U(e,t){if(t.compareTo(e)<=0){var r=U(e,t.square(t)),n=r.p,o=r.e,a=n.multiply(t);return a.compareTo(e)<=0?{p:a,e:2*o+1}:{p:n,e:2*o}}return{p:i(1),e:0}}function $(e,t){return e=Y(e),t=Y(t),e.greater(t)?e:t}function F(e,t){return e=Y(e),t=Y(t),e.lesser(t)?e:t}function G(e,t){if(e=Y(e).abs(),t=Y(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=s[1];e.isEven()&&t.isEven();)r=F(z(e),z(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(z(e));do{for(;t.isEven();)t=t.divide(z(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}l.prototype.bitLength=function(){var e=this;return e.compareTo(i(0))<0&&(e=e.negate().subtract(i(1))),0===e.compareTo(i(0))?i(0):i(U(e,i(2)).e).add(i(1))},c.prototype.bitLength=u.prototype.bitLength=l.prototype.bitLength;var V=function(e,t,r,n){r=r||o,e=String(e),n||(e=e.toLowerCase(),r=r.toLowerCase());var i,a=e.length,s=Math.abs(t),l={};for(i=0;i<r.length;i++)l[r[i]]=i;for(i=0;i<a;i++){if("-"!==(p=e[i])&&(p in l&&l[p]>=s)){if("1"===p&&1===s)continue;throw new Error(p+" is not a valid digit in base "+t+".")}}t=Y(t);var u=[],c="-"===e[0];for(i=c?1:0;i<e.length;i++){var p;if((p=e[i])in l)u.push(Y(l[p]));else{if("<"!==p)throw new Error(p+" is not a valid character");var h=i;do{i++}while(">"!==e[i]&&i<e.length);u.push(Y(e.slice(h+1,i)))}}return H(u,t,c)};function H(e,t,r){var n,i=s[0],o=s[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(o)),o=o.times(t);return r?i.negate():i}function j(e,t){if((t=i(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){o=s.divmod(t),s=o.quotient;var l=o.remainder;l.isNegative()&&(l=t.minus(l).abs(),s=s.next()),a.push(l.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:n}}function W(e,t,r){var n=j(e,t);return(n.isNegative?"-":"")+n.value.map((function(e){return function(e,t){return e<(t=t||o).length?t[e]:"<"+e+">"}(e,r)})).join("")}function X(e){if(p(+e)){var t=+e;if(t===g(t))return a?new c(BigInt(t)):new u(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==g(i)||!p(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=n[0],s=o.indexOf(".");if(s>=0&&(i-=o.length-s-1,o=o.slice(0,s)+o.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(a)return new c(BigInt(r?"-"+e:e));for(var h=[],f=e.length,m=f-7;f>0;)h.push(+e.slice(m,f)),(m-=7)<0&&(m=0),f-=7;return d(h),new l(h,r)}function Y(e){return"number"==typeof e?function(e){if(a)return new c(BigInt(e));if(p(e)){if(e!==g(e))throw new Error(e+" is not an integer.");return new u(e)}return X(e.toString())}(e):"string"==typeof e?X(e):"bigint"==typeof e?new c(e):e}l.prototype.toArray=function(e){return j(this,e)},u.prototype.toArray=function(e){return j(this,e)},c.prototype.toArray=function(e){return j(this,e)},l.prototype.toString=function(t,r){if(t===e&&(t=10),10!==t)return W(this,t,r);for(var n,i=this.value,o=i.length,a=String(i[--o]);--o>=0;)n=String(i[o]),a+="0000000".slice(n.length)+n;return(this.sign?"-":"")+a},u.prototype.toString=function(t,r){return t===e&&(t=10),10!=t?W(this,t,r):String(this.value)},c.prototype.toString=u.prototype.toString,c.prototype.toJSON=l.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},l.prototype.valueOf=function(){return parseInt(this.toString(),10)},l.prototype.toJSNumber=l.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=c.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var Z=0;Z<1e3;Z++)s[Z]=Y(Z),Z>0&&(s[-Z]=Y(-Z));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=$,s.min=F,s.gcd=G,s.lcm=function(e,t){return e=Y(e).abs(),t=Y(t).abs(),e.divide(G(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof l||e instanceof u||e instanceof c},s.randBetween=function(e,r,n){e=Y(e),r=Y(r);var i=n||Math.random,o=F(e,r),a=$(e,r).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(i()*a));for(var l=j(a,t).value,u=[],c=!0,p=0;p<l.length;p++){var h=c?l[p]:t,f=g(i()*h);u.push(f),f<h&&(c=!1)}return o.add(s.fromArray(u,t,!1))},s.fromArray=function(e,t,r){return H(e.map(Y),Y(t||10),r)},s}();e.hasOwnProperty("exports")&&(e.exports=i),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)},53582:(e,t,r)=>{!function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},r=e.Pos;function n(e,r){return"pairs"==r&&"string"==typeof e?e:"object"==typeof e&&null!=e[r]?e[r]:t[r]}e.defineOption("autoCloseBrackets",!1,(function(t,r,a){a&&a!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),r&&(o(n(r,"pairs")),t.state.closeBrackets=r,t.addKeyMap(i))}));var i={Backspace:l,Enter:u};function o(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n="'"+r+"'";i[n]||(i[n]=a(r))}}function a(e){return function(t){return h(t,e)}}function s(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function l(t){var i=s(t);if(!i||t.getOption("disableInput"))return e.Pass;for(var o=n(i,"pairs"),a=t.listSelections(),l=0;l<a.length;l++){if(!a[l].empty())return e.Pass;var u=f(t,a[l].head);if(!u||o.indexOf(u)%2!=0)return e.Pass}for(l=a.length-1;l>=0;l--){var c=a[l].head;t.replaceRange("",r(c.line,c.ch-1),r(c.line,c.ch+1),"+delete")}}function u(t){var r=s(t),i=r&&n(r,"explode");if(!i||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var l=f(t,o[a].head);if(!l||i.indexOf(l)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),c(t,-1),o=t.listSelections();for(var r=0;r<o.length;r++){var n=o[r].head.line;t.indentLine(n,null,!0),t.indentLine(n+1,null,!0)}}))}function c(e,t){for(var r=[],n=e.listSelections(),i=0,o=0;o<n.length;o++){var a=n[o];a.head==e.getCursor()&&(i=o);var s=a.head.ch||t>0?{line:a.head.line,ch:a.head.ch+t}:{line:a.head.line-1};r.push({anchor:s,head:s})}e.setSelections(r,i)}function p(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new r(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new r(t.head.line,t.head.ch+(n?1:-1))}}function h(t,i){var o=s(t);if(!o||t.getOption("disableInput"))return e.Pass;var a=n(o,"pairs"),l=a.indexOf(i);if(-1==l)return e.Pass;for(var u,h=n(o,"closeBefore"),f=n(o,"triples"),m=a.charAt(l+1)==i,g=t.listSelections(),y=l%2==0,v=0;v<g.length;v++){var x,b=g[v],_=b.head,w=t.getRange(_,r(_.line,_.ch+1));if(y&&!b.empty())x="surround";else if(!m&&y||w!=i)if(m&&_.ch>1&&f.indexOf(i)>=0&&t.getRange(r(_.line,_.ch-2),_)==i+i){if(_.ch>2&&/\bstring/.test(t.getTokenTypeAt(r(_.line,_.ch-2))))return e.Pass;x="addFour"}else if(m){var E=0==_.ch?" ":t.getRange(r(_.line,_.ch-1),_);if(e.isWordChar(w)||E==i||e.isWordChar(E))return e.Pass;x="both"}else{if(!y||!(0===w.length||/\s/.test(w)||h.indexOf(w)>-1))return e.Pass;x="both"}else x=m&&d(t,_)?"both":f.indexOf(i)>=0&&t.getRange(_,r(_.line,_.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=x)return e.Pass}else u=x}var M=l%2?a.charAt(l-1):i,S=l%2?i:a.charAt(l+1);t.operation((function(){if("skip"==u)c(t,1);else if("skipThree"==u)c(t,3);else if("surround"==u){for(var e=t.getSelections(),r=0;r<e.length;r++)e[r]=M+e[r]+S;for(t.replaceSelections(e,"around"),e=t.listSelections().slice(),r=0;r<e.length;r++)e[r]=p(e[r]);t.setSelections(e)}else"both"==u?(t.replaceSelection(M+S,null),t.triggerElectric(M+S),c(t,-1)):"addFour"==u&&(t.replaceSelection(M+M+M+M,"before"),c(t,1))}))}function f(e,t){var n=e.getRange(r(t.line,t.ch-1),r(t.line,t.ch+1));return 2==n.length?n:null}function d(e,t){var n=e.getTokenAt(r(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}(r(53791))},92052:(e,t,r)=>{!function(e){var t=e.Pos;function r(e,t){for(var r=0,n=e.length;r<n;++r)t(e[r])}function n(e,t){if(!Array.prototype.indexOf){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}return-1!=e.indexOf(t)}function i(r,n,i,o){var a=r.getCursor(),s=i(r,a);if(!/\b(?:string|comment)\b/.test(s.type)){var l=e.innerMode(r.getMode(),s.state);if("json"!==l.mode.helperType){s.state=l.state,/^[\w$_]*$/.test(s.string)?s.end>a.ch&&(s.end=a.ch,s.string=s.string.slice(0,a.ch-s.start)):s={start:a.ch,end:a.ch,string:"",state:s.state,type:"."==s.string?"property":null};for(var u=s;"property"==u.type;){if("."!=(u=i(r,t(a.line,u.start))).string)return;if(u=i(r,t(a.line,u.start)),!c)var c=[];c.push(u)}return{list:d(s,c,n,o),from:t(a.line,s.start),to:t(a.line,s.end)}}}}function o(e,t){return i(e,p,(function(e,t){return e.getTokenAt(t)}),t)}function a(e,t){var r=e.getTokenAt(t);return t.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}function s(e,t){return i(e,h,a,t)}e.registerHelper("hint","javascript",o),e.registerHelper("hint","coffeescript",s);var l="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),c="prototype apply call bind".split(" "),p="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),h="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ");function f(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var r=e;r;r=Object.getPrototypeOf(r))Object.getOwnPropertyNames(r).forEach(t);else for(var n in e)t(n)}function d(e,t,i,o){var a=[],s=e.string,p=o&&o.globalScope||window;function h(e){0!=e.lastIndexOf(s,0)||n(a,e)||a.push(e)}function d(e){"string"==typeof e?r(l,h):e instanceof Array?r(u,h):e instanceof Function&&r(c,h),f(e,h)}if(t&&t.length){var m,g=t.pop();for(g.type&&0===g.type.indexOf("variable")?(o&&o.additionalContext&&(m=o.additionalContext[g.string]),o&&!1===o.useGlobalScope||(m=m||p[g.string])):"string"==g.type?m="":"atom"==g.type?m=1:"function"==g.type&&(null==p.jQuery||"$"!=g.string&&"jQuery"!=g.string||"function"!=typeof p.jQuery?null!=p._&&"_"==g.string&&"function"==typeof p._&&(m=p._()):m=p.jQuery());null!=m&&t.length;)m=m[t.pop().string];null!=m&&d(m)}else{for(var y=e.state.localVars;y;y=y.next)h(y.name);for(var v=e.state.context;v;v=v.prev)for(y=v.vars;y;y=y.next)h(y.name);for(y=e.state.globalVars;y;y=y.next)h(y.name);if(o&&null!=o.additionalContext)for(var x in o.additionalContext)h(x);o&&!1===o.useGlobalScope||d(p),r(i,h)}return a}}(r(53791))},32407:(e,t,r)=>{!function(e){"use strict";var t="CodeMirror-hint",r="CodeMirror-hint-active";function n(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var r=this;e.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}}e.showHint=function(e,t,r){if(!t)return e.showHint(r);r&&r.async&&(t.async=!0);var n={hint:t};if(r)for(var i in r)n[i]=r[i];return e.showHint(n)},e.defineExtension("showHint",(function(t){t=a(this,this.getCursor("start"),t);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new n(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e,t,r){var n=e.options.hintOptions,i={};for(var o in d)i[o]=d[o];if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function s(e){return"string"==typeof e?e:e.text}function l(e,t){var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(r["Ctrl-P"]=function(){t.moveFocus(-1)},r["Ctrl-N"]=function(){t.moveFocus(1)});var n=e.options.customKeys,i=n?{}:r;function o(e,n){var o;o="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,i[e]=o}if(n)for(var a in n)n.hasOwnProperty(a)&&o(a,n[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}function u(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function c(n,i){this.completion=n,this.data=i,this.picked=!1;var o=this,a=n.cm,c=a.getInputField().ownerDocument,p=c.defaultView||c.parentWindow,h=this.hints=c.createElement("ul"),f=n.cm.options.theme;h.className="CodeMirror-hints "+f,this.selectedHint=i.selectedHint||0;for(var d=i.list,m=0;m<d.length;++m){var g=h.appendChild(c.createElement("li")),y=d[m],v=t+(m!=this.selectedHint?"":" "+r);null!=y.className&&(v=y.className+" "+v),g.className=v,y.render?y.render(g,i,y):g.appendChild(c.createTextNode(y.displayText||s(y))),g.hintId=m}var x=n.options.container||c.body,b=a.cursorCoords(n.options.alignWithWord?i.from:null),_=b.left,w=b.bottom,E=!0,M=0,S=0;if(x!==c.body){var N=-1!==["absolute","relative","fixed"].indexOf(p.getComputedStyle(x).position)?x:x.offsetParent,k=N.getBoundingClientRect(),A=c.body.getBoundingClientRect();M=k.left-A.left-N.scrollLeft,S=k.top-A.top-N.scrollTop}h.style.left=_-M+"px",h.style.top=w-S+"px";var T=p.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),O=p.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);x.appendChild(h);var C,I=n.options.moveOnOverlap?h.getBoundingClientRect():new DOMRect,R=!!n.options.paddingForScrollbar&&h.scrollHeight>h.clientHeight+1;if(setTimeout((function(){C=a.getScrollInfo()})),I.bottom-O>0){var D=I.bottom-I.top;if(b.top-(b.bottom-I.top)-D>0)h.style.top=(w=b.top-D-S)+"px",E=!1;else if(D>O){h.style.height=O-5+"px",h.style.top=(w=b.bottom-I.top-S)+"px";var L=a.getCursor();i.from.ch!=L.ch&&(b=a.cursorCoords(L),h.style.left=(_=b.left-M)+"px",I=h.getBoundingClientRect())}}var q,B=I.right-T;if(R&&(B+=a.display.nativeBarWidth),B>0&&(I.right-I.left>T&&(h.style.width=T-5+"px",B-=I.right-I.left-T),h.style.left=(_=b.left-B-M)+"px"),R)for(var P=h.firstChild;P;P=P.nextSibling)P.style.paddingRight=a.display.nativeBarWidth+"px";a.addKeyMap(this.keyMap=l(n,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:d.length,close:function(){n.close()},pick:function(){o.pick()},data:i})),n.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){q=setTimeout((function(){n.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(q)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect();C||(C=a.getScrollInfo());var r=w+C.top-e.top,i=r-(p.pageYOffset||(c.documentElement||c.body).scrollTop);if(E||(i+=h.offsetHeight),i<=t.top||i>=t.bottom)return n.close();h.style.top=r+"px",h.style.left=_+C.left-e.left+"px"}),e.on(h,"dblclick",(function(e){var t=u(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())})),e.on(h,"click",(function(e){var t=u(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),n.options.completeOnSingleClick&&o.pick())})),e.on(h,"mousedown",(function(){setTimeout((function(){a.focus()}),20)}));var z=this.getSelectedHintRange();return 0===z.from&&0===z.to||this.scrollToActive(),e.signal(i,"select",d[this.selectedHint],h.childNodes[this.selectedHint]),!0}function p(e,t){if(!e.somethingSelected())return t;for(var r=[],n=0;n<t.length;n++)t[n].supportsSelection&&r.push(t[n]);return r}function h(e,t,r,n){if(e.async)e(t,n,r);else{var i=e(t,r);i&&i.then?i.then(n):n(i)}}function f(t,r){var n,i=t.getHelpers(r,"hint");if(i.length){var o=function(e,t,r){var n=p(e,i);function o(i){if(i==n.length)return t(null);h(n[i],e,r,(function(e){e&&e.list.length>0?t(e):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:n})}:e.hint.anyword?function(t,r){return e.hint.anyword(t,r)}:function(){}}n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var n=t.list[r],i=this;this.cm.operation((function(){n.hint?n.hint(i.cm,t,n):i.cm.replaceRange(s(n),n.from||t.from,n.to||t.to,"complete"),e.signal(t,"pick",n),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),r=this.cm.getLine(t.line);if(t.line!=this.startPos.line||r.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(r.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=i((function(){n.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,r=++this.tick;h(this.options.hint,this.cm,this.options,(function(n){t.tick==r&&t.finishUpdate(n,e)}))}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var n=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(n&&1==t.list.length?this.pick(t,0):(this.widget=new c(this,t),e.signal(t,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+r,"")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+r,this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],r=this.hints.childNodes[e.to],n=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-n.offsetTop:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+n.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:f}),e.registerHelper("hint","fromList",(function(t,r){var n,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?n=o.string.substr(0,i.ch-o.start):(n="",a=i);for(var l=[],u=0;u<r.words.length;u++){var c=r.words[u];c.slice(0,n.length)==n&&l.push(c)}if(l.length)return{list:l,from:a,to:s}})),e.commands.autocomplete=e.showHint;var d={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(r(53791))},53791:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),p=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),d=/PhantomJS/.test(e),m=h&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),y=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=m||/Mac/.test(t),x=/\bCrOS\b/.test(e),b=/win/i.test(t),_=p&&e.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(p=!1,l=!0);var w=v&&(u||p&&(null==_||_<12.11)),E=r||a&&s>=9;function M(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,N=function(e,t){var r=e.className,n=M(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function k(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return k(e).appendChild(t)}function T(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,r,n){var i=T(e,t,r,n);return i.setAttribute("role","presentation"),i}function C(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function I(){var e;try{e=document.activeElement}catch(Re){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var r=e.className;M(t).test(r)||(e.className+=(r?" ":"")+t)}function D(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!M(r[n]).test(t)&&(t+=" "+r[n]);return t}S=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(Re){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var L=function(e){e.select()};function q(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function B(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function P(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}m?L=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(L=function(e){try{e.select()}catch(t){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=q(this.onTimeout,this)};function U(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var $=50,F={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},V={origin:"*mouse"},H={origin:"+move"};function j(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var W=[""];function X(e){for(;W.length<=e;)W.push(Y(W)+" ");return W[e]}function Y(e){return e[e.length-1]}function Z(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function J(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function K(){}function Q(e,t){var r;return Object.create?r=Object.create(e):(K.prototype=e,r=new K),t&&B(t,r),r}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function re(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,r){for(;(r<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=r;return t}function se(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function le(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}var ue=null;function ce(e,t,r){var n;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:ue=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:ue=i)}return null!=n?n:ue}var pe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(r){return r<=247?e.charAt(r):1424<=r&&r<=1524?"R":1536<=r&&r<=1785?t.charAt(r-1536):1774<=r&&r<=2220?"r":8192<=r&&r<=8203?"w":8204==r?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,r){this.level=e,this.from=t,this.to=r}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var c=e.length,p=[],h=0;h<c;++h)p.push(r(e.charCodeAt(h)));for(var f=0,d=u;f<c;++f){var m=p[f];"m"==m?p[f]=d:d=m}for(var g=0,y=u;g<c;++g){var v=p[g];"1"==v&&"r"==y?p[g]="n":o.test(v)&&(y=v,"r"==v&&(p[g]="R"))}for(var x=1,b=p[0];x<c-1;++x){var _=p[x];"+"==_&&"1"==b&&"1"==p[x+1]?p[x]="1":","!=_||b!=p[x+1]||"1"!=b&&"n"!=b||(p[x]=b),b=_}for(var w=0;w<c;++w){var E=p[w];if(","==E)p[w]="N";else if("%"==E){var M=void 0;for(M=w+1;M<c&&"%"==p[M];++M);for(var S=w&&"!"==p[w-1]||M<c&&"1"==p[M]?"1":"N",N=w;N<M;++N)p[N]=S;w=M-1}}for(var k=0,A=u;k<c;++k){var T=p[k];"L"==A&&"1"==T?p[k]="L":o.test(T)&&(A=T)}for(var O=0;O<c;++O)if(i.test(p[O])){var C=void 0;for(C=O+1;C<c&&i.test(p[C]);++C);for(var I="L"==(O?p[O-1]:u),R=I==("L"==(C<c?p[C]:u))?I?"L":"R":u,D=O;D<C;++D)p[D]=R;O=C-1}for(var L,q=[],B=0;B<c;)if(a.test(p[B])){var P=B;for(++B;B<c&&a.test(p[B]);++B);q.push(new l(0,P,B))}else{var z=B,U=q.length,$="rtl"==t?1:0;for(++B;B<c&&"L"!=p[B];++B);for(var F=z;F<B;)if(s.test(p[F])){z<F&&(q.splice(U,0,new l(1,z,F)),U+=$);var G=F;for(++F;F<B&&s.test(p[F]);++F);q.splice(U,0,new l(2,G,F)),U+=$,z=F}else++F;z<B&&q.splice(U,0,new l(1,z,B))}return"ltr"==t&&(1==q[0].level&&(L=e.match(/^\s+/))&&(q[0].from=L[0].length,q.unshift(new l(0,0,L[0].length))),1==Y(q).level&&(L=e.match(/\s+$/))&&(Y(q).to-=L[0].length,q.push(new l(0,c-L[0].length,c)))),"rtl"==t?q.reverse():q}}();function he(e,t){var r=e.order;return null==r&&(r=e.order=pe(e.text,t)),r}var fe=[],de=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||fe).concat(r)}};function me(e,t){return e._handlers&&e._handlers[t]||fe}function ge(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=U(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ye(e,t){var r=me(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ve(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,r||t.type,e,t),Me(t)||t.codemirrorIgnore}function xe(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==U(r,t[n])&&r.push(t[n])}function be(e,t){return me(e,t).length>0}function _e(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function we(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ee(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Me(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){we(e),Ee(e)}function Ne(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var Ae,Te,Oe=function(){if(a&&s<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function Ce(e){if(null==Ae){var t=T("span","​");A(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ae=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=Ae?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Ie(e){if(null!=Te)return Te;var t=A(e,document.createTextNode("AخA")),r=S(t,0,1).getBoundingClientRect(),n=S(t,1,2).getBoundingClientRect();return k(e),!(!r||r.left==r.right)&&(Te=n.right-r.right<3)}var Re,De=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Le=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(Re){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(Re){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},qe="oncopy"in(Re=T("div"))||(Re.setAttribute("oncopy","return;"),"function"==typeof Re.oncopy),Be=null;function Pe(e){if(null!=Be)return Be;var t=A(e,T("span","x")),r=t.getBoundingClientRect(),n=S(t,0,1).getBoundingClientRect();return Be=Math.abs(r.left-n.left)>1}var ze={},Ue={};function $e(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}function Fe(e,t){Ue[e]=t}function Ge(e){if("string"==typeof e&&Ue.hasOwnProperty(e))e=Ue[e];else if(e&&"string"==typeof e.name&&Ue.hasOwnProperty(e.name)){var t=Ue[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ge("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ge("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=Ge(t);var r=ze[t.name];if(!r)return Ve(e,"text/plain");var n=r(e,t);if(He.hasOwnProperty(t.name)){var i=He[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var He={};function je(e,t){B(t,He.hasOwnProperty(e)?He[e]:He[e]={})}function We(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Xe(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Ye(e,t,r){return!e.startState||e.startState(t,r)}var Ze=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Je(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Ke(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i})),n}function Qe(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function et(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function tt(e){if(null==e.parent)return null;for(var t=e.parent,r=U(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function rt(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,r){if(void 0===r&&(r=null),!(this instanceof ot))return new ot(e,t,r);this.line=e,this.ch=t,this.sticky=r}function at(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==at(e,t)}function lt(e){return ot(e.line,e.ch)}function ut(e,t){return at(e,t)<0?t:e}function ct(e,t){return at(e,t)<0?e:t}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return ot(e.first,0);var r=e.first+e.size-1;return t.line>r?ot(r,Je(e,r).text.length):ft(t,Je(e,t.line).text.length)}function ft(e,t){var r=e.ch;return null==r||r>t?ot(e.line,t):r<0?ot(e.line,0):e}function dt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ht(e,t[n]);return r}Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ze.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ze.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ze.prototype.backUp=function(e){this.pos-=e},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ze.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ze.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function yt(e,t,r,n){var i=[e.state.modeGen],o={};Nt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,u=0;r.state=!0,Nt(e,t.text,s.mode,r,(function(e,t){for(var r=l;u<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function vt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=xt(e,tt(t)),i=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,n.state),o=yt(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function xt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new gt(n,!0,t);var o=kt(e,t,r),a=o>n.first&&Je(n,o-1).stateAfter,s=a?gt.fromSaved(n,a,o):new gt(n,Ye(n.mode),o);return n.iter(o,t,(function(r){bt(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function bt(e,t,r,n){var i=e.doc.mode,o=new Ze(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&_t(i,r.state);!o.eol();)wt(i,o,r.state),o.start=o.pos}function _t(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Xe(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function wt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Xe(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,r){return t instanceof mt?new gt(e,We(e.mode,t.state),r,t.lookAhead):new gt(e,We(e.mode,t),r)},gt.prototype.save=function(e){var t=!1!==e?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var Et=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Mt(e,t,r,n){var i,o,a=e.doc,s=a.mode,l=Je(a,(t=ht(a,t)).line),u=xt(e,t.line,r),c=new Ze(l.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=wt(s,c,u.state),n&&o.push(new Et(c,i,We(a.mode,u.state)));return n?o:new Et(c,i,u.state)}function St(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Nt(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,p=new Ze(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&St(_t(r,n.state),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(s=!1,a&&bt(e,t,n,p.pos),p.pos=t.length,l=null):l=St(wt(r,p,n.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<p.start;)i(u=Math.min(p.start,u+5e3),c);c=l}p.start=p.pos}for(;u<p.pos;){var d=Math.min(p.pos,u+5e3);i(d,c),u=d}}function kt(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Je(o,s-1),u=l.stateAfter;if(u&&(!r||s+(u instanceof mt?u.lookAhead:0)<=o.modeFrontier))return s;var c=P(l.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function At(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Je(e,n).stateAfter;if(i&&(!(i instanceof mt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var Tt=!1,Ot=!1;function Ct(){Tt=!0}function It(){Ot=!0}function Rt(e,t,r){this.marker=e,this.from=t,this.to=r}function Dt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Lt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function qt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Bt(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Rt(a,o.from,s?null:o.to))}}return n}function Pt(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Rt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}function zt(e,t){if(t.full)return null;var r=nt(e,t.from.line)&&Je(e,t.from.line).markedSpans,n=nt(e,t.to.line)&&Je(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==at(t.from,t.to),s=Bt(r,i,a),l=Pt(n,o,a),u=1==t.text.length,c=Y(t.text).length+(u?i:0);if(s)for(var p=0;p<s.length;++p){var h=s[p];if(null==h.to){var f=Dt(l,h.marker);f?u&&(h.to=null==f.to?null:f.to+c):h.to=i}}if(l)for(var d=0;d<l.length;++d){var m=l[d];null!=m.to&&(m.to+=c),null==m.from?Dt(s,m.marker)||(m.from=c,u&&(s||(s=[])).push(m)):(m.from+=c,u&&(s||(s=[])).push(m))}s&&(s=Ut(s)),l&&l!=s&&(l=Ut(l));var g=[s];if(!u){var y,v=t.text.length-2;if(v>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new Rt(s[x].marker,null,null));for(var b=0;b<v;++b)g.push(y);g.push(l)}return g}function Ut(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function $t(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=U(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(at(u.to,s.from)<0||at(u.from,s.to)>0)){var c=[l,1],p=at(u.from,s.from),h=at(u.to,s.to);(p<0||!a.inclusiveLeft&&!p)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Ft(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Gt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Ht(e){return e.inclusiveRight?1:0}function jt(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=at(n.from,i.from)||Vt(e)-Vt(t);if(o)return-o;var a=at(n.to,i.to)||Ht(e)-Ht(t);return a||t.id-e.id}function Wt(e,t){var r,n=Ot&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||jt(r,i.marker)<0)&&(r=i.marker);return r}function Xt(e){return Wt(e,!0)}function Yt(e){return Wt(e,!1)}function Zt(e,t){var r,n=Ot&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||jt(r,o.marker)<0)&&(r=o.marker)}return r}function Jt(e,t,r,n,i){var o=Je(e,t),a=Ot&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=at(u.from,r)||Vt(l.marker)-Vt(i),p=at(u.to,n)||Ht(l.marker)-Ht(i);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.to,r)>=0:at(u.to,r)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.from,n)<=0:at(u.from,n)<0)))return!0}}}function Kt(e){for(var t;t=Xt(e);)e=t.find(-1,!0).line;return e}function Qt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function er(e){for(var t,r;t=Yt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function tr(e,t){var r=Je(e,t),n=Kt(r);return r==n?t:tt(n)}function rr(e,t){if(t>e.lastLine())return t;var r,n=Je(e,t);if(!nr(e,n))return t;for(;r=Yt(n);)n=r.find(1,!0).line;return tt(n)+1}function nr(e,t){var r=Ot&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ir(e,t,n))return!0}}function ir(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return ir(e,n.line,Dt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&ir(e,t,i))return!0}function or(e){for(var t=0,r=(e=Kt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function ar(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Xt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Yt(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function sr(e){var t=e.display,r=e.doc;t.maxLine=Je(r,r.first),t.maxLineLength=ar(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=ar(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var lr=function(e,t,r){this.text=e,Gt(this,t),this.height=r?r(this):1};function ur(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ft(e),Gt(e,r);var i=n?n(e):1;i!=e.height&&et(e,i)}function cr(e){e.parent=null,Ft(e)}lr.prototype.lineNo=function(){return tt(this)},_e(lr);var pr={},hr={};function fr(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?hr:pr;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function dr(e,t){var r=O("span",null,null,l?"padding-right: .1px":null),n={pre:O("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=gr,Ie(e.display.measure)&&(a=he(o,e.doc.direction))&&(n.addToken=vr(n.addToken,a)),n.map=[],br(o,n,vt(e,o,t!=e.display.externalMeasured&&tt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=D(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=D(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ce(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=D(n.pre.className,n.textClass||"")),n}function mr(e){var t=T("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function gr(e,t,r,n,i,o,l){if(t){var u,c=e.splitSpaces?yr(t,e.trailingSpace):t,p=e.cm.state.specialChars,h=!1;if(p.test(t)){u=document.createDocumentFragment();for(var f=0;;){p.lastIndex=f;var d=p.exec(t),m=d?d.index-f:t.length-f;if(m){var g=document.createTextNode(c.slice(f,f+m));a&&s<9?u.appendChild(T("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!d)break;f+=m+1;var y=void 0;if("\t"==d[0]){var v=e.cm.options.tabSize,x=v-e.col%v;(y=u.appendChild(T("span",X(x),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),e.col+=x}else"\r"==d[0]||"\n"==d[0]?((y=u.appendChild(T("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((y=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?u.appendChild(T("span",[y])):u.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||h||o||l){var b=r||"";n&&(b+=n),i&&(b+=i);var _=T("span",[u],b,o);if(l)for(var w in l)l.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&_.setAttribute(w,l[w]);return e.content.appendChild(_)}e.content.appendChild(u)}}function yr(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function vr(e,t){return function(r,n,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var p=void 0,h=0;h<t.length&&!((p=t[h]).to>u&&p.from<=u);h++);if(p.to>=c)return e(r,n,i,o,a,s,l);e(r,n.slice(0,p.to-u),i,o,null,s,l),o=null,n=n.slice(p.to-u),u=p.to}}}function xr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function br(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,l,u,c,p,h,f=i.length,d=0,m=1,g="",y=0;;){if(y==d){l=u=c=s="",h=null,p=null,y=1/0;for(var v=[],x=void 0,b=0;b<n.length;++b){var _=n[b],w=_.marker;if("bookmark"==w.type&&_.from==d&&w.widgetNode)v.push(w);else if(_.from<=d&&(null==_.to||_.to>d||w.collapsed&&_.to==d&&_.from==d)){if(null!=_.to&&_.to!=d&&y>_.to&&(y=_.to,u=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&_.from==d&&(c+=" "+w.startStyle),w.endStyle&&_.to==y&&(x||(x=[])).push(w.endStyle,_.to),w.title&&((h||(h={})).title=w.title),w.attributes)for(var E in w.attributes)(h||(h={}))[E]=w.attributes[E];w.collapsed&&(!p||jt(p.marker,w)<0)&&(p=_)}else _.from>d&&y>_.from&&(y=_.from)}if(x)for(var M=0;M<x.length;M+=2)x[M+1]==y&&(u+=" "+x[M]);if(!p||p.from==d)for(var S=0;S<v.length;++S)xr(t,0,v[S]);if(p&&(p.from||0)==d){if(xr(t,(null==p.to?f+1:p.to)-d,p.marker,null==p.from),null==p.to)return;p.to==d&&(p=!1)}}if(d>=f)break;for(var N=Math.min(f,y);;){if(g){var k=d+g.length;if(!p){var A=k>N?g.slice(0,N-d):g;t.addToken(t,A,a?a+l:l,c,d+A.length==y?u:"",s,h)}if(k>=N){g=g.slice(N-d),d=N;break}d=k,c=""}g=i.slice(o,o=r[m++]),a=fr(r[m++],t.cm.options)}}else for(var T=1;T<r.length;T+=2)t.addToken(t,i.slice(o,o=r[T]),fr(r[T+1],t.cm.options))}function _r(e,t,r){this.line=t,this.rest=er(t),this.size=this.rest?tt(Y(this.rest))-r+1:1,this.node=this.text=null,this.hidden=nr(e,t)}function wr(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new _r(e.doc,Je(e.doc,o),o);n=o+a.size,i.push(a)}return i}var Er=null;function Mr(e){Er?Er.ops.push(e):e.ownsGroup=Er={ops:[e],delayedCallbacks:[]}}function Sr(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function Nr(e,t){var r=e.ownsGroup;if(r)try{Sr(r)}finally{Er=null,t(r)}}var kr=null;function Ar(e,t){var r=me(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Er?n=Er.delayedCallbacks:kr?n=kr:(n=kr=[],setTimeout(Tr,0));for(var o=function(e){n.push((function(){return r[e].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function Tr(){var e=kr;kr=null;for(var t=0;t<e.length;++t)e[t]()}function Or(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Dr(e,t):"gutter"==o?qr(e,t,r,n):"class"==o?Lr(e,t):"widget"==o&&Br(e,t,n)}t.changes=null}function Cr(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Ir(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Cr(t);t.background=n.insertBefore(T("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Rr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):dr(e,t)}function Dr(e,t){var r=t.text.className,n=Rr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Lr(e,t)):r&&(t.text.className=r)}function Lr(e,t){Ir(e,t),t.line.wrapClass?Cr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function qr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Cr(t);t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Cr(t),s=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(T("div",it(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function Br(e,t,r){t.alignable&&(t.alignable=null);for(var n=M("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);zr(e,t,r)}function Pr(e,t,r,n){var i=Rr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Lr(e,t),qr(e,t,r,n),zr(e,t,n),t.node}function zr(e,t,r){if(Ur(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Ur(e,t.rest[n],t,r,!1)}function Ur(e,t,r,n,i){if(t.widgets)for(var o=Cr(r),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=T("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),$r(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Ar(l,"redraw")}}function $r(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Fr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!C(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,T("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Gr(e,t){for(var r=Ne(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Vr(e){return e.lineSpace.offsetTop}function Hr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function jr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,T("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Wr(e){return $-e.display.nativeBarWidth}function Xr(e){return e.display.scroller.clientWidth-Wr(e)-e.display.barWidth}function Yr(e){return e.display.scroller.clientHeight-Wr(e)-e.display.barHeight}function Zr(e,t,r){var n=e.options.lineWrapping,i=n&&Xr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Jr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(tt(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kr(e,t){var r=tt(t=Kt(t)),n=e.display.externalMeasured=new _r(e.doc,t,r);n.lineN=r;var i=n.built=dr(e,n);return n.text=i.pre,A(e.display.lineMeasure,i.pre),n}function Qr(e,t,r,n){return rn(e,tn(e,t),r,n)}function en(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[qn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function tn(e,t){var r=tt(t),n=en(e,r);n&&!n.text?n=null:n&&n.changes&&(Or(e,n,r,Cn(e)),e.curOp.forceUpdate=!0),n||(n=Kr(e,t));var i=Jr(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function rn(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Zr(e,t.view,t.rect),t.hasHeights=!0),(o=ln(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var nn,on={left:0,right:0,top:0,bottom:0};function an(e,t,r){for(var n,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(n=e[u+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],a="left";if("right"==r&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function sn(e,t){var r=on;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function ln(e,t,r,n){var i,o=an(t.map,r,n),l=o.node,u=o.start,c=o.end,p=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;u&&oe(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():sn(S(l,u,c).getClientRects(),n)).left||i.right||0==u)break;c=u,u-=1,p="right"}a&&s<11&&(i=un(e.display.measure,i))}else{var f;u>0&&(p=n="right"),i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var d=l.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+On(e.display),top:d.top,bottom:d.bottom}:on}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,y=(m+g)/2,v=t.view.measure.heights,x=0;x<v.length-1&&!(y<v[x]);x++);var b=x?v[x-1]:0,_=v[x],w={left:("right"==p?i.right:i.left)-t.rect.left,right:("left"==p?i.left:i.right)-t.rect.left,top:b,bottom:_};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g),w}function un(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function cn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function pn(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cn(e.display.view[t])}function hn(e){pn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function dn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mn(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Fr(e.widgets[r]));return t}function gn(e,t,r,n,i){if(!i){var o=mn(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=or(t);if("local"==n?a+=Vr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:dn());var l=s.left+("window"==n?0:fn());r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function yn(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=fn(),i-=dn();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function vn(e,t,r,n,i){return n||(n=Je(e.doc,t.line)),gn(e,n,Qr(e,n,t.ch,i),r)}function xn(e,t,r,n,i,o){function a(t,a){var s=rn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,gn(e,n,s,r)}n=n||Je(e.doc,t.line),i||(i=tn(e,n));var s=he(n,e.doc.direction),l=t.ch,u=t.sticky;if(l>=n.text.length?(l=n.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var p=ce(s,l,u),h=ue,f=c(l,p,"before"==u);return null!=h&&(f.other=c(l,h,"before"!=u)),f}function bn(e,t){var r=0;t=ht(e.doc,t),e.options.lineWrapping||(r=On(e.display)*t.ch);var n=Je(e.doc,t.line),i=or(n)+Vr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function _n(e,t,r,n,i){var o=ot(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function wn(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return _n(n.first,0,null,-1,-1);var i=rt(n,r),o=n.first+n.size-1;if(i>o)return _n(n.first+n.size-1,Je(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Je(n,i);;){var s=Nn(e,a,i,t,r),l=Zt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Je(n,i=u.line)}}function En(e,t,r,n){n-=mn(t);var i=t.text.length,o=se((function(t){return rn(e,r,t-1).bottom<=n}),i,0);return{begin:o,end:i=se((function(t){return rn(e,r,t).top>n}),o,i)}}function Mn(e,t,r,n){return r||(r=tn(e,t)),En(e,t,r,gn(e,t,rn(e,r,n),"line").top)}function Sn(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Nn(e,t,r,n,i){i-=or(t);var o=tn(e,t),a=mn(t),s=0,l=t.text.length,u=!0,c=he(t,e.doc.direction);if(c){var p=(e.options.lineWrapping?An:kn)(e,t,r,o,c,n,i);s=(u=1!=p.level)?p.from:p.to-1,l=u?p.to:p.from-1}var h,f,d=null,m=null,g=se((function(t){var r=rn(e,o,t);return r.top+=a,r.bottom+=a,!!Sn(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(d=t,m=r),!0)}),s,l),y=!1;if(m){var v=n-m.left<m.right-n,x=v==u;g=d+(x?0:1),f=x?"after":"before",h=v?m.left:m.right}else{u||g!=l&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":rn(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var b=xn(e,ot(r,g,f),"line",t,o);h=b.left,y=i<b.top?-1:i>=b.bottom?1:0}return _n(r,g=ae(t.text,g,1),f,y,n-h)}function kn(e,t,r,n,i,o,a){var s=se((function(s){var l=i[s],u=1!=l.level;return Sn(xn(e,ot(r,u?l.to:l.from,u?"before":"after"),"line",t,n),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=xn(e,ot(r,u?l.from:l.to,u?"after":"before"),"line",t,n);Sn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function An(e,t,r,n,i,o,a){var s=En(e,t,n,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,p=null,h=0;h<i.length;h++){var f=i[h];if(!(f.from>=u||f.to<=l)){var d=rn(e,n,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,m=d<o?o-d+1e9:d-o;(!c||p>m)&&(c=f,p=m)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Tn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==nn){nn=T("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)nn.appendChild(document.createTextNode("x")),nn.appendChild(T("br"));nn.appendChild(document.createTextNode("x"))}A(e.measure,nn);var r=nn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),k(e.measure),r||1}function On(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T("span","xxxxxxxxxx"),r=T("pre",[t],"CodeMirror-line-like");A(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Cn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:In(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function In(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Rn(e){var t=Tn(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/On(e.display)-3);return function(i){if(nr(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Dn(e){var t=e.doc,r=Rn(e);t.iter((function(e){var t=r(e);t!=e.height&&et(e,t)}))}function Ln(e,t,r,n){var i=e.display;if(!r&&"true"==Ne(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(p){return null}var l,u=wn(e,o,a);if(n&&u.xRel>0&&(l=Je(e.doc,u.line).text).length==u.ch){var c=P(l,l.length,e.options.tabSize)-l.length;u=ot(u.line,Math.max(0,Math.round((o-jr(e.display).left)/On(e.display))-c))}return u}function qn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Bn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ot&&tr(e.doc,t)<i.viewTo&&zn(e);else if(r<=i.viewFrom)Ot&&rr(e.doc,r+n)>i.viewFrom?zn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)zn(e);else if(t<=i.viewFrom){var o=Un(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):zn(e)}else if(r>=i.viewTo){var a=Un(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):zn(e)}else{var s=Un(e,t,t,-1),l=Un(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(wr(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):zn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function Pn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[qn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==U(a,r)&&a.push(r)}}}function zn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Un(e,t,r,n){var i,o=qn(e,t),a=e.display.view;if(!Ot||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;tr(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function $n(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=wr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=wr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(qn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(wr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,qn(e,r)))),n.viewTo=r}function Fn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Gn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t||a!=r.sel.primIndex){var s=r.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Hn(e,s.head,i),l||Wn(e,s,o)}}return n}function Hn(e,t,r){var n=xn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(T("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function jn(e,t){return e.top-t.top||e.left-t.left}function Wn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=jr(e.display),s=a.left,l=Math.max(n.sizerWidth,Xr(e)-n.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function p(t,r,n){var o,a,p=Je(i,t),h=p.text.length;function f(r,n){return vn(e,ot(t,r),"div",p,n)}function d(t,r,n){var i=Mn(e,p,null,t),o="ltr"==r==("after"==n)?"left":"right";return f("after"==n?i.begin:i.end-(/\s/.test(p.text.charAt(i.end-1))?2:1),o)[o]}var m=he(p,i.direction);return le(m,r||0,null==n?h:n,(function(e,t,i,p){var g="ltr"==i,y=f(e,g?"left":"right"),v=f(t-1,g?"right":"left"),x=null==r&&0==e,b=null==n&&t==h,_=0==p,w=!m||p==m.length-1;if(v.top-y.top<=3){var E=(u?b:x)&&w,M=(u?x:b)&&_?s:(g?y:v).left,S=E?l:(g?v:y).right;c(M,y.top,S-M,y.bottom)}else{var N,k,A,T;g?(N=u&&x&&_?s:y.left,k=u?l:d(e,i,"before"),A=u?s:d(t,i,"after"),T=u&&b&&w?l:v.right):(N=u?d(e,i,"before"):s,k=!u&&x&&_?l:y.right,A=!u&&b&&w?s:v.left,T=u?d(t,i,"after"):l),c(N,y.top,k-N,y.bottom),y.bottom<v.top&&c(s,y.bottom,null,v.top),c(A,v.top,T-A,v.bottom)}(!o||jn(y,o)<0)&&(o=y),jn(v,o)<0&&(o=v),(!a||jn(y,a)<0)&&(a=y),jn(v,a)<0&&(a=v)})),{start:o,end:a}}var h=t.from(),f=t.to();if(h.line==f.line)p(h.line,h.ch,f.ch);else{var d=Je(i,h.line),m=Je(i,f.line),g=Kt(d)==Kt(m),y=p(h.line,h.ch,g?d.text.length+1:null).end,v=p(f.line,g?0:null,f.ch).start;g&&(y.top<v.top-2?(c(y.right,y.top,null,y.bottom),c(s,v.top,v.left,v.bottom)):c(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&c(s,y.bottom,null,v.top)}r.appendChild(o)}function Xn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Kn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yn(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Jn(e))}function Zn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Kn(e))}),100)}function Jn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Xn(e))}function Kn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,N(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Qn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-r,r=c}else{var p=i.node.getBoundingClientRect();l=p.bottom-p.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-p.left-1)}var h=i.line.height-l;if((h>.005||h<-.005)&&(et(i.line,l),ei(i.line),i.rest))for(var f=0;f<i.rest.length;f++)ei(i.rest[f]);if(u>e.display.sizerWidth){var d=Math.ceil(u/On(e.display));d>e.display.maxLineLength&&(e.display.maxLineLength=d,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ei(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function ti(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Vr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=rt(t,n),a=rt(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<o?(o=s,a=rt(t,or(Je(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=rt(t,or(Je(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ri(e,t){if(!ve(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=T("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Vr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Wr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ot(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=xn(e,t),l=r&&r!=t?xn(e,r):s,u=oi(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),c=e.doc.scrollTop,p=e.doc.scrollLeft;if(null!=u.scrollTop&&(hi(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(di(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-p)>1&&(a=!0)),!a)break}return i}function ii(e,t){var r=oi(e,t);null!=r.scrollTop&&hi(e,r.scrollTop),null!=r.scrollLeft&&di(e,r.scrollLeft)}function oi(e,t){var r=e.display,n=Tn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Yr(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Hr(r),l=t.top<n,u=t.bottom>s-n;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var p=e.options.fixedGutter?0:r.gutters.offsetWidth,h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-p,f=Xr(e)-r.gutters.offsetWidth,d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left+p-(d?0:10)):t.right>f+h-3&&(a.scrollLeft=t.right+(d?0:10)-f),a}function ai(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function li(e,t,r){null==t&&null==r||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function ui(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,pi(e,bn(e,t.from),bn(e,t.to),t.margin))}function pi(e,t,r,n){var i=oi(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});li(e,i.scrollLeft,i.scrollTop)}function hi(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||Gi(e,{top:t}),fi(e,t,!0),r&&Gi(e),Li(e,100))}function fi(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function di(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Wi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function mi(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Hr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Wr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var gi=function(e,t,r){this.cm=r;var n=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),de(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},gi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gi.prototype.zeroWidthHack=function(){var e=v&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},gi.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yi=function(){};function vi(e,t){t||(t=mi(e));var r=e.display.barWidth,n=e.display.barHeight;xi(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Qn(e),xi(e,mi(e)),r=e.display.barWidth,n=e.display.barHeight}function xi(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}yi.prototype.update=function(){return{bottom:0,right:0}},yi.prototype.setScrollLeft=function(){},yi.prototype.setScrollTop=function(){},yi.prototype.clear=function(){};var bi={native:gi,null:yi};function _i(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&N(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new bi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?di(e,t):hi(e,t)}),e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var wi=0;function Ei(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wi},Mr(e.curOp)}function Mi(e){var t=e.curOp;t&&Nr(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Si(e)}))}function Si(e){for(var t=e.ops,r=0;r<t.length;r++)Ni(t[r]);for(var n=0;n<t.length;n++)ki(t[n]);for(var i=0;i<t.length;i++)Ai(t[i]);for(var o=0;o<t.length;o++)Ti(t[o]);for(var a=0;a<t.length;a++)Oi(t[a])}function Ni(e){var t=e.cm,r=t.display;Pi(t),e.updateMaxLine&&sr(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Bi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ki(e){e.updatedDisplay=e.mustUpdate&&$i(e.cm,e.update)}function Ai(e){var t=e.cm,r=t.display;e.updatedDisplay&&Qn(t),e.barMeasure=mi(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Wr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Xr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Ti(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&di(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==I();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&vi(t,e.barMeasure),e.updatedDisplay&&ji(t,e.barMeasure),e.selectionChanged&&Xn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Yn(e.cm)}function Oi(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Fi(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&fi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&di(t,e.scrollLeft,!0,!0),e.scrollToPos&&ri(t,ni(t,ht(n,e.scrollToPos.from),ht(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ye(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ye(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ci(e,t){if(e.curOp)return t();Ei(e);try{return t()}finally{Mi(e)}}function Ii(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ei(e);try{return t.apply(e,arguments)}finally{Mi(e)}}}function Ri(e){return function(){if(this.curOp)return e.apply(this,arguments);Ei(this);try{return e.apply(this,arguments)}finally{Mi(this)}}}function Di(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ei(t);try{return e.apply(this,arguments)}finally{Mi(t)}}}function Li(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,q(qi,e))}function qi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=xt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?We(t.mode,n.state):null,l=yt(e,o,n,!0);s&&(n.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!p&&h<a.length;++h)p=a[h]!=o.styles[h];p&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&bt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Li(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Ci(e,(function(){for(var t=0;t<i.length;t++)Pn(e,i[t],"text")}))}}var Bi=function(e,t,r){var n=e.display;this.viewport=t,this.visible=ti(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Xr(e),this.force=r,this.dims=Cn(e),this.events=[]};function Pi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Wr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Wr(e)+"px",t.scrollbarsClipped=!0)}function zi(e){if(e.hasFocus())return null;var t=I();if(!t||!C(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&C(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Ui(e){if(e&&e.activeElt&&e.activeElt!=I()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&C(document.body,e.anchorNode)&&C(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function $i(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return zn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Fn(e))return!1;Xi(e)&&(zn(e),t.dims=Cn(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),Ot&&(o=tr(e.doc,o),a=rr(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;$n(e,o,a),r.viewOffset=or(Je(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=Fn(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=zi(e);return l>4&&(r.lineDiv.style.display="none"),Vi(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Ui(u),k(r.cursorDiv),k(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Li(e,400)),r.updateLineNumbers=null,!0}function Fi(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Xr(e))n&&(t.visible=ti(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Hr(e.display)-Yr(e),r.top)}),t.visible=ti(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!$i(e,t))break;Qn(e);var i=mi(e);Gn(e),vi(e,i),ji(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Gi(e,t){var r=new Bi(e,t);if($i(e,r)){Qn(e),Fi(e,r);var n=mi(e);Gn(e),vi(e,n),ji(e,n),r.finish()}}function Vi(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var u=n.view,c=n.viewFrom,p=0;p<u.length;p++){var h=u[p];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var f=i&&null!=t&&t<=c&&h.lineNumber;h.changes&&(U(h.changes,"gutter")>-1&&(f=!1),Or(e,h,c,r)),f&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(it(e.options,c)))),a=h.node.nextSibling}else{var d=Pr(e,h,c,r);o.insertBefore(d,a)}c+=h.size}for(;a;)a=s(a)}function Hi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Ar(e,"gutterChanged",e)}function ji(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Wr(e)+"px"}function Wi(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=In(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Xi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=it(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(T("div",[T("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Hi(e.display),!0}return!1}function Yi(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Zi(e){var t=e.gutters,r=e.gutterSpecs;k(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(T("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Hi(e)}function Ji(e){Zi(e.display),Bn(e),Wi(e)}function Ki(e,t,n,i){var o=this;this.input=n,o.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=T("div",null,"CodeMirror-cursors"),o.measure=T("div",null,"CodeMirror-measure"),o.lineMeasure=T("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=T("div",[u],null,"position: relative"),o.sizer=T("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=T("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),o.gutters=T("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=T("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=T("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||r&&y||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Zi(o),n.init(o)}Bi.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},Bi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var Qi=0,eo=null;function to(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function ro(e){var t=to(e);return t.x*=eo,t.y*=eo,t}function no(e,t){var n=to(t),i=n.x,o=n.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&v&&l)e:for(var h=t.target,f=a.view;h!=s;h=h.parentNode)for(var d=0;d<f.length;d++)if(f[d].node==h){e.display.currentWheelTarget=h;break e}if(i&&!r&&!p&&null!=eo)return o&&c&&hi(e,Math.max(0,s.scrollTop+o*eo)),di(e,Math.max(0,s.scrollLeft+i*eo)),(!o||o&&c)&&we(t),void(a.wheelStartX=null);if(o&&null!=eo){var m=o*eo,g=e.doc.scrollTop,y=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):y=Math.min(e.doc.height,y+m+50),Gi(e,{top:g,bottom:y})}Qi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,r=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(eo=(eo*Qi+r)/(Qi+1),++Qi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?eo=-.53:r?eo=15:c?eo=-.7:h&&(eo=-1/3);var io=function(e,t){this.ranges=e,this.primIndex=t};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!st(r.anchor,n.anchor)||!st(r.head,n.head))return!1}return!0},io.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oo(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new io(e,this.primIndex)},io.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},io.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(at(t,n.from())>=0&&at(e,n.to())<=0)return r}return-1};var oo=function(e,t){this.anchor=e,this.head=t};function ao(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return at(e.from(),t.from())})),r=U(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=at(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var u=ct(s.from(),a.from()),c=ut(s.to(),a.to()),p=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new oo(p?c:u,p?u:c))}}return new io(t,r)}function so(e,t){return new io([new oo(e,t||e)],0)}function lo(e){return e.text?ot(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function uo(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return lo(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=lo(t).ch-t.to.ch),ot(r,n)}function co(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new oo(uo(i.anchor,t),uo(i.head,t)))}return ao(e.cm,r,e.sel.primIndex)}function po(e,t,r){return e.line==t.line?ot(r.line,e.ch-t.ch+r.ch):ot(r.line+(e.line-t.line),e.ch)}function ho(e,t,r){for(var n=[],i=ot(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=po(s.from,i,o),u=po(lo(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[a],p=at(c.head,c.anchor)<0;n[a]=new oo(p?u:l,p?l:u)}else n[a]=new oo(l,l)}return new io(n,e.sel.primIndex)}function fo(e){e.doc.mode=Ve(e.options,e.doc.modeOption),mo(e)}function mo(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Li(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function yo(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ur(e,r,i,n),Ar(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new lr(u[o],i(o),n));return r}var s=t.from,l=t.to,u=t.text,c=Je(e,s.line),p=Je(e,l.line),h=Y(u),f=i(u.length-1),d=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(go(e,t)){var m=a(0,u.length-1);o(p,p.text,f),d&&e.remove(s.line,d),m.length&&e.insert(s.line,m)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),f);else{var g=a(1,u.length-1);g.push(new lr(h+c.text.slice(l.ch),f,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+p.text.slice(l.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(p,h+p.text.slice(l.ch),f);var y=a(1,u.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,y)}Ar(e,"change",e,t)}function vo(e,t,r){function n(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;r&&!l||(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function xo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Dn(e),fo(e),bo(e),e.options.lineWrapping||sr(e),e.options.mode=t.modeOption,Bn(e)}function bo(e){("rtl"==e.doc.direction?R:N)(e.display.lineDiv,"CodeMirror-rtl")}function _o(e){Ci(e,(function(){bo(e),Bn(e)}))}function wo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Eo(e,t){var r={from:lt(t.from),to:lo(t),text:Ke(e,t.from,t.to)};return Oo(e,r,t.from.line,t.to.line+1),vo(e,(function(e){return Oo(e,r,t.from.line,t.to.line+1)}),!0),r}function Mo(e){for(;e.length&&Y(e).ranges;)e.pop()}function So(e,t){return t?(Mo(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function No(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=So(i,i.lastOp==n)))a=Y(o.changes),0==at(t.from,t.to)&&0==at(t.from,a.to)?a.to=lo(t):o.changes.push(Eo(e,t));else{var l=Y(i.done);for(l&&l.ranges||To(e.sel,i.done),o={changes:[Eo(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||ye(e,"historyAdded")}function ko(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ao(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ko(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:To(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Mo(i.undone)}function To(e,t){var r=Y(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Oo(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function Co(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Io(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Co(r[i]));return n}function Ro(e,t){var r=Io(e,t),n=zt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(r[i]=a)}return r}function Do(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?io.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var p in u)(c=p.match(/^spans_(\d+)$/))&&U(t,Number(c[1]))>-1&&(Y(s)[p]=u[p],delete u[p])}}}return n}function Lo(e,t,r,n){if(n){var i=e.anchor;if(r){var o=at(t,i)<0;o!=at(r,i)<0?(i=t,t=r):o!=at(t,r)<0&&(t=r)}return new oo(i,t)}return new oo(r||t,t)}function qo(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Fo(e,new io([Lo(e.sel.primary(),t,r,i)],0),n)}function Bo(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Lo(e.sel.ranges[o],t[o],null,i);Fo(e,ao(e.cm,n,e.sel.primIndex),r)}function Po(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Fo(e,ao(e.cm,i,e.sel.primIndex),n)}function zo(e,t,r,n){Fo(e,so(t,r),n)}function Uo(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new oo(ht(e,t[r].anchor),ht(e,t[r].head))},origin:r&&r.origin};return ye(e,"beforeSelectionChange",e,n),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?ao(e.cm,n.ranges,n.ranges.length-1):t}function $o(e,t,r){var n=e.history.done,i=Y(n);i&&i.ranges?(n[n.length-1]=t,Go(e,t,r)):Fo(e,t,r)}function Fo(e,t,r){Go(e,t,r),Ao(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Go(e,t,r){(be(e,"beforeSelectionChange")||e.cm&&be(e.cm,"beforeSelectionChange"))&&(t=Uo(e,t,r));var n=r&&r.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1);Vo(e,jo(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||si(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,xe(e.cm)),Ar(e,"cursorActivity",e))}function Ho(e){Vo(e,jo(e,e.sel,null,!1))}function jo(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Xo(e,a.anchor,s&&s.anchor,r,n),u=Xo(e,a.head,s&&s.head,r,n);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new oo(l,u))}return i?ao(e.cm,i,t.primIndex):t}function Wo(e,t,r,n,i){var o=Je(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(ye(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var p=l.find(n<0?1:-1),h=void 0;if((n<0?c:u)&&(p=Yo(e,p,-n,p&&p.line==t.line?o:null)),p&&p.line==t.line&&(h=at(p,r))&&(n<0?h<0:h>0))return Wo(e,p,t,n,i)}var f=l.find(n<0?-1:1);return(n<0?u:c)&&(f=Yo(e,f,n,f.line==t.line?o:null)),f?Wo(e,f,t,n,i):null}}return t}function Xo(e,t,r,n,i){var o=n||1,a=Wo(e,t,r,o,i)||!i&&Wo(e,t,r,o,!0)||Wo(e,t,r,-o,i)||!i&&Wo(e,t,r,-o,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Yo(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ht(e,ot(t.line-1)):null:r>0&&t.ch==(n||Je(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+r)}function Zo(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),G)}function Jo(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=ht(e,t)),r&&(n.to=ht(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),ye(e,"beforeChange",e,n),e.cm&&ye(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ko(e,t,r){if(e.cm){if(!e.cm.curOp)return Ii(e.cm,Ko)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"))||(t=Jo(e,t,!0))){var n=Tt&&!r&&$t(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Qo(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Qo(e,t)}}function Qo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var r=co(e,t);No(e,t,r,e.cm?e.cm.curOp.id:NaN),ra(e,t,r,zt(e,t));var n=[];vo(e,(function(e,r){r||-1!=U(n,e.history)||(sa(e.history,t),n.push(e.history)),ra(e,t,null,zt(e,t))}))}}function ea(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(To(i,l),r&&!i.equals(e.sel))return void Fo(e,i,{clearRedo:!1});a=i}var c=[];To(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var p=be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"),h=function(r){var n=i.changes[r];if(n.origin=t,p&&!Jo(e,n,!1))return s.length=0,{};c.push(Eo(e,n));var o=r?co(e,n):Y(s);ra(e,n,o,Ro(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:lo(n)});var a=[];vo(e,(function(e,t){t||-1!=U(a,e.history)||(sa(e.history,n),a.push(e.history)),ra(e,n,null,Ro(e,n))}))},f=i.changes.length-1;f>=0;--f){var d=h(f);if(d)return d.v}}}}function ta(e,t){if(0!=t&&(e.first+=t,e.sel=new io(Z(e.sel.ranges,(function(e){return new oo(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Pn(e.cm,n,"gutter")}}function ra(e,t,r,n){if(e.cm&&!e.cm.curOp)return Ii(e.cm,ra)(e,t,r,n);if(t.to.line<e.first)ta(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ta(e,i),t={from:ot(e.first,0),to:ot(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ot(o,Je(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ke(e,t.from,t.to),r||(r=co(e,t)),e.cm?na(e.cm,t,n):yo(e,t,n),Go(e,r,G),e.cantEdit&&Xo(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=tt(Kt(Je(n,o.line))),n.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&xe(e),yo(n,t,r,Rn(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,(function(e){var t=ar(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),At(n,o.line),Li(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Bn(e):o.line!=a.line||1!=t.text.length||go(e.doc,t)?Bn(e,o.line,a.line+1,u):Pn(e,o.line,"text");var c=be(e,"changes"),p=be(e,"change");if(p||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&Ar(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ia(e,t,r,n,i){var o;n||(n=r),at(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Ko(e,{from:r,to:n,text:t,origin:i})}function oa(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function aa(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)oa(o.ranges[s].anchor,t,r,n),oa(o.ranges[s].head,t,r,n)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(r<u.from.line)u.from=ot(u.from.line+n,u.from.ch),u.to=ot(u.to.line+n,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function sa(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;aa(e.done,r,n,i),aa(e.undone,r,n,i)}function la(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Je(e,pt(e,t)):i=tt(t),null==i?null:(n(o,i)&&e.cm&&Pn(e.cm,i,r),o)}function ua(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function ca(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}oo.prototype.from=function(){return ct(this.anchor,this.head)},oo.prototype.to=function(){return ut(this.anchor,this.head)},oo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ua.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,cr(i),Ar(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ua))){var s=[];this.collapse(s),this.children=[new ua(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new ua(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=U(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new ca(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var pa=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function ha(e,t,r){or(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,r)}function fa(e,t,r,n){var i=new pa(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),la(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nr(e,t)){var n=or(t)<e.scrollTop;et(t,t.height+Fr(i)),n&&ai(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Ar(o,"lineWidgetAdded",o,i,"number"==typeof t?t:tt(t)),i}pa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=tt(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Fr(this);et(r,Math.max(0,r.height-o)),e&&(Ci(e,(function(){ha(e,r,-o),Pn(e,n,"widget")})),Ar(e,"lineWidgetCleared",e,this,n))}},pa.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Fr(this)-t;i&&(nr(this.doc,n)||et(n,n.height+i),r&&Ci(r,(function(){r.curOp.forceUpdate=!0,ha(r,n,i),Ar(r,"lineWidgetChanged",r,e,tt(n))})))},_e(pa);var da=0,ma=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++da};function ga(e,t,r,n,i){if(n&&n.shared)return va(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Ii(e.cm,ga)(e,t,r,n,i);var o=new ma(e,i),a=at(t,r);if(n&&B(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Jt(e,t.line,t,r,o)||t.line!=r.line&&Jt(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");It()}o.addToHistory&&No(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,r.line+1,(function(e){u&&o.collapsed&&!u.options.lineWrapping&&Kt(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&et(e,0),qt(e,new Rt(o,l==t.line?t.ch:null,l==r.line?r.ch:null)),++l})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){nr(e,t)&&et(t,0)})),o.clearOnEnter&&de(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Ct(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++da,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Bn(u,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=r.line;c++)Pn(u,c,"text");o.atomic&&Ho(u.doc),Ar(u,"markerAdded",u,o)}return o}ma.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ei(e),be(this,"clear")){var r=this.find();r&&Ar(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Dt(a.markedSpans,this);e&&!this.collapsed?Pn(e,tt(a),"text"):e&&(null!=s.to&&(i=tt(a)),null!=s.from&&(n=tt(a))),a.markedSpans=Lt(a.markedSpans,s),null==s.from&&this.collapsed&&!nr(this.doc,a)&&e&&et(a,Tn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Kt(this.lines[l]),c=ar(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Bn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ho(e.doc)),e&&Ar(e,"markerCleared",e,this,n,i),t&&Mi(e),this.parent&&this.parent.clear()}},ma.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Dt(o.markedSpans,this);if(null!=a.from&&(r=ot(t?o:tt(o),a.from),-1==e))return r;if(null!=a.to&&(n=ot(t?o:tt(o),a.to),1==e))return n}return r&&{from:r,to:n}},ma.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Ci(n,(function(){var i=t.line,o=tt(t.line),a=en(n,o);if(a&&(cn(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!nr(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=Fr(r)-s;l&&et(i,i.height+l)}Ar(n,"markerChanged",n,e)}))},ma.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=U(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ma.prototype.detachLine=function(e){if(this.lines.splice(U(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(ma);var ya=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function va(e,t,r,n,i){(n=B(n)).shared=!1;var o=[ga(e,t,r,n,i)],a=o[0],s=n.widgetNode;return vo(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(ga(e,ht(e,t),ht(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Y(o)})),new ya(o,a)}function xa(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function ba(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(at(o,a)){var s=ga(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function _a(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];vo(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==U(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ar(this,"clear")}},ya.prototype.find=function(e,t){return this.primary.find(e,t)},_e(ya);var wa=0,Ea=function(e,t,r,n,i){if(!(this instanceof Ea))return new Ea(e,t,r,n,i);null==r&&(r=0),ca.call(this,[new ua([new lr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ot(r,0);this.sel=so(o),this.history=new wo(null),this.id=++wa,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),yo(this,{from:o,to:o,text:e}),Fo(this,so(o),G)};Ea.prototype=Q(ca.prototype,{constructor:Ea,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Di((function(e){var t=ot(this.first,0),r=this.first+this.size-1;Ko(this,{from:t,to:ot(r,Je(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&li(this.cm,0,0),Fo(this,so(t),G)})),replaceRange:function(e,t,r,n){ia(this,e,t=ht(this,t),r=r?ht(this,r):t,n)},getRange:function(e,t,r){var n=Ke(this,ht(this,e),ht(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Je(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Je(this,e)),Kt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Di((function(e,t,r){zo(this,ht(this,"number"==typeof e?ot(e,t||0):e),null,r)})),setSelection:Di((function(e,t,r){zo(this,ht(this,e),ht(this,t||e),r)})),extendSelection:Di((function(e,t,r){qo(this,ht(this,e),t&&ht(this,t),r)})),extendSelections:Di((function(e,t){Bo(this,dt(this,e),t)})),extendSelectionsBy:Di((function(e,t){Bo(this,dt(this,Z(this.sel.ranges,e)),t)})),setSelections:Di((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new oo(ht(this,e[i].anchor),ht(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Fo(this,ao(this.cm,n,t),r)}})),addSelection:Di((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new oo(ht(this,e),ht(this,t||e))),Fo(this,ao(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Ke(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Ke(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Di((function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&ho(this,n,t),l=n.length-1;l>=0;l--)Ko(this,n[l]);s?$o(this,s):this.cm&&si(this.cm)})),undo:Di((function(){ea(this,"undo")})),redo:Di((function(){ea(this,"redo")})),undoSelection:Di((function(){ea(this,"undo",!0)})),redoSelection:Di((function(){ea(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new wo(this.history),vo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(e){var t=this.history=new wo(this.history);t.done=Do(e.done.slice(0),null,!0),t.undone=Do(e.undone.slice(0),null,!0)},setGutterMarker:Di((function(e,t,r){return la(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&ne(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:Di((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&la(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,ne(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,!(e=Je(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Di((function(e,t,r){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(M(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:Di((function(e,t,r){return la(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(M(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Di((function(e,t,r){return fa(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ga(this,ht(this,e),ht(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ga(this,e=ht(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Je(this,(e=ht(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ht(this,e),t=ht(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),ht(this,ot(r,t))},indexFromPos:function(e){var t=(e=ht(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new Ea(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ea(Qe(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ba(n,xa(this)),n},unlinkDoc:function(e){if(e instanceof Bs&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),_a(xa(this));break}if(e.history==this.history){var r=[e.id];vo(e,(function(e){return r.push(e.id)}),!0),e.history=new wo(null),e.history.done=Do(this.history.done,r),e.history.undone=Do(this.history.undone,r)}},iterLinkedDocs:function(e){vo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):De(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Di((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&_o(this.cm))}))}),Ea.prototype.eachLine=Ea.prototype.iter;var Ma=0;function Sa(e){var t=this;if(Aa(t),!ve(t,e)&&!Gr(t.display,e)){we(e),a&&(Ma=+new Date);var r=Ln(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,l=function(){++s==i&&Ii(t,(function(){var e={from:r=ht(t.doc,r),to:r,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Ko(t.doc,e),$o(t.doc,so(ht(t.doc,r),ht(t.doc,lo(e))))}))()},u=function(e,r){if(t.options.allowDropFileTypes&&-1==U(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[r]=e),l()},n.readAsText(e)}},c=0;c<n.length;c++)u(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var p=e.dataTransfer.getData("Text");if(p){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Go(t.doc,so(r,r)),h)for(var f=0;f<h.length;++f)ia(t.doc,"",h[f].anchor,h[f].head,"drag");t.replaceSelection(p,"around","paste"),t.display.input.focus()}}catch(d){}}}}function Na(e,t){if(a&&(!e.state.draggingText||+new Date-Ma<100))Se(t);else if(!ve(e,t)&&!Gr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var r=T("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),p&&r.parentNode.removeChild(r)}}function ka(e,t){var r=Ln(e,t);if(r){var n=document.createDocumentFragment();Hn(e,r,n),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,n)}}function Aa(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ta(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Oa=!1;function Ca(){Oa||(Ia(),Oa=!0)}function Ia(){var e;de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ta(Ra)}),100))})),de(window,"blur",(function(){return Ta(Kn)}))}function Ra(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Da={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},La=0;La<10;La++)Da[La+48]=Da[La+96]=String(La);for(var qa=65;qa<=90;qa++)Da[qa]=String.fromCharCode(qa);for(var Ba=1;Ba<=12;Ba++)Da[Ba+111]=Da[Ba+63235]="F"+Ba;var Pa={};function za(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Ua(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Z(r.split(" "),za),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var u in t)e[u]=t[u];return e}function $a(e,t,r,n){var i=(t=Ha(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return $a(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=$a(e,t.fallthrough[o],r,n);if(a)return a}}}function Fa(e){var t="string"==typeof e?e:Da[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ga(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Va(e,t){if(p&&34==e.keyCode&&e.char)return!1;var r=Da[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ga(r,e,t))}function Ha(e){return"string"==typeof e?Pa[e]:e}function ja(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&at(o.from,Y(n).to)<=0;){var a=n.pop();if(at(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Ci(e,(function(){for(var t=n.length-1;t>=0;t--)ia(e.doc,"",n[t].from,n[t].to,"+delete");si(e)}))}function Wa(e,t,r){var n=ae(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Xa(e,t,r){var n=Wa(e,t.ch,r);return null==n?null:new ot(t.line,n,r<0?"after":"before")}function Ya(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=he(r,t.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=tn(t,r);a=i<0?r.text.length-1:0;var c=rn(t,u,a).top;a=se((function(e){return rn(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Wa(r,a,1))}else a=i<0?s.to:s.from;return new ot(n,a,l)}}return new ot(n,i<0?r.text.length:0,i<0?"before":"after")}function Za(e,t,r,n){var i=he(t,e.doc.direction);if(!i)return Xa(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=ce(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Xa(t,r,n);var s,l=function(e,r){return Wa(t,e instanceof ot?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||tn(e,t),Mn(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var p=1==a.level==n<0,h=l(r,p?1:-1);if(null!=h&&(p?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var f=p?"before":"after";return new ot(r.line,h,f)}}var d=function(e,t,n){for(var o=function(e,t){return t?new ot(r.line,l(e,1),"before"):new ot(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?n.begin:l(n.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},m=d(o+n,n,c);if(m)return m;var g=n>0?c.end:l(c.begin,-1);return null==g||n>0&&g==t.text.length||!(m=d(n>0?0:i.length-1,n,u(g)))?null:m}Pa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pa.default=v?Pa.macDefault:Pa.pcDefault;var Ja={selectAll:Zo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),G)},killLine:function(e){return ja(e,(function(t){if(t.empty()){var r=Je(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return ja(e,(function(t){return{from:ot(t.from().line,0),to:ht(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return ja(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return ja(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return ja(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ka(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),H)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),H)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?es(e,t.head):n}),H)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=P(e.getLine(o.line),o.ch,n);t.push(X(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ci(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Je(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ot(i.line,i.ch-1)),i.ch>0)i=new ot(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ot(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Je(e.doc,i.line-1).text;a&&(i=new ot(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(i.line-1,a.length-1),i,"+transpose"))}r.push(new oo(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return Ci(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);si(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ka(e,t){var r=Je(e.doc,t),n=Kt(r);return n!=r&&(t=tt(n)),Ya(!0,e,n,t,1)}function Qa(e,t){var r=Je(e.doc,t),n=Qt(r);return n!=r&&(t=tt(n)),Ya(!0,e,r,t,-1)}function es(e,t){var r=Ka(e,t.line),n=Je(e.doc,r.line),i=he(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return ot(r.line,a?0:o,r.sticky)}return r}function ts(e,t,r){if("string"==typeof t&&!(t=Ja[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=F}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function rs(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=$a(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&$a(t,e.options.extraKeys,r,e)||$a(t,e.options.keyMap,r,e)}var ns=new z;function is(e,t,r,n){var i=e.state.keySeq;if(i){if(Fa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ns.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),os(e,i+" "+t,r,n))return!0}return os(e,t,r,n)}function os(e,t,r,n){var i=rs(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Ar(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(we(r),Xn(e)),!!i}function as(e,t){var r=Va(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?is(e,"Shift-"+r,t,(function(t){return ts(e,t,!0)}))||is(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)})):is(e,r,t,(function(t){return ts(e,t)})))}function ss(e,t,r){return is(e,"'"+r+"'",t,(function(t){return ts(e,t,!0)}))}var ls=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=I(),ve(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=as(t,e);p&&(ls=i?n:null,i||88!=n||qe||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!v&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(N(t,"CodeMirror-crosshair"),ge(document,"keyup",r),ge(document,"mouseover",r))}R(t,"CodeMirror-crosshair"),de(document,"keyup",r),de(document,"mouseover",r)}function ps(e){16==e.keyCode&&(this.doc.sel.shift=!1),ve(this,e)}function hs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Gr(t.display,e)||ve(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(p&&r==ls)return ls=null,void we(e);if(!p||e.which&&!(e.which<10)||!as(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(ss(t,e,i)||t.display.input.onKeyPress(e))}}}var fs,ds,ms=400,gs=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ys(e,t){var r=+new Date;return ds&&ds.compare(r,e,t)?(fs=ds=null,"triple"):fs&&fs.compare(r,e,t)?(ds=new gs(r,e,t),fs=null,"double"):(fs=new gs(r,e,t),ds=null,"single")}function vs(e){var t=this,r=t.display;if(!(ve(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Gr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!ks(t,e)){var n=Ln(t,e),i=ke(e),o=n?ys(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&xs(t,i,n,o,e)||(1==i?n?_s(t,n,o,e):Ne(e)==r.scroller&&we(e):2==i?(n&&qo(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(E?t.display.input.onContextMenu(e):Zn(t)))}}function xs(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),is(e,Ga(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Ja[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=F}finally{e.state.suppressEdits=!1}return n}))}function bs(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=x?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=v?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(v?r.altKey:r.ctrlKey)),i}function _s(e,t,r,n){a?setTimeout(q(Yn,e),0):e.curOp.focus=I();var i,o=bs(e,r,n),s=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(at((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(at(i.to(),t)>0||t.xRel<0)?ws(e,n,t,o):Ms(e,n,t,o)}function ws(e,t,r,n){var i=e.display,o=!1,u=Ii(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Zn(e)),ge(i.wrapper.ownerDocument,"mouseup",u),ge(i.wrapper.ownerDocument,"mousemove",c),ge(i.scroller,"dragstart",p),ge(i.scroller,"drop",u),o||(we(t),n.addNew||qo(e.doc,r,null,null,n.extend),l&&!h||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},p=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!n.moveOnDrag,de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",p),de(i.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Es(e,t,r){if("char"==r)return new oo(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new oo(ot(t.line,0),ht(e.doc,ot(t.line+1,0)));var n=r(e,t);return new oo(n.from,n.to)}function Ms(e,t,r,n){a&&Zn(e);var i=e.display,o=e.doc;we(t);var s,l,u=o.sel,c=u.ranges;if(n.addNew&&!n.extend?(l=o.sel.contains(r),s=l>-1?c[l]:new oo(r,r)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new oo(r,r)),r=Ln(e,t,!0,!0),l=-1;else{var p=Es(e,r,n.unit);s=n.extend?Lo(s,p.anchor,p.head,n.extend):p}n.addNew?-1==l?(l=c.length,Fo(o,ao(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==n.unit&&!n.extend?(Fo(o,ao(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Po(o,l,s,V):(l=0,Fo(o,new io([s],0),V),u=o.sel);var h=r;function f(t){if(0!=at(h,t))if(h=t,"rectangle"==n.unit){for(var i=[],a=e.options.tabSize,c=P(Je(o,r.line).text,r.ch,a),p=P(Je(o,t.line).text,t.ch,a),f=Math.min(c,p),d=Math.max(c,p),m=Math.min(r.line,t.line),g=Math.min(e.lastLine(),Math.max(r.line,t.line));m<=g;m++){var y=Je(o,m).text,v=j(y,f,a);f==d?i.push(new oo(ot(m,v),ot(m,v))):y.length>v&&i.push(new oo(ot(m,v),ot(m,j(y,d,a))))}i.length||i.push(new oo(r,r)),Fo(o,ao(e,u.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,b=s,_=Es(e,t,n.unit),w=b.anchor;at(_.anchor,w)>0?(x=_.head,w=ct(b.from(),_.anchor)):(x=_.anchor,w=ut(b.to(),_.head));var E=u.ranges.slice(0);E[l]=Ss(e,new oo(ht(o,w),x)),Fo(o,ao(e,E,l),V)}}var d=i.wrapper.getBoundingClientRect(),m=0;function g(t){var r=++m,a=Ln(e,t,!0,"rectangle"==n.unit);if(a)if(0!=at(a,h)){e.curOp.focus=I(),f(a);var s=ti(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Ii(e,(function(){m==r&&g(t)})),150)}else{var l=t.clientY<d.top?-20:t.clientY>d.bottom?20:0;l&&setTimeout(Ii(e,(function(){m==r&&(i.scroller.scrollTop+=l,g(t))})),50)}}function y(t){e.state.selectingText=!1,m=1/0,t&&(we(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",v),ge(i.wrapper.ownerDocument,"mouseup",x),o.history.lastSelOrigin=null}var v=Ii(e,(function(e){0!==e.buttons&&ke(e)?g(e):y(e)})),x=Ii(e,y);e.state.selectingText=x,de(i.wrapper.ownerDocument,"mousemove",v),de(i.wrapper.ownerDocument,"mouseup",x)}function Ss(e,t){var r=t.anchor,n=t.head,i=Je(e.doc,r.line);if(0==at(r,n)&&r.sticky==n.sticky)return t;var o=he(i);if(!o)return t;var a=ce(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,u=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(o,n.ch,n.sticky),p=c-a||(n.ch-r.ch)*(1==s.level?-1:1);l=c==u-1||c==u?p<0:p>0}var h=o[u+(l?-1:0)],f=l==(1==h.level),d=f?h.from:h.to,m=f?"after":"before";return r.ch==d&&r.sticky==m?t:new oo(new ot(r.line,d,m),n)}function Ns(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&we(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!be(e,r))return Me(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return ye(e,r,e,rt(e.doc,o),e.display.gutterSpecs[l].className,t),Me(t)}}function ks(e,t){return Ns(e,t,"gutterClick",!0)}function As(e,t){Gr(e.display,t)||Ts(e,t)||ve(e,t,"contextmenu")||E||e.display.input.onContextMenu(t)}function Ts(e,t){return!!be(e,"gutterContextMenu")&&Ns(e,t,"gutterContextMenu",!1)}function Os(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hn(e)}gs.prototype.compare=function(e,t,r){return this.time+ms>e&&0==at(t,this.pos)&&r==this.button};var Cs={toString:function(){return"CodeMirror.Init"}},Is={},Rs={};function Ds(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=Cs&&i(e,t,r)}:i)}e.defineOption=r,e.Init=Cs,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,fo(e)}),!0),r("indentUnit",2,fo,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){mo(e),hn(e),Bn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(ot(n,o))}n++}));for(var i=r.length-1;i>=0;i--)ia(e.doc,t,r[i],ot(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Cs&&e.refresh()})),r("specialCharPlaceholder",mr,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!b),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){Os(e),Ji(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Ha(t),i=r!=Cs&&Ha(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,qs,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Ji(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?In(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return vi(e)}),!0),r("scrollbarStyle","native",(function(e){_i(e),vi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Ji(e)}),!0),r("firstLineNumber",1,Ji,!0),r("lineNumberFormatter",(function(e){return e}),Ji,!0),r("showCursorWhenSelecting",!1,Gn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(Kn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,Ls),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Gn,!0),r("singleCursorHeightPerLine",!0,Gn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,mo,!0),r("addModeClass",!1,mo,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,mo,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}function Ls(e,t,r){if(!t!=!(r&&r!=Cs)){var n=e.display.dragFunctions,i=t?de:ge;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function qs(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(N(e.display.wrapper,"CodeMirror-wrap"),sr(e)),Dn(e),Bn(e),hn(e),setTimeout((function(){return vi(e)}),100)}function Bs(e,t){var r=this;if(!(this instanceof Bs))return new Bs(e,t);this.options=t=t?B(t):{},B(Is,t,!1);var n=t.value;"string"==typeof n?n=new Ea(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Bs.inputStyles[t.inputStyle](this),o=this.display=new Ki(e,n,i,t);for(var u in o.wrapper.CodeMirror=this,Os(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),_i(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!y&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),Ps(this),Ca(),Ei(this),this.curOp.forceUpdate=!0,xo(this,n),t.autofocus&&!y||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Jn(r)}),20):Kn(this),Rs)Rs.hasOwnProperty(u)&&Rs[u](this,t[u],Cs);Xi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<zs.length;++c)zs[c](this);Mi(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Ps(e){var t=e.display;de(t.scroller,"mousedown",Ii(e,vs)),de(t.scroller,"dblclick",a&&s<11?Ii(e,(function(t){if(!ve(e,t)){var r=Ln(e,t);if(r&&!ks(e,t)&&!Gr(e.display,t)){we(t);var n=e.findWordAt(r);qo(e.doc,n.anchor,n.head)}}})):function(t){return ve(e,t)||we(t)}),de(t.scroller,"contextmenu",(function(t){return As(e,t)})),de(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||As(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}de(t.scroller,"touchstart",(function(i){if(!ve(e,i)&&!o(i)&&!ks(e,i)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Gr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!n.prev||l(n,n.prev)?new oo(a,a):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(a):new oo(ot(a.line,0),ht(e.doc,ot(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),we(r)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(hi(e,t.scroller.scrollTop),di(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return no(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return no(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ve(e,t)||Se(t)},over:function(t){ve(e,t)||(ka(e,t),Se(t))},start:function(t){return Na(e,t)},drop:Ii(e,Sa),leave:function(t){ve(e,t)||Aa(e)}};var u=t.input.getField();de(u,"keyup",(function(t){return ps.call(e,t)})),de(u,"keydown",Ii(e,us)),de(u,"keypress",Ii(e,hs)),de(u,"focus",(function(t){return Jn(e,t)})),de(u,"blur",(function(t){return Kn(e,t)}))}Bs.defaults=Is,Bs.optionHandlers=Rs;var zs=[];function Us(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=xt(e,t).state:r="prev");var a=e.options.tabSize,s=Je(o,t),l=P(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==F||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?P(Je(o,t-1).text,null,a):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var p="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)h+=a,p+="\t";if(h<u&&(p+=X(u-h)),p!=c)return ia(o,p,ot(t,0),ot(t,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var m=o.sel.ranges[d];if(m.head.line==t&&m.head.ch<c.length){var g=ot(t,c.length);Po(o,d,new oo(g,g));break}}}Bs.defineInitHook=function(e){return zs.push(e)};var $s=null;function Fs(e){$s=e}function Gs(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=De(t),u=null;if(s&&n.ranges.length>1)if($s&&$s.text.join("\n")==t){if(n.ranges.length%$s.text.length==0){u=[];for(var c=0;c<$s.text.length;c++)u.push(o.splitLines($s.text[c]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=Z(l,(function(e){return[e]})));for(var p=e.curOp.updateInput,h=n.ranges.length-1;h>=0;h--){var f=n.ranges[h],d=f.from(),m=f.to();f.empty()&&(r&&r>0?d=ot(d.line,d.ch-r):e.state.overwrite&&!s?m=ot(m.line,Math.min(Je(o,m.line).text.length,m.ch+Y(l).length)):s&&$s&&$s.lineWise&&$s.text.join("\n")==l.join("\n")&&(d=m=ot(d.line,0)));var g={from:d,to:m,text:u?u[h%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Ko(e.doc,g),Ar(e,"inputRead",e,g)}t&&!s&&Hs(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=p),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ci(t,(function(){return Gs(t,r,0,null,"paste")})),!0}function Hs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Us(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Je(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Us(e,i.head.line,"smart"));a&&Ar(e,"electricInput",e,i.head.line)}}}function js(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:ot(i,0),head:ot(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Ws(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Xs(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ws(e),t}function Ys(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&Ii(this,t[e])(this,r,i),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ha(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Ri((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,Bn(this)})),removeOverlay:Ri((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Bn(this)}})),indentLine:Ri((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&Us(this,e,t,r)})),indentSelection:Ri((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Us(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&si(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)Us(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&Po(this.doc,n,new oo(o,u[n].to()),G)}}})),getTokenAt:function(e,t){return Mt(this,e,t)},getLineTokens:function(e,t){return Mt(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,r=vt(this,Je(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==U(n,u.val)&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return xt(this,(e=pt(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return xn(this,null==e?r.head:"object"==typeof e?ht(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return vn(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return wn(this,(e=yn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=yn(this,{top:e,left:0},t||"page").top,rt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=Je(this.doc,e)}else n=e;return gn(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-or(n):0)},defaultTextHeight:function(){return Tn(this.display)},defaultCharWidth:function(){return On(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display,a=(e=xn(this,ht(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&ii(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ri(us),triggerOnKeyPress:Ri(hs),triggerOnKeyUp:ps,triggerOnMouseDown:Ri(vs),execCommand:function(e){if(Ja.hasOwnProperty(e))return Ja[e].call(null,this)},triggerElectric:Ri((function(e){Hs(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=ht(this.doc,e),a=0;a<t&&!(o=Zs(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:Ri((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Zs(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),H)})),deleteH:Ri((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):ja(this,(function(r){var i=Zs(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=ht(this.doc,e),s=0;s<t;++s){var l=xn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Js(this,l,i,r)).hitSide)break}return a},moveV:Ri((function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=xn(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Js(r,s,e,t);return"page"==t&&a==n.sel.primary()&&ai(r,vn(r,l,"div").top-s.top),l}),H),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Je(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=re(o,i)?function(e){return re(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!re(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new oo(ot(e.line,r),ot(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):N(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==I()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ri((function(e,t){li(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Wr(this)-this.display.barHeight,width:e.scrollWidth-Wr(this)-this.display.barWidth,clientHeight:Yr(this),clientWidth:Xr(this)}},scrollIntoView:Ri((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ui(this,e):pi(this,e.from,e.to,e.margin)})),setSize:Ri((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&pn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pn(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,ye(this,"refresh",this)})),operation:function(e){return Ci(this,e)},startOperation:function(){return Ei(this)},endOperation:function(){return Mi(this)},refresh:Ri((function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,hn(this),li(this,this.doc.scrollLeft,this.doc.scrollTop),Hi(this.display),(null==e||Math.abs(e-Tn(this.display))>.5||this.options.lineWrapping)&&Dn(this),ye(this,"refresh",this)})),swapDoc:Ri((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),xo(this,e),hn(this),this.display.input.reset(),li(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ar(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_e(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function Zs(e,t,r,n,i){var o=t,a=r,s=Je(e,t.line),l=i&&"rtl"==e.direction?-r:r;function u(){var r=t.line+l;return!(r<e.first||r>=e.first+e.size)&&(t=new ot(r,t.ch,t.sticky),s=Je(e,r))}function c(o){var a;if("codepoint"==n){var c=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(c))a=null;else{var p=r>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new ot(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(p?2:1))),-r)}}else a=i?Za(e.cm,s,t,r):Xa(s,t,r);if(null==a){if(o||!u())return!1;t=Ya(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n||"codepoint"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var p=null,h="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||c(!d);d=!1){var m=s.text.charAt(t.ch)||"\n",g=re(m,f)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||d||g||(g="s"),p&&p!=g){r<0&&(r=1,c(),t.sticky="after");break}if(g&&(p=g),r>0&&!c(!d))break}var y=Xo(e,t,o,a,!0);return st(o,y)&&(y.hitSide=!0),y}function Js(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Tn(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=wn(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var Ks=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qs(e,t){var r=en(e,t.line);if(!r||r.hidden)return null;var n=Je(e.doc,t.line),i=Jr(r,n,t.line),o=he(n,e.doc.direction),a="left";o&&(a=ce(o,t.ch)%2?"right":"left");var s=an(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function rl(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function p(e){e&&(c(),o+=e)}function h(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void p(r);var o,f=t.getAttribute("cm-marker");if(f){var d=e.findMarks(ot(n,0),ot(i+1,0),u(+f));return void(d.length&&(o=d[0].find(0))&&p(Ke(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&p(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=r;)t=t.nextSibling,l=!1;return o}function nl(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return tl(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return il(o,t,r)}}function il(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!C(n,t))return tl(ot(tt(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Y(e.rest):e.line;return tl(ot(tt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var c=tt(i<0?e.line:e.rest[i]),p=o[a]+n;return(n<0||s!=t)&&(p=o[a+(n?1:0)]),ot(c,p)}}}var p=c(a,s,r);if(p)return tl(p,i);for(var h=s.nextSibling,f=a?a.nodeValue.length-r:0;h;h=h.nextSibling){if(p=c(h,h.firstChild,0))return tl(ot(p.line,p.ch-f),i);f+=h.textContent.length}for(var d=s.previousSibling,m=r;d;d=d.previousSibling){if(p=c(d,d.firstChild,-1))return tl(ot(p.line,p.ch+m),i);m+=d.textContent.length}}Ks.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ve(n,e)){if(n.somethingSelected())Fs({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=js(n);Fs({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,G),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=$s.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Xs(),l=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=$s.text.join("\n");var u=I();L(l),setTimeout((function(){n.display.lineSpace.removeChild(s),u.focus(),u==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,Ws(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),de(i,"paste",(function(e){!o(e)||ve(n,e)||Vs(e,n)||s<=11&&setTimeout(Ii(n,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return r.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",a),de(i,"cut",a)},Ks.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ks.prototype.prepareSelection=function(){var e=Vn(this.cm,!1);return e.focus=I()==this.div,e},Ks.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ks.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ks.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=nl(t,e.anchorNode,e.anchorOffset),s=nl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=at(ct(a,s),i)||0!=at(ut(a,s),o)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Qs(t,i)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Qs(t,o);if(!c){var p=l[l.length-1].measure,h=p.maps?p.maps[p.maps.length-1]:p.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(u&&c){var f,d=e.rangeCount&&e.getRangeAt(0);try{f=S(u.node,u.offset,c.offset,c.node)}catch(Re){}f&&(!r&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ks.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ks.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Ks.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ks.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return C(this.div,t)},Ks.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&I()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ks.prototype.blur=function(){this.div.blur()},Ks.prototype.getField=function(){return this.div},Ks.prototype.supportsTouch=function(){return!0},Ks.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Ci(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Ks.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ks.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=nl(t,e.anchorNode,e.anchorOffset),n=nl(t,e.focusNode,e.focusOffset);r&&n&&Ci(t,(function(){Fo(t.doc,so(r,n),G),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ks.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=ot(a.line-1,Je(n.doc,a.line-1).length)),s.ch==Je(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=ot(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=qn(n,a.line))?(t=tt(i.view[0].line),r=i.view[0].node):(t=tt(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,u,c=qn(n,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=tt(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!r)return!1;for(var p=n.doc.splitLines(rl(n,r,u,t,l)),h=Ke(n.doc,ot(t,0),ot(l,Je(n.doc,l).text.length));p.length>1&&h.length>1;)if(Y(p)==Y(h))p.pop(),h.pop(),l--;else{if(p[0]!=h[0])break;p.shift(),h.shift(),t++}for(var f=0,d=0,m=p[0],g=h[0],y=Math.min(m.length,g.length);f<y&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var v=Y(p),x=Y(h),b=Math.min(v.length-(1==p.length?f:0),x.length-(1==h.length?f:0));d<b&&v.charCodeAt(v.length-d-1)==x.charCodeAt(x.length-d-1);)++d;if(1==p.length&&1==h.length&&t==a.line)for(;f&&f>a.ch&&v.charCodeAt(v.length-d-1)==x.charCodeAt(x.length-d-1);)f--,d++;p[p.length-1]=v.slice(0,v.length-d).replace(/^\u200b+/,""),p[0]=p[0].slice(f).replace(/\u200b+$/,"");var _=ot(t,f),w=ot(l,h.length?Y(h).length-d:0);return p.length>1||p[0]||at(_,w)?(ia(n.doc,p,_,w,"+input"),!0):void 0},Ks.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ks.prototype.reset=function(){this.forceCompositionEnd()},Ks.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ks.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ks.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ci(this.cm,(function(){return Bn(e.cm)}))},Ks.prototype.setUneditable=function(e){e.contentEditable="false"},Ks.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ii(this.cm,Gs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ks.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ks.prototype.onContextMenu=function(){},Ks.prototype.resetPosition=function(){},Ks.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};function al(e,t){if((t=t?B(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=I();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(Re){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Bs((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function sl(e){e.off=ge,e.on=de,e.wheelEventPixels=ro,e.Doc=Ea,e.splitLines=De,e.countColumn=P,e.findColumn=j,e.isWordChar=te,e.Pass=F,e.signal=ye,e.Line=lr,e.changeEnd=lo,e.scrollbarModel=bi,e.Pos=ot,e.cmpPos=at,e.modes=ze,e.mimeModes=Ue,e.resolveMode=Ge,e.getMode=Ve,e.modeExtensions=He,e.extendMode=je,e.copyState=We,e.startState=Ye,e.innerMode=Xe,e.commands=Ja,e.keyMap=Pa,e.keyName=Va,e.isModifierKey=Fa,e.lookupKey=$a,e.normalizeKeyMap=Ua,e.StringStream=Ze,e.SharedTextMarker=ya,e.TextMarker=ma,e.LineWidget=pa,e.e_preventDefault=we,e.e_stopPropagation=Ee,e.e_stop=Se,e.addClass=R,e.contains=C,e.rmClass=N,e.keyNames=Da}ol.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ve(n,e)){if(n.somethingSelected())Fs({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=js(n);Fs({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,G):(r.prevInput="",i.value=t.text.join("\n"),L(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),de(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),de(i,"paste",(function(e){ve(n,e)||Vs(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),de(i,"cut",o),de(i,"copy",o),de(e.scroller,"paste",(function(t){if(!Gr(e,t)&&!ve(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),de(e.lineSpace,"selectstart",(function(t){Gr(e,t)||we(t)})),de(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},ol.prototype.createField=function(e){this.wrapper=Xs(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Vn(e);if(e.options.moveInputWithCursor){var i=xn(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},ol.prototype.showSelection=function(e){var t=this.cm.display;A(t.cursorDiv,e.cursors),A(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&L(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||I()!=this.textarea))try{this.textarea.focus()}catch(Re){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ol.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},ol.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Le(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||v&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(n.length,i.length);l<u&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Ci(t,(function(){Gs(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Ln(r,e),u=n.scroller.scrollTop;if(o&&!p){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&Ii(r,Fo)(r.doc,so(o),G);var c,h=i.style.cssText,f=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),n.input.focus(),l&&window.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&g(),E){Se(e);var m=function(){ge(window,"mouseup",m),setTimeout(y,20)};de(window,"mouseup",m)}else setTimeout(y,50)}function g(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=h,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&g();var e=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Ii(r,Zo)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Ds(Bs),Ys(Bs);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in Ea.prototype)Ea.prototype.hasOwnProperty(ul)&&U(ll,ul)<0&&(Bs.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ea.prototype[ul]));return _e(Ea),Bs.inputStyles={textarea:ol,contenteditable:Ks},Bs.defineMode=function(e){Bs.defaults.mode||"null"==e||(Bs.defaults.mode=e),$e.apply(this,arguments)},Bs.defineMIME=Fe,Bs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Bs.defineMIME("text/plain","null"),Bs.defineExtension=function(e,t){Bs.prototype[e]=t},Bs.defineDocExtension=function(e,t){Ea.prototype[e]=t},Bs.fromTextArea=al,sl(Bs),Bs.version="5.61.0",Bs}()},18934:(e,t,r)=>{!function(e){"use strict";function t(e){for(var t={},r=0;r<e.length;++r)t[e[r].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,r){var n=r.inline;r.propertyKeywords||(r=e.resolveMode("text/css"));var i,o,a=t.indentUnit,s=r.tokenHooks,l=r.documentTypes||{},u=r.mediaTypes||{},c=r.mediaFeatures||{},p=r.mediaValueKeywords||{},h=r.propertyKeywords||{},f=r.nonStandardPropertyKeywords||{},d=r.fontProperties||{},m=r.counterDescriptors||{},g=r.colorKeywords||{},y=r.valueKeywords||{},v=r.allowNested,x=r.lineComment,b=!0===r.supportsAtComponent,_=!1!==t.highlightNonStandardPropertyKeywords;function w(e,t){return i=t,e}function E(e,t){var r=e.next();if(s[r]){var n=s[r](e,t);if(!1!==n)return n}return"@"==r?(e.eatWhile(/[\w\\\-]/),w("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?w(null,"compare"):'"'==r||"'"==r?(t.tokenize=M(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),w("atom","hash")):"!"==r?(e.match(/^\s*\w*/),w("keyword","important")):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),w("number","unit")):"-"!==r?/[,+>*\/]/.test(r)?w(null,"select-op"):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?w("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(r)?w(null,r):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=S),w("variable callee","variable")):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),w("property","word")):w(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),w("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?w("variable-2","variable-definition"):w("variable-2","variable")):e.match(/^\w+-/)?w("meta","meta"):void 0}function M(e){return function(t,r){for(var n,i=!1;null!=(n=t.next());){if(n==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==n}return(n==e||!i&&")"!=e)&&(r.tokenize=null),w("string","string")}}function S(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=M(")"),w(null,"(")}function N(e,t,r){this.type=e,this.indent=t,this.prev=r}function k(e,t,r,n){return e.context=new N(r,t.indentation()+(!1===n?0:a),e.context),r}function A(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,r){return I[r.context.type](e,t,r)}function O(e,t,r,n){for(var i=n||1;i>0;i--)r.context=r.context.prev;return T(e,t,r)}function C(e){var t=e.current().toLowerCase();o=y.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var I={top:function(e,t,r){if("{"==e)return k(r,t,"block");if("}"==e&&r.context.prev)return A(r);if(b&&/@component/i.test(e))return k(r,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return k(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return k(r,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return k(r,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return k(r,t,"interpolation");if(":"==e)return"pseudo";if(v&&"("==e)return k(r,t,"parens")}return r.context.type},block:function(e,t,r){if("word"==e){var n=t.current().toLowerCase();return h.hasOwnProperty(n)?(o="property","maybeprop"):f.hasOwnProperty(n)?(o=_?"string-2":"property","maybeprop"):v?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":v||"hash"!=e&&"qualifier"!=e?I.top(e,t,r):(o="error","block")},maybeprop:function(e,t,r){return":"==e?k(r,t,"prop"):T(e,t,r)},prop:function(e,t,r){if(";"==e)return A(r);if("{"==e&&v)return k(r,t,"propBlock");if("}"==e||"{"==e)return O(e,t,r);if("("==e)return k(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)C(t);else if("interpolation"==e)return k(r,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?A(r):"word"==e?(o="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?O(e,t,r):")"==e?A(r):"("==e?k(r,t,"parens"):"interpolation"==e?k(r,t,"interpolation"):("word"==e&&C(t),"parens")},pseudo:function(e,t,r){return"meta"==e?"pseudo":"word"==e?(o="variable-3",r.context.type):T(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",r.context.type):I.atBlock(e,t,r)},atBlock:function(e,t,r){if("("==e)return k(r,t,"atBlock_parens");if("}"==e||";"==e)return O(e,t,r);if("{"==e)return A(r)&&k(r,t,v?"block":"top");if("interpolation"==e)return k(r,t,"interpolation");if("word"==e){var n=t.current().toLowerCase();o="only"==n||"not"==n||"and"==n||"or"==n?"keyword":u.hasOwnProperty(n)?"attribute":c.hasOwnProperty(n)?"property":p.hasOwnProperty(n)?"keyword":h.hasOwnProperty(n)?"property":f.hasOwnProperty(n)?_?"string-2":"property":y.hasOwnProperty(n)?"atom":g.hasOwnProperty(n)?"keyword":"error"}return r.context.type},atComponentBlock:function(e,t,r){return"}"==e?O(e,t,r):"{"==e?A(r)&&k(r,t,v?"block":"top",!1):("word"==e&&(o="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?A(r):"{"==e||"}"==e?O(e,t,r,2):I.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?k(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,A(r)):"word"==e?(o="@font-face"==r.stateArg&&!d.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(o="variable","keyframes"):"{"==e?k(r,t,"top"):T(e,t,r)},at:function(e,t,r){return";"==e?A(r):"{"==e||"}"==e?O(e,t,r):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?A(r):"{"==e||";"==e?O(e,t,r):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new N(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var r=(t.tokenize||E)(e,t);return r&&"object"==typeof r&&(i=r[1],r=r[0]),o=r,"comment"!=i&&(t.state=I[t.state](i,e,t)),o},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),i=r.indent;return"prop"!=r.type||"}"!=n&&")"!=n||(r=r.prev),r.prev&&("}"!=n||"block"!=r.type&&"top"!=r.type&&"interpolation"!=r.type&&"restricted_atBlock"!=r.type?(")"!=n||"parens"!=r.type&&"atBlock_parens"!=r.type)&&("{"!=n||"at"!=r.type&&"atBlock"!=r.type)||(i=Math.max(0,r.indent-a)):i=(r=r.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:x,fold:"brace"}}));var r=["domain","regexp","url","url-prefix"],n=t(r),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],u=t(l),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(c),h=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=t(h),d=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=t(g),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(v),b=r.concat(i).concat(a).concat(l).concat(c).concat(h).concat(g).concat(v);function _(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}e.registerHelper("hintWords","css",b),e.defineMIME("text/css",{documentTypes:n,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:d,counterDescriptors:m,colorKeywords:y,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:y,valueKeywords:x,fontProperties:d,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:y,valueKeywords:x,fontProperties:d,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=_,_(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:o,mediaFeatures:s,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:d,counterDescriptors:m,colorKeywords:y,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=_,_(e,t))}},name:"css",helperType:"gss"})}(r(53791))},57456:(e,t,r)=>{!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function r(e,t,r){var n=e.current(),i=n.search(t);return i>-1?e.backUp(n.length-i):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n)),r}var n={};function i(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function o(e,t){var r=e.match(i(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),i=e[r],o=i.length-1;o>=0;o--)n.unshift(i[o])}function l(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n[0]||n[1].test(o(t,n[0])))return n[2]}}e.defineMode("htmlmixed",(function(n,i){var o=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:i.multilineTagIndentFactor,multilineTagIndentPastTag:i.multilineTagIndentPastTag,allowMissingTagName:i.allowMissingTagName}),u={},c=i&&i.tags,p=i&&i.scriptTypes;if(s(t,u),c&&s(c,u),p)for(var h=p.length-1;h>=0;h--)u.script.unshift(["type",p[h].matches,p[h].mode]);function f(t,i){var s,c=o.token(t,i.htmlState),p=/\btag\b/.test(c);if(p&&!/[<>\s\/]/.test(t.current())&&(s=i.htmlState.tagName&&i.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(s))i.inTag=s+" ";else if(i.inTag&&p&&/>$/.test(t.current())){var h=/^([\S]+) (.*)/.exec(i.inTag);i.inTag=null;var d=">"==t.current()&&l(u[h[1]],h[2]),m=e.getMode(n,d),g=a(h[1],!0),y=a(h[1],!1);i.token=function(e,t){return e.match(g,!1)?(t.token=f,t.localState=t.localMode=null,null):r(e,y,t.localMode.token(e,t.localState))},i.localMode=m,i.localState=e.startState(m,o.indent(i.htmlState,"",""))}else i.inTag&&(i.inTag+=t.current(),t.eol()&&(i.inTag+=" "));return c}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:e.startState(o)}},copyState:function(t){var r;return t.localState&&(r=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:r,htmlState:e.copyState(o,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,r,n){return!t.localMode||/^\s*<\//.test(r)?o.indent(t.htmlState,r,n):t.localMode.indent?t.localMode.indent(t.localState,r,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||o}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(r(53791),r(12310),r(25027),r(18934))},25027:(e,t,r)=>{!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,o=t.indentUnit,a=r.statementIndent,s=r.jsonld,l=r.json||s,u=!1!==r.trackScope,c=r.typescript,p=r.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function g(e,t,r){return n=e,i=r,t}function y(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=v(r),t.tokenize(e,t);if("."==r&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return g("number","number");if("."==r&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return g(r);if("="==r&&e.eat(">"))return g("=>","operator");if("0"==r&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return g("number","number");if(/\d/.test(r))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),g("number","number");if("/"==r)return e.eat("*")?(t.tokenize=x,x(e,t)):e.eat("/")?(e.skipToEnd(),g("comment","comment")):rt(e,t,1)?(m(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(e.eat("="),g("operator","operator",e.current()));if("`"==r)return t.tokenize=b,b(e,t);if("#"==r&&"!"==e.peek())return e.skipToEnd(),g("meta","meta");if("#"==r&&e.eatWhile(p))return g("variable","property");if("<"==r&&e.match("!--")||"-"==r&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),g("comment","comment");if(f.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-|&?]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),"?"==r&&e.eat(".")?g("."):g("operator","operator",e.current());if(p.test(r)){e.eatWhile(p);var n=e.current();if("."!=t.lastType){if(h.propertyIsEnumerable(n)){var i=h[n];return g(i.type,i.style,n)}if("async"==n&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",n)}return g("variable","variable",n)}}function v(e){return function(t,r){var n,i=!1;if(s&&"@"==t.peek()&&t.match(d))return r.tokenize=y,g("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||i);)i=!i&&"\\"==n;return i||(r.tokenize=y),g("string","string")}}function x(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=y;break}n="*"==r}return g("comment","comment")}function b(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=y;break}n=!n&&"\\"==r}return g("quasi","string-2",e.current())}var _="([{}])";function w(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,o=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),l=_.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(p.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var E={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function M(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function S(e,t){if(!u)return!1;for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}function N(e,t,r,n,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?H:G)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==r&&S(e,n)?"variable-2":t}}var k={state:null,column:null,marked:null,cc:null};function A(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function T(){return A.apply(null,arguments),!0}function O(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function C(e){var t=k.state;if(k.marked="def",u){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=I(e,t.context);if(null!=n)return void(t.context=n)}else if(!O(e,t.localVars))return void(t.localVars=new L(e,t.localVars));r.globalVars&&!O(e,t.globalVars)&&(t.globalVars=new L(e,t.globalVars))}}function I(e,t){if(t){if(t.block){var r=I(e,t.prev);return r?r==t.prev?t:new D(r,t.vars,!0):null}return O(e,t.vars)?t:new D(t.prev,new L(e,t.vars),!1)}return null}function R(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function D(e,t,r){this.prev=e,this.vars=t,this.block=r}function L(e,t){this.name=e,this.next=t}var q=new L("this",new L("arguments",null));function B(){k.state.context=new D(k.state.context,k.state.localVars,!1),k.state.localVars=q}function P(){k.state.context=new D(k.state.context,k.state.localVars,!0),k.state.localVars=null}function z(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function U(e,t){var r=function(){var r=k.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new M(n,k.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function $(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function F(e){function t(r){return r==e?T():";"==e||"}"==r||")"==r||"]"==r?A():T(t)}return t}function G(e,t){return"var"==e?T(U("vardef",t),Ne,F(";"),$):"keyword a"==e?T(U("form"),W,G,$):"keyword b"==e?T(U("form"),G,$):"keyword d"==e?k.stream.match(/^\s*$/,!1)?T():T(U("stat"),Y,F(";"),$):"debugger"==e?T(F(";")):"{"==e?T(U("}"),P,he,$,z):";"==e?T():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==$&&k.state.cc.pop()(),T(U("form"),W,G,$,Ie)):"function"==e?T(qe):"for"==e?T(U("form"),P,Re,G,z,$):"class"==e||c&&"interface"==t?(k.marked="keyword",T(U("form","class"==e?e:t),$e,$)):"variable"==e?c&&"declare"==t?(k.marked="keyword",T(G)):c&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?T(Qe):"type"==t?T(Pe,F("operator"),ye,F(";")):T(U("form"),ke,F("{"),U("}"),he,$,$)):c&&"namespace"==t?(k.marked="keyword",T(U("form"),H,G,$)):c&&"abstract"==t?(k.marked="keyword",T(G)):T(U("stat"),oe):"switch"==e?T(U("form"),W,F("{"),U("}","switch"),P,he,$,$,z):"case"==e?T(H,F(":")):"default"==e?T(F(":")):"catch"==e?T(U("form"),B,V,G,$,z):"export"==e?T(U("stat"),He,$):"import"==e?T(U("stat"),We,$):"async"==e?T(G):"@"==t?T(H,G):A(U("stat"),H,F(";"),$)}function V(e){if("("==e)return T(ze,F(")"))}function H(e,t){return X(e,t,!1)}function j(e,t){return X(e,t,!0)}function W(e){return"("!=e?A():T(U(")"),Y,F(")"),$)}function X(e,t,r){if(k.state.fatArrowAt==k.stream.start){var n=r?te:ee;if("("==e)return T(B,U(")"),ce(ze,")"),$,F("=>"),n,z);if("variable"==e)return A(B,ke,F("=>"),n,z)}var i=r?J:Z;return E.hasOwnProperty(e)?T(i):"function"==e?T(qe,i):"class"==e||c&&"interface"==t?(k.marked="keyword",T(U("form"),Ue,$)):"keyword c"==e||"async"==e?T(r?j:H):"("==e?T(U(")"),Y,F(")"),$,i):"operator"==e||"spread"==e?T(r?j:H):"["==e?T(U("]"),Ke,$,i):"{"==e?pe(se,"}",null,i):"quasi"==e?A(K,i):"new"==e?T(re(r)):T()}function Y(e){return e.match(/[;\}\)\],]/)?A():A(H)}function Z(e,t){return","==e?T(Y):J(e,t,!1)}function J(e,t,r){var n=0==r?Z:J,i=0==r?H:j;return"=>"==e?T(B,r?te:ee,z):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?T(n):c&&"<"==t&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(U(">"),ce(ye,">"),$,n):"?"==t?T(H,F(":"),i):T(i):"quasi"==e?A(K,n):";"!=e?"("==e?pe(j,")","call",n):"."==e?T(ae,n):"["==e?T(U("]"),Y,F("]"),$,n):c&&"as"==t?(k.marked="keyword",T(ye,n)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),T(i)):void 0:void 0}function K(e,t){return"quasi"!=e?A():"${"!=t.slice(t.length-2)?T(K):T(H,Q)}function Q(e){if("}"==e)return k.marked="string-2",k.state.tokenize=b,T(K)}function ee(e){return w(k.stream,k.state),A("{"==e?G:H)}function te(e){return w(k.stream,k.state),A("{"==e?G:j)}function re(e){return function(t){return"."==t?T(e?ie:ne):"variable"==t&&c?T(Ee,e?J:Z):A(e?j:H)}}function ne(e,t){if("target"==t)return k.marked="keyword",T(Z)}function ie(e,t){if("target"==t)return k.marked="keyword",T(J)}function oe(e){return":"==e?T($,G):A(Z,F(";"),$)}function ae(e){if("variable"==e)return k.marked="property",T()}function se(e,t){return"async"==e?(k.marked="property",T(se)):"variable"==e||"keyword"==k.style?(k.marked="property","get"==t||"set"==t?T(le):(c&&k.state.fatArrowAt==k.stream.start&&(r=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+r[0].length),T(ue))):"number"==e||"string"==e?(k.marked=s?"property":k.style+" property",T(ue)):"jsonld-keyword"==e?T(ue):c&&R(t)?(k.marked="keyword",T(se)):"["==e?T(H,fe,F("]"),ue):"spread"==e?T(j,ue):"*"==t?(k.marked="keyword",T(se)):":"==e?A(ue):void 0;var r}function le(e){return"variable"!=e?A(ue):(k.marked="property",T(qe))}function ue(e){return":"==e?T(j):"("==e?A(qe):void 0}function ce(e,t,r){function n(i,o){if(r?r.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T((function(r,n){return r==t||n==t?A():A(e)}),n)}return i==t||o==t?T():r&&r.indexOf(";")>-1?A(e):T(F(t))}return function(r,i){return r==t||i==t?T():A(e,n)}}function pe(e,t,r){for(var n=3;n<arguments.length;n++)k.cc.push(arguments[n]);return T(U(t,r),ce(e,t),$)}function he(e){return"}"==e?T():A(G,he)}function fe(e,t){if(c){if(":"==e)return T(ye);if("?"==t)return T(fe)}}function de(e,t){if(c&&(":"==e||"in"==t))return T(ye)}function me(e){if(c&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?T(H,ge,ye):T(ye)}function ge(e,t){if("is"==t)return k.marked="keyword",T()}function ye(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(k.marked="keyword",T("typeof"==t?j:ye)):"variable"==e||"void"==t?(k.marked="type",T(we)):"|"==t||"&"==t?T(ye):"string"==e||"number"==e||"atom"==e?T(we):"["==e?T(U("]"),ce(ye,"]",","),$,we):"{"==e?T(U("}"),xe,$,we):"("==e?T(ce(_e,")"),ve,we):"<"==e?T(ce(ye,">"),ye):void 0}function ve(e){if("=>"==e)return T(ye)}function xe(e){return e.match(/[\}\)\]]/)?T():","==e||";"==e?T(xe):A(be,xe)}function be(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",T(be)):"?"==t||"number"==e||"string"==e?T(be):":"==e?T(ye):"["==e?T(F("variable"),de,F("]"),be):"("==e?A(Be,be):e.match(/[;\}\)\],]/)?void 0:T()}function _e(e,t){return"variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?T(_e):":"==e?T(ye):"spread"==e?T(_e):A(ye)}function we(e,t){return"<"==t?T(U(">"),ce(ye,">"),$,we):"|"==t||"."==e||"&"==t?T(ye):"["==e?T(ye,F("]"),we):"extends"==t||"implements"==t?(k.marked="keyword",T(ye)):"?"==t?T(ye,F(":"),ye):void 0}function Ee(e,t){if("<"==t)return T(U(">"),ce(ye,">"),$,we)}function Me(){return A(ye,Se)}function Se(e,t){if("="==t)return T(ye)}function Ne(e,t){return"enum"==t?(k.marked="keyword",T(Qe)):A(ke,fe,Oe,Ce)}function ke(e,t){return c&&R(t)?(k.marked="keyword",T(ke)):"variable"==e?(C(t),T()):"spread"==e?T(ke):"["==e?pe(Te,"]"):"{"==e?pe(Ae,"}"):void 0}function Ae(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?T(ke):"}"==e?A():"["==e?T(H,F("]"),F(":"),Ae):T(F(":"),ke,Oe)):(C(t),T(Oe))}function Te(){return A(ke,Oe)}function Oe(e,t){if("="==t)return T(j)}function Ce(e){if(","==e)return T(Ne)}function Ie(e,t){if("keyword b"==e&&"else"==t)return T(U("form","else"),G,$)}function Re(e,t){return"await"==t?T(Re):"("==e?T(U(")"),De,$):void 0}function De(e){return"var"==e?T(Ne,Le):"variable"==e?T(Le):A(Le)}function Le(e,t){return")"==e?T():";"==e?T(Le):"in"==t||"of"==t?(k.marked="keyword",T(H,Le)):A(H,Le)}function qe(e,t){return"*"==t?(k.marked="keyword",T(qe)):"variable"==e?(C(t),T(qe)):"("==e?T(B,U(")"),ce(ze,")"),$,me,G,z):c&&"<"==t?T(U(">"),ce(Me,">"),$,qe):void 0}function Be(e,t){return"*"==t?(k.marked="keyword",T(Be)):"variable"==e?(C(t),T(Be)):"("==e?T(B,U(")"),ce(ze,")"),$,me,z):c&&"<"==t?T(U(">"),ce(Me,">"),$,Be):void 0}function Pe(e,t){return"keyword"==e||"variable"==e?(k.marked="type",T(Pe)):"<"==t?T(U(">"),ce(Me,">"),$):void 0}function ze(e,t){return"@"==t&&T(H,ze),"spread"==e?T(ze):c&&R(t)?(k.marked="keyword",T(ze)):c&&"this"==e?T(fe,Oe):A(ke,fe,Oe)}function Ue(e,t){return"variable"==e?$e(e,t):Fe(e,t)}function $e(e,t){if("variable"==e)return C(t),T(Fe)}function Fe(e,t){return"<"==t?T(U(">"),ce(Me,">"),$,Fe):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(k.marked="keyword"),T(c?ye:H,Fe)):"{"==e?T(U("}"),Ge,$):void 0}function Ge(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&R(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",T(Ge)):"variable"==e||"keyword"==k.style?(k.marked="property",T(Ve,Ge)):"number"==e||"string"==e?T(Ve,Ge):"["==e?T(H,fe,F("]"),Ve,Ge):"*"==t?(k.marked="keyword",T(Ge)):c&&"("==e?A(Be,Ge):";"==e||","==e?T(Ge):"}"==e?T():"@"==t?T(H,Ge):void 0}function Ve(e,t){if("?"==t)return T(Ve);if(":"==e)return T(ye,Oe);if("="==t)return T(j);var r=k.state.lexical.prev;return A(r&&"interface"==r.info?Be:qe)}function He(e,t){return"*"==t?(k.marked="keyword",T(Je,F(";"))):"default"==t?(k.marked="keyword",T(H,F(";"))):"{"==e?T(ce(je,"}"),Je,F(";")):A(G)}function je(e,t){return"as"==t?(k.marked="keyword",T(F("variable"))):"variable"==e?A(j,je):void 0}function We(e){return"string"==e?T():"("==e?A(H):"."==e?A(Z):A(Xe,Ye,Je)}function Xe(e,t){return"{"==e?pe(Xe,"}"):("variable"==e&&C(t),"*"==t&&(k.marked="keyword"),T(Ze))}function Ye(e){if(","==e)return T(Xe,Ye)}function Ze(e,t){if("as"==t)return k.marked="keyword",T(Xe)}function Je(e,t){if("from"==t)return k.marked="keyword",T(H)}function Ke(e){return"]"==e?T():A(ce(j,"]"))}function Qe(){return A(U("form"),ke,F("{"),U("}"),ce(et,"}"),$,$)}function et(){return A(ke,Oe)}function tt(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function rt(e,t,r){return t.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return z.lex=!0,$.lex=!0,{startState:function(e){var t={tokenize:y,lastType:"sof",cc:[],lexical:new M((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new D(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),w(e,t)),t.tokenize!=x&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",N(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==x||t.tokenize==b)return e.Pass;if(t.tokenize!=y)return 0;var i,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==$)l=l.prev;else if(c!=Ie&&c!=z)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==Z||i==J)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var p=l.type,h=s==p;return"vardef"==p?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==p&&"{"==s?l.indented:"form"==p?l.indented+o:"stat"==p?l.indented+(tt(t,n)?a||o:0):"switch"!=l.info||h||0==r.doubleIndentSwitch?l.align?l.column+(h?0:1):l.indented+(h?0:o):l.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:rt,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=H&&t!=j||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(53791))},63125:(e,t,r)=>{!function(e){"use strict";e.defineMode("stex",(function(e,t){function r(e,t){e.cmdState.push(t)}function n(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function i(e){var t=e.cmdState.pop();t&&t.closeBracket()}function o(e){for(var t=e.cmdState,r=t.length-1;r>=0;r--){var n=t[r];if("DEFAULT"!=n.name)return n}return{styleIdentifier:function(){return null}}}function a(e,t,r){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=r,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}var s={};function l(e,t){e.f=t}function u(e,t){var i;if(e.match(/^\\[a-zA-Z@]+/)){var a=e.current().slice(1);return r(t,i=new(i=s.hasOwnProperty(a)?s[a]:s.DEFAULT)),l(t,p),i.style}if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/\\]/))return"tag";if(e.match("\\["))return l(t,(function(e,t){return c(e,t,"\\]")})),"keyword";if(e.match("\\("))return l(t,(function(e,t){return c(e,t,"\\)")})),"keyword";if(e.match("$$"))return l(t,(function(e,t){return c(e,t,"$$")})),"keyword";if(e.match("$"))return l(t,(function(e,t){return c(e,t,"$")})),"keyword";var u=e.next();return"%"==u?(e.skipToEnd(),"comment"):"}"==u||"]"==u?(i=n(t))?(i.closeBracket(u),l(t,p),"bracket"):"error":"{"==u||"["==u?(r(t,i=new(i=s.DEFAULT)),"bracket"):/\d/.test(u)?(e.eatWhile(/[\w.%]/),"atom"):(e.eatWhile(/[\w\-_]/),"begin"==(i=o(t)).name&&(i.argument=e.current()),i.styleIdentifier())}function c(e,t,r){if(e.eatSpace())return null;if(r&&e.match(r))return l(t,u),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var n=e.next();return"{"==n||"}"==n||"["==n||"]"==n||"("==n||")"==n?"bracket":"%"==n?(e.skipToEnd(),"comment"):"error"}function p(e,t){var r=e.peek();return"{"==r||"["==r?(n(t).openBracket(r),e.eat(r),l(t,u),"bracket"):/[ \t\r]/.test(r)?(e.eat(r),null):(l(t,u),i(t),u(e,t))}return s.importmodule=a("importmodule","tag",["string","builtin"]),s.documentclass=a("documentclass","tag",["","atom"]),s.usepackage=a("usepackage","tag",["atom"]),s.begin=a("begin","tag",["atom"]),s.end=a("end","tag",["atom"]),s.label=a("label","tag",["atom"]),s.ref=a("ref","tag",["atom"]),s.eqref=a("eqref","tag",["atom"]),s.cite=a("cite","tag",["atom"]),s.bibitem=a("bibitem","tag",["atom"]),s.Bibitem=a("Bibitem","tag",["atom"]),s.RBibitem=a("RBibitem","tag",["atom"]),s.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:t.inMathMode?function(e,t){return c(e,t)}:u}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=u,e.cmdState.length=0},lineComment:"%"}})),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")}(r(53791))},12310:(e,t,r)=>{!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(n,i){var o,a,s=n.indentUnit,l={},u=i.htmlMode?t:r;for(var c in u)l[c]=u[c];for(var c in i)l[c]=i[c];function p(e,t){function r(r){return t.tokenize=r,r(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?r(d("atom","]]>")):null:e.match("--")?r(d("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=d("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=h,"tag bracket"):"&"==n?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function h(e,t){var r=e.next();if(">"==r||"/"==r&&e.eat(">"))return t.tokenize=p,o=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return o="equals",null;if("<"==r){t.tokenize=p,t.state=x,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}return/[\'\"]/.test(r)?(t.tokenize=f(r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=h;break}return"string"};return t.isInAttribute=!0,t}function d(e,t){return function(r,n){for(;!r.eol();){if(r.match(t)){n.tokenize=p;break}r.next()}return e}}function m(e){return function(t,r){for(var n;null!=(n=t.next());){if("<"==n)return r.tokenize=m(e+1),r.tokenize(t,r);if(">"==n){if(1==e){r.tokenize=p;break}return r.tokenize=m(e-1),r.tokenize(t,r)}}return"meta"}}function g(e,t,r){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=r,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function y(e){e.context&&(e.context=e.context.prev)}function v(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!l.contextGrabbers.hasOwnProperty(r)||!l.contextGrabbers[r].hasOwnProperty(t))return;y(e)}}function x(e,t,r){return"openTag"==e?(r.tagStart=t.column(),b):"closeTag"==e?_:x}function b(e,t,r){return"word"==e?(r.tagName=t.current(),a="tag",M):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",M(e,t,r)):(a="error",b)}function _(e,t,r){if("word"==e){var n=t.current();return r.context&&r.context.tagName!=n&&l.implicitlyClosed.hasOwnProperty(r.context.tagName)&&y(r),r.context&&r.context.tagName==n||!1===l.matchClosing?(a="tag",w):(a="tag error",E)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",w(e,t,r)):(a="error",E)}function w(e,t,r){return"endTag"!=e?(a="error",w):(y(r),x)}function E(e,t,r){return a="error",w(e,t,r)}function M(e,t,r){if("word"==e)return a="attribute",S;if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,i=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?v(r,n):(v(r,n),r.context=new g(r,n,i==r.indented)),x}return a="error",M}function S(e,t,r){return"equals"==e?N:(l.allowMissing||(a="error"),M(e,t,r))}function N(e,t,r){return"string"==e?k:"word"==e&&l.allowUnquoted?(a="string",M):(a="error",M(e,t,r))}function k(e,t,r){return"string"==e?k:M(e,t,r)}return p.isInText=!0,{startState:function(e){var t={tokenize:p,state:x,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var r=t.tokenize(e,t);return(r||o)&&"comment"!=r&&(a=null,t.state=t.state(o||r,e,t),a&&(r="error"==a?r+" error":a)),r},indent:function(t,r,n){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=h&&t.tokenize!=p)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var o=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==N&&(e.state=M)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],r=e.context;r;r=r.prev)t.push(r.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(r(53791))},64352:function(e,t){var r;!function(n){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},o=function(e){return.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function s(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function l(e,t){if(!(this instanceof l))return new l(e,t);var r=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return l.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return l.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):a();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===n&&a();for(var s=0;s<n.length;s++){var u=n[s];" "===u||"\t"===u||"\n"===u||("+"===u?i++:"-"===u?o++:"i"===u||"I"===u?(i+o===0&&a()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+n[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&a(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((o%2?"-":"")+u),s++):r.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&a();break;case"number":r.im=0,r.re=e;break;default:a()}return isNaN(r.re)||isNaN(r.im),r}(e,t);this.re=r.re,this.im=r.im}l.prototype={re:0,im:0,sign:function(){var e=this.abs();return new l(this.re/e,this.im/e)},add:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:new l(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:new l(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new l(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?l.NAN:this.isInfinite()||r.isInfinite()?l.INFINITY:0===r.im&&0===this.im?new l(this.re*r.re,0):new l(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new l(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return l.NAN;if(this.isInfinite()||r.isZero())return l.INFINITY;if(this.isZero()||r.isInfinite())return l.ZERO;e=this.re,t=this.im;var n,i,o=r.re,a=r.im;return 0===a?new l(e/o,t/o):Math.abs(o)<Math.abs(a)?new l((e*(i=o/a)+t)/(n=o*i+a),(t*i-e)/n):new l((e+t*(i=a/o))/(n=a*i+o),(t-e*i)/n)},pow:function(e,t){var r=new l(e,t);if(e=this.re,t=this.im,r.isZero())return l.ONE;if(0===r.im){if(0===t)return new l(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new l(Math.pow(t,r.re),0);case 1:return new l(0,Math.pow(t,r.re));case 2:return new l(-Math.pow(t,r.re),0);case 3:return new l(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&r.re>0&&r.im>=0)return l.ZERO;var n=Math.atan2(t,e),i=s(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new l(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new l(Math.sqrt(r),0);e=.5*Math.sqrt(2*(i+r))}else e=Math.abs(n)/Math.sqrt(2*(i-r));return t=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new l(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new l(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new l(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new l(s(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new l(Math.sin(e)*i(t),Math.cos(e)*o(t))},cos:function(){var e=this.re,t=this.im;return new l(Math.cos(e)*i(t),-Math.sin(e)*o(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+i(t);return new l(Math.sin(e)/r,o(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-i(t);return new l(-Math.sin(e)/r,o(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*i(2*t)+.5*Math.cos(2*e);return new l(Math.cos(e)*i(t)/r,Math.sin(e)*o(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*i(2*t)-.5*Math.cos(2*e);return new l(Math.sin(e)*i(t)/r,-Math.cos(e)*o(t)/r)},asin:function(){var e=this.re,t=this.im,r=new l(t*t-e*e+1,-2*e*t).sqrt(),n=new l(r.re-t,r.im+e).log();return new l(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new l(t*t-e*e+1,-2*e*t).sqrt(),n=new l(r.re-t,r.im+e).log();return new l(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new l(0,1/0);if(-1===t)return new l(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new l((1-t*t-e*e)/r,-2*e/r).log();return new l(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new l(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).atan():new l(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(0,1/0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).acos():new l(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).asin():new l(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new l(o(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new l(i(e)*Math.cos(t),o(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=i(e)+Math.cos(t);return new l(o(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=i(e)-Math.cos(t);return new l(o(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-i(2*e);return new l(-2*o(e)*Math.cos(t)/r,2*i(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+i(2*e);return new l(2*i(e)*Math.cos(t)/r,-2*o(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,o=n*n+t*t,a=0!==o?new l((i*n-t*t)/o,(t*n+i*t)/o):new l(-1!==e?e/0:0,0!==t?t/0:0),u=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,u)/2,r&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new l(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).atanh():new l(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new l(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).asinh():new l(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return l.INFINITY;var r=e*e+t*t;return 0!==r?new l(e/r,-t/r).acosh():new l(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new l(e/r,-t/r)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new l(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new l(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new l(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new l(e,t);return Math.abs(r.re-this.re)<=l.EPSILON&&Math.abs(r.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":0===t?r+e:(0!==e?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),1!==t&&(r+=t),r+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-16,void 0===(r=function(){return l}.apply(t,[]))||(e.exports=r)}()},81501:function(e,t,r){var n;!function(i){"use strict";var o,a,s,l=9e15,u=1e9,c="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-l,maxE:l,crypto:!1},d=!0,m="[DecimalError] ",g=m+"Invalid argument: ",y=m+"Precision limit exceeded",v=m+"crypto unavailable",x=Math.floor,b=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,E=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,M=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,N=p.length-1,k=h.length-1,A={name:"[object Decimal]"};function T(e){var t,r,n,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=U(r)),o+=n;(r=7-(n=(a=e[t])+"").length)&&(o+=U(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function O(e,t,r){if(e!==~~e||e<t||e>r)throw Error(g+e)}function C(e,t,r,n){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=b(10,7-t),s=e[i]%o|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(e[i+1]/o/100|0)==b(10,t-2)-1||(s==o/2||0==s)&&0==(e[i+1]/o/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==o||!n&&r>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==b(10,t-3)-1,a}function I(e,t,r){for(var n,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=c.indexOf(e.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),D(e)},A.ceil=function(){return D(new this.constructor(this),this.e+1,2)},A.comparedTo=A.cmp=function(e){var t,r,n,i,o=this,a=o.d,s=(e=new o.constructor(e)).d,l=o.s,u=e.s;if(!a||!s)return l&&u?l!==u?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(t=0,r=(n=a.length)<(i=s.length)?n:i;t<r;++t)if(a[t]!==s[t])return a[t]>s[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1},A.cosine=A.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i=t.d.length;i<32?n=(1/Z(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10");e.precision+=r,t=Y(e,1,t.times(n),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}(n,J(n,r)),n.precision=e,n.rounding=t,D(2==s||3==s?r.neg():r,e,t,!0)):new n(1):new n(NaN)},A.cubeRoot=A.cbrt=function(){var e,t,r,n,i,o,a,s,l,u,c=this,p=c.constructor;if(!c.isFinite()||c.isZero())return new p(c);for(d=!1,(o=c.s*b(c.s*c,1/3))&&Math.abs(o)!=1/0?n=new p(o.toString()):(r=T(c.d),(o=((e=c.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=b(r,1/3),e=x((e+1)/3)-(e%3==(e<0?-1:2)),(n=new p(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=c.s),a=(e=p.precision)+3;;)if(u=(l=(s=n).times(s).times(s)).plus(c),n=R(u.plus(c).times(s),u.plus(l),a+2,1),T(s.d).slice(0,a)===(r=T(n.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(D(n,e+1,1),t=!n.times(n).times(n).eq(c));break}if(!i&&(D(s,e+1,0),s.times(s).times(s).eq(c))){n=s;break}a+=4,i=1}return d=!0,D(n,e,p.rounding,t)},A.decimalPlaces=A.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-x(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},A.dividedBy=A.div=function(e){return R(this,new this.constructor(e))},A.dividedToIntegerBy=A.divToInt=function(e){var t=this.constructor;return D(R(this,new t(e),0,1,1),t.precision,t.rounding)},A.equals=A.eq=function(e){return 0===this.cmp(e)},A.floor=function(){return D(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(e){return this.cmp(e)>0},A.greaterThanOrEqualTo=A.gte=function(e){var t=this.cmp(e);return 1==t||0===t},A.hyperbolicCosine=A.cosh=function(){var e,t,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/Z(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Y(a,1,o.times(t),new a(1),!0);for(var l,u=e,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return D(o,a.precision=r,a.rounding=n,!0)},A.hyperbolicSine=A.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=Y(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=Y(o,2,i=i.times(1/Z(5,e)),i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=t,o.rounding=r,D(i,t,r,!0)},A.hyperbolicTangent=A.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,R(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},A.inverseCosine=A.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return-1!==n?0===n?t.isNeg()?P(r,i,o):new r(0):new r(NaN):t.isZero()?P(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=P(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},A.inverseHyperbolicCosine=A.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,d=!1,r=r.times(r).minus(1).sqrt().plus(r),d=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},A.inverseHyperbolicSine=A.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,d=!1,r=r.times(r).plus(1).sqrt().plus(r),d=!0,n.precision=e,n.rounding=t,r.ln())},A.inverseHyperbolicTangent=A.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?D(new o(i),e,t,!0):(o.precision=r=n-i.e,i=R(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},A.inverseSine=A.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=P(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},A.inverseTangent=A.atan=function(){var e,t,r,n,i,o,a,s,l,u=this,c=u.constructor,p=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&p+4<=k)return(a=P(c,p+4,h).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(p+4<=k)return(a=P(c,p+4,h).times(.5)).s=u.s,a}for(c.precision=s=p+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(d=!1,t=Math.ceil(s/7),n=1,l=u.times(u),a=new c(u),i=u;-1!==e;)if(i=i.times(l),o=a.minus(i.div(n+=2)),i=i.times(l),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),d=!0,D(a,c.precision=p,c.rounding=h,!0)},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&x(this.e/7)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(e){return this.cmp(e)<0},A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1},A.logarithm=A.log=function(e){var t,r,n,i,o,a,s,l,u=this,c=u.constructor,p=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:1!=u.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(i=r[0];i%10==0;)i/=10;o=1!==i}if(d=!1,a=H(u,s=p+5),n=t?B(c,s+10):H(e,s),C((l=R(a,n,s,1)).d,i=p,h))do{if(a=H(u,s+=10),n=t?B(c,s+10):H(e,s),l=R(a,n,s,1),!o){+T(l.d).slice(i+1,i+15)+1==1e14&&(l=D(l,p+1,0));break}}while(C(l.d,i+=10,h));return d=!0,D(l,p,h)},A.minus=A.sub=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN):e=new m(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(u=f.d,h=e.d,s=m.precision,l=m.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!u[0])return new m(3===l?-0:0);e=new m(f)}return d?D(e,s,l):e}if(r=x(e.e/7),c=x(f.e/7),u=u.slice(),o=c-r){for((p=o<0)?(t=u,o=-o,a=h.length):(t=h,r=c,a=u.length),o>(n=Math.max(Math.ceil(s/7),a)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((p=(n=u.length)<(a=h.length))&&(a=n),n=0;n<a;n++)if(u[n]!=h[n]){p=u[n]<h[n];break}o=0}for(p&&(t=u,u=h,h=t,e.s=-e.s),a=u.length,n=h.length-a;n>0;--n)u[a++]=0;for(n=h.length;n>o;){if(u[--n]<h[n]){for(i=n;i&&0===u[--i];)u[i]=S-1;--u[i],u[n]+=S}u[n]-=h[n]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(e.d=u,e.e=q(u,r),d?D(e,s,l):e):new m(3===l?-0:0)},A.modulo=A.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?D(new n(r),n.precision,n.rounding):(d=!1,9==n.modulo?(t=R(r,e.abs(),0,3,1)).s*=e.s:t=R(r,e,0,n.modulo,1),t=t.times(e),d=!0,r.minus(t))},A.naturalExponential=A.exp=function(){return V(this)},A.naturalLogarithm=A.ln=function(){return H(this)},A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,D(e)},A.plus=A.add=function(e){var t,r,n,i,o,a,s,l,u,c,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new h(e.d||p.s===e.s?p:NaN)):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(u=p.d,c=e.d,s=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(e=new h(p)),d?D(e,s,l):e;if(o=x(p.e/7),n=x(e.e/7),u=u.slice(),i=o-n){for(i<0?(r=u,i=-i,a=c.length):(r=c,n=o,a=u.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((a=u.length)-(i=c.length)<0&&(i=a,r=c,c=u,u=r),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/S|0,u[i]%=S;for(t&&(u.unshift(t),++n),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=q(u,n),d?D(e,s,l):e},A.precision=A.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(g+e);return r.d?(t=z(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},A.round=function(){var e=this,t=e.constructor;return D(new t(e),e.e+1,t.rounding)},A.sine=A.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return Y(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/Z(5,r)),t=Y(e,2,t,t);for(var i,o=new e(5),a=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(n,J(n,r)),n.precision=e,n.rounding=t,D(s>2?r.neg():r,e,t,!0)):new n(NaN)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,o,a=this,s=a.d,l=a.e,u=a.s,c=a.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(d=!1,0==(u=Math.sqrt(+a))||u==1/0?(((t=T(s)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=x((l+1)/2)-(l<0||l%2),n=new c(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new c(u.toString()),r=(l=c.precision)+3;;)if(n=(o=n).plus(R(a,o,r+2,1)).times(.5),T(o.d).slice(0,r)===(t=T(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(D(n,l+1,1),e=!n.times(n).eq(a));break}if(!i&&(D(o,l+1,0),o.times(o).eq(a))){n=o;break}r+=4,i=1}return d=!0,D(n,l,c.rounding,e)},A.tangent=A.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=R(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,D(2==s||4==s?r.neg():r,e,t,!0)):new n(NaN)},A.times=A.mul=function(e){var t,r,n,i,o,a,s,l,u,c=this,p=c.constructor,h=c.d,f=(e=new p(e)).d;if(e.s*=c.s,!(h&&h[0]&&f&&f[0]))return new p(!e.s||h&&!h[0]&&!f||f&&!f[0]&&!h?NaN:h&&f?0*e.s:e.s/0);for(r=x(c.e/7)+x(e.e/7),(l=h.length)<(u=f.length)&&(o=h,h=f,f=o,a=l,l=u,u=a),o=[],n=a=l+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=o[i]+f[n]*h[i-n-1]+t,o[i--]=s%S|0,t=s/S|0;o[i]=(o[i]+t)%S|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=q(o,r),d?D(e,p.precision,p.rounding):e},A.toBinary=function(e,t){return K(this,2,e,t)},A.toDecimalPlaces=A.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(O(e,0,u),void 0===t?t=n.rounding:O(t,0,8),D(r,e+r.e+1,t))},A.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=L(n,!0):(O(e,0,u),void 0===t?t=i.rounding:O(t,0,8),r=L(n=D(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?r=L(i):(O(e,0,u),void 0===t?t=o.rounding:O(t,0,8),r=L(n=D(new o(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},A.toFraction=function(e){var t,r,n,i,o,a,s,l,u,c,p,h,f=this,m=f.d,y=f.constructor;if(!m)return new y(f);if(u=r=new y(1),n=l=new y(0),a=(o=(t=new y(n)).e=z(m)-f.e-1)%7,t.d[0]=b(10,a<0?7+a:a),null==e)e=o>0?t:u;else{if(!(s=new y(e)).isInt()||s.lt(u))throw Error(g+s);e=s.gt(t)?o>0?t:u:s}for(d=!1,s=new y(T(m)),c=y.precision,y.precision=o=7*m.length*2;p=R(s,t,0,1,1),1!=(i=r.plus(p.times(n))).cmp(e);)r=n,n=i,i=u,u=l.plus(p.times(i)),l=i,i=t,t=s.minus(p.times(i)),s=i;return i=R(e.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=f.s,h=R(u,n,o,1).minus(f).abs().cmp(R(l,r,o,1).minus(f).abs())<1?[u,n]:[l,r],y.precision=c,d=!0,h},A.toHexadecimal=A.toHex=function(e,t){return K(this,16,e,t)},A.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:O(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(d=!1,r=R(r,e,0,t,1).times(e),d=!0,D(r)):(e.s=r.s,r=e),r},A.toNumber=function(){return+this},A.toOctal=function(e,t){return K(this,8,e,t)},A.toPower=A.pow=function(e){var t,r,n,i,o,a,s=this,l=s.constructor,u=+(e=new l(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new l(b(+s,u));if((s=new l(s)).eq(1))return s;if(n=l.precision,o=l.rounding,e.eq(1))return D(s,n,o);if((t=x(e.e/7))>=e.d.length-1&&(r=u<0?-u:u)<=9007199254740991)return i=$(l,s,r,n),e.s<0?new l(1).div(i):D(i,n,o);if((a=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=b(+s,u))&&isFinite(r)?new l(r+"").e:x(u*(Math.log("0."+T(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(d=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=V(e.times(H(s,n+r)),n)).d&&C((i=D(i,n+5,1)).d,n,o)&&(t=n+10,+T((i=D(V(e.times(H(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=D(i,n+1,0))),i.s=a,d=!0,l.rounding=o,D(i,n,o))},A.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=L(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(O(e,1,u),void 0===t?t=i.rounding:O(t,0,8),r=L(n=D(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},A.toSignificantDigits=A.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(O(e,1,u),void 0===t?t=r.rounding:O(t,0,8)),D(new r(this),e,t)},A.toString=function(){var e=this,t=e.constructor,r=L(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},A.truncated=A.trunc=function(){return D(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var e=this,t=e.constructor,r=L(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var R=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,s,l,u){var c,p,h,f,d,m,g,y,v,b,_,w,E,M,N,k,A,T,O,C,I=n.constructor,R=n.s==i.s?1:-1,L=n.d,q=i.d;if(!(L&&L[0]&&q&&q[0]))return new I(n.s&&i.s&&(L?!q||L[0]!=q[0]:q)?L&&0==L[0]||!q?0*R:R/0:NaN);for(u?(d=1,p=n.e-i.e):(u=S,d=7,p=x(n.e/d)-x(i.e/d)),O=q.length,A=L.length,b=(v=new I(R)).d=[],h=0;q[h]==(L[h]||0);h++);if(q[h]>(L[h]||0)&&p--,null==o?(M=o=I.precision,s=I.rounding):M=l?o+(n.e-i.e)+1:o,M<0)b.push(1),m=!0;else{if(M=M/d+2|0,h=0,1==O){for(f=0,q=q[0],M++;(h<A||f)&&M--;h++)N=f*u+(L[h]||0),b[h]=N/q|0,f=N%q|0;m=f||h<A}else{for((f=u/(q[0]+1)|0)>1&&(q=e(q,f,u),L=e(L,f,u),O=q.length,A=L.length),k=O,w=(_=L.slice(0,O)).length;w<O;)_[w++]=0;(C=q.slice()).unshift(0),T=q[0],q[1]>=u/2&&++T;do{f=0,(c=t(q,_,O,w))<0?(E=_[0],O!=w&&(E=E*u+(_[1]||0)),(f=E/T|0)>1?(f>=u&&(f=u-1),1==(c=t(g=e(q,f,u),_,y=g.length,w=_.length))&&(f--,r(g,O<y?C:q,y,u))):(0==f&&(c=f=1),g=q.slice()),(y=g.length)<w&&g.unshift(0),r(_,g,w,u),-1==c&&(c=t(q,_,O,w=_.length))<1&&(f++,r(_,O<w?C:q,w,u)),w=_.length):0===c&&(f++,_=[0]),b[h++]=f,c&&_[0]?_[w++]=L[k]||0:(_=[L[k]],w=1)}while((k++<A||void 0!==_[0])&&M--);m=void 0!==_[0]}b[0]||b.shift()}if(1==d)v.e=p,a=m;else{for(h=1,f=b[0];f>=10;f/=10)h++;v.e=h+p*d-1,D(v,l?o+v.e+1:o,s,m)}return v}}();function D(e,t,r,n){var i,o,a,s,l,u,c,p,h,f=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(i=1,s=p[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=7,a=t,l=(c=p[h=0])/b(10,i-a-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(s=p.length)){if(!n)break e;for(;s++<=h;)p.push(0);c=l=0,i=1,a=(o%=7)-7+1}else{for(c=s=p[h],i=1;s>=10;s/=10)i++;l=(a=(o%=7)-7+i)<0?0:c/b(10,i-a-1)%10|0}if(n=n||t<0||void 0!==p[h+1]||(a<0?c:c%b(10,i-a-1)),u=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?a>0?c/b(10,i-a):0:p[h-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,u?(t-=e.e+1,p[0]=b(10,(7-t%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=h,s=1,h--):(p.length=h+1,s=b(10,7-o),p[h]=a>0?(c/b(10,i-a)%b(10,a)|0)*s:0),u)for(;;){if(0==h){for(o=1,a=p[0];a>=10;a/=10)o++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,p[0]==S&&(p[0]=1));break}if(p[h]+=s,p[h]!=S)break;p[h--]=0,s=1}for(o=p.length;0===p[--o];)p.pop()}return d&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function L(e,t,r){if(!e.isFinite())return j(e);var n,i=e.e,o=T(e.d),a=o.length;return t?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+U(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+U(-i-1)+o,r&&(n=r-a)>0&&(o+=U(n))):i>=a?(o+=U(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+U(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=U(n))),o}function q(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function B(e,t,r){if(t>N)throw d=!0,r&&(e.precision=r),Error(y);return D(new e(p),t,1,!0)}function P(e,t,r){if(t>k)throw Error(y);return D(new e(h),t,r,!0)}function z(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function U(e){for(var t="";e--;)t+="0";return t}function $(e,t,r,n){var i,o=new e(1),a=Math.ceil(n/7+4);for(d=!1;;){if(r%2&&Q((o=o.times(t)).d,a)&&(i=!0),0===(r=x(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}Q((t=t.times(t)).d,a)}return d=!0,o}function F(e){return 1&e.d[e.d.length-1]}function G(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){i=n;break}i[r](n)&&(i=n)}return i}function V(e,t){var r,n,i,o,a,s,l,u=0,c=0,p=0,h=e.constructor,f=h.rounding,m=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(d=!1,l=m):l=t,s=new h(.03125);e.e>-2;)e=e.times(s),p+=5;for(l+=n=Math.log(b(2,p))/Math.LN10*2+5|0,r=o=a=new h(1),h.precision=l;;){if(o=D(o.times(e),l,1),r=r.times(++c),T((s=a.plus(R(o,r,l,1))).d).slice(0,l)===T(a.d).slice(0,l)){for(i=p;i--;)a=D(a.times(a),l,1);if(null!=t)return h.precision=m,a;if(!(u<3&&C(a.d,l-n,f,u)))return D(a,h.precision=m,f,d=!0);h.precision=l+=10,r=o=s=new h(1),c=0,u++}a=s}}function H(e,t){var r,n,i,o,a,s,l,u,c,p,h,f=1,m=e,g=m.d,y=m.constructor,v=y.rounding,x=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(d=!1,c=x):c=t,y.precision=c+=10,n=(r=T(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return u=B(y,c+2,x).times(o+""),m=H(new y(n+"."+r.slice(1)),c-10).plus(u),y.precision=x,null==t?D(m,x,v,d=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=T((m=m.times(e)).d)).charAt(0),f++;for(o=m.e,n>1?(m=new y("0."+r),o++):m=new y(n+"."+r.slice(1)),p=m,l=a=m=R(m.minus(1),m.plus(1),c,1),h=D(m.times(m),c,1),i=3;;){if(a=D(a.times(h),c,1),T((u=l.plus(R(a,new y(i),c,1))).d).slice(0,c)===T(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(B(y,c+2,x).times(o+""))),l=R(l,new y(f),c,1),null!=t)return y.precision=x,l;if(!C(l.d,c-10,v,s))return D(l,y.precision=x,v,d=!0);y.precision=c+=10,u=a=m=R(p.minus(1),p.plus(1),c,1),h=D(m.times(m),c,1),i=s=1}l=u,i+=2}}function j(e){return String(e.s*e.s/0)}function W(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),d&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function X(e,t){var r,n,i,a,s,l,u,c,p;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(w.test(t))r=16,t=t.toLowerCase();else if(_.test(t))r=2;else{if(!E.test(t))throw Error(g+t);r=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(l=(t=t.replace(".","")).length)-a,i=$(n,new n(r),a,2*a)),a=p=(c=I(t,r,S)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=q(c,p),e.d=c,d=!1,s&&(e=R(e,i,4*l)),u&&(e=e.times(Math.abs(u)<54?b(2,u):o.pow(2,u))),d=!0,e)}function Y(e,t,r,n,i){var o,a,s,l,u=e.precision,c=Math.ceil(u/7);for(d=!1,l=r.times(r),s=new e(n);;){if(a=R(s.times(l),new e(t++*t++),u,1),s=i?n.plus(a):n.minus(a),n=R(a.times(l),new e(t++*t++),u,1),void 0!==(a=s.plus(n)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=n,n=a,a=o}return d=!0,a.d.length=c+1,a}function Z(e,t){for(var r=e;--t;)r*=e;return r}function J(e,t){var r,n=t.s<0,i=P(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return s=n?4:1,t;if((r=t.divToInt(i)).isZero())s=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return s=F(r)?n?2:3:n?4:1,t;s=F(r)?n?1:4:n?3:2}return t.minus(i).abs()}function K(e,t,r,n){var i,o,s,l,p,h,f,d,m,g=e.constructor,y=void 0!==r;if(y?(O(r,1,u),void 0===n?n=g.rounding:O(n,0,8)):(r=g.precision,n=g.rounding),e.isFinite()){for(y?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(s=(f=L(e)).indexOf("."))>=0&&(f=f.replace(".",""),(m=new g(1)).e=f.length-s,m.d=I(L(m),10,i),m.e=m.d.length),o=p=(d=I(f,10,i)).length;0==d[--p];)d.pop();if(d[0]){if(s<0?o--:((e=new g(e)).d=d,e.e=o,d=(e=R(e,m,r,n,0,i)).d,o=e.e,h=a),s=d[r],l=i/2,h=h||void 0!==d[r+1],h=n<4?(void 0!==s||h)&&(0===n||n===(e.s<0?3:2)):s>l||s===l&&(4===n||h||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,h)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(p=d.length;!d[p-1];--p);for(s=0,f="";s<p;s++)f+=c.charAt(d[s]);if(y){if(p>1)if(16==t||8==t){for(s=16==t?4:3,--p;p%s;p++)f+="0";for(p=(d=I(f,i,t)).length;!d[p-1];--p);for(s=1,f="1.";s<p;s++)f+=c.charAt(d[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>p)for(o-=p;o--;)f+="0";else o<p&&(f=f.slice(0,o)+"."+f.slice(o))}else f=y?"0p+0":"0";f=(16==t?"0x":2==t?"0b":8==t?"0o":"")+f}else f=j(e);return e.s<0?"-"+f:f}function Q(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ne(e,t){return new this(e).plus(t)}function ie(e){return new this(e).asin()}function oe(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function se(e){return new this(e).atanh()}function le(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?P(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=P(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(R(e,t,o,1)),t=P(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(R(e,t,o,1)):(r=P(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ue(e){return new this(e).cbrt()}function ce(e){return D(e=new this(e),e.e+1,2)}function pe(e){if(!e||"object"!=typeof e)throw Error(m+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,u,"rounding",0,8,"toExpNeg",-l,0,"toExpPos",0,l,"maxE",0,l,"minE",-l,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=f[r]),void 0!==(n=e[r])){if(!(x(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(g+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=f[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(g+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(v);this[r]=!0}else this[r]=!1}return this}function he(e){return new this(e).cos()}function fe(e){return new this(e).cosh()}function de(e,t){return new this(e).div(t)}function me(e){return new this(e).exp()}function ge(e){return D(e=new this(e),e.e+1,3)}function ye(){var e,t,r=new this(0);for(d=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return d=!0,new this(1/0);r=t}return d=!0,r.sqrt()}function ve(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function xe(e){return new this(e).ln()}function be(e,t){return new this(e).log(t)}function _e(e){return new this(e).log(2)}function we(e){return new this(e).log(10)}function Ee(){return G(this,arguments,"lt")}function Me(){return G(this,arguments,"gt")}function Se(e,t){return new this(e).mod(t)}function Ne(e,t){return new this(e).mul(t)}function ke(e,t){return new this(e).pow(t)}function Ae(e){var t,r,n,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:O(e,1,u),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(v);for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=n/4}else for(;o<n;)s[o++]=1e7*Math.random()|0;for(e%=7,(n=s[--o])&&e&&(i=b(10,7-e),s[o]=(n/i|0)*i);0===s[o];o--)s.pop();if(o<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return a.e=r,a.d=s,a}function Te(e){return D(e=new this(e),e.e+1,this.rounding)}function Oe(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ce(e){return new this(e).sin()}function Ie(e){return new this(e).sinh()}function Re(e){return new this(e).sqrt()}function De(e,t){return new this(e).sub(t)}function Le(e){return new this(e).tan()}function qe(e){return new this(e).tanh()}function Be(e){return D(e=new this(e),e.e+1,1)}(o=function e(t){var r,n,i;function o(e){var t,r,n,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(d?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(d?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):W(i,e.toString())}if("string"!==n)throw Error(g+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),M.test(e)?W(i,e):X(i,e)}if(o.prototype=A,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pe,o.clone=e,o.isDecimal=ve,o.abs=ee,o.acos=te,o.acosh=re,o.add=ne,o.asin=ie,o.asinh=oe,o.atan=ae,o.atanh=se,o.atan2=le,o.cbrt=ue,o.ceil=ce,o.cos=he,o.cosh=fe,o.div=de,o.exp=me,o.floor=ge,o.hypot=ye,o.ln=xe,o.log=be,o.log10=we,o.log2=_e,o.max=Ee,o.min=Me,o.mod=Se,o.mul=Ne,o.pow=ke,o.random=Ae,o.round=Te,o.sign=Oe,o.sin=Ce,o.sinh=Ie,o.sqrt=Re,o.sub=De,o.tan=Le,o.tanh=qe,o.trunc=Be,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(f)).default=o.Decimal=o,p=new o(p),h=new o(h),void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},43770:e=>{"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},n={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},i=function(e,r){return t({},e,r)};e.exports=function(e){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.preserveFormatting,s=void 0!==a&&a,l=o.escapeMapFn,u=void 0===l?i:l,c=String(e),p="",h=u(t({},r),s?t({},n):{}),f=Object.keys(h),d=function(){var e=!1;f.forEach((function(t,r){e||c.length>=t.length&&c.slice(0,t.length)===t&&(p+=h[f[r]],c=c.slice(t.length,c.length),e=!0)})),e||(p+=c.slice(0,1),c=c.slice(1,c.length))};c;)d();return p}},1006:function(e,t){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function o(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function r(){}return r.prototype=Error.prototype,t.prototype=new r,t}var a=h.DivisionByZero=o("DivisionByZero"),s=h.InvalidParameter=o("InvalidParameter");function l(e,t){return isNaN(e=parseInt(e,10))&&u(),e*t}function u(){throw new s}var c=function(e,t){var r,n=0,o=1,s=1,c=0,p=0,h=0,f=1,d=1,m=0,g=1,y=1,v=1,x=1e7;if(null==e);else if(void 0!==t)s=(n=e)*(o=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,o=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(o=e[1])):u(),s=n*o;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=d=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=x&&v<=x;){if(e===(r=(m+y)/(g+v))){g+v<=x?(n=m+y,o=g+v):v>g?(n=y,o=v):(n=m,o=g);break}e>r?(m+=y,g+=v):(y+=m,v+=g),g>x?(n=y,o=v):(n=m,o=g)}n*=d}else(isNaN(e)||isNaN(t))&&(o=n=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&u(),"-"===g[m]?(s=-1,m++):"+"===g[m]&&m++,g.length===m+1?p=l(g[m++],s):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(c=l(g[m++],s)),(++m+1===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(p=l(g[m],s),f=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(h=l(g[m+1],s),d=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(p=l(g[m],s),f=l(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(c=l(g[m],s),p=l(g[m+2],s),f=l(g[m+4],1),m+=5),g.length<=m){s=n=h+(o=f*d)*c+d*p;break}default:u()}if(0===o)throw new a;i.s=s<0?-1:1,i.n=Math.abs(n),i.d=Math.abs(o)};function p(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function h(e,t){if(!(this instanceof h))return new h(e,t);c(e,t),e=h.REDUCE?p(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new h(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return c(e,t),new h(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return c(e,t),new h(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return c(e,t),new h(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new h(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===e?new h(this.s*this.n%this.d,1):(c(e,t),0===i.n&&0===this.d&&h(0,0),new h(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return c(e,t),new h(p(i.n,this.n)*p(i.d,this.d),i.d*this.d)},lcm:function(e,t){return c(e,t),0===i.n&&0===this.n?new h:new h(i.n*this.n,p(i.n,this.n)*p(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(e){return e<0?new h(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new h(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return c(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){c(e,t);var r=this.s*this.n*i.d-i.s*i.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new h(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var i=r(t.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return c(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&(t=Math.floor(n/i))>0&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(t)||isNaN(r))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e}while(1!==t);return n},toString:function(e){var t,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";h.REDUCE||(r/=t=p(r,n),n/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++)if(r=10*r%t,n>2e3)return 0;return n}(0,n),o=function(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),o=0;o<300;o++){if(n===i)return o;n=10*n%t,i=10*i%t}return 0}(0,n,i),a=-1===this.s?"-":"";if(a+=r/n|0,r%=n,(r*=10)&&(a+="."),i){for(var s=o;s--;)a+=r/n|0,r%=n,r*=10;a+="(";for(s=i;s--;)a+=r/n|0,r%=n,r*=10;a+=")"}else for(s=e;r&&s--;)a+=r/n|0,r%=n,r*=10;return a}},void 0===(r=function(){return h}.apply(t,[]))||(e.exports=r)}()},599:e=>{e.exports=function e(t,r){"use strict";var n,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},p=c(t).replace(a,"")||"",h=c(r).replace(a,"")||"",f=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(p.match(l),16)||1!==f.length&&p.match(s)&&Date.parse(p),g=parseInt(h.match(l),16)||m&&h.match(s)&&Date.parse(h)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(f.length,d.length);y<v;y++){if(n=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,i=!(d[y]||"").match(u)&&parseFloat(d[y])||d[y]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return-1;if(n>i)return 1}return 0}},96696:function(e,t,r){!function(t,n){e.exports=n(r(81442))}("undefined"!=typeof self&&self,(function(e){return function(){"use strict";var t={974:function(t){t.exports=e}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i={};return function(){n.d(i,{default:function(){return u}});var e=n(974),t=n.n(e),r=function(e,t,r){for(var n=r,i=0,o=e.length;n<t.length;){var a=t[n];if(i<=0&&t.slice(n,n+o)===e)return n;"\\"===a?n++:"{"===a?i++:"}"===a&&i--,n++}return-1},o=/^\\begin{/,a=function(e,t){for(var n,i=[],a=new RegExp("("+t.map((function(e){return e.left.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")})).join("|")+")");-1!==(n=e.search(a));){n>0&&(i.push({type:"text",data:e.slice(0,n)}),e=e.slice(n));var s=t.findIndex((function(t){return e.startsWith(t.left)}));if(-1===(n=r(t[s].right,e,t[s].left.length)))break;var l=e.slice(0,n+t[s].right.length),u=o.test(l)?l:e.slice(t[s].left.length,n);i.push({type:"math",data:u,rawData:l,display:t[s].display}),e=e.slice(n+t[s].right.length)}return""!==e&&i.push({type:"text",data:e}),i},s=function(e,r){var n=a(e,r.delimiters);if(1===n.length&&"text"===n[0].type)return null;for(var i=document.createDocumentFragment(),o=0;o<n.length;o++)if("text"===n[o].type)i.appendChild(document.createTextNode(n[o].data));else{var s=document.createElement("span"),l=n[o].data;r.displayMode=n[o].display;try{r.preProcess&&(l=r.preProcess(l)),t().render(l,s,r)}catch(u){if(!(u instanceof t().ParseError))throw u;r.errorCallback("KaTeX auto-render: Failed to parse `"+n[o].data+"` with ",u),i.appendChild(document.createTextNode(n[o].rawData));continue}i.appendChild(s)}return i},l=function e(t,r){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(3===i.nodeType){var o=s(i.textContent,r);o&&(n+=o.childNodes.length-1,t.replaceChild(o,i))}else 1===i.nodeType&&function(){var t=" "+i.className+" ";-1===r.ignoredTags.indexOf(i.nodeName.toLowerCase())&&r.ignoredClasses.every((function(e){return-1===t.indexOf(" "+e+" ")}))&&e(i,r)}()}},u=function(e,t){if(!e)throw new Error("No element provided to render");var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.delimiters=r.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],r.ignoredTags=r.ignoredTags||["script","noscript","style","textarea","pre","code","option"],r.ignoredClasses=r.ignoredClasses||[],r.errorCallback=r.errorCallback||console.error,r.macros=r.macros||{},l(e,r)}}(),i=i.default}()}))},81442:function(e){!function(t,r){e.exports=r()}("undefined"!=typeof self&&self,(function(){return function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return Yn}});var r=function e(t,r){this.position=void 0;var n,i="KaTeX parse error: "+t,o=r&&r.loc;if(o&&o.start<=o.end){var a=o.lexer.input;n=o.start;var s=o.end;n===a.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=a.slice(n,s).replace(/[^]/g,"$&̲");i+=(n>15?"…"+a.slice(n-15,n):a.slice(0,n))+l+(s+15<a.length?a.slice(s,s+15)+"…":a.slice(s))}var u=new Error(i);return u.name="ParseError",u.__proto__=e.prototype,u.position=n,u};r.prototype.__proto__=Error.prototype;var n=r,i=/([A-Z])/g,o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;var s=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},l={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(a,(function(e){return o[e]}))},hyphenate:function(e){return e.replace(i,"-$1").toLowerCase()},getBaseElem:s,isCharacterBox:function(e){var t=s(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"}},u=function(){function e(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},this.displayMode=l.deflt(e.displayMode,!1),this.output=l.deflt(e.output,"htmlAndMathml"),this.leqno=l.deflt(e.leqno,!1),this.fleqn=l.deflt(e.fleqn,!1),this.throwOnError=l.deflt(e.throwOnError,!0),this.errorColor=l.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.minRuleThickness=Math.max(0,l.deflt(e.minRuleThickness,0)),this.colorIsTextColor=l.deflt(e.colorIsTextColor,!1),this.strict=l.deflt(e.strict,"warn"),this.trust=l.deflt(e.trust,!1),this.maxSize=Math.max(0,l.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,l.deflt(e.maxExpand,1e3)),this.globalGroup=l.deflt(e.globalGroup,!1)}var t=e.prototype;return t.reportNonstrict=function(e,t,r){var i=this.strict;if("function"==typeof i&&(i=i(e,t,r)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new n("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r);"warn"===i?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,r){var n=this.strict;if("function"==typeof n)try{n=n(e,t,r)}catch(i){n="error"}return!(!n||"ignore"===n)&&(!0===n||"error"===n||("warn"===n?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),!1)))},t.isTrusted=function(e){e.url&&!e.protocol&&(e.protocol=l.protocolFromUrl(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)},e}(),c=function(){function e(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}var t=e.prototype;return t.sup=function(){return p[h[this.id]]},t.sub=function(){return p[f[this.id]]},t.fracNum=function(){return p[d[this.id]]},t.fracDen=function(){return p[m[this.id]]},t.cramp=function(){return p[g[this.id]]},t.text=function(){return p[y[this.id]]},t.isTight=function(){return this.size>=2},e}(),p=[new c(0,0,!1),new c(1,0,!0),new c(2,1,!1),new c(3,1,!0),new c(4,2,!1),new c(5,2,!0),new c(6,3,!1),new c(7,3,!0)],h=[4,5,4,5,6,7,6,7],f=[5,5,5,5,7,7,7,7],d=[2,3,4,5,6,7,6,7],m=[3,3,5,5,7,7,7,7],g=[1,1,3,3,5,5,7,7],y=[0,1,2,3,2,3,2,3],v={DISPLAY:p[0],TEXT:p[2],SCRIPT:p[4],SCRIPTSCRIPT:p[6]},x=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var b=[];function _(e){for(var t=0;t<b.length;t+=2)if(e>=b[t]&&e<=b[t+1])return!0;return!1}x.forEach((function(e){return e.blocks.forEach((function(e){return b.push.apply(b,e)}))}));var w=80,E={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},M=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),S=function(e){return e.filter((function(e){return e})).join(" ")},N=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},k=function(e){var t=document.createElement(e);for(var r in t.className=S(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},A=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+l.escape(S(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=l.hyphenate(n)+":"+this.style[n]+";");for(var i in r&&(t+=' style="'+l.escape(r)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+l.escape(this.attributes[i])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"},T=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,N.call(this,e,r,n),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return k.call(this,"span")},t.toMarkup=function(){return A.call(this,"span")},e}(),O=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,N.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return k.call(this,"a")},t.toMarkup=function(){return A.call(this,"a")},e}(),C=function(){function e(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e},t.toMarkup=function(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=l.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+l.escape(t)+'"'),e+="'/>"},e}(),I={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},R=function(){function e(e,t,r,n,i,o,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<x.length;t++)for(var r=x[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=I[this.text])}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var r in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=S(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=l.escape(S(this.classes)),t+='"');var r="";for(var n in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(r+=l.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+l.escape(r)+'"');var i=l.escape(this.text);return e?(t+=">",t+=i,t+="</span>"):i},e}(),D=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"},e}(),L=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",E[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+E[this.pathName]+"'/>"},e}(),q=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();function B(e){if(e instanceof R)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var P={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},z={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},U={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function $(e,t,r){if(!P[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=P[t][n];if(!i&&e[0]in U&&(n=U[e[0]].charCodeAt(0),i=P[t][n]),i||"text"!==r||_(n)&&(i=P[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var F={};var G={bin:1,close:1,inner:1,open:1,punct:1,rel:1},V={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},H={math:{},text:{}},j=H;function W(e,t,r,n,i,o){H[e][i]={font:t,group:r,replace:n},o&&n&&(H[e][n]=H[e][i])}var X="math",Y="text",Z="main",J="ams",K="accent-token",Q="bin",ee="close",te="inner",re="mathord",ne="op-token",ie="open",oe="punct",ae="rel",se="spacing",le="textord";W(X,Z,ae,"≡","\\equiv",!0),W(X,Z,ae,"≺","\\prec",!0),W(X,Z,ae,"≻","\\succ",!0),W(X,Z,ae,"∼","\\sim",!0),W(X,Z,ae,"⊥","\\perp"),W(X,Z,ae,"⪯","\\preceq",!0),W(X,Z,ae,"⪰","\\succeq",!0),W(X,Z,ae,"≃","\\simeq",!0),W(X,Z,ae,"∣","\\mid",!0),W(X,Z,ae,"≪","\\ll",!0),W(X,Z,ae,"≫","\\gg",!0),W(X,Z,ae,"≍","\\asymp",!0),W(X,Z,ae,"∥","\\parallel"),W(X,Z,ae,"⋈","\\bowtie",!0),W(X,Z,ae,"⌣","\\smile",!0),W(X,Z,ae,"⊑","\\sqsubseteq",!0),W(X,Z,ae,"⊒","\\sqsupseteq",!0),W(X,Z,ae,"≐","\\doteq",!0),W(X,Z,ae,"⌢","\\frown",!0),W(X,Z,ae,"∋","\\ni",!0),W(X,Z,ae,"∝","\\propto",!0),W(X,Z,ae,"⊢","\\vdash",!0),W(X,Z,ae,"⊣","\\dashv",!0),W(X,Z,ae,"∋","\\owns"),W(X,Z,oe,".","\\ldotp"),W(X,Z,oe,"⋅","\\cdotp"),W(X,Z,le,"#","\\#"),W(Y,Z,le,"#","\\#"),W(X,Z,le,"&","\\&"),W(Y,Z,le,"&","\\&"),W(X,Z,le,"ℵ","\\aleph",!0),W(X,Z,le,"∀","\\forall",!0),W(X,Z,le,"ℏ","\\hbar",!0),W(X,Z,le,"∃","\\exists",!0),W(X,Z,le,"∇","\\nabla",!0),W(X,Z,le,"♭","\\flat",!0),W(X,Z,le,"ℓ","\\ell",!0),W(X,Z,le,"♮","\\natural",!0),W(X,Z,le,"♣","\\clubsuit",!0),W(X,Z,le,"℘","\\wp",!0),W(X,Z,le,"♯","\\sharp",!0),W(X,Z,le,"♢","\\diamondsuit",!0),W(X,Z,le,"ℜ","\\Re",!0),W(X,Z,le,"♡","\\heartsuit",!0),W(X,Z,le,"ℑ","\\Im",!0),W(X,Z,le,"♠","\\spadesuit",!0),W(X,Z,le,"§","\\S",!0),W(Y,Z,le,"§","\\S"),W(X,Z,le,"¶","\\P",!0),W(Y,Z,le,"¶","\\P"),W(X,Z,le,"†","\\dag"),W(Y,Z,le,"†","\\dag"),W(Y,Z,le,"†","\\textdagger"),W(X,Z,le,"‡","\\ddag"),W(Y,Z,le,"‡","\\ddag"),W(Y,Z,le,"‡","\\textdaggerdbl"),W(X,Z,ee,"⎱","\\rmoustache",!0),W(X,Z,ie,"⎰","\\lmoustache",!0),W(X,Z,ee,"⟯","\\rgroup",!0),W(X,Z,ie,"⟮","\\lgroup",!0),W(X,Z,Q,"∓","\\mp",!0),W(X,Z,Q,"⊖","\\ominus",!0),W(X,Z,Q,"⊎","\\uplus",!0),W(X,Z,Q,"⊓","\\sqcap",!0),W(X,Z,Q,"∗","\\ast"),W(X,Z,Q,"⊔","\\sqcup",!0),W(X,Z,Q,"◯","\\bigcirc",!0),W(X,Z,Q,"∙","\\bullet"),W(X,Z,Q,"‡","\\ddagger"),W(X,Z,Q,"≀","\\wr",!0),W(X,Z,Q,"⨿","\\amalg"),W(X,Z,Q,"&","\\And"),W(X,Z,ae,"⟵","\\longleftarrow",!0),W(X,Z,ae,"⇐","\\Leftarrow",!0),W(X,Z,ae,"⟸","\\Longleftarrow",!0),W(X,Z,ae,"⟶","\\longrightarrow",!0),W(X,Z,ae,"⇒","\\Rightarrow",!0),W(X,Z,ae,"⟹","\\Longrightarrow",!0),W(X,Z,ae,"↔","\\leftrightarrow",!0),W(X,Z,ae,"⟷","\\longleftrightarrow",!0),W(X,Z,ae,"⇔","\\Leftrightarrow",!0),W(X,Z,ae,"⟺","\\Longleftrightarrow",!0),W(X,Z,ae,"↦","\\mapsto",!0),W(X,Z,ae,"⟼","\\longmapsto",!0),W(X,Z,ae,"↗","\\nearrow",!0),W(X,Z,ae,"↩","\\hookleftarrow",!0),W(X,Z,ae,"↪","\\hookrightarrow",!0),W(X,Z,ae,"↘","\\searrow",!0),W(X,Z,ae,"↼","\\leftharpoonup",!0),W(X,Z,ae,"⇀","\\rightharpoonup",!0),W(X,Z,ae,"↙","\\swarrow",!0),W(X,Z,ae,"↽","\\leftharpoondown",!0),W(X,Z,ae,"⇁","\\rightharpoondown",!0),W(X,Z,ae,"↖","\\nwarrow",!0),W(X,Z,ae,"⇌","\\rightleftharpoons",!0),W(X,J,ae,"≮","\\nless",!0),W(X,J,ae,"","\\@nleqslant"),W(X,J,ae,"","\\@nleqq"),W(X,J,ae,"⪇","\\lneq",!0),W(X,J,ae,"≨","\\lneqq",!0),W(X,J,ae,"","\\@lvertneqq"),W(X,J,ae,"⋦","\\lnsim",!0),W(X,J,ae,"⪉","\\lnapprox",!0),W(X,J,ae,"⊀","\\nprec",!0),W(X,J,ae,"⋠","\\npreceq",!0),W(X,J,ae,"⋨","\\precnsim",!0),W(X,J,ae,"⪹","\\precnapprox",!0),W(X,J,ae,"≁","\\nsim",!0),W(X,J,ae,"","\\@nshortmid"),W(X,J,ae,"∤","\\nmid",!0),W(X,J,ae,"⊬","\\nvdash",!0),W(X,J,ae,"⊭","\\nvDash",!0),W(X,J,ae,"⋪","\\ntriangleleft"),W(X,J,ae,"⋬","\\ntrianglelefteq",!0),W(X,J,ae,"⊊","\\subsetneq",!0),W(X,J,ae,"","\\@varsubsetneq"),W(X,J,ae,"⫋","\\subsetneqq",!0),W(X,J,ae,"","\\@varsubsetneqq"),W(X,J,ae,"≯","\\ngtr",!0),W(X,J,ae,"","\\@ngeqslant"),W(X,J,ae,"","\\@ngeqq"),W(X,J,ae,"⪈","\\gneq",!0),W(X,J,ae,"≩","\\gneqq",!0),W(X,J,ae,"","\\@gvertneqq"),W(X,J,ae,"⋧","\\gnsim",!0),W(X,J,ae,"⪊","\\gnapprox",!0),W(X,J,ae,"⊁","\\nsucc",!0),W(X,J,ae,"⋡","\\nsucceq",!0),W(X,J,ae,"⋩","\\succnsim",!0),W(X,J,ae,"⪺","\\succnapprox",!0),W(X,J,ae,"≆","\\ncong",!0),W(X,J,ae,"","\\@nshortparallel"),W(X,J,ae,"∦","\\nparallel",!0),W(X,J,ae,"⊯","\\nVDash",!0),W(X,J,ae,"⋫","\\ntriangleright"),W(X,J,ae,"⋭","\\ntrianglerighteq",!0),W(X,J,ae,"","\\@nsupseteqq"),W(X,J,ae,"⊋","\\supsetneq",!0),W(X,J,ae,"","\\@varsupsetneq"),W(X,J,ae,"⫌","\\supsetneqq",!0),W(X,J,ae,"","\\@varsupsetneqq"),W(X,J,ae,"⊮","\\nVdash",!0),W(X,J,ae,"⪵","\\precneqq",!0),W(X,J,ae,"⪶","\\succneqq",!0),W(X,J,ae,"","\\@nsubseteqq"),W(X,J,Q,"⊴","\\unlhd"),W(X,J,Q,"⊵","\\unrhd"),W(X,J,ae,"↚","\\nleftarrow",!0),W(X,J,ae,"↛","\\nrightarrow",!0),W(X,J,ae,"⇍","\\nLeftarrow",!0),W(X,J,ae,"⇏","\\nRightarrow",!0),W(X,J,ae,"↮","\\nleftrightarrow",!0),W(X,J,ae,"⇎","\\nLeftrightarrow",!0),W(X,J,ae,"△","\\vartriangle"),W(X,J,le,"ℏ","\\hslash"),W(X,J,le,"▽","\\triangledown"),W(X,J,le,"◊","\\lozenge"),W(X,J,le,"Ⓢ","\\circledS"),W(X,J,le,"®","\\circledR"),W(Y,J,le,"®","\\circledR"),W(X,J,le,"∡","\\measuredangle",!0),W(X,J,le,"∄","\\nexists"),W(X,J,le,"℧","\\mho"),W(X,J,le,"Ⅎ","\\Finv",!0),W(X,J,le,"⅁","\\Game",!0),W(X,J,le,"‵","\\backprime"),W(X,J,le,"▲","\\blacktriangle"),W(X,J,le,"▼","\\blacktriangledown"),W(X,J,le,"■","\\blacksquare"),W(X,J,le,"⧫","\\blacklozenge"),W(X,J,le,"★","\\bigstar"),W(X,J,le,"∢","\\sphericalangle",!0),W(X,J,le,"∁","\\complement",!0),W(X,J,le,"ð","\\eth",!0),W(Y,Z,le,"ð","ð"),W(X,J,le,"╱","\\diagup"),W(X,J,le,"╲","\\diagdown"),W(X,J,le,"□","\\square"),W(X,J,le,"□","\\Box"),W(X,J,le,"◊","\\Diamond"),W(X,J,le,"¥","\\yen",!0),W(Y,J,le,"¥","\\yen",!0),W(X,J,le,"✓","\\checkmark",!0),W(Y,J,le,"✓","\\checkmark"),W(X,J,le,"ℶ","\\beth",!0),W(X,J,le,"ℸ","\\daleth",!0),W(X,J,le,"ℷ","\\gimel",!0),W(X,J,le,"ϝ","\\digamma",!0),W(X,J,le,"ϰ","\\varkappa"),W(X,J,ie,"┌","\\@ulcorner",!0),W(X,J,ee,"┐","\\@urcorner",!0),W(X,J,ie,"└","\\@llcorner",!0),W(X,J,ee,"┘","\\@lrcorner",!0),W(X,J,ae,"≦","\\leqq",!0),W(X,J,ae,"⩽","\\leqslant",!0),W(X,J,ae,"⪕","\\eqslantless",!0),W(X,J,ae,"≲","\\lesssim",!0),W(X,J,ae,"⪅","\\lessapprox",!0),W(X,J,ae,"≊","\\approxeq",!0),W(X,J,Q,"⋖","\\lessdot"),W(X,J,ae,"⋘","\\lll",!0),W(X,J,ae,"≶","\\lessgtr",!0),W(X,J,ae,"⋚","\\lesseqgtr",!0),W(X,J,ae,"⪋","\\lesseqqgtr",!0),W(X,J,ae,"≑","\\doteqdot"),W(X,J,ae,"≓","\\risingdotseq",!0),W(X,J,ae,"≒","\\fallingdotseq",!0),W(X,J,ae,"∽","\\backsim",!0),W(X,J,ae,"⋍","\\backsimeq",!0),W(X,J,ae,"⫅","\\subseteqq",!0),W(X,J,ae,"⋐","\\Subset",!0),W(X,J,ae,"⊏","\\sqsubset",!0),W(X,J,ae,"≼","\\preccurlyeq",!0),W(X,J,ae,"⋞","\\curlyeqprec",!0),W(X,J,ae,"≾","\\precsim",!0),W(X,J,ae,"⪷","\\precapprox",!0),W(X,J,ae,"⊲","\\vartriangleleft"),W(X,J,ae,"⊴","\\trianglelefteq"),W(X,J,ae,"⊨","\\vDash",!0),W(X,J,ae,"⊪","\\Vvdash",!0),W(X,J,ae,"⌣","\\smallsmile"),W(X,J,ae,"⌢","\\smallfrown"),W(X,J,ae,"≏","\\bumpeq",!0),W(X,J,ae,"≎","\\Bumpeq",!0),W(X,J,ae,"≧","\\geqq",!0),W(X,J,ae,"⩾","\\geqslant",!0),W(X,J,ae,"⪖","\\eqslantgtr",!0),W(X,J,ae,"≳","\\gtrsim",!0),W(X,J,ae,"⪆","\\gtrapprox",!0),W(X,J,Q,"⋗","\\gtrdot"),W(X,J,ae,"⋙","\\ggg",!0),W(X,J,ae,"≷","\\gtrless",!0),W(X,J,ae,"⋛","\\gtreqless",!0),W(X,J,ae,"⪌","\\gtreqqless",!0),W(X,J,ae,"≖","\\eqcirc",!0),W(X,J,ae,"≗","\\circeq",!0),W(X,J,ae,"≜","\\triangleq",!0),W(X,J,ae,"∼","\\thicksim"),W(X,J,ae,"≈","\\thickapprox"),W(X,J,ae,"⫆","\\supseteqq",!0),W(X,J,ae,"⋑","\\Supset",!0),W(X,J,ae,"⊐","\\sqsupset",!0),W(X,J,ae,"≽","\\succcurlyeq",!0),W(X,J,ae,"⋟","\\curlyeqsucc",!0),W(X,J,ae,"≿","\\succsim",!0),W(X,J,ae,"⪸","\\succapprox",!0),W(X,J,ae,"⊳","\\vartriangleright"),W(X,J,ae,"⊵","\\trianglerighteq"),W(X,J,ae,"⊩","\\Vdash",!0),W(X,J,ae,"∣","\\shortmid"),W(X,J,ae,"∥","\\shortparallel"),W(X,J,ae,"≬","\\between",!0),W(X,J,ae,"⋔","\\pitchfork",!0),W(X,J,ae,"∝","\\varpropto"),W(X,J,ae,"◀","\\blacktriangleleft"),W(X,J,ae,"∴","\\therefore",!0),W(X,J,ae,"∍","\\backepsilon"),W(X,J,ae,"▶","\\blacktriangleright"),W(X,J,ae,"∵","\\because",!0),W(X,J,ae,"⋘","\\llless"),W(X,J,ae,"⋙","\\gggtr"),W(X,J,Q,"⊲","\\lhd"),W(X,J,Q,"⊳","\\rhd"),W(X,J,ae,"≂","\\eqsim",!0),W(X,Z,ae,"⋈","\\Join"),W(X,J,ae,"≑","\\Doteq",!0),W(X,J,Q,"∔","\\dotplus",!0),W(X,J,Q,"∖","\\smallsetminus"),W(X,J,Q,"⋒","\\Cap",!0),W(X,J,Q,"⋓","\\Cup",!0),W(X,J,Q,"⩞","\\doublebarwedge",!0),W(X,J,Q,"⊟","\\boxminus",!0),W(X,J,Q,"⊞","\\boxplus",!0),W(X,J,Q,"⋇","\\divideontimes",!0),W(X,J,Q,"⋉","\\ltimes",!0),W(X,J,Q,"⋊","\\rtimes",!0),W(X,J,Q,"⋋","\\leftthreetimes",!0),W(X,J,Q,"⋌","\\rightthreetimes",!0),W(X,J,Q,"⋏","\\curlywedge",!0),W(X,J,Q,"⋎","\\curlyvee",!0),W(X,J,Q,"⊝","\\circleddash",!0),W(X,J,Q,"⊛","\\circledast",!0),W(X,J,Q,"⋅","\\centerdot"),W(X,J,Q,"⊺","\\intercal",!0),W(X,J,Q,"⋒","\\doublecap"),W(X,J,Q,"⋓","\\doublecup"),W(X,J,Q,"⊠","\\boxtimes",!0),W(X,J,ae,"⇢","\\dashrightarrow",!0),W(X,J,ae,"⇠","\\dashleftarrow",!0),W(X,J,ae,"⇇","\\leftleftarrows",!0),W(X,J,ae,"⇆","\\leftrightarrows",!0),W(X,J,ae,"⇚","\\Lleftarrow",!0),W(X,J,ae,"↞","\\twoheadleftarrow",!0),W(X,J,ae,"↢","\\leftarrowtail",!0),W(X,J,ae,"↫","\\looparrowleft",!0),W(X,J,ae,"⇋","\\leftrightharpoons",!0),W(X,J,ae,"↶","\\curvearrowleft",!0),W(X,J,ae,"↺","\\circlearrowleft",!0),W(X,J,ae,"↰","\\Lsh",!0),W(X,J,ae,"⇈","\\upuparrows",!0),W(X,J,ae,"↿","\\upharpoonleft",!0),W(X,J,ae,"⇃","\\downharpoonleft",!0),W(X,Z,ae,"⊶","\\origof",!0),W(X,Z,ae,"⊷","\\imageof",!0),W(X,J,ae,"⊸","\\multimap",!0),W(X,J,ae,"↭","\\leftrightsquigarrow",!0),W(X,J,ae,"⇉","\\rightrightarrows",!0),W(X,J,ae,"⇄","\\rightleftarrows",!0),W(X,J,ae,"↠","\\twoheadrightarrow",!0),W(X,J,ae,"↣","\\rightarrowtail",!0),W(X,J,ae,"↬","\\looparrowright",!0),W(X,J,ae,"↷","\\curvearrowright",!0),W(X,J,ae,"↻","\\circlearrowright",!0),W(X,J,ae,"↱","\\Rsh",!0),W(X,J,ae,"⇊","\\downdownarrows",!0),W(X,J,ae,"↾","\\upharpoonright",!0),W(X,J,ae,"⇂","\\downharpoonright",!0),W(X,J,ae,"⇝","\\rightsquigarrow",!0),W(X,J,ae,"⇝","\\leadsto"),W(X,J,ae,"⇛","\\Rrightarrow",!0),W(X,J,ae,"↾","\\restriction"),W(X,Z,le,"‘","`"),W(X,Z,le,"$","\\$"),W(Y,Z,le,"$","\\$"),W(Y,Z,le,"$","\\textdollar"),W(X,Z,le,"%","\\%"),W(Y,Z,le,"%","\\%"),W(X,Z,le,"_","\\_"),W(Y,Z,le,"_","\\_"),W(Y,Z,le,"_","\\textunderscore"),W(X,Z,le,"∠","\\angle",!0),W(X,Z,le,"∞","\\infty",!0),W(X,Z,le,"′","\\prime"),W(X,Z,le,"△","\\triangle"),W(X,Z,le,"Γ","\\Gamma",!0),W(X,Z,le,"Δ","\\Delta",!0),W(X,Z,le,"Θ","\\Theta",!0),W(X,Z,le,"Λ","\\Lambda",!0),W(X,Z,le,"Ξ","\\Xi",!0),W(X,Z,le,"Π","\\Pi",!0),W(X,Z,le,"Σ","\\Sigma",!0),W(X,Z,le,"Υ","\\Upsilon",!0),W(X,Z,le,"Φ","\\Phi",!0),W(X,Z,le,"Ψ","\\Psi",!0),W(X,Z,le,"Ω","\\Omega",!0),W(X,Z,le,"A","Α"),W(X,Z,le,"B","Β"),W(X,Z,le,"E","Ε"),W(X,Z,le,"Z","Ζ"),W(X,Z,le,"H","Η"),W(X,Z,le,"I","Ι"),W(X,Z,le,"K","Κ"),W(X,Z,le,"M","Μ"),W(X,Z,le,"N","Ν"),W(X,Z,le,"O","Ο"),W(X,Z,le,"P","Ρ"),W(X,Z,le,"T","Τ"),W(X,Z,le,"X","Χ"),W(X,Z,le,"¬","\\neg",!0),W(X,Z,le,"¬","\\lnot"),W(X,Z,le,"⊤","\\top"),W(X,Z,le,"⊥","\\bot"),W(X,Z,le,"∅","\\emptyset"),W(X,J,le,"∅","\\varnothing"),W(X,Z,re,"α","\\alpha",!0),W(X,Z,re,"β","\\beta",!0),W(X,Z,re,"γ","\\gamma",!0),W(X,Z,re,"δ","\\delta",!0),W(X,Z,re,"ϵ","\\epsilon",!0),W(X,Z,re,"ζ","\\zeta",!0),W(X,Z,re,"η","\\eta",!0),W(X,Z,re,"θ","\\theta",!0),W(X,Z,re,"ι","\\iota",!0),W(X,Z,re,"κ","\\kappa",!0),W(X,Z,re,"λ","\\lambda",!0),W(X,Z,re,"μ","\\mu",!0),W(X,Z,re,"ν","\\nu",!0),W(X,Z,re,"ξ","\\xi",!0),W(X,Z,re,"ο","\\omicron",!0),W(X,Z,re,"π","\\pi",!0),W(X,Z,re,"ρ","\\rho",!0),W(X,Z,re,"σ","\\sigma",!0),W(X,Z,re,"τ","\\tau",!0),W(X,Z,re,"υ","\\upsilon",!0),W(X,Z,re,"ϕ","\\phi",!0),W(X,Z,re,"χ","\\chi",!0),W(X,Z,re,"ψ","\\psi",!0),W(X,Z,re,"ω","\\omega",!0),W(X,Z,re,"ε","\\varepsilon",!0),W(X,Z,re,"ϑ","\\vartheta",!0),W(X,Z,re,"ϖ","\\varpi",!0),W(X,Z,re,"ϱ","\\varrho",!0),W(X,Z,re,"ς","\\varsigma",!0),W(X,Z,re,"φ","\\varphi",!0),W(X,Z,Q,"∗","*"),W(X,Z,Q,"+","+"),W(X,Z,Q,"−","-"),W(X,Z,Q,"⋅","\\cdot",!0),W(X,Z,Q,"∘","\\circ"),W(X,Z,Q,"÷","\\div",!0),W(X,Z,Q,"±","\\pm",!0),W(X,Z,Q,"×","\\times",!0),W(X,Z,Q,"∩","\\cap",!0),W(X,Z,Q,"∪","\\cup",!0),W(X,Z,Q,"∖","\\setminus"),W(X,Z,Q,"∧","\\land"),W(X,Z,Q,"∨","\\lor"),W(X,Z,Q,"∧","\\wedge",!0),W(X,Z,Q,"∨","\\vee",!0),W(X,Z,le,"√","\\surd"),W(X,Z,ie,"⟨","\\langle",!0),W(X,Z,ie,"∣","\\lvert"),W(X,Z,ie,"∥","\\lVert"),W(X,Z,ee,"?","?"),W(X,Z,ee,"!","!"),W(X,Z,ee,"⟩","\\rangle",!0),W(X,Z,ee,"∣","\\rvert"),W(X,Z,ee,"∥","\\rVert"),W(X,Z,ae,"=","="),W(X,Z,ae,":",":"),W(X,Z,ae,"≈","\\approx",!0),W(X,Z,ae,"≅","\\cong",!0),W(X,Z,ae,"≥","\\ge"),W(X,Z,ae,"≥","\\geq",!0),W(X,Z,ae,"←","\\gets"),W(X,Z,ae,">","\\gt",!0),W(X,Z,ae,"∈","\\in",!0),W(X,Z,ae,"","\\@not"),W(X,Z,ae,"⊂","\\subset",!0),W(X,Z,ae,"⊃","\\supset",!0),W(X,Z,ae,"⊆","\\subseteq",!0),W(X,Z,ae,"⊇","\\supseteq",!0),W(X,J,ae,"⊈","\\nsubseteq",!0),W(X,J,ae,"⊉","\\nsupseteq",!0),W(X,Z,ae,"⊨","\\models"),W(X,Z,ae,"←","\\leftarrow",!0),W(X,Z,ae,"≤","\\le"),W(X,Z,ae,"≤","\\leq",!0),W(X,Z,ae,"<","\\lt",!0),W(X,Z,ae,"→","\\rightarrow",!0),W(X,Z,ae,"→","\\to"),W(X,J,ae,"≱","\\ngeq",!0),W(X,J,ae,"≰","\\nleq",!0),W(X,Z,se," ","\\ "),W(X,Z,se," ","\\space"),W(X,Z,se," ","\\nobreakspace"),W(Y,Z,se," ","\\ "),W(Y,Z,se," "," "),W(Y,Z,se," ","\\space"),W(Y,Z,se," ","\\nobreakspace"),W(X,Z,se,null,"\\nobreak"),W(X,Z,se,null,"\\allowbreak"),W(X,Z,oe,",",","),W(X,Z,oe,";",";"),W(X,J,Q,"⊼","\\barwedge",!0),W(X,J,Q,"⊻","\\veebar",!0),W(X,Z,Q,"⊙","\\odot",!0),W(X,Z,Q,"⊕","\\oplus",!0),W(X,Z,Q,"⊗","\\otimes",!0),W(X,Z,le,"∂","\\partial",!0),W(X,Z,Q,"⊘","\\oslash",!0),W(X,J,Q,"⊚","\\circledcirc",!0),W(X,J,Q,"⊡","\\boxdot",!0),W(X,Z,Q,"△","\\bigtriangleup"),W(X,Z,Q,"▽","\\bigtriangledown"),W(X,Z,Q,"†","\\dagger"),W(X,Z,Q,"⋄","\\diamond"),W(X,Z,Q,"⋆","\\star"),W(X,Z,Q,"◃","\\triangleleft"),W(X,Z,Q,"▹","\\triangleright"),W(X,Z,ie,"{","\\{"),W(Y,Z,le,"{","\\{"),W(Y,Z,le,"{","\\textbraceleft"),W(X,Z,ee,"}","\\}"),W(Y,Z,le,"}","\\}"),W(Y,Z,le,"}","\\textbraceright"),W(X,Z,ie,"{","\\lbrace"),W(X,Z,ee,"}","\\rbrace"),W(X,Z,ie,"[","\\lbrack",!0),W(Y,Z,le,"[","\\lbrack",!0),W(X,Z,ee,"]","\\rbrack",!0),W(Y,Z,le,"]","\\rbrack",!0),W(X,Z,ie,"(","\\lparen",!0),W(X,Z,ee,")","\\rparen",!0),W(Y,Z,le,"<","\\textless",!0),W(Y,Z,le,">","\\textgreater",!0),W(X,Z,ie,"⌊","\\lfloor",!0),W(X,Z,ee,"⌋","\\rfloor",!0),W(X,Z,ie,"⌈","\\lceil",!0),W(X,Z,ee,"⌉","\\rceil",!0),W(X,Z,le,"\\","\\backslash"),W(X,Z,le,"∣","|"),W(X,Z,le,"∣","\\vert"),W(Y,Z,le,"|","\\textbar",!0),W(X,Z,le,"∥","\\|"),W(X,Z,le,"∥","\\Vert"),W(Y,Z,le,"∥","\\textbardbl"),W(Y,Z,le,"~","\\textasciitilde"),W(Y,Z,le,"\\","\\textbackslash"),W(Y,Z,le,"^","\\textasciicircum"),W(X,Z,ae,"↑","\\uparrow",!0),W(X,Z,ae,"⇑","\\Uparrow",!0),W(X,Z,ae,"↓","\\downarrow",!0),W(X,Z,ae,"⇓","\\Downarrow",!0),W(X,Z,ae,"↕","\\updownarrow",!0),W(X,Z,ae,"⇕","\\Updownarrow",!0),W(X,Z,ne,"∐","\\coprod"),W(X,Z,ne,"⋁","\\bigvee"),W(X,Z,ne,"⋀","\\bigwedge"),W(X,Z,ne,"⨄","\\biguplus"),W(X,Z,ne,"⋂","\\bigcap"),W(X,Z,ne,"⋃","\\bigcup"),W(X,Z,ne,"∫","\\int"),W(X,Z,ne,"∫","\\intop"),W(X,Z,ne,"∬","\\iint"),W(X,Z,ne,"∭","\\iiint"),W(X,Z,ne,"∏","\\prod"),W(X,Z,ne,"∑","\\sum"),W(X,Z,ne,"⨂","\\bigotimes"),W(X,Z,ne,"⨁","\\bigoplus"),W(X,Z,ne,"⨀","\\bigodot"),W(X,Z,ne,"∮","\\oint"),W(X,Z,ne,"∯","\\oiint"),W(X,Z,ne,"∰","\\oiiint"),W(X,Z,ne,"⨆","\\bigsqcup"),W(X,Z,ne,"∫","\\smallint"),W(Y,Z,te,"…","\\textellipsis"),W(X,Z,te,"…","\\mathellipsis"),W(Y,Z,te,"…","\\ldots",!0),W(X,Z,te,"…","\\ldots",!0),W(X,Z,te,"⋯","\\@cdots",!0),W(X,Z,te,"⋱","\\ddots",!0),W(X,Z,le,"⋮","\\varvdots"),W(X,Z,K,"ˊ","\\acute"),W(X,Z,K,"ˋ","\\grave"),W(X,Z,K,"¨","\\ddot"),W(X,Z,K,"~","\\tilde"),W(X,Z,K,"ˉ","\\bar"),W(X,Z,K,"˘","\\breve"),W(X,Z,K,"ˇ","\\check"),W(X,Z,K,"^","\\hat"),W(X,Z,K,"⃗","\\vec"),W(X,Z,K,"˙","\\dot"),W(X,Z,K,"˚","\\mathring"),W(X,Z,re,"","\\@imath"),W(X,Z,re,"","\\@jmath"),W(X,Z,le,"ı","ı"),W(X,Z,le,"ȷ","ȷ"),W(Y,Z,le,"ı","\\i",!0),W(Y,Z,le,"ȷ","\\j",!0),W(Y,Z,le,"ß","\\ss",!0),W(Y,Z,le,"æ","\\ae",!0),W(Y,Z,le,"œ","\\oe",!0),W(Y,Z,le,"ø","\\o",!0),W(Y,Z,le,"Æ","\\AE",!0),W(Y,Z,le,"Œ","\\OE",!0),W(Y,Z,le,"Ø","\\O",!0),W(Y,Z,K,"ˊ","\\'"),W(Y,Z,K,"ˋ","\\`"),W(Y,Z,K,"ˆ","\\^"),W(Y,Z,K,"˜","\\~"),W(Y,Z,K,"ˉ","\\="),W(Y,Z,K,"˘","\\u"),W(Y,Z,K,"˙","\\."),W(Y,Z,K,"˚","\\r"),W(Y,Z,K,"ˇ","\\v"),W(Y,Z,K,"¨",'\\"'),W(Y,Z,K,"˝","\\H"),W(Y,Z,K,"◯","\\textcircled");var ue={"--":!0,"---":!0,"``":!0,"''":!0};W(Y,Z,le,"–","--",!0),W(Y,Z,le,"–","\\textendash"),W(Y,Z,le,"—","---",!0),W(Y,Z,le,"—","\\textemdash"),W(Y,Z,le,"‘","`",!0),W(Y,Z,le,"‘","\\textquoteleft"),W(Y,Z,le,"’","'",!0),W(Y,Z,le,"’","\\textquoteright"),W(Y,Z,le,"“","``",!0),W(Y,Z,le,"“","\\textquotedblleft"),W(Y,Z,le,"”","''",!0),W(Y,Z,le,"”","\\textquotedblright"),W(X,Z,le,"°","\\degree",!0),W(Y,Z,le,"°","\\degree"),W(Y,Z,le,"°","\\textdegree",!0),W(X,Z,le,"£","\\pounds"),W(X,Z,le,"£","\\mathsterling",!0),W(Y,Z,le,"£","\\pounds"),W(Y,Z,le,"£","\\textsterling",!0),W(X,J,le,"✠","\\maltese"),W(Y,J,le,"✠","\\maltese");for(var ce='0123456789/@."',pe=0;pe<ce.length;pe++){var he=ce.charAt(pe);W(X,Z,le,he,he)}for(var fe='0123456789!@*()-=+";:?/.,',de=0;de<fe.length;de++){var me=fe.charAt(de);W(Y,Z,le,me,me)}for(var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ye=0;ye<ge.length;ye++){var ve=ge.charAt(ye);W(X,Z,re,ve,ve),W(Y,Z,le,ve,ve)}W(X,J,le,"C","ℂ"),W(Y,J,le,"C","ℂ"),W(X,J,le,"H","ℍ"),W(Y,J,le,"H","ℍ"),W(X,J,le,"N","ℕ"),W(Y,J,le,"N","ℕ"),W(X,J,le,"P","ℙ"),W(Y,J,le,"P","ℙ"),W(X,J,le,"Q","ℚ"),W(Y,J,le,"Q","ℚ"),W(X,J,le,"R","ℝ"),W(Y,J,le,"R","ℝ"),W(X,J,le,"Z","ℤ"),W(Y,J,le,"Z","ℤ"),W(X,Z,re,"h","ℎ"),W(Y,Z,re,"h","ℎ");for(var xe="",be=0;be<ge.length;be++){var _e=ge.charAt(be);W(X,Z,re,_e,xe=String.fromCharCode(55349,56320+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56372+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56424+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56580+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56736+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56788+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56840+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56944+be)),W(Y,Z,le,_e,xe),be<26&&(W(X,Z,re,_e,xe=String.fromCharCode(55349,56632+be)),W(Y,Z,le,_e,xe),W(X,Z,re,_e,xe=String.fromCharCode(55349,56476+be)),W(Y,Z,le,_e,xe))}W(X,Z,re,"k",xe=String.fromCharCode(55349,56668)),W(Y,Z,le,"k",xe);for(var we=0;we<10;we++){var Ee=we.toString();W(X,Z,re,Ee,xe=String.fromCharCode(55349,57294+we)),W(Y,Z,le,Ee,xe),W(X,Z,re,Ee,xe=String.fromCharCode(55349,57314+we)),W(Y,Z,le,Ee,xe),W(X,Z,re,Ee,xe=String.fromCharCode(55349,57324+we)),W(Y,Z,le,Ee,xe),W(X,Z,re,Ee,xe=String.fromCharCode(55349,57334+we)),W(Y,Z,le,Ee,xe)}for(var Me="ÇÐÞçþ",Se=0;Se<Me.length;Se++){var Ne=Me.charAt(Se);W(X,Z,re,Ne,Ne),W(Y,Z,le,Ne,Ne)}var ke=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ae=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Te=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Oe=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ce=function(e,t){return t.size<2?e:Te[e-1][t.size-1]},Ie=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Oe[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new e(r)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:Ce(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Oe[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var r=Ce(e.BASESIZE,t);return this.size===r&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!F[t=e>=5?0:e>=3?1:2]){var r=F[t]={cssEmPerMu:z.quad[t]/18};for(var n in z)z.hasOwnProperty(n)&&(r[n]=z[n][t])}return F[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();Ie.BASESIZE=6;var Re=Ie,De={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Le={ex:!0,em:!0,mu:!0},qe=function(e){return"string"!=typeof e&&(e=e.unit),e in De||e in Le||"ex"===e},Be=function(e,t){var r;if(e.unit in De)r=De[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new n("Invalid unit: '"+e.unit+"'");r=i.fontMetrics().quad}i!==t&&(r*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},Pe=function(e,t,r){return j[r][e]&&j[r][e].replace&&(e=j[r][e].replace),{value:e,metrics:$(e,t,r)}},ze=function(e,t,r,n,i){var o,a=Pe(e,t,r),s=a.metrics;if(e=a.value,s){var l=s.italic;("text"===r||n&&"mathit"===n.font)&&(l=0),o=new R(e,s.height,s.depth,l,s.skew,s.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+r+"'"),o=new R(e,0,0,0,0,0,i);if(n){o.maxFontSize=n.sizeMultiplier,n.style.isTight()&&o.classes.push("mtight");var u=n.getColor();u&&(o.style.color=u)}return o},Ue=function(e,t){if(S(e.classes)!==S(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var r=e.classes[0];if("mbin"===r||"mord"===r)return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},$e=function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>n&&(n=o.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},Fe=function(e,t,r,n){var i=new T(e,t,r,n);return $e(i),i},Ge=function(e,t,r,n){return new T(e,t,r,n)},Ve=function(e){var t=new M(e);return $e(t),t},He=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},je={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},We={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Xe={fontMap:je,makeSymbol:ze,mathsym:function(e,t,r,n){return void 0===n&&(n=[]),"boldsymbol"===r.font&&Pe(e,"Main-Bold",t).metrics?ze(e,"Main-Bold",t,r,n.concat(["mathbf"])):"\\"===e||"main"===j[t][e].font?ze(e,"Main-Regular",t,r,n):ze(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:Fe,makeSvgSpan:Ge,makeLineSpan:function(e,t,r){var n=Fe([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=n.height+"em",n.maxFontSize=1,n},makeAnchor:function(e,t,r,n){var i=new O(e,t,r,n);return $e(i),i},makeFragment:Ve,wrapFragment:function(e,t){return e instanceof M?Fe([],[e],t):e},makeVList:function(e,t){for(var r=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,o=1;o<t.length;o++){var a=-t[o].shift-i-t[o].elem.depth,s=a-(t[o-1].elem.height+t[o-1].elem.depth);i+=a,r.push({type:"kern",size:s}),r.push(t[o])}return{children:r,depth:n}}var l;if("top"===e.positionType){for(var u=e.positionData,c=0;c<e.children.length;c++){var p=e.children[c];u-="kern"===p.type?p.size:p.elem.height+p.elem.depth}l=u}else if("bottom"===e.positionType)l=-e.positionData;else{var h=e.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-h.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-h.elem.depth}}return{children:e.children,depth:l}}(e),n=r.children,i=r.depth,o=0,a=0;a<n.length;a++){var s=n[a];if("elem"===s.type){var l=s.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=Fe(["pstrut"],[]);u.style.height=o+"em";for(var c=[],p=i,h=i,f=i,d=0;d<n.length;d++){var m=n[d];if("kern"===m.type)f+=m.size;else{var g=m.elem,y=m.wrapperClasses||[],v=m.wrapperStyle||{},x=Fe(y,[u,g],void 0,v);x.style.top=-o-f-g.depth+"em",m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),c.push(x),f+=g.height+g.depth}p=Math.min(p,f),h=Math.max(h,f)}var b,_=Fe(["vlist"],c);if(_.style.height=h+"em",p<0){var w=Fe([],[]),E=Fe(["vlist"],[w]);E.style.height=-p+"em";var M=Fe(["vlist-s"],[new R("​")]);b=[Fe(["vlist-r"],[_,M]),Fe(["vlist-r"],[E])]}else b=[Fe(["vlist-r"],[_])];var S=Fe(["vlist-t"],b);return 2===b.length&&S.classes.push("vlist-t2"),S.height=h,S.depth=-p,S},makeOrd:function(e,t,r){var i=e.mode,o=e.text,a=["mord"],s="math"===i||"text"===i&&t.font,l=s?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var u=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=r&&r<120484){var o=Math.floor((r-119808)/26);return[ke[o][2],ke[o][i]]}if(120782<=r&&r<=120831){var a=Math.floor((r-120782)/10);return[Ae[a][2],Ae[a][i]]}if(120485===r||120486===r)return[ke[0][2],ke[0][i]];if(120486<r&&r<120782)return["",""];throw new n("Unsupported character: "+e)}(o,i),c=u[0],p=u[1];return ze(o,c,i,t,a.concat(p))}if(l){var h,f;if("boldsymbol"===l){var d=function(e,t,r,n,i){return"textord"!==i&&Pe(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,i,0,0,r);h=d.fontName,f=[d.fontClass]}else s?(h=je[l].fontName,f=[l]):(h=He(l,t.fontWeight,t.fontShape),f=[l,t.fontWeight,t.fontShape]);if(Pe(o,h,i).metrics)return ze(o,h,i,t,a.concat(f));if(ue.hasOwnProperty(o)&&"Typewriter"===h.substr(0,10)){for(var m=[],g=0;g<o.length;g++)m.push(ze(o[g],h,i,t,a.concat(f)));return Ve(m)}}if("mathord"===r)return ze(o,"Math-Italic",i,t,a.concat(["mathnormal"]));if("textord"===r){var y=j[i][o]&&j[i][o].font;if("ams"===y){var v=He("amsrm",t.fontWeight,t.fontShape);return ze(o,v,i,t,a.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==y&&y){var x=He(y,t.fontWeight,t.fontShape);return ze(o,x,i,t,a.concat(x,t.fontWeight,t.fontShape))}var b=He("textrm",t.fontWeight,t.fontShape);return ze(o,b,i,t,a.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},makeGlue:function(e,t){var r=Fe(["mspace"],[],t),n=Be(e,t);return r.style.marginRight=n+"em",r},staticSvg:function(e,t){var r=We[e],n=r[0],i=r[1],o=r[2],a=new L(n),s=new D([a],{width:i+"em",height:o+"em",style:"width:"+i+"em",viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Ge(["overlay"],[s],t);return l.height=o,l.style.height=o+"em",l.style.width=i+"em",l},svgData:We,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof R&&n instanceof R&&Ue(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e}},Ye={number:3,unit:"mu"},Ze={number:4,unit:"mu"},Je={number:5,unit:"mu"},Ke={mord:{mop:Ye,mbin:Ze,mrel:Je,minner:Ye},mop:{mord:Ye,mop:Ye,mrel:Je,minner:Ye},mbin:{mord:Ze,mop:Ze,mopen:Ze,minner:Ze},mrel:{mord:Je,mop:Je,mopen:Je,minner:Je},mopen:{},mclose:{mop:Ye,mbin:Ze,mrel:Je,minner:Ye},mpunct:{mord:Ye,mop:Ye,mrel:Je,mopen:Ye,mclose:Ye,mpunct:Ye,minner:Ye},minner:{mord:Ye,mop:Ye,mbin:Ze,mrel:Je,mopen:Ye,mpunct:Ye,minner:Ye}},Qe={mord:{mop:Ye},mop:{mord:Ye,mop:Ye},mbin:{},mrel:{},mopen:{},mclose:{mop:Ye},mpunct:{},minner:{mop:Ye}},et={},tt={},rt={};function nt(e){for(var t=e.type,r=e.names,n=e.props,i=e.handler,o=e.htmlBuilder,a=e.mathmlBuilder,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)et[r[l]]=s;t&&(o&&(tt[t]=o),a&&(rt[t]=a))}function it(e){nt({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var ot=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},at=function(e){return"ordgroup"===e.type?e.body:[e]},st=Xe.makeSpan,lt=["leftmost","mbin","mopen","mrel","mop","mpunct"],ut=["rightmost","mrel","mclose","mpunct"],ct={display:v.DISPLAY,text:v.TEXT,script:v.SCRIPT,scriptscript:v.SCRIPTSCRIPT},pt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ht=function(e,t,r,n){void 0===n&&(n=[null,null]);for(var i=[],o=0;o<e.length;o++){var a=vt(e[o],t);if(a instanceof M){var s=a.children;i.push.apply(i,s)}else i.push(a)}if(Xe.tryCombineChars(i),!r)return i;var u=t;if(1===e.length){var c=e[0];"sizing"===c.type?u=t.havingSize(c.size):"styling"===c.type&&(u=t.havingStyle(ct[c.style]))}var p=st([n[0]||"leftmost"],[],t),h=st([n[1]||"rightmost"],[],t),f="root"===r;return ft(i,(function(e,t){var r=t.classes[0],n=e.classes[0];"mbin"===r&&l.contains(ut,n)?t.classes[0]="mord":"mbin"===n&&l.contains(lt,r)&&(e.classes[0]="mord")}),{node:p},h,f),ft(i,(function(e,t){var r=gt(t),n=gt(e),i=r&&n?e.hasClass("mtight")?Qe[r][n]:Ke[r][n]:null;if(i)return Xe.makeGlue(i,u)}),{node:p},h,f),i},ft=function e(t,r,n,i,o){i&&t.push(i);for(var a=0;a<t.length;a++){var s=t[a],l=dt(s);if(l)e(l.children,r,n,null,o);else{var u=!s.hasClass("mspace");if(u){var c=r(s,n.node);c&&(n.insertAfter?n.insertAfter(c):(t.unshift(c),a++))}u?n.node=s:o&&s.hasClass("newline")&&(n.node=st(["leftmost"])),n.insertAfter=function(e){return function(r){t.splice(e+1,0,r),a++}}(a)}}i&&t.pop()},dt=function(e){return e instanceof M||e instanceof O||e instanceof T&&e.hasClass("enclosing")?e:null},mt=function e(t,r){var n=dt(t);if(n){var i=n.children;if(i.length){if("right"===r)return e(i[i.length-1],"right");if("left"===r)return e(i[0],"left")}}return t},gt=function(e,t){return e?(t&&(e=mt(e,t)),pt[e.classes[0]]||null):null},yt=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return st(t.concat(r))},vt=function(e,t,r){if(!e)return st();if(tt[e.type]){var i=tt[e.type](e,t);if(r&&t.size!==r.size){i=st(t.sizingClasses(r),[i],t);var o=t.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}throw new n("Got group of unknown type: '"+e.type+"'")};function xt(e,t){var r=st(["base"],e,t),n=st(["strut"]);return n.style.height=r.height+r.depth+"em",n.style.verticalAlign=-r.depth+"em",r.children.unshift(n),r}function bt(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);var n,i=ht(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(n=i.pop());for(var o,a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var u=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(u=!0);u||(a.push(xt(s,t)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(xt(s,t)),s=[]),a.push(i[l]));s.length>0&&a.push(xt(s,t)),r?((o=xt(ht(r,t,!0))).classes=["tag"],a.push(o)):n&&a.push(n);var c=st(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),o){var p=o.children[0];p.style.height=c.height+c.depth+"em",p.style.verticalAlign=-c.depth+"em"}return c}function _t(e){return new M(e)}var wt=function(){function e(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=S(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=l.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+l.escape(S(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),Et=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return l.escape(this.toText())},t.toText=function(){return this.text},e}(),Mt={MathNode:wt,TextNode:Et,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:_t},St=function(e,t,r){return!j[t][e]||!j[t][e].replace||55349===e.charCodeAt(0)||ue.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.substr(4,2)||r.font&&"tt"===r.font.substr(4,2))||(e=j[t][e].replace),new Mt.TextNode(e)},Nt=function(e){return 1===e.length?e[0]:new Mt.MathNode("mrow",e)},kt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===r)return"bold";if("mathbb"===r)return"double-struck";if("mathfrak"===r)return"fraktur";if("mathscr"===r||"mathcal"===r)return"script";if("mathsf"===r)return"sans-serif";if("mathtt"===r)return"monospace";var i=e.text;return l.contains(["\\imath","\\jmath"],i)?null:(j[n][i]&&j[n][i].replace&&(i=j[n][i].replace),$(i,Xe.fontMap[r].fontName,n)?Xe.fontMap[r].variant:null)},At=function(e,t,r){if(1===e.length){var n=Ot(e[0],t);return r&&n instanceof wt&&"mo"===n.type&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i,o=[],a=0;a<e.length;a++){var s=Ot(e[a],t);if(s instanceof wt&&i instanceof wt){if("mtext"===s.type&&"mtext"===i.type&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){var l;(l=i.children).push.apply(l,s.children);continue}if("mn"===s.type&&"mn"===i.type){var u;(u=i.children).push.apply(u,s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===i.type){var c=s.children[0];if(c instanceof Et&&"."===c.text){var p;(p=i.children).push.apply(p,s.children);continue}}else if("mi"===i.type&&1===i.children.length){var h=i.children[0];if(h instanceof Et&&"̸"===h.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var f=s.children[0];f instanceof Et&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),o.pop())}}}o.push(s),i=s}return o},Tt=function(e,t,r){return Nt(At(e,t,r))},Ot=function(e,t){if(!e)return new Mt.MathNode("mrow");if(rt[e.type])return rt[e.type](e,t);throw new n("Got group of unknown type: '"+e.type+"'")};function Ct(e,t,r,n,i){var o,a=At(e,r);o=1===a.length&&a[0]instanceof wt&&l.contains(["mrow","mtable"],a[0].type)?a[0]:new Mt.MathNode("mrow",a);var s=new Mt.MathNode("annotation",[new Mt.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var u=new Mt.MathNode("semantics",[o,s]),c=new Mt.MathNode("math",[u]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&c.setAttribute("display","block");var p=i?"katex":"katex-mathml";return Xe.makeSpan([p],[c])}var It=function(e){return new Re({style:e.displayMode?v.DISPLAY:v.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Rt=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Xe.makeSpan(r,[e])}return e},Dt={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Lt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},qt=function(e,t,r,n,i){var o,a=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(o=Xe.makeSpan(["stretchy",t],[],i),"fbox"===t){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new q({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new q({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new D(l,{width:"100%",height:a+"em"});o=Xe.makeSvgSpan([],[u],i)}return o.height=a,o.style.height=a+"em",o},Bt=function(e){var t=new Mt.MathNode("mo",[new Mt.TextNode(Dt[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Pt=function(e,t){var r=function(){var r=4e5,n=e.label.substr(1);if(l.contains(["widehat","widecheck","widetilde","utilde"],n)){var i,o,a,s="ordgroup"===(d=e.base).type?d.body.length:1;if(s>5)"widehat"===n||"widecheck"===n?(i=420,r=2364,a=.42,o=n+"4"):(i=312,r=2340,a=.34,o="tilde4");else{var u=[1,1,2,2,3,3][s];"widehat"===n||"widecheck"===n?(r=[0,1062,2364,2364,2364][u],i=[0,239,300,360,420][u],a=[0,.24,.3,.3,.36,.42][u],o=n+u):(r=[0,600,1033,2339,2340][u],i=[0,260,286,306,312][u],a=[0,.26,.286,.3,.306,.34][u],o="tilde"+u)}var c=new L(o),p=new D([c],{width:"100%",height:a+"em",viewBox:"0 0 "+r+" "+i,preserveAspectRatio:"none"});return{span:Xe.makeSvgSpan([],[p],t),minWidth:0,height:a}}var h,f,d,m=[],g=Lt[n],y=g[0],v=g[1],x=g[2],b=x/1e3,_=y.length;if(1===_)h=["hide-tail"],f=[g[3]];else if(2===_)h=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==_)throw new Error("Correct katexImagesData or update code here to support\n                    "+_+" children.");h=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var w=0;w<_;w++){var E=new L(y[w]),M=new D([E],{width:"400em",height:b+"em",viewBox:"0 0 "+r+" "+x,preserveAspectRatio:f[w]+" slice"}),S=Xe.makeSvgSpan([h[w]],[M],t);if(1===_)return{span:S,minWidth:v,height:b};S.style.height=b+"em",m.push(S)}return{span:Xe.makeSpan(["stretchy"],m,t),minWidth:v,height:b}}(),n=r.span,i=r.minWidth,o=r.height;return n.height=o,n.style.height=o+"em",i>0&&(n.style.minWidth=i+"em"),n};function zt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Ut(e){var t=$t(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function $t(e){return e&&("atom"===e.type||V.hasOwnProperty(e.type))?e:null}var Ft=function(e,t){var r,n,i;e&&"supsub"===e.type?(r=(n=zt(e.base,"accent")).base,e.base=r,i=function(e){if(e instanceof T)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(vt(e,t)),e.base=n):r=(n=zt(e,"accent")).base;var o=vt(r,t.havingCrampedStyle()),a=0;if(n.isShifty&&l.isCharacterBox(r)){var s=l.getBaseElem(r);a=B(vt(s,t.havingCrampedStyle())).skew}var u,c=Math.min(o.height,t.fontMetrics().xHeight);if(n.isStretchy)u=Pt(n,t),u=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+2*a+"em)",marginLeft:2*a+"em"}:void 0}]},t);else{var p,h;"\\vec"===n.label?(p=Xe.staticSvg("vec",t),h=Xe.svgData.vec[1]):((p=B(p=Xe.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,h=p.width),u=Xe.makeSpan(["accent-body"],[p]);var f="\\textcircled"===n.label;f&&(u.classes.push("accent-full"),c=o.height);var d=a;f||(d-=h/2),u.style.left=d+"em","\\textcircled"===n.label&&(u.style.top=".2em"),u=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-c},{type:"elem",elem:u}]},t)}var m=Xe.makeSpan(["mord","accent"],[u],t);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},Gt=function(e,t){var r=e.isStretchy?Bt(e.label):new Mt.MathNode("mo",[St(e.label,e.mode)]),n=new Mt.MathNode("mover",[Ot(e.base,t),r]);return n.setAttribute("accent","true"),n},Vt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((function(e){return"\\"+e})).join("|"));nt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var r=ot(t[0]),n=!Vt.test(e.funcName),i=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Ft,mathmlBuilder:Gt}),nt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1,argTypes:["primitive"]},handler:function(e,t){var r=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Ft,mathmlBuilder:Gt}),nt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:function(e,t){var r=vt(e.base,t),n=Pt(e,t),i="\\utilde"===e.label?.12:0,o=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:function(e,t){var r=Bt(e.label),n=new Mt.MathNode("munder",[Ot(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Ht=function(e){var t=new Mt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};nt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,i=e.funcName;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder:function(e,t){var r,n=t.style,i=t.havingStyle(n.sup()),o=Xe.wrapFragment(vt(e.body,i,t),t),a="\\x"===e.label.slice(0,2)?"x":"cd";o.classes.push(a+"-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),(r=Xe.wrapFragment(vt(e.below,i,t),t)).classes.push(a+"-arrow-pad"));var s,l=Pt(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(c-=o.depth),r){var p=-t.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:r,shift:p}]},t)}else s=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:u}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),Xe.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder:function(e,t){var r,n=Bt(e.label);if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=Ht(Ot(e.body,t));if(e.below){var o=Ht(Ot(e.below,t));r=new Mt.MathNode("munderover",[n,o,i])}else r=new Mt.MathNode("mover",[n,i])}else if(e.below){var a=Ht(Ot(e.below,t));r=new Mt.MathNode("munder",[n,a])}else r=Ht(),r=new Mt.MathNode("mover",[n,r]);return r}});var jt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Wt=function(e){return"textord"===e.type&&"@"===e.text};function Xt(e,t,r){var n=jt[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:n,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[i],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}nt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder:function(e,t){var r=t.havingStyle(t.style.sup()),n=Xe.wrapFragment(vt(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=.8-n.depth+"em",n.height=0,n.depth=0,n},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mrow",[Ot(e.label,t)]);return(r=new Mt.MathNode("mpadded",[r])).setAttribute("width","0"),"left"===e.side&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new Mt.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),nt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(e,t){return{type:"cdlabelparent",mode:e.parser.mode,fragment:t[0]}},htmlBuilder:function(e,t){var r=Xe.wrapFragment(vt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:function(e,t){return new Mt.MathNode("mrow",[Ot(e.fragment,t)])}}),nt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var r=e.parser,i=zt(t[0],"ordgroup").body,o="",a=0;a<i.length;a++){o+=zt(i[a],"textord").text}var s=parseInt(o);if(isNaN(s))throw new n("\\@char has non-numeric argument "+o);return{type:"textord",mode:r.mode,text:String.fromCharCode(s)}}});var Yt=function(e,t){var r=ht(e.body,t.withColor(e.color),!1);return Xe.makeFragment(r)},Zt=function(e,t){var r=At(e.body,t.withColor(e.color)),n=new Mt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};nt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(e,t){var r=e.parser,n=zt(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:at(i)}},htmlBuilder:Yt,mathmlBuilder:Zt}),nt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(e,t){var r=e.parser,n=e.breakOnTokenText,i=zt(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var o=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:o}},htmlBuilder:Yt,mathmlBuilder:Zt}),nt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,r){var n=e.parser,i=r[0],o=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:o,size:i&&zt(i,"size").value}},htmlBuilder:function(e,t){var r=Xe.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=Be(e.size,t)+"em")),r},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",Be(e.size,t)+"em")),r}});var Jt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Kt=function(e){var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new n("Expected a control sequence",e);return t},Qt=function(e,t,r,n){var i=e.gullet.macros.get(r.text);null==i&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)};nt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(e){var t=e.parser,r=e.funcName;t.consumeSpaces();var i=t.fetch();if(Jt[i.text])return"\\global"!==r&&"\\\\globallong"!==r||(i.text=Jt[i.text]),zt(t.parseFunction(),"internal");throw new n("Invalid token after macro prefix",i)}}),nt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,i=t.gullet.popToken(),o=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new n("Expected a control sequence",i);for(var a,s=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(i=t.gullet.popToken()).text){if("{"===t.gullet.future().text){a=t.gullet.future(),l[s].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new n('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==s+1)throw new n('Argument number "'+i.text+'" out of order');s++,l.push([])}else{if("EOF"===i.text)throw new n("Expected a macro definition");l[s].push(i.text)}var u=t.gullet.consumeArg().tokens;return a&&u.unshift(a),"\\edef"!==r&&"\\xdef"!==r||(u=t.gullet.expandTokens(u)).reverse(),t.gullet.macros.set(o,{tokens:u,numArgs:s,delimiters:l},r===Jt[r]),{type:"internal",mode:t.mode}}}),nt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,n=Kt(t.gullet.popToken());t.gullet.consumeSpaces();var i=function(e){var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t}(t);return Qt(t,n,i,"\\\\globallet"===r),{type:"internal",mode:t.mode}}}),nt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,n=Kt(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return Qt(t,n,o,"\\\\globalfuture"===r),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var er=function(e,t,r){var n=$(j.math[e]&&j.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},tr=function(e,t,r,n){var i=r.havingBaseStyle(t),o=Xe.makeSpan(n.concat(i.sizingClasses(r)),[e],r),a=i.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},rr=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=i+"em",e.height-=i,e.depth+=i},nr=function(e,t,r,n,i,o){var a=function(e,t,r,n){return Xe.makeSymbol(e,"Size"+t+"-Regular",r,n)}(e,t,i,n),s=tr(Xe.makeSpan(["delimsizing","size"+t],[a],n),v.TEXT,n,o);return r&&rr(s,n,v.TEXT),s},ir=function(e,t,r){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Xe.makeSpan(["delimsizinginner",n],[Xe.makeSpan([],[Xe.makeSymbol(e,t,r)])])}},or=function(e,t,r){var n=P["Size4-Regular"][e.charCodeAt(0)]?P["Size4-Regular"][e.charCodeAt(0)][4].toFixed(3):P["Size1-Regular"][e.charCodeAt(0)][4].toFixed(3),i=new L("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),o=new D([i],{width:n+"em",height:t+"em",style:"width:"+n+"em",viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=Xe.makeSvgSpan([],[o],r);return a.height=t,a.style.height=t+"em",a.style.width=n+"em",{type:"elem",elem:a}},ar={type:"kern",size:-.008},sr=["|","\\lvert","\\rvert","\\vert"],lr=["\\|","\\lVert","\\rVert","\\Vert"],ur=function(e,t,r,n,i,o){var a,s,u,c;a=u=c=e,s=null;var p="Size1-Regular";"\\uparrow"===e?u=c="⏐":"\\Uparrow"===e?u=c="‖":"\\downarrow"===e?a=u="⏐":"\\Downarrow"===e?a=u="‖":"\\updownarrow"===e?(a="\\uparrow",u="⏐",c="\\downarrow"):"\\Updownarrow"===e?(a="\\Uparrow",u="‖",c="\\Downarrow"):l.contains(sr,e)?u="∣":l.contains(lr,e)?u="∥":"["===e||"\\lbrack"===e?(a="⎡",u="⎢",c="⎣",p="Size4-Regular"):"]"===e||"\\rbrack"===e?(a="⎤",u="⎥",c="⎦",p="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(u=a="⎢",c="⎣",p="Size4-Regular"):"\\lceil"===e||"⌈"===e?(a="⎡",u=c="⎢",p="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(u=a="⎥",c="⎦",p="Size4-Regular"):"\\rceil"===e||"⌉"===e?(a="⎤",u=c="⎥",p="Size4-Regular"):"("===e||"\\lparen"===e?(a="⎛",u="⎜",c="⎝",p="Size4-Regular"):")"===e||"\\rparen"===e?(a="⎞",u="⎟",c="⎠",p="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(a="⎧",s="⎨",c="⎩",u="⎪",p="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a="⎫",s="⎬",c="⎭",u="⎪",p="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(a="⎧",c="⎩",u="⎪",p="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(a="⎫",c="⎭",u="⎪",p="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(a="⎧",c="⎭",u="⎪",p="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(a="⎫",c="⎩",u="⎪",p="Size4-Regular");var h=er(a,p,i),f=h.height+h.depth,d=er(u,p,i),m=d.height+d.depth,g=er(c,p,i),y=g.height+g.depth,x=0,b=1;if(null!==s){var _=er(s,p,i);x=_.height+_.depth,b=2}var w=f+y+x,E=w+Math.max(0,Math.ceil((t-w)/(b*m)))*b*m,M=n.fontMetrics().axisHeight;r&&(M*=n.sizeMultiplier);var S=E/2-M,N=[];if(N.push(ir(c,p,i)),N.push(ar),null===s){var k=E-f-y+.016;N.push(or(u,k,n))}else{var A=(E-f-y-x)/2+.016;N.push(or(u,A,n)),N.push(ar),N.push(ir(s,p,i)),N.push(ar),N.push(or(u,A,n))}N.push(ar),N.push(ir(a,p,i));var T=n.havingBaseStyle(v.TEXT),O=Xe.makeVList({positionType:"bottom",positionData:S,children:N},T);return tr(Xe.makeSpan(["delimsizing","mult"],[O],T),v.TEXT,n,o)},cr=.08,pr=function(e,t,r,n,i){var o=function(e,t,r){t*=1e3;var n="";switch(e){case"sqrtMain":n=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize1":n=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize2":n=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize3":n=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,w);break;case"sqrtSize4":n=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,w);break;case"sqrtTall":n=function(e,t,r){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(r-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,w,r)}return n}(e,n,r),a=new L(e,o),s=new D([a],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Xe.makeSvgSpan(["hide-tail"],[s],i)},hr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],fr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],dr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],mr=[0,1.2,1.8,2.4,3],gr=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],yr=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"stack"}],vr=[{type:"small",style:v.SCRIPTSCRIPT},{type:"small",style:v.SCRIPT},{type:"small",style:v.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],xr=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},br=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&"stack"!==r[i].type;i++){var o=er(e,xr(r[i]),"math"),a=o.height+o.depth;if("small"===r[i].type&&(a*=n.havingBaseStyle(r[i].style).sizeMultiplier),a>t)return r[i]}return r[r.length-1]},_r=function(e,t,r,n,i,o){var a;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),a=l.contains(dr,e)?gr:l.contains(hr,e)?vr:yr;var s=br(e,t,a,n);return"small"===s.type?function(e,t,r,n,i,o){var a=Xe.makeSymbol(e,"Main-Regular",i,n),s=tr(a,t,n,o);return r&&rr(s,n,t),s}(e,s.style,r,n,i,o):"large"===s.type?nr(e,s.size,r,n,i,o):ur(e,t,r,n,i,o)},wr=function(e,t){var r,n,i=t.havingBaseSizing(),o=br("\\surd",e*i.sizeMultiplier,vr,i),a=i.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,u=0,c=0;return"small"===o.type?(e<1?a=1:e<1.4&&(a=.7),u=(1+s)/a,(r=pr("sqrtMain",l=(1+s+cr)/a,c=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",n=.833/a):"large"===o.type?(c=1080*mr[o.size],u=(mr[o.size]+s)/a,l=(mr[o.size]+s+cr)/a,(r=pr("sqrtSize"+o.size,l,c,s,t)).style.minWidth="1.02em",n=1/a):(l=e+s+cr,u=e+s,c=Math.floor(1e3*e+s)+80,(r=pr("sqrtTall",l,c,s,t)).style.minWidth="0.742em",n=1.056),r.height=u,r.style.height=l+"em",{span:r,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},Er=function(e,t,r,i,o){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),l.contains(hr,e)||l.contains(dr,e))return nr(e,t,!1,r,i,o);if(l.contains(fr,e))return ur(e,mr[t],!1,r,i,o);throw new n("Illegal delimiter: '"+e+"'")},Mr=mr,Sr=_r,Nr=function(e,t,r,n,i,o){var a=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(t-a,r+a),u=Math.max(l/500*901,2*l-s);return _r(e,u,!0,n,i,o)},kr={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ar=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tr(e,t){var r=$t(e);if(r&&l.contains(Ar,r.text))return r;throw new n(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Or(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(e,t){var r=Tr(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:kr[e.funcName].size,mclass:kr[e.funcName].mclass,delim:r.text}},htmlBuilder:function(e,t){return"."===e.delim?Xe.makeSpan([e.mclass]):Er(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(St(e.delim,e.mode));var r=new Mt.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true"),r.setAttribute("minsize",Mr[e.size]+"em"),r.setAttribute("maxsize",Mr[e.size]+"em"),r}}),nt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser.gullet.macros.get("\\current@color");if(r&&"string"!=typeof r)throw new n("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Tr(t[0],e).text,color:r}}}),nt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=Tr(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var o=zt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:o.delim,rightColor:o.color}},htmlBuilder:function(e,t){Or(e);for(var r,n,i=ht(e.body,t,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=t.sizeMultiplier,a*=t.sizeMultiplier,r="."===e.left?yt(t,["mopen"]):Nr(e.left,o,a,t,e.mode,["mopen"]),i.unshift(r),s)for(var u=1;u<i.length;u++){var c=i[u].isMiddle;c&&(i[u]=Nr(c.delim,o,a,c.options,e.mode,[]))}if("."===e.right)n=yt(t,["mclose"]);else{var p=e.rightColor?t.withColor(e.rightColor):t;n=Nr(e.right,o,a,p,e.mode,["mclose"])}return i.push(n),Xe.makeSpan(["minner"],i,t)},mathmlBuilder:function(e,t){Or(e);var r=At(e.body,t);if("."!==e.left){var n=new Mt.MathNode("mo",[St(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.right){var i=new Mt.MathNode("mo",[St(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return Nt(r)}}),nt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=Tr(t[0],e);if(!e.parser.leftrightDepth)throw new n("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:function(e,t){var r;if("."===e.delim)r=yt(t,[]);else{r=Er(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:function(e,t){var r="\\vert"===e.delim||"|"===e.delim?St("|","text"):St(e.delim,e.mode),n=new Mt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Cr=function(e,t){var r,n,i,o=Xe.wrapFragment(vt(e.body,t),t),a=e.label.substr(1),s=t.sizeMultiplier,u=0,c=l.isCharacterBox(e.body);if("sout"===a)(r=Xe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,u=-.5*t.fontMetrics().xHeight;else if("phase"===a){var p=Be({number:.6,unit:"pt"},t),h=Be({number:.35,unit:"ex"},t);s/=t.havingBaseSizing().sizeMultiplier;var f=o.height+o.depth+p+h;o.style.paddingLeft=f/2+p+"em";var d=Math.floor(1e3*f*s),m="M400000 "+(n=d)+" H0 L"+n/2+" 0 l65 45 L145 "+(n-80)+" H400000z",g=new D([new L("phase",m)],{width:"400em",height:d/1e3+"em",viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});(r=Xe.makeSvgSpan(["hide-tail"],[g],t)).style.height=f+"em",u=o.depth+p+h}else{/cancel/.test(a)?c||o.classes.push("cancel-pad"):"angl"===a?o.classes.push("anglpad"):o.classes.push("boxpad");var y=0,v=0,x=0;/box/.test(a)?(x=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=y=t.fontMetrics().fboxsep+("colorbox"===a?0:x)):"angl"===a?(y=4*(x=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),v=Math.max(0,.25-o.depth)):v=y=c?.2:0,r=qt(o,a,y,v,t),/fbox|boxed|fcolorbox/.test(a)?(r.style.borderStyle="solid",r.style.borderWidth=x+"em"):"angl"===a&&.049!==x&&(r.style.borderTopWidth=x+"em",r.style.borderRightWidth=x+"em"),u=o.depth+v,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)i=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:o,shift:0}]},t);else{var b=/cancel|phase/.test(a)?["svg-align"]:[];i=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:r,shift:u,wrapperClasses:b}]},t)}return/cancel/.test(a)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(a)&&!c?Xe.makeSpan(["mord","cancel-lap"],[i],t):Xe.makeSpan(["mord"],[i],t)},Ir=function(e,t){var r=0,n=new Mt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ot(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};nt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(e,t,r){var n=e.parser,i=e.funcName,o=zt(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:Cr,mathmlBuilder:Ir}),nt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(e,t,r){var n=e.parser,i=e.funcName,o=zt(t[0],"color-token").color,a=zt(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:Cr,mathmlBuilder:Ir}),nt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),nt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Cr,mathmlBuilder:Ir}),nt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\angl",body:t[0]}}});var Rr={};function Dr(e){for(var t=e.type,r=e.names,n=e.props,i=e.handler,o=e.htmlBuilder,a=e.mathmlBuilder,s={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)Rr[r[l]]=s;o&&(tt[t]=o),a&&(rt[t]=a)}function Lr(e){var t=[];e.consumeSpaces();for(var r=e.fetch().text;"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.fetch().text;return t}var qr=function(e){if(!e.parser.settings.displayMode)throw new n("{"+e.envName+"} can be used only in display mode.")};function Br(e,t,r){var i=t.hskipBeforeAndAfter,o=t.addJot,a=t.cols,s=t.arraystretch,l=t.colSeparationType,u=t.addEqnNum,c=t.singleRow,p=t.emptySingleRow,h=t.maxNumCols,f=t.leqno;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var d=e.gullet.expandMacroAsText("\\arraystretch");if(null==d)s=1;else if(!(s=parseFloat(d))||s<0)throw new n("Invalid \\arraystretch: "+d)}e.gullet.beginGroup();var m=[],g=[m],y=[],v=[];for(v.push(Lr(e));;){var x=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),x={type:"ordgroup",mode:e.mode,body:x},r&&(x={type:"styling",mode:e.mode,style:r,body:[x]}),m.push(x);var b=e.fetch().text;if("&"===b){if(h&&m.length===h){if(c||l)throw new n("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===b){1===m.length&&"styling"===x.type&&0===x.body[0].body.length&&(g.length>1||!p)&&g.pop(),v.length<g.length+1&&v.push([]);break}if("\\\\"!==b)throw new n("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var _=void 0;" "!==e.gullet.future().text&&(_=e.parseSizeGroup(!0)),y.push(_?_.value:null),v.push(Lr(e)),m=[],g.push(m)}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:s,body:g,cols:a,rowGaps:y,hskipBeforeAndAfter:i,hLinesBeforeRow:v,colSeparationType:l,addEqnNum:u,leqno:f}}function Pr(e){return"d"===e.substr(0,1)?"display":"text"}var zr=function(e,t){var r,i,o=e.body.length,a=e.hLinesBeforeRow,s=0,u=new Array(o),c=[],p=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,f=5*h;e.colSeparationType&&"small"===e.colSeparationType&&(f=t.havingStyle(v.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var d="CD"===e.colSeparationType?Be({number:3,unit:"ex"},t):12*h,m=3*h,g=e.arraystretch*d,y=.7*g,x=.3*g,b=0;function _(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),c.push({pos:b,isDashed:e[t]})}for(_(a[0]),r=0;r<e.body.length;++r){var w=e.body[r],E=y,M=x;s<w.length&&(s=w.length);var S=new Array(w.length);for(i=0;i<w.length;++i){var N=vt(w[i],t);M<N.depth&&(M=N.depth),E<N.height&&(E=N.height),S[i]=N}var k=e.rowGaps[r],A=0;k&&(A=Be(k,t))>0&&(M<(A+=x)&&(M=A),A=0),e.addJot&&(M+=m),S.height=E,S.depth=M,b+=E,S.pos=b,b+=M+A,u[r]=S,_(a[r+1])}var T,O,C=b/2+t.fontMetrics().axisHeight,I=e.cols||[],R=[],D=[];if(e.addEqnNum)for(r=0;r<o;++r){var L=u[r],q=L.pos-C,B=Xe.makeSpan(["eqn-num"],[],t);B.depth=L.depth,B.height=L.height,D.push({type:"elem",elem:B,shift:q})}for(i=0,O=0;i<s||O<I.length;++i,++O){for(var P=I[O]||{},z=!0;"separator"===P.type;){if(z||((T=Xe.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",R.push(T)),"|"!==P.separator&&":"!==P.separator)throw new n("Invalid separator type: "+P.separator);var U="|"===P.separator?"solid":"dashed",$=Xe.makeSpan(["vertical-separator"],[],t);$.style.height=b+"em",$.style.borderRightWidth=p+"em",$.style.borderRightStyle=U,$.style.margin="0 -"+p/2+"em",$.style.verticalAlign=-(b-C)+"em",R.push($),P=I[++O]||{},z=!1}if(!(i>=s)){var F=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(F=l.deflt(P.pregap,f))&&((T=Xe.makeSpan(["arraycolsep"],[])).style.width=F+"em",R.push(T));var G=[];for(r=0;r<o;++r){var V=u[r],H=V[i];if(H){var j=V.pos-C;H.depth=V.depth,H.height=V.height,G.push({type:"elem",elem:H,shift:j})}}G=Xe.makeVList({positionType:"individualShift",children:G},t),G=Xe.makeSpan(["col-align-"+(P.align||"c")],[G]),R.push(G),(i<s-1||e.hskipBeforeAndAfter)&&0!==(F=l.deflt(P.postgap,f))&&((T=Xe.makeSpan(["arraycolsep"],[])).style.width=F+"em",R.push(T))}}if(u=Xe.makeSpan(["mtable"],R),c.length>0){for(var W=Xe.makeLineSpan("hline",t,p),X=Xe.makeLineSpan("hdashline",t,p),Y=[{type:"elem",elem:u,shift:0}];c.length>0;){var Z=c.pop(),J=Z.pos-C;Z.isDashed?Y.push({type:"elem",elem:X,shift:J}):Y.push({type:"elem",elem:W,shift:J})}u=Xe.makeVList({positionType:"individualShift",children:Y},t)}if(e.addEqnNum){var K=Xe.makeVList({positionType:"individualShift",children:D},t);return K=Xe.makeSpan(["tag"],[K],t),Xe.makeFragment([u,K])}return Xe.makeSpan(["mord"],[u],t)},Ur={c:"center ",l:"left ",r:"right "},$r=function(e,t){for(var r=[],n=new Mt.MathNode("mtd",[],["mtr-glue"]),i=new Mt.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],s=[],l=0;l<a.length;l++)s.push(new Mt.MathNode("mtd",[Ot(a[l],t)]));e.addEqnNum&&(s.unshift(n),s.push(n),e.leqno?s.unshift(i):s.push(i)),r.push(new Mt.MathNode("mtr",s))}var u=new Mt.MathNode("mtable",r),c=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",c.toFixed(4)+"em");var p="",h="";if(e.cols&&e.cols.length>0){var f=e.cols,d="",m=!1,g=0,y=f.length;"separator"===f[0].type&&(p+="top ",g=1),"separator"===f[f.length-1].type&&(p+="bottom ",y-=1);for(var v=g;v<y;v++)"align"===f[v].type?(h+=Ur[f[v].align],m&&(d+="none "),m=!0):"separator"===f[v].type&&m&&(d+="|"===f[v].separator?"solid ":"dashed ",m=!1);u.setAttribute("columnalign",h.trim()),/[sd]/.test(d)&&u.setAttribute("columnlines",d.trim())}if("align"===e.colSeparationType){for(var x=e.cols||[],b="",_=1;_<x.length;_++)b+=_%2?"0em ":"1em ";u.setAttribute("columnspacing",b.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?u.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?u.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var w="",E=e.hLinesBeforeRow;p+=E[0].length>0?"left ":"",p+=E[E.length-1].length>0?"right ":"";for(var M=1;M<E.length-1;M++)w+=0===E[M].length?"none ":E[M][0]?"dashed ":"solid ";return/[sd]/.test(w)&&u.setAttribute("rowlines",w.trim()),""!==p&&(u=new Mt.MathNode("menclose",[u])).setAttribute("notation",p.trim()),e.arraystretch&&e.arraystretch<1&&(u=new Mt.MathNode("mstyle",[u])).setAttribute("scriptlevel","1"),u},Fr=function(e,t){-1===e.envName.indexOf("ed")&&qr(e);var r,i=[],o=e.envName.indexOf("at")>-1?"alignat":"align",a=Br(e.parser,{cols:i,addJot:!0,addEqnNum:"align"===e.envName||"alignat"===e.envName,emptySingleRow:!0,colSeparationType:o,maxNumCols:"split"===e.envName?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var u="",c=0;c<t[0].body.length;c++){u+=zt(t[0].body[c],"textord").text}r=Number(u),s=2*r}var p=!s;a.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var i=zt(e[t],"styling");zt(i.body[0],"ordgroup").body.unshift(l)}if(p)s<e.length&&(s=e.length);else{var o=e.length/2;if(r<o)throw new n("Too many math in a row: expected "+r+", but got "+o,e[0])}}));for(var h=0;h<s;++h){var f="r",d=0;h%2==1?f="l":h>0&&p&&(d=1),i[h]={type:"align",align:f,pregap:d,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};Dr({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var r=($t(t[0])?[t[0]]:zt(t[0],"ordgroup").body).map((function(e){var t=Ut(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new n("Unknown column alignment: "+t,e)})),i={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Br(e.parser,i,Pr(e.envName))},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),r=o.fetch().text,-1==="lcr".indexOf(r))throw new n("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),i.cols=[{type:"align",align:r}]}}var a=Br(e.parser,i,Pr(e.envName));return a.cols=new Array(a.body[0].length).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(e){var t=Br(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["subarray"],props:{numArgs:1},handler:function(e,t){var r=($t(t[0])?[t[0]]:zt(t[0],"ordgroup").body).map((function(e){var t=Ut(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new n("Unknown column alignment: "+t,e)}));if(r.length>1)throw new n("{subarray} can contain only one column");var i={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((i=Br(e.parser,i,"script")).body.length>0&&i.body[0].length>1)throw new n("{subarray} can contain only one column");return i},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(e){var t=Br(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Pr(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Fr,htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(e){l.contains(["gather","gather*"],e.envName)&&qr(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:"gather"===e.envName,emptySingleRow:!0,leqno:e.parser.settings.leqno};return Br(e.parser,t,"display")},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Fr,htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(e){qr(e);var t={addEqnNum:"equation"===e.envName,emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Br(e.parser,t,"display")},htmlBuilder:zr,mathmlBuilder:$r}),Dr({type:"array",names:["CD"],props:{numArgs:0},handler:function(e){return qr(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if("&"!==r&&"\\\\"!==r){if("\\end"===r){0===t[t.length-1].length&&t.pop();break}throw new n("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var i,o,a=[],s=[a],l=0;l<t.length;l++){for(var u=t[l],c={type:"styling",body:[],mode:"math",style:"display"},p=0;p<u.length;p++)if(Wt(u[p])){a.push(c);var h=Ut(u[p+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(h)>-1);else{if(!("<>AV".indexOf(h)>-1))throw new n('Expected one of "<>AV=|." after @',u[p]);for(var d=0;d<2;d++){for(var m=!0,g=p+1;g<u.length;g++){if(o=h,("mathord"===(i=u[g]).type||"atom"===i.type)&&i.text===o){m=!1,p=g;break}if(Wt(u[g]))throw new n("Missing a "+h+" character to complete a CD arrow.",u[g]);f[d].body.push(u[g])}if(m)throw new n("Missing a "+h+" character to complete a CD arrow.",u[p])}}var y={type:"styling",body:[Xt(h,f,e)],mode:"math",style:"display"};a.push(y),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(u[p]);l%2==0?a.push(c):a.shift(),a=[],s.push(a)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(e.parser)},htmlBuilder:zr,mathmlBuilder:$r}),nt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new n(e.funcName+" valid only within array environment")}});var Gr=Rr;nt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var r=e.parser,i=e.funcName,o=t[0];if("ordgroup"!==o.type)throw new n("Invalid environment name",o);for(var a="",s=0;s<o.body.length;++s)a+=zt(o.body[s],"textord").text;if("\\begin"===i){if(!Gr.hasOwnProperty(a))throw new n("No such environment: "+a,o);var l=Gr[a],u=r.parseArguments("\\begin{"+a+"}",l),c=u.args,p=u.optArgs,h={mode:r.mode,envName:a,parser:r},f=l.handler(h,c,p);r.expect("\\end",!1);var d=r.nextToken,m=zt(r.parseFunction(),"environment");if(m.name!==a)throw new n("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",d);return f}return{type:"environment",mode:r.mode,name:a,nameGroup:o}}});var Vr=Xe.makeSpan;function Hr(e,t){var r=ht(e.body,t,!0);return Vr([e.mclass],r,t)}function jr(e,t){var r,n=At(e.body,t);return"minner"===e.mclass?Mt.newDocumentFragment(n):("mord"===e.mclass?e.isCharacterBox?(r=n[0]).type="mi":r=new Mt.MathNode("mi",n):(e.isCharacterBox?(r=n[0]).type="mo":r=new Mt.MathNode("mo",n),"mbin"===e.mclass?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):"mpunct"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):"mopen"!==e.mclass&&"mclose"!==e.mclass||(r.attributes.lspace="0em",r.attributes.rspace="0em")),r)}nt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:at(i),isCharacterBox:l.isCharacterBox(i)}},htmlBuilder:Hr,mathmlBuilder:jr});var Wr=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};nt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:Wr(t[0]),body:at(t[1]),isCharacterBox:l.isCharacterBox(t[1])}}}),nt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var r,n=e.parser,i=e.funcName,o=t[1],a=t[0];r="\\stackrel"!==i?Wr(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:at(o)},u={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:n.mode,mclass:r,body:[u],isCharacterBox:l.isCharacterBox(u)}},htmlBuilder:Hr,mathmlBuilder:jr});var Xr=function(e,t){var r=e.font,n=t.withFont(r);return vt(e.body,n)},Yr=function(e,t){var r=e.font,n=t.withFont(r);return Ot(e.body,n)},Zr={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=ot(t[0]),o=n;return o in Zr&&(o=Zr[o]),{type:"font",mode:r.mode,font:o.slice(1),body:i}},htmlBuilder:Xr,mathmlBuilder:Yr}),nt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0],i=l.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:Wr(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}}),nt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=e.breakOnTokenText,o=r.mode,a=r.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:Xr,mathmlBuilder:Yr});var Jr=function(e,t){var r=t;return"display"===e?r=r.id>=v.SCRIPT.id?r.text():v.DISPLAY:"text"===e&&r.size===v.DISPLAY.size?r=v.TEXT:"script"===e?r=v.SCRIPT:"scriptscript"===e&&(r=v.SCRIPTSCRIPT),r},Kr=function(e,t){var r,n=Jr(e.size,t.style),i=n.fracNum(),o=n.fracDen();r=t.havingStyle(i);var a=vt(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}r=t.havingStyle(o);var u,c,p,h,f,d,m,g,y,x,b=vt(e.denom,r,t);if(e.hasBarLine?(e.barSize?(c=Be(e.barSize,t),u=Xe.makeLineSpan("frac-line",t,c)):u=Xe.makeLineSpan("frac-line",t),c=u.height,p=u.height):(u=null,c=0,p=t.fontMetrics().defaultRuleThickness),n.size===v.DISPLAY.size||"display"===e.size?(h=t.fontMetrics().num1,f=c>0?3*p:7*p,d=t.fontMetrics().denom1):(c>0?(h=t.fontMetrics().num2,f=p):(h=t.fontMetrics().num3,f=3*p),d=t.fontMetrics().denom2),u){var _=t.fontMetrics().axisHeight;h-a.depth-(_+.5*c)<f&&(h+=f-(h-a.depth-(_+.5*c))),_-.5*c-(b.height-d)<f&&(d+=f-(_-.5*c-(b.height-d)));var w=-(_-.5*c);m=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:d},{type:"elem",elem:u,shift:w},{type:"elem",elem:a,shift:-h}]},t)}else{var E=h-a.depth-(b.height-d);E<f&&(h+=.5*(f-E),d+=.5*(f-E)),m=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:d},{type:"elem",elem:a,shift:-h}]},t)}return r=t.havingStyle(n),m.height*=r.sizeMultiplier/t.sizeMultiplier,m.depth*=r.sizeMultiplier/t.sizeMultiplier,g=n.size===v.DISPLAY.size?t.fontMetrics().delim1:n.size===v.SCRIPTSCRIPT.size?t.havingStyle(v.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,y=null==e.leftDelim?yt(t,["mopen"]):Sr(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),x=e.continued?Xe.makeSpan([]):null==e.rightDelim?yt(t,["mclose"]):Sr(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),Xe.makeSpan(["mord"].concat(r.sizingClasses(t)),[y,Xe.makeSpan(["mfrac"],[m]),x],t)},Qr=function(e,t){var r=new Mt.MathNode("mfrac",[Ot(e.numer,t),Ot(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=Be(e.barSize,t);r.setAttribute("linethickness",n+"em")}}else r.setAttribute("linethickness","0px");var i=Jr(e.size,t.style);if(i.size!==t.style.size){r=new Mt.MathNode("mstyle",[r]);var o=i.size===v.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",o),r.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var a=[];if(null!=e.leftDelim){var s=new Mt.MathNode("mo",[new Mt.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(r),null!=e.rightDelim){var l=new Mt.MathNode("mo",[new Mt.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Nt(a)}return r};nt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(e,t){var r,n=e.parser,i=e.funcName,o=t[0],a=t[1],s=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:a,hasBarLine:r,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:Kr,mathmlBuilder:Qr}),nt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(e,t){var r=e.parser,n=(e.funcName,t[0]),i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),nt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,r=e.parser,n=e.funcName,i=e.token;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:i}}});var en=["display","text","script","scriptscript"],tn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};nt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var r,n=e.parser,i=t[4],o=t[5],a=ot(t[0]),s="atom"===a.type&&"open"===a.family?tn(a.text):null,l=ot(t[1]),u="atom"===l.type&&"close"===l.family?tn(l.text):null,c=zt(t[2],"size"),p=null;r=!!c.isBlank||(p=c.value).number>0;var h="auto",f=t[3];if("ordgroup"===f.type){if(f.body.length>0){var d=zt(f.body[0],"textord");h=en[Number(d.text)]}}else f=zt(f,"textord"),h=en[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:r,barSize:p,leftDelim:s,rightDelim:u,size:h}},htmlBuilder:Kr,mathmlBuilder:Qr}),nt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var r=e.parser,n=(e.funcName,e.token);return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:zt(t[0],"size").value,token:n}}}),nt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var r=e.parser,n=(e.funcName,t[0]),i=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(zt(t[1],"infix").size),o=t[2],a=i.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:o,continued:!1,hasBarLine:a,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Kr,mathmlBuilder:Qr});var rn=function(e,t){var r,n,i=t.style;"supsub"===e.type?(r=e.sup?vt(e.sup,t.havingStyle(i.sup()),t):vt(e.sub,t.havingStyle(i.sub()),t),n=zt(e.base,"horizBrace")):n=zt(e,"horizBrace");var o,a=vt(n.base,t.havingBaseStyle(v.DISPLAY)),s=Pt(n,t);if(n.isOver?(o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=Xe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=Xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t);o=n.isOver?Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):Xe.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Xe.makeSpan(["mord",n.isOver?"mover":"munder"],[o],t)};nt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:rn,mathmlBuilder:function(e,t){var r=Bt(e.label);return new Mt.MathNode(e.isOver?"mover":"munder",[Ot(e.base,t),r])}}),nt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[1],i=zt(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:at(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:function(e,t){var r=ht(e.body,t,!1);return Xe.makeAnchor(e.href,[],r,t)},mathmlBuilder:function(e,t){var r=Tt(e.body,t);return r instanceof wt||(r=new wt("mrow",[r])),r.setAttribute("href",e.href),r}}),nt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=zt(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];"~"===a&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:at(s)}}}),nt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(e,t){return{type:"hbox",mode:e.parser.mode,body:at(t[0])}},htmlBuilder:function(e,t){var r=ht(e.body,t,!1);return Xe.makeFragment(r)},mathmlBuilder:function(e,t){return new Mt.MathNode("mrow",At(e.body,t))}}),nt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(e,t){var r,i=e.parser,o=e.funcName,a=(e.token,zt(t[0],"raw").string),s=t[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(o){case"\\htmlClass":l.class=a,r={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,r={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,r={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var u=a.split(","),c=0;c<u.length;c++){var p=u[c].split("=");if(2!==p.length)throw new n("Error parsing key-value for \\htmlData");l["data-"+p[0].trim()]=p[1].trim()}r={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(r)?{type:"html",mode:i.mode,attributes:l,body:at(s)}:i.formatUnsupportedCmd(o)},htmlBuilder:function(e,t){var r=ht(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push.apply(n,e.attributes.class.trim().split(/\s+/));var i=Xe.makeSpan(n,r,t);for(var o in e.attributes)"class"!==o&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:function(e,t){return Tt(e.body,t)}}),nt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:at(t[0]),mathml:at(t[1])}},htmlBuilder:function(e,t){var r=ht(e.html,t,!1);return Xe.makeFragment(r)},mathmlBuilder:function(e,t){return Tt(e.mathml,t)}});var nn=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new n("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!qe(r))throw new n("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};nt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(e,t,r){var i=e.parser,o={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var u=zt(r[0],"raw").string.split(","),c=0;c<u.length;c++){var p=u[c].split("=");if(2===p.length){var h=p[1].trim();switch(p[0].trim()){case"alt":l=h;break;case"width":o=nn(h);break;case"height":a=nn(h);break;case"totalheight":s=nn(h);break;default:throw new n("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var f=zt(t[0],"url").url;return""===l&&(l=(l=(l=f).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:i.mode,alt:l,width:o,height:a,totalheight:s,src:f}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(e,t){var r=Be(e.height,t),n=0;e.totalheight.number>0&&(n=Be(e.totalheight,t)-r,n=Number(n.toFixed(2)));var i=0;e.width.number>0&&(i=Be(e.width,t));var o={height:r+n+"em"};i>0&&(o.width=i+"em"),n>0&&(o.verticalAlign=-n+"em");var a=new C(e.src,e.alt,o);return a.height=r,a.depth=n,a},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Be(e.height,t),i=0;if(e.totalheight.number>0&&(i=(i=Be(e.totalheight,t)-n).toFixed(2),r.setAttribute("valign","-"+i+"em")),r.setAttribute("height",n+i+"em"),e.width.number>0){var o=Be(e.width,t);r.setAttribute("width",o+"em")}return r.setAttribute("src",e.src),r}}),nt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=zt(t[0],"size");if(r.settings.strict){var o="m"===n[1],a="mu"===i.value.unit;o?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:function(e,t){return Xe.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var r=Be(e.dimension,t);return new Mt.SpaceNode(r)}}),nt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:function(e,t){var r;"clap"===e.alignment?(r=Xe.makeSpan([],[vt(e.body,t)]),r=Xe.makeSpan(["inner"],[r],t)):r=Xe.makeSpan(["inner"],[vt(e.body,t)]);var n=Xe.makeSpan(["fix"],[]),i=Xe.makeSpan([e.alignment],[r,n],t),o=Xe.makeSpan(["strut"]);return o.style.height=i.height+i.depth+"em",o.style.verticalAlign=-i.depth+"em",i.children.unshift(o),i=Xe.makeSpan(["thinbox"],[i],t),Xe.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Ot(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),nt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var r=e.funcName,n=e.parser,i=n.mode;n.switchMode("math");var o="\\("===r?"\\)":"$",a=n.parseExpression(!1,o);return n.expect(o),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}}),nt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new n("Mismatched "+e.funcName)}});var on=function(e,t){switch(t.style.size){case v.DISPLAY.size:return e.display;case v.TEXT.size:return e.text;case v.SCRIPT.size:return e.script;case v.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};nt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:at(t[0]),text:at(t[1]),script:at(t[2]),scriptscript:at(t[3])}},htmlBuilder:function(e,t){var r=on(e,t),n=ht(r,t,!1);return Xe.makeFragment(n)},mathmlBuilder:function(e,t){var r=on(e,t);return Tt(r,t)}});var an=function(e,t,r,n,i,o,a){var s,l,u;if(e=Xe.makeSpan([],[e]),t){var c=vt(t,n.havingStyle(i.sup()),n);l={elem:c,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var p=vt(r,n.havingStyle(i.sub()),n);s={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}if(l&&s){var h=n.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+a;u=Xe.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:-o+"em"},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:o+"em"},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(s){var f=e.height-a;u=Xe.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:-o+"em"},{type:"kern",size:s.kern},{type:"elem",elem:e}]},n)}else{if(!l)return e;var d=e.depth+a;u=Xe.makeVList({positionType:"bottom",positionData:d,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:o+"em"},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}return Xe.makeSpan(["mop","op-limits"],[u],n)},sn=["\\smallint"],ln=function(e,t){var r,n,i,o=!1;"supsub"===e.type?(r=e.sup,n=e.sub,i=zt(e.base,"op"),o=!0):i=zt(e,"op");var a,s=t.style,u=!1;if(s.size===v.DISPLAY.size&&i.symbol&&!l.contains(sn,i.name)&&(u=!0),i.symbol){var c=u?"Size2-Regular":"Size1-Regular",p="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(p=i.name.substr(1),i.name="oiint"===p?"\\iint":"\\iiint"),a=Xe.makeSymbol(i.name,c,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),p.length>0){var h=a.italic,f=Xe.staticSvg(p+"Size"+(u?"2":"1"),t);a=Xe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:f,shift:u?.08:0}]},t),i.name="\\"+p,a.classes.unshift("mop"),a.italic=h}}else if(i.body){var d=ht(i.body,t,!0);1===d.length&&d[0]instanceof R?(a=d[0]).classes[0]="mop":a=Xe.makeSpan(["mop"],d,t)}else{for(var m=[],g=1;g<i.name.length;g++)m.push(Xe.mathsym(i.name[g],i.mode,t));a=Xe.makeSpan(["mop"],m,t)}var y=0,x=0;return(a instanceof R||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(y=(a.height-a.depth)/2-t.fontMetrics().axisHeight,x=a.italic),o?an(a,r,n,t,s,x,y):(y&&(a.style.position="relative",a.style.top=y+"em"),a)},un=function(e,t){var r;if(e.symbol)r=new wt("mo",[St(e.name,e.mode)]),l.contains(sn,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new wt("mo",At(e.body,t));else{r=new wt("mi",[new Et(e.name.slice(1))]);var n=new wt("mo",[St("⁡","text")]);r=e.parentIsSupSub?new wt("mrow",[r,n]):_t([r,n])}return r},cn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};nt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var r=e.parser,n=e.funcName;return 1===n.length&&(n=cn[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:ln,mathmlBuilder:un}),nt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:at(n)}},htmlBuilder:ln,mathmlBuilder:un});var pn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};nt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ln,mathmlBuilder:un}),nt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ln,mathmlBuilder:un}),nt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return 1===r.length&&(r=pn[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ln,mathmlBuilder:un});var hn={},fn=hn;function dn(e,t){hn[e]=t}dn("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),dn("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),dn("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),dn("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),dn("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),dn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),dn("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var mn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};dn("\\char",(function(e){var t,r=e.popToken(),i="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])i=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new n("\\char` missing argument");i=r.text.charCodeAt(0)}else t=10;if(t){if(null==(i=mn[r.text])||i>=t)throw new n("Invalid base-"+t+" digit "+r.text);for(var o;null!=(o=mn[e.future().text])&&o<t;)i*=t,i+=o,e.popToken()}return"\\@char{"+i+"}"}));var gn=function(e,t,r){var i=e.consumeArg().tokens;if(1!==i.length)throw new n("\\newcommand's first argument must be a macro name");var o=i[0].text,a=e.isDefined(o);if(a&&!t)throw new n("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!a&&!r)throw new n("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var l="",u=e.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new n("Invalid number of arguments: "+l);s=parseInt(l),i=e.consumeArg().tokens}return e.macros.set(o,{tokens:i,numArgs:s}),""};dn("\\newcommand",(function(e){return gn(e,!1,!0)})),dn("\\renewcommand",(function(e){return gn(e,!0,!1)})),dn("\\providecommand",(function(e){return gn(e,!0,!0)})),dn("\\message",(function(e){var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((function(e){return e.text})).join("")),""})),dn("\\errmessage",(function(e){var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((function(e){return e.text})).join("")),""})),dn("\\show",(function(e){var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Dn[r],j.math[r],j.text[r]),""})),dn("\\bgroup","{"),dn("\\egroup","}"),dn("~","\\nobreakspace"),dn("\\lq","`"),dn("\\rq","'"),dn("\\aa","\\r a"),dn("\\AA","\\r A"),dn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),dn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),dn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),dn("ℬ","\\mathscr{B}"),dn("ℰ","\\mathscr{E}"),dn("ℱ","\\mathscr{F}"),dn("ℋ","\\mathscr{H}"),dn("ℐ","\\mathscr{I}"),dn("ℒ","\\mathscr{L}"),dn("ℳ","\\mathscr{M}"),dn("ℛ","\\mathscr{R}"),dn("ℭ","\\mathfrak{C}"),dn("ℌ","\\mathfrak{H}"),dn("ℨ","\\mathfrak{Z}"),dn("\\Bbbk","\\Bbb{k}"),dn("·","\\cdotp"),dn("\\llap","\\mathllap{\\textrm{#1}}"),dn("\\rlap","\\mathrlap{\\textrm{#1}}"),dn("\\clap","\\mathclap{\\textrm{#1}}"),dn("\\mathstrut","\\vphantom{(}"),dn("\\underbar","\\underline{\\text{#1}}"),dn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),dn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),dn("\\ne","\\neq"),dn("≠","\\neq"),dn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),dn("∉","\\notin"),dn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),dn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),dn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),dn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),dn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),dn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),dn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),dn("⟂","\\perp"),dn("‼","\\mathclose{!\\mkern-0.8mu!}"),dn("∌","\\notni"),dn("⌜","\\ulcorner"),dn("⌝","\\urcorner"),dn("⌞","\\llcorner"),dn("⌟","\\lrcorner"),dn("©","\\copyright"),dn("®","\\textregistered"),dn("️","\\textregistered"),dn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),dn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),dn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),dn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),dn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),dn("⋮","\\vdots"),dn("\\varGamma","\\mathit{\\Gamma}"),dn("\\varDelta","\\mathit{\\Delta}"),dn("\\varTheta","\\mathit{\\Theta}"),dn("\\varLambda","\\mathit{\\Lambda}"),dn("\\varXi","\\mathit{\\Xi}"),dn("\\varPi","\\mathit{\\Pi}"),dn("\\varSigma","\\mathit{\\Sigma}"),dn("\\varUpsilon","\\mathit{\\Upsilon}"),dn("\\varPhi","\\mathit{\\Phi}"),dn("\\varPsi","\\mathit{\\Psi}"),dn("\\varOmega","\\mathit{\\Omega}"),dn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),dn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),dn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),dn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),dn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),dn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var yn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};dn("\\dots",(function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in yn?t=yn[r]:("\\not"===r.substr(0,4)||r in j.math&&l.contains(["bin","rel"],j.math[r].group))&&(t="\\dotsb"),t}));var vn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};dn("\\dotso",(function(e){return e.future().text in vn?"\\ldots\\,":"\\ldots"})),dn("\\dotsc",(function(e){var t=e.future().text;return t in vn&&","!==t?"\\ldots\\,":"\\ldots"})),dn("\\cdots",(function(e){return e.future().text in vn?"\\@cdots\\,":"\\@cdots"})),dn("\\dotsb","\\cdots"),dn("\\dotsm","\\cdots"),dn("\\dotsi","\\!\\cdots"),dn("\\dotsx","\\ldots\\,"),dn("\\DOTSI","\\relax"),dn("\\DOTSB","\\relax"),dn("\\DOTSX","\\relax"),dn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),dn("\\,","\\tmspace+{3mu}{.1667em}"),dn("\\thinspace","\\,"),dn("\\>","\\mskip{4mu}"),dn("\\:","\\tmspace+{4mu}{.2222em}"),dn("\\medspace","\\:"),dn("\\;","\\tmspace+{5mu}{.2777em}"),dn("\\thickspace","\\;"),dn("\\!","\\tmspace-{3mu}{.1667em}"),dn("\\negthinspace","\\!"),dn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),dn("\\negthickspace","\\tmspace-{5mu}{.277em}"),dn("\\enspace","\\kern.5em "),dn("\\enskip","\\hskip.5em\\relax"),dn("\\quad","\\hskip1em\\relax"),dn("\\qquad","\\hskip2em\\relax"),dn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),dn("\\tag@paren","\\tag@literal{({#1})}"),dn("\\tag@literal",(function(e){if(e.macros.get("\\df@tag"))throw new n("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),dn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),dn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),dn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),dn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),dn("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),dn("\\newline","\\\\\\relax"),dn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var xn=P["Main-Regular"]["T".charCodeAt(0)][1]-.7*P["Main-Regular"]["A".charCodeAt(0)][1]+"em";dn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+xn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),dn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+xn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),dn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),dn("\\@hspace","\\hskip #1\\relax"),dn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),dn("\\ordinarycolon",":"),dn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),dn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),dn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),dn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),dn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),dn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),dn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),dn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),dn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),dn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),dn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),dn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),dn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),dn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),dn("∷","\\dblcolon"),dn("∹","\\eqcolon"),dn("≔","\\coloneqq"),dn("≕","\\eqqcolon"),dn("⩴","\\Coloneqq"),dn("\\ratio","\\vcentcolon"),dn("\\coloncolon","\\dblcolon"),dn("\\colonequals","\\coloneqq"),dn("\\coloncolonequals","\\Coloneqq"),dn("\\equalscolon","\\eqqcolon"),dn("\\equalscoloncolon","\\Eqqcolon"),dn("\\colonminus","\\coloneq"),dn("\\coloncolonminus","\\Coloneq"),dn("\\minuscolon","\\eqcolon"),dn("\\minuscoloncolon","\\Eqcolon"),dn("\\coloncolonapprox","\\Colonapprox"),dn("\\coloncolonsim","\\Colonsim"),dn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),dn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),dn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),dn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),dn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),dn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),dn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),dn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),dn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),dn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),dn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),dn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),dn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),dn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),dn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),dn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),dn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),dn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),dn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),dn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),dn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),dn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),dn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),dn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),dn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),dn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),dn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),dn("\\imath","\\html@mathml{\\@imath}{ı}"),dn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),dn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),dn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),dn("⟦","\\llbracket"),dn("⟧","\\rrbracket"),dn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),dn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),dn("⦃","\\lBrace"),dn("⦄","\\rBrace"),dn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),dn("⦵","\\minuso"),dn("\\darr","\\downarrow"),dn("\\dArr","\\Downarrow"),dn("\\Darr","\\Downarrow"),dn("\\lang","\\langle"),dn("\\rang","\\rangle"),dn("\\uarr","\\uparrow"),dn("\\uArr","\\Uparrow"),dn("\\Uarr","\\Uparrow"),dn("\\N","\\mathbb{N}"),dn("\\R","\\mathbb{R}"),dn("\\Z","\\mathbb{Z}"),dn("\\alef","\\aleph"),dn("\\alefsym","\\aleph"),dn("\\Alpha","\\mathrm{A}"),dn("\\Beta","\\mathrm{B}"),dn("\\bull","\\bullet"),dn("\\Chi","\\mathrm{X}"),dn("\\clubs","\\clubsuit"),dn("\\cnums","\\mathbb{C}"),dn("\\Complex","\\mathbb{C}"),dn("\\Dagger","\\ddagger"),dn("\\diamonds","\\diamondsuit"),dn("\\empty","\\emptyset"),dn("\\Epsilon","\\mathrm{E}"),dn("\\Eta","\\mathrm{H}"),dn("\\exist","\\exists"),dn("\\harr","\\leftrightarrow"),dn("\\hArr","\\Leftrightarrow"),dn("\\Harr","\\Leftrightarrow"),dn("\\hearts","\\heartsuit"),dn("\\image","\\Im"),dn("\\infin","\\infty"),dn("\\Iota","\\mathrm{I}"),dn("\\isin","\\in"),dn("\\Kappa","\\mathrm{K}"),dn("\\larr","\\leftarrow"),dn("\\lArr","\\Leftarrow"),dn("\\Larr","\\Leftarrow"),dn("\\lrarr","\\leftrightarrow"),dn("\\lrArr","\\Leftrightarrow"),dn("\\Lrarr","\\Leftrightarrow"),dn("\\Mu","\\mathrm{M}"),dn("\\natnums","\\mathbb{N}"),dn("\\Nu","\\mathrm{N}"),dn("\\Omicron","\\mathrm{O}"),dn("\\plusmn","\\pm"),dn("\\rarr","\\rightarrow"),dn("\\rArr","\\Rightarrow"),dn("\\Rarr","\\Rightarrow"),dn("\\real","\\Re"),dn("\\reals","\\mathbb{R}"),dn("\\Reals","\\mathbb{R}"),dn("\\Rho","\\mathrm{P}"),dn("\\sdot","\\cdot"),dn("\\sect","\\S"),dn("\\spades","\\spadesuit"),dn("\\sub","\\subset"),dn("\\sube","\\subseteq"),dn("\\supe","\\supseteq"),dn("\\Tau","\\mathrm{T}"),dn("\\thetasym","\\vartheta"),dn("\\weierp","\\wp"),dn("\\Zeta","\\mathrm{Z}"),dn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),dn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),dn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),dn("\\bra","\\mathinner{\\langle{#1}|}"),dn("\\ket","\\mathinner{|{#1}\\rangle}"),dn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),dn("\\Bra","\\left\\langle#1\\right|"),dn("\\Ket","\\left|#1\\right\\rangle"),dn("\\angln","{\\angl n}"),dn("\\blue","\\textcolor{##6495ed}{#1}"),dn("\\orange","\\textcolor{##ffa500}{#1}"),dn("\\pink","\\textcolor{##ff00af}{#1}"),dn("\\red","\\textcolor{##df0030}{#1}"),dn("\\green","\\textcolor{##28ae7b}{#1}"),dn("\\gray","\\textcolor{gray}{#1}"),dn("\\purple","\\textcolor{##9d38bd}{#1}"),dn("\\blueA","\\textcolor{##ccfaff}{#1}"),dn("\\blueB","\\textcolor{##80f6ff}{#1}"),dn("\\blueC","\\textcolor{##63d9ea}{#1}"),dn("\\blueD","\\textcolor{##11accd}{#1}"),dn("\\blueE","\\textcolor{##0c7f99}{#1}"),dn("\\tealA","\\textcolor{##94fff5}{#1}"),dn("\\tealB","\\textcolor{##26edd5}{#1}"),dn("\\tealC","\\textcolor{##01d1c1}{#1}"),dn("\\tealD","\\textcolor{##01a995}{#1}"),dn("\\tealE","\\textcolor{##208170}{#1}"),dn("\\greenA","\\textcolor{##b6ffb0}{#1}"),dn("\\greenB","\\textcolor{##8af281}{#1}"),dn("\\greenC","\\textcolor{##74cf70}{#1}"),dn("\\greenD","\\textcolor{##1fab54}{#1}"),dn("\\greenE","\\textcolor{##0d923f}{#1}"),dn("\\goldA","\\textcolor{##ffd0a9}{#1}"),dn("\\goldB","\\textcolor{##ffbb71}{#1}"),dn("\\goldC","\\textcolor{##ff9c39}{#1}"),dn("\\goldD","\\textcolor{##e07d10}{#1}"),dn("\\goldE","\\textcolor{##a75a05}{#1}"),dn("\\redA","\\textcolor{##fca9a9}{#1}"),dn("\\redB","\\textcolor{##ff8482}{#1}"),dn("\\redC","\\textcolor{##f9685d}{#1}"),dn("\\redD","\\textcolor{##e84d39}{#1}"),dn("\\redE","\\textcolor{##bc2612}{#1}"),dn("\\maroonA","\\textcolor{##ffbde0}{#1}"),dn("\\maroonB","\\textcolor{##ff92c6}{#1}"),dn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),dn("\\maroonD","\\textcolor{##ca337c}{#1}"),dn("\\maroonE","\\textcolor{##9e034e}{#1}"),dn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),dn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),dn("\\purpleC","\\textcolor{##aa87ff}{#1}"),dn("\\purpleD","\\textcolor{##7854ab}{#1}"),dn("\\purpleE","\\textcolor{##543b78}{#1}"),dn("\\mintA","\\textcolor{##f5f9e8}{#1}"),dn("\\mintB","\\textcolor{##edf2df}{#1}"),dn("\\mintC","\\textcolor{##e0e5cc}{#1}"),dn("\\grayA","\\textcolor{##f6f7f7}{#1}"),dn("\\grayB","\\textcolor{##f0f1f2}{#1}"),dn("\\grayC","\\textcolor{##e3e5e6}{#1}"),dn("\\grayD","\\textcolor{##d6d8da}{#1}"),dn("\\grayE","\\textcolor{##babec2}{#1}"),dn("\\grayF","\\textcolor{##888d93}{#1}"),dn("\\grayG","\\textcolor{##626569}{#1}"),dn("\\grayH","\\textcolor{##3b3e40}{#1}"),dn("\\grayI","\\textcolor{##21242c}{#1}"),dn("\\kaBlue","\\textcolor{##314453}{#1}"),dn("\\kaGreen","\\textcolor{##71B307}{#1}");var bn=function(e,t){var r,n,i,o,a=!1;if("supsub"===e.type?(r=e.sup,n=e.sub,i=zt(e.base,"operatorname"),a=!0):i=zt(e,"operatorname"),i.body.length>0){for(var s=i.body.map((function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=ht(s,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof R&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Xe.makeSpan(["mop"],l,t)}else o=Xe.makeSpan(["mop"],[],t);return a?an(o,r,n,t,t.style,0,0):o};function _n(e,t,r){for(var n=ht(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,o=0;o<n.length;o++){var a=n[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[o].classes,t.sizingClasses(r)):n[o].classes[a+1]==="reset-size"+t.size&&(n[o].classes[a+1]="reset-size"+r.size),n[o].height*=i,n[o].depth*=i}return Xe.makeFragment(n)}nt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"operatorname",mode:r.mode,body:at(i),alwaysHandleSupSub:"\\operatornamewithlimits"===n,limits:!1,parentIsSupSub:!1}},htmlBuilder:bn,mathmlBuilder:function(e,t){for(var r=At(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var o=r[i];if(o instanceof Mt.SpaceNode);else if(o instanceof Mt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];1===o.children.length&&a instanceof Mt.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map((function(e){return e.toText()})).join("");r=[new Mt.TextNode(s)]}var l=new Mt.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new Mt.MathNode("mo",[St("⁡","text")]);return e.parentIsSupSub?new Mt.MathNode("mrow",[l,u]):Mt.newDocumentFragment([l,u])}}),dn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),it({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?Xe.makeFragment(ht(e.body,t,!1)):Xe.makeSpan(["mord"],ht(e.body,t,!0),t)},mathmlBuilder:function(e,t){return Tt(e.body,t,!0)}}),nt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=vt(e.body,t.havingCrampedStyle()),n=Xe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Xe.makeSpan(["mord","overline"],[o],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("mover",[Ot(e.body,t),r]);return n.setAttribute("accent","true"),n}}),nt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"phantom",mode:r.mode,body:at(n)}},htmlBuilder:function(e,t){var r=ht(e.body,t.withPhantom(),!1);return Xe.makeFragment(r)},mathmlBuilder:function(e,t){var r=At(e.body,t);return new Mt.MathNode("mphantom",r)}}),nt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=Xe.makeSpan([],[vt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Xe.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var r=At(at(e.body),t),n=new Mt.MathNode("mphantom",r),i=new Mt.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),nt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=Xe.makeSpan(["inner"],[vt(e.body,t.withPhantom())]),n=Xe.makeSpan(["fix"],[]);return Xe.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:function(e,t){var r=At(at(e.body),t),n=new Mt.MathNode("mphantom",r),i=new Mt.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}}),nt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=zt(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder:function(e,t){var r=vt(e.body,t),n=Be(e.dy,t);return Xe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Ot(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),nt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,r){var n=e.parser,i=r[0],o=zt(t[0],"size"),a=zt(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&zt(i,"size").value,width:o.value,height:a.value}},htmlBuilder:function(e,t){var r=Xe.makeSpan(["mord","rule"],[],t),n=Be(e.width,t),i=Be(e.height,t),o=e.shift?Be(e.shift,t):0;return r.style.borderRightWidth=n+"em",r.style.borderTopWidth=i+"em",r.style.bottom=o+"em",r.width=n,r.height=i+o,r.depth=-o,r.maxFontSize=1.125*i*t.sizeMultiplier,r},mathmlBuilder:function(e,t){var r=Be(e.width,t),n=Be(e.height,t),i=e.shift?Be(e.shift,t):0,o=t.color&&t.getColor()||"black",a=new Mt.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",r+"em"),a.setAttribute("height",n+"em");var s=new Mt.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height","+"+i+"em"):(s.setAttribute("height",i+"em"),s.setAttribute("depth","+"+-i+"em")),s.setAttribute("voffset",i+"em"),s}});var wn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];nt({type:"sizing",names:wn,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,i=e.parser,o=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:wn.indexOf(n)+1,body:o}},htmlBuilder:function(e,t){var r=t.havingSize(e.size);return _n(e.body,r,t)},mathmlBuilder:function(e,t){var r=t.havingSize(e.size),n=At(e.body,r),i=new Mt.MathNode("mstyle",n);return i.setAttribute("mathsize",r.sizeMultiplier+"em"),i}}),nt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,r){var n=e.parser,i=!1,o=!1,a=r[0]&&zt(r[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){if("t"===(s=a.body[l].text))i=!0;else{if("b"!==s){i=!1,o=!1;break}o=!0}}else i=!0,o=!0;var u=t[0];return{type:"smash",mode:n.mode,body:u,smashHeight:i,smashDepth:o}},htmlBuilder:function(e,t){var r=Xe.makeSpan([],[vt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var o=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord"],[o],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Ot(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),nt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,i=r[0],o=t[0];return{type:"sqrt",mode:n.mode,body:o,index:i}},htmlBuilder:function(e,t){var r=vt(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=Xe.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<v.TEXT.id&&(i=t.fontMetrics().xHeight);var o=n+i/4,a=r.height+r.depth+o+n,s=wr(a,t),l=s.span,u=s.ruleWidth,c=s.advanceWidth,p=l.height-u;p>r.height+r.depth+o&&(o=(o+p-r.height-r.depth)/2);var h=l.height-r.height-o-u;r.style.paddingLeft=c+"em";var f=Xe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var d=t.havingStyle(v.SCRIPTSCRIPT),m=vt(e.index,d,t),g=.6*(f.height-f.depth),y=Xe.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:m}]},t),x=Xe.makeSpan(["root"],[y]);return Xe.makeSpan(["mord","sqrt"],[x,f],t)}return Xe.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder:function(e,t){var r=e.body,n=e.index;return n?new Mt.MathNode("mroot",[Ot(r,t),Ot(n,t)]):new Mt.MathNode("msqrt",[Ot(r,t)])}});var En={display:v.DISPLAY,text:v.TEXT,script:v.SCRIPT,scriptscript:v.SCRIPTSCRIPT};nt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,i=e.parser,o=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder:function(e,t){var r=En[e.style],n=t.havingStyle(r).withFont("");return _n(e.body,n,t)},mathmlBuilder:function(e,t){var r=En[e.style],n=t.havingStyle(r),i=At(e.body,n),o=new Mt.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});var Mn=function(e,t){var r=e.base;return r?"op"===r.type?r.limits&&(t.style.size===v.DISPLAY.size||r.alwaysHandleSupSub)?ln:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(t.style.size===v.DISPLAY.size||r.limits)?bn:null:"accent"===r.type?l.isCharacterBox(r.base)?Ft:null:"horizBrace"===r.type&&!e.sub===r.isOver?rn:null:null};it({type:"supsub",htmlBuilder:function(e,t){var r=Mn(e,t);if(r)return r(e,t);var n,i,o,a=e.base,s=e.sup,u=e.sub,c=vt(a,t),p=t.fontMetrics(),h=0,f=0,d=a&&l.isCharacterBox(a);if(s){var m=t.havingStyle(t.style.sup());n=vt(s,m,t),d||(h=c.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(u){var g=t.havingStyle(t.style.sub());i=vt(u,g,t),d||(f=c.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}o=t.style===v.DISPLAY?p.sup1:t.style.cramped?p.sup3:p.sup2;var y,x=t.sizeMultiplier,b=.5/p.ptPerEm/x+"em",_=null;if(i){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof R||w)&&(_=-c.italic+"em")}if(n&&i){h=Math.max(h,o,n.depth+.25*p.xHeight),f=Math.max(f,p.sub2);var E=4*p.defaultRuleThickness;if(h-n.depth-(i.height-f)<E){f=E-(h-n.depth)+i.height;var M=.8*p.xHeight-(h-n.depth);M>0&&(h+=M,f-=M)}var S=[{type:"elem",elem:i,shift:f,marginRight:b,marginLeft:_},{type:"elem",elem:n,shift:-h,marginRight:b}];y=Xe.makeVList({positionType:"individualShift",children:S},t)}else if(i){f=Math.max(f,p.sub1,i.height-.8*p.xHeight);var N=[{type:"elem",elem:i,marginLeft:_,marginRight:b}];y=Xe.makeVList({positionType:"shift",positionData:f,children:N},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");h=Math.max(h,o,n.depth+.25*p.xHeight),y=Xe.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:n,marginRight:b}]},t)}var k=gt(c,"right")||"mord";return Xe.makeSpan([k],[c,Xe.makeSpan(["msupsub"],[y])],t)},mathmlBuilder:function(e,t){var r,n=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(n=!0,r=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,o=[Ot(e.base,t)];if(e.sub&&o.push(Ot(e.sub,t)),e.sup&&o.push(Ot(e.sup,t)),n)i=r?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;i=a&&"op"===a.type&&a.limits&&t.style===v.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(t.style===v.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=e.base;i=s&&"op"===s.type&&s.limits&&(t.style===v.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===v.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===v.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===v.DISPLAY)?"mover":"msup"}return new Mt.MathNode(i,o)}}),it({type:"atom",htmlBuilder:function(e,t){return Xe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[St(e.text,e.mode)]);if("bin"===e.family){var n=kt(e,t);"bold-italic"===n&&r.setAttribute("mathvariant",n)}else"punct"===e.family?r.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||r.setAttribute("stretchy","false");return r}});var Sn={mi:"italic",mn:"normal",mtext:"normal"};it({type:"mathord",htmlBuilder:function(e,t){return Xe.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mi",[St(e.text,e.mode,t)]),n=kt(e,t)||"italic";return n!==Sn[r.type]&&r.setAttribute("mathvariant",n),r}}),it({type:"textord",htmlBuilder:function(e,t){return Xe.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var r,n=St(e.text,e.mode,t),i=kt(e,t)||"normal";return r="text"===e.mode?new Mt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Mt.MathNode("mn",[n]):"\\prime"===e.text?new Mt.MathNode("mo",[n]):new Mt.MathNode("mi",[n]),i!==Sn[r.type]&&r.setAttribute("mathvariant",i),r}});var Nn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},kn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};it({type:"spacing",htmlBuilder:function(e,t){if(kn.hasOwnProperty(e.text)){var r=kn[e.text].className||"";if("text"===e.mode){var i=Xe.makeOrd(e,t,"textord");return i.classes.push(r),i}return Xe.makeSpan(["mspace",r],[Xe.mathsym(e.text,e.mode,t)],t)}if(Nn.hasOwnProperty(e.text))return Xe.makeSpan(["mspace",Nn[e.text]],[],t);throw new n('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!kn.hasOwnProperty(e.text)){if(Nn.hasOwnProperty(e.text))return new Mt.MathNode("mspace");throw new n('Unknown type of space "'+e.text+'"')}return new Mt.MathNode("mtext",[new Mt.TextNode(" ")])}});var An=function(){var e=new Mt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};it({type:"tag",mathmlBuilder:function(e,t){var r=new Mt.MathNode("mtable",[new Mt.MathNode("mtr",[An(),new Mt.MathNode("mtd",[Tt(e.body,t)]),An(),new Mt.MathNode("mtd",[Tt(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var Tn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},On={"\\textbf":"textbf","\\textmd":"textmd"},Cn={"\\textit":"textit","\\textup":"textup"},In=function(e,t){var r=e.font;return r?Tn[r]?t.withTextFontFamily(Tn[r]):On[r]?t.withTextFontWeight(On[r]):t.withTextFontShape(Cn[r]):t};nt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,i=t[0];return{type:"text",mode:r.mode,body:at(i),font:n}},htmlBuilder:function(e,t){var r=In(e,t),n=ht(e.body,r,!0);return Xe.makeSpan(["mord","text"],n,r)},mathmlBuilder:function(e,t){var r=In(e,t);return Tt(e.body,r)}}),nt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var r=vt(e.body,t),n=Xe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=Xe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Xe.makeSpan(["mord","underline"],[o],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("munder",[Ot(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),nt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(e,t){return{type:"vcenter",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var r=vt(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Xe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){return new Mt.MathNode("mpadded",[Ot(e.body,t)],["vcenter"])}}),nt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,r){throw new n("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var r=Rn(e),n=[],i=t.havingStyle(t.style.text()),o=0;o<r.length;o++){var a=r[o];"~"===a&&(a="\\textasciitilde"),n.push(Xe.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Xe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Xe.tryCombineChars(n),i)},mathmlBuilder:function(e,t){var r=new Mt.TextNode(Rn(e)),n=new Mt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var Rn=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},Dn=et,Ln=function(){function e(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}return e.range=function(t,r){return r?t&&t.loc&&r.loc&&t.loc.lexer===r.loc.lexer?new e(t.loc.lexer,t.loc.start,r.loc.end):null:t&&t.loc},e}(),qn=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,r){return new e(r,Ln.range(this,t))},e}(),Bn=new RegExp("[̀-ͯ]+$"),Pn=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new qn("EOF",new Ln(this,t,t));var r=this.tokenRegex.exec(e);if(null===r||r.index!==t)throw new n("Unexpected character: '"+e[t]+"'",new qn(e[t],new Ln(this,t,t+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(14===this.catcodes[i]){var o=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===o?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new qn(i,new Ln(this,t,this.tokenRegex.lastIndex))},e}(),zn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new n("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,r){if(void 0===r&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}this.current[e]=t},e}(),Un={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},$n=function(){function e(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new zn(fn,t.macros),this.mode=r,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new Pn(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.scanArgument=function(e){var t,r,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken();var i=this.consumeArg(["]"]);n=i.tokens,r=i.end}else{var o=this.consumeArg();n=o.tokens,t=o.start,r=o.end}return this.pushToken(new qn("EOF",r.loc)),this.pushTokens(n),t.range(r,"")},t.consumeSpaces=function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}},t.consumeArg=function(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var i,o=this.future(),a=0,s=0;do{if(i=this.popToken(),t.push(i),"{"===i.text)++a;else if("}"===i.text){if(-1===--a)throw new n("Extra }",i)}else if("EOF"===i.text)throw new n("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",i);if(e&&r)if((0===a||1===a&&"{"===e[s])&&i.text===e[s]){if(++s===e.length){t.splice(-s,s);break}}else s=0}while(0!==a||r);return"{"===o.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:o,end:i}},t.consumeArgs=function(e,t){if(t){if(t.length!==e+1)throw new n("The length of delimiters doesn't match the number of args!");for(var r=t[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new n("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(t&&t[s+1]).tokens);return a},t.expandOnce=function(e){var t=this.popToken(),r=t.text,i=t.noexpand?null:this._getExpansion(r);if(null==i||e&&i.unexpandable){if(e&&null==i&&"\\"===r[0]&&!this.isDefined(r))throw new n("Undefined control sequence: "+r);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new n("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var s=(o=o.slice()).length-1;s>=0;--s){var l=o[s];if("#"===l.text){if(0===s)throw new n("Incomplete placeholder at end of macro body",l);if("#"===(l=o[--s]).text)o.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new n("Not a valid argument number",l);var u;(u=o).splice.apply(u,[s,2].concat(a[+l.text-1]))}}}return this.pushTokens(o),o},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof qn){if("\\relax"!==e.text&&!e.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){return this.macros.has(e)?this.expandTokens([new qn(e)]):void 0},t.expandTokens=function(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;){var n=this.expandOnce(!0);n instanceof qn&&(n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(this.stack.pop()))}return t},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map((function(e){return e.text})).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var r=this.lexer.catcodes[e];if(null!=r&&13!==r)return}var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var o=n.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var a=new Pn(n,this.settings),s=[],l=a.lex();"EOF"!==l.text;)s.push(l),l=a.lex();return s.reverse(),{tokens:s,numArgs:i}}return n},t.isDefined=function(e){return this.macros.has(e)||Dn.hasOwnProperty(e)||j.math.hasOwnProperty(e)||j.text.hasOwnProperty(e)||Un.hasOwnProperty(e)},t.isExpandable=function(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Dn.hasOwnProperty(e)&&!Dn[e].primitive},e}(),Fn={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},Gn={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},Vn=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new $n(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new n("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()},t.consume=function(){this.nextToken=null},t.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e},t.parseExpression=function(t,r){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var i=this.fetch();if(-1!==e.endOfExpression.indexOf(i.text))break;if(r&&i.text===r)break;if(t&&Dn[i.text]&&Dn[i.text].infix)break;var o=this.parseAtom(r);if(!o)break;"internal"!==o.type&&n.push(o)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)},t.handleInfixNodes=function(e){for(var t,r=-1,i=0;i<e.length;i++)if("infix"===e[i].type){if(-1!==r)throw new n("only one infix operator per group",e[i].token);r=i,t=e[i].replaceWith}if(-1!==r&&t){var o,a,s=e.slice(0,r),l=e.slice(r+1);return o=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},a=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[o,e[r],a],[]):this.callFunction(t,[o,a],[])]}return e},t.handleSupSubscript=function(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new n("Expected group after '"+r+"'",t);return i},t.formatUnsupportedCmd=function(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}},t.parseAtom=function(e){var t,r,i=this.parseGroup("atom",e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(i&&"op"===i.type){var a="\\limits"===o.text;i.limits=a,i.alwaysHandleSupSub=!0}else{if(!i||"operatorname"!==i.type)throw new n("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new n("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(r)throw new n("Double subscript",o);r=this.handleSupSubscript("subscript")}else{if("'"!==o.text)break;if(t)throw new n("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();"'"===this.fetch().text;)l.push(s),this.consume();"^"===this.fetch().text&&l.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:l}}}return t||r?{type:"supsub",mode:this.mode,base:i,sup:t,sub:r}:i},t.parseFunction=function(e,t){var r=this.fetch(),i=r.text,o=Dn[i];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new n("Got function '"+i+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!o.allowedInText)throw new n("Can't use function '"+i+"' in text mode",r);if("math"===this.mode&&!1===o.allowedInMath)throw new n("Can't use function '"+i+"' in math mode",r);var a=this.parseArguments(i,o),s=a.args,l=a.optArgs;return this.callFunction(i,s,l,r,e)},t.callFunction=function(e,t,r,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=Dn[e];if(s&&s.handler)return s.handler(a,t,r);throw new n("No function handler for "+e)},t.parseArguments=function(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<r;a++){var s=t.argTypes&&t.argTypes[a],l=a<t.numOptionalArgs;(t.primitive&&null==s||"sqrt"===t.type&&1===a&&null==o[0])&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)o.push(u);else{if(null==u)throw new n("Null argument, please report this as a bug");i.push(u)}}return{args:i,optArgs:o}},t.parseGroupOfType=function(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":var i=this.parseArgumentGroup(r,"text");return null!=i?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",r);return null!=o?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(r)throw new n("A primitive argument cannot be optional");var a=this.parseGroup(e);if(null==a)throw new n("Expected group as "+e,this.fetch());return a;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new n("Unknown group type as "+e,this.fetch())}},t.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},t.parseStringGroup=function(e,t){var r=this.gullet.scanArgument(t);if(null==r)return null;for(var n,i="";"EOF"!==(n=this.fetch()).text;)i+=n.text,this.consume();return this.consume(),r.text=i,r},t.parseRegexGroup=function(e,t){for(var r,i=this.fetch(),o=i,a="";"EOF"!==(r=this.fetch()).text&&e.test(a+r.text);)a+=(o=r).text,this.consume();if(""===a)throw new n("Invalid "+t+": '"+i.text+"'",i);return i.range(o,a)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new n("Invalid color: '"+t.text+"'",t);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}},t.parseSizeGroup=function(e){var t,r=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new n("Invalid size: '"+t.text+"'",t);var o={number:+(i[1]+i[2]),unit:i[3]};if(!qe(o))throw new n("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:r}},t.parseUrlGroup=function(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}},t.parseArgumentGroup=function(e,t){var r=this.gullet.scanArgument(e);if(null==r)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:i};return t&&this.switchMode(n),o},t.parseGroup=function(e,t){var r,i=this.fetch(),o=i.text;if("{"===o||"\\begingroup"===o){this.consume();var a="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:Ln.range(i,l),body:s,semisimple:"\\begingroup"===o||void 0}}else if(null==(r=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===o[0]&&!Un.hasOwnProperty(o)){if(this.settings.throwOnError)throw new n("Undefined control sequence: "+o,i);r=this.formatUnsupportedCmd(o),this.consume()}return r},t.formLigatures=function(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],i=n.text;"-"===i&&"-"===e[r+1].text&&(r+1<t&&"-"===e[r+2].text?(e.splice(r,3,{type:"textord",mode:"text",loc:Ln.range(n,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Ln.range(n,e[r+1]),text:"--"}),t-=1)),"'"!==i&&"`"!==i||e[r+1].text!==i||(e.splice(r,2,{type:"textord",mode:"text",loc:Ln.range(n,e[r+1]),text:i+i}),t-=1)}},t.parseSymbol=function(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i="*"===r.charAt(0);if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new n("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:i}}Gn.hasOwnProperty(t[0])&&!j[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Gn[t[0]]+t.substr(1));var o,a=Bn.exec(t);if(a&&("i"===(t=t.substring(0,a.index))?t="ı":"j"===t&&(t="ȷ")),j[this.mode][t]){this.settings.strict&&"math"===this.mode&&Me.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var s,l=j[this.mode][t].group,u=Ln.range(e);if(G.hasOwnProperty(l)){var c=l;s={type:"atom",mode:this.mode,family:c,loc:u,text:t}}else s={type:l,mode:this.mode,loc:u,text:t};o=s}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(_(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:Ln.range(e),text:t}}if(this.consume(),a)for(var p=0;p<a[0].length;p++){var h=a[0][p];if(!Fn[h])throw new n("Unknown accent ' "+h+"'",e);var f=Fn[h][this.mode];if(!f)throw new n("Accent "+h+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:Ln.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o},e}();Vn.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Hn=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Vn(e,t);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new n("\\tag works only in display equations");r.gullet.feed("\\df@tag"),i=[{type:"tag",mode:"text",body:i,tag:r.parse()}]}return i},jn=function(e,t,r){t.textContent="";var n=Xn(e,r).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),jn=function(){throw new n("KaTeX doesn't work in quirks mode.")});var Wn=function(e,t,r){if(r.throwOnError||!(e instanceof n))throw e;var i=Xe.makeSpan(["katex-error"],[new R(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Xn=function(e,t){var r=new u(t);try{return function(e,t,r){var n,i=It(r);if("mathml"===r.output)return Ct(e,t,i,r.displayMode,!0);if("html"===r.output){var o=bt(e,i);n=Xe.makeSpan(["katex"],[o])}else{var a=Ct(e,t,i,r.displayMode,!1),s=bt(e,i);n=Xe.makeSpan(["katex"],[a,s])}return Rt(n,r)}(Hn(e,r),e,r)}catch(n){return Wn(n,e,r)}},Yn={version:"0.13.9",render:jn,renderToString:function(e,t){return Xn(e,t).toMarkup()},ParseError:n,__parse:function(e,t){var r=new u(t);return Hn(e,r)},__renderToDomTree:Xn,__renderToHTMLTree:function(e,t){var r=new u(t);try{return function(e,t,r){var n=bt(e,It(r)),i=Xe.makeSpan(["katex"],[n]);return Rt(i,r)}(Hn(e,r),0,r)}catch(n){return Wn(n,e,r)}},__setFontMetrics:function(e,t){P[e]=t},__defineSymbol:W,__defineMacro:dn,__domTree:{Span:T,Anchor:O,SymbolNode:R,SvgNode:D,PathNode:L,LineNode:q}};return t=t.default}()}))},22919:(e,t,r)=>{"use strict";r.d(t,{jy:()=>s,Yb:()=>l,VG:()=>u,Ir:()=>c,t$:()=>p,up:()=>h,ci:()=>f,IK:()=>d,Ii:()=>m,Cc:()=>g,ur:()=>y,p9:()=>v,q_:()=>x,JE:()=>b,rN:()=>_,oL:()=>w,hT:()=>E});var n=r(25864),i=r(71737),o=r(19947),a=r(21411),s=(0,n.d5)("true",[],(()=>!0)),l=(0,n.d5)("false",[],(()=>!1)),u=(0,n.d5)("null",[],(()=>null)),c=M("Infinity",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1/0):1/0})),p=M("NaN",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(NaN):NaN})),h=M("pi",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?(0,o.wY)(r):a.pi})),f=M("tau",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?(0,o.j_)(r):a.B})),d=M("e",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?(0,o.vu)(r):a.e})),m=M("phi",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?(0,o.zm)(r):a.S})),g=M("LN2",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(2).ln():Math.LN2})),y=M("LN10",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(10).ln():Math.LN10})),v=M("LOG2E",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1).div(new r(2).ln()):Math.LOG2E})),x=M("LOG10E",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(1).div(new r(10).ln()):Math.LOG10E})),b=M("SQRT1_2",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r("0.5").sqrt():Math.SQRT1_2})),_=M("SQRT2",["config","?BigNumber"],(e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?new r(2).sqrt():Math.SQRT2})),w=M("i",["Complex"],(e=>{var{Complex:t}=e;return t.I})),E=(0,n.d5)("version",[],(()=>i.i));function M(e,t,r){return(0,n.d5)(e,t,r,{recreateOnConfigChange:!0})}},43225:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var n={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}},67257:(e,t,r)=>{"use strict";r.d(t,{qK:()=>n,x9:()=>i});var n=["Matrix","Array"],i=["number","BigNumber","Fraction"]},69240:(e,t,r)=>{"use strict";r.d(t,{d:()=>u});var n=r(67242),i=r(63581),o=r(1341),a=r(25864),s=function(){return s=i.create,i},l=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],u=(0,a.d5)("typed",l,(function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:a}=e,l=s();return l.types=[{name:"number",test:n.hj},{name:"Complex",test:n.Mc},{name:"BigNumber",test:n.l9},{name:"Fraction",test:n.yQ},{name:"Unit",test:n.wr},{name:"string",test:n.HD},{name:"Chain",test:n.qg},{name:"Array",test:n.kJ},{name:"Matrix",test:n.SW},{name:"DenseMatrix",test:n.jH},{name:"SparseMatrix",test:n.sA},{name:"Range",test:n.bR},{name:"Index",test:n.dh},{name:"boolean",test:n.jn},{name:"ResultSet",test:n.cB},{name:"Help",test:n.x1},{name:"function",test:n.mf},{name:"Date",test:n.J_},{name:"RegExp",test:n.Kj},{name:"null",test:n.Ft},{name:"undefined",test:n.o8},{name:"AccessorNode",test:n.Yz},{name:"ArrayNode",test:n.j0},{name:"AssignmentNode",test:n.Bp},{name:"BlockNode",test:n.zh},{name:"ConditionalNode",test:n.tS},{name:"ConstantNode",test:n.nu},{name:"FunctionNode",test:n.VO},{name:"FunctionAssignmentNode",test:n.l7},{name:"IndexNode",test:n.Cl},{name:"Node",test:n.UG},{name:"ObjectNode",test:n.Lr},{name:"OperatorNode",test:n.bV},{name:"ParenthesisNode",test:n.Ig},{name:"RangeNode",test:n.ex},{name:"SymbolNode",test:n.FG},{name:"Object",test:n.Kn}],l.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||c(e),(0,o.nz)(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return r||p(e),new r(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return r||p(e),new r(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return r||p(e),new r(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){a||h(e);var t=new a(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||c(e);try{return new t(e)}catch(r){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){a||h(e);try{return new a(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){r||p(e);try{return new r(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||c(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return a||h(e),new a(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return i||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],l}));function c(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function p(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function h(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}},12623:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(43225),i=r(67257);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(n.g)};o(a,n.g,{MATRIX_OPTIONS:i.qK,NUMBER_OPTIONS:i.x9})},12253:(e,t,r)=>{"use strict";r.d(t,{ku:()=>_e});var n=r(12623),i=r(67546),o=r(89835),a=r(16808),s=r(36618),l=r(38083),u=r(54717),c=r(33679),p=r(52349),h=r(46380),f=r(49516),d=r(46275),m=r(36268),g=r(74744),y=r(56504),v=r(96990),x=r(17509),b=r(23704),_=r(65939),w=r(37912),E=r(14381),M=r(31223),S=r(89786),N=r(28925),k=r(37517),A=r(57745),T=r(38388),O=r(85994),C=r(27196),I=r(97692),R=r(25671),D=r(14651),L=r(54842),q=r(24870),B=r(15004),P=r(18832),z=r(15956),U=r(76108),$=r(48388),F=r(22746),G=r(73843),V=r(45754),H=r(55608),j=r(4258),W=r(90244),X=r(33104),Y=r(31038),Z=r(41194);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K={},Q={},ee={},te=(0,i.d)({mathWithTransform:Q}),re=(0,o.d)({Node:te}),ne=(0,a.t)({Node:te,ResultSet:Z.Z0z}),ie=(0,s.C)({Node:te}),oe=(0,l.G)({Node:te}),ae=(0,u.o)({Node:te}),se=(0,c.W)({Node:te}),le=(0,p.v)({math:K}),ue=(0,h.$)({classes:ee}),ce=(0,f.D)({Node:te}),pe=(0,d.J)({Node:te}),he=(0,m.Q)({Node:te}),fe=(0,g.Z)({Node:te,typed:Z.Gzl}),de=(0,y.a)({Chain:le,typed:Z.Gzl}),me=(0,v.z)({Node:te,subset:Z.P9L}),ge=(0,x.G)({Node:te,Range:Z.e6w,size:Z.dpJ}),ye=(0,b.w)({matrix:Z.pIu,Node:te,subset:Z.P9L}),ve=(0,_.g)({Unit:Z.fbc,Node:te,math:K}),xe=(0,w.B)({Node:te,SymbolNode:ve,math:K}),be=(0,E.y)({AccessorNode:me,ArrayNode:re,AssignmentNode:ye,BlockNode:ne,ConditionalNode:ce,ConstantNode:ie,FunctionAssignmentNode:fe,FunctionNode:xe,IndexNode:ge,ObjectNode:oe,OperatorNode:pe,ParenthesisNode:ae,RangeNode:he,RelationalNode:se,SymbolNode:ve,config:n.v,numeric:Z.uRn,typed:Z.Gzl}),_e=(0,M.Q)({parse:be,typed:Z.Gzl}),we=(0,S.p)({parse:be}),Ee=(0,N.x)({parse:be}),Me=(0,k.P)({Help:we,mathWithTransform:Q,typed:Z.Gzl}),Se=(0,A.d)({parse:be,typed:Z.Gzl}),Ne=(0,T.J)({bignumber:Z.edS,fraction:Z.Pj$,ConstantNode:ie,FunctionNode:xe,OperatorNode:pe,ParenthesisNode:ae,SymbolNode:ve,add:Z.IHx,config:n.v,divide:Z.csF,equal:Z.DgJ,isZero:Z.Fr9,mathWithTransform:Q,multiply:Z.JpY,parse:be,pow:Z.sQ3,subtract:Z.$XF,typed:Z.Gzl}),ke=(0,O.u)({bignumber:Z.edS,fraction:Z.Pj$,ConstantNode:ie,FunctionNode:xe,OperatorNode:pe,ParenthesisNode:ae,SymbolNode:ve,add:Z.IHx,config:n.v,divide:Z.csF,equal:Z.DgJ,isZero:Z.Fr9,mathWithTransform:Q,multiply:Z.JpY,parse:be,pow:Z.sQ3,simplify:Ne,subtract:Z.$XF,typed:Z.Gzl}),Ae=(0,C.j)({Parser:Ee,typed:Z.Gzl}),Te=(0,I.r)({ConstantNode:ie,FunctionNode:xe,OperatorNode:pe,ParenthesisNode:ae,SymbolNode:ve,config:n.v,equal:Z.DgJ,isZero:Z.Fr9,numeric:Z.uRn,parse:be,simplify:Ne,typed:Z.Gzl});J(K,{reviver:ue,false:Z.WJv,null:Z.OSG,true:Z.wcc,replacer:Z.PHU,i:Z.i,LN10:Z.cw7,LOG10E:Z.doM,NaN:Z.xOA,pi:Z.pi,SQRT1_2:Z.PNl,tau:Z.BZ_,efimovFactor:Z.dvW,fineStructure:Z.Oyo,sackurTetrode:Z.KO_,weakMixingAngle:Z.Uud,e:Z.e,Infinity:Z.OvO,LOG2E:Z.wwJ,PI:Z.pi,version:Z.i83,E:Z.e,phi:Z.Skb,typed:Z.Gzl,isInteger:Z.UaK,isNumeric:Z.kEn,isPositive:Z.xPR,isNaN:Z.i2d,equalScalar:Z.kuq,number:Z.Rxh,boolean:Z.O72,complex:Z.PYB,splitUnit:Z.jLI,unaryPlus:Z.uKN,apply:Z.nnj,cube:Z.kOm,expm1:Z.t$B,log10:Z.mvw,multiplyScalar:Z.cfl,sign:Z.Xxe,square:Z.h62,bitNot:Z.Pfe,arg:Z.R91,im:Z.im,not:Z.ffD,filter:Z.hXT,forEach:Z.Ed_,map:Z.UID,erf:Z.qNN,format:Z.WUZ,oct:Z.jfK,print:Z.S0v,isPrime:Z.e47,acos:Z.Khb,acot:Z.C6L,acsc:Z.rcO,asec:Z.PUJ,asin:Z.ZRM,atan:Z.z4N,atanh:Z.C80,cosh:Z.f9Y,coth:Z.h6M,csch:Z.RhL,sech:Z.Fbd,sinh:Z.R_K,tanh:Z.AEp,chain:de,combinations:Z.BjO,pickRandom:Z.sDj,randomInt:Z.Iyf,LN2:Z.bZs,clone:Z.d9v,hasNumericValue:Z.Hdk,typeOf:Z.kM2,string:Z.Z_8,fraction:Z.Pj$,unaryMinus:Z.T8F,addScalar:Z.scv,exp:Z.Qqt,log2:Z.k3Q,sqrt:Z._b3,conj:Z.ruJ,getMatrixDataType:Z.mOi,mode:Z.xJM,bin:Z.Ly_,acosh:Z.__u,acsch:Z.KLC,asinh:Z.VfV,cos:Z.mCk,csc:Z.QBQ,sin:Z.O$l,combinationsWithRep:Z.d4C,random:Z.MXc,SQRT2:Z.vNo,isNegative:Z.nMy,matrix:Z.pIu,cbrt:Z.eKn,gcd:Z.thl,mod:Z.wQq,nthRoot:Z.C7f,xgcd:Z.NpV,bitAnd:Z.hx9,bitXor:Z.nNS,or:Z.or,concat:Z.zoF,diag:Z.Ka3,identity:Z.yRu,ones:Z.iUs,reshape:Z.XLQ,size:Z.dpJ,subset:Z.P9L,zeros:Z.lls,hex:Z.$v1,round:Z.NMM,leftShift:Z.w57,rightLogShift:Z.LdX,compare:Z.quX,compareText:Z.cdM,smaller:Z.Nyh,larger:Z.TWx,unequal:Z.KPr,sparse:Z.rVs,acoth:Z.trc,atan2:Z.fvJ,sec:Z.BEc,add:Z.IHx,dot:Z.AKD,composition:Z.ift,isZero:Z.Fr9,abs:Z.WnP,floor:Z.GWj,multiply:Z.JpY,dotMultiply:Z.iOk,re:Z.re,flatten:Z.xHg,resize:Z.SIr,squeeze:Z.L9e,to:Z.to,pow:Z.sQ3,dotPow:Z.qgo,rightArithShift:Z.nq0,compareNatural:Z.rn1,equalText:Z.eZD,largerEq:Z.Cr4,partitionSelect:Z.JeQ,asech:Z.lo8,tan:Z.ORZ,setDifference:Z.TVT,setIntersect:Z.ff9,setMultiplicity:Z.oNG,setSize:Z.yk3,trace:Z.g49,quantileSeq:Z.pAO,gamma:Z.yiU,bignumber:Z.edS,lcm:Z.uqG,bitOr:Z.wKT,kron:Z.JvE,transpose:Z.p4s,numeric:Z.uRn,and:Z.xDy,smallerEq:Z.Sq_,sort:Z.DYV,min:Z.VV$,cot:Z.oHe,setDistinct:Z.Z41,setPowerset:Z.ljT,index:Z.KzB,sum:Z.Smz,factorial:Z.bLN,permutations:Z.DW7,ceil:Z.mDi,subtract:Z.$XF,cross:Z.kCc,range:Z.w6H,row:Z.O7B,prod:Z.WVs,equal:Z.DgJ,max:Z.Fp7,setCartesian:Z.$ZK,setSymDifference:Z.V4s,fix:Z.zG0,column:Z.$QP,diff:Z.Hgg,ctranspose:Z.NZC,deepEqual:Z.vZr,setIsSubset:Z.TT1,xor:Z.dlQ,divideScalar:Z.QgA,nthRoots:Z.$$R,lsolve:Z.wtJ,lsolveAll:Z.ER9,setUnion:Z.uyX,lup:Z.xly,slu:Z.cEy,det:Z.Q8I,distance:Z.TE$,stirlingS2:Z.bAb,catalan:Z.tjo,count:Z.QXW,log:Z.cM7,dotDivide:Z.yVo,usolveAll:Z.bJ2,hypot:Z._mT,qr:Z.qr,inv:Z.JBn,expm:Z.Ege,divide:Z.csF,mean:Z.J69,variance:Z.CAK,kldivergence:Z.mYz,bellNumbers:Z.O7j,log1p:Z.Krr,createUnit:Z.JP7,eigs:Z.Gq_,intersect:Z.wfr,std:Z.qoR,atomicMass:Z.uzo,bohrMagneton:Z.Cl$,boltzmann:Z.Rhk,conductanceQuantum:Z.xk2,deuteronMass:Z.dEt,electronMass:Z._G2,faraday:Z.Am2,firstRadiation:Z.Vvs,gravitationConstant:Z.H9q,hartreeEnergy:Z.HQL,klitzing:Z.$$$,magneticConstant:Z.$nU,molarMass:Z.ak$,molarPlanckConstant:Z.kEb,neutronMass:Z.li8,planckCharge:Z.JaK,planckLength:Z.gil,planckTemperature:Z.XAT,protonMass:Z.CxM,reducedPlanckConstant:Z.vAu,secondRadiation:Z.ahj,stefanBoltzmann:Z.yO5,vacuumImpedance:Z.tnB,usolve:Z.LDk,norm:Z.KOy,lusolve:Z.DU,sqrtm:Z.jXX,multinomial:Z.SJ_,avogadro:Z._vz,classicalElectronRadius:Z._fe,electricConstant:Z.dXo,fermiCoupling:Z.cIy,gravity:Z.QXX,loschmidt:Z.PUn,molarMassC12:Z.esS,nuclearMagneton:Z._A2,planckMass:Z.kc5,quantumOfCirculation:Z.TYM,speedOfLight:Z.bl5,wienDisplacement:Z.bGh,rotationMatrix:Z.k8z,median:Z.C2o,bohrRadius:Z.tUn,elementaryCharge:Z.iMQ,inverseConductanceQuantum:Z.WSk,molarVolume:Z.n4B,planckTime:Z.oTb,thomsonCrossSection:Z.bej,rotate:Z.U1s,parse:be,evaluate:_e,mad:Z.UFs,coulomb:Z.JPg,magneticFluxQuantum:Z.oLv,rydberg:Z.rMB,unit:Z.bfT,help:Me,gasConstant:Z.eOQ,compile:Se,simplify:Ne,rationalize:ke,parser:Ae,planckConstant:Z.whQ,derivative:Te,config:n.v}),J(Q,K,{apply:(0,R.i)({isInteger:Z.UaK,typed:Z.Gzl}),filter:(0,D.O)({typed:Z.Gzl}),map:(0,L.R)({typed:Z.Gzl}),forEach:(0,q.H)({typed:Z.Gzl}),subset:(0,B.Q)({matrix:Z.pIu,typed:Z.Gzl}),index:(0,P.l)({Index:Z.gmE}),concat:(0,z.C)({isInteger:Z.UaK,matrix:Z.pIu,typed:Z.Gzl}),max:(0,U.U)({config:n.v,larger:Z.TWx,numeric:Z.uRn,typed:Z.Gzl}),min:(0,$.Y)({config:n.v,numeric:Z.uRn,smaller:Z.Nyh,typed:Z.Gzl}),sum:(0,F.H)({add:Z.IHx,config:n.v,numeric:Z.uRn,typed:Z.Gzl}),column:(0,G.X)({Index:Z.gmE,matrix:Z.pIu,range:Z.w6H,typed:Z.Gzl}),range:(0,V.L)({bignumber:Z.edS,matrix:Z.pIu,config:n.v,larger:Z.TWx,largerEq:Z.Cr4,smaller:Z.Nyh,smallerEq:Z.Sq_,typed:Z.Gzl}),diff:(0,H.c)({bignumber:Z.edS,matrix:Z.pIu,number:Z.Rxh,subtract:Z.$XF,typed:Z.Gzl}),row:(0,j.I)({Index:Z.gmE,matrix:Z.pIu,range:Z.w6H,typed:Z.Gzl}),mean:(0,W.Y)({add:Z.IHx,divide:Z.csF,typed:Z.Gzl}),variance:(0,X.H)({add:Z.IHx,apply:Z.nnj,divide:Z.csF,isNaN:Z.i2d,multiply:Z.JpY,subtract:Z.$XF,typed:Z.Gzl}),std:(0,Y.w)({sqrt:Z._b3,typed:Z.Gzl,variance:Z.CAK})}),J(ee,{ResultSet:Z.Z0z,Complex:Z.Zz9,Range:Z.e6w,Node:te,ArrayNode:re,BlockNode:ne,ConstantNode:ie,ObjectNode:oe,ParenthesisNode:ae,RelationalNode:se,Chain:le,BigNumber:Z.O$v,Matrix:Z.y3G,ConditionalNode:ce,OperatorNode:pe,Fraction:Z.iAi,RangeNode:he,DenseMatrix:Z.JfM,FunctionAssignmentNode:fe,SparseMatrix:Z.A7i,ImmutableDenseMatrix:Z.MUK,FibonacciHeap:Z.Q3n,AccessorNode:me,IndexNode:ge,Index:Z.gmE,AssignmentNode:ye,Spa:Z.HJh,Unit:Z.fbc,SymbolNode:ve,FunctionNode:xe,Help:we,Parser:Ee}),le.createProxy(K)},41194:(e,t,r)=>{"use strict";r.d(t,{Z0z:()=>an,Zz9:()=>sn,e6w:()=>ln,WJv:()=>un,OSG:()=>cn,wcc:()=>pn,O$v:()=>hn,y3G:()=>fn,PHU:()=>dn,i:()=>mn,cw7:()=>gn,doM:()=>yn,xOA:()=>vn,pi:()=>xn,PNl:()=>bn,BZ_:()=>_n,dvW:()=>wn,Oyo:()=>En,KO_:()=>Mn,Uud:()=>Sn,iAi:()=>Nn,e:()=>kn,OvO:()=>An,wwJ:()=>Tn,i83:()=>On,JfM:()=>Cn,Skb:()=>In,Gzl:()=>Rn,UaK:()=>Dn,kEn:()=>Ln,xPR:()=>qn,i2d:()=>Bn,kuq:()=>Pn,Rxh:()=>zn,O72:()=>Un,PYB:()=>$n,jLI:()=>Fn,uKN:()=>Gn,nnj:()=>Vn,kOm:()=>Hn,t$B:()=>jn,mvw:()=>Wn,cfl:()=>Xn,Xxe:()=>Yn,h62:()=>Zn,Pfe:()=>Jn,R91:()=>Kn,im:()=>Qn,ffD:()=>ei,hXT:()=>ti,Ed_:()=>ri,UID:()=>ni,qNN:()=>ii,WUZ:()=>oi,jfK:()=>ai,S0v:()=>si,e47:()=>li,Khb:()=>ui,C6L:()=>ci,rcO:()=>pi,PUJ:()=>hi,ZRM:()=>fi,z4N:()=>di,C80:()=>mi,f9Y:()=>gi,h6M:()=>yi,RhL:()=>vi,Fbd:()=>xi,R_K:()=>bi,AEp:()=>_i,BjO:()=>wi,sDj:()=>Ei,Iyf:()=>Mi,bZs:()=>Si,d9v:()=>Ni,Hdk:()=>ki,kM2:()=>Ai,Z_8:()=>Ti,Pj$:()=>Oi,T8F:()=>Ci,scv:()=>Ii,Qqt:()=>Ri,k3Q:()=>Di,_b3:()=>Li,ruJ:()=>qi,mOi:()=>Bi,xJM:()=>Pi,Ly_:()=>zi,__u:()=>Ui,KLC:()=>$i,VfV:()=>Fi,mCk:()=>Gi,QBQ:()=>Vi,O$l:()=>Hi,d4C:()=>ji,MXc:()=>Wi,vNo:()=>Xi,nMy:()=>Yi,A7i:()=>Zi,pIu:()=>Ji,eKn:()=>Ki,thl:()=>Qi,wQq:()=>eo,C7f:()=>to,NpV:()=>ro,hx9:()=>no,nNS:()=>io,or:()=>oo,zoF:()=>ao,Ka3:()=>so,yRu:()=>lo,iUs:()=>uo,XLQ:()=>co,dpJ:()=>po,P9L:()=>ho,lls:()=>fo,$v1:()=>mo,NMM:()=>go,w57:()=>yo,LdX:()=>vo,quX:()=>xo,cdM:()=>bo,Nyh:()=>_o,TWx:()=>wo,KPr:()=>Eo,MUK:()=>Mo,Q3n:()=>So,rVs:()=>No,trc:()=>ko,fvJ:()=>Ao,BEc:()=>To,IHx:()=>Oo,AKD:()=>Co,ift:()=>Io,Fr9:()=>Ro,WnP:()=>Do,GWj:()=>Lo,JpY:()=>qo,iOk:()=>Bo,re:()=>Po,xHg:()=>zo,SIr:()=>Uo,L9e:()=>$o,to:()=>Fo,sQ3:()=>Go,qgo:()=>Vo,nq0:()=>Ho,rn1:()=>jo,eZD:()=>Wo,Cr4:()=>Xo,JeQ:()=>Yo,gmE:()=>Zo,lo8:()=>Jo,ORZ:()=>Ko,TVT:()=>Qo,ff9:()=>ea,oNG:()=>ta,yk3:()=>ra,g49:()=>na,pAO:()=>ia,yiU:()=>oa,edS:()=>aa,uqG:()=>sa,wKT:()=>la,JvE:()=>ua,p4s:()=>ca,uRn:()=>pa,xDy:()=>ha,Sq_:()=>fa,DYV:()=>da,VV$:()=>ma,oHe:()=>ga,Z41:()=>ya,ljT:()=>va,KzB:()=>xa,Smz:()=>ba,bLN:()=>_a,DW7:()=>wa,mDi:()=>Ea,$XF:()=>Ma,kCc:()=>Sa,w6H:()=>Na,O7B:()=>ka,WVs:()=>Aa,DgJ:()=>Ta,Fp7:()=>Oa,$ZK:()=>Ca,V4s:()=>Ia,zG0:()=>Ra,$QP:()=>Da,Hgg:()=>La,NZC:()=>qa,vZr:()=>Ba,TT1:()=>Pa,dlQ:()=>za,QgA:()=>Ua,$$R:()=>$a,wtJ:()=>Fa,ER9:()=>Ga,HJh:()=>Va,uyX:()=>Ha,xly:()=>ja,cEy:()=>Wa,Q8I:()=>Xa,TE$:()=>Ya,bAb:()=>Za,tjo:()=>Ja,QXW:()=>Ka,cM7:()=>Qa,yVo:()=>es,bJ2:()=>ts,_mT:()=>rs,qr:()=>ns,JBn:()=>is,Ege:()=>os,csF:()=>as,J69:()=>ss,CAK:()=>ls,mYz:()=>us,O7j:()=>cs,Krr:()=>ps,fbc:()=>hs,JP7:()=>fs,Gq_:()=>ds,wfr:()=>ms,qoR:()=>gs,uzo:()=>ys,Cl$:()=>vs,Rhk:()=>xs,xk2:()=>bs,dEt:()=>_s,_G2:()=>ws,Am2:()=>Es,Vvs:()=>Ms,H9q:()=>Ss,HQL:()=>Ns,$$$:()=>ks,$nU:()=>As,ak$:()=>Ts,kEb:()=>Os,li8:()=>Cs,JaK:()=>Is,gil:()=>Rs,XAT:()=>Ds,CxM:()=>Ls,vAu:()=>qs,ahj:()=>Bs,yO5:()=>Ps,tnB:()=>zs,LDk:()=>Us,KOy:()=>$s,DU:()=>Fs,jXX:()=>Gs,SJ_:()=>Vs,_vz:()=>Hs,_fe:()=>js,dXo:()=>Ws,cIy:()=>Xs,QXX:()=>Ys,PUn:()=>Zs,esS:()=>Js,_A2:()=>Ks,kc5:()=>Qs,TYM:()=>el,bl5:()=>tl,bGh:()=>rl,k8z:()=>nl,C2o:()=>il,tUn:()=>ol,iMQ:()=>al,WSk:()=>sl,n4B:()=>ll,oTb:()=>ul,bej:()=>cl,U1s:()=>pl,UFs:()=>hl,JPg:()=>fl,oLv:()=>dl,rMB:()=>ml,bfT:()=>gl,eOQ:()=>yl,whQ:()=>vl});var n=r(12623),i=r(15289),o=r(1177),a=r(69356),s=r(22919),l=r(74739),u=r(13080),c=r(29094),p=r(41592),h=r(60051),f=r(41062),d=r(69240),m=r(9516),g=r(86931),y=r(57575),v=r(26624),x=r(62306),b=r(99838),_=r(18941),w=r(67859),E=r(36965),M=r(20674),S=r(56334),N=r(61199),k=r(80167),A=r(17317),T=r(93026),O=r(44539),C=r(31709),I=r(42174),R=r(40825),D=r(24230),L=r(86678),q=r(56135),B=r(15895),P=r(91275),z=r(98044),U=r(57924),$=r(27965),F=r(89009),G=r(81735),V=r(64646),H=r(52624),j=r(31827),W=r(23532),X=r(62972),Y=r(99660),Z=r(9454),J=r(14762),K=r(80858),Q=r(52315),ee=r(11719),te=r(27772),re=r(27711),ne=r(22892),ie=r(86006),oe=r(92108),ae=r(2404),se=r(88531),le=r(16598),ue=r(37442),ce=r(76596),pe=r(53516),he=r(21294),fe=r(78972),de=r(10868),me=r(87761),ge=r(35643),ye=r(79856),ve=r(46446),xe=r(12066),be=r(78598),_e=r(32620),we=r(2265),Ee=r(86110),Me=r(92922),Se=r(76688),Ne=r(12109),ke=r(87805),Ae=r(54873),Te=r(62438),Oe=r(40148),Ce=r(4820),Ie=r(54685),Re=r(20057),De=r(9272),Le=r(75014),qe=r(35614),Be=r(50265),Pe=r(27584),ze=r(53445),Ue=r(58489),$e=r(26079),Fe=r(27700),Ge=r(7165),Ve=r(21557),He=r(43672),je=r(99245),We=r(29749),Xe=r(87293),Ye=r(22136),Ze=r(95890),Je=r(17097),Ke=r(6697),Qe=r(51543),et=r(11636),tt=r(1697),rt=r(77957),nt=r(72331),it=r(22339),ot=r(95992),at=r(29755),st=r(53232),lt=r(91645),ut=r(21801),ct=r(46100),pt=r(29140),ht=r(47483),ft=r(50911),dt=r(38839),mt=r(71578),gt=r(34355),yt=r(46190),vt=r(727),xt=r(88031),bt=r(62781),_t=r(12136),wt=r(74595),Et=r(11568),Mt=r(30207),St=r(95448),Nt=r(40845),kt=r(59427),At=r(12263),Tt=r(24224),Ot=r(92096),Ct=r(39786),It=r(16752),Rt=r(36329),Dt=r(76269),Lt=r(44466),qt=r(93709),Bt=r(65694),Pt=r(28738),zt=r(19251),Ut=r(87673),$t=r(66371),Ft=r(28972),Gt=r(68160),Vt=r(48147),Ht=r(67552),jt=r(54688),Wt=r(32043),Xt=r(33069),Yt=r(25626),Zt=r(91415),Jt=r(81809),Kt=r(58548),Qt=r(84755),er=r(46952),tr=r(70550),rr=r(47952),nr=r(62314),ir=r(32698),or=r(37540),ar=r(45947),sr=r(25314),lr=r(77372),ur=r(72272),cr=r(45528),pr=r(54749),hr=r(87625),fr=r(80157),dr=r(8117),mr=r(72053),gr=r(99333),yr=r(68377),vr=r(23030),xr=r(21052),br=r(98450),_r=r(50690),wr=r(36410),Er=r(82560),Mr=r(40441),Sr=r(42319),Nr=r(1773),kr=r(29130),Ar=r(1191),Tr=r(89534),Or=r(58955),Cr=r(24444),Ir=r(66809),Rr=r(97699),Dr=r(22716),Lr=r(14602),qr=r(76723),Br=r(11967),Pr=r(38468),zr=r(52903),Ur=r(45838),$r=r(50982),Fr=r(44309),Gr=r(36286),Vr=r(39238),Hr=r(87576),jr=r(6402),Wr=r(78825),Xr=r(67199),Yr=r(91668),Zr=r(68587),Jr=r(34959),Kr=r(33328),Qr=r(2402),en=r(66593),tn=r(32285),rn=r(42271),nn=r(5148),on=r(87871),an=(0,i.R)({}),sn=(0,o.w)({}),ln=(0,a.X)({}),un=(0,s.Yb)({}),cn=(0,s.VG)({}),pn=(0,s.jy)({}),hn=(0,l.w)({config:n.v}),fn=(0,u.K)({}),dn=(0,c.$)({}),mn=(0,s.oL)({Complex:sn}),gn=(0,s.ur)({BigNumber:hn,config:n.v}),yn=(0,s.q_)({BigNumber:hn,config:n.v}),vn=(0,s.t$)({BigNumber:hn,config:n.v}),xn=(0,s.up)({BigNumber:hn,config:n.v}),bn=(0,s.JE)({BigNumber:hn,config:n.v}),_n=(0,s.ci)({BigNumber:hn,config:n.v}),wn=(0,p.sW)({BigNumber:hn,config:n.v}),En=(0,p.Rw)({BigNumber:hn,config:n.v}),Mn=(0,p.lr)({BigNumber:hn,config:n.v}),Sn=(0,p.Dg)({BigNumber:hn,config:n.v}),Nn=(0,h.u)({}),kn=(0,s.IK)({BigNumber:hn,config:n.v}),An=(0,s.Ir)({BigNumber:hn,config:n.v}),Tn=(0,s.p9)({BigNumber:hn,config:n.v}),On=(0,s.hT)({}),Cn=(0,f.D)({Matrix:fn}),In=(0,s.Ii)({BigNumber:hn,config:n.v}),Rn=(0,d.d)({BigNumber:hn,Complex:sn,DenseMatrix:Cn,Fraction:Nn}),Dn=(0,m.u)({typed:Rn}),Ln=(0,g.L)({typed:Rn}),qn=(0,y.X)({typed:Rn}),Bn=(0,v.n)({typed:Rn}),Pn=(0,x.f)({config:n.v,typed:Rn}),zn=(0,b.k)({typed:Rn}),Un=(0,_.q)({typed:Rn}),$n=(0,w.U)({Complex:sn,typed:Rn}),Fn=(0,E.Y)({typed:Rn}),Gn=(0,M.i)({BigNumber:hn,config:n.v,typed:Rn}),Vn=(0,S.j)({isInteger:Dn,typed:Rn}),Hn=(0,N.z)({typed:Rn}),jn=(0,k.j)({Complex:sn,typed:Rn}),Wn=(0,A.z)({Complex:sn,config:n.v,typed:Rn}),Xn=(0,T.x)({typed:Rn}),Yn=(0,O.U)({BigNumber:hn,Fraction:Nn,complex:$n,typed:Rn}),Zn=(0,C.y)({typed:Rn}),Jn=(0,I.e)({typed:Rn}),Kn=(0,R.Q)({typed:Rn}),Qn=(0,D.R)({typed:Rn}),ei=(0,L.b)({typed:Rn}),ti=(0,q.c)({typed:Rn}),ri=(0,B.I)({typed:Rn}),ni=(0,P.d)({typed:Rn}),ii=(0,z.P)({typed:Rn}),oi=(0,U.l)({typed:Rn}),ai=(0,$.L)({format:oi,typed:Rn}),si=(0,F.P)({typed:Rn}),li=(0,G.C)({typed:Rn}),ui=(0,V.L)({Complex:sn,config:n.v,typed:Rn}),ci=(0,H._)({BigNumber:hn,typed:Rn}),pi=(0,j.B)({BigNumber:hn,Complex:sn,config:n.v,typed:Rn}),hi=(0,W.Q)({BigNumber:hn,Complex:sn,config:n.v,typed:Rn}),fi=(0,X.K)({Complex:sn,config:n.v,typed:Rn}),di=(0,Y.a)({typed:Rn}),mi=(0,Z.m)({Complex:sn,config:n.v,typed:Rn}),gi=(0,J.v)({typed:Rn}),yi=(0,K.c)({BigNumber:hn,typed:Rn}),vi=(0,Q._)({BigNumber:hn,typed:Rn}),xi=(0,ee.g)({BigNumber:hn,typed:Rn}),bi=(0,te.P)({typed:Rn}),_i=(0,re.P)({typed:Rn}),wi=(0,ne.C)({typed:Rn}),Ei=(0,ie.P)({config:n.v,typed:Rn}),Mi=(0,oe.N)({config:n.v,typed:Rn}),Si=(0,s.Cc)({BigNumber:hn,config:n.v}),Ni=(0,ae.v)({typed:Rn}),ki=(0,se.D)({isNumeric:Ln,typed:Rn}),Ai=(0,le.Z)({typed:Rn}),Ti=(0,ue.Y)({typed:Rn}),Oi=(0,ce.v)({Fraction:Nn,typed:Rn}),Ci=(0,pe.x)({typed:Rn}),Ii=(0,he.A)({typed:Rn}),Ri=(0,fe.C)({typed:Rn}),Di=(0,de.d)({Complex:sn,config:n.v,typed:Rn}),Li=(0,me.M)({Complex:sn,config:n.v,typed:Rn}),qi=(0,ge.b)({typed:Rn}),Bi=(0,ye.s)({typed:Rn}),Pi=(0,ve.x)({isNaN:Bn,isNumeric:Ln,typed:Rn}),zi=(0,xe.D)({format:oi,typed:Rn}),Ui=(0,be.H)({Complex:sn,config:n.v,typed:Rn}),$i=(0,_e.z)({BigNumber:hn,typed:Rn}),Fi=(0,we.c)({typed:Rn}),Gi=(0,Ee.$)({typed:Rn}),Vi=(0,Me.B)({BigNumber:hn,typed:Rn}),Hi=(0,Se.x)({typed:Rn}),ji=(0,Ne.i)({typed:Rn}),Wi=(0,ke.o)({config:n.v,typed:Rn}),Xi=(0,s.rN)({BigNumber:hn,config:n.v}),Yi=(0,Ae.E)({typed:Rn}),Zi=(0,Te.C)({Matrix:fn,equalScalar:Pn,typed:Rn}),Ji=(0,Oe.w)({DenseMatrix:Cn,Matrix:fn,SparseMatrix:Zi,typed:Rn}),Ki=(0,Ce.S)({BigNumber:hn,Complex:sn,Fraction:Nn,config:n.v,isNegative:Yi,matrix:Ji,typed:Rn,unaryMinus:Ci}),Qi=(0,Ie.f)({BigNumber:hn,DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),eo=(0,Re.J)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),to=(0,De.l)({BigNumber:hn,equalScalar:Pn,matrix:Ji,typed:Rn}),ro=(0,Le.o)({BigNumber:hn,config:n.v,matrix:Ji,typed:Rn}),no=(0,qe.i)({equalScalar:Pn,matrix:Ji,typed:Rn}),io=(0,Be.g)({DenseMatrix:Cn,matrix:Ji,typed:Rn}),oo=(0,Pe.Z)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),ao=(0,ze.k)({isInteger:Dn,matrix:Ji,typed:Rn}),so=(0,Ue._)({DenseMatrix:Cn,SparseMatrix:Zi,matrix:Ji,typed:Rn}),lo=(0,$e.X)({BigNumber:hn,DenseMatrix:Cn,SparseMatrix:Zi,config:n.v,matrix:Ji,typed:Rn}),uo=(0,Fe.c)({BigNumber:hn,config:n.v,matrix:Ji,typed:Rn}),co=(0,Ge.O)({isInteger:Dn,matrix:Ji,typed:Rn}),po=(0,Ve.s)({matrix:Ji,config:n.v,typed:Rn}),ho=(0,He.q)({matrix:Ji,typed:Rn}),fo=(0,je.T)({BigNumber:hn,config:n.v,matrix:Ji,typed:Rn}),mo=(0,We.$)({format:oi,typed:Rn}),go=(0,Xe.V)({BigNumber:hn,DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn,zeros:fo}),yo=(0,Ye.U)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn,zeros:fo}),vo=(0,Ze.M)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn,zeros:fo}),xo=(0,Je.z)({BigNumber:hn,DenseMatrix:Cn,Fraction:Nn,config:n.v,equalScalar:Pn,matrix:Ji,typed:Rn}),bo=(0,Ke.f)({matrix:Ji,typed:Rn}),_o=(0,Qe.r)({DenseMatrix:Cn,config:n.v,matrix:Ji,typed:Rn}),wo=(0,et.$)({DenseMatrix:Cn,config:n.v,matrix:Ji,typed:Rn}),Eo=(0,tt.I)({DenseMatrix:Cn,config:n.v,equalScalar:Pn,matrix:Ji,typed:Rn}),Mo=(0,rt.H)({DenseMatrix:Cn,smaller:_o}),So=(0,nt.b)({larger:wo,smaller:_o}),No=(0,it.B)({SparseMatrix:Zi,typed:Rn}),ko=(0,ot.w)({BigNumber:hn,Complex:sn,config:n.v,typed:Rn}),Ao=(0,at.U)({BigNumber:hn,DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),To=(0,st.i)({BigNumber:hn,typed:Rn}),Oo=(0,lt.e)({DenseMatrix:Cn,SparseMatrix:Zi,addScalar:Ii,equalScalar:Pn,matrix:Ji,typed:Rn}),Co=(0,ut.W)({addScalar:Ii,conj:qi,multiplyScalar:Xn,size:po,typed:Rn}),Io=(0,ct.s)({addScalar:Ii,combinations:wi,isInteger:Dn,isNegative:Yi,isPositive:qn,larger:wo,typed:Rn}),Ro=(0,pt.t)({typed:Rn}),Do=(0,ht.E)({typed:Rn}),Lo=(0,ft.B)({config:n.v,equalScalar:Pn,matrix:Ji,round:go,typed:Rn}),qo=(0,dt.o)({addScalar:Ii,dot:Co,equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,typed:Rn}),Bo=(0,mt.C)({equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,typed:Rn}),Po=(0,gt.m)({typed:Rn}),zo=(0,yt.c)({matrix:Ji,typed:Rn}),Uo=(0,vt.y)({config:n.v,matrix:Ji}),$o=(0,xt.a)({matrix:Ji,typed:Rn}),Fo=(0,bt.w)({matrix:Ji,typed:Rn}),Go=(0,_t.X)({Complex:sn,config:n.v,fraction:Oi,identity:lo,matrix:Ji,multiply:qo,number:zn,typed:Rn}),Vo=(0,wt.v)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,pow:Go,typed:Rn}),Ho=(0,Et.o)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn,zeros:fo}),jo=(0,Mt.M)({compare:xo,typed:Rn}),Wo=(0,St.s)({compareText:bo,isZero:Ro,typed:Rn}),Xo=(0,Nt.A)({DenseMatrix:Cn,config:n.v,matrix:Ji,typed:Rn}),Yo=(0,kt.U)({compare:xo,isNaN:Bn,isNumeric:Ln,typed:Rn}),Zo=(0,At.B)({ImmutableDenseMatrix:Mo}),Jo=(0,Tt.k)({BigNumber:hn,Complex:sn,config:n.v,typed:Rn}),Ko=(0,Ot.O)({typed:Rn}),Qo=(0,Ct.L)({DenseMatrix:Cn,Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),ea=(0,It.h)({DenseMatrix:Cn,Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),ta=(0,Rt.m)({Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),ra=(0,Dt.B)({compareNatural:jo,typed:Rn}),na=(0,Lt.J)({add:Oo,matrix:Ji,typed:Rn}),ia=(0,qt.y)({add:Oo,compare:xo,multiply:qo,partitionSelect:Yo,typed:Rn}),oa=(0,Bt.J)({BigNumber:hn,Complex:sn,config:n.v,multiplyScalar:Xn,pow:Go,typed:Rn}),aa=(0,Pt.p)({BigNumber:hn,typed:Rn}),sa=(0,zt.b)({equalScalar:Pn,matrix:Ji,typed:Rn}),la=(0,Ut.j)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),ua=(0,$t.Z)({matrix:Ji,multiplyScalar:Xn,typed:Rn}),ca=(0,Ft.B)({matrix:Ji,typed:Rn}),pa=(0,Gt.d)({bignumber:aa,fraction:Oi,number:zn}),ha=(0,Vt.I)({equalScalar:Pn,matrix:Ji,not:ei,typed:Rn,zeros:fo}),fa=(0,Ht.x)({DenseMatrix:Cn,config:n.v,matrix:Ji,typed:Rn}),da=(0,jt.l)({compare:xo,compareNatural:jo,matrix:Ji,typed:Rn}),ma=(0,Wt.D)({config:n.v,numeric:pa,smaller:_o,typed:Rn}),ga=(0,Xt.j)({BigNumber:hn,typed:Rn}),ya=(0,Yt.o)({DenseMatrix:Cn,Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),va=(0,Zt.c)({Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),xa=(0,Jt.E)({Index:Zo,typed:Rn}),ba=(0,Kt.O)({add:Oo,config:n.v,numeric:pa,typed:Rn}),_a=(0,Qt.Z)({gamma:oa,typed:Rn}),wa=(0,er.Q)({factorial:_a,typed:Rn}),Ea=(0,tr.l)({config:n.v,equalScalar:Pn,matrix:Ji,round:go,typed:Rn}),Ma=(0,rr.p)({DenseMatrix:Cn,addScalar:Ii,equalScalar:Pn,matrix:Ji,typed:Rn,unaryMinus:Ci}),Sa=(0,nr.q)({matrix:Ji,multiply:qo,subtract:Ma,typed:Rn}),Na=(0,ir.M)({bignumber:aa,matrix:Ji,config:n.v,larger:wo,largerEq:Xo,smaller:_o,smallerEq:fa,typed:Rn}),ka=(0,or.v)({Index:Zo,matrix:Ji,range:Na,typed:Rn}),Aa=(0,ar.x)({config:n.v,multiplyScalar:Xn,numeric:pa,typed:Rn}),Ta=(0,sr.Z)({DenseMatrix:Cn,equalScalar:Pn,matrix:Ji,typed:Rn}),Oa=(0,lr.J)({config:n.v,larger:wo,numeric:pa,typed:Rn}),Ca=(0,ur.$)({DenseMatrix:Cn,Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),Ia=(0,cr.w)({Index:Zo,concat:ao,setDifference:Qo,size:po,subset:ho,typed:Rn}),Ra=(0,pr.Y)({Complex:sn,ceil:Ea,floor:Lo,matrix:Ji,typed:Rn}),Da=(0,hr.w)({Index:Zo,matrix:Ji,range:Na,typed:Rn}),La=(0,fr.J)({matrix:Ji,number:zn,subtract:Ma,typed:Rn}),qa=(0,dr.t)({conj:qi,transpose:ca,typed:Rn}),Ba=(0,mr.s)({equal:Ta,typed:Rn}),Pa=(0,gr.o)({Index:Zo,compareNatural:jo,size:po,subset:ho,typed:Rn}),za=(0,yr.O)({DenseMatrix:Cn,matrix:Ji,typed:Rn}),Ua=(0,vr.L)({numeric:pa,typed:Rn}),$a=(0,xr.f)({Complex:sn,config:n.v,divideScalar:Ua,typed:Rn}),Fa=(0,br.v)({DenseMatrix:Cn,divideScalar:Ua,equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,subtract:Ma,typed:Rn}),Ga=(0,_r.S)({DenseMatrix:Cn,divideScalar:Ua,equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,subtract:Ma,typed:Rn}),Va=(0,wr.W)({FibonacciHeap:So,addScalar:Ii,equalScalar:Pn}),Ha=(0,Er.r)({Index:Zo,concat:ao,setIntersect:ea,setSymDifference:Ia,size:po,subset:ho,typed:Rn}),ja=(0,Mr.c)({DenseMatrix:Cn,Spa:Va,SparseMatrix:Zi,abs:Do,addScalar:Ii,divideScalar:Ua,equalScalar:Pn,larger:wo,matrix:Ji,multiplyScalar:Xn,subtract:Ma,typed:Rn,unaryMinus:Ci}),Wa=(0,Sr.p)({SparseMatrix:Zi,abs:Do,add:Oo,divideScalar:Ua,larger:wo,largerEq:Xo,multiply:qo,subtract:Ma,transpose:ca,typed:Rn}),Xa=(0,Nr.S)({lup:ja,matrix:Ji,multiply:qo,subtract:Ma,typed:Rn,unaryMinus:Ci}),Ya=(0,kr.v)({abs:Do,addScalar:Ii,divideScalar:Ua,multiplyScalar:Xn,sqrt:Li,subtract:Ma,typed:Rn,unaryMinus:Ci}),Za=(0,Ar.M)({addScalar:Ii,combinations:wi,divideScalar:Ua,factorial:_a,isInteger:Dn,isNegative:Yi,larger:wo,multiplyScalar:Xn,pow:Go,subtract:Ma,typed:Rn}),Ja=(0,Tr.u)({addScalar:Ii,combinations:wi,divideScalar:Ua,isInteger:Dn,isNegative:Yi,multiplyScalar:Xn,typed:Rn}),Ka=(0,Or.l)({prod:Aa,size:po,typed:Rn}),Qa=(0,Cr.x)({Complex:sn,config:n.v,divideScalar:Ua,typed:Rn}),es=(0,Ir.N)({DenseMatrix:Cn,divideScalar:Ua,equalScalar:Pn,matrix:Ji,typed:Rn}),ts=(0,Rr.Y)({DenseMatrix:Cn,divideScalar:Ua,equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,subtract:Ma,typed:Rn}),rs=(0,Dr.n)({abs:Do,addScalar:Ii,divideScalar:Ua,isPositive:qn,multiplyScalar:Xn,smaller:_o,sqrt:Li,typed:Rn}),ns=(0,Lr.y)({addScalar:Ii,complex:$n,conj:qi,divideScalar:Ua,equal:Ta,identity:lo,isZero:Ro,matrix:Ji,multiplyScalar:Xn,sign:Yn,sqrt:Li,subtract:Ma,typed:Rn,unaryMinus:Ci,zeros:fo}),is=(0,qr.N)({abs:Do,addScalar:Ii,det:Xa,divideScalar:Ua,identity:lo,matrix:Ji,multiply:qo,typed:Rn,unaryMinus:Ci}),os=(0,Br.c)({abs:Do,add:Oo,identity:lo,inv:is,multiply:qo,typed:Rn}),as=(0,Pr._)({divideScalar:Ua,equalScalar:Pn,inv:is,matrix:Ji,multiply:qo,typed:Rn}),ss=(0,zr.Q)({add:Oo,divide:as,typed:Rn}),ls=(0,Ur.F)({add:Oo,apply:Vn,divide:as,isNaN:Bn,multiply:qo,subtract:Ma,typed:Rn}),us=(0,$r.s)({divide:as,dotDivide:es,isNumeric:Ln,log:Qa,matrix:Ji,multiply:qo,sum:ba,typed:Rn}),cs=(0,Fr.d)({addScalar:Ii,isInteger:Dn,isNegative:Yi,stirlingS2:Za,typed:Rn}),ps=(0,Gr.d)({Complex:sn,config:n.v,divideScalar:Ua,log:Qa,typed:Rn}),hs=(0,Vr.w)({BigNumber:hn,Complex:sn,Fraction:Nn,abs:Do,addScalar:Ii,config:n.v,divideScalar:Ua,equal:Ta,fix:Ra,format:oi,isNumeric:Ln,multiplyScalar:Xn,number:zn,pow:Go,round:go,subtract:Ma}),fs=(0,Hr.z)({Unit:hs,typed:Rn}),ds=(0,jr.Q)({abs:Do,add:Oo,addScalar:Ii,atan:di,bignumber:aa,config:n.v,cos:Gi,equal:Ta,inv:is,matrix:Ji,multiply:qo,multiplyScalar:Xn,sin:Hi,subtract:Ma,typed:Rn}),ms=(0,Wr.M)({abs:Do,add:Oo,addScalar:Ii,config:n.v,divideScalar:Ua,equalScalar:Pn,matrix:Ji,multiply:qo,multiplyScalar:Xn,smaller:_o,subtract:Ma,typed:Rn}),gs=(0,Xr.X)({sqrt:Li,typed:Rn,variance:ls}),ys=(0,p._C)({BigNumber:hn,Unit:hs,config:n.v}),vs=(0,p.ri)({BigNumber:hn,Unit:hs,config:n.v}),xs=(0,p.Gw)({BigNumber:hn,Unit:hs,config:n.v}),bs=(0,p.u1)({BigNumber:hn,Unit:hs,config:n.v}),_s=(0,p.zP)({BigNumber:hn,Unit:hs,config:n.v}),ws=(0,p.o8)({BigNumber:hn,Unit:hs,config:n.v}),Es=(0,p.Go)({BigNumber:hn,Unit:hs,config:n.v}),Ms=(0,p.Uu)({BigNumber:hn,Unit:hs,config:n.v}),Ss=(0,p.nH)({BigNumber:hn,Unit:hs,config:n.v}),Ns=(0,p.c0)({BigNumber:hn,Unit:hs,config:n.v}),ks=(0,p.VL)({BigNumber:hn,Unit:hs,config:n.v}),As=(0,p.ax)({BigNumber:hn,Unit:hs,config:n.v}),Ts=(0,p.xt)({BigNumber:hn,Unit:hs,config:n.v}),Os=(0,p.cn)({BigNumber:hn,Unit:hs,config:n.v}),Cs=(0,p.j5)({BigNumber:hn,Unit:hs,config:n.v}),Is=(0,p.B7)({BigNumber:hn,Unit:hs,config:n.v}),Rs=(0,p.Ps)({BigNumber:hn,Unit:hs,config:n.v}),Ds=(0,p.Oz)({BigNumber:hn,Unit:hs,config:n.v}),Ls=(0,p.BL)({BigNumber:hn,Unit:hs,config:n.v}),qs=(0,p.Yv)({BigNumber:hn,Unit:hs,config:n.v}),Bs=(0,p.GI)({BigNumber:hn,Unit:hs,config:n.v}),Ps=(0,p.zt)({BigNumber:hn,Unit:hs,config:n.v}),zs=(0,p.xx)({BigNumber:hn,Unit:hs,config:n.v}),Us=(0,Yr.U)({DenseMatrix:Cn,divideScalar:Ua,equalScalar:Pn,matrix:Ji,multiplyScalar:Xn,subtract:Ma,typed:Rn}),$s=(0,Zr.z)({abs:Do,add:Oo,conj:qi,ctranspose:qa,eigs:ds,equalScalar:Pn,larger:wo,matrix:Ji,multiply:qo,pow:Go,smaller:_o,sqrt:Li,typed:Rn}),Fs=(0,Jr.A)({DenseMatrix:Cn,lsolve:Fa,lup:ja,matrix:Ji,slu:Wa,typed:Rn,usolve:Us}),Gs=(0,Kr.m)({abs:Do,add:Oo,identity:lo,inv:is,max:Oa,multiply:qo,size:po,sqrt:Li,subtract:Ma,typed:Rn}),Vs=(0,Qr.b)({add:Oo,divide:as,factorial:_a,isInteger:Dn,isPositive:qn,multiply:qo,typed:Rn}),Hs=(0,p.rK)({BigNumber:hn,Unit:hs,config:n.v}),js=(0,p.jp)({BigNumber:hn,Unit:hs,config:n.v}),Ws=(0,p.JS)({BigNumber:hn,Unit:hs,config:n.v}),Xs=(0,p.Zu)({BigNumber:hn,Unit:hs,config:n.v}),Ys=(0,p.CQ)({BigNumber:hn,Unit:hs,config:n.v}),Zs=(0,p.sD)({BigNumber:hn,Unit:hs,config:n.v}),Js=(0,p.Qr)({BigNumber:hn,Unit:hs,config:n.v}),Ks=(0,p.d)({BigNumber:hn,Unit:hs,config:n.v}),Qs=(0,p.v0)({BigNumber:hn,Unit:hs,config:n.v}),el=(0,p.kL)({BigNumber:hn,Unit:hs,config:n.v}),tl=(0,p.ss)({BigNumber:hn,Unit:hs,config:n.v}),rl=(0,p.W5)({BigNumber:hn,Unit:hs,config:n.v}),nl=(0,en.F)({BigNumber:hn,DenseMatrix:Cn,SparseMatrix:Zi,addScalar:Ii,config:n.v,cos:Gi,matrix:Ji,multiplyScalar:Xn,norm:$s,sin:Hi,typed:Rn,unaryMinus:Ci}),il=(0,tn.O)({add:Oo,compare:xo,divide:as,partitionSelect:Yo,typed:Rn}),ol=(0,p.pz)({BigNumber:hn,Unit:hs,config:n.v}),al=(0,p.IW)({BigNumber:hn,Unit:hs,config:n.v}),sl=(0,p.Km)({BigNumber:hn,Unit:hs,config:n.v}),ll=(0,p.lR)({BigNumber:hn,Unit:hs,config:n.v}),ul=(0,p.of)({BigNumber:hn,Unit:hs,config:n.v}),cl=(0,p.V9)({BigNumber:hn,Unit:hs,config:n.v}),pl=(0,rn.g)({multiply:qo,rotationMatrix:nl,typed:Rn}),hl=(0,nn.x)({abs:Do,map:ni,median:il,subtract:Ma,typed:Rn}),fl=(0,p.ir)({BigNumber:hn,Unit:hs,config:n.v}),dl=(0,p.RZ)({BigNumber:hn,Unit:hs,config:n.v}),ml=(0,p.A0)({BigNumber:hn,Unit:hs,config:n.v}),gl=(0,on.E)({Unit:hs,typed:Rn}),yl=(0,p.Vv)({BigNumber:hn,Unit:hs,config:n.v}),vl=(0,p.$M)({BigNumber:hn,Unit:hs,config:n.v})},83963:(e,t,r)=>{"use strict";function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.d(t,{u:()=>n}),n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0},24486:(e,t,r)=>{"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}r.d(t,{m:()=>n}),n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0},81725:(e,t,r)=>{"use strict";function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.d(t,{c:()=>n}),n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0},89786:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(67242),i=r(57139),o=r(19372),a=["parse"],s=(0,r(25864).d5)("Help",a,(e=>{var{parse:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var e=this.doc||{},r="\n";if(e.name&&(r+="Name: "+e.name+"\n\n"),e.category&&(r+="Category: "+e.category+"\n\n"),e.description&&(r+="Description:\n    "+e.description+"\n\n"),e.syntax&&(r+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){r+="Examples:\n";for(var i={},a=0;a<e.examples.length;a++){var s=e.examples[a];r+="    "+s+"\n";var l=void 0;try{l=t(s).compile().evaluate(i)}catch(u){l=u}void 0===l||(0,n.x1)(l)||(r+="        "+(0,o.WU)(l,{precision:14})+"\n")}r+="\n"}return e.seealso&&e.seealso.length&&(r+="See also: "+e.seealso.join(", ")+"\n"),r},r.prototype.toJSON=function(){var e=(0,i.d9)(this.doc);return e.mathjs="Help",e},r.fromJSON=function(e){var t={};return Object.keys(e).filter((e=>"mathjs"!==e)).forEach((r=>{t[r]=e[r]})),new r(t)},r.prototype.valueOf=r.prototype.toString,r}),{isClass:!0})},28925:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(25864),i=r(57139),o=r(5723),a=["parse"],s=(0,n.d5)("Parser",a,(e=>{var{parse:t}=e;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},r.prototype.get=function(e){return e in this.scope?(0,o.YF)(this.scope,e):void 0},r.prototype.getAll=function(){return(0,i.l7)({},this.scope)},r.prototype.set=function(e,t){return(0,o.nI)(this.scope,e,t)},r.prototype.remove=function(e){delete this.scope[e]},r.prototype.clear=function(){for(var e in this.scope)(0,i.nr)(this.scope,e)&&delete this.scope[e]},r}),{isClass:!0})},96941:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},71742:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},36807:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},41365:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},87403:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var n={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},435:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},27143:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},56414:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var n={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},26825:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},96442:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},54280:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},15565:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var n={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},32056:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},67516:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},13869:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var n={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},73212:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},71909:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},53157:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},77050:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},73349:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},48718:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},19820:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},46696:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},21133:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},7541:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},11777:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var n={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},83236:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},88001:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},4614:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var n={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},51838:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},89618:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},41890:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},38550:(e,t,r)=>{"use strict";r.d(t,{Q:()=>sn});var n=r(53157),i=r(38908),o=r(30058),a=r(74898),s=r(91484),l=r(53799),u=r(99951),c=r(60893),p=r(76184),h=r(47058),f=r(16903),d=r(78756),m=r(71903),g=r(53670),y=r(96452),v=r(67588),x=r(49234),b=r(5191),_=r(57308),w=r(23447),E=r(44202),M=r(8903),S=r(87450),N=r(86571),k=r(51048),A=r(82998),T=r(96089),O=r(92956),C=r(45483),I=r(46458),R=r(1937),D=r(35761),L=r(66911),q=r(33247),B=r(31859),P=r(94322),z=r(79714),U=r(6050),$=r(94951),F=r(61591),G=r(59297),V=r(66652),H=r(10776),j=r(95844),W=r(19970),X=r(69809),Y=r(74685),Z=r(98021),J=r(70514),K=r(2563),Q=r(42053),ee=r(85430),te=r(48742),re=r(62387),ne=r(82853),ie=r(33393),oe=r(43620),ae=r(53841),se=r(3068),le=r(48317),ue=r(31474),ce=r(56288),pe=r(3434),he=r(35933),fe=r(81269),de=r(30477),me=r(13936),ge=r(77928),ye=r(24716),ve=r(48694),xe=r(15435),be=r(43086),_e=r(29669),we=r(78509),Ee=r(29399),Me=r(68678),Se=r(62842),Ne=r(68755),ke=r(92986),Ae=r(33522),Te=r(43122),Oe=r(32488),Ce=r(71847),Ie=r(9433),Re=r(68297),De=r(59246),Le=r(11529),qe=r(57762),Be=r(10969),Pe=r(45712),ze=r(91746),Ue=r(57564),$e=r(98064),Fe=r(45870),Ge=r(85115),Ve=r(78263),He=r(46196),je=r(43510),We=r(84569),Xe=r(51897),Ye=r(14702),Ze=r(14352),Je=r(77527),Ke=r(93535),Qe=r(96863),et=r(89791),tt=r(43193),rt=r(78677),nt=r(96258),it=r(98906),ot=r(12851),at=r(70872),st=r(33314),lt=r(87136),ut=r(784),ct=r(15161),pt=r(59993),ht=r(84605),ft=r(10473),dt=r(73934),mt=r(2335),gt=r(66077),yt=r(41890),vt=r(89618),xt=r(51838),bt=r(91340),_t=r(21029),wt=r(598),Et=r(86735),Mt=r(61978),St=r(58247),Nt=r(66433),kt=r(13501),At=r(33058),Tt=r(62424),Ot=r(44549),Ct=r(29233),It=r(46929),Rt=r(31678),Dt=r(22266),Lt=r(17373),qt=r(90724),Bt=r(46145),Pt=r(71399),zt=r(27449),Ut=r(63356),$t=r(29097),Ft=r(10906),Gt=r(43133),Vt=r(16426),Ht=r(74253),jt=r(4285),Wt=r(73100),Xt=r(20134),Yt=r(38427),Zt=r(60716),Jt=r(41623),Kt=r(80541),Qt=r(57931),er=r(94494),tr=r(97066),rr=r(52204),nr=r(95709),ir=r(13642),or=r(27199),ar=r(48365),sr=r(21885),lr=r(47259),ur=r(84396),cr=r(91146),pr=r(64925),hr=r(96617),fr=r(43873),dr=r(79014),mr=r(3031),gr=r(54958),yr=r(91531),vr=r(37351),xr=r(43288),br=r(81073),_r=r(45606),wr=r(71909),Er=r(73212),Mr=r(13869),Sr=r(56414),Nr=r(27143),kr=r(32056),Ar=r(67516),Tr=r(15565),Or=r(435),Cr=r(41365),Ir=r(87403),Rr=r(71742),Dr=r(36807),Lr=r(96941),qr=r(54280),Br=r(96442),Pr=r(26825),zr=r(4614),Ur=r(88001),$r=r(83236),Fr=r(11777),Gr=r(7541),Vr=r(21133),Hr=r(46696),jr=r(19820),Wr=r(48718),Xr=r(73349),Yr=r(77050),Zr=r(46868),Jr=r(6491),Kr=r(7816),Qr=r(17570),en=r(9466),tn=r(80517),rn=r(6830),nn=r(24709),on=r(87825),an=r(44463),sn={bignumber:n.m,boolean:Yr.R,complex:Xr.R,createUnit:Wr.a,fraction:jr.o,index:Hr.l,matrix:Vr.R,number:Gr.b,sparse:Fr.q,splitUnit:$r.v,string:Ur.w,unit:zr.L,e:Pr.u,E:Pr.u,false:Br.R,i:qr.T,Infinity:Lr.b,LN2:Dr.m,LN10:Rr.h,LOG2E:Ir.H,LOG10E:Cr.n,NaN:Or.w,null:Tr.H,pi:Ar.A,PI:Ar.A,phi:kr.s,SQRT1_2:Nr.Y,SQRT2:Sr.F,tau:Mr.F,true:Er.C,version:wr.Q,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:_r.U,lsolve:xr.k,lsolveAll:br.I,lup:vr.j,lusolve:Jr.h,simplify:yr.S,rationalize:gr.O,slu:mr.E,usolve:fr.n,usolveAll:dr.a,qr:hr.Y,abs:pr.a,add:cr.B,cbrt:ur.h,ceil:lr.j,cube:sr.K,divide:ar.H,dotDivide:or.f,dotMultiply:ir.X,dotPow:Zr.d,exp:nr.E,expm:tr._,expm1:er.c,fix:Qt.V,floor:Kt.v,gcd:Jt.E,hypot:Zt.G,lcm:Yt.P,log:Xt.x,log2:Wt.r,log1p:jt.y,log10:Ht.T,mod:Vt.U,multiply:Gt.j,norm:Ft.b,nthRoot:$t._,nthRoots:Ut.X,pow:zt.p,round:Pt.p,sign:Bt.U,sqrt:qt.I,sqrtm:Lt.f,square:Dt.r,subtract:Kr.l,unaryMinus:Rt.A,unaryPlus:It.S,xgcd:Ct._,bitAnd:Ot.b,bitNot:Tt.b,bitOr:At.R,bitXor:kt.S,leftShift:Nt.e,rightArithShift:St.A,rightLogShift:Mt.J,bellNumbers:Et.e,catalan:wt.K,composition:_t.w,stirlingS2:bt.$,config:xt.m,import:vt.T,typed:yt.S,arg:gt.A,conj:mt.T,re:dt.y,im:ft.J,evaluate:ht.C,help:pt.w,distance:ct.l,intersect:ut.l,and:lt.t,not:st.Q,or:at.o,xor:ot.g,concat:nt.T,count:it.p,cross:rt.n,column:rn.x,ctranspose:tt.Z,det:et._,diag:Qe.u,diff:Pe.d,dot:Ke.n,getMatrixDataType:Je.q,identity:Ze.i,filter:Ye.c,flatten:Xe.t,forEach:We.r,inv:je.Y,eigs:rr.B,kron:He.V,map:Ve._,ones:Ge.B,partitionSelect:Fe.p,range:$e.w,resize:Ue.I,reshape:ze.u,rotate:an.j,rotationMatrix:on.x,row:nn.j,size:Be.o,sort:qe.M,squeeze:Le.w,subset:De.E,trace:Re.a,transpose:Ie.S,zeros:Ce.X,combinations:Te.O,combinationsWithRep:Oe.K,factorial:Ae.w,gamma:ke.j,kldivergence:Ne.W,multinomial:Se.B,permutations:Me.i,pickRandom:Ee.h,random:we.e,randomInt:_e.G,compare:be.A,compareNatural:xe.d,compareText:ve.T,deepEqual:ye.J,equal:ge.b,equalText:me.N,larger:de.i,largerEq:fe.z,smaller:he.m,smallerEq:pe.p,unequal:ce.Q,setCartesian:ue.N,setDifference:le.T,setDistinct:se.H,setIntersect:ae.e,setIsSubset:oe.Y,setMultiplicity:ie.E,setPowerset:ne.l,setSize:re.y,setSymDifference:te.a,setUnion:ee.Y,erf:Q.c,mad:K._,max:J.Z,mean:Z.B,median:Y.K,min:X.c,mode:W.W,prod:j.w,quantileSeq:H.r,std:V.v,sum:G.P,variance:Qr.F,acos:F.S,acosh:$.w,acot:U.G,acoth:z.Z,acsc:P.R,acsch:B.y,asec:q.z,asech:L.P,asin:D.b,asinh:R.I,atan:I.p,atanh:C.a,atan2:O.O,cos:T.x,cosh:A.p,cot:k.M,coth:N.A,csc:S.y,csch:M.i,sec:E.F,sech:w.P,sin:en.f,sinh:_.I,tan:b.q,tanh:x.T,to:v.B,clone:y.S,format:f.d,bin:d.L,oct:m.J,hex:g.j,isNaN:h.G,isInteger:p.T,isNegative:c.N,isNumeric:l.Z,hasNumericValue:u.P,isPositive:s.b,isPrime:a.r,isZero:o.o,typeOf:i.I,numeric:tn.V}},45606:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]}},43288:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var n={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]}},81073:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]}},37351:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},6491:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},96617:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},54958:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},91531:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]}},3031:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},43873:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]}},79014:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]}},64925:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},91146:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},84396:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},47259:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},21885:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},48365:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var n={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},27199:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},13642:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},46868:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},95709:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},97066:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},94494:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},57931:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},80541:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},41623:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},60716:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var n={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},38427:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},20134:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},74253:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},4285:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},73100:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},16426:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},43133:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},10906:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},29097:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},63356:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},27449:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},71399:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},46145:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},90724:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},17373:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},22266:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},7816:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},31678:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},46929:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},29233:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},44549:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},62424:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},33058:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},13501:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},66433:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},58247:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},61978:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},86735:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},598:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},21029:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},91340:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var n={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},66077:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},2335:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},10473:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},73934:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},84605:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]}},59993:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},15161:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},784:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},87136:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},33314:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},70872:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},12851:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var n={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},6830:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]}},96258:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},98906:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]}},78677:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},43193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var n={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},89791:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},96863:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},45712:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]}},93535:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var n={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},52204:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]}},14702:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},51897:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},84569:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},77527:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var n={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]}},14352:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},43510:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},46196:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},78263:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},85115:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},45870:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},98064:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},91746:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},57564:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},44463:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], math.pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]}},87825:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]}},24709:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]}},10969:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},57762:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var n={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},11529:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},59246:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},68297:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},9433:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},71847:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},43122:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]}},32488:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]}},33522:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]}},92986:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},68755:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var n={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},62842:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},68678:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]}},29399:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},78509:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},29669:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var n={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},43086:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},15435:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},48694:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},24716:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},77928:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},13936:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var n={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},30477:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},81269:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},35933:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},3434:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},56288:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},31474:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var n={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},48317:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},3068:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var n={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},53841:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},43620:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},33393:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},82853:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},62387:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},48742:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},85430:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});var n={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},42053:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},2563:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var n={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},70514:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var n={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]}},98021:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]}},74685:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]}},69809:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]}},19970:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var n={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]}},95844:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]}},10776:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]}},66652:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]}},59297:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]}},17570:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var n={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},61591:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},94951:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},6050:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var n={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},79714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var n={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},94322:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var n={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},31859:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},33247:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var n={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},66911:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},35761:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},1937:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},46458:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},92956:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},45483:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},96089:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var n={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},82998:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var n={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},51048:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var n={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},86571:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var n={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},87450:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},8903:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},44202:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var n={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},23447:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},9466:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},57308:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},5191:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var n={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},49234:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},67588:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var n={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},78756:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var n={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]}},96452:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var n={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},16903:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});var n={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},99951:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]}},53670:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]}},76184:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var n={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},47058:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var n={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},60893:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var n={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},53799:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var n={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]}},91484:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},74898:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},30058:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},80517:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},71903:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]}},38908:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]}},57745:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(41877),i=r(25864),o="compile",a=["typed","parse"],s=(0,i.d5)(o,a,(e=>{var{typed:t,parse:r}=e;return t(o,{string:function(e){return r(e).compile()},"Array | Matrix":function(e){return(0,n.Fh)(e,(function(e){return r(e).compile()}))}})}))},31223:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(41877),i=r(25864),o="evaluate",a=["typed","parse"],s=(0,i.d5)(o,a,(e=>{var{typed:t,parse:r}=e;return t(o,{string:function(e){return r(e).compile().evaluate({})},"string, Object":function(e,t){return r(e).compile().evaluate(t)},"Array | Matrix":function(e){var t={};return(0,n.Fh)(e,(function(e){return r(e).compile().evaluate(t)}))},"Array | Matrix, Object":function(e,t){return(0,n.Fh)(e,(function(e){return r(e).compile().evaluate(t)}))}})}))},37517:(e,t,r)=>{"use strict";r.d(t,{P:()=>u});var n=r(25864),i=r(5723),o=r(38550),a=r(57139),s="help",l=["typed","mathWithTransform","Help"],u=(0,n.d5)(s,l,(e=>{var{typed:t,mathWithTransform:r,Help:n}=e;return t(s,{any:function(e){var t,s=e;if("string"!=typeof e)for(t in r)if((0,a.nr)(r,t)&&e===r[t]){s=t;break}var l=(0,i.YF)(o.Q,s);if(!l){var u="function"==typeof s?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}))},27196:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(25864),i="parser",o=["typed","Parser"],a=(0,n.d5)(i,o,(e=>{var{typed:t,Parser:r}=e;return t(i,{"":function(){return new r}})}))},80074:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});var n={end:!0}},96990:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(67242),i=r(5723),o=r(25864),a=r(90099),s=["subset","Node"],l=(0,o.d5)("AccessorNode",s,(e=>{var{subset:t,Node:r}=e,o=(0,a.C)({subset:t});function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,n.UG)(e))throw new TypeError('Node expected for parameter "object"');if(!(0,n.Cl)(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function l(e){return!((0,n.Yz)(e)||(0,n.j0)(e)||(0,n.nu)(e)||(0,n.VO)(e)||(0,n.Lr)(e)||(0,n.Ig)(e)||(0,n.FG)(e))}return s.prototype=new r,s.prototype.type="AccessorNode",s.prototype.isAccessorNode=!0,s.prototype._compile=function(e,t){var r=this.object._compile(e,t),n=this.index._compile(e,t);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(e,t,n){return(0,i.YF)(r(e,t,n),a)}}return function(e,t,i){var a=r(e,t,i),s=n(e,t,a);return o(a,s)}},s.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},s.prototype.map=function(e){return new s(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},s.prototype.clone=function(){return new s(this.object,this.index)},s.prototype._toString=function(e){var t=this.object.toString(e);return l(this.object)&&(t="("+t+")"),t+this.index.toString(e)},s.prototype.toHTML=function(e){var t=this.object.toHTML(e);return l(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},s.prototype._toTex=function(e){var t=this.object.toTex(e);return l(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},s.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},s.fromJSON=function(e){return new s(e.object,e.index)},s}),{isClass:!0,isNode:!0})},89835:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(67242),i=r(95001),o=["Node"],a=(0,r(25864).d5)("ArrayNode",o,(e=>{var{Node:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(n.UG))throw new TypeError("Array containing Nodes expected")}return r.prototype=new t,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(e,t){var r=(0,i.UI)(this.items,(function(r){return r._compile(e,t)}));if("Array"!==e.config.matrix){var n=e.matrix;return function(e,t,o){return n((0,i.UI)(r,(function(r){return r(e,t,o)})))}}return function(e,t,n){return(0,i.UI)(r,(function(r){return r(e,t,n)}))}},r.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}},r.prototype.map=function(e){for(var t=[],n=0;n<this.items.length;n++)t[n]=this._ifNode(e(this.items[n],"items["+n+"]",this));return new r(t)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(e){return new r(e.items)},r.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?t+=r.items.map((function(t){return t.toTex(e)})).join("&"):t+=r.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0})},23704:(e,t,r)=>{"use strict";r.d(t,{w:()=>c});var n=r(67242),i=r(5723),o=r(25864),a=r(90099),s=r(93179),l=r(21072),u=["subset","?matrix","Node"],c=(0,o.d5)("AssignmentNode",u,(e=>{var{subset:t,matrix:r,Node:o}=e,u=(0,a.C)({subset:t}),c=(0,s.x)({subset:t,matrix:r});function p(e,t,r){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?t:null,this.value=r||t,!(0,n.FG)(e)&&!(0,n.Yz)(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if((0,n.FG)(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!(0,n.Cl)(this.index))throw new TypeError('IndexNode expected as "index"');if(!(0,n.UG)(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function h(e,t){t||(t="keep");var r=(0,l.E5)(e,t),n=(0,l.E5)(e.value,t);return"all"===t||null!==n&&n<=r}return p.prototype=new o,p.prototype.type="AssignmentNode",p.prototype.isAssignmentNode=!0,p.prototype._compile=function(e,t){var r=this.object._compile(e,t),o=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(e,t,n){var o=r(e,t,n),s=a(e,t,n);return(0,i.nI)(o,l,s)}}if((0,n.FG)(this.object))return function(e,t,n){var l=r(e,t,n),u=a(e,t,n),p=o(e,t,l);return(0,i.nI)(e,s,c(l,p,u)),u};var p=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var h=this.object.index.getObjectProperty();return function(e,t,r){var n=p(e,t,r),s=(0,i.YF)(n,h),l=o(e,t,s),u=a(e,t,r);return(0,i.nI)(n,h,c(s,l,u)),u}}var f=this.object.index._compile(e,t);return function(e,t,r){var n=p(e,t,r),i=f(e,t,n),s=u(n,i),l=o(e,t,s),h=a(e,t,r);return c(n,i,c(s,l,h)),h}}if(!(0,n.FG)(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return(0,i.nI)(e,s,a(e,t,r))}},p.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},p.prototype.map=function(e){return new p(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},p.prototype.clone=function(){return new p(this.object,this.index,this.value)},p.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return h(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},p.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},p.fromJSON=function(e){return new p(e.object,e.index,e.value)},p.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return h(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},p.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return h(this,e&&e.parenthesis)&&(n="\\left(".concat(n,"\\right)")),t+r+":="+n},p}),{isClass:!0,isNode:!0})},16808:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(67242),i=r(95001),o=["ResultSet","Node"],a=(0,r(25864).d5)("BlockNode",o,(e=>{var{ResultSet:t,Node:r}=e;function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!(0,n.UG)(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r}}))}return o.prototype=new r,o.prototype.type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(e,r){var n=(0,i.UI)(this.blocks,(function(t){return{evaluate:t.node._compile(e,r),visible:t.visible}}));return function(e,r,o){var a=[];return(0,i.Ed)(n,(function(t){var n=t.evaluate(e,r,o);t.visible&&a.push(n)})),new t(a)}},o.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},o.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(e(n.node,"blocks["+r+"].node",this));t[r]={node:i,visible:n.visible}}return new o(t)},o.prototype.clone=function(){return new o(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},o.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},o.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},o.fromJSON=function(e){return new o(e.blocks)},o.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},o.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},o}),{isClass:!0,isNode:!0})},49516:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(67242),i=r(25864),o=r(21072),a=["Node"],s=(0,i.d5)("ConditionalNode",a,(e=>{var{Node:t}=e;function r(e,t,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,n.UG)(e))throw new TypeError("Parameter condition must be a Node");if(!(0,n.UG)(t))throw new TypeError("Parameter trueExpr must be a Node");if(!(0,n.UG)(i))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=i}return r.prototype=new t,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(e,t){var r=this.condition._compile(e,t),i=this.trueExpr._compile(e,t),o=this.falseExpr._compile(e,t);return function(e,t,a){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if((0,n.l9)(e))return!e.isZero();if((0,n.Mc)(e))return!(!e.re&&!e.im);if((0,n.wr)(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+(0,n.kM)(e)+'"')}(r(e,t,a))?i(e,t,a):o(e,t,a)}},r.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=(0,o.E5)(this,t),n=this.condition.toString(e),i=(0,o.E5)(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var a=this.trueExpr.toString(e),s=(0,o.E5)(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a="("+a+")");var l=this.falseExpr.toString(e),u=(0,o.E5)(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(l="("+l+")"),n+" ? "+a+" : "+l},r.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(e){return new r(e.condition,e.trueExpr,e.falseExpr)},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=(0,o.E5)(this,t),n=this.condition.toHTML(e),i=(0,o.E5)(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),s=(0,o.E5)(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.falseExpr.toHTML(e),u=(0,o.E5)(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+l},r.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0})},36618:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(19372),i=r(67242),o=r(48577),a=["Node"],s=(0,r(25864).d5)("ConstantNode",a,(e=>{var{Node:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return r.prototype=new t,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(e,t){var r=this.value;return function(){return r}},r.prototype.forEach=function(e){},r.prototype.map=function(e){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(e){return(0,n.WU)(this.value,e)},r.prototype.toHTML=function(e){var t=this._toString(e);switch((0,i.kM)(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},r.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.prototype._toTex=function(e){var t=this._toString(e);switch((0,i.kM)(this.value)){case"string":return"\\mathtt{"+(0,o.cZ)(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},r}),{isClass:!0,isNode:!0})},74744:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(67242),i=r(80074),o=r(19372),a=r(95001),s=r(48577),l=r(21072),u=r(5723),c=["typed","Node"],p=(0,r(25864).d5)("FunctionAssignmentNode",c,(e=>{var{typed:t,Node:r}=e;function c(e,t,r){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(0,n.UG)(r))throw new TypeError('Node expected for parameter "expr"');if(e in i.H)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=r}function p(e,t){var r=(0,l.E5)(e,t),n=(0,l.E5)(e.expr,t);return"all"===t||null!==n&&n<=r}return c.prototype=new r,c.prototype.type="FunctionAssignmentNode",c.prototype.isFunctionAssignmentNode=!0,c.prototype._compile=function(e,r){var n=Object.create(r);(0,a.Ed)(this.params,(function(e){n[e]=!0}));var i=this.expr._compile(e,n),o=this.name,s=this.params,l=(0,a.v_)(this.types,","),c=o+"("+(0,a.v_)(this.params,", ")+")";return function(e,r,n){var a={};a[l]=function(){for(var t=Object.create(r),o=0;o<s.length;o++)t[s[o]]=arguments[o];return i(e,t,n)};var p=t(o,a);return p.syntax=c,(0,u.nI)(e,o,p),p}},c.prototype.forEach=function(e){e(this.expr,"expr",this)},c.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new c(this.name,this.params.slice(0),t)},c.prototype.clone=function(){return new c(this.name,this.params.slice(0),this.expr)},c.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return p(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},c.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,r){return{name:t,type:e[r]}})),expr:this.expr}},c.fromJSON=function(e){return new c(e.name,e.params,e.expr)},c.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+(0,o.YU)(this.params[n])+"</span>");var i=this.expr.toHTML(e);return p(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+(0,o.YU)(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},c.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return p(this,t)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.ZH).join(",")+"\\right):="+r},c}),{isClass:!0,isNode:!0})},37912:(e,t,r)=>{"use strict";r.d(t,{B:()=>h});var n=r(67242),i=r(19372),o=r(57139),a=r(95001),s=r(5723),l=r(25864),u=r(48577);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=["math","Node","SymbolNode"],h=(0,l.d5)("FunctionNode",p,(e=>{var{math:t,Node:r,SymbolNode:l}=e;function p(e,t){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new l(e)),!(0,n.UG)(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(n.UG))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}p.prototype=new r,p.prototype.type="FunctionNode",p.prototype.isFunctionNode=!0,p.prototype._compile=function(e,t){if(!(this instanceof p))throw new TypeError("No valid FunctionNode");var r=(0,a.UI)(this.args,(function(r){return r._compile(e,t)}));if((0,n.FG)(this.fn)){var i=this.fn.name,o=i in e?(0,s.YF)(e,i):void 0;function l(t){return i in t?(0,s.YF)(t,i):i in e?(0,s.YF)(e,i):p.onUndefinedFunction(i)}if("function"==typeof o&&!0===o.rawArgs){var u=this.args;return function(t,r,n){return l(t)(u,e,c({},t,r))}}if(1===r.length){var h=r[0];return function(e,t,r){return l(e)(h(e,t,r))}}if(2===r.length){var f=r[0],d=r[1];return function(e,t,r){return l(e)(f(e,t,r),d(e,t,r))}}return function(e,t,n){return l(e).apply(null,(0,a.UI)(r,(function(r){return r(e,t,n)})))}}if((0,n.Yz)(this.fn)&&(0,n.Cl)(this.fn.index)&&this.fn.index.isObjectProperty()){var m=this.fn.object._compile(e,t),g=this.fn.index.getObjectProperty(),y=this.args;return function(t,n,i){var o=m(t,n,i);return(0,s.np)(o,g),o[g]&&o[g].rawArgs?o[g](y,e,c({},t,n)):o[g].apply(o,(0,a.UI)(r,(function(e){return e(t,n,i)})))}}var v=this.fn._compile(e,t),x=this.args;return function(t,n,i){var o=v(t,n,i);return o&&o.rawArgs?o(x,e,c({},t,n)):o.apply(o,(0,a.UI)(r,(function(e){return e(t,n,i)})))}},p.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},p.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new p(t,r)},p.prototype.clone=function(){return new p(this.fn,this.args.slice(0))},p.onUndefinedFunction=function(e){throw new Error("Undefined function "+e)};var h=p.prototype.toString;function f(e,t,r){for(var i,o="",a=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,s=0;null!==(i=a.exec(e));)if(o+=e.substring(s,i.index),s=i.index,"$$"===i[0])o+="$",s++;else{s+=i[0].length;var l=t[i[1]];if(!l)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(typeof l){case"string":o+=l;break;case"object":if((0,n.UG)(l))o+=l.toTex(r);else{if(!Array.isArray(l))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");o+=l.map((function(e,t){if((0,n.UG)(e))return e.toTex(r);throw new TypeError("Template: "+i[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!(0,n.UG)(l[i[2]]&&l[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");o+=l[i[2]].toTex(r)}}return o+=e.slice(s)}p.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"==typeof e.handler&&(0,o.nr)(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:h.call(this,e)},p.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return((0,n.l7)(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},p.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},p.fromJSON=function(e){return new p(e.fn,e.args)},p.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+(0,i.YU)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var d=p.prototype.toTex;return p.prototype.toTex=function(e){var t;return e&&"object"==typeof e.handler&&(0,o.nr)(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:d.call(this,e)},p.prototype._toTex=function(e){var r,n,i=this.args.map((function(t){return t.toTex(e)}));switch(u.Cp[this.name]&&(r=u.Cp[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!=typeof t[this.name].toTex&&"string"!=typeof t[this.name].toTex||(r=t[this.name].toTex),typeof r){case"function":n=r(this,e);break;case"string":n=f(r,this,e);break;case"object":switch(typeof r[i.length]){case"function":n=r[i.length](this,e);break;case"string":n=f(r[i.length],this,e)}}return void 0!==n?n:f(u.TN,this,e)},p.prototype.getIdentifier=function(){return this.type+":"+this.name},p}),{isClass:!0,isNode:!0})},17509:(e,t,r)=>{"use strict";r.d(t,{G:()=>u});var n=r(67242),i=r(95001),o=r(19372),a=r(25864),s=r(5723),l=["Range","Node","size"],u=(0,a.d5)("IndexNode",l,(e=>{var{Range:t,Node:r,size:a}=e;function l(e,t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(n.UG))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function u(e,r,i){return new t((0,n.l9)(e)?e.toNumber():e,(0,n.l9)(r)?r.toNumber():r,(0,n.l9)(i)?i.toNumber():i)}return l.prototype=new r,l.prototype.type="IndexNode",l.prototype.isIndexNode=!0,l.prototype._compile=function(e,t){var r=(0,i.UI)(this.dimensions,(function(r,i){if((0,n.ex)(r)){if(r.needsEnd()){var o=Object.create(t);o.end=!0;var s=r.start._compile(e,o),l=r.end._compile(e,o),c=r.step?r.step._compile(e,o):function(){return 1};return function(e,t,r){var n=a(r).valueOf(),o=Object.create(t);return o.end=n[i],u(s(e,o,r),l(e,o,r),c(e,o,r))}}var p=r.start._compile(e,t),h=r.end._compile(e,t),f=r.step?r.step._compile(e,t):function(){return 1};return function(e,t,r){return u(p(e,t,r),h(e,t,r),f(e,t,r))}}if((0,n.FG)(r)&&"end"===r.name){var d=Object.create(t);d.end=!0;var m=r._compile(e,d);return function(e,t,r){var n=a(r).valueOf(),o=Object.create(t);return o.end=n[i],m(e,o,r)}}var g=r._compile(e,t);return function(e,t,r){return g(e,t,r)}})),o=(0,s.YF)(e,"index");return function(e,t,n){var a=(0,i.UI)(r,(function(r){return r(e,t,n)}));return o(...a)}},l.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},l.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new l(t,this.dotNotation)},l.prototype.clone=function(){return new l(this.dimensions.slice(0),this.dotNotation)},l.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&(0,n.nu)(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},l.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},l.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},l.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},l.fromJSON=function(e){return new l(e.dimensions,e.dotNotation)},l.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+(0,o.YU)(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},l.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},l}),{isClass:!0,isNode:!0})},67546:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(67242),i=r(80074),o=r(57139),a=["mathWithTransform"],s=(0,r(25864).d5)("Node",a,(e=>{var{mathWithTransform:t}=e;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(e){return this.compile().evaluate(e)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var e=this._compile(t,{}),r={};return{evaluate:function(t){var n=t||{};return function(e){for(var t in e)if((0,o.nr)(e,t)&&t in i.H)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(n),e(n,r,null)}}},r.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(e){if(!(0,n.UG)(e))throw new TypeError("Callback function must return a Node");return e},r.prototype.traverse=function(e){e(this,null,null),function e(t,r){t.forEach((function(t,n,i){r(t,n,i),e(t,r)}))}(this,e)},r.prototype.transform=function(e){return function t(r,n,i){var o=e(r,n,i);return o!==r?o:r.map(t)}(this,null,null)},r.prototype.filter=function(e){var t=[];return this.traverse((function(r,n,i){e(r,n,i)&&t.push(r)})),t},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},r.prototype.equals=function(e){return!!e&&(0,o.J5)(this,e)},r.prototype.toString=function(e){var t=this._getCustomString(e);return void 0!==t?t:this._toString(e)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(e){var t=this._getCustomString(e);return void 0!==t?t:this.toHTML(e)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(e){var t=this._getCustomString(e);return void 0!==t?t:this._toTex(e)},r.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},r.prototype._getCustomString=function(e){if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw new TypeError("Object or function expected as callback")}},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0})},38083:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});var n=r(67242),i=r(19372),o=r(5723),a=r(57139),s=["Node"],l=(0,r(25864).d5)("ObjectNode",s,(e=>{var{Node:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!=typeof e||!Object.keys(e).every((function(t){return(0,n.UG)(e[t])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new t,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(e,t){var r={};for(var n in this.properties)if((0,a.nr)(this.properties,n)){var s=(0,i.Pz)(n),l=JSON.parse(s);if(!(0,o.pp)(this.properties,l))throw new Error('No access to property "'+l+'"');r[l]=this.properties[n]._compile(e,t)}return function(e,t,n){var i={};for(var o in r)(0,a.nr)(r,o)&&(i[o]=r[o](e,t,n));return i}},r.prototype.forEach=function(e){for(var t in this.properties)(0,a.nr)(this.properties,t)&&e(this.properties[t],"properties["+(0,i.Pz)(t)+"]",this)},r.prototype.map=function(e){var t={};for(var n in this.properties)(0,a.nr)(this.properties,n)&&(t[n]=this._ifNode(e(this.properties[n],"properties["+(0,i.Pz)(n)+"]",this)));return new r(t)},r.prototype.clone=function(){var e={};for(var t in this.properties)(0,a.nr)(this.properties,t)&&(e[t]=this.properties[t]);return new r(e)},r.prototype._toString=function(e){var t=[];for(var r in this.properties)(0,a.nr)(this.properties,r)&&t.push((0,i.Pz)(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},r.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(e){return new r(e.properties)},r.prototype.toHTML=function(e){var t=[];for(var r in this.properties)(0,a.nr)(this.properties,r)&&t.push('<span class="math-symbol math-property">'+(0,i.YU)(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(e){var t=[];for(var r in this.properties)(0,a.nr)(this.properties,r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0})},46275:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(67242),i=r(95001),o=r(19372),a=r(5723),s=r(21072),l=r(48577),u=["Node"],c=(0,r(25864).d5)("OperatorNode",u,(e=>{var{Node:t}=e;function r(e,t,i,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(i)||!i.every(n.UG))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.op=e,this.fn=t,this.args=i||[]}function u(e,t,r,n,i){var o,a=(0,s.E5)(e,t),l=(0,s.NW)(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(n.length){case 0:o=[];break;case 1:var u=(0,s.E5)(n[0],t);if(i&&null!==u){var c,p;if("keep"===t?(c=n[0].getIdentifier(),p=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),p=e.getContent().getIdentifier()),!1===s.aK[a][p].latexLeftParens){o=[!1];break}if(!1===s.aK[u][c].latexParens){o=[!1];break}}if(null===u){o=[!1];break}if(u<=a){o=[!0];break}o=[!1];break;case 2:var h,f,d=(0,s.E5)(n[0],t),m=(0,s.Ir)(e,n[0],t);h=null!==d&&(d===a&&"right"===l&&!m||d<a);var g,y,v,x=(0,s.E5)(n[1],t),b=(0,s.Ir)(e,n[1],t);if(f=null!==x&&(x===a&&"left"===l&&!b||x<a),i)"keep"===t?(g=e.getIdentifier(),y=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==d&&(!1===s.aK[a][g].latexLeftParens&&(h=!1),!1===s.aK[d][y].latexParens&&(h=!1)),null!==x&&(!1===s.aK[a][g].latexRightParens&&(f=!1),!1===s.aK[x][v].latexParens&&(f=!1));o=[h,f];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=n.map((function(r){var n=(0,s.E5)(r,t),i=(0,s.Ir)(e,r,t),o=(0,s.NW)(r,t);return null!==n&&(a===n&&l===o&&!i||n<a)})))}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(o=n.map((function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!o[t]&&!r)}))),o}return r.prototype=new t,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(e,t){if("string"!=typeof this.fn||!(0,a.OJ)(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=(0,a.YF)(e,this.fn),n=(0,i.UI)(this.args,(function(r){return r._compile(e,t)}));if(1===n.length){var o=n[0];return function(e,t,n){return r(o(e,t,n))}}if(2===n.length){var s=n[0],l=n[1];return function(e,t,n){return r(s(e,t,n),l(e,t,n))}}return function(e,t,o){return r.apply(null,(0,i.UI)(n,(function(r){return r(e,t,o)})))}},r.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,t,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=u(this,t,r,n,!1);if(1===n.length){var o=(0,s.NW)(this,t),a=n[0].toString(e);i[0]&&(a="("+a+")");var l=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(l?" ":"")+a:"left"===o?a+(l?" ":"")+this.op:a+this.op}if(2===n.length){var c=n[0].toString(e),p=n[1].toString(e);return i[0]&&(c="("+c+")"),i[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+p:c+" "+this.op+" "+p}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=n.map((function(t,r){return t=t.toString(e),i[r]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(e){return new r(e.op,e.fn,e.args,e.implicit)},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=u(this,t,r,n,!1);if(1===n.length){var a=(0,s.NW)(this,t),l=n[0].toHTML(e);return i[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+(0,o.YU)(this.op)+"</span>"+l:l+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+(0,o.YU)(this.op)+"</span>"}if(2===n.length){var c=n[0].toHTML(e),p=n[1].toHTML(e);return i[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,o.YU)(this.op)+"</span>"+p}var h=n.map((function(t,r){return t=t.toHTML(e),i[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):h.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,o.YU)(this.op)+"</span>"):'<span class="math-function">'+(0,o.YU)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",n=this.args,i=u(this,t,r,n,!0),o=l.N8[this.fn];if(o=void 0===o?this.op:o,1===n.length){var a=(0,s.NW)(this,t),c=n[0].toTex(e);return i[0]&&(c="\\left(".concat(c,"\\right)")),"right"===a?o+c:c+o}if(2===n.length){var p=n[0],h=p.toTex(e);i[0]&&(h="\\left(".concat(h,"\\right)"));var f,d=n[1].toTex(e);switch(i[1]&&(d="\\left(".concat(d,"\\right)")),f="keep"===t?p.getIdentifier():p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+h+"}{"+d+"}";case"OperatorNode:pow":switch(h="{"+h+"}",d="{"+d+"}",f){case"ConditionalNode":case"OperatorNode:divide":h="\\left(".concat(h,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return h+"~"+d}return h+o+d}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=n.map((function(t,r){return t=t.toTex(e),i[r]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?m.join("~"):m.join(o)}return"\\mathrm{"+this.fn+"}\\left("+n.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0})},54717:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(67242),i=["Node"],o=(0,r(25864).d5)("ParenthesisNode",i,(e=>{var{Node:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,n.UG)(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return r.prototype=new t,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(e,t){return this.content._compile(e,t)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(e){e(this.content,"content",this)},r.prototype.map=function(e){return new r(e(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},r.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(e){return new r(e.content)},r.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},r.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},r}),{isClass:!0,isNode:!0})},36268:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(67242),i=r(25864),o=r(21072),a=["Node"],s=(0,i.d5)("RangeNode",a,(e=>{var{Node:t}=e;function r(e,t,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,n.UG)(e))throw new TypeError("Node expected");if(!(0,n.UG)(t))throw new TypeError("Node expected");if(i&&!(0,n.UG)(i))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=i||null}function i(e,t){var r=(0,o.E5)(e,t),n={},i=(0,o.E5)(e.start,t);if(n.start=null!==i&&i<=r||"all"===t,e.step){var a=(0,o.E5)(e.step,t);n.step=null!==a&&a<=r||"all"===t}var s=(0,o.E5)(e.end,t);return n.end=null!==s&&s<=r||"all"===t,n}return r.prototype=new t,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(e){return(0,n.FG)(e)&&"end"===e.name})).length>0},r.prototype._compile=function(e,t){var r=e.range,n=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var o=this.step._compile(e,t);return function(e,t,a){return r(n(e,t,a),i(e,t,a),o(e,t,a))}}return function(e,t,o){return r(n(e,t,o),i(e,t,o))}},r.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(e){var t,r=i(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toString(e);if(r.start&&(n="("+n+")"),t=n,this.step){var o=this.step.toString(e);r.step&&(o="("+o+")"),t+=":"+o}var a=this.end.toString(e);return r.end&&(a="("+a+")"),t+=":"+a},r.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r.prototype.toHTML=function(e){var t,r=i(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toHTML(e);if(r.start&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=n,this.step){var o=this.step.toHTML(e);r.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(e);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a},r.prototype._toTex=function(e){var t=i(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var n=this.step.toTex(e);t.step&&(n="\\left(".concat(n,"\\right)")),r+=":"+n}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),r+=":"+o},r}),{isClass:!0,isNode:!0})},33679:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r(21072),i=r(19372),o=r(5723),a=r(48577),s=["Node"],l=(0,r(25864).d5)("RelationalNode",s,(e=>{var{Node:t}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return r.prototype=new t,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(e,t){var r=this,n=this.params.map((r=>r._compile(e,t)));return function(t,i,a){for(var s,l=n[0](t,i,a),u=0;u<r.conditionals.length;u++){if(s=l,l=n[u+1](t,i,a),!(0,o.YF)(e,r.conditionals[u])(s,l))return!1}return!0}},r.prototype.forEach=function(e){this.params.forEach(((t,r)=>e(t,"params["+r+"]",this)),this)},r.prototype.map=function(e){return new r(this.conditionals.slice(),this.params.map(((t,r)=>this._ifNode(e(t,"params["+r+"]",this))),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=(0,n.E5)(this,t),i=this.params.map((function(i,o){var a=(0,n.E5)(i,t);return"all"===t||null!==a&&a<=r?"("+i.toString(e)+")":i.toString(e)})),o={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=i[0],s=0;s<this.conditionals.length;s++)a+=" "+o[this.conditionals[s]]+" "+i[s+1];return a},r.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(e){return new r(e.conditionals,e.params)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=(0,n.E5)(this,t),o=this.params.map((function(i,o){var a=(0,n.E5)(i,t);return"all"===t||null!==a&&a<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+i.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':i.toHTML(e)})),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=o[0],l=0;l<this.conditionals.length;l++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,i.YU)(a[this.conditionals[l]])+"</span>"+o[l+1];return s},r.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=(0,n.E5)(this,t),i=this.params.map((function(i,o){var a=(0,n.E5)(i,t);return"all"===t||null!==a&&a<=r?"\\left("+i.toTex(e)+"\right)":i.toTex(e)})),o=i[0],s=0;s<this.conditionals.length;s++)o+=a.N8[this.conditionals[s]]+i[s+1];return o},r}),{isClass:!0,isNode:!0})},65939:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(19372),i=r(5723),o=r(25864),a=r(48577),s=["math","?Unit","Node"],l=(0,o.d5)("SymbolNode",s,(e=>{var{math:t,Unit:r,Node:o}=e;function s(e){return!!r&&r.isValuelessUnit(e)}function l(e){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return l.prototype=new o,l.prototype.type="SymbolNode",l.prototype.isSymbolNode=!0,l.prototype._compile=function(e,t){var n=this.name;if(!0===t[n])return function(e,t,r){return t[n]};if(n in e)return function(t,r,o){return n in t?(0,i.YF)(t,n):(0,i.YF)(e,n)};var o=s(n);return function(e,t,a){return n in e?(0,i.YF)(e,n):o?new r(null,n):l.onUndefinedSymbol(n)}},l.prototype.forEach=function(e){},l.prototype.map=function(e){return this.clone()},l.onUndefinedSymbol=function(e){throw new Error("Undefined symbol "+e)},l.prototype.clone=function(){return new l(this.name)},l.prototype._toString=function(e){return this.name},l.prototype.toHTML=function(e){var t=(0,n.YU)(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},l.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},l.fromJSON=function(e){return new l(e.name)},l.prototype._toTex=function(e){var r=!1;void 0===t[this.name]&&s(this.name)&&(r=!0);var n=(0,a.ZH)(this.name,r);return"\\"===n[0]?n:" "+n},l}),{isClass:!0,isNode:!0})},90099:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(37538),i=r(5723);function o(e){var{subset:t}=e;return function(e,r){try{if(Array.isArray(e))return t(e,r);if(e&&"function"==typeof e.subset)return e.subset(r);if("string"==typeof e)return t(e,r);if("object"==typeof e){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return(0,i.YF)(e,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw(0,n.M)(o)}}}},93179:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(37538),i=r(5723);function o(e){var{subset:t,matrix:r}=e;return function(e,o,a){try{if(Array.isArray(e))return r(e).subset(o,a).valueOf();if(e&&"function"==typeof e.subset)return e.subset(o,a);if("string"==typeof e)return t(e,o,a);if("object"==typeof e){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return(0,i.nI)(e,o.getObjectProperty(),a),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw(0,n.M)(s)}}}},21072:(e,t,r)=>{"use strict";r.d(t,{aK:()=>i,E5:()=>o,NW:()=>a,Ir:()=>s});var n=r(57139),i=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function o(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var n=r.getIdentifier(),o=0;o<i.length;o++)if(n in i[o])return o;return null}function a(e,t){var r=e;"keep"!==t&&(r=e.getContent());var a=r.getIdentifier(),s=o(r,t);if(null===s)return null;var l=i[s][a];if((0,n.nr)(l,"associativity")){if("left"===l.associativity)return"left";if("right"===l.associativity)return"right";throw Error("'"+a+"' has the invalid associativity '"+l.associativity+"'.")}return null}function s(e,t,r){var a="keep"!==r?e.getContent():e,s="keep"!==r?e.getContent():t,l=a.getIdentifier(),u=s.getIdentifier(),c=o(a,r);if(null===c)return null;var p=i[c][l];if((0,n.nr)(p,"associativeWith")&&p.associativeWith instanceof Array){for(var h=0;h<p.associativeWith.length;h++)if(p.associativeWith[h]===u)return!0;return!1}return null}},14381:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var n=r(25864),i=r(67242),o=r(41877),a=r(57139);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l="parse",u=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],c=(0,n.d5)(l,u,(e=>{var{typed:t,numeric:r,config:n,AccessorNode:u,ArrayNode:c,AssignmentNode:p,BlockNode:h,ConditionalNode:f,ConstantNode:d,FunctionAssignmentNode:m,FunctionNode:g,IndexNode:y,ObjectNode:v,OperatorNode:x,ParenthesisNode:b,RangeNode:_,RelationalNode:w,SymbolNode:E}=e,M=t(l,{string:function(e){return V(e,{})},"Array | Matrix":function(e){return S(e,{})},"string, Object":function(e,t){return V(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":S});function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==t.nodes?t.nodes:{};return(0,o.Fh)(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return V(e,r)}))}var N=0,k=1,A=2,T=3,O=4,C={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},I={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},R={true:!0,false:!1,null:null,undefined:void 0},D=["NaN","Infinity"];function L(e,t){return e.expression.substr(e.index,t)}function q(e){return L(e,1)}function B(e){e.index++}function P(e){return e.expression.charAt(e.index-1)}function z(e){return e.expression.charAt(e.index+1)}function U(e){for(e.tokenType=N,e.token="",e.comment="";M.isWhitespace(q(e),e.nestingLevel);)B(e);if("#"===q(e))for(;"\n"!==q(e)&&""!==q(e);)e.comment+=q(e),B(e);if(""!==q(e)){if("\n"===q(e)&&!e.nestingLevel)return e.tokenType=k,e.token=q(e),void B(e);var t=q(e),r=L(e,2),n=L(e,3);if(3===n.length&&C[n])return e.tokenType=k,e.token=n,B(e),B(e),void B(e);if(2===r.length&&C[r])return e.tokenType=k,e.token=r,B(e),void B(e);if(C[t])return e.tokenType=k,e.token=t,void B(e);if(M.isDigitDot(t)){e.tokenType=A;var i=L(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=q(e),B(e),e.token+=q(e),B(e);M.isHexDigit(q(e));)e.token+=q(e),B(e);if("."===q(e))for(e.token+=".",B(e);M.isHexDigit(q(e));)e.token+=q(e),B(e);else if("i"===q(e))for(e.token+="i",B(e);M.isDigit(q(e));)e.token+=q(e),B(e);return}if("."===q(e))e.token+=q(e),B(e),M.isDigit(q(e))||(e.tokenType=k);else{for(;M.isDigit(q(e));)e.token+=q(e),B(e);M.isDecimalMark(q(e),z(e))&&(e.token+=q(e),B(e))}for(;M.isDigit(q(e));)e.token+=q(e),B(e);if("E"===q(e)||"e"===q(e))if(M.isDigit(z(e))||"-"===z(e)||"+"===z(e)){if(e.token+=q(e),B(e),"+"!==q(e)&&"-"!==q(e)||(e.token+=q(e),B(e)),!M.isDigit(q(e)))throw pe(e,'Digit expected, got "'+q(e)+'"');for(;M.isDigit(q(e));)e.token+=q(e),B(e);if(M.isDecimalMark(q(e),z(e)))throw pe(e,'Digit expected, got "'+q(e)+'"')}else if("."===z(e))throw B(e),pe(e,'Digit expected, got "'+q(e)+'"')}else{if(!M.isAlpha(q(e),P(e),z(e))){for(e.tokenType=O;""!==q(e);)e.token+=q(e),B(e);throw pe(e,'Syntax error in part "'+e.token+'"')}for(;M.isAlpha(q(e),P(e),z(e))||M.isDigit(q(e));)e.token+=q(e),B(e);(0,a.nr)(I,e.token)?e.tokenType=k:e.tokenType=T}}else e.tokenType=k}function $(e){do{U(e)}while("\n"===e.token)}function F(e){e.nestingLevel++}function G(e){e.nestingLevel--}function V(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:N,nestingLevel:0,conditionalLevel:null};s(r,{expression:e,extraNodes:t}),U(r);var n=function(e){var t,r,n=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=H(e)).comment=e.comment);for(;"\n"===e.token||";"===e.token;)0===n.length&&t&&(r=";"!==e.token,n.push({node:t,visible:r})),U(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=H(e)).comment=e.comment,r=";"!==e.token,n.push({node:t,visible:r}));return n.length>0?new h(n):(t||((t=new d(void 0)).comment=e.comment),t)}(r);if(""!==r.token)throw r.tokenType===k?he(r,"Unexpected operator "+r.token):pe(r,'Unexpected part "'+r.token+'"');return n}function H(e){var t,r,n,o,a=function(e){var t=function(e){var t=j(e);for(;"or"===e.token;)$(e),t=new x("or","or",[t,j(e)]);return t}(e);for(;"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,$(e);var n=t,i=H(e);if(":"!==e.token)throw pe(e,"False part of conditional expression expected");e.conditionalLevel=null,$(e);var o=H(e);t=new f(n,i,o),e.conditionalLevel=r}return t}(e);if("="===e.token){if((0,i.FG)(a))return t=a.name,$(e),n=H(e),new p(new E(t),n);if((0,i.Yz)(a))return $(e),n=H(e),new p(a.object,a.index,n);if((0,i.VO)(a)&&(0,i.FG)(a.fn)&&(o=!0,r=[],t=a.name,a.args.forEach((function(e,t){(0,i.FG)(e)?r[t]=e.name:o=!1})),o))return $(e),n=H(e),new m(t,r,n);throw pe(e,"Invalid left hand side of assignment operator =")}return a}function j(e){for(var t=W(e);"xor"===e.token;)$(e),t=new x("xor","xor",[t,W(e)]);return t}function W(e){for(var t=X(e);"and"===e.token;)$(e),t=new x("and","and",[t,X(e)]);return t}function X(e){for(var t=Y(e);"|"===e.token;)$(e),t=new x("|","bitOr",[t,Y(e)]);return t}function Y(e){for(var t=Z(e);"^|"===e.token;)$(e),t=new x("^|","bitXor",[t,Z(e)]);return t}function Z(e){for(var t=J(e);"&"===e.token;)$(e),t=new x("&","bitAnd",[t,J(e)]);return t}function J(e){for(var t=[K(e)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};(0,a.nr)(n,e.token);){var i={name:e.token,fn:n[e.token]};r.push(i),$(e),t.push(K(e))}return 1===t.length?t[0]:2===t.length?new x(r[0].name,r[0].fn,t):new w(r.map((e=>e.fn)),t)}function K(e){var t,r,n,i;t=Q(e);for(var o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};(0,a.nr)(o,e.token);)n=o[r=e.token],$(e),i=[t,Q(e)],t=new x(r,n,i);return t}function Q(e){var t,r,n,i;t=ee(e);for(var o={to:"to",in:"to"};(0,a.nr)(o,e.token);)n=o[r=e.token],$(e),"in"===r&&""===e.token?t=new x("*","multiply",[t,new E("in")],!0):(i=[t,ee(e)],t=new x(r,n,i));return t}function ee(e){var t,r=[];if(t=":"===e.token?new d(1):te(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;)$(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?r.push(new E("end")):r.push(te(e));t=3===r.length?new _(r[0],r[2],r[1]):new _(r[0],r[1])}return t}function te(e){var t,r,n,i;t=re(e);for(var o={"+":"add","-":"subtract"};(0,a.nr)(o,e.token);)n=o[r=e.token],$(e),i=[t,re(e)],t=new x(r,n,i);return t}function re(e){var t,r,n,i;r=t=ne(e);for(var o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};(0,a.nr)(o,e.token);)i=o[n=e.token],$(e),r=ne(e),t=new x(n,i,[t,r]);return t}function ne(e){var t,r;for(r=t=ie(e);e.tokenType===T||"in"===e.token&&(0,i.nu)(t)||!(e.tokenType!==A||(0,i.nu)(r)||(0,i.bV)(r)&&"!"!==r.op)||"("===e.token;)r=ie(e),t=new x("*","multiply",[t,r],!0);return t}function ie(e){for(var t=oe(e),r=t,n=[];"/"===e.token&&(0,i.nu)(r);){if(n.push(s({},e)),$(e),e.tokenType!==A){s(e,n.pop());break}if(n.push(s({},e)),$(e),e.tokenType!==T&&"("!==e.token){n.pop(),s(e,n.pop());break}s(e,n.pop()),n.pop(),r=oe(e),t=new x("/","divide",[t,r])}return t}function oe(e){var t,i,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return(0,a.nr)(s,e.token)?(o=s[e.token],t=e.token,$(e),i=[oe(e)],new x(t,o,i)):function(e){var t,i,o,s;t=function(e){var t,i,o;t=function(e){var t=[];if(e.tokenType===T&&(0,a.nr)(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(U(e),"("===e.token){if(t=[],F(e),U(e),")"!==e.token)for(t.push(H(e));","===e.token;)U(e),t.push(H(e));if(")"!==e.token)throw pe(e,"Parenthesis ) expected");G(e),U(e)}return new i(t)}return function(e){var t;if(e.tokenType===T||e.tokenType===k&&e.token in I)return t=e.token,U(e),ae(e,(0,a.nr)(R,t)?new d(R[t]):-1!==D.indexOf(t)?new d(r(t,"number")):new E(t));return function(e){var t;if('"'===e.token)return t=se(e),ae(e,new d(t));return function(e){var t;if("'"===e.token)return t=le(e),ae(e,new d(t));return function(e){var t,i,o,a;if("["===e.token){if(F(e),U(e),"]"!==e.token){var s=ue(e);if(";"===e.token){for(o=1,i=[s];";"===e.token;)U(e),i[o]=ue(e),o++;if("]"!==e.token)throw pe(e,"End of matrix ] expected");G(e),U(e),a=i[0].items.length;for(var l=1;l<o;l++)if(i[l].items.length!==a)throw he(e,"Column dimensions mismatch ("+i[l].items.length+" !== "+a+")");t=new c(i)}else{if("]"!==e.token)throw pe(e,"End of matrix ] expected");G(e),U(e),t=s}}else G(e),U(e),t=new c([]);return ae(e,t)}return function(e){if("{"===e.token){var t;F(e);var i={};do{if(U(e),"}"!==e.token){if('"'===e.token)t=se(e);else if("'"===e.token)t=le(e);else{if(!(e.tokenType===T||e.tokenType===k&&e.token in I))throw pe(e,"Symbol or string expected as object key");t=e.token,U(e)}if(":"!==e.token)throw pe(e,"Colon : expected after object key");U(e),i[t]=H(e)}}while(","===e.token);if("}"!==e.token)throw pe(e,"Comma , or bracket } expected after object value");G(e),U(e);var o=new v(i);return o=ae(e,o)}return function(e){var t;if(e.tokenType===A)return t=e.token,U(e),new d(r(t,n.number));return function(e){var t;if("("===e.token){if(F(e),U(e),t=H(e),")"!==e.token)throw pe(e,"Parenthesis ) expected");return G(e),U(e),t=ae(e,t=new b(t))}return function(e){throw""===e.token?pe(e,"Unexpected end of expression"):pe(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;(0,a.nr)(s,e.token);)o=s[i=e.token],U(e),t=ae(e,t=new x(i,o,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(o="^"===(i=e.token)?"pow":"dotPow",$(e),s=[t,oe(e)],t=new x(i,o,s));return t}(e)}function ae(e,t,r){for(var n;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));)if(n=[],"("===e.token){if(!(0,i.FG)(t)&&!(0,i.Yz)(t))return t;if(F(e),U(e),")"!==e.token)for(n.push(H(e));","===e.token;)U(e),n.push(H(e));if(")"!==e.token)throw pe(e,"Parenthesis ) expected");G(e),U(e),t=new g(t,n)}else if("["===e.token){if(F(e),U(e),"]"!==e.token)for(n.push(H(e));","===e.token;)U(e),n.push(H(e));if("]"!==e.token)throw pe(e,"Parenthesis ] expected");G(e),U(e),t=new u(t,new y(n))}else{if(U(e),e.tokenType!==T)throw pe(e,"Property name expected after dot");n.push(new d(e.token)),U(e);t=new u(t,new y(n,!0))}return t}function se(e){for(var t="";""!==q(e)&&'"'!==q(e);)"\\"===q(e)&&(t+=q(e),B(e)),t+=q(e),B(e);if(U(e),'"'!==e.token)throw pe(e,'End of string " expected');return U(e),JSON.parse('"'+t+'"')}function le(e){for(var t="";""!==q(e)&&"'"!==q(e);)"\\"===q(e)&&(t+=q(e),B(e)),t+=q(e),B(e);if(U(e),"'"!==e.token)throw pe(e,"End of string ' expected");return U(e),JSON.parse('"'+t+'"')}function ue(e){for(var t=[H(e)],r=1;","===e.token;)U(e),t[r]=H(e),r++;return new c(t)}function ce(e){return e.index-e.token.length+1}function pe(e,t){var r=ce(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}function he(e,t){var r=ce(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}return M.isAlpha=function(e,t,r){return M.isValidLatinOrGreek(e)||M.isValidMathSymbol(e,r)||M.isValidMathSymbol(t,e)},M.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},M.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},M.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},M.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},M.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},M.isDigit=function(e){return e>="0"&&e<="9"},M.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},M}))},25671:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(37538),i=r(25864),o=r(56334),a=r(67242),s=["typed","isInteger"],l=(0,i.d5)("apply",s,(e=>{var{typed:t,isInteger:r}=e,i=(0,o.j)({typed:t,isInteger:r});return t("apply",{"...any":function(e){var t=e[1];(0,a.hj)(t)?e[1]=t-1:(0,a.l9)(t)&&(e[1]=t.minus(1));try{return i.apply(null,e)}catch(r){throw(0,n.M)(r)}}})}),{isTransformFunction:!0})},73843:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(37538),i=r(25864),o=r(87625),a=r(67242),s=["typed","Index","matrix","range"],l=(0,i.d5)("column",s,(e=>{var{typed:t,Index:r,matrix:i,range:s}=e,l=(0,o.w)({typed:t,Index:r,matrix:i,range:s});return t("column",{"...any":function(e){var t=e.length-1,r=e[t];(0,a.hj)(r)&&(e[t]=r-1);try{return l.apply(null,e)}catch(i){throw(0,n.M)(i)}}})}),{isTransformFunction:!0})},15956:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(67242),i=r(37538),o=r(25864),a=r(53445),s=["typed","matrix","isInteger"],l=(0,o.d5)("concat",s,(e=>{var{typed:t,matrix:r,isInteger:o}=e,s=(0,a.k)({typed:t,matrix:r,isInteger:o});return t("concat",{"...any":function(e){var t=e.length-1,r=e[t];(0,n.hj)(r)?e[t]=r-1:(0,n.l9)(r)&&(e[t]=r.minus(1));try{return s.apply(null,e)}catch(o){throw(0,i.M)(o)}}})}),{isTransformFunction:!0})},55608:(e,t,r)=>{"use strict";r.d(t,{c:()=>u});var n=r(25864),i=r(37538),o=r(80157),a=r(61490),s="diff",l=["typed","matrix","subtract","number","bignumber"],u=(0,n.d5)(s,l,(e=>{var{typed:t,matrix:r,subtract:n,number:l,bignumber:u}=e,c=(0,o.J)({typed:t,matrix:r,subtract:n,number:l,bignumber:u});return t(s,{"...any":function(e){e=(0,a.L)(e);try{return c.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},14651:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});var n=r(67242),i=r(95001),o=r(90409),a=r(16106),s=["typed"],l=(0,r(25864).d5)("filter",s,(e=>{var{typed:t}=e;function r(e,t,r){var i,s;return e[0]&&(i=e[0].compile().evaluate(r)),e[1]&&(s=(0,n.FG)(e[1])||(0,n.l7)(e[1])?e[1].compile().evaluate(r):(0,a.T)(e[1],t,r)),o(i,s)}r.rawArgs=!0;var o=t("filter",{"Array, function":u,"Matrix, function":function(e,t){return e.create(u(e.toArray(),t))},"Array, RegExp":i.U_,"Matrix, RegExp":function(e,t){return e.create((0,i.U_)(e.toArray(),t))}});return r}),{isTransformFunction:!0});function u(e,t){var r=(0,o.oV)(t);return(0,i.hX)(e,(function(e,n,i){return 1===r?t(e):2===r?t(e,[n+1]):t(e,[n+1],i)}))}},24870:(e,t,r)=>{"use strict";r.d(t,{H:()=>u});var n=r(67242),i=r(90409),o=r(95001),a=r(25864),s=r(16106),l=["typed"],u=(0,a.d5)("forEach",l,(e=>{var{typed:t}=e;function r(e,t,r){var i,o;return e[0]&&(i=e[0].compile().evaluate(r)),e[1]&&(o=(0,n.FG)(e[1])||(0,n.l7)(e[1])?e[1].compile().evaluate(r):(0,s.T)(e[1],t,r)),a(i,o)}r.rawArgs=!0;var a=t("forEach",{"Array | Matrix, function":function(e,t){var r=(0,i.oV)(t);!function n(i,a){Array.isArray(i)?(0,o.Ed)(i,(function(e,t){n(e,a.concat(t+1))})):1===r?t(i):2===r?t(i,a):t(i,a,e)}(e.valueOf(),[])}});return r}),{isTransformFunction:!0})},18832:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(67242),i=["Index"],o=(0,r(25864).d5)("index",i,(e=>{var{Index:t}=e;return function(){for(var e=[],r=0,i=arguments.length;r<i;r++){var o=arguments[r];if((0,n.bR)(o))o.start--,o.end-=o.step>0?0:2;else if(o&&!0===o.isSet)o=o.map((function(e){return e-1}));else if((0,n.kJ)(o)||(0,n.SW)(o))o=o.map((function(e){return e-1}));else if((0,n.hj)(o))o--;else if((0,n.l9)(o))o=o.toNumber()-1;else if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=o}var a=new t;return t.apply(a,e),a}}),{isTransformFunction:!0})},54842:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var n=r(67242),i=r(90409),o=r(95001),a=r(25864),s=r(16106),l=["typed"],u=(0,a.d5)("map",l,(e=>{var{typed:t}=e;function r(e,t,r){var o,a;return e[0]&&(o=e[0].compile().evaluate(r)),e[1]&&(a=(0,n.FG)(e[1])||(0,n.l7)(e[1])?e[1].compile().evaluate(r):(0,s.T)(e[1],t,r)),i(o,a)}r.rawArgs=!0;var i=t("map",{"Array, function":function(e,t){return c(e,t,e)},"Matrix, function":function(e,t){return e.create(c(e.valueOf(),t,e))}});return r}),{isTransformFunction:!0});function c(e,t,r){var n=(0,i.oV)(t);return function e(i,a){return Array.isArray(i)?(0,o.UI)(i,(function(t,r){return e(t,a.concat(r+1))})):1===n?t(i):2===n?t(i,a):t(i,a,r)}(e,[])}},76108:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var n=r(25864),i=r(37538),o=r(77372),a=r(61490),s=["typed","config","numeric","larger"],l=(0,n.d5)("max",s,(e=>{var{typed:t,config:r,numeric:n,larger:s}=e,l=(0,o.J)({typed:t,config:r,numeric:n,larger:s});return t("max",{"...any":function(e){e=(0,a.L)(e);try{return l.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},90244:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var n=r(25864),i=r(37538),o=r(52903),a=r(61490),s=["typed","add","divide"],l=(0,n.d5)("mean",s,(e=>{var{typed:t,add:r,divide:n}=e,s=(0,o.Q)({typed:t,add:r,divide:n});return t("mean",{"...any":function(e){e=(0,a.L)(e);try{return s.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},48388:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var n=r(25864),i=r(37538),o=r(32043),a=r(61490),s=["typed","config","numeric","smaller"],l=(0,n.d5)("min",s,(e=>{var{typed:t,config:r,numeric:n,smaller:s}=e,l=(0,o.D)({typed:t,config:r,numeric:n,smaller:s});return t("min",{"...any":function(e){e=(0,a.L)(e);try{return l.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},45754:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var n=r(25864),i=r(32698),o=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],a=(0,n.d5)("range",o,(e=>{var{typed:t,config:r,matrix:n,bignumber:o,smaller:a,smallerEq:s,larger:l,largerEq:u}=e,c=(0,i.M)({typed:t,config:r,matrix:n,bignumber:o,smaller:a,smallerEq:s,larger:l,largerEq:u});return t("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),c.apply(null,e)}})}),{isTransformFunction:!0})},4258:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(25864),i=r(37540),o=r(37538),a=r(67242),s=["typed","Index","matrix","range"],l=(0,n.d5)("row",s,(e=>{var{typed:t,Index:r,matrix:n,range:s}=e,l=(0,i.v)({typed:t,Index:r,matrix:n,range:s});return t("row",{"...any":function(e){var t=e.length-1,r=e[t];(0,a.hj)(r)&&(e[t]=r-1);try{return l.apply(null,e)}catch(n){throw(0,o.M)(n)}}})}),{isTransformFunction:!0})},31038:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var n=r(25864),i=r(67199),o=r(37538),a=r(61490),s=["typed","sqrt","variance"],l=(0,n.d5)("std",s,(e=>{var{typed:t,sqrt:r,variance:n}=e,s=(0,i.X)({typed:t,sqrt:r,variance:n});return t("std",{"...any":function(e){e=(0,a.L)(e);try{return s.apply(null,e)}catch(t){throw(0,o.M)(t)}}})}),{isTransformFunction:!0})},15004:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(25864),i=r(37538),o=r(43672),a=["typed","matrix"],s=(0,n.d5)("subset",a,(e=>{var{typed:t,matrix:r}=e,n=(0,o.q)({typed:t,matrix:r});return t("subset",{"...any":function(e){try{return n.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},22746:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(25864),i=r(37538),o=r(58548),a=r(61490),s=["typed","config","add","numeric"],l=(0,n.d5)("sum",s,(e=>{var{typed:t,config:r,add:n,numeric:s}=e,l=(0,o.O)({typed:t,config:r,add:n,numeric:s});return t("sum",{"...any":function(e){e=(0,a.L)(e);try{return l.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},16106:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(67242);function i(e,t,r){var i=e.filter((function(e){return(0,n.FG)(e)&&!(e.name in t)&&!(e.name in r)}))[0];if(!i)throw new Error('No undefined variable found in inline expression "'+e+'"');var o=i.name,a=Object.create(r),s=e.compile();return function(e){return a[o]=e,s.evaluate(a)}}},37538:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(81725);function i(e){return e&&e.isIndexError?new n.c(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},61490:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(67242);function i(e){if(2===e.length&&(0,n.uZ)(e[0])){var t=(e=e.slice())[1];(0,n.hj)(t)?e[1]=t-1:(0,n.l9)(t)&&(e[1]=t.minus(1))}return e}},33104:(e,t,r)=>{"use strict";r.d(t,{H:()=>u});var n=r(25864),i=r(37538),o=r(45838),a=r(61490),s="variance",l=["typed","add","subtract","multiply","divide","apply","isNaN"],u=(0,n.d5)(s,l,(e=>{var{typed:t,add:r,subtract:n,multiply:l,divide:u,apply:c,isNaN:p}=e,h=(0,o.F)({typed:t,add:r,subtract:n,multiply:l,divide:u,apply:c,isNaN:p});return t(s,{"...any":function(e){e=(0,a.L)(e);try{return h.apply(null,e)}catch(t){throw(0,i.M)(t)}}})}),{isTransformFunction:!0})},40441:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(57139),i=r(25864),o=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],a=(0,i.d5)("lup",o,(e=>{var{typed:t,matrix:r,abs:i,addScalar:o,divideScalar:a,multiplyScalar:s,subtract:l,larger:u,equalScalar:c,unaryMinus:p,DenseMatrix:h,SparseMatrix:f,Spa:d}=e;return t("lup",{DenseMatrix:function(e){return m(e)},SparseMatrix:function(e){return g(e)},Array:function(e){var t=m(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function m(e){var t,r,p,f=e._size[0],d=e._size[1],m=Math.min(f,d),g=(0,n.d9)(e._data),y=[],v=[f,m],x=[],b=[m,d],_=[];for(t=0;t<f;t++)_[t]=t;for(r=0;r<d;r++){if(r>0)for(t=0;t<f;t++){var w=Math.min(t,r),E=0;for(p=0;p<w;p++)E=o(E,s(g[t][p],g[p][r]));g[t][r]=l(g[t][r],E)}var M=r,S=0,N=0;for(t=r;t<f;t++){var k=g[t][r],A=i(k);u(A,S)&&(M=t,S=A,N=k)}if(r!==M&&(_[r]=[_[M],_[M]=_[r]][0],h._swapRows(r,M,g)),r<f)for(t=r+1;t<f;t++){var T=g[t][r];c(T,0)||(g[t][r]=a(g[t][r],N))}}for(r=0;r<d;r++)for(t=0;t<f;t++)0===r&&(t<d&&(x[t]=[]),y[t]=[]),t<r?(t<d&&(x[t][r]=g[t][r]),r<f&&(y[t][r]=0)):t!==r?(t<d&&(x[t][r]=0),r<f&&(y[t][r]=g[t][r])):(t<d&&(x[t][r]=g[t][r]),r<f&&(y[t][r]=1));var O=new h({data:y,size:v}),C=new h({data:x,size:b}),I=[];for(t=0,m=_.length;t<m;t++)I[_[t]]=t;return{L:O,U:C,p:I,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function g(e){var t,r,n,o=e._size[0],l=e._size[1],h=Math.min(o,l),m=e._values,g=e._index,y=e._ptr,v=[],x=[],b=[],_=[o,h],w=[],E=[],M=[],S=[h,l],N=[],k=[];for(t=0;t<o;t++)N[t]=t,k[t]=t;var A=function(){var e=new d;r<o&&(b.push(v.length),v.push(1),x.push(r)),M.push(w.length);var l=y[r],h=y[r+1];for(n=l;n<h;n++)t=g[n],e.set(N[t],m[n]);r>0&&e.forEach(0,r-1,(function(t,r){f._forEachRow(t,v,x,b,(function(n,i){n>t&&e.accumulate(n,p(s(i,r)))}))}));var A,T,O,C,I=r,R=e.get(r),D=i(R);e.forEach(r+1,o-1,(function(e,t){var r=i(t);u(r,D)&&(I=e,D=r,R=t)})),r!==I&&(f._swapRows(r,I,_[1],v,x,b),f._swapRows(r,I,S[1],w,E,M),e.swap(r,I),T=I,O=k[A=r],C=k[T],N[O]=T,N[C]=A,k[A]=C,k[T]=O),e.forEach(0,o-1,(function(e,t){e<=r?(w.push(t),E.push(e)):(t=a(t,R),c(t,0)||(v.push(t),x.push(e)))}))};for(r=0;r<l;r++)A();return M.push(w.length),b.push(v.length),{L:new f({values:v,index:x,ptr:b,size:_}),U:new f({values:w,index:E,ptr:M,size:S}),p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},14602:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(25864);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],a=(0,n.d5)("qr",o,(e=>{var{typed:t,matrix:r,zeros:n,identity:o,isZero:a,equal:s,sign:l,sqrt:u,conj:c,unaryMinus:p,addScalar:h,divideScalar:f,multiplyScalar:d,subtract:m,complex:g}=e;return i(t("qr",{DenseMatrix:function(e){return v(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=v(r(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:y});function y(e){var t,r,i,g=e._size[0],y=e._size[1],v=o([g],"dense"),x=v._data,b=e.clone(),_=b._data,w=n([g],"");for(i=0;i<Math.min(y,g);++i){var E=_[i][i],M=p(s(E,0)?1:l(E)),S=c(M),N=0;for(t=i;t<g;t++)N=h(N,d(_[t][i],c(_[t][i])));var k=d(M,u(N));if(!a(k)){var A=m(E,k);for(w[i]=1,t=i+1;t<g;t++)w[t]=f(_[t][i],A);var T=p(c(f(A,k))),O=void 0;for(r=i;r<y;r++){for(O=0,t=i;t<g;t++)O=h(O,d(c(w[t]),_[t][r]));for(O=d(O,T),t=i;t<g;t++)_[t][r]=d(m(_[t][r],d(w[t],O)),S)}for(t=0;t<g;t++){for(O=0,r=i;r<g;r++)O=h(O,d(x[t][r],w[r]));for(O=d(O,T),r=i;r<g;++r)x[t][r]=f(m(x[t][r],d(O,c(w[r]))),S)}}}return{Q:v,R:b,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function v(e){var t=y(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?g(0):0,i=0;i<r.length;++i)for(var o=0;o<i&&o<(r[0]||[]).length;++o)r[i][o]=n;return t}}))},42319:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var n=r(1341),i=r(25864),o=r(60530),a=r(93740),s=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],l=(0,i.d5)("slu",s,(e=>{var{typed:t,abs:r,add:i,multiply:s,transpose:l,divideScalar:u,subtract:c,larger:p,largerEq:h,SparseMatrix:f}=e,d=(0,o.K)({add:i,multiply:s,transpose:l}),m=(0,a.V)({abs:r,divideScalar:u,multiply:s,subtract:c,larger:p,largerEq:h,SparseMatrix:f});return t("slu",{"SparseMatrix, number, number":function(e,t,r){if(!(0,n.U)(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var i=d(t,e,!1),o=m(e,i,r);return{L:o.L,U:o.U,p:o.pinv,q:i.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}))},97692:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var n=r(67242),i=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],o=(0,r(25864).d5)("derivative",i,(e=>{var{typed:t,config:r,parse:i,simplify:o,equal:a,isZero:s,numeric:l,ConstantNode:u,FunctionNode:c,OperatorNode:p,ParenthesisNode:h,SymbolNode:f}=e,d=t("derivative",{"Node, SymbolNode, Object":function(e,t,r){var n={};g(n,e,t.name);var i=y(e,n);return r.simplify?o(i):i},"Node, SymbolNode":function(e,t){return this(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return this(i(e),t)},"string, SymbolNode, Object":function(e,t,r){return this(i(e),t,r)},"string, string":function(e,t){return this(i(e),i(t))},"string, string, Object":function(e,t,r){return this(i(e),i(t),r)},"Node, string":function(e,t){return this(e,i(t))},"Node, string, Object":function(e,t,r){return this(e,i(t),r)}});d._simplify=!0,d.toTex=function(e){return m.apply(null,e.args)};var m=t("_derivTex",{"Node, SymbolNode":function(e,t){return(0,n.nu)(e)&&"string"===(0,n.kM)(e.value)?m(i(e.value).toString(),t.toString(),1):m(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===(0,n.kM)(t.value))return m(e,i(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,r){return m(e.toString(),t.name,r.value)},"string, string, number":function(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left[".concat(e,"\\right]")}}),g=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,r){return t.name!==r&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,r){return g(e,t.content,r)},"Object, FunctionAssignmentNode, string":function(e,t,r){return-1===t.params.indexOf(r)?(e[t]=!0,!0):g(e,t.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,t,r){if(t.args.length>0){for(var n=g(e,t.args[0],r),i=1;i<t.args.length;++i)n=g(e,t.args[i],r)&&n;if(n)return e[t]=!0,!0}return!1}}),y=t("_derivative",{"ConstantNode, Object":function(e){return v(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?v(0):v(1)},"ParenthesisNode, Object":function(e,t){return new h(y(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?v(0):y(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=v(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}(e),void 0!==t[e])return v(0);var r,n,i,o,a=e.args[0],s=!1,l=!1;switch(e.name){case"cbrt":s=!0,n=new p("*","multiply",[v(3),new p("^","pow",[a,new p("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,n=new p("*","multiply",[v(2),new c("sqrt",[a])]);else if(2===e.args.length)return t[r=new p("/","divide",[v(1),e.args[1]])]=t[e.args[1]],y(new p("^","pow",[a,r]),t);break;case"log10":r=v(10);case"log":if(r||1!==e.args.length){if(1===e.args.length&&r||2===e.args.length&&void 0!==t[e.args[1]])n=new p("*","multiply",[a.clone(),new c("log",[r||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new p("/","divide",[new c("log",[a]),new c("log",[e.args[1]])]),t)}else n=a.clone(),s=!0;break;case"pow":return t[r]=t[e.args[1]],y(new p("^","pow",[a,e.args[1]]),t);case"exp":n=new c("exp",[a.clone()]);break;case"sin":n=new c("cos",[a.clone()]);break;case"cos":n=new p("-","unaryMinus",[new c("sin",[a.clone()])]);break;case"tan":n=new p("^","pow",[new c("sec",[a.clone()]),v(2)]);break;case"sec":n=new p("*","multiply",[e,new c("tan",[a.clone()])]);break;case"csc":l=!0,n=new p("*","multiply",[e,new c("cot",[a.clone()])]);break;case"cot":l=!0,n=new p("^","pow",[new c("csc",[a.clone()]),v(2)]);break;case"asin":s=!0,n=new c("sqrt",[new p("-","subtract",[v(1),new p("^","pow",[a.clone(),v(2)])])]);break;case"acos":s=!0,l=!0,n=new c("sqrt",[new p("-","subtract",[v(1),new p("^","pow",[a.clone(),v(2)])])]);break;case"atan":s=!0,n=new p("+","add",[new p("^","pow",[a.clone(),v(2)]),v(1)]);break;case"asec":s=!0,n=new p("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new p("-","subtract",[new p("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,l=!0,n=new p("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new p("-","subtract",[new p("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,l=!0,n=new p("+","add",[new p("^","pow",[a.clone(),v(2)]),v(1)]);break;case"sinh":n=new c("cosh",[a.clone()]);break;case"cosh":n=new c("sinh",[a.clone()]);break;case"tanh":n=new p("^","pow",[new c("sech",[a.clone()]),v(2)]);break;case"sech":l=!0,n=new p("*","multiply",[e,new c("tanh",[a.clone()])]);break;case"csch":l=!0,n=new p("*","multiply",[e,new c("coth",[a.clone()])]);break;case"coth":l=!0,n=new p("^","pow",[new c("csch",[a.clone()]),v(2)]);break;case"asinh":s=!0,n=new c("sqrt",[new p("+","add",[new p("^","pow",[a.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,n=new c("sqrt",[new p("-","subtract",[new p("^","pow",[a.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,n=new p("-","subtract",[v(1),new p("^","pow",[a.clone(),v(2)])]);break;case"asech":s=!0,l=!0,n=new p("*","multiply",[a.clone(),new c("sqrt",[new p("-","subtract",[v(1),new p("^","pow",[a.clone(),v(2)])])])]);break;case"acsch":s=!0,l=!0,n=new p("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new p("+","add",[new p("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,l=!0,n=new p("-","subtract",[v(1),new p("^","pow",[a.clone(),v(2)])]);break;case"abs":n=new p("/","divide",[new c(new f("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",o="divide"):(i="*",o="multiply");var u=y(a,t);return l&&(u=new p("-","unaryMinus",[u])),new p(i,o,[u,n])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new p(e.op,e.fn,e.args.map((function(e){return y(e,t)})));if("-"===e.op){if(e.isUnary())return new p(e.op,e.fn,[y(e.args[0],t)]);if(e.isBinary())return new p(e.op,e.fn,[y(e.args[0],t),y(e.args[1],t)])}if("*"===e.op){var r=e.args.filter((function(e){return void 0!==t[e]}));if(r.length>0){var i=e.args.filter((function(e){return void 0===t[e]})),o=1===i.length?i[0]:new p("*","multiply",i),l=r.concat(y(o,t));return new p("*","multiply",l)}return new p("+","add",e.args.map((function(r){return new p("*","multiply",e.args.map((function(e){return e===r?y(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var u=e.args[0],h=e.args[1];return void 0!==t[h]?new p("/","divide",[y(u,t),h]):void 0!==t[u]?new p("*","multiply",[new p("-","unaryMinus",[u]),new p("/","divide",[y(h,t),new p("^","pow",[h.clone(),v(2)])])]):new p("/","divide",[new p("-","subtract",[new p("*","multiply",[y(u,t),h.clone()]),new p("*","multiply",[u.clone(),y(h,t)])]),new p("^","pow",[h.clone(),v(2)])])}if("^"===e.op&&e.isBinary()){var f=e.args[0],d=e.args[1];if(void 0!==t[f])return(0,n.nu)(f)&&(s(f.value)||a(f.value,1))?v(0):new p("*","multiply",[e,new p("*","multiply",[new c("log",[f.clone()]),y(d.clone(),t)])]);if(void 0!==t[d]){if((0,n.nu)(d)){if(s(d.value))return v(0);if(a(d.value,1))return y(f,t)}var m=new p("^","pow",[f.clone(),new p("-","subtract",[d,v(1)])]);return new p("*","multiply",[d.clone(),new p("*","multiply",[y(f,t),m])])}return new p("*","multiply",[new p("^","pow",[f.clone(),d.clone()]),new p("+","add",[new p("*","multiply",[y(f,t),new p("/","divide",[d.clone(),f.clone()])]),new p("*","multiply",[y(d,t),new c("log",[f.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(e,t){return new u(l(e,t||r.number))}return d}))},85994:(e,t,r)=>{"use strict";r.d(t,{u:()=>u});var n=r(1341),i=r(25864),o=r(3217),a=r(7362),s="rationalize",l=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],u=(0,i.d5)(s,l,(e=>{var{config:t,typed:r,equal:i,isZero:l,add:u,subtract:c,multiply:p,divide:h,pow:f,parse:d,simplify:m,fraction:g,bignumber:y,mathWithTransform:v,ConstantNode:x,OperatorNode:b,FunctionNode:_,SymbolNode:w,ParenthesisNode:E}=e,M=(0,o.k)({typed:r,config:t,mathWithTransform:v,fraction:g,bignumber:y,ConstantNode:x,OperatorNode:b,FunctionNode:_,SymbolNode:w}),S=(0,a.z)({equal:i,isZero:l,add:u,subtract:c,multiply:p,divide:h,pow:f,ConstantNode:x,OperatorNode:b,FunctionNode:_,ParenthesisNode:E});return r(s,{string:function(e){return this(d(e),{},!1)},"string, boolean":function(e,t){return this(d(e),{},t)},"string, Object":function(e,t){return this(d(e),t,!1)},"string, Object, boolean":function(e,t,r){return this(d(e),t,r)},Node:function(e){return this(e,{},!1)},"Node, boolean":function(e,t){return this(e,{},t)},"Node, Object":function(e,t){return this(e,t,!1)},"Node, Object, boolean":function(e,t,r){var i=function(){var e=[S,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},M,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],r=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],i={};return i.firstRules=e.concat(t,n),i.distrDivRules=r,i.sucDivRules=n,i.firstRulesAgain=e.concat(t),i.finalRules=[S,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},M,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],i}(),o=function(e,t,r,i){var o=[],a=m(e,i,t,{exactFractions:!1}),s="+-*"+((r=!!r)?"/":"");u(a);var l={};return l.expression=a,l.variables=o,l;function u(e){var t=e.type;if("FunctionNode"===t)throw new Error("There is an unsolved function call");if("OperatorNode"===t)if("^"===e.op){if("ConstantNode"!==e.args[1].type||!(0,n.U)(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");u(e.args[0])}else{if(-1===s.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var r=0;r<e.args.length;r++)u(e.args[r])}else if("SymbolNode"===t){var i=e.name;-1===o.indexOf(i)&&o.push(i)}else if("ParenthesisNode"===t)u(e.content);else if("ConstantNode"!==t)throw new Error("type "+t+" is not allowed in polynomial expression")}}(e,t,!0,i.firstRules),a=o.variables.length;if(e=o.expression,a>=1){var s,l;e=N(e);var u,c=!0,p=!1;for(e=m(e,i.firstRules,{},{exactFractions:!1});l=c?i.distrDivRules:i.sucDivRules,c=!c,(u=(e=m(e,l)).toString())!==s;)p=!0,s=u;p&&(e=m(e,i.firstRulesAgain,{},{exactFractions:!1})),e=m(e,i.finalRules,{},{exactFractions:!1})}var h=[],f={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===a&&(e.args[0]=k(e.args[0],h),e.args[1]=k(e.args[1])),r&&(f.numerator=e.args[0],f.denominator=e.args[1])):(1===a&&(e=k(e,h)),r&&(f.numerator=e,f.denominator=null)),r?(f.coefficients=h,f.variables=o.variables,f.expression=e,f):e}});function N(e,t,r){var i=e.type,o=arguments.length>1;if("OperatorNode"===i&&e.isBinary()){var a,s=!1;if("^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(s=(a=parseFloat(e.args[1].value))>=2&&(0,n.U)(a))),s){if(a>2){var l=e.args[0],u=new b("^","pow",[e.args[0].cloneDeep(),new x(a-1)]);e=new b("*","multiply",[l,u])}else e=new b("*","multiply",[e.args[0],e.args[0].cloneDeep()]);o&&("content"===r?t.content=e:t.args[r]=e)}}if("ParenthesisNode"===i)N(e.content,e,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var c=0;c<e.args.length;c++)N(e.args[c],e,c);if(!o)return e}function k(e,t){void 0===t&&(t=[]),t[0]=0;var r={cte:1,oper:"+",fire:""},i=0,o="";!function e(r,a,s){var l=r.type;if("FunctionNode"===l)throw new Error("There is an unsolved function call");if("OperatorNode"===l){if(-1==="+-*^".indexOf(r.op))throw new Error("Operator "+r.op+" invalid");if(null!==a){if(("unaryMinus"===r.fn||"pow"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"multiply"===r.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"unaryMinus"===r.fn)&&0!==s.noFil)throw new Error("Invalid "+r.op+" placing")}"^"!==r.op&&"*"!==r.op||(s.fire=r.op);for(var u=0;u<r.args.length;u++)"unaryMinus"===r.fn&&(s.oper="-"),"+"!==r.op&&"subtract"!==r.fn||(s.fire="",s.cte=1,s.oper=0===u?"+":r.op),s.noFil=u,e(r.args[u],r,s)}else if("SymbolNode"===l){if(r.name!==o&&""!==o)throw new Error("There is more than one variable");if(o=r.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==s.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==s.noFil)throw new Error("In multiply the variable should be the second parameter");""!==s.fire&&"*"!==s.fire||(i<1&&(t[1]=0),t[1]+=s.cte*("+"===s.oper?1:-1),i=Math.max(1,i))}else{if("ConstantNode"!==l)throw new Error("Type "+l+" is not allowed");var c=parseFloat(r.value);if(null===a)return void(t[0]=c);if("^"===a.op){if(1!==s.noFil)throw new Error("Constant cannot be powered");if(!(0,n.U)(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var p=i+1;p<c;p++)t[p]=0;return c>i&&(t[c]=0),t[c]+=s.cte*("+"===s.oper?1:-1),void(i=Math.max(c,i))}s.cte=c,""===s.fire&&(t[0]+=s.cte*("+"===s.oper?1:-1))}}(e,null,r);for(var a,s=!0,l=i=t.length-1;l>=0;l--)if(0!==t[l]){var u=new x(s?t[l]:Math.abs(t[l])),c=t[l]<0?"-":"+";if(l>0){var p=new w(o);if(l>1){var h=new x(l);p=new b("^","pow",[p,h])}u=-1===t[l]&&s?new b("-","unaryMinus",[p]):1===Math.abs(t[l])?p:new b("*","multiply",[u,p])}a=s?u:"+"===c?new b("+","add",[a,u]):new b("-","subtract",[a,u]),s=!1}return s?new x(0):a}}))},38388:(e,t,r)=>{"use strict";r.d(t,{J:()=>p});var n=r(67242),i=r(25864),o=r(42938),a=r(7362),s=r(3217),l=r(66922),u=r(57139),c=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],p=(0,i.d5)("simplify",c,(e=>{var{config:t,typed:r,parse:i,add:c,subtract:p,multiply:h,divide:f,pow:d,isZero:m,equal:g,fraction:y,bignumber:v,mathWithTransform:x,ConstantNode:b,FunctionNode:_,OperatorNode:w,ParenthesisNode:E,SymbolNode:M}=e,S=(0,s.k)({typed:r,config:t,mathWithTransform:x,fraction:y,bignumber:v,ConstantNode:b,OperatorNode:w,FunctionNode:_,SymbolNode:M}),N=(0,a.z)({equal:g,isZero:m,add:c,subtract:p,multiply:h,divide:f,pow:d,ConstantNode:b,OperatorNode:w,FunctionNode:_,ParenthesisNode:E}),k=(0,l.D)({parse:i,FunctionNode:_,OperatorNode:w,ParenthesisNode:E}),{isCommutative:A,isAssociative:T,flatten:O,unflattenr:C,unflattenl:I,createMakeNodeFunction:R}=(0,o.x)({FunctionNode:_,OperatorNode:w,SymbolNode:M}),D=r("simplify",{string:function(e){return this(i(e),this.rules,{},{})},"string, Object":function(e,t){return this(i(e),this.rules,t,{})},"string, Object, Object":function(e,t,r){return this(i(e),this.rules,t,r)},"string, Array":function(e,t){return this(i(e),t,{},{})},"string, Array, Object":function(e,t,r){return this(i(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,n){return this(i(e),t,r,n)},"Node, Object":function(e,t){return this(e,this.rules,t,{})},"Node, Object, Object":function(e,t,r){return this(e,this.rules,t,r)},Node:function(e){return this(e,this.rules,{},{})},"Node, Array":function(e,t){return this(e,t,{},{})},"Node, Array, Object":function(e,t,r){return this(e,t,r,{})},"Node, Array, Object, Object":function(e,t,r,n){t=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=void 0,a=typeof n;switch(a){case"string":var s=n.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+n);n={l:s[0],r:s[1]};case"object":if(o={l:L(i(n.l)),r:L(i(n.r))},n.context&&(o.evaluate=n.context),n.evaluate&&(o.evaluate=i(n.evaluate)),T(o.l)){var l=R(o.l),u=P();o.expanded={},o.expanded.l=l([o.l.clone(),u]),O(o.expanded.l),C(o.expanded.l),o.expanded.r=l([o.r,u])}break;case"function":o=n;break;default:throw TypeError("Unsupported type of rule: "+a)}t.push(o)}return t}(t);for(var o=k(e,r),a={},s=(o=L(o)).toString({parenthesis:"all"});!a[s];){a[s]=!0,B=0;for(var l=0;l<t.length;l++)"function"==typeof t[l]?o=t[l](o,n):(O(o),o=z(o,t[l])),I(o);s=o.toString({parenthesis:"all"})}return o}});function L(e){return e.transform((function(e,t,r){return(0,n.Ig)(e)?L(e.content):e}))}D.simplifyCore=N,D.resolve=k;var q={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};D.rules=[N,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},S,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var B=0;function P(){return new M("_p"+B++)}var z=r("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof w||r instanceof _){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=z(r.args[n],t)}else r instanceof E&&r.content&&(r.content=z(r.content,t));var i=t.r,o=F(t.l,r)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=F(t.expanded.l,r)[0]),o){var a=r.implicit;r=i.clone(),a&&"implicit"in i&&(r.implicit=!0),r=r.transform((function(e){return e.isSymbolNode&&(0,u.nr)(o.placeholders,e.name)?o.placeholders[e.name].clone():e}))}return r}});function U(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if((0,u.nr)(e.placeholders,n)&&(r.placeholders[n]=e.placeholders[n],(0,u.nr)(t.placeholders,n)&&!G(e.placeholders[n],t.placeholders[n])))return null;for(var i in t.placeholders)(0,u.nr)(t.placeholders,i)&&(r.placeholders[i]=t.placeholders[i]);return r}function $(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(r=U(e[i],t[o]))&&n.push(r);return n}function F(e,t,r){var i=[{placeholders:{}}];if(e instanceof w&&t instanceof w||e instanceof _&&t instanceof _){if(e instanceof w){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof _&&e.name!==t.name)return[];if(!(1===t.args.length&&1===e.args.length||!T(t)&&t.args.length===e.args.length||r)){if(t.args.length>=2&&2===e.args.length){for(var o=function(e,t){var r,n,i=[],o=R(e);if(A(e,t))for(var a=0;a<e.args.length;a++)(n=e.args.slice(0)).splice(a,1),r=1===n.length?n[0]:o(n),i.push(o([e.args[a],r]));else r=1===(n=e.args.slice(1)).length?n[0]:o(n),i.push(o([e.args[0],r]));return i}(t,e.context),a=[],s=0;s<o.length;s++){var l=F(e,o[s],!0);a=a.concat(l)}return a}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],c=0;c<e.args.length;c++){var p=F(e.args[c],t.args[c]);if(0===p.length)return[];u.push(p)}i=function(e){if(0===e.length)return e;for(var t=e.reduce($),r=[],n={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);n[o]||(n[o]=!0,r.push(t[i]))}return r}(u)}else if(e instanceof M){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(q[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))i[0].placeholders[e.name]=t;else if("v"===e.name[0]){if((0,n.nu)(t))return[];i[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof b))return[];i[0].placeholders[e.name]=t}}else{if(!(e instanceof b))return[];if(!g(e.value,t.value))return[]}return i}function G(e,t){if(e instanceof b&&t instanceof b){if(!g(e.value,t.value))return!1}else if(e instanceof M&&t instanceof M){if(e.name!==t.name)return!1}else{if(!(e instanceof w&&t instanceof w||e instanceof _&&t instanceof _))return!1;if(e instanceof w){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof _&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!G(e.args[r],t.args[r]))return!1}return!0}return D}))},66922:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=r(67242),i=["parse","FunctionNode","OperatorNode","ParenthesisNode"],o=(0,r(25864).d5)("resolve",i,(e=>{var{parse:t,FunctionNode:r,OperatorNode:i,ParenthesisNode:o}=e;return function e(a,s){if(!s)return a;if((0,n.FG)(a)){var l=s[a.name];if((0,n.UG)(l))return e(l,s);if("number"==typeof l)return t(String(l))}else{if((0,n.bV)(a)){var u=a.args.map((function(t){return e(t,s)}));return new i(a.op,a.fn,u,a.implicit)}if((0,n.Ig)(a))return new o(e(a.content,s));if((0,n.VO)(a)){var c=a.args.map((function(t){return e(t,s)}));return new r(a.name,c)}}return a}}))},3217:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(67242),i=r(25864),o=r(42938),a=r(59576),s=["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],l=(0,i.d5)("simplifyConstant",s,(e=>{var{typed:t,config:r,mathWithTransform:i,fraction:s,bignumber:l,ConstantNode:u,OperatorNode:c,FunctionNode:p,SymbolNode:h}=e,{isCommutative:f,isAssociative:d,allChildren:m,createMakeNodeFunction:g}=(0,o.x)({FunctionNode:p,OperatorNode:c,SymbolNode:h});function y(e,t,r){try{return b(i[e].apply(null,t),r)}catch(o){return t=t.map((function(e){return(0,n.yQ)(e)?e.valueOf():e})),b(i[e].apply(null,t),r)}}var v=t({Fraction:function(e){var t,r=e.s*e.n;t=r<0?new c("-","unaryMinus",[new u(-r)]):new u(r);if(1===e.d)return t;return new c("/","divide",[t,new u(e.d)])},number:function(e){return e<0?_(new u(-e)):new u(e)},BigNumber:function(e){return e<0?_(new u(-e)):new u(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function x(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&s){var r=s(e),n=t&&"number"==typeof t.fractionsLimit?t.fractionsLimit:1/0;if(r.valueOf()===e&&r.n<n&&r.d<n)return r}return e}var b=t({"string, Object":function(e,t){return"BigNumber"===r.number?(void 0===l&&(0,a.R3)(),l(e)):"Fraction"===r.number?(void 0===s&&(0,a.nG)(),s(e)):x(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return x(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:x(e.re,t)}});function _(e){return new c("-","unaryMinus",[e])}function w(e,t,r,i){return t.reduce((function(t,o){if((0,n.UG)(t)||(0,n.UG)(o))(0,n.UG)(t)?(0,n.UG)(o)||(o=v(o)):t=v(t);else{try{return y(e,[t,o],i)}catch(a){}t=v(t),o=v(o)}return r([t,o])}))}function E(e,t){switch(e.type){case"SymbolNode":return e;case"ConstantNode":return"number"!=typeof e.value&&isNaN(e.value)?e:b(e.value,t);case"FunctionNode":if(i[e.name]&&i[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var r=e.args.map((e=>E(e,t)));if(!r.some(n.UG))try{return y(e.name,r,t)}catch(x){}return r=r.map((function(e){return(0,n.UG)(e)?e:v(e)})),new p(e.name,r)}case"OperatorNode":var o,a,s=e.fn.toString(),l=g(e);if((0,n.bV)(e)&&e.isUnary())o=[E(e.args[0],t)],a=(0,n.UG)(o[0])?l(o):y(s,o,t);else if(d(e))if(o=(o=m(e)).map((e=>E(e,t))),f(s)){for(var u=[],c=[],h=0;h<o.length;h++)(0,n.UG)(o[h])?c.push(o[h]):u.push(o[h]);u.length>1?(a=w(s,u,l,t),c.unshift(a),a=w(s,c,l,t)):a=w(s,o,l,t)}else a=w(s,o,l,t);else a=w(s,o=e.args.map((e=>E(e,t))),l,t);return a;case"ParenthesisNode":return E(e.content,t);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}return function(e,t){var r=E(e,t);return(0,n.UG)(r)?r:v(r)}}))},7362:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(67242),i=["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],o=(0,r(25864).d5)("simplifyCore",i,(e=>{var{equal:t,isZero:r,add:i,subtract:o,multiply:a,divide:s,pow:l,ConstantNode:u,OperatorNode:c,FunctionNode:p,ParenthesisNode:h}=e,f=new u(0),d=new u(1);return function e(m){if((0,n.bV)(m)&&m.isUnary()){var g=e(m.args[0]);if("+"===m.op)return g;if("-"===m.op){if((0,n.bV)(g)){if(g.isUnary()&&"-"===g.op)return g.args[0];if(g.isBinary()&&"subtract"===g.fn)return new c("-","subtract",[g.args[1],g.args[0]])}return new c(m.op,m.fn,[g])}}else if((0,n.bV)(m)&&m.isBinary()){var y=e(m.args[0]),v=e(m.args[1]);if("+"===m.op){if((0,n.nu)(y)){if(r(y.value))return v;if((0,n.nu)(v))return new u(i(y.value,v.value))}return(0,n.nu)(v)&&r(v.value)?y:(0,n.bV)(v)&&v.isUnary()&&"-"===v.op?new c("-","subtract",[y,v.args[0]]):new c(m.op,m.fn,v?[y,v]:[y])}if("-"===m.op){if((0,n.nu)(y)&&v){if((0,n.nu)(v))return new u(o(y.value,v.value));if(r(y.value))return new c("-","unaryMinus",[v])}if("subtract"===m.fn)return(0,n.nu)(v)&&r(v.value)?y:(0,n.bV)(v)&&v.isUnary()&&"-"===v.op?e(new c("+","add",[y,v.args[0]])):new c(m.op,m.fn,[y,v])}else{if("*"===m.op){if((0,n.nu)(y)){if(r(y.value))return f;if(t(y.value,1))return v;if((0,n.nu)(v))return new u(a(y.value,v.value))}if((0,n.nu)(v)){if(r(v.value))return f;if(t(v.value,1))return y;if((0,n.bV)(y)&&y.isBinary()&&y.op===m.op){var x=y.args[0];if((0,n.nu)(x)){var b=new u(a(x.value,v.value));return new c(m.op,m.fn,[b,y.args[1]],m.implicit)}}return new c(m.op,m.fn,[v,y],m.implicit)}return new c(m.op,m.fn,[y,v],m.implicit)}if("/"===m.op){if((0,n.nu)(y)){if(r(y.value))return f;if((0,n.nu)(v)&&(t(v.value,1)||t(v.value,2)||t(v.value,4)))return new u(s(y.value,v.value))}return new c(m.op,m.fn,[y,v])}if("^"===m.op){if((0,n.nu)(v)){if(r(v.value))return d;if(t(v.value,1))return y;if((0,n.nu)(y))return new u(l(y.value,v.value));if((0,n.bV)(y)&&y.isBinary()&&"^"===y.op){var _=y.args[1];if((0,n.nu)(_))return new c(m.op,m.fn,[y.args[0],new u(a(_.value,v.value))])}}return new c(m.op,m.fn,[y,v])}}}else{if((0,n.Ig)(m)){var w=e(m.content);return(0,n.Ig)(w)||(0,n.FG)(w)||(0,n.nu)(w)?w:new h(w)}if((0,n.VO)(m)){var E=m.args.map(e).map((function(e){return(0,n.Ig)(e)?e.content:e}));return new p(e(m.fn),E)}}return m}}))},42938:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(67242),i=r(25864),o=r(57139),a=["FunctionNode","OperatorNode","SymbolNode"],s=(0,i.d5)("simplifyUtil",a,(e=>{var{FunctionNode:t,OperatorNode:r,SymbolNode:i}=e,a={add:!0,multiply:!0},s={add:!0,multiply:!0};function l(e,t){if(!(0,n.bV)(e))return!1;var r=e.fn.toString();return t&&(0,o.nr)(t,r)&&(0,o.nr)(t[r],"associative")?t[r].associative:s[r]||!1}function u(e){var t,r=[];return l(e)?(t=e.op,function e(i){for(var o=0;o<i.args.length;o++){var a=i.args[o];(0,n.bV)(a)&&t===a.op?e(a):r.push(a)}}(e),r):e.args}function c(e){return(0,n.bV)(e)?function(t){try{return new r(e.op,e.fn,t,e.implicit)}catch(n){return console.error(n),[]}}:function(r){return new t(new i(e.name),r)}}return{createMakeNodeFunction:c,isCommutative:function(e,t){if(!(0,n.bV)(e))return!0;var r=e.fn.toString();return t&&(0,o.nr)(t,r)&&(0,o.nr)(t[r],"commutative")?t[r].commutative:a[r]||!1},isAssociative:l,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=u(t);for(var r=0;r<t.args.length;r++)e(t.args[r])},allChildren:u,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=c(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&l(t)){for(var o=t.args.pop();t.args.length>0;)o=r([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=c(t),n=t.args.length,i=0;i<n;i++)e(t.args[i]);if(n>2&&l(t)){for(var o=t.args.shift();t.args.length>0;)o=r([o,t.args.shift()]);t.args=o.args}}}}}))},98450:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(25864),i=r(42337),o="lsolve",a=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],s=(0,n.d5)(o,a,(e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:a,subtract:s,equalScalar:l,DenseMatrix:u}=e,c=(0,i.v)({DenseMatrix:u});return t(o,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=c(e,t,!0))._data,i=e._size[0],o=e._size[1],p=e._values,h=e._index,f=e._ptr,d=[],m=0;m<o;m++){var g=r[m][0]||0;if(l(g,0))d[m]=[0];else{for(var y=0,v=[],x=[],b=f[m],_=f[m+1],w=b;w<_;w++){var E=h[w];E===m?y=p[w]:E>m&&(v.push(p[w]),x.push(E))}if(l(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=n(g,y),S=0,N=x.length;S<N;S++){var k=x[S];r[k]=[s(r[k][0]||0,a(M,v[S]))]}d[m]=[M]}}return new u({data:d,size:[i,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(r(e),t).valueOf()}});function p(e,t){for(var r=(t=c(e,t,!0))._data,i=e._size[0],o=e._size[1],p=[],h=e._data,f=0;f<o;f++){var d=r[f][0]||0,m=void 0;if(l(d,0))m=0;else{var g=h[f][f];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=n(d,g);for(var y=f+1;y<i;y++)r[y]=[s(r[y][0]||0,a(m,h[y][f]))]}p[f]=[m]}return new u({data:p,size:[i,1]})}}))},50690:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(25864),i=r(42337),o="lsolveAll",a=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],s=(0,n.d5)(o,a,(e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:a,subtract:s,equalScalar:l,DenseMatrix:u}=e,c=(0,i.v)({DenseMatrix:u});return t(o,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[c(e,t,!0)._data.map((e=>e[0]))],i=e._size[0],o=e._size[1],p=e._values,h=e._index,f=e._ptr,d=0;d<o;d++)for(var m=r.length,g=0;g<m;g++){for(var y=r[g],v=[],x=[],b=f[d],_=f[d+1],w=0,E=b;E<_;E++){var M=h[E];M===d?w=p[E]:M>d&&(v.push(p[E]),x.push(M))}if(l(w,0))if(l(y[d],0)){if(0===g){var S=[...y];S[d]=1;for(var N=0,k=x.length;N<k;N++){var A=x[N];S[A]=s(S[A],v[N])}r.push(S)}}else{if(0===g)return[];r.splice(g,1),g-=1,m-=1}else{y[d]=n(y[d],w);for(var T=0,O=x.length;T<O;T++){var C=x[T];y[C]=s(y[C],a(y[d],v[T]))}}}return r.map((e=>new u({data:e.map((e=>[e])),size:[i,1]})))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(r(e),t).map((e=>e.valueOf()))}});function p(e,t){for(var r=[c(e,t,!0)._data.map((e=>e[0]))],i=e._data,o=e._size[0],p=e._size[1],h=0;h<p;h++)for(var f=r.length,d=0;d<f;d++){var m=r[d];if(l(i[h][h],0))if(l(m[h],0)){if(0===d){var g=[...m];g[h]=1;for(var y=h+1;y<p;y++)g[y]=s(g[y],i[y][h]);r.push(g)}}else{if(0===d)return[];r.splice(d,1),d-=1,f-=1}else{m[h]=n(m[h],i[h][h]);for(var v=h+1;v<p;v++)m[v]=s(m[v],a(m[h],i[v][h]))}}return r.map((e=>new u({data:e.map((e=>[e])),size:[o,1]})))}}))},34959:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(67242),i=r(25864),o=r(42337),a=r(11597),s="lusolve",l=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],u=(0,i.d5)(s,l,(e=>{var{typed:t,matrix:r,lup:i,slu:l,usolve:u,lsolve:c,DenseMatrix:p}=e,h=(0,o.v)({DenseMatrix:p});return t(s,{"Array, Array | Matrix":function(e,t){e=r(e);var n=i(e);return d(n.L,n.U,n.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=i(e);return d(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=i(e);return d(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=l(e,r,n);return d(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return d(e.L,e.U,e.p,e.q,t)}});function f(e){if((0,n.SW)(e))return e;if((0,n.kJ)(e))return r(e);throw new TypeError("Invalid Matrix LU decomposition")}function d(e,t,r,n,i){e=f(e),t=f(t),r&&((i=h(e,i,!0))._data=(0,a.q)(r,i._data));var o=c(e,i),s=u(t,o);return n&&(s._data=(0,a.q)(n,s._data)),s}}))},91668:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(25864),i=r(42337),o="usolve",a=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],s=(0,n.d5)(o,a,(e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:a,subtract:s,equalScalar:l,DenseMatrix:u}=e,c=(0,i.v)({DenseMatrix:u});return t(o,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=c(e,t,!0))._data,i=e._size[0],o=e._size[1],p=e._values,h=e._index,f=e._ptr,d=[],m=o-1;m>=0;m--){var g=r[m][0]||0;if(l(g,0))d[m]=[0];else{for(var y=0,v=[],x=[],b=f[m],_=f[m+1]-1;_>=b;_--){var w=h[_];w===m?y=p[_]:w<m&&(v.push(p[_]),x.push(w))}if(l(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var E=n(g,y),M=0,S=x.length;M<S;M++){var N=x[M];r[N]=[s(r[N][0],a(E,v[M]))]}d[m]=[E]}}return new u({data:d,size:[i,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(r(e),t).valueOf()}});function p(e,t){for(var r=(t=c(e,t,!0))._data,i=e._size[0],o=e._size[1],p=[],h=e._data,f=o-1;f>=0;f--){var d=r[f][0]||0,m=void 0;if(l(d,0))m=0;else{var g=h[f][f];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=n(d,g);for(var y=f-1;y>=0;y--)r[y]=[s(r[y][0]||0,a(m,h[y][f]))]}p[f]=[m]}return new u({data:p,size:[i,1]})}}))},97699:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(25864),i=r(42337),o="usolveAll",a=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],s=(0,n.d5)(o,a,(e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:a,subtract:s,equalScalar:l,DenseMatrix:u}=e,c=(0,i.v)({DenseMatrix:u});return t(o,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[c(e,t,!0)._data.map((e=>e[0]))],i=e._size[0],o=e._size[1],p=e._values,h=e._index,f=e._ptr,d=o-1;d>=0;d--)for(var m=r.length,g=0;g<m;g++){for(var y=r[g],v=[],x=[],b=f[d],_=0,w=f[d+1]-1;w>=b;w--){var E=h[w];E===d?_=p[w]:E<d&&(v.push(p[w]),x.push(E))}if(l(_,0))if(l(y[d],0)){if(0===g){var M=[...y];M[d]=1;for(var S=0,N=x.length;S<N;S++){var k=x[S];M[k]=s(M[k],v[S])}r.push(M)}}else{if(0===g)return[];r.splice(g,1),g-=1,m-=1}else{y[d]=n(y[d],_);for(var A=0,T=x.length;A<T;A++){var O=x[A];y[O]=s(y[O],a(y[d],v[A]))}}}return r.map((e=>new u({data:e.map((e=>[e])),size:[i,1]})))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return p(e,t)},"Array, Array | Matrix":function(e,t){return p(r(e),t).map((e=>e.valueOf()))}});function p(e,t){for(var r=[c(e,t,!0)._data.map((e=>e[0]))],i=e._data,o=e._size[0],p=e._size[1]-1;p>=0;p--)for(var h=r.length,f=0;f<h;f++){var d=r[f];if(l(i[p][p],0))if(l(d[p],0)){if(0===f){var m=[...d];m[p]=1;for(var g=p-1;g>=0;g--)m[g]=s(m[g],i[g][p]);r.push(m)}}else{if(0===f)return[];r.splice(f,1),f-=1,h-=1}else{d[p]=n(d[p],i[p][p]);for(var y=p-1;y>=0;y--)d[y]=s(d[y],a(d[p],i[y][p]))}}return r.map((e=>new u({data:e.map((e=>[e])),size:[o,1]})))}}))},42337:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(67242),i=r(95001),o=r(19372);function a(e){var{DenseMatrix:t}=e;return function(e,r,a){var s=e.size();if(2!==s.length)throw new RangeError("Matrix must be two dimensional (size: "+(0,o.WU)(s)+")");var l=s[0];if(l!==s[1])throw new RangeError("Matrix must be square (size: "+(0,o.WU)(s)+")");var u=[];if((0,n.SW)(r)){var c=r.size(),p=r._data;if(1===c.length){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<l;h++)u[h]=[p[h]];return new t({data:u,size:[l,1],datatype:r._datatype})}if(2===c.length){if(c[0]!==l||1!==c[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,n.jH)(r)){if(a){u=[];for(var f=0;f<l;f++)u[f]=[p[f][0]];return new t({data:u,size:[l,1],datatype:r._datatype})}return r}if((0,n.sA)(r)){for(var d=0;d<l;d++)u[d]=[0];for(var m=r._values,g=r._index,y=r._ptr,v=y[1],x=y[0];x<v;x++){u[g[x]][0]=m[x]}return new t({data:u,size:[l,1],datatype:r._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if((0,n.kJ)(r)){var b=(0,i.aJ)(r);if(1===b.length){if(b[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<l;_++)u[_]=[r[_]];return new t({data:u,size:[l,1]})}if(2===b.length){if(b[0]!==l||1!==b[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<l;w++)u[w]=[r[w][0]];return new t({data:u,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}},39107:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(25864),i=r(42796),o=r(94350),a=r(57335),s=["add","multiply","transpose"],l=(0,n.d5)("csAmd",s,(e=>{var{add:t,multiply:r,transpose:n}=e;return function(e,u){if(!u||e<=0||e>3)return null;var c=u._size,p=c[0],h=c[1],f=0,d=Math.max(16,10*Math.sqrt(h)),m=function(e,i,o,a,s){var l=n(i);if(1===e&&a===o)return t(i,l);if(2===e){for(var u=l._index,c=l._ptr,p=0,h=0;h<o;h++){var f=c[h];if(c[h]=p,!(c[h+1]-f>s))for(var d=c[h+1];f<d;f++)u[p++]=u[f]}return c[o]=p,i=n(l),r(l,i)}return r(l,i)}(e,u,p,h,d=Math.min(h-2,d));(0,i.L)(m,l,null);for(var g,y,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I=m._index,R=m._ptr,D=R[h],L=[],q=[],B=h+1,P=2*(h+1),z=3*(h+1),U=4*(h+1),$=5*(h+1),F=6*(h+1),G=7*(h+1),V=L,H=function(e,t,r,n,i,o,a,l,u,c,p,h){for(var f=0;f<e;f++)r[n+f]=t[f+1]-t[f];r[n+e]=0;for(var d=0;d<=e;d++)r[i+d]=-1,o[d]=-1,r[a+d]=-1,r[l+d]=-1,r[u+d]=1,r[c+d]=1,r[p+d]=0,r[h+d]=r[n+d];var m=s(0,0,r,c,e);return r[p+e]=-2,t[e]=-1,r[c+e]=0,m}(h,R,q,0,z,V,P,G,B,F,U,$),j=function(e,t,r,n,i,a,s,l,u,c,p){for(var h=0,f=0;f<e;f++){var d=r[n+f];if(0===d)r[i+f]=-2,h++,t[f]=-1,r[a+f]=0;else if(d>s)r[l+f]=0,r[i+f]=-1,h++,t[f]=(0,o.u)(e),r[l+e]++;else{var m=r[u+d];-1!==m&&(c[m]=f),r[p+f]=r[u+d],r[u+d]=f}}return h}(h,R,q,$,U,F,d,B,z,V,P),W=0;j<h;){for(v=-1;W<h&&-1===(v=q[z+W]);W++);-1!==q[P+v]&&(V[q[P+v]]=-1),q[z+W]=q[P+v];var X=q[U+v],Y=q[B+v];j+=Y;var Z=0;q[B+v]=-Y;var J=R[v],K=0===X?J:D,Q=K;for(x=1;x<=X+1;x++){for(x>X?(_=v,w=J,E=q[0+v]-X):(w=R[_=I[J++]],E=q[0+_]),b=1;b<=E;b++)(M=q[B+(g=I[w++])])<=0||(Z+=M,q[B+g]=-M,I[Q++]=g,-1!==q[P+g]&&(V[q[P+g]]=V[g]),-1!==V[g]?q[P+V[g]]=q[P+g]:q[z+q[$+g]]=q[P+g]);_!==v&&(R[_]=(0,o.u)(v),q[F+_]=0)}for(0!==X&&(D=Q),q[$+v]=Z,R[v]=K,q[0+v]=Q-K,q[U+v]=-2,H=s(H,f,q,F,h),S=K;S<Q;S++)if(!((N=q[U+(g=I[S])])<=0)){var ee=H-(M=-q[B+g]);for(J=R[g],k=R[g]+N-1;J<=k;J++)q[F+(_=I[J])]>=H?q[F+_]-=M:0!==q[F+_]&&(q[F+_]=q[$+_]+ee)}for(S=K;S<Q;S++){for(A=(k=R[g=I[S]])+q[U+g]-1,T=k,O=0,C=0,J=k;J<=A;J++)if(0!==q[F+(_=I[J])]){var te=q[F+_]-H;te>0?(C+=te,I[T++]=_,O+=_):(R[_]=(0,o.u)(v),q[F+_]=0)}q[U+g]=T-k+1;var re=T,ne=k+q[0+g];for(J=A+1;J<ne;J++){var ie=q[B+(y=I[J])];ie<=0||(C+=ie,I[T++]=y,O+=y)}0===C?(R[g]=(0,o.u)(v),Z-=M=-q[B+g],Y+=M,j+=M,q[B+g]=0,q[U+g]=-1):(q[$+g]=Math.min(q[$+g],C),I[T]=I[re],I[re]=I[k],I[k]=v,q[0+g]=T-k+1,O=(O<0?-O:O)%h,q[P+g]=q[G+O],q[G+O]=g,V[g]=O)}for(q[$+v]=Z,H=s(H+(f=Math.max(f,Z)),f,q,F,h),S=K;S<Q;S++)if(!(q[B+(g=I[S])]>=0))for(g=q[G+(O=V[g])],q[G+O]=-1;-1!==g&&-1!==q[P+g];g=q[P+g],H++){for(E=q[0+g],N=q[U+g],J=R[g]+1;J<=R[g]+E-1;J++)q[F+I[J]]=H;var oe=g;for(y=q[P+g];-1!==y;){var ae=q[0+y]===E&&q[U+y]===N;for(J=R[y]+1;ae&&J<=R[y]+E-1;J++)q[F+I[J]]!==H&&(ae=0);ae?(R[y]=(0,o.u)(g),q[B+g]+=q[B+y],q[B+y]=0,q[U+y]=-1,y=q[P+y],q[P+oe]=y):(oe=y,y=q[P+y])}}for(J=K,S=K;S<Q;S++)(M=-q[B+(g=I[S])])<=0||(q[B+g]=M,C=q[$+g]+Z-M,-1!==q[z+(C=Math.min(C,h-j-M))]&&(V[q[z+C]]=g),q[P+g]=q[z+C],V[g]=-1,q[z+C]=g,W=Math.min(W,C),q[$+g]=C,I[J++]=g);q[B+v]=Y,0==(q[0+v]=J-K)&&(R[v]=-1,q[F+v]=0),0!==X&&(D=J)}for(g=0;g<h;g++)R[g]=(0,o.u)(R[g]);for(y=0;y<=h;y++)q[z+y]=-1;for(y=h;y>=0;y--)q[B+y]>0||(q[P+y]=q[z+R[y]],q[z+R[y]]=y);for(_=h;_>=0;_--)q[B+_]<=0||-1!==R[_]&&(q[P+_]=q[z+R[_]],q[z+R[_]]=_);for(v=0,g=0;g<=h;g++)-1===R[g]&&(v=(0,a.T)(g,v,q,z,P,L,F));return L.splice(L.length-1,1),L};function s(e,t,r,n,i){if(e<2||e+t<0){for(var o=0;o<i;o++)0!==r[n+o]&&(r[n+o]=1);e=2}return e}function l(e,t){return e!==t}}))},18511:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(25864),i=r(67117),o=["transpose"],a=(0,n.d5)("csCounts",o,(e=>{var{transpose:t}=e;return function(e,r,n,o){if(!e||!r||!n)return null;var a,s,l,u,c,p,h,f=e._size,d=f[0],m=f[1],g=4*m+(o?m+d+1:0),y=[],v=m,x=2*m,b=3*m,_=4*m,w=5*m+1;for(l=0;l<g;l++)y[l]=-1;var E=[],M=t(e),S=M._index,N=M._ptr;for(l=0;l<m;l++)for(E[s=n[l]]=-1===y[b+s]?1:0;-1!==s&&-1===y[b+s];s=r[s])y[b+s]=l;if(o){for(l=0;l<m;l++)y[n[l]]=l;for(a=0;a<d;a++){for(l=m,p=N[a],h=N[a+1],c=p;c<h;c++)l=Math.min(l,y[S[c]]);y[w+a]=y[_+l],y[_+l]=a}}for(a=0;a<m;a++)y[0+a]=a;for(l=0;l<m;l++){for(-1!==r[s=n[l]]&&E[r[s]]--,u=o?y[_+l]:s;-1!==u;u=o?y[w+u]:-1)for(c=N[u];c<N[u+1];c++){a=S[c];var k=(0,i.P)(a,s,y,b,v,x,0);k.jleaf>=1&&E[s]++,2===k.jleaf&&E[k.q]--}-1!==r[s]&&(y[0+s]=r[s])}for(s=0;s<m;s++)-1!==r[s]&&(E[r[s]]+=E[s]);return E}}))},60635:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(25808),i=r(70044),o=r(3753);function a(e,t,r,a,s){var l,u,c,p=t._index,h=t._ptr,f=t._size[1],d=0;for(a[0]=e;d>=0;){e=a[d];var m=s?s[e]:e;(0,n.h)(h,e)||((0,i.t)(h,e),a[f+d]=m<0?0:(0,o.k)(h[m]));var g=1;for(u=a[f+d],c=m<0?0:(0,o.k)(h[m+1]);u<c;u++)if(l=p[u],!(0,n.h)(h,l)){a[f+d]=u,a[++d]=l,g=0;break}g&&(d--,a[--r]=e)}return r}},64313:(e,t,r)=>{"use strict";function n(e,t){if(!e)return null;var r,n,i=e._index,o=e._ptr,a=e._size,s=a[0],l=a[1],u=[],c=[],p=l;if(t)for(r=0;r<s;r++)c[p+r]=-1;for(var h=0;h<l;h++){u[h]=-1,c[0+h]=-1;for(var f=o[h],d=o[h+1],m=f;m<d;m++){var g=i[m];for(r=t?c[p+g]:g;-1!==r&&r<h;r=n)n=c[0+r],c[0+r]=h,-1===n&&(u[r]=h);t&&(c[p+g]=h)}}return u}r.d(t,{f:()=>n})},42796:(e,t,r)=>{"use strict";function n(e,t,r){for(var n=e._values,i=e._index,o=e._ptr,a=e._size[1],s=0,l=0;l<a;l++){var u=o[l];for(o[l]=s;u<o[l+1];u++)t(i[u],l,n?n[u]:1,r)&&(i[s]=i[u],n&&(n[s]=n[u]),s++)}return o[a]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s),s}r.d(t,{L:()=>n})},94350:(e,t,r)=>{"use strict";function n(e){return-e-2}r.d(t,{u:()=>n})},11597:(e,t,r)=>{"use strict";function n(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}r.d(t,{q:()=>n})},67117:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,a){var s,l,u,c=0;if(e<=t||r[n+t]<=r[i+e])return-1;r[i+e]=r[n+t];var p=r[o+e];if(r[o+e]=t,-1===p)c=1,u=e;else{for(c=2,u=p;u!==r[a+u];u=r[a+u]);for(s=p;s!==u;s=l)l=r[a+s],r[a+s]=u}return{jleaf:c,q:u}}r.d(t,{P:()=>n})},93740:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(25864),i=r(75232),o=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],a=(0,n.d5)("csLu",o,(e=>{var{abs:t,divideScalar:r,multiply:n,subtract:o,larger:a,largerEq:s,SparseMatrix:l}=e,u=(0,i.V)({divideScalar:r,multiply:n,subtract:o});return function(e,i,o){if(!e)return null;var c,p=e._size[1],h=100,f=100;i&&(c=i.q,h=i.lnz||h,f=i.unz||f);var d,m,g=[],y=[],v=[],x=new l({values:g,index:y,ptr:v,size:[p,p]}),b=[],_=[],w=[],E=new l({values:b,index:_,ptr:w,size:[p,p]}),M=[],S=[],N=[];for(d=0;d<p;d++)S[d]=0,M[d]=-1,v[d+1]=0;h=0,f=0;for(var k=0;k<p;k++){v[k]=h,w[k]=f;var A=c?c[k]:k,T=u(x,e,A,N,S,M,1),O=-1,C=-1;for(m=T;m<p;m++)if(M[d=N[m]]<0){var I=t(S[d]);a(I,C)&&(C=I,O=d)}else _[f]=M[d],b[f++]=S[d];if(-1===O||C<=0)return null;M[A]<0&&s(t(S[A]),n(C,o))&&(O=A);var R=S[O];for(_[f]=k,b[f++]=R,M[O]=k,y[h]=O,g[h++]=1,m=T;m<p;m++)M[d=N[m]]<0&&(y[h]=d,g[h++]=r(S[d],R)),S[d]=0}for(v[p]=h,w[p]=f,m=0;m<h;m++)y[m]=M[y[m]];return g.splice(h,g.length-h),y.splice(h,y.length-h),b.splice(f,b.length-f),_.splice(f,_.length-f),{L:x,U:E,pinv:M}}}))},70044:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(94350);function i(e,t){e[t]=(0,n.u)(e[t])}},25808:(e,t,r)=>{"use strict";function n(e,t){return e[t]<0}r.d(t,{h:()=>n})},89121:(e,t,r)=>{"use strict";function n(e,t,r,n){for(var i=e._values,o=e._index,a=e._ptr,s=e._size,l=e._datatype,u=s[0],c=s[1],p=n&&e._values?[]:null,h=[],f=[],d=0,m=0;m<c;m++){f[m]=d;for(var g=r?r[m]:m,y=a[g],v=a[g+1],x=y;x<v;x++){var b=t?t[o[x]]:o[x];h[d]=b,p&&(p[d]=i[x]),d++}}return f[c]=d,e.createSparseMatrix({values:p,index:h,ptr:f,size:[u,c],datatype:l})}r.d(t,{D:()=>n})},46470:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(57335);function i(e,t){if(!e)return null;var r,i=0,o=[],a=[],s=t,l=2*t;for(r=0;r<t;r++)a[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(a[s+r]=a[0+e[r]],a[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(i=(0,n.T)(r,i,a,0,s,o,l));return o}},62246:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(25808),i=r(70044),o=r(60635);function a(e,t,r,a,s){var l,u,c,p=e._ptr,h=e._size,f=t._index,d=t._ptr,m=h[1],g=m;for(u=d[r],c=d[r+1],l=u;l<c;l++){var y=f[l];(0,n.h)(p,y)||(g=(0,o.x)(y,e,g,a,s))}for(l=g;l<m;l++)(0,i.t)(p,a[l]);return g}},75232:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var n=r(62246),i=["divideScalar","multiply","subtract"],o=(0,r(25864).d5)("csSpsolve",i,(e=>{var{divideScalar:t,multiply:r,subtract:i}=e;return function(e,o,a,s,l,u,c){var p,h,f,d,m=e._values,g=e._index,y=e._ptr,v=e._size[1],x=o._values,b=o._index,_=o._ptr,w=(0,n.e)(e,o,a,s,u);for(p=w;p<v;p++)l[s[p]]=0;for(h=_[a],f=_[a+1],p=h;p<f;p++)l[b[p]]=x[p];for(var E=w;E<v;E++){var M=s[E],S=u?u[M]:M;if(!(S<0))for(h=y[S],f=y[S+1],l[M]=t(l[M],m[c?h:f-1]),p=c?h+1:h,d=c?f:f-1;p<d;p++){var N=g[p];l[N]=i(l[N],r(m[p],l[M]))}}return w}}))},60530:(e,t,r)=>{"use strict";r.d(t,{K:()=>u});var n=r(89121),i=r(46470),o=r(64313),a=r(39107),s=r(18511),l=["add","multiply","transpose"],u=(0,r(25864).d5)("csSqr",l,(e=>{var{add:t,multiply:r,transpose:l}=e,u=(0,a.I)({add:t,multiply:r,transpose:l}),c=(0,s.Y)({transpose:l});return function(e,t,r){var a,s=t._ptr,l=t._size[1],p={};if(p.q=u(e,t),e&&!p.q)return null;if(r){var h=e?(0,n.D)(t,null,p.q,0):t;p.parent=(0,o.f)(h,1);var f=(0,i.Z)(p.parent,l);if(p.cp=c(h,p.parent,f,1),h&&p.parent&&p.cp&&function(e,t){var r=e._ptr,n=e._index,i=e._size,o=i[0],a=i[1];t.pinv=[],t.leftmost=[];var s,l,u,c,p,h=t.parent,f=t.pinv,d=t.leftmost,m=[],g=0,y=o,v=o+a,x=o+2*a;for(l=0;l<a;l++)m[y+l]=-1,m[v+l]=-1,m[x+l]=0;for(s=0;s<o;s++)d[s]=-1;for(l=a-1;l>=0;l--)for(c=r[l],p=r[l+1],u=c;u<p;u++)d[n[u]]=l;for(s=o-1;s>=0;s--)f[s]=-1,-1!==(l=d[s])&&(0==m[x+l]++&&(m[v+l]=s),m[g+s]=m[y+l],m[y+l]=s);for(t.lnz=0,t.m2=o,l=0;l<a;l++)if(s=m[y+l],t.lnz++,s<0&&(s=t.m2++),f[s]=l,!(--x[l]<=0)){t.lnz+=m[x+l];var b=h[l];-1!==b&&(0===m[x+b]&&(m[v+b]=m[v+l]),m[g+m[v+l]]=m[y+b],m[y+b]=m[g+s],m[x+b]+=m[x+l])}for(s=0;s<o;s++)f[s]<0&&(f[s]=l++);return!0}(h,p))for(p.unz=0,a=0;a<l;a++)p.unz+=p.cp[a]}else p.unz=4*s[l]+l,p.lnz=p.unz;return p}}))},57335:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,a){var s=0;for(r[a]=e;s>=0;){var l=r[a+s],u=r[n+l];-1===u?(s--,o[t++]=l):(r[n+l]=r[i+u],r[a+ ++s]=u)}return t}r.d(t,{T:()=>n})},3753:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(94350);function i(e){return e<0?(0,n.u)(e):e}},47483:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(25864),i=r(41877),o=r(4232),a=["typed"],s=(0,n.d5)("abs",a,(e=>{var{typed:t}=e;return t("abs",{number:o.Q1,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.abs()}})}))},91645:(e,t,r)=>{"use strict";r.d(t,{e:()=>p});var n=r(25864),i=r(57139),o=r(43263),a=r(62603),s=r(39367),l=r(87901),u=r(91833),c=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],p=(0,n.d5)("add",c,(e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:c,DenseMatrix:p,SparseMatrix:h}=e,f=(0,o.A)({typed:t}),d=(0,a.H)({typed:t,equalScalar:c}),m=(0,s.q)({typed:t,DenseMatrix:p}),g=(0,l.x)({typed:t}),y=(0,u.X)({typed:t});return t("add",(0,i.l7)({"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,n)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,n,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,n,!0)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return y(e,t,n,!1)},"SparseMatrix, any":function(e,t){return m(e,t,n,!1)},"any, DenseMatrix":function(e,t){return y(t,e,n,!0)},"any, SparseMatrix":function(e,t){return m(t,e,n,!0)},"Array, any":function(e,t){return y(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return y(r(t),e,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}))},21294:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(25864),i=r(4232),o="addScalar",a=["typed"],s=(0,n.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{"number, number":i.Ft,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r}})}))},4820:(e,t,r)=>{"use strict";r.d(t,{S:()=>u});var n=r(25864),i=r(67242),o=r(41877),a=r(4232),s="cbrt",l=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],u=(0,n.d5)(s,l,(e=>{var{config:t,typed:r,isNegative:n,unaryMinus:l,matrix:u,Complex:c,BigNumber:p,Fraction:h}=e;return r(s,{number:a.ih,Complex:f,"Complex, boolean":f,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&(0,i.Mc)(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=f(e.value),t}var r,o=n(e.value);o&&(e.value=l(e.value)),r=(0,i.l9)(e.value)?new p(1).div(3):(0,i.yQ)(e.value)?new h(1,3):1/3;var a=e.pow(r);return o&&(a.value=l(a.value)),a},"Array | Matrix":function(e){return(0,o.Fh)(e,this,!0)}});function f(e,r){var n=e.arg()/3,i=e.abs(),o=new c((0,a.ih)(i),0).mul(new c(0,n).exp());if(r){var s=[o,new c((0,a.ih)(i),0).mul(new c(0,n+2*Math.PI/3).exp()),new c((0,a.ih)(i),0).mul(new c(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?s:u(s)}return o}}))},70550:(e,t,r)=>{"use strict";r.d(t,{l:()=>h});var n=r(81501),i=r(25864),o=r(41877),a=r(1341),s=r(67293),l=r(4232),u=r(81418),c=r(91833),p=["typed","config","round","matrix","equalScalar"],h=(0,i.d5)("ceil",p,(e=>{var{typed:t,config:r,round:i,matrix:p,equalScalar:h}=e,f=(0,u.n)({typed:t,equalScalar:h}),d=(0,c.X)({typed:t});return t("ceil",{number:function(e){return(0,a.RI)(e,i(e),r.epsilon)?i(e):(0,l.xx)(e)},"number, number":function(e,t){if((0,a.RI)(e,i(e,t),r.epsilon))return i(e,t);var[n,o]="".concat(e,"e").split("e"),s=Math.ceil(Number("".concat(n,"e").concat(Number(o)+t)));return[n,o]="".concat(s,"e").split("e"),Number("".concat(n,"e").concat(Number(o)-t))},Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},BigNumber:function(e){return(0,s.R)(e,i(e),r.epsilon)?i(e):e.ceil()},"BigNumber, BigNumber":function(e,t){return(0,s.R)(e,i(e,t),r.epsilon)?i(e,t):e.toDecimalPlaces(t.toNumber(),n.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Array | Matrix":function(e){return(0,o.Fh)(e,this,!0)},"Array | Matrix, number":function(e,t){return(0,o.Fh)(e,(e=>this(e,t)),!0)},"SparseMatrix, number | BigNumber":function(e,t){return f(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,this,!1)},"number | Complex | BigNumber, Array":function(e,t){return d(p(t),e,this,!0).valueOf()}})}))},61199:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="cube",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.Dv,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(3)}})}))},38468:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(25864),i=r(57139),o=r(81418),a=r(91833),s=["typed","matrix","multiply","equalScalar","divideScalar","inv"],l=(0,n.d5)("divide",s,(e=>{var{typed:t,matrix:r,multiply:n,equalScalar:s,divideScalar:l,inv:u}=e,c=(0,o.n)({typed:t,equalScalar:s}),p=(0,a.X)({typed:t});return t("divide",(0,i.l7)({"Array | Matrix, Array | Matrix":function(e,t){return n(e,u(t))},"DenseMatrix, any":function(e,t){return p(e,t,l,!1)},"SparseMatrix, any":function(e,t){return c(e,t,l,!1)},"Array, any":function(e,t){return p(r(e),t,l,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,u(t))}},l.signatures))}))},23030:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(25864),i=r(67242),o="divideScalar",a=["typed","numeric"],s=(0,n.d5)(o,a,(e=>{var{typed:t,numeric:r}=e;return t(o,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone(),o=r(1,(0,i.kM)(t));return n.value=this(null===n.value?n._normalize(o):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.clone();n=n.pow(-1);var o=r(1,(0,i.kM)(e));return n.value=this(e,null===t.value?t._normalize(o):t.value),n},"Unit, Unit":function(e,t){return e.divide(t)}})}))},66809:(e,t,r)=>{"use strict";r.d(t,{N:()=>f});var n=r(25864),i=r(47128),o=r(28466),a=r(45231),s=r(81418),l=r(61230),u=r(87901),c=r(91833),p="dotDivide",h=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],f=(0,n.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:n,divideScalar:h,DenseMatrix:f}=e,d=(0,i.h)({typed:t,equalScalar:n}),m=(0,o.O)({typed:t}),g=(0,a.r)({typed:t,DenseMatrix:f}),y=(0,s.n)({typed:t,equalScalar:n}),v=(0,l.R)({typed:t,DenseMatrix:f}),x=(0,u.x)({typed:t}),b=(0,c.X)({typed:t});return t(p,{"any, any":h,"SparseMatrix, SparseMatrix":function(e,t){return g(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return d(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return x(e,t,h)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return y(e,t,h,!1)},"DenseMatrix, any":function(e,t){return b(e,t,h,!1)},"any, SparseMatrix":function(e,t){return v(t,e,h,!0)},"any, DenseMatrix":function(e,t){return b(t,e,h,!0)},"Array, any":function(e,t){return b(r(e),t,h,!1).valueOf()},"any, Array":function(e,t){return b(r(t),e,h,!0).valueOf()}})}))},71578:(e,t,r)=>{"use strict";r.d(t,{C:()=>p});var n=r(25864),i=r(47128),o=r(97989),a=r(81418),s=r(87901),l=r(91833),u="dotMultiply",c=["typed","matrix","equalScalar","multiplyScalar"],p=(0,n.d5)(u,c,(e=>{var{typed:t,matrix:r,equalScalar:n,multiplyScalar:c}=e,p=(0,i.h)({typed:t,equalScalar:n}),h=(0,o.e)({typed:t,equalScalar:n}),f=(0,a.n)({typed:t,equalScalar:n}),d=(0,s.x)({typed:t}),m=(0,l.X)({typed:t});return t(u,{"any, any":c,"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,c,!1)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,c)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,c,!1)},"DenseMatrix, any":function(e,t){return m(e,t,c,!1)},"any, SparseMatrix":function(e,t){return f(t,e,c,!0)},"any, DenseMatrix":function(e,t){return m(t,e,c,!0)},"Array, any":function(e,t){return m(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,c,!0).valueOf()}})}))},74595:(e,t,r)=>{"use strict";r.d(t,{v:()=>h});var n=r(25864),i=r(28466),o=r(45231),a=r(81418),s=r(61230),l=r(87901),u=r(91833),c="dotPow",p=["typed","equalScalar","matrix","pow","DenseMatrix"],h=(0,n.d5)(c,p,(e=>{var{typed:t,equalScalar:r,matrix:n,pow:p,DenseMatrix:h}=e,f=(0,i.O)({typed:t}),d=(0,o.r)({typed:t,DenseMatrix:h}),m=(0,a.n)({typed:t,equalScalar:r}),g=(0,s.R)({typed:t,DenseMatrix:h}),y=(0,l.x)({typed:t}),v=(0,u.X)({typed:t});return t(c,{"any, any":p,"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,p,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return y(e,t,p)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return v(e,t,this,!1)},"any, SparseMatrix":function(e,t){return g(t,e,this,!0)},"any, DenseMatrix":function(e,t){return v(t,e,this,!0)},"Array, any":function(e,t){return v(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return v(n(t),e,this,!0).valueOf()}})}))},78972:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(25864),i=r(41877),o=r(4232),a=["typed"],s=(0,n.d5)("exp",a,(e=>{var{typed:t}=e;return t("exp",{number:o.qX,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},80167:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="expm1",s=["typed","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,Complex:r}=e;return t(a,{number:o.B,Complex:function(e){var t=Math.exp(e.re);return new r(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},54749:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(25864),i=r(41877),o=r(91833),a=["typed","Complex","matrix","ceil","floor"],s=(0,n.d5)("fix",a,(e=>{var{typed:t,Complex:r,matrix:n,ceil:a,floor:s}=e,l=(0,o.X)({typed:t});return t("fix",{number:function(e){return e>0?s(e):a(e)},"number, number | BigNumber":function(e,t){return e>0?s(e,t):a(e,t)},Complex:function(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number | BigNumber":function(e,t){return new r(e.re>0?s(e.re,t):a(e.re,t),e.im>0?s(e.im,t):a(e.im,t))},BigNumber:function(e){return e.isNegative()?a(e):s(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?a(e,t):s(e,t)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0?e.ceil(t):e.floor(t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},"Array | Matrix, number | BigNumber":function(e,t){return(0,i.Fh)(e,(e=>this(e,t)),!0)},"number | Complex | BigNumber, Array":function(e,t){return l(n(t),e,this,!0).valueOf()}})}))},50911:(e,t,r)=>{"use strict";r.d(t,{B:()=>p});var n=r(81501),i=r(25864),o=r(41877),a=r(1341),s=r(67293),l=r(81418),u=r(91833),c=["typed","config","round","matrix","equalScalar"],p=(0,i.d5)("floor",c,(e=>{var{typed:t,config:r,round:i,matrix:c,equalScalar:p}=e,h=(0,l.n)({typed:t,equalScalar:p}),f=(0,u.X)({typed:t});return t("floor",{number:function(e){return(0,a.RI)(e,i(e),r.epsilon)?i(e):Math.floor(e)},"number, number":function(e,t){if((0,a.RI)(e,i(e,t),r.epsilon))return i(e,t);var[n,o]="".concat(e,"e").split("e"),s=Math.floor(Number("".concat(n,"e").concat(Number(o)+t)));return[n,o]="".concat(s,"e").split("e"),Number("".concat(n,"e").concat(Number(o)-t))},Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},BigNumber:function(e){return(0,s.R)(e,i(e),r.epsilon)?i(e):e.floor()},"BigNumber, BigNumber":function(e,t){return(0,s.R)(e,i(e,t),r.epsilon)?i(e,t):e.toDecimalPlaces(t.toNumber(),n.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Array | Matrix":function(e){return(0,o.Fh)(e,this,!0)},"Array | Matrix, number":function(e,t){return(0,o.Fh)(e,(e=>this(e,t)),!0)},"SparseMatrix, number | BigNumber":function(e,t){return h(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return f(e,t,this,!1)},"number | Complex | BigNumber, Array":function(e,t){return f(c(t),e,this,!0).valueOf()}})}))},54685:(e,t,r)=>{"use strict";r.d(t,{f:()=>p});var n=r(25864),i=r(43263),o=r(62603),a=r(39367),s=r(87901),l=r(91833),u=r(4232),c=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],p=(0,n.d5)("gcd",c,(e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:c,DenseMatrix:p}=e,h=(0,i.A)({typed:t}),f=(0,o.H)({typed:t,equalScalar:n}),d=(0,a.q)({typed:t,DenseMatrix:p}),m=(0,s.x)({typed:t}),g=(0,l.X)({typed:t});return t("gcd",{"number, number":u.Vk,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var r=new c(0);for(;!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return d(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return d(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return g(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return g(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return g(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}})}))},22716:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(25864),i=r(95001),o="hypot",a=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],s=(0,n.d5)(o,a,(e=>{var{typed:t,abs:r,addScalar:n,divideScalar:a,multiplyScalar:s,sqrt:l,smaller:u,isPositive:c}=e;return t(o,{"... number | BigNumber":function(e){for(var t=0,i=0,o=0;o<e.length;o++){var p=r(e[o]);u(i,p)?(t=s(t,s(a(i,p),a(i,p))),t=n(t,1),i=p):t=n(t,c(p)?s(a(p,i),a(p,i)):p)}return s(i,l(t))},Array:function(e){return this.apply(this,(0,i.xH)(e))},Matrix:function(e){return this.apply(this,(0,i.xH)(e.toArray()))}})}))},19251:(e,t,r)=>{"use strict";r.d(t,{b:()=>p});var n=r(25864),i=r(47128),o=r(78151),a=r(81418),s=r(87901),l=r(91833),u=r(4232),c=["typed","matrix","equalScalar"],p=(0,n.d5)("lcm",c,(e=>{var{typed:t,matrix:r,equalScalar:n}=e,c=(0,i.h)({typed:t,equalScalar:n}),p=(0,o.Q)({typed:t,equalScalar:n}),h=(0,a.n)({typed:t,equalScalar:n}),f=(0,s.x)({typed:t}),d=(0,l.X)({typed:t});return t("lcm",{"number, number":u.K4,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var r=e.times(t);for(;!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return h(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return h(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return d(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return d(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}})}))},24444:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(25864),i=r(41877),o=r(4232),a=["config","typed","divideScalar","Complex"],s=(0,n.d5)("log",a,(e=>{var{typed:t,config:r,divideScalar:n,Complex:a}=e;return t("log",{number:function(e){return e>=0||r.predictable?(0,o.OS)(e):new a(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.ln():new a(e.toNumber(),0).log()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},"any, any":function(e,t){return n(this(e),this(t))}})}))},17317:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="log10",s=["typed","config","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n}=e;return t(a,{number:function(e){return e>=0||r.predictable?(0,o.vU)(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||r.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},36286:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(25864),i=r(41877),o=r(1341),a="log1p",s=["typed","config","divideScalar","log","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,divideScalar:n,log:s,Complex:l}=e;return t(a,{number:function(e){return e>=-1||r.predictable?(0,o.Kr)(e):u(new l(e,0))},Complex:u,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||r.predictable?t.ln():u(new l(e.toNumber(),0))},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},"any, any":function(e,t){return n(this(e),s(t))}});function u(e){var t=e.re+1;return new l(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}}))},10868:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="log2",s=["typed","config","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n}=e;return t(a,{number:function(e){return e>=0||r.predictable?(0,o.iO)(e):s(new n(e,0))},Complex:s,BigNumber:function(e){return!e.isNegative()||r.predictable?e.log(2):s(new n(e.toNumber(),0))},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}});function s(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}))},20057:(e,t,r)=>{"use strict";r.d(t,{J:()=>f});var n=r(25864),i=r(47128),o=r(28466),a=r(68283),s=r(81418),l=r(61230),u=r(87901),c=r(91833),p=r(4232),h=["typed","matrix","equalScalar","DenseMatrix"],f=(0,n.d5)("mod",h,(e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:h}=e,f=(0,i.h)({typed:t,equalScalar:n}),d=(0,o.O)({typed:t}),m=(0,a.p)({typed:t,equalScalar:n}),g=(0,s.n)({typed:t,equalScalar:n}),y=(0,l.R)({typed:t,DenseMatrix:h}),v=(0,u.x)({typed:t}),x=(0,c.X)({typed:t});return t("mod",{"number, number":p.nz,"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return m(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return d(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return v(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return g(e,t,this,!1)},"DenseMatrix, any":function(e,t){return x(e,t,this,!1)},"any, SparseMatrix":function(e,t){return y(t,e,this,!0)},"any, DenseMatrix":function(e,t){return x(t,e,this,!0)},"Array, any":function(e,t){return x(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return x(r(t),e,this,!0).valueOf()}})}))},38839:(e,t,r)=>{"use strict";r.d(t,{o:()=>p});var n=r(25864),i=r(67242),o=r(57139),a=r(95001),s=r(81418),l=r(91833),u="multiply",c=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],p=(0,n.d5)(u,c,(e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:c,equalScalar:p,dot:h}=e,f=(0,s.n)({typed:t,equalScalar:p}),d=(0,l.X)({typed:t});function m(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function g(e,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,r){var i,o=e._data,a=e._size,s=e._datatype,l=r._data,u=r._size,p=r._datatype,h=a[0],f=u[1],d=n,m=c;s&&p&&s===p&&"string"==typeof s&&(i=s,d=t.find(n,[i,i]),m=t.find(c,[i,i]));for(var g=[],y=0;y<f;y++){for(var v=m(o[0],l[0][y]),x=1;x<h;x++)v=d(v,m(o[x],l[x][y]));g[y]=v}return e.createDenseMatrix({data:g,size:[f],datatype:i})}(e,r)}var y=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,r){var i,o=e._data,a=e._size,s=e._datatype,l=r._data,u=r._datatype,p=a[0],h=a[1],f=n,d=c;s&&u&&s===u&&"string"==typeof s&&(i=s,f=t.find(n,[i,i]),d=t.find(c,[i,i]));for(var m=[],g=0;g<p;g++){for(var y=o[g],v=d(y[0],l[0]),x=1;x<h;x++)v=f(v,d(y[x],l[x]));m[g]=v}return e.createDenseMatrix({data:m,size:[p],datatype:i})},"SparseMatrix, any":function(e,r){var i=e._values,o=e._index,a=e._ptr,s=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,u=r._data,h=r._datatype,f=e._size[0],d=r._size[0],m=[],g=[],y=[],v=n,x=c,b=p,_=0;s&&h&&s===h&&"string"==typeof s&&(l=s,v=t.find(n,[l,l]),x=t.find(c,[l,l]),b=t.find(p,[l,l]),_=t.convert(0,l));var w=[],E=[];y[0]=0;for(var M=0;M<d;M++){var S=u[M];if(!b(S,_))for(var N=a[M],k=a[M+1],A=N;A<k;A++){var T=o[A];E[T]?w[T]=v(w[T],x(S,i[A])):(E[T]=!0,g.push(T),w[T]=x(S,i[A]))}}for(var O=g.length,C=0;C<O;C++){var I=g[C];m[C]=w[I]}return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[f,1],datatype:l})}}),v=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,r){var i,o=e._data,a=e._size,s=e._datatype,l=r._data,u=r._size,p=r._datatype,h=a[0],f=a[1],d=u[1],m=n,g=c;s&&p&&s===p&&"string"==typeof s&&(i=s,m=t.find(n,[i,i]),g=t.find(c,[i,i]));for(var y=[],v=0;v<h;v++){var x=o[v];y[v]=[];for(var b=0;b<d;b++){for(var _=g(x[0],l[0][b]),w=1;w<f;w++)_=m(_,g(x[w],l[w][b]));y[v][b]=_}}return e.createDenseMatrix({data:y,size:[h,d],datatype:i})},"DenseMatrix, SparseMatrix":function(e,r){var i=e._data,o=e._size,a=e._datatype,s=r._values,l=r._index,u=r._ptr,h=r._size,f=r._datatype;if(!s)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],g=h[1],y=n,v=c,x=p,b=0;a&&f&&a===f&&"string"==typeof a&&(d=a,y=t.find(n,[d,d]),v=t.find(c,[d,d]),x=t.find(p,[d,d]),b=t.convert(0,d));for(var _=[],w=[],E=[],M=r.createSparseMatrix({values:_,index:w,ptr:E,size:[m,g],datatype:d}),S=0;S<g;S++){E[S]=w.length;var N=u[S],k=u[S+1];if(k>N)for(var A=0,T=0;T<m;T++){for(var O=T+1,C=void 0,I=N;I<k;I++){var R=l[I];A!==O?(C=v(i[T][R],s[I]),A=O):C=y(C,v(i[T][R],s[I]))}A!==O||x(C,b)||(w.push(T),_.push(C))}}return E[g]=w.length,M},"SparseMatrix, DenseMatrix":function(e,r){var i=e._values,o=e._index,a=e._ptr,s=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,u=r._data,h=r._datatype,f=e._size[0],d=r._size[0],m=r._size[1],g=n,y=c,v=p,x=0;s&&h&&s===h&&"string"==typeof s&&(l=s,g=t.find(n,[l,l]),y=t.find(c,[l,l]),v=t.find(p,[l,l]),x=t.convert(0,l));for(var b=[],_=[],w=[],E=e.createSparseMatrix({values:b,index:_,ptr:w,size:[f,m],datatype:l}),M=[],S=[],N=0;N<m;N++){w[N]=_.length;for(var k=N+1,A=0;A<d;A++){var T=u[A][N];if(!v(T,x))for(var O=a[A],C=a[A+1],I=O;I<C;I++){var R=o[I];S[R]!==k?(S[R]=k,_.push(R),M[R]=y(T,i[I])):M[R]=g(M[R],y(T,i[I]))}}for(var D=w[N],L=_.length,q=D;q<L;q++){var B=_[q];b[q]=M[B]}}return w[m]=_.length,E},"SparseMatrix, SparseMatrix":function(e,r){var i,o=e._values,a=e._index,s=e._ptr,l=e._datatype,u=r._values,p=r._index,h=r._ptr,f=r._datatype,d=e._size[0],m=r._size[1],g=o&&u,y=n,v=c;l&&f&&l===f&&"string"==typeof l&&(i=l,y=t.find(n,[i,i]),v=t.find(c,[i,i]));for(var x,b,_,w,E,M,S,N,k=g?[]:void 0,A=[],T=[],O=e.createSparseMatrix({values:k,index:A,ptr:T,size:[d,m],datatype:i}),C=g?[]:void 0,I=[],R=0;R<m;R++){T[R]=A.length;var D=R+1;for(E=h[R],M=h[R+1],w=E;w<M;w++)if(N=p[w],g)for(b=s[N],_=s[N+1],x=b;x<_;x++)S=a[x],I[S]!==D?(I[S]=D,A.push(S),C[S]=v(u[w],o[x])):C[S]=y(C[S],v(u[w],o[x]));else for(b=s[N],_=s[N+1],x=b;x<_;x++)S=a[x],I[S]!==D&&(I[S]=D,A.push(S));if(g)for(var L=T[R],q=A.length,B=L;B<q;B++){var P=A[B];k[B]=C[P]}}return T[m]=A.length,O}});return t(u,(0,o.l7)({"Array, Array":function(e,t){m((0,a.aJ)(e),(0,a.aJ)(t));var n=this(r(e),r(t));return(0,i.SW)(n)?n.valueOf():n},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return m(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return h(e,t)}(e,t,r[0]):g(e,t):1===n.length?y(e,t):v(e,t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Array, Matrix":function(e,t){return this(r(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return f(e,t,c,!1)},"DenseMatrix, any":function(e,t){return d(e,t,c,!1)},"any, SparseMatrix":function(e,t){return f(t,e,c,!0)},"any, DenseMatrix":function(e,t){return d(t,e,c,!0)},"Array, any":function(e,t){return d(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},c.signatures))}))},93026:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(25864),i=r(4232),o=["typed"],a=(0,n.d5)("multiplyScalar",o,(e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":i.G6,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}})}))},68587:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(25864),i="norm",o=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],a=(0,n.d5)(i,o,(e=>{var{typed:t,abs:r,add:n,pow:o,conj:a,sqrt:s,multiply:l,equalScalar:u,larger:c,smaller:p,matrix:h,ctranspose:f,eigs:d}=e;return t(i,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return y(h(e),2)},Matrix:function(e){return y(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return this(e)},"Array, number | BigNumber | string":function(e,t){return y(h(e),t)},"Matrix, number | BigNumber | string":function(e,t){return y(e,t)}});function m(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach((function(e){var n=r(e);c(n,t)&&(t=n)}),!0),t}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach((function(e){var n=r(e);t&&!p(n,t)||(t=n)}),!0),t||0}(e);if("fro"===t)return y(e,2);if("number"==typeof t&&!isNaN(t)){if(!u(t,0)){var i=0;return e.forEach((function(e){i=n(o(r(e),t),i)}),!0),o(i,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function g(e,t){if(1===t)return function(e){var t=[],i=0;return e.forEach((function(e,o){var a=o[1],s=n(t[a]||0,r(e));c(s,i)&&(i=s),t[a]=s}),!0),i}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],i=0;return e.forEach((function(e,o){var a=o[0],s=n(t[a]||0,r(e));c(s,i)&&(i=s),t[a]=s}),!0),i}(e);if("fro"===t)return function(e){var t=0;return e.forEach((function(e,r){t=n(t,l(e,a(e)))})),r(s(t))}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var n=f(e),i=l(n,e),o=d(i).values,a=o.get([o.size()[0]-1]);return r(s(a))}(e);throw new Error("Unsupported parameter value "+t)}function y(e,t){var r=e.size();if(1===r.length)return m(e,t);if(2===r.length){if(r[0]&&r[1])return g(e,t);throw new RangeError("Invalid matrix dimensions")}}}))},9272:(e,t,r)=>{"use strict";r.d(t,{l:()=>f});var n=r(25864),i=r(43263),o=r(47128),a=r(78151),s=r(81418),l=r(87901),u=r(91833),c=r(4232),p="nthRoot",h=["typed","matrix","equalScalar","BigNumber"],f=(0,n.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:h}=e,f=(0,i.A)({typed:t}),d=(0,o.h)({typed:t,equalScalar:n}),m=(0,a.Q)({typed:t,equalScalar:n}),g=(0,s.n)({typed:t,equalScalar:n}),y=(0,l.x)({typed:t}),v=(0,u.X)({typed:t}),x="Complex number not supported in function nthRoot. Use nthRoots instead.";return t(p,{number:function(e){return(0,c.YS)(e,2)},"number, number":c.YS,BigNumber:function(e){return b(e,new h(2))},Complex:function(e){throw new Error(x)},"Complex, number":function(e,t){throw new Error(x)},"BigNumber, BigNumber":b,"Array | Matrix":function(e){return this(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return m(e,t,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return d(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return f(e,t,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return y(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return v(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return g(t,e,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return v(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}});function b(e,t){var r=h.precision,n=h.clone({precision:r+2}),i=new h(0),o=new n(1),a=t.isNegative();if(a&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return a?new n(1/0):0;if(!e.isFinite())return a?i:e;var s=e.abs().pow(o.div(t));return s=e.isNeg()?s.neg():s,new h((a?o.div(s):s).toPrecision(r))}}))},21052:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var n=r(25864),i="nthRoots",o=["config","typed","divideScalar","Complex"],a=(0,n.d5)(i,o,(e=>{var{typed:t,config:r,divideScalar:n,Complex:o}=e,a=[function(e){return new o(e,0)},function(e){return new o(0,e)},function(e){return new o(-e,0)},function(e){return new o(0,-e)}];function s(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new o(0,0)];var r,n="number"==typeof e;(n||0===e.re||0===e.im)&&(r=n?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var i=e.arg(),s=e.abs(),l=[],u=Math.pow(s,1/t),c=0;c<t;c++){var p=(r+4*c)/t;p!==Math.round(p)?l.push(new o({r:u,phi:(i+2*Math.PI*c)/t})):l.push(a[p%4](u))}return l}return t(i,{Complex:function(e){return s(e,2)},"Complex, number":s})}))},12136:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(25864),i=r(1341),o=r(95001),a=r(4232),s=["typed","config","identity","multiply","matrix","fraction","number","Complex"],l=(0,n.d5)("pow",s,(e=>{var{typed:t,config:r,identity:n,multiply:s,matrix:l,number:u,fraction:c,Complex:p}=e;return t("pow",{"number, number":h,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new p(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return h(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(e,t){return d(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function h(e,t){if(r.predictable&&!(0,i.U)(t)&&e<0)try{var n=c(t),o=u(n);if((t===o||Math.abs((t-o)/t)<1e-14)&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-e,t)}catch(s){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:(0,i.U)(t)||e>=0||r.predictable?(0,a.Ue)(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new p(e,0).pow(t,0)}function f(e,t){if(!(0,i.U)(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=(0,o.aJ)(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var a=n(r[0]).valueOf(),l=e;t>=1;)1==(1&t)&&(a=s(l,a)),t>>=1,l=s(l,l);return a}function d(e,t){return l(f(e.valueOf(),t))}}))},87293:(e,t,r)=>{"use strict";r.d(t,{V:()=>g});var n=r(25864),i=r(41877),o=r(1341),a=r(81418),s=r(61230),l=r(91833),u=r(4232);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f="Number of decimals in function round must be an integer",d="round",m=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],g=(0,n.d5)(d,m,(e=>{var{typed:t,matrix:r,equalScalar:n,zeros:o,BigNumber:u,DenseMatrix:c}=e,h=(0,a.n)({typed:t,equalScalar:n}),m=(0,s.R)({typed:t,DenseMatrix:c}),g=(0,l.X)({typed:t});return t(d,p(p({},y),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(f);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);return new u(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(f);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(f);return e.round(t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},"SparseMatrix, number | BigNumber":function(e,t){return h(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return g(e,t,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return n(e,0)?o(t.size(),t.storage()):m(t,e,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return n(e,0)?o(t.size(),t.storage()):g(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return g(r(e),t,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return g(r(t),e,this,!0).valueOf()}}))})),y={number:u.QV,"number, number":function(e,t){if(!(0,o.U)(t))throw new TypeError(f);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return(0,u.QV)(e,t)}}},44539:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="sign",s=["typed","BigNumber","Fraction","complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r,complex:n,Fraction:s}=e;return t(a,{number:o.$y,Complex:function(e){return 0===e.im?n((0,o.$y)(e.re)):e.sign()},BigNumber:function(e){return new r(e.cmp(0))},Fraction:function(e){return new s(e.s,1)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return this(e.value)}})}))},87761:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(25864),i=r(41877),o=["config","typed","Complex"],a=(0,n.d5)("sqrt",o,(e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:o,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():o(e.toNumber())},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(.5)}});function o(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}}))},31709:(e,t,r)=>{"use strict";r.d(t,{y:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="square",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o._$,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},Unit:function(e){return e.pow(2)}})}))},47952:(e,t,r)=>{"use strict";r.d(t,{p:()=>f});var n=r(25864),i=r(24486),o=r(43263),a=r(28466),s=r(68283),l=r(39367),u=r(87901),c=r(91833),p="subtract",h=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],f=(0,n.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:n,addScalar:i,unaryMinus:h,DenseMatrix:f}=e,m=(0,o.A)({typed:t}),g=(0,a.O)({typed:t}),y=(0,s.p)({typed:t,equalScalar:n}),v=(0,l.q)({typed:t,DenseMatrix:f}),x=(0,u.x)({typed:t}),b=(0,c.X)({typed:t});return t(p,{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t),y(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return d(e,t),g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return d(e,t),m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t),x(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return v(e,h(t),i)},"DenseMatrix, any":function(e,t){return b(e,t,this)},"any, SparseMatrix":function(e,t){return v(t,e,this,!0)},"any, DenseMatrix":function(e,t){return b(t,e,this,!0)},"Array, any":function(e,t){return b(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return b(r(t),e,this,!0).valueOf()}})}));function d(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new i.m(r.length,n.length)}},53516:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="unaryMinus",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.GC,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},20674:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(25864),i=r(41877),o=r(4232),a="unaryPlus",s=["typed","config","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,BigNumber:n}=e;return t(a,{number:o.iU,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)},"boolean | string":function(e){return"BigNumber"===r.number?new n(+e):+e}})}))},75014:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(25864),i=r(4232),o="xgcd",a=["typed","config","matrix","BigNumber"],s=(0,n.d5)(o,a,(e=>{var{typed:t,config:r,matrix:n,BigNumber:a}=e;return t(o,{"number, number":function(e,t){var o=(0,i.y9)(e,t);return"Array"===r.matrix?o:n(o)},"BigNumber, BigNumber":function(e,t){var i,o,s,l,u=new a(0),c=new a(1),p=u,h=c,f=c,d=u;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),i=p,p=h.minus(o.times(p)),h=i,i=f,f=d.minus(o.times(f)),d=i,e=t,t=s;l=e.lt(u)?[e.neg(),h.neg(),d.neg()]:[e,e.isZero()?0:h,d];return"Array"===r.matrix?l:n(l)}})}))},35614:(e,t,r)=>{"use strict";r.d(t,{i:()=>f});var n=r(57644),i=r(47128),o=r(81418),a=r(87901),s=r(91833),l=r(78151),u=r(25864),c=r(96373),p="bitAnd",h=["typed","matrix","equalScalar"],f=(0,u.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:u}=e,h=(0,i.h)({typed:t,equalScalar:u}),f=(0,l.Q)({typed:t,equalScalar:u}),d=(0,o.n)({typed:t,equalScalar:u}),m=(0,a.x)({typed:t}),g=(0,s.X)({typed:t});return t(p,{"number, number":c.qC,"BigNumber, BigNumber":n.hi,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return g(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return g(t,e,this,!0)},"Array, any":function(e,t){return g(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return g(r(t),e,this,!0).valueOf()}})}))},42174:(e,t,r)=>{"use strict";r.d(t,{e:()=>u});var n=r(57644),i=r(41877),o=r(25864),a=r(96373),s="bitNot",l=["typed"],u=(0,o.d5)(s,l,(e=>{var{typed:t}=e;return t(s,{number:a.NA,BigNumber:n.Xc,"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},87673:(e,t,r)=>{"use strict";r.d(t,{j:()=>f});var n=r(57644),i=r(25864),o=r(91833),a=r(87901),s=r(39367),l=r(62603),u=r(43263),c=r(96373),p="bitOr",h=["typed","matrix","equalScalar","DenseMatrix"],f=(0,i.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:i,DenseMatrix:h}=e,f=(0,u.A)({typed:t}),d=(0,l.H)({typed:t,equalScalar:i}),m=(0,s.q)({typed:t,DenseMatrix:h}),g=(0,a.x)({typed:t}),y=(0,o.X)({typed:t});return t(p,{"number, number":c.LE,"BigNumber, BigNumber":n.Vq,"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(r(t),e,this,!0).valueOf()}})}))},50265:(e,t,r)=>{"use strict";r.d(t,{g:()=>f});var n=r(57644),i=r(28466),o=r(45231),a=r(61230),s=r(87901),l=r(91833),u=r(25864),c=r(96373),p="bitXor",h=["typed","matrix","DenseMatrix"],f=(0,u.d5)(p,h,(e=>{var{typed:t,matrix:r,DenseMatrix:u}=e,h=(0,i.O)({typed:t}),f=(0,o.r)({typed:t,DenseMatrix:u}),d=(0,a.R)({typed:t,DenseMatrix:u}),m=(0,s.x)({typed:t}),g=(0,l.X)({typed:t});return t(p,{"number, number":c.xS,"BigNumber, BigNumber":n.nN,"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return g(e,t,this,!1)},"any, SparseMatrix":function(e,t){return d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return g(t,e,this,!0)},"Array, any":function(e,t){return g(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return g(r(t),e,this,!0).valueOf()}})}))},22136:(e,t,r)=>{"use strict";r.d(t,{U:()=>m});var n=r(47128),i=r(81418),o=r(87901),a=r(91833),s=r(43263),l=r(39367),u=r(86041),c=r(25864),p=r(96373),h=r(57644),f="leftShift",d=["typed","matrix","equalScalar","zeros","DenseMatrix"],m=(0,c.d5)(f,d,(e=>{var{typed:t,matrix:r,equalScalar:c,zeros:d,DenseMatrix:m}=e,g=(0,s.A)({typed:t}),y=(0,n.h)({typed:t,equalScalar:c}),v=(0,u.C)({typed:t,equalScalar:c}),x=(0,l.q)({typed:t,DenseMatrix:m}),b=(0,i.n)({typed:t,equalScalar:c}),_=(0,o.x)({typed:t}),w=(0,a.X)({typed:t});return t(f,{"number, number":p.ZG,"BigNumber, BigNumber":h.Mw,"SparseMatrix, SparseMatrix":function(e,t){return v(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return y(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return _(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():b(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():w(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(e,0)?d(t.size(),t.storage()):x(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(e,0)?d(t.size(),t.storage()):w(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},11568:(e,t,r)=>{"use strict";r.d(t,{o:()=>m});var n=r(57644),i=r(47128),o=r(81418),a=r(87901),s=r(91833),l=r(43263),u=r(39367),c=r(86041),p=r(25864),h=r(96373),f="rightArithShift",d=["typed","matrix","equalScalar","zeros","DenseMatrix"],m=(0,p.d5)(f,d,(e=>{var{typed:t,matrix:r,equalScalar:p,zeros:d,DenseMatrix:m}=e,g=(0,l.A)({typed:t}),y=(0,i.h)({typed:t,equalScalar:p}),v=(0,c.C)({typed:t,equalScalar:p}),x=(0,u.q)({typed:t,DenseMatrix:m}),b=(0,o.n)({typed:t,equalScalar:p}),_=(0,a.x)({typed:t}),w=(0,s.X)({typed:t});return t(f,{"number, number":h.Lz,"BigNumber, BigNumber":n.ti,"SparseMatrix, SparseMatrix":function(e,t){return v(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return y(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return _(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return p(t,0)?e.clone():b(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return p(t,0)?e.clone():w(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return p(e,0)?d(t.size(),t.storage()):x(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return p(e,0)?d(t.size(),t.storage()):w(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},95890:(e,t,r)=>{"use strict";r.d(t,{M:()=>d});var n=r(47128),i=r(81418),o=r(87901),a=r(91833),s=r(43263),l=r(39367),u=r(86041),c=r(25864),p=r(96373),h="rightLogShift",f=["typed","matrix","equalScalar","zeros","DenseMatrix"],d=(0,c.d5)(h,f,(e=>{var{typed:t,matrix:r,equalScalar:c,zeros:f,DenseMatrix:d}=e,m=(0,s.A)({typed:t}),g=(0,n.h)({typed:t,equalScalar:c}),y=(0,u.C)({typed:t,equalScalar:c}),v=(0,l.q)({typed:t,DenseMatrix:d}),x=(0,i.n)({typed:t,equalScalar:c}),b=(0,o.x)({typed:t}),_=(0,a.X)({typed:t});return t(h,{"number, number":p.ji,"SparseMatrix, SparseMatrix":function(e,t){return y(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return b(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():x(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(t,0)?e.clone():_(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):v(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(e,0)?f(t.size(),t.storage()):_(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},44309:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(25864),i="bellNumbers",o=["typed","addScalar","isNegative","isInteger","stirlingS2"],a=(0,n.d5)(i,o,(e=>{var{typed:t,addScalar:r,isNegative:n,isInteger:o,stirlingS2:a}=e;return t(i,{"number | BigNumber":function(e){if(!o(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,i=0;i<=e;i++)t=r(t,a(e,i));return t}})}))},89534:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var n=r(25864),i="catalan",o=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],a=(0,n.d5)(i,o,(e=>{var{typed:t,addScalar:r,divideScalar:n,multiplyScalar:o,combinations:a,isNegative:s,isInteger:l}=e;return t(i,{"number | BigNumber":function(e){if(!l(e)||s(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(o(e,2),e),r(e,1))}})}))},46100:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(25864),i="composition",o=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],a=(0,n.d5)(i,o,(e=>{var{typed:t,addScalar:r,combinations:n,isPositive:o,isNegative:a,isInteger:s,larger:l}=e;return t(i,{"number | BigNumber, number | BigNumber":function(e,t){if(!(s(e)&&o(e)&&s(t)&&o(t)))throw new TypeError("Positive integer value expected in function composition");if(l(t,e))throw new TypeError("k must be less than or equal to n in function composition");return n(r(e,-1),r(t,-1))}})}))},1191:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(25864),i="stirlingS2",o=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],a=(0,n.d5)(i,o,(e=>{var{typed:t,addScalar:r,subtract:n,multiplyScalar:o,divideScalar:a,pow:s,factorial:l,combinations:u,isNegative:c,isInteger:p,larger:h}=e;return t(i,{"number | BigNumber, number | BigNumber":function(e,t){if(!p(e)||c(e)||!p(t)||c(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var i=l(t),f=0,d=0;d<=t;d++){var m=s(-1,n(t,d)),g=u(t,d),y=s(d,e);f=r(f,o(o(g,y),m))}return a(f,i)}})}))},40825:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("arg",o,(e=>{var{typed:t}=e;return t("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},35643:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(25864),i=r(41877),o="conj",a=["typed"],s=(0,n.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},24230:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("im",o,(e=>{var{typed:t}=e;return t("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},34355:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("re",o,(e=>{var{typed:t}=e;return t("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},29130:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(67242),i=r(25864),o="distance",a=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],s=(0,i.d5)(o,a,(e=>{var{typed:t,addScalar:r,subtract:i,multiplyScalar:a,divideScalar:s,unaryMinus:l,sqrt:u,abs:c}=e;return t(o,{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!h(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!h(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=s(i(r[1],r[0]),i(t[1],t[0])),o=a(a(n,n),t[0]),u=l(a(n,t[0])),c=e[1];return y(e[0],e[1],o,u,c)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!h(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!h(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in r&&"lineTwoPtY"in r){var n=s(i(r.lineTwoPtY,r.lineTwoPtX),i(t.lineOnePtY,t.lineOnePtX)),o=a(a(n,n),t.lineOnePtX),u=l(a(n,t.lineOnePtX)),c=e.pointX;return y(e.pointX,e.pointY,o,u,c)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!h(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!f(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!d(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return x(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return y(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return v(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!h(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return x([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return x([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&p(e[0][0])&&p(e[0][1])){if(e.some((e=>2!==e.length||!p(e[0])||!p(e[1]))))return!1}else{if(!(3===e[0].length&&p(e[0][0])&&p(e[0][1])&&p(e[0][2])))return!1;if(e.some((e=>3!==e.length||!p(e[0])||!p(e[1])||!p(e[2]))))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=[],n=[],i=0;i<e.length-1;i++)for(var o=i+1;o<e.length;o++)2===e[0].length?(r=[e[i][0],e[i][1]],n=[e[o][0],e[o][1]]):3===e[0].length&&(r=[e[i][0],e[i][1],e[i][2]],n=[e[o][0],e[o][1],e[o][2]]),t.push(x(r,n));return t}(e)}});function p(e){return"number"==typeof e||(0,n.l9)(e)}function h(e){return e.constructor!==Array&&(e=g(e)),p(e[0])&&p(e[1])}function f(e){return e.constructor!==Array&&(e=g(e)),p(e[0])&&p(e[1])&&p(e[2])}function d(e){return Array.isArray(e)||(e=g(e)),e.every(p)}function m(e){return e.constructor!==Array&&(e=g(e)),p(e[0])&&p(e[1])&&p(e[2])&&p(e[3])&&p(e[4])&&p(e[5])}function g(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function y(e,t,n,i,o){var l=c(r(r(a(n,e),a(i,t)),o)),p=u(r(a(n,n),a(i,i)));return s(l,p)}function v(e,t,n,o,l,c,p,h,f){var d=[i(a(i(l,t),f),a(i(c,n),h)),i(a(i(c,n),p),a(i(o,e),f)),i(a(i(o,e),h),a(i(l,t),p))];d=u(r(r(a(d[0],d[0]),a(d[1],d[1])),a(d[2],d[2])));var m=u(r(r(a(p,p),a(h,h)),a(f,f)));return s(d,m)}function x(e,t){for(var n=e.length,o=0,s=0,l=0;l<n;l++)s=i(e[l],t[l]),o=r(a(s,s),o);return u(o)}}))},78825:(e,t,r)=>{"use strict";r.d(t,{M:()=>o});var n=r(67242),i=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],o=(0,r(25864).d5)("intersect",i,(e=>{var{typed:t,config:r,abs:i,add:o,addScalar:a,matrix:s,multiply:l,multiplyScalar:u,divideScalar:c,subtract:p,smaller:h,equalScalar:f}=e;return t("intersect",{"Array, Array, Array":function(e,t,r){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&d(e[0])&&d(e[1])&&d(e[2])&&d(e[3])}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,i,o,s,l,h,f){var d=u(e,s),m=u(n,s),g=u(t,l),y=u(i,l),v=u(r,h),x=u(o,h),b=c(p(p(p(f,d),g),v),p(p(p(a(a(m,y),x),d),g),v)),_=a(e,u(b,p(n,e))),w=a(t,u(b,p(i,t))),E=a(r,u(b,p(o,r)));return[_,w,E]}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(e,t,n,s){if(2===e.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!m(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!m(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,n,s){var f=e,d=n,m=p(f,t),g=p(d,s),y=p(u(m[0],g[1]),u(g[0],m[1]));if(h(i(y),r.epsilon))return null;var v=u(g[0],f[1]),x=u(g[1],f[0]),b=u(g[0],d[1]),_=u(g[1],d[0]),w=c(a(p(p(v,x),b),_),y);return o(l(m,w),f)}(e,t,n,s)}if(3===e.length){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!g(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!g(s))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return d=e[0],v=e[1],x=e[2],b=t[0],_=t[1],w=t[2],E=n[0],M=n[1],S=n[2],N=s[0],k=s[1],A=s[2],T=y(d,E,N,E,v,M,k,M,x,S,A,S),O=y(N,E,b,d,k,M,_,v,A,S,w,x),C=y(d,E,b,d,v,M,_,v,x,S,w,x),I=y(N,E,N,E,k,M,k,M,A,S,A,S),R=y(b,d,b,d,_,v,_,v,w,x,w,x),D=c(p(u(T,O),u(C,I)),p(u(R,I),u(O,O))),L=c(a(T,u(D,O)),I),q=a(d,u(D,p(b,d))),B=a(v,u(D,p(_,v))),P=a(x,u(D,p(w,x))),z=a(E,u(L,p(N,E))),U=a(M,u(L,p(k,M))),$=a(S,u(L,p(A,S))),f(q,z)&&f(B,U)&&f(P,$)?[q,B,P]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var d,v,x,b,_,w,E,M,S,N,k,A,T,O,C,I,R,D,L,q,B,P,z,U,$},"Matrix, Matrix, Matrix":function(e,t,r){return s(this(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return s(this(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function d(e){return"number"==typeof e||(0,n.l9)(e)}function m(e){return 2===e.length&&d(e[0])&&d(e[1])}function g(e){return 3===e.length&&d(e[0])&&d(e[1])&&d(e[2])}function y(e,t,r,n,i,o,s,l,c,h,f,d){var m=u(p(e,t),p(r,n)),g=u(p(i,o),p(s,l)),y=u(p(c,h),p(f,d));return a(a(m,g),y)}}))},48147:(e,t,r)=>{"use strict";r.d(t,{I:()=>p});var n=r(47128),i=r(81418),o=r(87901),a=r(91833),s=r(78151),l=r(25864),u=r(17700),c=["typed","matrix","equalScalar","zeros","not"],p=(0,l.d5)("and",c,(e=>{var{typed:t,matrix:r,equalScalar:l,zeros:c,not:p}=e,h=(0,n.h)({typed:t,equalScalar:l}),f=(0,s.Q)({typed:t,equalScalar:l}),d=(0,i.n)({typed:t,equalScalar:l}),m=(0,o.x)({typed:t}),g=(0,a.X)({typed:t});return t("and",{"number, number":u.FO,"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return h(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return h(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return m(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return p(t)?c(e.size(),e.storage()):d(e,t,this,!1)},"DenseMatrix, any":function(e,t){return p(t)?c(e.size(),e.storage()):g(e,t,this,!1)},"any, SparseMatrix":function(e,t){return p(e)?c(e.size(),e.storage()):d(t,e,this,!0)},"any, DenseMatrix":function(e,t){return p(e)?c(e.size(),e.storage()):g(t,e,this,!0)},"Array, any":function(e,t){return this(r(e),t).valueOf()},"any, Array":function(e,t){return this(e,r(t)).valueOf()}})}))},86678:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(41877),i=r(25864),o=r(17700),a=["typed"],s=(0,i.d5)("not",a,(e=>{var{typed:t}=e;return t("not",{number:o.xY,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},27584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(28466),i=r(61230),o=r(87901),a=r(91833),s=r(68283),l=r(25864),u=r(17700),c=["typed","matrix","equalScalar","DenseMatrix"],p=(0,l.d5)("or",c,(e=>{var{typed:t,matrix:r,equalScalar:l,DenseMatrix:c}=e,p=(0,n.O)({typed:t}),h=(0,s.p)({typed:t,equalScalar:l}),f=(0,i.R)({typed:t,DenseMatrix:c}),d=(0,o.x)({typed:t}),m=(0,a.X)({typed:t});return t("or",{"number, number":u.RY,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,this,!1)},"DenseMatrix, any":function(e,t){return m(e,t,this,!1)},"any, SparseMatrix":function(e,t){return f(t,e,this,!0)},"any, DenseMatrix":function(e,t){return m(t,e,this,!0)},"Array, any":function(e,t){return m(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,this,!0).valueOf()}})}))},68377:(e,t,r)=>{"use strict";r.d(t,{O:()=>p});var n=r(28466),i=r(45231),o=r(61230),a=r(87901),s=r(91833),l=r(25864),u=r(17700),c=["typed","matrix","DenseMatrix"],p=(0,l.d5)("xor",c,(e=>{var{typed:t,matrix:r,DenseMatrix:l}=e,c=(0,n.O)({typed:t}),p=(0,i.r)({typed:t,DenseMatrix:l}),h=(0,o.R)({typed:t,DenseMatrix:l}),f=(0,a.x)({typed:t}),d=(0,s.X)({typed:t});return t("xor",{"number, number":u.kl,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return p(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return h(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return h(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})}))},56334:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var n=r(25864),i=r(95001),o=r(67242),a=r(81725),s="apply",l=["typed","isInteger"],u=(0,n.d5)(s,l,(e=>{var{typed:t,isInteger:r}=e;return t(s,{"Array | Matrix, number | BigNumber, function":function(e,t,n){if(!r(t))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(e)?(0,i.aJ)(e):e.size();if(t<0||t>=s.length)throw new a.c(t,s.length);return(0,o.SW)(e)?e.create(c(e.valueOf(),t,n)):c(e,t,n)}})}));function c(e,t,r){var n,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,r,n=e.length,i=e[0].length,o=[];for(r=0;r<i;r++){var a=[];for(t=0;t<n;t++)a.push(e[t][r]);o.push(a)}return o}(e),i=[],n=0;n<o.length;n++)i[n]=c(o[n],t-1,r);return i}return r(e)}for(i=[],n=0;n<e.length;n++)i[n]=c(e[n],t-1,r);return i}},87625:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var n=r(25864),i=r(57139),o=r(95001),a="column",s=["typed","Index","matrix","range"],l=(0,n.d5)(a,s,(e=>{var{typed:t,Index:r,matrix:n,range:s}=e;return t(a,{"Matrix, number":l,"Array, number":function(e,t){return l(n((0,i.d9)(e)),t).valueOf()}});function l(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");(0,o.Ls)(t,e.size()[1]);var n=s(0,e.size()[0]),i=new r(n,t);return e.subset(i)}}))},53445:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var n=r(67242),i=r(57139),o=r(95001),a=r(81725),s=r(24486),l=r(25864),u="concat",c=["typed","matrix","isInteger"],p=(0,l.d5)(u,c,(e=>{var{typed:t,matrix:r,isInteger:l}=e;return t(u,{"...Array | Matrix | number | BigNumber":function(e){var t,u,c=e.length,p=-1,f=!1,d=[];for(t=0;t<c;t++){var m=e[t];if((0,n.SW)(m)&&(f=!0),(0,n.hj)(m)||(0,n.l9)(m)){if(t!==c-1)throw new Error("Dimension must be specified as last argument");if(u=p,p=m.valueOf(),!l(p))throw new TypeError("Integer number expected for dimension");if(p<0||t>0&&p>u)throw new a.c(p,u+1)}else{var g=(0,i.d9)(m).valueOf(),y=(0,o.aJ)(g);if(d[t]=g,u=p,p=y.length-1,t>0&&p!==u)throw new s.m(u+1,p+1)}}if(0===d.length)throw new SyntaxError("At least one matrix expected");for(var v=d.shift();d.length;)v=h(v,d.shift(),p,0);return f?r(v):v},"...string":function(e){return e.join("")}})}));function h(e,t,r,n){if(n<r){if(e.length!==t.length)throw new s.m(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=h(e[o],t[o],r,n+1);return i}return e.concat(t)}},58955:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(25864),i="count",o=["typed","size","prod"],a=(0,n.d5)(i,o,(e=>{var{typed:t,size:r,prod:n}=e;return t(i,{string:function(e){return e.length},"Matrix | Array":function(e){return n(r(e))}})}))},62314:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(95001),i=r(25864),o="cross",a=["typed","matrix","subtract","multiply"],s=(0,i.d5)(o,a,(e=>{var{typed:t,matrix:r,subtract:i,multiply:a}=e;return t(o,{"Matrix, Matrix":function(e,t){return r(s(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(s(e.toArray(),t))},"Array, Matrix":function(e,t){return r(s(e,t.toArray()))},"Array, Array":s});function s(e,t){var r=Math.max((0,n.aJ)(e).length,(0,n.aJ)(t).length);e=(0,n.L9)(e),t=(0,n.L9)(t);var o=(0,n.aJ)(e),s=(0,n.aJ)(t);if(1!==o.length||1!==s.length||3!==o[0]||3!==s[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+s.join(", ")+"])");var l=[i(a(e[1],t[2]),a(e[2],t[1])),i(a(e[2],t[0]),a(e[0],t[2])),i(a(e[0],t[1]),a(e[1],t[0]))];return r>1?[l]:l}}))},8117:(e,t,r)=>{"use strict";r.d(t,{t:()=>a});var n=r(25864),i="ctranspose",o=["typed","transpose","conj"],a=(0,n.d5)(i,o,(e=>{var{typed:t,transpose:r,conj:n}=e;return t(i,{any:function(e){return n(r(e))}})}))},1773:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var n=r(67242),i=r(57139),o=r(19372),a=r(25864),s=["typed","matrix","subtract","multiply","unaryMinus","lup"],l=(0,a.d5)("det",s,(e=>{var{typed:t,matrix:r,subtract:a,multiply:s,unaryMinus:l,lup:u}=e;return t("det",{any:function(e){return(0,i.d9)(e)},"Array | Matrix":function(e){var t;switch((t=(0,n.SW)(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return(0,i.d9)(e);case 1:if(1===t[0])return(0,i.d9)(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,o.WU)(t)+")");case 2:var c=t[0],p=t[1];if(c===p)return function(e,t,r){if(1===t)return(0,i.d9)(e[0][0]);if(2===t)return a(s(e[0][0],e[1][1]),s(e[1][0],e[0][1]));for(var n=u(e),o=n.U[0][0],c=1;c<t;c++)o=s(o,n.U[c][c]);for(var p=0,h=0,f=[];;){for(;f[h];)h++;if(h>=t)break;for(var d=h,m=0;!f[n.p[d]];)f[n.p[d]]=!0,d=n.p[d],m++;m%2==0&&p++}return p%2==0?o:l(o)}(e.clone().valueOf(),c);throw new RangeError("Matrix must be square (size: "+(0,o.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,o.WU)(t)+")")}}})}))},58489:(e,t,r)=>{"use strict";r.d(t,{_:()=>u});var n=r(67242),i=r(95001),o=r(1341),a=r(25864),s="diag",l=["typed","matrix","DenseMatrix","SparseMatrix"],u=(0,a.d5)(s,l,(e=>{var{typed:t,matrix:r,DenseMatrix:a,SparseMatrix:l}=e;return t(s,{Array:function(e){return u(e,0,(0,i.aJ)(e),null)},"Array, number":function(e,t){return u(e,t,(0,i.aJ)(e),null)},"Array, BigNumber":function(e,t){return u(e,t.toNumber(),(0,i.aJ)(e),null)},"Array, string":function(e,t){return u(e,0,(0,i.aJ)(e),t)},"Array, number, string":function(e,t,r){return u(e,t,(0,i.aJ)(e),r)},"Array, BigNumber, string":function(e,t,r){return u(e,t.toNumber(),(0,i.aJ)(e),r)},Matrix:function(e){return u(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return u(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return u(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return u(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return u(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return u(e,t.toNumber(),e.size(),r)}});function u(e,t,i,s){if(!(0,o.U)(t))throw new TypeError("Second parameter in function diag must be an integer");var u=t>0?t:0,c=t<0?-t:0;switch(i.length){case 1:return function(e,t,r,n,i,o){var s=[n+i,n+o];if(r&&"sparse"!==r&&"dense"!==r)throw new TypeError("Unknown matrix type ".concat(r,'"'));var u="sparse"===r?l.diagonal(s,e,t):a.diagonal(s,e,t);return null!==r?u:u.valueOf()}(e,t,s,i[0],c,u);case 2:return function(e,t,i,o,a,s){if((0,n.SW)(e)){var l=e.diagonal(t);return null!==i?i!==l.storage()?r(l,i):l:l.valueOf()}for(var u=Math.min(o[0]-a,o[1]-s),c=[],p=0;p<u;p++)c[p]=e[p+a][p+s];return null!==i?r(c):c}(e,t,s,i,c,u)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}))},80157:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(25864),i=r(1341),o=r(67242),a="diff",s=["typed","matrix","subtract","number"],l=(0,n.d5)(a,s,(e=>{var{typed:t,matrix:r,subtract:n,number:s}=e;return t(a,{"Array | Matrix":function(e){return(0,o.SW)(e)?r(u(e.toArray())):u(e)},"Array | Matrix, number":function(e,t){if(!(0,i.U)(t))throw new RangeError("Dimension must be a whole number");return(0,o.SW)(e)?r(l(e.toArray(),t)):l(e,t)},"Array | Matrix, BigNumber":function(e,t){return this(e,s(t))}});function l(e,t){if((0,o.SW)(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var r=[];return e.forEach((e=>{r.push(l(e,t-1))})),r}if(0===t)return u(e);throw RangeError("Cannot have negative dimension")}function u(e){var t=[],r=e.length;if(r<2)return e;for(var n=1;n<r;n++)t.push(c(e[n-1],e[n]));return t}function c(e,t){(0,o.SW)(e)&&(e=e.toArray()),(0,o.SW)(t)&&(t=t.toArray());var r=Array.isArray(e),i=Array.isArray(t);if(r&&i)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var r=[],n=e.length,i=0;i<n;i++)r.push(c(e[i],t[i]));return r}(e,t);if(!r&&!i)return n(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}))},21801:(e,t,r)=>{"use strict";r.d(t,{W:()=>a});var n=r(25864),i=r(67242),o=["typed","addScalar","multiplyScalar","conj","size"],a=(0,n.d5)("dot",o,(e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:o,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var u=s(e,a),c=(0,i.SW)(e)?e._data:e,p=(0,i.SW)(e)?e._datatype:void 0,h=(0,i.SW)(a)?a._data:a,f=(0,i.SW)(a)?a._datatype:void 0,d=2===l(e).length,m=2===l(a).length,g=r,y=n;if(p&&f&&p===f&&"string"==typeof p){var v=p;g=t.find(r,[v,v]),y=t.find(n,[v,v])}if(!d&&!m){for(var x=y(o(c[0]),h[0]),b=1;b<u;b++)x=g(x,y(o(c[b]),h[b]));return x}if(!d&&m){for(var _=y(o(c[0]),h[0][0]),w=1;w<u;w++)_=g(_,y(o(c[w]),h[w][0]));return _}if(d&&!m){for(var E=y(o(c[0][0]),h[0]),M=1;M<u;M++)E=g(E,y(o(c[M][0]),h[M]));return E}if(d&&m){for(var S=y(o(c[0][0]),h[0][0]),N=1;N<u;N++)S=g(S,y(o(c[N][0]),h[N][0]));return S}},"SparseMatrix, SparseMatrix":function(e,t){s(e,t);var i=e._index,o=e._values,a=t._index,l=t._values,u=0,c=r,p=n,h=0,f=0;for(;h<i.length&&f<a.length;){var d=i[h],m=a[f];d<m?h++:d>m?f++:d===m&&(u=c(u,p(o[h],l[f])),h++,f++)}return u}});function s(e,t){var r,n,i=l(e),o=l(t);if(1===i.length)r=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0]}if(1===o.length)n=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");n=o[0]}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function l(e){return(0,i.SW)(e)?e.size():a(e)}}))},6402:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(57139),i=r(25864),o=r(19372),a=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],s=(0,i.d5)("eigs",a,(e=>{var{config:t,typed:r,matrix:i,addScalar:a,subtract:s,equal:l,abs:u,atan:c,cos:p,sin:h,multiplyScalar:f,inv:d,bignumber:m,multiply:g,add:y}=e;return r("eigs",{Array:function(e){var t=i(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+(0,o.WU)(r)+")");var n=v(t,r[0]);return{values:n[0],vectors:n[1]}},Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+(0,o.WU)(t)+")");var r=v(e,t[0]);return{values:i(r[0]),vectors:i(r[1])}}});function v(e,r){var i=e.datatype();if(void 0===i&&(i=e.getDataType()),"number"!==i&&"BigNumber"!==i&&"Fraction"!==i)throw"mixed"===i?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+i+")");if(function(e,t){for(var r=0;r<t;r++)for(var n=r;n<t;n++)if(!l(e[r][n],e[n][r]))throw new TypeError("Input matrix is not symmetric")}(e.toArray(),r),"number"===i)return x(e.toArray());if("Fraction"===i){for(var o=e.toArray(),a=0;a<r;a++)for(var s=a;s<r;s++)o[a][s]=o[a][s].valueOf(),o[s][a]=o[a][s];return x(e.toArray())}return"BigNumber"===i?function(e){for(var r,i=e.length,o=u(t.epsilon/i),a=new Array(i),s=0;s<i;s++)a[s]=T(i,0),a[s][s]=1;var l=k(e);for(;u(l[1])>=u(o);){var c=l[0][0],p=l[0][1];e=M(e,r=_(e[c][c],e[p][p],e[c][p]),c,p),a=E(a,r,c,p),l=k(e)}for(var h=T(i,0),f=0;f<i;f++)h[f]=e[f][f];return A((0,n.d9)(h),(0,n.d9)(a))}(e.toArray()):void 0}function x(e){for(var r,i=e.length,o=Math.abs(t.epsilon/i),a=new Array(i),s=0;s<i;s++)a[s]=T(i,0),a[s][s]=1;for(var l=N(e);Math.abs(l[1])>=Math.abs(o);){var u=l[0][0],c=l[0][1];e=S(e,r=b(e[u][u],e[c][c],e[u][c]),u,c),a=w(a,r,u,c),l=N(e)}for(var p=T(i,0),h=0;h<i;h++)p[h]=e[h][h];return A((0,n.d9)(p),(0,n.d9)(a))}function b(e,r,n){var i=r-e;return Math.abs(i)<=t.epsilon?Math.PI/4:.5*Math.atan(2*n/(r-e))}function _(e,r,n){var i=s(r,e);return u(i)<=t.epsilon?m(-1).acos().div(4):f(.5,c(g(2,n,d(i))))}function w(e,t,r,n){for(var i=e.length,o=Math.cos(t),a=Math.sin(t),s=T(i,0),l=T(i,0),u=0;u<i;u++)s[u]=o*e[u][r]-a*e[u][n],l[u]=a*e[u][r]+o*e[u][n];for(var c=0;c<i;c++)e[c][r]=s[c],e[c][n]=l[c];return e}function E(e,t,r,n){for(var i=e.length,o=p(t),l=h(t),u=T(i,m(0)),c=T(i,m(0)),d=0;d<i;d++)u[d]=s(f(o,e[d][r]),f(l,e[d][n])),c[d]=a(f(l,e[d][r]),f(o,e[d][n]));for(var g=0;g<i;g++)e[g][r]=u[g],e[g][n]=c[g];return e}function M(e,t,r,n){for(var i=e.length,o=m(p(t)),l=m(h(t)),u=f(o,o),c=f(l,l),d=T(i,m(0)),v=T(i,m(0)),x=g(m(2),o,l,e[r][n]),b=a(s(f(u,e[r][r]),x),f(c,e[n][n])),_=y(f(c,e[r][r]),x,f(u,e[n][n])),w=0;w<i;w++)d[w]=s(f(o,e[r][w]),f(l,e[n][w])),v[w]=a(f(l,e[r][w]),f(o,e[n][w]));e[r][r]=b,e[n][n]=_,e[r][n]=m(0),e[n][r]=m(0);for(var E=0;E<i;E++)E!==r&&E!==n&&(e[r][E]=d[E],e[E][r]=d[E],e[n][E]=v[E],e[E][n]=v[E]);return e}function S(e,t,r,n){for(var i=e.length,o=Math.cos(t),a=Math.sin(t),s=o*o,l=a*a,u=T(i,0),c=T(i,0),p=s*e[r][r]-2*o*a*e[r][n]+l*e[n][n],h=l*e[r][r]+2*o*a*e[r][n]+s*e[n][n],f=0;f<i;f++)u[f]=o*e[r][f]-a*e[n][f],c[f]=a*e[r][f]+o*e[n][f];e[r][r]=p,e[n][n]=h,e[r][n]=0,e[n][r]=0;for(var d=0;d<i;d++)d!==r&&d!==n&&(e[r][d]=u[d],e[d][r]=u[d],e[n][d]=c[d],e[d][n]=c[d]);return e}function N(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)Math.abs(r)<Math.abs(e[i][o])&&(r=Math.abs(e[i][o]),n=[i,o]);return[n,r]}function k(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)u(r)<u(e[i][o])&&(r=u(e[i][o]),n=[i,o]);return[n,r]}function A(e,t){for(var r=e.length,i=Array(r),o=Array(r),a=0;a<r;a++)o[a]=Array(r);for(var s=0;s<r;s++){for(var l=0,u=e[0],c=0;c<e.length;c++)e[c]<u&&(u=e[l=c]);i[s]=e.splice(l,1)[0];for(var p=0;p<r;p++)o[p][s]=t[p][l],t[p].splice(l,1)}return[(0,n.d9)(i),(0,n.d9)(o)]}function T(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r}}))},11967:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(67242),i=r(19372),o=r(25864),a="expm",s=["typed","abs","add","identity","inv","multiply"],l=(0,o.d5)(a,s,(e=>{var{typed:t,abs:r,add:o,identity:s,inv:l,multiply:u}=e;return t(a,{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");for(var a=t[0],p=function(e,t){for(var r=30,n=0;n<r;n++)for(var i=0;i<=n;i++){var o=n-i;if(c(e,i,o)<t)return{q:i,j:o}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],n=0,i=0;i<t;i++){for(var o=0,a=0;a<t;a++)o+=r(e.get([i,a]));n=Math.max(o,n)}return n}(e),1e-15),h=p.q,f=p.j,d=u(e,Math.pow(2,-f)),m=s(a),g=s(a),y=1,v=d,x=-1,b=1;b<=h;b++)b>1&&(v=u(v,d),x=-x),m=o(m,u(y=y*(h-b+1)/((2*h-b+1)*b),v)),g=o(g,u(y*x,v));for(var _=u(l(g),m),w=0;w<f;w++)_=u(_,_);return(0,n.sA)(e)?e.createSparseMatrix(_):_}});function c(e,t,r){for(var n=1,i=2;i<=t;i++)n*=i;for(var o=n,a=t+1;a<=2*t;a++)o*=a;var s=o*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(o*s)}}))},56135:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(95001),i=r(90409),o=["typed"],a=(0,r(25864).d5)("filter",o,(e=>{var{typed:t}=e;return t("filter",{"Array, function":s,"Matrix, function":function(e,t){return e.create(s(e.toArray(),t))},"Array, RegExp":n.U_,"Matrix, RegExp":function(e,t){return e.create((0,n.U_)(e.toArray(),t))}})}));function s(e,t){var r=(0,i.oV)(t);return(0,n.hX)(e,(function(e,n,i){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],i)}))}},46190:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(57139),i=r(95001),o=r(25864),a="flatten",s=["typed","matrix"],l=(0,o.d5)(a,s,(e=>{var{typed:t,matrix:r}=e;return t(a,{Array:function(e){return(0,i.xH)((0,n.d9)(e))},Matrix:function(e){var t=(0,i.xH)((0,n.d9)(e.toArray()));return r(t)}})}))},15895:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(90409),i=r(95001),o=r(25864),a="forEach",s=["typed"],l=(0,o.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{"Array, function":u,"Matrix, function":function(e,t){return e.forEach(t)}})}));function u(e,t){var r=(0,n.oV)(t);!function n(o,a){Array.isArray(o)?(0,i.Ed)(o,(function(e,t){n(e,a.concat(t))})):1===r?t(o):2===r?t(o,a):t(o,a,e)}(e,[])}},79856:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(25864),i=r(95001),o=r(67242),a="getMatrixDataType",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{Array:function(e){return(0,i.$q)(e,o.kM)},Matrix:function(e){return e.getDataType()}})}))},26079:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var n=r(67242),i=r(95001),o=r(1341),a=r(25864),s="identity",l=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],u=(0,a.d5)(s,l,(e=>{var{typed:t,config:r,matrix:a,BigNumber:l,DenseMatrix:u,SparseMatrix:c}=e;return t(s,{"":function(){return"Matrix"===r.matrix?a([]):[]},string:function(e){return a(e)},"number | BigNumber":function(e){return h(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return h(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return h(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return h(e,t,r)},Array:function(e){return p(e)},"Array, string":function(e,t){return p(e,t)},Matrix:function(e){return p(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return p(e.valueOf(),t)}});function p(e,t){switch(e.length){case 0:return t?a(t):[];case 1:return h(e[0],e[0],t);case 2:return h(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function h(e,t,r){var a=(0,n.l9)(e)||(0,n.l9)(t)?l:null;if((0,n.l9)(e)&&(e=e.toNumber()),(0,n.l9)(t)&&(t=t.toNumber()),!(0,o.U)(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,o.U)(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=a?new l(1):1,p=a?new a(0):0,h=[e,t];if(r){if("sparse"===r)return c.diagonal(h,s,0,p);if("dense"===r)return u.diagonal(h,s,0,p);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var f=(0,i.SI)([],h,p),d=e<t?e:t,m=0;m<d;m++)f[m][m]=s;return f}}))},76723:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var n=r(67242),i=r(95001),o=r(25864),a=r(19372),s=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],l=(0,o.d5)("inv",s,(e=>{var{typed:t,matrix:r,divideScalar:o,addScalar:s,multiply:l,unaryMinus:u,det:c,identity:p,abs:h}=e;return t("inv",{"Array | Matrix":function(e){var t=(0,n.SW)(e)?e.size():(0,i.aJ)(e);switch(t.length){case 1:if(1===t[0])return(0,n.SW)(e)?r([o(1,e.valueOf()[0])]):[o(1,e[0])];throw new RangeError("Matrix must be square (size: "+(0,a.WU)(t)+")");case 2:var s=t[0],l=t[1];if(s===l)return(0,n.SW)(e)?r(f(e.valueOf(),s,l),e.storage()):f(e,s,l);throw new RangeError("Matrix must be square (size: "+(0,a.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,a.WU)(t)+")")}},any:function(e){return o(1,e)}});function f(e,t,r){var n,i,a,f,d;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[o(1,f)]]}if(2===t){var m=c(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[o(e[1][1],m),o(u(e[0][1]),m)],[o(u(e[1][0]),m),o(e[0][0],m)]]}var g=e.concat();for(n=0;n<t;n++)g[n]=g[n].concat();for(var y=p(t).valueOf(),v=0;v<r;v++){var x=h(g[v][v]),b=v;for(n=v+1;n<t;)h(g[n][v])>x&&(x=h(g[n][v]),b=n),n++;if(0===x)throw Error("Cannot calculate inverse, determinant is zero");(n=b)!==v&&(d=g[v],g[v]=g[n],g[n]=d,d=y[v],y[v]=y[n],y[n]=d);var _=g[v],w=y[v];for(n=0;n<t;n++){var E=g[n],M=y[n];if(n!==v){if(0!==E[v]){for(a=o(u(E[v]),_[v]),i=v;i<r;i++)E[i]=s(E[i],l(a,_[i]));for(i=0;i<r;i++)M[i]=s(M[i],l(a,w[i]))}}else{for(a=_[v],i=v;i<r;i++)E[i]=o(E[i],a);for(i=0;i<r;i++)M[i]=o(M[i],a)}}}return y}}))},66371:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(95001),i=r(25864),o="kron",a=["typed","matrix","multiplyScalar"],s=(0,i.d5)(o,a,(e=>{var{typed:t,matrix:r,multiplyScalar:i}=e;return t(o,{"Matrix, Matrix":function(e,t){return r(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(a(e.toArray(),t))},"Array, Matrix":function(e,t){return r(a(e,t.toArray()))},"Array, Array":a});function a(e,t){if(1===(0,n.aJ)(e).length&&(e=[e]),1===(0,n.aJ)(t).length&&(t=[t]),(0,n.aJ)(e).length>2||(0,n.aJ)(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],o=[];return e.map((function(e){return t.map((function(t){return o=[],r.push(o),e.map((function(e){return t.map((function(t){return o.push(i(e,t))}))}))}))}))&&r}}))},91275:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(90409),i=r(25864),o=["typed"],a=(0,i.d5)("map",o,(e=>{var{typed:t}=e;return t("map",{"Array, function":s,"Matrix, function":function(e,t){return e.map(t)}})}));function s(e,t){var r=(0,n.oV)(t);return function n(i,o){return Array.isArray(i)?i.map((function(e,t){return n(e,o.concat(t))})):1===r?t(i):2===r?t(i,o):t(i,o,e)}(e,[])}},27700:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(67242),i=r(1341),o=r(95001),a=["typed","config","matrix","BigNumber"],s=(0,r(25864).d5)("ones",a,(e=>{var{typed:t,config:r,matrix:a,BigNumber:s}=e;return t("ones",{"":function(){return"Array"===r.matrix?l([]):l([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return l(e,t)}return"Array"===r.matrix?l(e):l(e,"default")},Array:l,Matrix:function(e){var t=e.storage();return l(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return l(e.valueOf(),t)}});function l(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,i){(0,n.l9)(e)&&(t=!0,i[r]=e.toNumber())})),t}(e)?new s(1):1;if(function(e){e.forEach((function(e){if("number"!=typeof e||!(0,i.U)(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var l=a(t);return e.length>0?l.resize(e,r):l}var u=[];return e.length>0?(0,o.SI)(u,e,r):u}}))},59427:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var n=r(67242),i=r(1341),o=r(25864),a="partitionSelect",s=["typed","isNumeric","isNaN","compare"],l=(0,o.d5)(a,s,(e=>{var{typed:t,isNumeric:r,isNaN:o,compare:s}=e,l=s,u=(e,t)=>-s(e,t);return t(a,{"Array | Matrix, number":function(e,t){return c(e,t,l)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return c(e,t,l);if("desc"===r)return c(e,t,u);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(e,t,r){if(!(0,i.U)(t)||t<0)throw new Error("k must be a non-negative integer");if((0,n.SW)(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return p(e.valueOf(),t,r)}if(Array.isArray(e))return p(e,t,r)}function p(e,t,n){if(t>=e.length)throw new Error("k out of bounds");for(var i=0;i<e.length;i++)if(r(e[i])&&o(e[i]))return e[i];for(var a=0,s=e.length-1;a<s;){for(var l=a,u=s,c=e[Math.floor(Math.random()*(s-a+1))+a];l<u;)if(n(e[l],c)>=0){var p=e[u];e[u]=e[l],e[l]=p,--u}else++l;n(e[l],c)>0&&--l,t<=l?s=l:a=l+1}return e[t]}}))},32698:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(25864),i=r(59576),o="range",a=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],s=(0,n.d5)(o,a,(e=>{var{typed:t,config:r,matrix:n,bignumber:a,smaller:s,smallerEq:l,larger:u,largerEq:c}=e;return t(o,{string:h,"string, boolean":h,"number, number":function(e,t){return p(f(e,t,1))},"number, number, number":function(e,t,r){return p(f(e,t,r))},"number, number, boolean":function(e,t,r){return p(r?d(e,t,1):f(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return p(n?d(e,t,r):f(e,t,r))},"BigNumber, BigNumber":function(e,t){return p(m(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return p(m(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){var n=e.constructor;return p(r?g(e,t,new n(1)):m(e,t,new n(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return p(n?g(e,t,r):m(e,t,r))}});function p(e){return"Matrix"===r.matrix?n?n(e):(0,i.kX)():e}function h(e,t){var n=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!n)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===a&&(0,i.R3)(),p((t?g:m)(a(n.start),a(n.end),a(n.step)))):p((t?d:f)(n.start,n.end,n.step))}function f(e,t,r){var n=[],i=e;if(r>0)for(;s(i,t);)n.push(i),i+=r;else if(r<0)for(;u(i,t);)n.push(i),i+=r;return n}function d(e,t,r){var n=[],i=e;if(r>0)for(;l(i,t);)n.push(i),i+=r;else if(r<0)for(;c(i,t);)n.push(i),i+=r;return n}function m(e,t,r){var n=a(0),i=[],o=e;if(r.gt(n))for(;s(o,t);)i.push(o),o=o.plus(r);else if(r.lt(n))for(;u(o,t);)i.push(o),o=o.plus(r);return i}function g(e,t,r){var n=a(0),i=[],o=e;if(r.gt(n))for(;l(o,t);)i.push(o),o=o.plus(r);else if(r.lt(n))for(;c(o,t);)i.push(o),o=o.plus(r);return i}}))},7165:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(95001),i=r(25864),o="reshape",a=["typed","isInteger","matrix"],s=(0,i.d5)(o,a,(e=>{var{typed:t,isInteger:r}=e;return t(o,{"Matrix, Array":function(e,t){return e.reshape(t)},"Array, Array":function(e,t){return t.forEach((function(e){if(!r(e))throw new TypeError("Invalid size for dimension: "+e)})),(0,n.XL)(e,t)}})}))},727:(e,t,r)=>{"use strict";r.d(t,{y:()=>p});var n=r(67242),i=r(24486),o=r(83963),a=r(1341),s=r(19372),l=r(57139),u=r(95001),c=["config","matrix"],p=(0,r(25864).d5)("resize",c,(e=>{var{config:t,matrix:r}=e;return function(e,i,a){if(2!==arguments.length&&3!==arguments.length)throw new o.u("resize",arguments.length,2,3);if((0,n.SW)(i)&&(i=i.valueOf()),(0,n.l9)(i[0])&&(i=i.map((function(e){return(0,n.l9)(e)?e.toNumber():e}))),(0,n.SW)(e))return e.resize(i,a,!0);if("string"==typeof e)return c(e,i,a);var s=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);)e=e[0];return(0,l.d9)(e)}Array.isArray(e)||(e=[e]),e=(0,l.d9)(e);var p=(0,u.SI)(e,i,a);return s?r(p):p};function c(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new i.m(t.length,1);var n=t[0];if("number"!=typeof n||!(0,a.U)(n))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,s.WU)(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var o=e,l=0,u=n-e.length;l<u;l++)o+=r;return o}return e}}))},42271:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(25864),i=r(95001),o="rotate",a=["typed","multiply","rotationMatrix"],s=(0,n.d5)(o,a,(e=>{var{typed:t,multiply:r,rotationMatrix:n}=e;return t(o,{"Array , number | BigNumber | Complex | Unit":function(e,t){return a(e,2),r(n(t),e).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(e,t){return a(e,2),r(n(t),e)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,i){return a(e,3),r(n(t,i),e)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,i){return a(e,3),r(n(t,i),e)}});function a(e,t){var r=Array.isArray(e)?(0,i.aJ)(e):e.size();if(r.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(t));if(2===r.length&&1!==r[1])throw new RangeError("Vector must be of dimensions 1x".concat(t));if(r[0]!==t)throw new RangeError("Vector must be of dimensions 1x".concat(t))}}))},66593:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(67242),i=r(25864),o="rotationMatrix",a=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],s=(0,i.d5)(o,a,(e=>{var{typed:t,config:r,multiplyScalar:i,addScalar:a,unaryMinus:s,norm:l,BigNumber:u,matrix:c,DenseMatrix:p,SparseMatrix:h,cos:f,sin:d}=e;return t(o,{"":function(){return"Matrix"===r.matrix?c([]):[]},string:function(e){return c(e)},"number | BigNumber | Complex | Unit":function(e){return m(e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return m(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var r=c(t);return g(r),x(e,r,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){g(t);var n=t.storage()||("Matrix"===r.matrix?"dense":void 0);return x(e,t,n)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,r){var n=c(t);return g(n),x(e,n,r)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,r){return g(t),x(e,t,r)}});function m(e,t){var r=(0,n.l9)(e)?new u(-1):-1,o=f(e),a=d(e);return v([[o,i(r,a)],[a,o]],t)}function g(e){var t=e.size();if(t.length<1||3!==t[0])throw new RangeError("Vector must be of dimensions 1x3")}function y(e){return e.reduce(((e,t)=>i(e,t)))}function v(e,t){if(t){if("sparse"===t)return new h(e);if("dense"===t)return new p(e);throw new TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function x(e,t,r){var i=l(t);if(0===i)throw new RangeError("Rotation around zero vector");var o=(0,n.l9)(e)?u:null,c=o?new o(1):1,p=o?new o(-1):-1,h=o?new o(t.get([0])/i):t.get([0])/i,m=o?new o(t.get([1])/i):t.get([1])/i,g=o?new o(t.get([2])/i):t.get([2])/i,x=f(e),b=a(c,s(x)),_=d(e);return v([[a(x,y([h,h,b])),a(y([h,m,b]),y([p,g,_])),a(y([h,g,b]),y([m,_]))],[a(y([h,m,b]),y([g,_])),a(x,y([m,m,b])),a(y([m,g,b]),y([p,h,_]))],[a(y([h,g,b]),y([p,m,_])),a(y([m,g,b]),y([h,_])),a(x,y([g,g,b]))]],r)}}))},37540:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(25864),i=r(57139),o=r(95001),a=["typed","Index","matrix","range"],s=(0,n.d5)("row",a,(e=>{var{typed:t,Index:r,matrix:n,range:a}=e;return t("row",{"Matrix, number":s,"Array, number":function(e,t){return s(n((0,i.d9)(e)),t).valueOf()}});function s(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");(0,o.Ls)(t,e.size()[0]);var n=a(0,e.size()[1]),i=new r(t,n);return e.subset(i)}}))},21557:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(95001),i=r(25864),o=r(59576),a="size",s=["typed","config","?matrix"],l=(0,i.d5)(a,s,(e=>{var{typed:t,config:r,matrix:i}=e;return t(a,{Matrix:function(e){return e.create(e.size())},Array:n.aJ,string:function(e){return"Array"===r.matrix?[e.length]:i([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===r.matrix?[]:i?i([]):(0,o.kX)()}})}))},54688:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(95001),i=r(25864),o="sort",a=["typed","matrix","compare","compareNatural"],s=(0,i.d5)(o,a,(e=>{var{typed:t,matrix:r,compare:i,compareNatural:a}=e,s=i,l=(e,t)=>-i(e,t);return t(o,{Array:function(e){return c(e),e.sort(s)},Matrix:function(e){return p(e),r(e.toArray().sort(s),e.storage())},"Array, function":function(e,t){return c(e),e.sort(t)},"Matrix, function":function(e,t){return p(e),r(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return c(e),e.sort(u(t))},"Matrix, string":function(e,t){return p(e),r(e.toArray().sort(u(t)),e.storage())}});function u(e){if("asc"===e)return s;if("desc"===e)return l;if("natural"===e)return a;throw new Error('String "asc", "desc", or "natural" expected')}function c(e){if(1!==(0,n.aJ)(e).length)throw new Error("One dimensional array expected")}function p(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}}))},33328:(e,t,r)=>{"use strict";r.d(t,{m:()=>u});var n=r(67242),i=r(19372),o=r(95001),a=r(25864),s="sqrtm",l=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],u=(0,a.d5)(s,l,(e=>{var{typed:t,abs:r,add:a,multiply:l,sqrt:u,subtract:c,inv:p,size:h,max:f,identity:d}=e,m=1e-6;function g(e){var t,n=0,i=e,o=d(h(e));do{var s=i;if(i=l(.5,a(s,p(o))),o=l(.5,a(o,p(s))),(t=f(r(c(i,s))))>m&&++n>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>m);return i}return t(s,{"Array | Matrix":function(e){var t=(0,n.SW)(e)?e.size():(0,o.aJ)(e);switch(t.length){case 1:if(1===t[0])return u(e);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");case 2:if(t[0]===t[1])return g(e);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+(0,i.WU)(t)+")")}}})}))},88031:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var n=r(57139),i=r(95001),o=r(25864),a="squeeze",s=["typed","matrix"],l=(0,o.d5)(a,s,(e=>{var{typed:t,matrix:r}=e;return t(a,{Array:function(e){return(0,i.L9)((0,n.d9)(e))},Matrix:function(e){var t=(0,i.L9)(e.toArray());return Array.isArray(t)?r(t):t},any:function(e){return(0,n.d9)(e)}})}))},43672:(e,t,r)=>{"use strict";r.d(t,{q:()=>p});var n=r(67242),i=r(57139),o=r(95001),a=r(5723),s=r(24486),l=r(25864),u="subset",c=["typed","matrix"],p=(0,l.d5)(u,c,(e=>{var{typed:t,matrix:r}=e;return t(u,{"Array, Index":function(e,t){var n=r(e).subset(t);return t.isScalar()?n:n.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":d,"string, Index":h,"Array, Index, any":function(e,t,n){return r((0,i.d9)(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,o){return r((0,i.d9)(e)).subset(t,n,o).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":m})}));function h(e,t){if(!(0,n.dh)(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new s.m(t.size().length,1);var r=e.length;(0,o.Ls)(t.min()[0],r),(0,o.Ls)(t.max()[0],r);var i=t.dimension(0),a="";return i.forEach((function(t){a+=e.charAt(t)})),a}function f(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new s.m(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new s.m(i.size()[0],r.length);var a=e.length;(0,o.Ls)(t.min()[0]),(0,o.Ls)(t.max()[0]);for(var l=[],u=0;u<a;u++)l[u]=e.charAt(u);if(i.forEach((function(e,t){l[e]=r.charAt(t[0])})),l.length>a)for(var c=a-1,p=l.length;c<p;c++)l[c]||(l[c]=n);return l.join("")}function d(e,t){if(1!==t.size().length)throw new s.m(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return(0,a.YF)(e,r)}function m(e,t,r){if(1!==t.size().length)throw new s.m(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var o=(0,i.d9)(e);return(0,a.nI)(o,n,r),o}},44466:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(57139),i=r(19372),o=["typed","matrix","add"],a=(0,r(25864).d5)("trace",o,(e=>{var{typed:t,matrix:r,add:o}=e;return t("trace",{Array:function(e){return a(r(e))},SparseMatrix:function(e){var t=e._values,r=e._index,n=e._ptr,a=e._size,s=a[0],l=a[1];if(s===l){var u=0;if(t.length>0)for(var c=0;c<l;c++)for(var p=n[c],h=n[c+1],f=p;f<h;f++){var d=r[f];if(d===c){u=o(u,t[f]);break}if(d>c)break}return u}throw new RangeError("Matrix must be square (size: "+(0,i.WU)(a)+")")},DenseMatrix:a,any:n.d9});function a(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return(0,n.d9)(r[0]);throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");case 2:var a=t[0];if(a===t[1]){for(var s=0,l=0;l<a;l++)s=o(s,r[l][l]);return s}throw new RangeError("Matrix must be square (size: "+(0,i.WU)(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,i.WU)(t)+")")}}}))},28972:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(57139),i=r(19372),o=["typed","matrix"],a=(0,r(25864).d5)("transpose",o,(e=>{var{typed:t,matrix:r}=e;return t("transpose",{Array:function(e){return this(r(e)).valueOf()},Matrix:function(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var o=r[0],a=r[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,i.WU)(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var i,o=e._data,a=[],s=0;s<r;s++){i=a[s]=[];for(var l=0;l<t;l++)i[l]=(0,n.d9)(o[l][s])}return e.createDenseMatrix({data:a,size:[r,t],datatype:e._datatype})}(e,o,a);break;case"sparse":t=function(e,t,r){for(var i,o,a,s=e._values,l=e._index,u=e._ptr,c=s?[]:void 0,p=[],h=[],f=[],d=0;d<t;d++)f[d]=0;for(i=0,o=l.length;i<o;i++)f[l[i]]++;for(var m=0,g=0;g<t;g++)h.push(m),m+=f[g],f[g]=h[g];for(h.push(m),a=0;a<r;a++)for(var y=u[a],v=u[a+1],x=y;x<v;x++){var b=f[l[x]]++;p[b]=a,s&&(c[b]=(0,n.d9)(s[x]))}return e.createSparseMatrix({values:c,index:p,ptr:h,size:[r,t],datatype:e._datatype})}(e,o,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,i.WU)(this._size)+")")}return t},any:function(e){return(0,n.d9)(e)}})}))},99245:(e,t,r)=>{"use strict";r.d(t,{T:()=>u});var n=r(67242),i=r(1341),o=r(95001),a=r(25864),s="zeros",l=["typed","config","matrix","BigNumber"],u=(0,a.d5)(s,l,(e=>{var{typed:t,config:r,matrix:a,BigNumber:l}=e;return t(s,{"":function(){return"Array"===r.matrix?u([]):u([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return u(e,t)}return"Array"===r.matrix?u(e):u(e,"default")},Array:u,Matrix:function(e){var t=e.storage();return u(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return u(e.valueOf(),t)}});function u(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,i){(0,n.l9)(e)&&(t=!0,i[r]=e.toNumber())})),t}(e)?new l(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!(0,i.U)(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var s=a(t);return e.length>0?s.resize(e,r):s}var u=[];return e.length>0?(0,o.SI)(u,e,r):u}}))},22892:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(25864),i=r(67387),o="combinations",a=["typed"],s=(0,n.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{"number, number":i.Z,"BigNumber, BigNumber":function(e,t){var r,n,i=e.constructor,o=e.minus(t),a=new i(1);if(!l(e)||!l(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(r=a,t.lt(o))for(n=a;n.lte(o);n=n.plus(a))r=r.times(t.plus(n)).dividedBy(n);else for(n=a;n.lte(t);n=n.plus(a))r=r.times(o.plus(n)).dividedBy(n);return r}})}));function l(e){return e.isInteger()&&e.gte(0)}},12109:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(25864),i=r(1341),o=r(33710),a="combinationsWithRep",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{"number, number":function(e,t){if(!(0,i.U)(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,i.U)(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?(0,o.O)(e,e+t-1)/(0,o.O)(1,t):(0,o.O)(t+1,e+t-1)/(0,o.O)(1,e-1)},"BigNumber, BigNumber":function(e,t){var r,n,i=new(0,e.constructor)(1),o=e.minus(i);if(!u(e)||!u(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(r=i,t.lt(o))for(n=i;n.lte(o);n=n.plus(i))r=r.times(t.plus(n)).dividedBy(n);else for(n=i;n.lte(t);n=n.plus(i))r=r.times(o.plus(n)).dividedBy(n);return r}})}));function u(e){return e.isInteger()&&e.gte(0)}},84755:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(41877),i=r(25864),o="factorial",a=["typed","gamma"],s=(0,i.d5)(o,a,(e=>{var{typed:t,gamma:r}=e;return t(o,{number:function(e){if(e<0)throw new Error("Value must be non-negative");return r(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return r(e.plus(1))},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},65694:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(41877),i=r(25864),o=r(70218),a="gamma",s=["typed","config","multiplyScalar","pow","BigNumber","Complex"],l=(0,i.d5)(a,s,(e=>{var{typed:t,config:r,multiplyScalar:i,pow:s,BigNumber:l,Complex:u}=e;return t(a,{number:o.wZ,Complex:function(e){if(0===e.im)return this(e.re);e=new u(e.re-1,e.im);for(var t=new u(o.lG[0],0),r=1;r<o.lG.length;++r){var n=e.re+r,a=n*n+e.im*e.im;0!==a?(t.re+=o.lG[r]*n/a,t.im+=-o.lG[r]*e.im/a):t.re=o.lG[r]<0?-1/0:1/0}var l=new u(e.re+o.Yc+.5,e.im),c=Math.sqrt(2*Math.PI);e.re+=.5;var p=s(l,e);0===p.im?p.re*=c:(0===p.re||(p.re*=c),p.im*=c);var h=Math.exp(-l.re);return l.re=h*Math.cos(-l.im),l.im=h*Math.sin(-l.im),i(i(p,l),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new l(1/0):c(e.minus(1));if(!e.isFinite())return new l(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}});function c(e){if(e<8)return new l([1,1,2,6,24,120,720,5040][e]);var t=r.precision+(0|Math.log(e.toNumber())),n=l.clone({precision:t});if(e%2==1)return e.times(c(new l(e-1)));for(var i=e,o=new n(e),a=e.toNumber();i>2;)a+=i-=2,o=o.times(a);return new l(o.toPrecision(l.precision))}}))},50982:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(25864),i="kldivergence",o=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],a=(0,n.d5)(i,o,(e=>{var{typed:t,matrix:r,divide:n,sum:o,multiply:a,dotDivide:s,log:l,isNumeric:u}=e;return t(i,{"Array, Array":function(e,t){return c(r(e),r(t))},"Matrix, Array":function(e,t){return c(e,r(t))},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Matrix":function(e,t){return c(e,t)}});function c(e,t){var r=t.size().length,i=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(i>1)throw new Error("second object must be one dimensional");if(r!==i)throw new Error("Length of two vectors must be equal");if(0===o(e))throw new Error("Sum of elements in first object must be non zero");if(0===o(t))throw new Error("Sum of elements in second object must be non zero");var c=n(e,o(e)),p=n(t,o(t)),h=o(a(c,l(s(c,p))));return u(h)?h:Number.NaN}}))},2402:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(41877),i=r(25864),o="multinomial",a=["typed","add","divide","multiply","factorial","isInteger","isPositive"],s=(0,i.d5)(o,a,(e=>{var{typed:t,add:r,divide:i,multiply:a,factorial:s,isInteger:l,isPositive:u}=e;return t(o,{"Array | Matrix":function(e){var t=0,o=1;return(0,n.Et)(e,(function(e){if(!l(e)||!u(e))throw new TypeError("Positive integer value expected in function multinomial");t=r(t,e),o=a(o,s(e))})),i(s(t),o)}})}))},46952:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var n=r(1341),i=r(33710),o=r(25864),a="permutations",s=["typed","factorial"],l=(0,o.d5)(a,s,(e=>{var{typed:t,factorial:r}=e;return t(a,{"number | BigNumber":r,"number, number":function(e,t){if(!(0,n.U)(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,n.U)(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,i.O)(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var r,n;if(!u(e)||!u(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=e.mul(0).add(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1))r=r.times(n);return r}})}));function u(e){return e.isInteger()&&e.gte(0)}},86006:(e,t,r)=>{"use strict";r.d(t,{P:()=>l});var n=r(95001),i=r(25864),o=r(67242),a=r(94944),s=["typed","config","?on"],l=(0,i.d5)("pickRandom",s,(e=>{var{typed:t,config:r,on:i}=e,s=(0,a.l)(r.randomSeed);return i&&i("config",(function(e,t){e.randomSeed!==t.randomSeed&&(s=(0,a.l)(e.randomSeed))})),t({"Array | Matrix":function(e){return l(e,{})},"Array | Matrix, Object":function(e,t){return l(e,t)},"Array | Matrix, number":function(e,t){return l(e,{number:t})},"Array | Matrix, Array | Matrix":function(e,t){return l(e,{weights:t})},"Array | Matrix, Array | Matrix, number":function(e,t,r){return l(e,{number:r,weights:t})},"Array | Matrix, number, Array | Matrix":function(e,t,r){return l(e,{number:t,weights:r})}});function l(e,t){var{number:r,weights:i,elementWise:a=!0}=t,l=void 0===r;l&&(r=1);var u=(0,o.SW)(e)?e.create:(0,o.SW)(i)?i.create:null;e=e.valueOf(),i&&(i=i.valueOf()),!0===a&&(e=(0,n.xH)(e),i=(0,n.xH)(i));var c=0;if(void 0!==i){if(i.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var p=0,h=i.length;p<h;p++){if(!(0,o.hj)(i[p])||i[p]<0)throw new Error("Weights must be an array of positive numbers");c+=i[p]}}for(var f,d=e.length,m=[];m.length<r;){if(void 0===i)f=e[Math.floor(s()*d)];else for(var g=s()*c,y=0,v=e.length;y<v;y++)if((g-=i[y])<0){f=e[y];break}m.push(f)}return l?m[0]:u?u(m):m}}))},87805:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var n=r(25864),i=r(67242),o=r(94944),a=r(58511),s="random",l=["typed","config","?on"],u=(0,n.d5)(s,l,(e=>{var{typed:t,config:r,on:n}=e,l=(0,o.l)(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(l=(0,o.l)(e.randomSeed))})),t(s,{"":()=>c(0,1),number:e=>c(0,e),"number, number":(e,t)=>c(e,t),"Array | Matrix":e=>u(e,0,1),"Array | Matrix, number":(e,t)=>u(e,0,t),"Array | Matrix, number, number":(e,t,r)=>u(e,t,r)});function u(e,t,r){var n=(0,a.A)(e.valueOf(),(()=>c(t,r)));return(0,i.SW)(e)?e.create(n):n}function c(e,t){return e+l()*(t-e)}}))},92108:(e,t,r)=>{"use strict";r.d(t,{N:()=>u});var n=r(25864),i=r(58511),o=r(94944),a=r(67242),s="randomInt",l=["typed","config","?on"],u=(0,n.d5)(s,l,(e=>{var{typed:t,config:r,on:n}=e,l=(0,o.l)(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(l=(0,o.l)(e.randomSeed))})),t(s,{"":()=>c(0,1),number:e=>c(0,e),"number, number":(e,t)=>c(e,t),"Array | Matrix":e=>u(e,0,1),"Array | Matrix, number":(e,t)=>u(e,0,t),"Array | Matrix, number, number":(e,t,r)=>u(e,t,r)});function u(e,t,r){var n=(0,i.A)(e.valueOf(),(()=>c(t,r)));return(0,a.SW)(e)?e.create(n):n}function c(e,t){return Math.floor(e+l()*(t-e))}}))},58511:(e,t,r)=>{"use strict";function n(e,t){var r=[];if((e=e.slice(0)).length>1)for(var i=0,o=e.shift();i<o;i++)r.push(n(e,t));else for(var a=0,s=e.shift();a<s;a++)r.push(t());return r}r.d(t,{A:()=>n})},94944:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(68116),i=n(Date.now());function o(e){var t,r;return t=null===(r=e)?i:n(String(r)),function(){return t()}}},17097:(e,t,r)=>{"use strict";r.d(t,{z:()=>f});var n=r(67293),i=r(1341),o=r(25864),a=r(28466),s=r(61230),l=r(91833),u=r(87901),c=r(68283),p="compare",h=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],f=(0,o.d5)(p,h,(e=>{var{typed:t,config:r,equalScalar:o,matrix:h,BigNumber:f,Fraction:d,DenseMatrix:m}=e,g=(0,a.O)({typed:t}),y=(0,c.p)({typed:t,equalScalar:o}),v=(0,s.R)({typed:t,DenseMatrix:m}),x=(0,u.x)({typed:t}),b=(0,l.X)({typed:t});return t(p,{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return(0,n.R)(e,t,r.epsilon)?new f(0):new f(e.cmp(t))},"Fraction, Fraction":function(e,t){return new d(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return y(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return g(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return x(e,t,this)},"Array, Array":function(e,t){return this(h(e),h(t)).valueOf()},"Array, Matrix":function(e,t){return this(h(e),t)},"Matrix, Array":function(e,t){return this(e,h(t))},"SparseMatrix, any":function(e,t){return v(e,t,this,!1)},"DenseMatrix, any":function(e,t){return b(e,t,this,!1)},"any, SparseMatrix":function(e,t){return v(t,e,this,!0)},"any, DenseMatrix":function(e,t){return b(t,e,this,!0)},"Array, any":function(e,t){return b(h(e),t,this,!1).valueOf()},"any, Array":function(e,t){return b(h(t),e,this,!0).valueOf()}})}))},30207:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n=r(599),i=r(67242),o=r(25864),a="compareNatural",s=["typed","compare"],l=(0,o.d5)(a,s,(e=>{var{typed:t,compare:r}=e,o=r.signatures["boolean,boolean"];return t(a,{"any, any":function(e,t){var a,u=(0,i.kM)(e),c=(0,i.kM)(t);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==c&&"BigNumber"!==c&&"Fraction"!==c))return"0"!==(a=r(e,t)).toString()?a>0?1:-1:n(u,c);if("Array"===u||"Matrix"===u||"Array"===c||"Matrix"===c)return 0!==(a=s(this,e,t))?a:n(u,c);if(u!==c)return n(u,c);if("Complex"===u)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(e,t);if("Unit"===u)return e.equalBase(t)?this(e.value,t.value):l(this,e.formatUnits(),t.formatUnits());if("boolean"===u)return o(e,t);if("string"===u)return n(e,t);if("Object"===u)return function(e,t,r){var i=Object.keys(t),o=Object.keys(r);i.sort(n),o.sort(n);var a=l(e,i,o);if(0!==a)return a;for(var s=0;s<i.length;s++){var u=e(t[i[s]],r[o[s]]);if(0!==u)return u}return 0}(this,e,t);if("null"===u)return 0;if("undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(e,t,r){return(0,i.sA)(t)&&(0,i.sA)(r)?l(e,t.toJSON().values,r.toJSON().values):(0,i.sA)(t)?s(e,t.toArray(),r):(0,i.sA)(r)?s(e,t,r.toArray()):(0,i.jH)(t)?s(e,t.toJSON().data,r):(0,i.jH)(r)?s(e,t,r.toJSON().data):Array.isArray(t)?Array.isArray(r)?l(e,t,r):s(e,t,[r]):s(e,[t],r)}function l(e,t,r){for(var n=0,i=Math.min(t.length,r.length);n<i;n++){var o=e(t[n],r[n]);if(0!==o)return o}return t.length>r.length?1:t.length<r.length?-1:0}}))},6697:(e,t,r)=>{"use strict";r.d(t,{f:()=>u});var n=r(19372),i=r(25864),o=r(91833),a=r(87901),s="compareText",l=["typed","matrix"],u=(0,i.d5)(s,l,(e=>{var{typed:t,matrix:r}=e,i=(0,a.x)({typed:t}),l=(0,o.X)({typed:t});return t(s,{"any, any":n.cd,"DenseMatrix, DenseMatrix":function(e,t){return i(e,t,n.cd)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return l(e,t,n.cd,!1)},"any, DenseMatrix":function(e,t){return l(t,e,n.cd,!0)},"Array, any":function(e,t){return l(r(e),t,n.cd,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,n.cd,!0).valueOf()}})}))},72053:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(25864),i="deepEqual",o=["typed","equal"],a=(0,n.d5)(i,o,(e=>{var{typed:t,equal:r}=e;return t(i,{"any, any":function(e,t){return n(e.valueOf(),t.valueOf())}});function n(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(var o=0;o<i;o++)if(!n(e[o],t[o]))return!1;return!0}return!1}return!Array.isArray(t)&&r(e,t)}}))},25314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(25864),i=r(28466),o=r(45231),a=r(61230),s=r(87901),l=r(91833),u="equal",c=["typed","matrix","equalScalar","DenseMatrix"],p=(0,n.d5)(u,c,(e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:c}=e,p=(0,i.O)({typed:t}),h=(0,o.r)({typed:t,DenseMatrix:c}),f=(0,a.R)({typed:t,DenseMatrix:c}),d=(0,s.x)({typed:t}),m=(0,l.X)({typed:t});return t(u,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,n)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,n,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,n,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return f(e,t,n,!1)},"DenseMatrix, any":function(e,t){return m(e,t,n,!1)},"any, SparseMatrix":function(e,t){return f(t,e,n,!0)},"any, DenseMatrix":function(e,t){return m(t,e,n,!0)},"Array, any":function(e,t){return m(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return m(r(t),e,n,!0).valueOf()}})}));(0,n.d5)(u,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:r}=e;return t(u,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)}})}))},62306:(e,t,r)=>{"use strict";r.d(t,{f:()=>u});var n=r(67293),i=r(1341),o=r(25864),a=r(30768),s="equalScalar",l=["typed","config"],u=(0,o.d5)(s,l,(e=>{var{typed:t,config:r}=e;return t(s,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return(0,a.m)(e,t,r.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})}));(0,o.d5)(s,["typed","config"],(e=>{var{typed:t,config:r}=e;return t(s,{"number, number":function(e,t){return(0,i.RI)(e,t,r.epsilon)}})}))},95448:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(25864),i="equalText",o=["typed","compareText","isZero"],a=(0,n.d5)(i,o,(e=>{var{typed:t,compareText:r,isZero:n}=e;return t(i,{"any, any":function(e,t){return n(r(e,t))}})}))},11636:(e,t,r)=>{"use strict";r.d(t,{$:()=>f});var n=r(67293),i=r(1341),o=r(25864),a=r(28466),s=r(45231),l=r(61230),u=r(91833),c=r(87901),p="larger",h=["typed","config","matrix","DenseMatrix"],f=(0,o.d5)(p,h,(e=>{var{typed:t,config:r,matrix:o,DenseMatrix:h}=e,f=(0,a.O)({typed:t}),d=(0,s.r)({typed:t,DenseMatrix:h}),m=(0,l.R)({typed:t,DenseMatrix:h}),g=(0,c.x)({typed:t}),y=(0,u.X)({typed:t});return t(p,{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return this(o(e),t)},"Matrix, Array":function(e,t){return this(e,o(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(o(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(o(t),e,this,!0).valueOf()}})}))},40845:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(67293),i=r(1341),o=r(25864),a=r(28466),s=r(45231),l=r(61230),u=r(91833),c=r(87901),p="largerEq",h=["typed","config","matrix","DenseMatrix"],f=(0,o.d5)(p,h,(e=>{var{typed:t,config:r,matrix:o,DenseMatrix:h}=e,f=(0,a.O)({typed:t}),d=(0,s.r)({typed:t,DenseMatrix:h}),m=(0,l.R)({typed:t,DenseMatrix:h}),g=(0,c.x)({typed:t}),y=(0,u.X)({typed:t});return t(p,{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return this(o(e),t)},"Matrix, Array":function(e,t){return this(e,o(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(o(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(o(t),e,this,!0).valueOf()}})}))},51543:(e,t,r)=>{"use strict";r.d(t,{r:()=>f});var n=r(67293),i=r(1341),o=r(25864),a=r(28466),s=r(45231),l=r(61230),u=r(91833),c=r(87901),p="smaller",h=["typed","config","matrix","DenseMatrix"],f=(0,o.d5)(p,h,(e=>{var{typed:t,config:r,matrix:o,DenseMatrix:h}=e,f=(0,a.O)({typed:t}),d=(0,s.r)({typed:t,DenseMatrix:h}),m=(0,l.R)({typed:t,DenseMatrix:h}),g=(0,c.x)({typed:t}),y=(0,u.X)({typed:t});return t(p,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return this(o(e),t)},"Matrix, Array":function(e,t){return this(e,o(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(o(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(o(t),e,this,!0).valueOf()}})}))},67552:(e,t,r)=>{"use strict";r.d(t,{x:()=>f});var n=r(67293),i=r(1341),o=r(25864),a=r(28466),s=r(45231),l=r(61230),u=r(91833),c=r(87901),p="smallerEq",h=["typed","config","matrix","DenseMatrix"],f=(0,o.d5)(p,h,(e=>{var{typed:t,config:r,matrix:o,DenseMatrix:h}=e,f=(0,a.O)({typed:t}),d=(0,s.r)({typed:t,DenseMatrix:h}),m=(0,l.R)({typed:t,DenseMatrix:h}),g=(0,c.x)({typed:t}),y=(0,u.X)({typed:t});return t(p,{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||(0,i.RI)(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||(0,n.R)(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return d(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return f(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return f(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return g(e,t,this)},"Array, Array":function(e,t){return this(o(e),o(t)).valueOf()},"Array, Matrix":function(e,t){return this(o(e),t)},"Matrix, Array":function(e,t){return this(e,o(t))},"SparseMatrix, any":function(e,t){return m(e,t,this,!1)},"DenseMatrix, any":function(e,t){return y(e,t,this,!1)},"any, SparseMatrix":function(e,t){return m(t,e,this,!0)},"any, DenseMatrix":function(e,t){return y(t,e,this,!0)},"Array, any":function(e,t){return y(o(e),t,this,!1).valueOf()},"any, Array":function(e,t){return y(o(t),e,this,!0).valueOf()}})}))},1697:(e,t,r)=>{"use strict";r.d(t,{I:()=>p});var n=r(25864),i=r(28466),o=r(45231),a=r(61230),s=r(91833),l=r(87901),u="unequal",c=["typed","config","equalScalar","matrix","DenseMatrix"],p=(0,n.d5)(u,c,(e=>{var{typed:t,config:r,equalScalar:n,matrix:u,DenseMatrix:c}=e,p=(0,i.O)({typed:t}),h=(0,o.r)({typed:t,DenseMatrix:c}),f=(0,a.R)({typed:t,DenseMatrix:c}),d=(0,l.x)({typed:t}),m=(0,s.X)({typed:t});return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:g(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return h(e,t,g)},"SparseMatrix, DenseMatrix":function(e,t){return p(t,e,g,!0)},"DenseMatrix, SparseMatrix":function(e,t){return p(e,t,g,!1)},"DenseMatrix, DenseMatrix":function(e,t){return d(e,t,g)},"Array, Array":function(e,t){return this(u(e),u(t)).valueOf()},"Array, Matrix":function(e,t){return this(u(e),t)},"Matrix, Array":function(e,t){return this(e,u(t))},"SparseMatrix, any":function(e,t){return f(e,t,g,!1)},"DenseMatrix, any":function(e,t){return m(e,t,g,!1)},"any, SparseMatrix":function(e,t){return f(t,e,g,!0)},"any, DenseMatrix":function(e,t){return m(t,e,g,!0)},"Array, any":function(e,t){return m(u(e),t,g,!1).valueOf()},"any, Array":function(e,t){return m(u(t),e,g,!0).valueOf()}});function g(e,t){return!n(e,t)}}));(0,n.d5)(u,["typed","equalScalar"],(e=>{var{typed:t,equalScalar:r}=e;return t(u,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t)}})}))},72272:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(95001),i=r(25864),o="setCartesian",a=["typed","size","subset","compareNatural","Index","DenseMatrix"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s,DenseMatrix:l}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){var o=[];if(0!==i(r(e),new s(0))&&0!==i(r(t),new s(0))){var u=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a),c=(0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(a);o=[];for(var p=0;p<u.length;p++)for(var h=0;h<c.length;h++)o.push([u[p],c[h]])}return Array.isArray(e)&&Array.isArray(t)?o:new l(o)}})}))},39786:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(95001),i=r(25864),o="setDifference",a=["typed","size","subset","compareNatural","Index","DenseMatrix"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s,DenseMatrix:l}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){var o;if(0===i(r(e),new s(0)))o=[];else{if(0===i(r(t),new s(0)))return(0,n.xH)(e.toArray());var u,c=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a)),p=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(a));o=[];for(var h=0;h<c.length;h++){u=!1;for(var f=0;f<p.length;f++)if(0===a(c[h].value,p[f].value)&&c[h].identifier===p[f].identifier){u=!0;break}u||o.push(c[h])}}return Array.isArray(e)&&Array.isArray(t)?(0,n.D$)(o):new l((0,n.D$)(o))}})}))},25626:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(95001),i=r(25864),o="setDistinct",a=["typed","size","subset","compareNatural","Index","DenseMatrix"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s,DenseMatrix:l}=e;return t(o,{"Array | Matrix":function(e){var t;if(0===i(r(e),new s(0)))t=[];else{var o=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a);(t=[]).push(o[0]);for(var u=1;u<o.length;u++)0!==a(o[u],o[u-1])&&t.push(o[u])}return Array.isArray(e)?t:new l(t)}})}))},16752:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(95001),i=r(25864),o="setIntersect",a=["typed","size","subset","compareNatural","Index","DenseMatrix"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s,DenseMatrix:l}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){var o;if(0===i(r(e),new s(0))||0===i(r(t),new s(0)))o=[];else{var u=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a)),c=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(a));o=[];for(var p=0;p<u.length;p++)for(var h=0;h<c.length;h++)if(0===a(u[p].value,c[h].value)&&u[p].identifier===c[h].identifier){o.push(u[p]);break}}return Array.isArray(e)&&Array.isArray(t)?(0,n.D$)(o):new l((0,n.D$)(o))}})}))},99333:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(95001),i=r(25864),o="setIsSubset",a=["typed","size","subset","compareNatural","Index"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(r(e),new s(0)))return!0;if(0===i(r(t),new s(0)))return!1;for(var o,l=(0,n.yV)((0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a)),u=(0,n.yV)((0,n.xH)(Array.isArray(t)?t:t.toArray()).sort(a)),c=0;c<l.length;c++){o=!1;for(var p=0;p<u.length;p++)if(0===a(l[c].value,u[p].value)&&l[c].identifier===u[p].identifier){o=!0;break}if(!1===o)return!1}return!0}})}))},36329:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(95001),i=r(25864),o="setMultiplicity",a=["typed","size","subset","compareNatural","Index"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s}=e;return t(o,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===i(r(t),new s(0)))return 0;for(var o=(0,n.xH)(Array.isArray(t)?t:t.toArray()),l=0,u=0;u<o.length;u++)0===a(o[u],e)&&l++;return l}})}))},91415:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(95001),i=r(25864),o="setPowerset",a=["typed","size","subset","compareNatural","Index"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,subset:i,compareNatural:a,Index:s}=e;return t(o,{"Array | Matrix":function(e){if(0===i(r(e),new s(0)))return[];for(var t=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(a),o=[],u=0;u.toString(2).length<=t.length;)o.push(l(t,u.toString(2).split("").reverse())),u++;return function(e){for(var t=[],r=e.length-1;r>0;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(o)}});function l(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}}))},76269:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(95001),i=r(25864),o="setSize",a=["typed","compareNatural"],s=(0,i.d5)(o,a,(e=>{var{typed:t,compareNatural:r}=e;return t(o,{"Array | Matrix":function(e){return Array.isArray(e)?(0,n.xH)(e).length:(0,n.xH)(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?(0,n.xH)(e).length:(0,n.xH)(e.toArray()).length;for(var i=(0,n.xH)(Array.isArray(e)?e:e.toArray()).sort(r),o=1,a=1;a<i.length;a++)0!==r(i[a],i[a-1])&&o++;return o}})}))},45528:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(95001),i=r(25864),o="setSymDifference",a=["typed","size","concat","subset","setDifference","Index"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,concat:i,subset:a,setDifference:s,Index:l}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(r(e),new l(0)))return(0,n.xH)(t);if(0===a(r(t),new l(0)))return(0,n.xH)(e);var o=(0,n.xH)(e),u=(0,n.xH)(t);return i(s(o,u),s(u,o))}})}))},82560:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(95001),i=r(25864),o="setUnion",a=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],s=(0,i.d5)(o,a,(e=>{var{typed:t,size:r,concat:i,subset:a,setIntersect:s,setSymDifference:l,Index:u}=e;return t(o,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(r(e),new u(0)))return(0,n.xH)(t);if(0===a(r(t),new u(0)))return(0,n.xH)(e);var o=(0,n.xH)(e),c=(0,n.xH)(t);return i(l(o,c),s(o,c))}})}))},98044:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(41877),i=r(1341),o=["typed"],a=(0,r(25864).d5)("erf",o,(e=>{var{typed:t}=e;return t("name",{number:function(e){var t=Math.abs(e);return t>=p?(0,i.Xx)(e):t<=s?(0,i.Xx)(e)*function(e){var t,r=e*e,n=u[0][4]*r,i=r;for(t=0;t<3;t+=1)n=(n+u[0][t])*r,i=(i+c[0][t])*r;return e*(n+u[0][3])/(i+c[0][3])}(t):t<=4?(0,i.Xx)(e)*(1-function(e){var t,r=u[1][8]*e,n=e;for(t=0;t<7;t+=1)r=(r+u[1][t])*e,n=(n+c[1][t])*e;var i=(r+u[1][7])/(n+c[1][7]),o=parseInt(16*e)/16,a=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-a)*i}(t)):(0,i.Xx)(e)*(1-function(e){var t,r=1/(e*e),n=u[2][5]*r,i=r;for(t=0;t<4;t+=1)n=(n+u[2][t])*r,i=(i+c[2][t])*r;var o=r*(n+u[2][4])/(i+c[2][4]);o=(l-o)/e,r=parseInt(16*e)/16;var a=(e-r)*(e+r);return Math.exp(-r*r)*Math.exp(-a)*o}(t))},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})})),s=.46875,l=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],c=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],p=Math.pow(2,53)},5148:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(95001),i=r(25864),o=r(39420),a=["typed","abs","map","median","subtract"],s=(0,i.d5)("mad",a,(e=>{var{typed:t,abs:r,map:i,median:a,subtract:s}=e;return t("mad",{"Array | Matrix":l,"...":function(e){return l(e)}});function l(e){if(0===(e=(0,n.xH)(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=a(e);return a(i(e,(function(e){return r(s(e,t))})))}catch(l){throw l instanceof TypeError&&-1!==l.message.indexOf("median")?new TypeError(l.message.replace("median","mad")):(0,o.x)(l,"mad")}}}))},77372:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(41877),i=r(25864),o=r(39420),a=["typed","config","numeric","larger"],s=(0,i.d5)("max",a,(e=>{var{typed:t,config:r,numeric:i,larger:a}=e;return t("max",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){return(0,n.u4)(e,t.valueOf(),s)},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function max");return l(e)}});function s(e,t){try{return a(e,t)?e:t}catch(r){throw(0,o.x)(r,"max",t)}}function l(e){var t;if((0,n.Et)(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(r){throw(0,o.x)(r,"max",e)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=i(t,r.number)),t}}))},52903:(e,t,r)=>{"use strict";r.d(t,{Q:()=>u});var n=r(41877),i=r(95001),o=r(25864),a=r(39420),s="mean",l=["typed","add","divide"],u=(0,o.d5)(s,l,(e=>{var{typed:t,add:r,divide:o}=e;return t(s,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){try{var s=(0,n.u4)(e,t,r),l=Array.isArray(e)?(0,i.aJ)(e):e.size();return o(s,l[t])}catch(u){throw(0,a.x)(u,"mean")}},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function mean");return l(e)}});function l(e){var t,i=0;if((0,n.Et)(e,(function(e){try{t=void 0===t?e:r(t,e),i++}catch(n){throw(0,a.x)(n,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return o(t,i)}}))},32285:(e,t,r)=>{"use strict";r.d(t,{O:()=>u});var n=r(41877),i=r(95001),o=r(25864),a=r(39420),s="median",l=["typed","add","divide","compare","partitionSelect"],u=(0,o.d5)(s,l,(e=>{var{typed:t,add:r,divide:o,compare:l,partitionSelect:u}=e;function c(e){try{var t=(e=(0,i.xH)(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=u(e,r+1),o=e[r],s=0;s<r;++s)l(e[s],o)>0&&(o=e[s]);return h(o,n)}var c=u(e,(t-1)/2);return p(c)}catch(f){throw(0,a.x)(f,"median")}}var p=t({"number | BigNumber | Complex | Unit":function(e){return e}}),h=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return o(r(e,t),2)}});return t(s,{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function median");return c(e)}})}))},32043:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(41877),i=r(25864),o=r(39420),a=["typed","config","numeric","smaller"],s=(0,i.d5)("min",a,(e=>{var{typed:t,config:r,numeric:i,smaller:a}=e;return t("min",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){return(0,n.u4)(e,t.valueOf(),s)},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function min");return l(e)}});function s(e,t){try{return a(e,t)?e:t}catch(r){throw(0,o.x)(r,"min",t)}}function l(e){var t;if((0,n.Et)(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(r){throw(0,o.x)(r,"min",e)}})),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"==typeof t&&(t=i(t,r.number)),t}}))},46446:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(95001),i=r(25864),o="mode",a=["typed","isNaN","isNumeric"],s=(0,i.d5)(o,a,(e=>{var{typed:t,isNaN:r,isNumeric:i}=e;return t(o,{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=(0,n.xH)(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},o=[],a=0,s=0;s<e.length;s++){var l=e[s];if(i(l)&&r(l))throw new Error("Cannot calculate mode of an array containing NaN values");l in t||(t[l]=0),t[l]++,t[l]===a?o.push(l):t[l]>a&&(a=t[l],o=[l])}return o}}))},45947:(e,t,r)=>{"use strict";r.d(t,{x:()=>l});var n=r(41877),i=r(25864),o=r(39420),a="prod",s=["typed","config","multiplyScalar","numeric"],l=(0,i.d5)(a,s,(e=>{var{typed:t,config:r,multiplyScalar:i,numeric:s}=e;return t(a,{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return l(e)}});function l(e){var t;if((0,n.Et)(e,(function(e){try{t=void 0===t?e:i(t,e)}catch(r){throw(0,o.x)(r,"prod",e)}})),"string"==typeof t&&(t=s(t,r.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}))},93709:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(67242),i=r(1341),o=r(95001),a=["typed","add","multiply","partitionSelect","compare"],s=(0,r(25864).d5)("quantileSeq",a,(e=>{var{typed:t,add:r,multiply:a,partitionSelect:s,compare:l}=e;function u(e,t,i){var u=(0,o.xH)(e),p=u.length;if(0===p)throw new Error("Cannot calculate quantile of an empty sequence");if((0,n.hj)(t)){var h=t*(p-1),f=h%1;if(0===f){var d=i?u[h]:s(u,h);return c(d),d}var m,g,y=Math.floor(h);if(i)m=u[y],g=u[y+1];else{g=s(u,y+1),m=u[y];for(var v=0;v<y;++v)l(u[v],m)>0&&(m=u[v])}return c(m),c(g),r(a(m,1-f),a(g,f))}var x=t.times(p-1);if(x.isInteger()){x=x.toNumber();var b=i?u[x]:s(u,x);return c(b),b}var _,w,E=x.floor(),M=x.minus(E),S=E.toNumber();if(i)_=u[S],w=u[S+1];else{w=s(u,S+1),_=u[S];for(var N=0;N<S;++N)l(u[N],_)>0&&(_=u[N])}c(_),c(w);var k=new M.constructor(1);return r(a(_,k.minus(M)),a(w,M))}var c=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,r){var o,a,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,n.uZ)(e)){if("boolean"==typeof(r=r||!1)){if(a=e.valueOf(),(0,n.hj)(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return u(a,t,r);if(t>1){if(!(0,i.U)(t))throw new Error("N must be a positive integer");var l=t+1;o=new Array(t);for(var c=0;c<t;)o[c]=u(a,++c/l,r);return o}}if((0,n.l9)(t)){var p=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(s=new p(1),t.lte(s))return new p(u(a,t,r));if(t.gt(s)){if(!t.isInteger())throw new Error("N must be a positive integer");var h=t.toNumber();if(h>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new p(h+1);o=new Array(h);for(var d=0;d<h;)o[d]=new p(u(a,new p(++d).div(f),r));return o}}if(Array.isArray(t)){o=new Array(t.length);for(var m=0;m<o.length;++m){var g=t[m];if((0,n.hj)(g)){if(g<0||g>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(0,n.l9)(g))throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new g.constructor(1),g.isNegative()||g.gt(s))throw new Error("Probability must be between 0 and 1, inclusive")}o[m]=u(a,g,r)}return o}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}))},67199:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(25864),i=["typed","sqrt","variance"],o=(0,n.d5)("std",i,(e=>{var{typed:t,sqrt:r,variance:n}=e;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(n.apply(null,arguments))}catch(i){throw i instanceof TypeError&&-1!==i.message.indexOf(" variance")?new TypeError(i.message.replace(" variance"," std")):i}}}))},58548:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(41877),i=r(25864),o=r(39420),a=["typed","config","add","numeric"],s=(0,i.d5)("sum",a,(e=>{var{typed:t,config:r,add:i,numeric:a}=e;return t("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){try{return(0,n.u4)(e,t,i)}catch(r){throw(0,o.x)(r,"sum")}},"...":function(e){if((0,n.CQ)(e))throw new TypeError("Scalar values expected in function sum");return s(e)}});function s(e){var t;return(0,n.Et)(e,(function(e){try{t=void 0===t?e:i(t,e)}catch(r){throw(0,o.x)(r,"sum",e)}})),void 0===t&&(t=a(0,r.number)),"string"==typeof t&&(t=a(t,r.number)),t}}))},39420:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(67242);function i(e,t,r){var i;return-1!==String(e).indexOf("Unexpected type")?(i=arguments.length>2?" (type: "+(0,n.kM)(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+i)):-1!==String(e).indexOf("complex numbers")?(i=arguments.length>2?" (type: "+(0,n.kM)(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+i)):e}},45838:(e,t,r)=>{"use strict";r.d(t,{F:()=>c});var n=r(41877),i=r(67242),o=r(25864),a=r(39420),s="unbiased",l="variance",u=["typed","add","subtract","multiply","divide","apply","isNaN"],c=(0,o.d5)(l,u,(e=>{var{typed:t,add:r,subtract:o,multiply:u,divide:c,apply:p,isNaN:h}=e;return t(l,{"Array | Matrix":function(e){return f(e,s)},"Array | Matrix, string":f,"Array | Matrix, number | BigNumber":function(e,t){return d(e,t,s)},"Array | Matrix, number | BigNumber, string":d,"...":function(e){return f(e,s)}});function f(e,t){var s,l=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,n.Et)(e,(function(e){try{s=void 0===s?e:r(s,e),l++}catch(t){throw(0,a.x)(t,"variance",e)}})),0===l)throw new Error("Cannot calculate variance of an empty array");var p=c(s,l);if(s=void 0,(0,n.Et)(e,(function(e){var t=o(e,p);s=void 0===s?u(t,t):r(s,u(t,t))})),h(s))return s;switch(t){case"uncorrected":return c(s,l);case"biased":return c(s,l+1);case"unbiased":var f=(0,i.l9)(s)?s.mul(0):0;return 1===l?f:c(s,l-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function d(e,t,r){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return p(e,t,(e=>f(e,r)))}catch(n){throw(0,a.x)(n,"variance")}}}))},12066:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(25864),i=(0,n.d5)("bin",["typed","format"],(e=>{var{typed:t,format:r}=e;return t("bin",{"number | BigNumber":function(e){return r(e,{notation:"bin"})},"number | BigNumber, number":function(e,t){return r(e,{notation:"bin",wordSize:t})}})}))},57924:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(19372),i=r(25864),o="format",a=["typed"],s=(0,i.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{any:n.WU,"any, Object | function | number":n.WU})}))},29749:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(25864),i=(0,n.d5)("hex",["typed","format"],(e=>{var{typed:t,format:r}=e;return t("hex",{"number | BigNumber":function(e){return r(e,{notation:"hex"})},"number | BigNumber, number":function(e,t){return r(e,{notation:"hex",wordSize:t})}})}))},27965:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(25864),i=(0,n.d5)("oct",["typed","format"],(e=>{var{typed:t,format:r}=e;return t("oct",{"number | BigNumber":function(e){return r(e,{notation:"oct"})},"number | BigNumber, number":function(e,t){return r(e,{notation:"oct",wordSize:t})}})}))},89009:(e,t,r)=>{"use strict";r.d(t,{P:()=>l});var n=r(19372),i=r(67242),o=r(25864),a="print",s=["typed"],l=(0,o.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{"string, Object | Array":u,"string, Object | Array, number | Object":u})}));function u(e,t,r){return e.replace(/\$([\w.]+)/g,(function(e,o){for(var a=o.split("."),s=t[a.shift()];a.length&&void 0!==s;){var l=a.shift();s=l?s[l]:s+"."}return void 0!==s?(0,i.HD)(s)?s:(0,n.WU)(s,r):e}))}},64646:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(25864),i=r(41877),o="acos",a=["typed","config","Complex"],s=(0,n.d5)(o,a,(e=>{var{typed:t,config:r,Complex:n}=e;return t(o,{number:function(e){return e>=-1&&e<=1||r.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},78598:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="acosh",s=["typed","config","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n}=e;return t(a,{number:function(e){return e>=1||r.predictable?(0,o.cw)(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},52624:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="acot",s=["typed","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r}=e;return t(a,{number:o.y,Complex:function(e){return e.acot()},BigNumber:function(e){return new r(1).div(e).atan()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},95992:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="acoth",s=["typed","config","Complex","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n,BigNumber:s}=e;return t(a,{number:function(e){return e>=1||e<=-1||r.predictable?(0,o.LJ)(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new s(1).div(e).atanh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},31827:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="acsc",s=["typed","config","Complex","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n,BigNumber:s}=e;return t(a,{number:function(e){return e<=-1||e>=1||r.predictable?(0,o.VL)(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new s(1).div(e).asin()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},32620:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="acsch",s=["typed","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r}=e;return t(a,{number:o.F4,Complex:function(e){return e.acsch()},BigNumber:function(e){return new r(1).div(e).asinh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},23532:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="asec",s=["typed","config","Complex","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n,BigNumber:s}=e;return t(a,{number:function(e){return e<=-1||e>=1||r.predictable?(0,o.zq)(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new s(1).div(e).acos()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},24224:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="asech",s=["typed","config","Complex","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n,BigNumber:s}=e;return t(a,{number:function(e){if(e<=1&&e>=-1||r.predictable){var t=1/e;if(t>0||r.predictable)return(0,o.Pe)(e);var i=Math.sqrt(t*t-1);return new n(Math.log(i-t),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new s(1).div(e).acosh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},62972:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(25864),i=r(41877),o="asin",a=["typed","config","Complex"],s=(0,n.d5)(o,a,(e=>{var{typed:t,config:r,Complex:n}=e;return t(o,{number:function(e){return e>=-1&&e<=1||r.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},2265:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(25864),i=r(41877),o=r(52883),a=["typed"],s=(0,n.d5)("asinh",a,(e=>{var{typed:t}=e;return t("asinh",{number:o.Rm,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},99660:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("atan",o,(e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},29755:(e,t,r)=>{"use strict";r.d(t,{U:()=>f});var n=r(25864),i=r(47128),o=r(28466),a=r(97989),s=r(81418),l=r(61230),u=r(87901),c=r(91833),p="atan2",h=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],f=(0,n.d5)(p,h,(e=>{var{typed:t,matrix:r,equalScalar:n,BigNumber:h,DenseMatrix:f}=e,d=(0,i.h)({typed:t,equalScalar:n}),m=(0,o.O)({typed:t}),g=(0,a.e)({typed:t,equalScalar:n}),y=(0,s.n)({typed:t,equalScalar:n}),v=(0,l.R)({typed:t,DenseMatrix:f}),x=(0,u.x)({typed:t}),b=(0,c.X)({typed:t});return t(p,{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return h.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return g(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return d(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return m(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return x(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return y(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return b(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return v(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return b(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return b(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return b(r(t),e,this,!0).valueOf()}})}))},9454:(e,t,r)=>{"use strict";r.d(t,{m:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="atanh",s=["typed","config","Complex"],l=(0,n.d5)(a,s,(e=>{var{typed:t,config:r,Complex:n}=e;return t(a,{number:function(e){return e<=1&&e>=-1||r.predictable?(0,o.Sz)(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},86110:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("cos",o,(e=>{var{typed:t}=e;return t("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},14762:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(25864),i=r(41877),o=r(1341),a="cosh",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.f9,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},33069:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var n=r(25864),i=r(41877),o=r(52883),a=["typed","BigNumber"],s=(0,n.d5)("cot",a,(e=>{var{typed:t,BigNumber:r}=e;return t("cot",{number:o.Nw,Complex:function(e){return e.cot()},BigNumber:function(e){return new r(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},80858:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="coth",s=["typed","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r}=e;return t(a,{number:o.ws,Complex:function(e){return e.coth()},BigNumber:function(e){return new r(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},92922:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(25864),i=r(41877),o=r(52883),a=["typed","BigNumber"],s=(0,n.d5)("csc",a,(e=>{var{typed:t,BigNumber:r}=e;return t("csc",{number:o.c$,Complex:function(e){return e.csc()},BigNumber:function(e){return new r(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},52315:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="csch",s=["typed","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r}=e;return t(a,{number:o.zr,Complex:function(e){return e.csch()},BigNumber:function(e){return new r(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},53232:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(25864),i=r(41877),o=r(52883),a=["typed","BigNumber"],s=(0,n.d5)("sec",a,(e=>{var{typed:t,BigNumber:r}=e;return t("sec",{number:o.wX,Complex:function(e){return e.sec()},BigNumber:function(e){return new r(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},11719:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="sech",s=["typed","BigNumber"],l=(0,n.d5)(a,s,(e=>{var{typed:t,BigNumber:r}=e;return t(a,{number:o.pL,Complex:function(e){return e.sech()},BigNumber:function(e){return new r(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},76688:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("sin",o,(e=>{var{typed:t}=e;return t("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},27772:(e,t,r)=>{"use strict";r.d(t,{P:()=>l});var n=r(25864),i=r(41877),o=r(52883),a="sinh",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.T$,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},92096:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(25864),i=r(41877),o=["typed"],a=(0,n.d5)("tan",o,(e=>{var{typed:t}=e;return t("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},27711:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(25864),i=r(41877),o=r(1341),a=["typed"],s=(0,n.d5)("tanh",a,(e=>{var{typed:t}=e;return t("tanh",{number:o.AE,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value)},"Array | Matrix":function(e){return(0,i.Fh)(e,this,!0)}})}))},62781:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(25864),i=r(87901),o=r(91833),a=["typed","matrix"],s=(0,n.d5)("to",a,(e=>{var{typed:t,matrix:r}=e,n=(0,i.x)({typed:t}),a=(0,o.X)({typed:t});return t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return n(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Matrix, any":function(e,t){return a(e,t,this,!1)},"any, Matrix":function(e,t){return a(t,e,this,!0)},"Array, any":function(e,t){return a(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return a(r(t),e,this,!0).valueOf()}})}))},2404:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(57139),i=r(25864),o="clone",a=["typed"],s=(0,i.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{any:n.d9})}))},88531:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(25864),i="hasNumericValue",o=["typed","isNumeric"],a=(0,n.d5)(i,o,(e=>{var{typed:t,isNumeric:r}=e;return t(i,{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return r(e)}})}))},9516:(e,t,r)=>{"use strict";r.d(t,{u:()=>l});var n=r(41877),i=r(1341),o=r(25864),a="isInteger",s=["typed"],l=(0,o.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:i.U,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},26624:(e,t,r)=>{"use strict";r.d(t,{n:()=>l});var n=r(41877),i=r(25864),o=r(7311),a="isNaN",s=["typed"],l=(0,i.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.kU,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,Number.isNaN)}})}))},54873:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var n=r(41877),i=r(25864),o=r(7311),a="isNegative",s=["typed"],l=(0,i.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.Tk,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},86931:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(41877),i=r(25864),o="isNumeric",a=["typed"],s=(0,i.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},57575:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(41877),i=r(25864),o=r(7311),a="isPositive",s=["typed"],l=(0,i.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.r,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},81735:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(41877),i=r(25864),o="isPrime",a=["typed"],s=(0,i.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;if(e.lt(Math.pow(2,32))){for(var t=e.toNumber(),r=5;r*r<=t;r+=6)if(t%r==0||t%(r+2)==0)return!1;return!0}function n(e,t,r){for(var n=1;!t.eq(0);)t.mod(2).eq(0)?(t=t.div(2),e=e.mul(e).mod(r)):(t=t.sub(1),n=e.mul(n).mod(r));return n}for(var i=e.constructor.clone({precision:2*e.toFixed(0).length}),o=0,a=(e=new i(e)).sub(1);a.mod(2).eq(0);)a=a.div(2),o+=1;var s=null;if(e.lt("3317044064679887385961981"))s=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter((t=>t<e));else{var l=Math.min(e.toNumber()-2,Math.floor(2*Math.pow(e.toFixed(0).length*Math.log(10),2)));s=[];for(var u=2;u<=l;u+=1)s.push(l)}for(var c=0;c<s.length;c+=1){var p=s[c],h=n(e.sub(e).add(p),a,e);if(!h.eq(1))for(var f=0,d=h;!d.eq(e.sub(1));f+=1,d=d.mul(d).mod(e))if(f===o-1)return!1}return!0},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},29140:(e,t,r)=>{"use strict";r.d(t,{t:()=>l});var n=r(41877),i=r(25864),o=r(7311),a="isZero",s=["typed"],l=(0,i.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{number:o.hG,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return(0,n.Fh)(e,this)}})}))},68160:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(67242),i=r(25864),o=r(59576),a=["number","?bignumber","?fraction"],s=(0,i.d5)("numeric",a,(e=>{var{number:t,bignumber:r,fraction:i}=e,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:e=>t(e),BigNumber:r?e=>r(e):o.R3,Fraction:i?e=>i(e):o.nG};return function(e,t){var r=(0,n.kM)(e);if(!(r in a))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in s))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(s).join(", "));return t===r?e:s[t](e)}}))},16598:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(25864),i=r(67242),o="typeOf",a=["typed"],s=(0,n.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{any:i.kM})}))},29094:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=[],i=(0,r(25864).d5)("replacer",n,(()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}))},46380:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=["classes"],i=(0,r(25864).d5)("reviver",n,(e=>{var{classes:t}=e;return function(e,r){var n=t[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r}}))},4232:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>a,Ft:()=>s,G6:()=>l,GC:()=>u,iU:()=>c,ih:()=>p,xx:()=>h,Dv:()=>f,qX:()=>d,B:()=>m,Vk:()=>g,K4:()=>y,OS:()=>v,vU:()=>x,iO:()=>b,nz:()=>_,YS:()=>w,$y:()=>E,_$:()=>M,y9:()=>S,Ue:()=>N,QV:()=>k});var n=r(1341),i="number",o="number, number";function a(e){return Math.abs(e)}function s(e,t){return e+t}function l(e,t){return e*t}function u(e){return-e}function c(e){return e}function p(e){return(0,n.eK)(e)}function h(e){return Math.ceil(e)}function f(e){return e*e*e}function d(e){return Math.exp(e)}function m(e){return(0,n.t$)(e)}function g(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}function y(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,i=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(i/e)}function v(e){return Math.log(e)}function x(e){return(0,n.mv)(e)}function b(e){return(0,n.k3)(e)}function _(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function w(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function E(e){return(0,n.Xx)(e)}function M(e){return e*e}function S(e,t){var r,i,o,a=0,s=1,l=1,u=0;if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)o=e-(i=Math.floor(e/t))*t,r=a,a=s-i*a,s=r,r=l,l=u-i*l,u=r,e=t,t=o;return e<0?[-e,-s,-u]:[e,e?s:0,u]}function N(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat((0,n.FH)(e,t))}a.signature=i,s.signature=o,l.signature=o,u.signature=i,c.signature=i,p.signature=i,h.signature=i,f.signature=i,d.signature=i,m.signature=i,g.signature=o,y.signature=o,v.signature=i,x.signature=i,b.signature=i,_.signature=o,w.signature=o,E.signature=i,M.signature=i,S.signature=o,N.signature=o,k.signature=o},96373:(e,t,r)=>{"use strict";r.d(t,{qC:()=>o,NA:()=>a,LE:()=>s,xS:()=>l,ZG:()=>u,Lz:()=>c,ji:()=>p});var n=r(1341),i="number, number";function o(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitAnd");return e&t}function a(e){if(!(0,n.U)(e))throw new Error("Integer expected in function bitNot");return~e}function s(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitOr");return e|t}function l(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function bitXor");return e^t}function u(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function leftShift");return e<<t}function c(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function p(e,t){if(!(0,n.U)(e)||!(0,n.U)(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}o.signature=i,a.signature="number",s.signature=i,l.signature=i,u.signature=i,c.signature=i,p.signature=i},67387:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(1341),i=r(33710);function o(e,t){if(!(0,n.U)(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,n.U)(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var r=e-t;return t<r?(0,i.O)(r+1,e)/(0,i.O)(1,t):(0,i.O)(t+1,e)/(0,i.O)(1,r)}o.signature="number, number"},21411:(e,t,r)=>{"use strict";r.d(t,{pi:()=>n,B:()=>i,e:()=>o,S:()=>a});var n=Math.PI,i=2*Math.PI,o=Math.E,a=1.618033988749895},17700:(e,t,r)=>{"use strict";r.d(t,{xY:()=>i,RY:()=>o,kl:()=>a,FO:()=>s});var n="number, number";function i(e){return!e}function o(e,t){return!(!e&&!t)}function a(e,t){return!!e!=!!t}function s(e,t){return!(!e||!t)}i.signature="number",o.signature=n,a.signature=n,s.signature=n},70218:(e,t,r)=>{"use strict";r.d(t,{wZ:()=>o,Yc:()=>a,lG:()=>s});var n=r(1341),i=r(33710);function o(e){var t;if((0,n.U)(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:(0,i.O)(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*o(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,l=r*e,u=l*e,c=u*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*l)-571/(2488320*u)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,t=s[0];for(var p=1;p<s.length;++p)t+=s[p]/(e+p);var h=e+a+.5;return Math.sqrt(2*Math.PI)*Math.pow(h,e+.5)*Math.exp(-h)*t}o.signature="number";var a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22]},52883:(e,t,r)=>{"use strict";r.d(t,{cw:()=>o,y:()=>a,LJ:()=>s,VL:()=>l,F4:()=>u,zq:()=>c,Pe:()=>p,Rm:()=>h,Sz:()=>f,Nw:()=>d,ws:()=>m,c$:()=>g,zr:()=>y,wX:()=>v,pL:()=>x,T$:()=>b});var n=r(1341),i="number";function o(e){return(0,n.__)(e)}function a(e){return Math.atan(1/e)}function s(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function l(e){return Math.asin(1/e)}function u(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function c(e){return Math.acos(1/e)}function p(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t)}function h(e){return(0,n.Vf)(e)}function f(e){return(0,n.C8)(e)}function d(e){return 1/Math.tan(e)}function m(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function g(e){return 1/Math.sin(e)}function y(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*(0,n.Xx)(e)}function v(e){return 1/Math.cos(e)}function x(e){return 2/(Math.exp(e)+Math.exp(-e))}function b(e){return(0,n.R_)(e)}o.signature=i,a.signature=i,s.signature=i,l.signature=i,u.signature=i,c.signature=i,p.signature=i,h.signature=i,f.signature=i,d.signature=i,m.signature=i,g.signature=i,y.signature=i,v.signature=i,x.signature=i,b.signature=i},7311:(e,t,r)=>{"use strict";r.d(t,{Tk:()=>i,r:()=>o,hG:()=>a,kU:()=>s});r(1341);var n="number";function i(e){return e<0}function o(e){return e>0}function a(e){return 0===e}function s(e){return Number.isNaN(e)}i.signature=n,o.signature=n,a.signature=n,s.signature=n},74739:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(81501),i=["?on","config"],o=(0,r(25864).d5)("BigNumber",i,(e=>{var{on:t,config:r}=e,i=n.clone({precision:r.precision,modulo:9});return i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(e){return new i(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&i.config({precision:e.precision})})),i}),{isClass:!0})},28738:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(25864),i=r(41877),o=["typed","BigNumber"],a=(0,n.d5)("bignumber",o,(e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(e){return new r(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var n=t[2],i=r(t[1]),o=new r(2).pow(Number(n));if(i.gt(o.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var a=new r(2).pow(Number(n)-1);return i.gte(a)?i.sub(o):i}return new r(e)},BigNumber:function(e){return e},Fraction:function(e){return new r(e.n).div(e.d).times(e.s)},null:function(e){return new r(0)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},18941:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(25864),i=r(41877),o="boolean",a=["typed"],s=(0,n.d5)(o,a,(e=>{var{typed:t}=e;return t(o,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},52349:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(67242),i=r(19372),o=r(57139),a=["?on","math"],s=(0,r(25864).d5)("Chain",a,(e=>{var{on:t,math:r}=e;function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");(0,n.qg)(e)?this.value=e.value:this.value=e}function s(e,t){(0,o.Vo)(a.prototype,e,(function(){var e=t();if("function"==typeof e)return l(e)}))}function l(e){return function(){for(var t=[this.value],r=0;r<arguments.length;r++)t[r+1]=arguments[r];return new a(e.apply(e,t))}}a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return(0,i.WU)(this.value)},a.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},a.fromJSON=function(e){return new a(e.value)},a.createProxy=function(e,t){if("string"==typeof e)!function(e,t){"function"==typeof t&&(a.prototype[e]=l(t))}(e,t);else{var r=function(t){(0,o.nr)(e,t)&&void 0===u[t]&&s(t,(()=>e[t]))};for(var n in e)r(n)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return a.createProxy(r),t&&t("import",(function(e,t,r){r||s(e,t)})),a}),{isClass:!0})},56504:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(25864),i="chain",o=["typed","Chain"],a=(0,n.d5)(i,o,(e=>{var{typed:t,Chain:r}=e;return t(i,{"":function(){return new r},any:function(e){return new r(e)}})}))},1177:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(64352),i=r(1341),o=r(67242),a=[],s=(0,r(25864).d5)("Complex",a,(()=>(n.prototype.type="Complex",n.prototype.isComplex=!0,n.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},n.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},n.prototype.format=function(e){var t=this.im,r=this.re,n=(0,i.WU)(this.re,e),a=(0,i.WU)(this.im,e),s=(0,o.hj)(e)?e:e?e.precision:null;if(null!==s){var l=Math.pow(10,-s);Math.abs(r/t)<l&&(r=0),Math.abs(t/r)<l&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":a+"i":t<0?-1===t?n+" - i":n+" - "+a.substring(1)+"i":1===t?n+" + i":n+" + "+a+"i"},n.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return n(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],i=arguments[1];if((0,o.hj)(r)){if((0,o.wr)(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),(0,o.hj)(i))return new n({r,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},n.prototype.valueOf=n.prototype.toString,n.fromJSON=function(e){return new n(e)},n.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},n)),{isClass:!0})},67859:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(25864),i=r(41877),o=["typed","Complex"],a=(0,n.d5)("complex",o,(e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(e){return new r(e,0)},"number, number":function(e,t){return new r(e,t)},"BigNumber, BigNumber":function(e,t){return new r(e.toNumber(),t.toNumber())},Fraction:function(e){return new r(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return r(e)},null:function(e){return r(0)},Object:function(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},60051:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var n=r(1006),i=[],o=(0,r(25864).d5)("Fraction",i,(()=>(n.prototype.type="Fraction",n.prototype.isFraction=!0,n.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},n.fromJSON=function(e){return new n(e)},n)),{isClass:!0})},76596:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(25864),i=r(41877),o=["typed","Fraction"],a=(0,n.d5)("fraction",o,(e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},Fraction:function(e){return e},Object:function(e){return new r(e)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},41062:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(67242),i=r(95001),o=r(19372),a=r(1341),s=r(57139),l=r(24486),u=["Matrix"],c=(0,r(25864).d5)("DenseMatrix",u,(e=>{var{Matrix:t}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e))"DenseMatrix"===e.type?(this._data=(0,s.d9)(e._data),this._size=(0,s.d9)(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&(0,n.kJ)(e.data)&&(0,n.kJ)(e.size))this._data=e.data,this._size=e.size,(0,i.Gu)(this._data,this._size),this._datatype=t||e.datatype;else if((0,n.kJ)(e))this._data=m(e),this._size=(0,i.aJ)(this._data),(0,i.Gu)(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._data=[],this._size=[0],this._datatype=t}}function u(e,t){if(!(0,n.dh)(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var o=t.size();if(o.length!==e._size.length)throw new l.m(o.length,e._size.length);for(var a=t.min(),s=t.max(),u=0,p=e._size.length;u<p;u++)(0,i.Ls)(a[u],e._size[u]),(0,i.Ls)(s[u],e._size[u]);return new r(c(e._data,t,o.length,0),e._datatype)}function c(e,t,r,n){var o=n===r-1,a=t.dimension(n);return o?a.map((function(t){return(0,i.Ls)(t,e.length),e[t]})).valueOf():a.map((function(o){return(0,i.Ls)(o,e.length),c(e[o],t,r,n+1)})).valueOf()}function p(e,t,r,o){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,u=t.size(),c=t.isScalar();if((0,n.SW)(r)?(a=r.size(),r=r.valueOf()):a=(0,i.aJ)(r),c){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,o)}else{if(u.length<e._size.length)throw new l.m(u.length,e._size.length,"<");if(a.length<u.length){for(var p=0,f=0;1===u[p]&&1===a[p];)p++;for(;1===u[p];)f++,p++;r=(0,i.f4)(r,u.length,f,a)}if(!(0,s.J5)(u,a))throw new l.m(u,a,">");d(e,t.max().map((function(e){return e+1})),o);var m=u.length;h(e._data,t,r,m,0)}return e}function h(e,t,r,n,o){var a=o===n-1,s=t.dimension(o);a?s.forEach((function(t,n){(0,i.Ls)(t),e[t]=r[n[0]]})):s.forEach((function(a,s){(0,i.Ls)(a),h(e[a],t,r[s[0]],n,o+1)}))}function f(e,t,r){if(0===t.length){for(var o=e._data;(0,n.kJ)(o);)o=o[0];return o}return e._size=t.slice(0),e._data=(0,i.SI)(e._data,e._size,r),e}function d(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,a=t.length;o<a;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&f(e,n,r)}function m(e){for(var t=0,r=e.length;t<r;t++){var i=e[t];(0,n.kJ)(i)?e[t]=m(i):i&&!0===i.isMatrix&&(e[t]=m(i.valueOf()))}return e}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return(0,i.$q)(this._data,n.kM)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return u(this,e);case 2:case 3:return p(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new l.m(e.length,this._size.length);for(var t=0;t<e.length;t++)(0,i.Ls)(e[t],this._size[t]);for(var r=this._data,o=0,a=e.length;o<a;o++){var s=e[o];(0,i.Ls)(s,r.length),r=r[s]}return r},r.prototype.set=function(e,t,r){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new l.m(e.length,this._size.length,"<");var o,a,s;d(this,e.map((function(e){return e+1})),r);var u=this._data;for(o=0,a=e.length-1;o<a;o++)s=e[o],(0,i.Ls)(s,u.length),u=u[s];return s=e[e.length-1],(0,i.Ls)(s,u.length),u[s]=t,this},r.prototype.resize=function(e,t,r){if(!(0,n.uZ)(e))throw new TypeError("Array or Matrix expected");var i=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));return f(r?this.clone():this,i,t)},r.prototype.reshape=function(e,t){var r=t?this.clone():this;r._data=(0,i.XL)(r._data,e);var n=r._size.reduce(((e,t)=>e*t));return r._size=(0,i.eu)(e,n),r},r.prototype.clone=function(){return new r({data:(0,s.d9)(this._data),size:(0,s.d9)(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e){var t=this,o=function r(i,o){return(0,n.kJ)(i)?i.map((function(e,t){return r(e,o.concat(t))})):e(i,o,t)}(this._data,[]);return new r(o,void 0!==this._datatype?(0,i.$q)(o,n.kM):void 0)},r.prototype.forEach=function(e){var t=this;!function r(i,o){(0,n.kJ)(i)?i.forEach((function(e,t){r(e,o.concat(t))})):e(i,o,t)}(this._data,[])},r.prototype.toArray=function(){return(0,s.d9)(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return(0,o.WU)(this._data,e)},r.prototype.toString=function(){return(0,o.WU)(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,a.U)(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,i=e<0?-e:0,o=this._size[0],s=this._size[1],l=Math.min(o-i,s-t),u=[],c=0;c<l;c++)u[c]=this._data[c+i][c+t];return new r({data:u,size:[l],datatype:this._datatype})},r.diagonal=function(e,t,o,s){if(!(0,n.kJ)(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,a.U)(e)||e<1)throw new Error("Size values must be positive integers");return e})),o){if((0,n.l9)(o)&&(o=o.toNumber()),!(0,n.hj)(o)||!(0,a.U)(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var l,u=o>0?o:0,c=o<0?-o:0,p=e[0],h=e[1],f=Math.min(p-c,h-u);if((0,n.kJ)(t)){if(t.length!==f)throw new Error("Invalid value array length");l=function(e){return t[e]}}else if((0,n.SW)(t)){var d=t.size();if(1!==d.length||d[0]!==f)throw new Error("Invalid matrix length");l=function(e){return t.get([e])}}else l=function(){return t};s||(s=(0,n.l9)(l(0))?l(0).mul(0):0);var m=[];if(e.length>0){m=(0,i.SI)(m,e,s);for(var g=0;g<f;g++)m[g+c][g+u]=l(g)}return new r({data:m,size:[p,h]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!((0,n.hj)(e)&&(0,a.U)(e)&&(0,n.hj)(t)&&(0,a.U)(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,i.Ls)(e,this._size[0]),(0,i.Ls)(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},r}),{isClass:!0})},72331:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=["smaller","larger"],i=(0,r(25864).d5)("FibonacciHeap",n,(e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function a(e,t){var r=t.parent;r&&(t.mark?(o(e,t,r),a(r)):t.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,t(e,i.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,o=e.degree,a=e.child;o>0;){var l=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=l,o--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var o,a=Math.floor(Math.log(i)*n)+1,l=new Array(a),u=0,c=e;if(c)for(u++,c=c.right;c!==e;)u++,c=c.right;for(;u>0;){for(var p=c.degree,h=c.right;o=l[p];){if(r(c.key,o.key)){var f=o;o=c,c=f}s(o,c),l[p]=null,p++}l[p]=c,c=h,u--}e=null;for(var d=0;d<a;d++)(o=l[d])&&(e?(o.left.right=o.right,o.right.left=o.left,o.left=e,o.right=e.right,e.right=o,o.right.left=o,t(o.key,e.key)&&(e=o)):e=o);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,r,n){r.key=n;var i=r.parent;i&&t(r.key,i.key)&&(o(e,r,i),a(e,i));t(r.key,e.key)&&(e=r);return e}(this._minimum,e,-1),this.extractMinimum()};var s=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0})},77957:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(67242),i=r(57139),o=["smaller","DenseMatrix"],a=(0,r(25864).d5)("ImmutableDenseMatrix",o,(e=>{var{smaller:t,DenseMatrix:r}=e;function o(e,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e)||(0,n.kJ)(e)){var i=new r(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&(0,n.kJ)(e.data)&&(0,n.kJ)(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return o.prototype=new r,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);return(0,n.SW)(t)?new o({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){return new o({data:(0,i.d9)(this._data),size:(0,i.d9)(this._size),datatype:this._datatype})},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(e){return new o(e)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(r){(null===e||t(r,e))&&(e=r)})),this._min=null!==e?e:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(r){(null===e||t(e,r))&&(e=r)})),this._max=null!==e?e:void 0}return this._max},o}),{isClass:!0})},13080:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=[],i=(0,r(25864).d5)("Matrix",n,(()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0})},12263:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var n=r(67242),i=r(57139),o=r(1341),a=["ImmutableDenseMatrix"],s=(0,r(25864).d5)("Index",a,(e=>{var{ImmutableDenseMatrix:t}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var o=arguments[t];if((0,n.bR)(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||(0,n.SW)(o)){var s=a(o.valueOf());this._dimensions.push(s);var l=s.size();1===l.length&&1===l[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(a([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function a(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!(0,o.U)(e[r]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r;return e._dimensions=(0,i.d9)(this._dimensions),e._isScalar=this._isScalar,e},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},r.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},r.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},r.prototype.dimension=function(e){return this._dimensions[e]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(e){return r.create(e.dimensions)},r}),{isClass:!0})},69356:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(67242),i=r(1341),o=[],a=(0,r(25864).d5)("Range",o,(()=>{function e(t,r,i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=t,a=null!=r,s=null!=i;if(o)if((0,n.l9)(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(a)if((0,n.l9)(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(s)if((0,n.l9)(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(t):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(i):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map((function(e){return parseFloat(e)}));if(r.some((function(e){return isNaN(e)})))return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return(0,i.Xx)(r)===(0,i.Xx)(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;t<n;)e(t,[i],this),t+=r,i++;else if(r<0)for(;t>n;)e(t,[i],this),t+=r,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(r,n,i){t[n[0]]=e(r,n,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,r){e[r[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=(0,i.WU)(this.start,e);return 1!==this.step&&(t+=":"+(0,i.WU)(this.step,e)),t+=":"+(0,i.WU)(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0})},36410:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=["addScalar","equalScalar","FibonacciHeap"],i=(0,r(25864).d5)("Spa",n,(e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var i=this._heap,o=this._values,a=[],s=i.extractMinimum();for(s&&a.push(s);s&&s.key<=t;)s.key>=e&&(r(s.value,0)||n(s.key,s.value,this)),(s=i.extractMinimum())&&a.push(s);for(var l=0;l<a.length;l++){var u=a[l];o[(s=i.insert(u.key,u.value)).key]=s}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i}),{isClass:!0})},62438:(e,t,r)=>{"use strict";r.d(t,{C:()=>p});var n=r(67242),i=r(1341),o=r(19372),a=r(57139),s=r(95001),l=r(25864),u=r(24486),c=["typed","equalScalar","Matrix"],p=(0,l.d5)("SparseMatrix",c,(e=>{var{typed:t,equalScalar:r,Matrix:l}=e;function c(e,t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!(0,n.HD)(t))throw new Error("Invalid datatype: "+t);if((0,n.SW)(e))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?(0,a.d9)(t._values):void 0,e._index=(0,a.d9)(t._index),e._ptr=(0,a.d9)(t._ptr),e._size=(0,a.d9)(t._size),e._datatype=r||t._datatype):p(e,t.valueOf(),r||t._datatype)}(this,e,t);else if(e&&(0,n.kJ)(e.index)&&(0,n.kJ)(e.ptr)&&(0,n.kJ)(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if((0,n.kJ)(e))p(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+(0,n.kM)(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function p(e,i,o){e._values=[],e._index=[],e._ptr=[],e._datatype=o;var a=i.length,s=0,l=r,u=0;if((0,n.HD)(o)&&(l=t.find(r,[o,o])||r,u=t.convert(0,o)),a>0){var c=0;do{e._ptr.push(e._index.length);for(var p=0;p<a;p++){var h=i[p];if((0,n.kJ)(h)){if(0===c&&s<h.length&&(s=h.length),c<h.length){var f=h[c];l(f,u)||(e._values.push(f),e._index.push(p))}}else 0===c&&s<1&&(s=1),l(h,u)||(e._values.push(h),e._index.push(p))}c++}while(c<s)}e._ptr.push(e._index.length),e._size=[a,s]}function h(e,t){if(!(0,n.dh)(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,i,o,a,l=t.size();if(l.length!==e._size.length)throw new u.m(l.length,e._size.length);var p=t.min(),h=t.max();for(r=0,i=e._size.length;r<i;r++)(0,s.Ls)(p[r],e._size[r]),(0,s.Ls)(h[r],e._size[r]);var f=e._values,d=e._index,m=e._ptr,g=t.dimension(0),y=t.dimension(1),v=[],x=[];g.forEach((function(e,t){x[e]=t[0],v[e]=!0}));var b=f?[]:void 0,_=[],w=[];return y.forEach((function(e){for(w.push(_.length),o=m[e],a=m[e+1];o<a;o++)r=d[o],!0===v[r]&&(_.push(x[r]),b&&b.push(f[o]))})),w.push(_.length),new c({values:b,index:_,ptr:w,size:l,datatype:e._datatype})}function f(e,t,r,i){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var o,l=t.size(),c=t.isScalar();if((0,n.SW)(r)?(o=r.size(),r=r.toArray()):o=(0,s.aJ)(r),c){if(0!==o.length)throw new TypeError("Scalar expected");e.set(t.min(),r,i)}else{if(1!==l.length&&2!==l.length)throw new u.m(l.length,e._size.length,"<");if(o.length<l.length){for(var p=0,h=0;1===l[p]&&1===o[p];)p++;for(;1===l[p];)h++,p++;r=(0,s.f4)(r,l.length,h,o)}if(!(0,a.J5)(l,o))throw new u.m(l,o,">");for(var f=t.min()[0],d=t.min()[1],m=o[0],g=o[1],y=0;y<m;y++)for(var v=0;v<g;v++){var x=r[y][v];e.set([y+f,v+d],x,i)}}return e}function d(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function m(e,t,r,n,i,o,a){i.splice(e,0,n),o.splice(e,0,t);for(var s=r+1;s<a.length;s++)a[s]++}function g(e,i,o,a){var s=a||0,l=r,u=0;(0,n.HD)(e._datatype)&&(l=t.find(r,[e._datatype,e._datatype])||r,u=t.convert(0,e._datatype),s=t.convert(s,e._datatype));var c,p,h,f=!l(s,u),d=e._size[0],m=e._size[1];if(o>m){for(p=m;p<o;p++)if(e._ptr[p]=e._values.length,f)for(c=0;c<d;c++)e._values.push(s),e._index.push(c);e._ptr[o]=e._values.length}else o<m&&(e._ptr.splice(o+1,m-o),e._values.splice(e._ptr[o],e._values.length),e._index.splice(e._ptr[o],e._index.length));if(m=o,i>d){if(f){var g=0;for(p=0;p<m;p++){e._ptr[p]=e._ptr[p]+g,h=e._ptr[p+1]+g;var y=0;for(c=d;c<i;c++,y++)e._values.splice(h+y,0,s),e._index.splice(h+y,0,c),g++}e._ptr[m]=e._values.length}}else if(i<d){var v=0;for(p=0;p<m;p++){e._ptr[p]=e._ptr[p]-v;var x=e._ptr[p],b=e._ptr[p+1]-v;for(h=x;h<b;h++)(c=e._index[h])>i-1&&(e._values.splice(h,1),e._index.splice(h,1),v++)}e._ptr[p]=e._values.length}return e._size[0]=i,e._size[1]=o,e}function y(e,t,r,n,i){var o,s,l=n[0],u=n[1],c=[];for(o=0;o<l;o++)for(c[o]=[],s=0;s<u;s++)c[o][s]=0;for(s=0;s<u;s++)for(var p=r[s],h=r[s+1],f=p;f<h;f++)c[o=t[f]][s]=e?i?(0,a.d9)(e[f]):e[f]:1;return c}return c.prototype=new l,c.prototype.createSparseMatrix=function(e,t){return new c(e,t)},c.prototype.type="SparseMatrix",c.prototype.isSparseMatrix=!0,c.prototype.getDataType=function(){return(0,s.$q)(this._values,n.kM)},c.prototype.storage=function(){return"sparse"},c.prototype.datatype=function(){return this._datatype},c.prototype.create=function(e,t){return new c(e,t)},c.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},c.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,e);case 2:case 3:return f(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},c.prototype.get=function(e){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new u.m(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];(0,s.Ls)(t,this._size[0]),(0,s.Ls)(r,this._size[1]);var i=d(t,this._ptr[r],this._ptr[r+1],this._index);return i<this._ptr[r+1]&&this._index[i]===t?this._values[i]:0},c.prototype.set=function(e,i,o){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new u.m(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],l=e[1],c=this._size[0],p=this._size[1],h=r,f=0;(0,n.HD)(this._datatype)&&(h=t.find(r,[this._datatype,this._datatype])||r,f=t.convert(0,this._datatype)),(a>c-1||l>p-1)&&(g(this,Math.max(a+1,c),Math.max(l+1,p),o),c=this._size[0],p=this._size[1]),(0,s.Ls)(a,c),(0,s.Ls)(l,p);var y=d(a,this._ptr[l],this._ptr[l+1],this._index);return y<this._ptr[l+1]&&this._index[y]===a?h(i,f)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}(y,l,this._values,this._index,this._ptr):this._values[y]=i:m(y,a,l,i,this._values,this._index,this._ptr),this},c.prototype.resize=function(e,t,r){if(!(0,n.uZ)(e))throw new TypeError("Array or Matrix expected");var a=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));if(2!==a.length)throw new Error("Only two dimensions matrix are supported");return a.forEach((function(e){if(!(0,n.hj)(e)||!(0,i.U)(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,o.WU)(a)+")")})),g(r?this.clone():this,a[0],a[1],t)},c.prototype.reshape=function(e,t){if(!(0,n.kJ)(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach((function(t){if(!(0,n.hj)(t)||!(0,i.U)(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+(0,o.WU)(e)+")")}));var r=this._size[0]*this._size[1];if(r!==(e=(0,s.eu)(e,r))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var a=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return a;for(var l=[],u=0;u<a._ptr.length;u++)for(var c=0;c<a._ptr[u+1]-a._ptr[u];c++)l.push(u);for(var p=a._values.slice(),h=a._index.slice(),f=0;f<a._index.length;f++){var g=h[f],y=l[f],v=g*a._size[1]+y;l[f]=v%e[1],h[f]=Math.floor(v/e[1])}a._values.length=0,a._index.length=0,a._ptr.length=e[1]+1,a._size=e.slice();for(var x=0;x<a._ptr.length;x++)a._ptr[x]=0;for(var b=0;b<p.length;b++){var _=h[b],w=l[b],E=p[b];m(d(_,a._ptr[w],a._ptr[w+1],a._index),_,w,E,a._values,a._index,a._ptr)}return a},c.prototype.clone=function(){return new c({values:this._values?(0,a.d9)(this._values):void 0,index:(0,a.d9)(this._index),ptr:(0,a.d9)(this._ptr),size:(0,a.d9)(this._size),datatype:this._datatype})},c.prototype.size=function(){return this._size.slice(0)},c.prototype.map=function(e,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(e,i,o,a,s,l,u){var p=[],h=[],f=[],d=r,m=0;(0,n.HD)(e._datatype)&&(d=t.find(r,[e._datatype,e._datatype])||r,m=t.convert(0,e._datatype));for(var g=function(e,t,r){e=l(e,t,r),d(e,m)||(p.push(e),h.push(t))},y=a;y<=s;y++){f.push(p.length);var v=e._ptr[y],x=e._ptr[y+1];if(u)for(var b=v;b<x;b++){var _=e._index[b];_>=i&&_<=o&&g(e._values[b],_-i,y-a)}else{for(var w={},E=v;E<x;E++){w[e._index[E]]=e._values[E]}for(var M=i;M<=o;M++){g(M in w?w[M]:0,M-i,y-a)}}}return f.push(p.length),new c({values:p,index:h,ptr:f,size:[o-i+1,s-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,r,n){return e(t,[r,n],o)}),i)},c.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var o=this._ptr[i],a=this._ptr[i+1];if(t)for(var s=o;s<a;s++){var l=this._index[s];e(this._values[s],[l,i],this)}else{for(var u={},c=o;c<a;c++){u[this._index[c]]=this._values[c]}for(var p=0;p<r;p++){e(p in u?u[p]:0,[p,i],this)}}}},c.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},c.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)},c.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+(0,o.WU)(t,e)+" x "+(0,o.WU)(r,e)+"] density: "+(0,o.WU)(n,e)+"\n",a=0;a<r;a++)for(var s=this._ptr[a],l=this._ptr[a+1],u=s;u<l;u++){var c=this._index[u];i+="\n    ("+(0,o.WU)(c,e)+", "+(0,o.WU)(a,e)+") ==> "+(this._values?(0,o.WU)(this._values[u],e):"X")}return i},c.prototype.toString=function(){return(0,o.WU)(this.toArray())},c.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},c.prototype.diagonal=function(e){if(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,i.U)(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,o=this._size[0],a=this._size[1],s=Math.min(o-r,a-t),l=[],u=[],p=[];p[0]=0;for(var h=t;h<a&&l.length<s;h++)for(var f=this._ptr[h],d=this._ptr[h+1],m=f;m<d;m++){var g=this._index[m];if(g===h-t+r){l.push(this._values[m]),u[l.length-1]=g-r;break}}return p.push(l.length),new c({values:l,index:u,ptr:p,size:[s,1]})},c.fromJSON=function(e){return new c(e)},c.diagonal=function(e,o,a,s,l){if(!(0,n.kJ)(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if((0,n.l9)(e)&&(e=e.toNumber()),!(0,n.hj)(e)||!(0,i.U)(e)||e<1)throw new Error("Size values must be positive integers");return e})),a){if((0,n.l9)(a)&&(a=a.toNumber()),!(0,n.hj)(a)||!(0,i.U)(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var u=r,p=0;(0,n.HD)(l)&&(u=t.find(r,[l,l])||r,p=t.convert(0,l));var h,f=a>0?a:0,d=a<0?-a:0,m=e[0],g=e[1],y=Math.min(m-d,g-f);if((0,n.kJ)(o)){if(o.length!==y)throw new Error("Invalid value array length");h=function(e){return o[e]}}else if((0,n.SW)(o)){var v=o.size();if(1!==v.length||v[0]!==y)throw new Error("Invalid matrix length");h=function(e){return o.get([e])}}else h=function(){return o};for(var x=[],b=[],_=[],w=0;w<g;w++){_.push(x.length);var E=w-f;if(E>=0&&E<y){var M=h(E);u(M,p)||(b.push(E+d),x.push(M))}}return _.push(x.length),new c({values:x,index:b,ptr:_,size:[m,g]})},c.prototype.swapRows=function(e,t){if(!((0,n.hj)(e)&&(0,i.U)(e)&&(0,n.hj)(t)&&(0,i.U)(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return(0,s.Ls)(e,this._size[0]),(0,s.Ls)(t,this._size[0]),c._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},c._forEachRow=function(e,t,r,n,i){for(var o=n[e],a=n[e+1],s=o;s<a;s++)i(r[s],t[s])},c._swapRows=function(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=o[a],l=o[a+1],u=d(e,s,l,i),c=d(t,s,l,i);if(u<l&&c<l&&i[u]===e&&i[c]===t){if(n){var p=n[u];n[u]=n[c],n[c]=p}}else if(u<l&&i[u]===e&&(c>=l||i[c]!==t)){var h=n?n[u]:void 0;i.splice(c,0,t),n&&n.splice(c,0,h),i.splice(c<=u?u+1:u,1),n&&n.splice(c<=u?u+1:u,1)}else if(c<l&&i[c]===t&&(u>=l||i[u]!==e)){var f=n?n[c]:void 0;i.splice(u,0,e),n&&n.splice(u,0,f),i.splice(u<=c?c+1:c,1),n&&n.splice(u<=c?c+1:c,1)}}},c}),{isClass:!0})},81809:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(25864),i=r(67242),o="index",a=["typed","Index"],s=(0,n.d5)(o,a,(e=>{var{typed:t,Index:r}=e;return t(o,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map((function(e){return(0,i.l9)(e)?e.toNumber():Array.isArray(e)||(0,i.SW)(e)?e.map((function(e){return(0,i.l9)(e)?e.toNumber():e})):e})),n=new r;return r.apply(n,t),n}})}))},40148:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(25864),i="matrix",o=["typed","Matrix","DenseMatrix","SparseMatrix"],a=(0,n.d5)(i,o,(e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:o}=e;return t(i,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new o(e,r);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}))},22339:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(25864),i="sparse",o=["typed","SparseMatrix"],a=(0,n.d5)(i,o,(e=>{var{typed:t,SparseMatrix:r}=e;return t(i,{"":function(){return new r([])},string:function(e){return new r([],e)},"Array | Matrix":function(e){return new r(e)},"Array | Matrix, string":function(e,t){return new r(e,t)}})}))},43263:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(25864),i=r(24486),o=["typed"],a=(0,n.d5)("algorithm01",o,(e=>{var{typed:t}=e;return function(e,r,n,o){var a=e._data,s=e._size,l=e._datatype,u=r._values,c=r._index,p=r._ptr,h=r._size,f=r._datatype;if(s.length!==h.length)throw new i.m(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m,g=s[0],y=s[1],v="string"==typeof l&&l===f?l:void 0,x=v?t.find(n,[v,v]):n,b=[];for(d=0;d<g;d++)b[d]=[];var _=[],w=[];for(m=0;m<y;m++){for(var E=m+1,M=p[m],S=p[m+1],N=M;N<S;N++)_[d=c[N]]=o?x(u[N],a[d][m]):x(a[d][m],u[N]),w[d]=E;for(d=0;d<g;d++)w[d]===E?b[d][m]=_[d]:b[d][m]=a[d][m]}return e.createDenseMatrix({data:b,size:[g,y],datatype:v})}}))},47128:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(25864),i=r(24486),o=["typed","equalScalar"],a=(0,n.d5)("algorithm02",o,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,o,a){var s=e._data,l=e._size,u=e._datatype,c=n._values,p=n._index,h=n._ptr,f=n._size,d=n._datatype;if(l.length!==f.length)throw new i.m(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,g=l[0],y=l[1],v=r,x=0,b=o;"string"==typeof u&&u===d&&(m=u,v=t.find(r,[m,m]),x=t.convert(0,m),b=t.find(o,[m,m]));for(var _=[],w=[],E=[],M=0;M<y;M++){E[M]=w.length;for(var S=h[M],N=h[M+1],k=S;k<N;k++){var A=p[k],T=a?b(c[k],s[A][M]):b(s[A][M],c[k]);v(T,x)||(w.push(A),_.push(T))}}return E[y]=w.length,n.createSparseMatrix({values:_,index:w,ptr:E,size:[g,y],datatype:m})}}))},28466:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(25864),i=r(24486),o=["typed"],a=(0,n.d5)("algorithm03",o,(e=>{var{typed:t}=e;return function(e,r,n,o){var a=e._data,s=e._size,l=e._datatype,u=r._values,c=r._index,p=r._ptr,h=r._size,f=r._datatype;if(s.length!==h.length)throw new i.m(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=s[0],g=s[1],y=0,v=n;"string"==typeof l&&l===f&&(d=l,y=t.convert(0,d),v=t.find(n,[d,d]));for(var x=[],b=0;b<m;b++)x[b]=[];for(var _=[],w=[],E=0;E<g;E++){for(var M=E+1,S=p[E],N=p[E+1],k=S;k<N;k++){var A=c[k];_[A]=o?v(u[k],a[A][E]):v(a[A][E],u[k]),w[A]=M}for(var T=0;T<m;T++)w[T]===M?x[T][E]=_[T]:x[T][E]=o?v(y,a[T][E]):v(a[T][E],y)}return e.createDenseMatrix({data:x,size:[m,g],datatype:d})}}))},62603:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(25864),i=r(24486),o=["typed","equalScalar"],a=(0,n.d5)("algorithm04",o,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype,p=n._values,h=n._index,f=n._ptr,d=n._size,m=n._datatype;if(u.length!==d.length)throw new i.m(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var g,y=u[0],v=u[1],x=r,b=0,_=o;"string"==typeof c&&c===m&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),_=t.find(o,[g,g]));var w,E,M,S,N,k=a&&p?[]:void 0,A=[],T=[],O=a&&p?[]:void 0,C=a&&p?[]:void 0,I=[],R=[];for(E=0;E<v;E++){T[E]=A.length;var D=E+1;for(S=l[E],N=l[E+1],M=S;M<N;M++)w=s[M],A.push(w),I[w]=D,O&&(O[w]=a[M]);for(S=f[E],N=f[E+1],M=S;M<N;M++)if(I[w=h[M]]===D){if(O){var L=_(O[w],p[M]);x(L,b)?I[w]=null:O[w]=L}}else A.push(w),R[w]=D,C&&(C[w]=p[M]);if(O&&C)for(M=T[E];M<A.length;)I[w=A[M]]===D?(k[M]=O[w],M++):R[w]===D?(k[M]=C[w],M++):A.splice(M,1)}return T[v]=A.length,e.createSparseMatrix({values:k,index:A,ptr:T,size:[y,v],datatype:g})}}))},68283:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(25864),i=r(24486),o=["typed","equalScalar"],a=(0,n.d5)("algorithm05",o,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype,p=n._values,h=n._index,f=n._ptr,d=n._size,m=n._datatype;if(u.length!==d.length)throw new i.m(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var g,y=u[0],v=u[1],x=r,b=0,_=o;"string"==typeof c&&c===m&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),_=t.find(o,[g,g]));var w,E,M,S,N=a&&p?[]:void 0,k=[],A=[],T=N?[]:void 0,O=N?[]:void 0,C=[],I=[];for(E=0;E<v;E++){A[E]=k.length;var R=E+1;for(M=l[E],S=l[E+1];M<S;M++)w=s[M],k.push(w),C[w]=R,T&&(T[w]=a[M]);for(M=f[E],S=f[E+1];M<S;M++)C[w=h[M]]!==R&&k.push(w),I[w]=R,O&&(O[w]=p[M]);if(N)for(M=A[E];M<k.length;){var D=C[w=k[M]],L=I[w];if(D===R||L===R){var q=_(D===R?T[w]:b,L===R?O[w]:b);x(q,b)?k.splice(M,1):(N.push(q),M++)}}}return A[v]=k.length,e.createSparseMatrix({values:N,index:k,ptr:A,size:[y,v],datatype:g})}}))},78151:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(25864),i=r(24486),o=r(41877),a=["typed","equalScalar"],s=(0,n.d5)("algorithm06",a,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,a){var s=e._values,l=e._size,u=e._datatype,c=n._values,p=n._size,h=n._datatype;if(l.length!==p.length)throw new i.m(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var f,d=l[0],m=l[1],g=r,y=0,v=a;"string"==typeof u&&u===h&&(f=u,g=t.find(r,[f,f]),y=t.convert(0,f),v=t.find(a,[f,f]));for(var x=s&&c?[]:void 0,b=[],_=[],w=x?[]:void 0,E=[],M=[],S=0;S<m;S++){_[S]=b.length;var N=S+1;if((0,o.U6)(e,S,E,w,M,N,b,v),(0,o.U6)(n,S,E,w,M,N,b,v),w)for(var k=_[S];k<b.length;){var A=b[k];if(M[A]===N){var T=w[A];g(T,y)?b.splice(k,1):(x.push(T),k++)}else b.splice(k,1)}else for(var O=_[S];O<b.length;){M[b[O]]!==N?b.splice(O,1):O++}}return _[m]=b.length,e.createSparseMatrix({values:x,index:b,ptr:_,size:[d,m],datatype:f})}}))},45231:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(25864),i=r(24486),o=["typed","DenseMatrix"],a=(0,n.d5)("algorithm07",o,(e=>{var{typed:t,DenseMatrix:r}=e;return function(e,o,a){var s=e._size,l=e._datatype,u=o._size,c=o._datatype;if(s.length!==u.length)throw new i.m(s.length,u.length);if(s[0]!==u[0]||s[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+u+")");var p,h,f,d=s[0],m=s[1],g=0,y=a;"string"==typeof l&&l===c&&(p=l,g=t.convert(0,p),y=t.find(a,[p,p]));var v=[];for(h=0;h<d;h++)v[h]=[];var x=[],b=[],_=[],w=[];for(f=0;f<m;f++){var E=f+1;for(n(e,f,_,x,E),n(o,f,w,b,E),h=0;h<d;h++){var M=_[h]===E?x[h]:g,S=w[h]===E?b[h]:g;v[h][f]=y(M,S)}}return new r({data:v,size:[d,m],datatype:p})};function n(e,t,r,n,i){for(var o=e._values,a=e._index,s=e._ptr,l=s[t],u=s[t+1];l<u;l++){var c=a[l];r[c]=i,n[c]=o[l]}}}))},86041:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(25864),i=r(24486),o=["typed","equalScalar"],a=(0,n.d5)("algorithm08",o,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype,p=n._values,h=n._index,f=n._ptr,d=n._size,m=n._datatype;if(u.length!==d.length)throw new i.m(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!a||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g,y=u[0],v=u[1],x=r,b=0,_=o;"string"==typeof c&&c===m&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),_=t.find(o,[g,g]));for(var w,E,M,S,N=[],k=[],A=[],T=[],O=[],C=0;C<v;C++){A[C]=k.length;var I=C+1;for(E=l[C],M=l[C+1],w=E;w<M;w++)O[S=s[w]]=I,T[S]=a[w],k.push(S);for(E=f[C],M=f[C+1],w=E;w<M;w++)O[S=h[w]]===I&&(T[S]=_(T[S],p[w]));for(w=A[C];w<k.length;){var R=T[S=k[w]];x(R,b)?k.splice(w,1):(N.push(R),w++)}}return A[v]=k.length,e.createSparseMatrix({values:N,index:k,ptr:A,size:[y,v],datatype:g})}}))},97989:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(25864),i=r(24486),o=["typed","equalScalar"],a=(0,n.d5)("algorithm09",o,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype,p=n._values,h=n._index,f=n._ptr,d=n._size,m=n._datatype;if(u.length!==d.length)throw new i.m(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var g,y=u[0],v=u[1],x=r,b=0,_=o;"string"==typeof c&&c===m&&(g=c,x=t.find(r,[g,g]),b=t.convert(0,g),_=t.find(o,[g,g]));var w,E,M,S,N,k=a&&p?[]:void 0,A=[],T=[],O=k?[]:void 0,C=[];for(E=0;E<v;E++){T[E]=A.length;var I=E+1;if(O)for(S=f[E],N=f[E+1],M=S;M<N;M++)C[w=h[M]]=I,O[w]=p[M];for(S=l[E],N=l[E+1],M=S;M<N;M++)if(w=s[M],O){var R=C[w]===I?O[w]:b,D=_(a[M],R);x(D,b)||(A.push(w),k.push(D))}else A.push(w)}return T[v]=A.length,e.createSparseMatrix({values:k,index:A,ptr:T,size:[y,v],datatype:g})}}))},39367:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=["typed","DenseMatrix"],i=(0,r(25864).d5)("algorithm10",n,(e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=u[0],f=u[1],d=i;"string"==typeof c&&(p=c,n=t.convert(n,p),d=t.find(i,[p,p]));for(var m=[],g=[],y=[],v=0;v<f;v++){for(var x=v+1,b=l[v],_=l[v+1],w=b;w<_;w++){var E=s[w];g[E]=a[w],y[E]=x}for(var M=0;M<h;M++)0===v&&(m[M]=[]),y[M]===x?m[M][v]=o?d(n,g[M]):d(g[M],n):m[M][v]=n}return new r({data:m,size:[h,f],datatype:p})}}))},81418:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=["typed","equalScalar"],i=(0,r(25864).d5)("algorithm11",n,(e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=u[0],f=u[1],d=r,m=0,g=i;"string"==typeof c&&(p=c,d=t.find(r,[p,p]),m=t.convert(0,p),n=t.convert(n,p),g=t.find(i,[p,p]));for(var y=[],v=[],x=[],b=0;b<f;b++){x[b]=v.length;for(var _=l[b],w=l[b+1],E=_;E<w;E++){var M=s[E],S=o?g(n,a[E]):g(a[E],n);d(S,m)||(v.push(M),y.push(S))}}return x[f]=v.length,e.createSparseMatrix({values:y,index:v,ptr:x,size:[h,f],datatype:p})}}))},61230:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=["typed","DenseMatrix"],i=(0,r(25864).d5)("algorithm12",n,(e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=u[0],f=u[1],d=i;"string"==typeof c&&(p=c,n=t.convert(n,p),d=t.find(i,[p,p]));for(var m=[],g=[],y=[],v=0;v<f;v++){for(var x=v+1,b=l[v],_=l[v+1],w=b;w<_;w++){var E=s[w];g[E]=a[w],y[E]=x}for(var M=0;M<h;M++)0===v&&(m[M]=[]),y[M]===x?m[M][v]=o?d(n,g[M]):d(g[M],n):m[M][v]=o?d(n,0):d(0,n)}return new r({data:m,size:[h,f],datatype:p})}}))},87901:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(25864),i=r(24486),o=["typed"],a=(0,n.d5)("algorithm13",o,(e=>{var{typed:t}=e;return function(e,n,o){var a,s=e._data,l=e._size,u=e._datatype,c=n._data,p=n._size,h=n._datatype,f=[];if(l.length!==p.length)throw new i.m(l.length,p.length);for(var d=0;d<l.length;d++){if(l[d]!==p[d])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");f[d]=l[d]}var m=o;"string"==typeof u&&u===h&&(a=u,m=t.find(o,[a,a]));var g=f.length>0?r(m,0,f,f[0],s,c):[];return e.createDenseMatrix({data:g,size:f,datatype:a})};function r(e,t,n,i,o,a){var s=[];if(t===n.length-1)for(var l=0;l<i;l++)s[l]=e(o[l],a[l]);else for(var u=0;u<i;u++)s[u]=r(e,t+1,n,n[t+1],o[u],a[u]);return s}}))},91833:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(25864),i=r(57139),o=["typed"],a=(0,n.d5)("algorithm14",o,(e=>{var{typed:t}=e;return function(e,n,o,a){var s,l=e._data,u=e._size,c=e._datatype,p=o;"string"==typeof c&&(s=c,n=t.convert(n,s),p=t.find(o,[s,s]));var h=u.length>0?r(p,0,u,u[0],l,n,a):[];return e.createDenseMatrix({data:h,size:(0,i.d9)(u),datatype:s})};function r(e,t,n,i,o,a,s){var l=[];if(t===n.length-1)for(var u=0;u<i;u++)l[u]=s?e(a,o[u]):e(o[u],a);else for(var c=0;c<i;c++)l[c]=r(e,t+1,n,n[t+1],o[c],a,s);return l}}))},99838:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(25864),i=r(41877),o=["typed"];var a=(0,n.d5)("number",o,(e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t,r,n=(r=(t=e).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:t,radix:{"0b":2,"0o":8,"0x":16}[r[1]],integerPart:r[2],fractionalPart:r[3]}:null;if(n)return function(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++)r+=parseInt(e.fractionalPart[n],e.radix)/Math.pow(e.radix,n+1);var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}(n);var i=0,o=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(i=Number(o[2]),e=o[1]);var a=Number(e);if(isNaN(a))throw new SyntaxError('String "'+e+'" is no valid number');if(o){if(a>2**i-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));a>=2**(i-1)&&(a-=2**i)}return a},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}});return r.fromJSON=function(e){return parseFloat(e.value)},r}))},15289:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=[],i=(0,r(25864).d5)("ResultSet",n,(()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0})},37442:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l});var n=r(25864),i=r(41877),o=r(1341),a="string",s=["typed"],l=(0,n.d5)(a,s,(e=>{var{typed:t}=e;return t(a,{"":function(){return""},number:o.WU,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return(0,i.Fh)(e,this)},any:function(e){return String(e)}})}))},39238:(e,t,r)=>{"use strict";r.d(t,{w:()=>d});var n=r(67242),i=r(25864),o=r(90409),a=r(19372),s=r(57139),l=r(19947);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],d=(0,i.d5)("Unit",f,(e=>{var t,r,i,{on:c,config:h,addScalar:f,subtract:d,multiplyScalar:m,divideScalar:g,pow:y,abs:v,fix:x,round:b,equal:_,isNumeric:w,format:E,number:M,Complex:S,BigNumber:N,Fraction:k}=e,A=M;function T(e,t){if(!(this instanceof T))throw new Error("Constructor must be called with the new operator");if(null!=e&&!w(e)&&!(0,n.Mc)(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var r=T.parse(t);this.units=r.units,this.dimensions=r.dimensions}else{this.units=[{unit:G,prefix:z.NONE,power:0}],this.dimensions=[];for(var i=0;i<U.length;i++)this.dimensions[i]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function O(){for(;" "===i||"\t"===i;)I()}function C(e){return e>="0"&&e<="9"}function I(){r++,i=t.charAt(r)}function R(e){r=e,i=t.charAt(r)}function D(){var e="",t=r;if("+"===i?I():"-"===i&&(e+=i,I()),!function(e){return e>="0"&&e<="9"||"."===e}(i))return R(t),null;if("."===i){if(e+=i,I(),!C(i))return R(t),null}else{for(;C(i);)e+=i,I();"."===i&&(e+=i,I())}for(;C(i);)e+=i,I();if("E"===i||"e"===i){var n="",o=r;if(n+=i,I(),"+"!==i&&"-"!==i||(n+=i,I()),!C(i))return R(o),e;for(e+=n;C(i);)e+=i,I()}return e}function L(){for(var e="";C(i)||T.isValidAlpha(i);)e+=i,I();var t=e.charAt(0);return T.isValidAlpha(t)?e:null}function q(e){return i===e?(I(),e):null}T.prototype.type="Unit",T.prototype.isUnit=!0,T.parse=function(e,n){if(n=n||{},r=-1,i="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new T;o.units=[];var a=1,s=!1;I(),O();var l=D(),u=null;if(l){if("BigNumber"===h.number)u=new N(l);else if("Fraction"===h.number)try{u=new k(l)}catch(b){u=parseFloat(l)}else u=parseFloat(l);O(),q("*")?(a=1,s=!0):q("/")&&(a=-1,s=!0)}for(var c=[],p=1;;){for(O();"("===i;)c.push(a),p*=a,a=1,I(),O();var f=void 0;if(!i)break;var d=i;if(null===(f=L()))throw new SyntaxError('Unexpected "'+d+'" in "'+t+'" at index '+r.toString());var m=B(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var g=a*p;if(O(),q("^")){O();var y=D();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}o.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var v=0;v<U.length;v++)o.dimensions[v]+=(m.unit.dimensions[v]||0)*g;for(O();")"===i;){if(0===c.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+r.toString());p/=c.pop(),I(),O()}if(s=!1,q("*")?(a=1,s=!0):q("/")?(a=-1,s=!0):a=1,m.unit.base){var x=m.unit.base.key;W.auto[x]={unit:m.unit,prefix:m.prefix}}}if(O(),i)throw new SyntaxError('Could not parse: "'+e+'"');if(s)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==c.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!n.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==u?o._normalize(u):null,o},T.prototype.clone=function(){var e=new T;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=(0,s.d9)(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])(0,s.nr)(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);return e},T.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},T.prototype._normalize=function(e){var t,r,i,o,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;a=T._getNumberConverter((0,n.kM)(e));for(var l=0;l<this.units.length;l++)t=a(this.units[l].unit.value),o=a(this.units[l].prefix.value),i=a(this.units[l].power),s=m(s,y(m(t,o),i));return s}return t=(a=T._getNumberConverter((0,n.kM)(e)))(this.units[0].unit.value),r=a(this.units[0].unit.offset),o=a(this.units[0].prefix.value),m(f(e,r),m(t,o))},T.prototype._denormalize=function(e,t){var r,i,o,a,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var l=e;s=T._getNumberConverter((0,n.kM)(e));for(var u=0;u<this.units.length;u++)r=s(this.units[u].unit.value),a=s(this.units[u].prefix.value),o=s(this.units[u].power),l=g(l,y(m(r,a),o));return l}return r=(s=T._getNumberConverter((0,n.kM)(e)))(this.units[0].unit.value),a=s(this.units[0].prefix.value),i=s(this.units[0].unit.offset),d(g(g(e,r),null==t?a:t),i)};var B=(0,o.HP)((e=>{if((0,s.nr)(V,e)){var t=V[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in V)if((0,s.nr)(V,r)&&(0,a.pn)(e,r)){var n=V[r],i=e.length-r.length,o=e.substring(0,i),l=(0,s.nr)(n.prefixes,o)?n.prefixes[o]:void 0;if(void 0!==l)return{unit:n,prefix:l}}return null}),{hasher:e=>e[0],limit:100});function P(e){return e.equalBase($.NONE)&&null!==e.value&&!h.predictable?e.value:e}T.isValuelessUnit=function(e){return null!==B(e)},T.prototype.hasBase=function(e){if("string"==typeof e&&(e=$[e]),!e)return!1;for(var t=0;t<U.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},T.prototype.equalBase=function(e){for(var t=0;t<U.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},T.prototype.equals=function(e){return this.equalBase(e)&&_(this.value,e.value)},T.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<U.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i=p({},e.units[n]);t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=m(o,a)}else t.value=null;return t.skipAutomaticSimplification=!1,P(t)},T.prototype.divide=function(e){for(var t=this.clone(),r=0;r<U.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var i=p(p({},e.units[n]),{},{power:-e.units[n].power});t.units.push(i)}if(null!==this.value||null!==e.value){var o=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=g(o,a)}else t.value=null;return t.skipAutomaticSimplification=!1,P(t)},T.prototype.pow=function(e){for(var t=this.clone(),r=0;r<U.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=y(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,P(t)},T.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?v(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=V.W);return e},T.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=T.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=(0,s.d9)(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if((0,n.wr)(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=(0,s.d9)(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},T.prototype.toNumber=function(e){return A(this.toNumeric(e))},T.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},T.prototype.toString=function(){return this.format()},T.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},T.fromJSON=function(e){var t=new T(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},T.prototype.valueOf=T.prototype.toString,T.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in X)if((0,s.nr)(X,i)&&r.hasBase($[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&(0,s.nr)(X,e)&&(t=X[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var o=!1,a=0;a<U.length;a++){var l=U[a];Math.abs(r.dimensions[a]||0)>1e-12&&((0,s.nr)(X,l)?n.push({unit:X[l].unit,prefix:X[l].prefix,power:r.dimensions[a]||0}):o=!0)}n.length<r.units.length&&!o&&(r.units=n)}return r},T.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<U.length;r++){var n=U[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!(0,s.nr)(W.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:W.si[n].unit,prefix:W.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},T.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(r>0?(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,Math.abs(this.units[o].power+1)>1e-15&&(t+="^"+-this.units[o].power)):(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,t+="^"+this.units[o].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var a=e;return r>0&&n>0&&(a+=" / "),a+=t},T.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var i in void 0!==t.value&&null!==t.value&&(0,n.Mc)(t.value)&&(r=Math.abs(t.value.re)<1e-14),t.units)(0,s.nr)(t.units,i)&&t.units[i].unit&&("VA"===t.units[i].unit.name&&r?t.units[i].unit=V.VAR:"VAR"!==t.units[i].unit.name||r||(t.units[i].unit=V.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var o=t._denormalize(t.value),a=null!==t.value?E(o,e||{}):"",l=t.formatUnits();return t.value&&(0,n.Mc)(t.value)&&(a="("+a+")"),l.length>0&&a.length>0&&(a+=" "),a+=l},T.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?v(this.value):0,t=v(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if((0,s.nr)(o,a)){var l=o[a];if(l.scientific){var u=Math.abs(Math.log(e/Math.pow(l.value*t,n))/Math.LN10-1.2);(u<i||u===i&&l.name.length<r.name.length)&&(r=l,i=u)}}return r},T.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),o=b(i),a=new T(_(o,i)?o:x(t.toNumeric()),e[n].toString());r.push(a),t=d(t,a)}for(var s=0,l=0;l<r.length;l++)s=f(s,r[l].value);return _(s,this.value)&&(t.value=0),r.push(t),r};var z={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};z.SHORTLONG=u({},z.SHORT,z.LONG),z.BINARY_SHORT=u({},z.BINARY_SHORT_SI,z.BINARY_SHORT_IEC),z.BINARY_LONG=u({},z.BINARY_LONG_SI,z.BINARY_LONG_IEC);var U=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],$={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var F in $)(0,s.nr)($,F)&&($[F].key=F);var G={name:"",base:{},value:1,offset:0,dimensions:U.map((e=>0))},V={meter:{name:"meter",base:$.LENGTH,prefixes:z.LONG,value:1,offset:0},inch:{name:"inch",base:$.LENGTH,prefixes:z.NONE,value:.0254,offset:0},foot:{name:"foot",base:$.LENGTH,prefixes:z.NONE,value:.3048,offset:0},yard:{name:"yard",base:$.LENGTH,prefixes:z.NONE,value:.9144,offset:0},mile:{name:"mile",base:$.LENGTH,prefixes:z.NONE,value:1609.344,offset:0},link:{name:"link",base:$.LENGTH,prefixes:z.NONE,value:.201168,offset:0},rod:{name:"rod",base:$.LENGTH,prefixes:z.NONE,value:5.0292,offset:0},chain:{name:"chain",base:$.LENGTH,prefixes:z.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:$.LENGTH,prefixes:z.NONE,value:1e-10,offset:0},m:{name:"m",base:$.LENGTH,prefixes:z.SHORT,value:1,offset:0},in:{name:"in",base:$.LENGTH,prefixes:z.NONE,value:.0254,offset:0},ft:{name:"ft",base:$.LENGTH,prefixes:z.NONE,value:.3048,offset:0},yd:{name:"yd",base:$.LENGTH,prefixes:z.NONE,value:.9144,offset:0},mi:{name:"mi",base:$.LENGTH,prefixes:z.NONE,value:1609.344,offset:0},li:{name:"li",base:$.LENGTH,prefixes:z.NONE,value:.201168,offset:0},rd:{name:"rd",base:$.LENGTH,prefixes:z.NONE,value:5.02921,offset:0},ch:{name:"ch",base:$.LENGTH,prefixes:z.NONE,value:20.1168,offset:0},mil:{name:"mil",base:$.LENGTH,prefixes:z.NONE,value:254e-7,offset:0},m2:{name:"m2",base:$.SURFACE,prefixes:z.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:$.SURFACE,prefixes:z.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:$.SURFACE,prefixes:z.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:$.SURFACE,prefixes:z.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:$.SURFACE,prefixes:z.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:$.SURFACE,prefixes:z.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:$.SURFACE,prefixes:z.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:$.SURFACE,prefixes:z.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:$.SURFACE,prefixes:z.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:$.SURFACE,prefixes:z.NONE,value:1e4,offset:0},m3:{name:"m3",base:$.VOLUME,prefixes:z.CUBIC,value:1,offset:0},L:{name:"L",base:$.VOLUME,prefixes:z.SHORT,value:.001,offset:0},l:{name:"l",base:$.VOLUME,prefixes:z.SHORT,value:.001,offset:0},litre:{name:"litre",base:$.VOLUME,prefixes:z.LONG,value:.001,offset:0},cuin:{name:"cuin",base:$.VOLUME,prefixes:z.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:$.VOLUME,prefixes:z.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:$.VOLUME,prefixes:z.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:$.VOLUME,prefixes:z.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:$.VOLUME,prefixes:z.NONE,value:15e-6,offset:0},drop:{name:"drop",base:$.VOLUME,prefixes:z.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:$.VOLUME,prefixes:z.NONE,value:5e-8,offset:0},minim:{name:"minim",base:$.VOLUME,prefixes:z.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:$.VOLUME,prefixes:z.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:$.VOLUME,prefixes:z.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:$.VOLUME,prefixes:z.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:$.VOLUME,prefixes:z.NONE,value:1e-6,offset:0},cup:{name:"cup",base:$.VOLUME,prefixes:z.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:$.VOLUME,prefixes:z.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:$.VOLUME,prefixes:z.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:$.VOLUME,prefixes:z.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:$.VOLUME,prefixes:z.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:$.VOLUME,prefixes:z.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:$.VOLUME,prefixes:z.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:$.VOLUME,prefixes:z.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:$.VOLUME,prefixes:z.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:$.VOLUME,prefixes:z.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:$.VOLUME,prefixes:z.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:$.VOLUME,prefixes:z.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:$.VOLUME,prefixes:z.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:$.VOLUME,prefixes:z.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:$.VOLUME,prefixes:z.NONE,value:.1173478,offset:0},obl:{name:"obl",base:$.VOLUME,prefixes:z.NONE,value:.1589873,offset:0},g:{name:"g",base:$.MASS,prefixes:z.SHORT,value:.001,offset:0},gram:{name:"gram",base:$.MASS,prefixes:z.LONG,value:.001,offset:0},ton:{name:"ton",base:$.MASS,prefixes:z.SHORT,value:907.18474,offset:0},t:{name:"t",base:$.MASS,prefixes:z.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:$.MASS,prefixes:z.LONG,value:1e3,offset:0},grain:{name:"grain",base:$.MASS,prefixes:z.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:$.MASS,prefixes:z.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:$.MASS,prefixes:z.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:$.MASS,prefixes:z.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:$.MASS,prefixes:z.NONE,value:45.359237,offset:0},stick:{name:"stick",base:$.MASS,prefixes:z.NONE,value:.115,offset:0},stone:{name:"stone",base:$.MASS,prefixes:z.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:$.MASS,prefixes:z.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:$.MASS,prefixes:z.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:$.MASS,prefixes:z.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:$.MASS,prefixes:z.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:$.MASS,prefixes:z.NONE,value:45.359237,offset:0},s:{name:"s",base:$.TIME,prefixes:z.SHORT,value:1,offset:0},min:{name:"min",base:$.TIME,prefixes:z.NONE,value:60,offset:0},h:{name:"h",base:$.TIME,prefixes:z.NONE,value:3600,offset:0},second:{name:"second",base:$.TIME,prefixes:z.LONG,value:1,offset:0},sec:{name:"sec",base:$.TIME,prefixes:z.LONG,value:1,offset:0},minute:{name:"minute",base:$.TIME,prefixes:z.NONE,value:60,offset:0},hour:{name:"hour",base:$.TIME,prefixes:z.NONE,value:3600,offset:0},day:{name:"day",base:$.TIME,prefixes:z.NONE,value:86400,offset:0},week:{name:"week",base:$.TIME,prefixes:z.NONE,value:604800,offset:0},month:{name:"month",base:$.TIME,prefixes:z.NONE,value:2629800,offset:0},year:{name:"year",base:$.TIME,prefixes:z.NONE,value:31557600,offset:0},decade:{name:"decade",base:$.TIME,prefixes:z.NONE,value:315576e3,offset:0},century:{name:"century",base:$.TIME,prefixes:z.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:$.TIME,prefixes:z.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:$.FREQUENCY,prefixes:z.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:$.FREQUENCY,prefixes:z.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:$.ANGLE,prefixes:z.SHORT,value:1,offset:0},radian:{name:"radian",base:$.ANGLE,prefixes:z.LONG,value:1,offset:0},deg:{name:"deg",base:$.ANGLE,prefixes:z.SHORT,value:null,offset:0},degree:{name:"degree",base:$.ANGLE,prefixes:z.LONG,value:null,offset:0},grad:{name:"grad",base:$.ANGLE,prefixes:z.SHORT,value:null,offset:0},gradian:{name:"gradian",base:$.ANGLE,prefixes:z.LONG,value:null,offset:0},cycle:{name:"cycle",base:$.ANGLE,prefixes:z.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:$.ANGLE,prefixes:z.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:$.ANGLE,prefixes:z.NONE,value:null,offset:0},A:{name:"A",base:$.CURRENT,prefixes:z.SHORT,value:1,offset:0},ampere:{name:"ampere",base:$.CURRENT,prefixes:z.LONG,value:1,offset:0},K:{name:"K",base:$.TEMPERATURE,prefixes:z.NONE,value:1,offset:0},degC:{name:"degC",base:$.TEMPERATURE,prefixes:z.NONE,value:1,offset:273.15},degF:{name:"degF",base:$.TEMPERATURE,prefixes:z.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:$.TEMPERATURE,prefixes:z.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:$.TEMPERATURE,prefixes:z.NONE,value:1,offset:0},celsius:{name:"celsius",base:$.TEMPERATURE,prefixes:z.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:$.TEMPERATURE,prefixes:z.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:$.TEMPERATURE,prefixes:z.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:$.AMOUNT_OF_SUBSTANCE,prefixes:z.SHORT,value:1,offset:0},mole:{name:"mole",base:$.AMOUNT_OF_SUBSTANCE,prefixes:z.LONG,value:1,offset:0},cd:{name:"cd",base:$.LUMINOUS_INTENSITY,prefixes:z.SHORT,value:1,offset:0},candela:{name:"candela",base:$.LUMINOUS_INTENSITY,prefixes:z.LONG,value:1,offset:0},N:{name:"N",base:$.FORCE,prefixes:z.SHORT,value:1,offset:0},newton:{name:"newton",base:$.FORCE,prefixes:z.LONG,value:1,offset:0},dyn:{name:"dyn",base:$.FORCE,prefixes:z.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:$.FORCE,prefixes:z.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:$.FORCE,prefixes:z.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:$.FORCE,prefixes:z.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:$.FORCE,prefixes:z.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:$.FORCE,prefixes:z.NONE,value:9.80665,offset:0},J:{name:"J",base:$.ENERGY,prefixes:z.SHORT,value:1,offset:0},joule:{name:"joule",base:$.ENERGY,prefixes:z.SHORT,value:1,offset:0},erg:{name:"erg",base:$.ENERGY,prefixes:z.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:$.ENERGY,prefixes:z.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:$.ENERGY,prefixes:z.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:$.ENERGY,prefixes:z.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:$.ENERGY,prefixes:z.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:$.POWER,prefixes:z.SHORT,value:1,offset:0},watt:{name:"watt",base:$.POWER,prefixes:z.LONG,value:1,offset:0},hp:{name:"hp",base:$.POWER,prefixes:z.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:$.POWER,prefixes:z.SHORT,value:S.I,offset:0},VA:{name:"VA",base:$.POWER,prefixes:z.SHORT,value:1,offset:0},Pa:{name:"Pa",base:$.PRESSURE,prefixes:z.SHORT,value:1,offset:0},psi:{name:"psi",base:$.PRESSURE,prefixes:z.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:$.PRESSURE,prefixes:z.NONE,value:101325,offset:0},bar:{name:"bar",base:$.PRESSURE,prefixes:z.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:$.PRESSURE,prefixes:z.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:$.PRESSURE,prefixes:z.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:$.PRESSURE,prefixes:z.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:$.PRESSURE,prefixes:z.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:$.ELECTRIC_CHARGE,prefixes:z.LONG,value:1,offset:0},C:{name:"C",base:$.ELECTRIC_CHARGE,prefixes:z.SHORT,value:1,offset:0},farad:{name:"farad",base:$.ELECTRIC_CAPACITANCE,prefixes:z.LONG,value:1,offset:0},F:{name:"F",base:$.ELECTRIC_CAPACITANCE,prefixes:z.SHORT,value:1,offset:0},volt:{name:"volt",base:$.ELECTRIC_POTENTIAL,prefixes:z.LONG,value:1,offset:0},V:{name:"V",base:$.ELECTRIC_POTENTIAL,prefixes:z.SHORT,value:1,offset:0},ohm:{name:"ohm",base:$.ELECTRIC_RESISTANCE,prefixes:z.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:$.ELECTRIC_INDUCTANCE,prefixes:z.LONG,value:1,offset:0},H:{name:"H",base:$.ELECTRIC_INDUCTANCE,prefixes:z.SHORT,value:1,offset:0},siemens:{name:"siemens",base:$.ELECTRIC_CONDUCTANCE,prefixes:z.LONG,value:1,offset:0},S:{name:"S",base:$.ELECTRIC_CONDUCTANCE,prefixes:z.SHORT,value:1,offset:0},weber:{name:"weber",base:$.MAGNETIC_FLUX,prefixes:z.LONG,value:1,offset:0},Wb:{name:"Wb",base:$.MAGNETIC_FLUX,prefixes:z.SHORT,value:1,offset:0},tesla:{name:"tesla",base:$.MAGNETIC_FLUX_DENSITY,prefixes:z.LONG,value:1,offset:0},T:{name:"T",base:$.MAGNETIC_FLUX_DENSITY,prefixes:z.SHORT,value:1,offset:0},b:{name:"b",base:$.BIT,prefixes:z.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:$.BIT,prefixes:z.BINARY_LONG,value:1,offset:0},B:{name:"B",base:$.BIT,prefixes:z.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:$.BIT,prefixes:z.BINARY_LONG,value:8,offset:0}},H={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function j(e){if("BigNumber"===e.number){var t=(0,l.wY)(N);V.rad.value=new N(1),V.deg.value=t.div(180),V.grad.value=t.div(200),V.cycle.value=t.times(2),V.arcsec.value=t.div(648e3),V.arcmin.value=t.div(10800)}else V.rad.value=1,V.deg.value=Math.PI/180,V.grad.value=Math.PI/200,V.cycle.value=2*Math.PI,V.arcsec.value=Math.PI/648e3,V.arcmin.value=Math.PI/10800;V.radian.value=V.rad.value,V.degree.value=V.deg.value,V.gradian.value=V.grad.value}j(h),c&&c("config",(function(e,t){e.number!==t.number&&j(e)}));var W={si:{NONE:{unit:G,prefix:z.NONE[""]},LENGTH:{unit:V.m,prefix:z.SHORT[""]},MASS:{unit:V.g,prefix:z.SHORT.k},TIME:{unit:V.s,prefix:z.SHORT[""]},CURRENT:{unit:V.A,prefix:z.SHORT[""]},TEMPERATURE:{unit:V.K,prefix:z.SHORT[""]},LUMINOUS_INTENSITY:{unit:V.cd,prefix:z.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:V.mol,prefix:z.SHORT[""]},ANGLE:{unit:V.rad,prefix:z.SHORT[""]},BIT:{unit:V.bits,prefix:z.SHORT[""]},FORCE:{unit:V.N,prefix:z.SHORT[""]},ENERGY:{unit:V.J,prefix:z.SHORT[""]},POWER:{unit:V.W,prefix:z.SHORT[""]},PRESSURE:{unit:V.Pa,prefix:z.SHORT[""]},ELECTRIC_CHARGE:{unit:V.C,prefix:z.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:V.F,prefix:z.SHORT[""]},ELECTRIC_POTENTIAL:{unit:V.V,prefix:z.SHORT[""]},ELECTRIC_RESISTANCE:{unit:V.ohm,prefix:z.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:V.H,prefix:z.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:V.S,prefix:z.SHORT[""]},MAGNETIC_FLUX:{unit:V.Wb,prefix:z.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:V.T,prefix:z.SHORT[""]},FREQUENCY:{unit:V.Hz,prefix:z.SHORT[""]}}};W.cgs=JSON.parse(JSON.stringify(W.si)),W.cgs.LENGTH={unit:V.m,prefix:z.SHORT.c},W.cgs.MASS={unit:V.g,prefix:z.SHORT[""]},W.cgs.FORCE={unit:V.dyn,prefix:z.SHORT[""]},W.cgs.ENERGY={unit:V.erg,prefix:z.NONE[""]},W.us=JSON.parse(JSON.stringify(W.si)),W.us.LENGTH={unit:V.ft,prefix:z.NONE[""]},W.us.MASS={unit:V.lbm,prefix:z.NONE[""]},W.us.TEMPERATURE={unit:V.degF,prefix:z.NONE[""]},W.us.FORCE={unit:V.lbf,prefix:z.NONE[""]},W.us.ENERGY={unit:V.BTU,prefix:z.BTU[""]},W.us.POWER={unit:V.hp,prefix:z.NONE[""]},W.us.PRESSURE={unit:V.psi,prefix:z.NONE[""]},W.auto=JSON.parse(JSON.stringify(W.si));var X=W.auto;for(var Y in T.setUnitSystem=function(e){if(!(0,s.nr)(W,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(W).join(", "));X=W[e]},T.getUnitSystem=function(){for(var e in W)if((0,s.nr)(W,e)&&W[e]===X)return e},T.typeConverters={BigNumber:function(e){return new N(e+"")},Fraction:function(e){return new k(e)},Complex:function(e){return e},number:function(e){return e}},T._getNumberConverter=function(e){if(!T.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return T.typeConverters[e]},V)if((0,s.nr)(V,Y)){var Z=V[Y];Z.dimensions=Z.base.dimensions}for(var J in H)if((0,s.nr)(H,J)){var K=V[H[J]],Q={};for(var ee in K)(0,s.nr)(K,ee)&&(Q[ee]=K[ee]);Q.name=J,V[J]=Q}return T.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},T.createUnit=function(e,t){if("object"!=typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if((0,s.nr)(e,r)&&T.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++)T.deleteUnit(e[r].aliases[n]);var i;for(var o in e)(0,s.nr)(e,o)&&(i=T.createUnitSingle(o,e[o]));return i},T.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,s.nr)(V,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(i=e.charAt(t),0===t&&!T.isValidAlpha(i))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!T.isValidAlpha(i)&&!C(i))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var n,o,a,l=null,u=[],c=0;if(t&&"Unit"===t.type)l=t.clone();else if("string"==typeof t)""!==t&&(n=t);else{if("object"!=typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,o=t.prefixes,c=t.offset,a=t.baseName,t.aliases&&(u=t.aliases.valueOf())}if(u)for(var p=0;p<u.length;p++)if((0,s.nr)(V,u[p]))throw new Error('Cannot create alias "'+u[p]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!l)try{l=T.parse(n,{allowNoUnits:!0})}catch(S){throw S.message='Could not create unit "'+e+'" from "'+n+'": '+S.message,S}else n&&"Unit"===n.type&&(l=n.clone());u=u||[],c=c||0,o=o&&o.toUpperCase&&z[o.toUpperCase()]||z.NONE;var h={};if(l){h={name:e,value:l.value,dimensions:l.dimensions.slice(0),prefixes:o,offset:c};var f=!1;for(var d in $)if((0,s.nr)($,d)){for(var m=!0,g=0;g<U.length;g++)if(Math.abs((h.dimensions[g]||0)-($[d].dimensions[g]||0))>1e-12){m=!1;break}if(m){f=!0,h.base=$[d];break}}if(!f){a=a||e+"_STUFF";var y={dimensions:l.dimensions.slice(0)};y.key=a,$[a]=y,X[a]={unit:h,prefix:z.NONE[""]},h.base=$[a]}}else{if(a=a||e+"_STUFF",U.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in U.push(a),$)(0,s.nr)($,v)&&($[v].dimensions[U.length-1]=0);for(var x={dimensions:[]},b=0;b<U.length;b++)x.dimensions[b]=0;x.dimensions[U.length-1]=1,x.key=a,$[a]=x,h={name:e,value:1,dimensions:$[a].dimensions.slice(0),prefixes:o,offset:c,base:$[a]},X[a]={unit:h,prefix:z.NONE[""]}}T.UNITS[e]=h;for(var _=0;_<u.length;_++){var w=u[_],E={};for(var M in h)(0,s.nr)(h,M)&&(E[M]=h[M]);E.name=w,T.UNITS[w]=E}return delete B.cache,new T(null,e)},T.deleteUnit=function(e){delete T.UNITS[e]},T.PREFIXES=z,T.BASE_DIMENSIONS=U,T.BASE_UNITS=$,T.UNIT_SYSTEMS=W,T.UNITS=V,T}),{isClass:!0})},87576:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(25864),i="createUnit",o=["typed","Unit"],a=(0,n.d5)(i,o,(e=>{var{typed:t,Unit:r}=e;return t(i,{"Object, Object":function(e,t){return r.createUnit(e,t)},Object:function(e){return r.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,n){var i={};return i[e]=t,r.createUnit(i,n)},"string, Unit | string | Object":function(e,t){var n={};return n[e]=t,r.createUnit(n,{})},string:function(e){var t={};return t[e]={},r.createUnit(t,{})}})}))},36965:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(25864),i="splitUnit",o=["typed"],a=(0,n.d5)(i,o,(e=>{var{typed:t}=e;return t(i,{"Unit, Array":function(e,t){return e.splitUnit(t)}})}))},87871:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(25864),i=r(41877),o="unit",a=["typed","Unit"],s=(0,n.d5)(o,a,(e=>{var{typed:t,Unit:r}=e;return t(o,{Unit:function(e){return e.clone()},string:function(e){return r.isValuelessUnit(e)?new r(null,e):r.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new r(e,t)},"Array | Matrix":function(e){return(0,i.Fh)(e,this)}})}))},41592:(e,t,r)=>{"use strict";r.d(t,{ss:()=>i,nH:()=>o,$M:()=>a,Yv:()=>s,ax:()=>l,JS:()=>u,xx:()=>c,ir:()=>p,IW:()=>h,ri:()=>f,u1:()=>d,Km:()=>m,RZ:()=>g,d:()=>y,VL:()=>v,pz:()=>x,jp:()=>b,o8:()=>_,Zu:()=>w,Rw:()=>E,c0:()=>M,BL:()=>S,zP:()=>N,j5:()=>k,kL:()=>A,A0:()=>T,V9:()=>O,Dg:()=>C,sW:()=>I,_C:()=>R,rK:()=>D,Gw:()=>L,Go:()=>q,Uu:()=>B,sD:()=>P,Vv:()=>z,cn:()=>U,lR:()=>$,lr:()=>F,GI:()=>G,zt:()=>V,W5:()=>H,xt:()=>j,Qr:()=>W,CQ:()=>X,Ps:()=>Y,v0:()=>Z,of:()=>J,B7:()=>K,Oz:()=>Q});var n=r(25864),i=ee("speedOfLight","299792458","m s^-1"),o=ee("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),a=ee("planckConstant","6.62607015e-34","J s"),s=ee("reducedPlanckConstant","1.0545718176461565e-34","J s"),l=ee("magneticConstant","1.25663706212e-6","N A^-2"),u=ee("electricConstant","8.8541878128e-12","F m^-1"),c=ee("vacuumImpedance","376.730313667","ohm"),p=ee("coulomb","8.987551792261171e9","N m^2 C^-2"),h=ee("elementaryCharge","1.602176634e-19","C"),f=ee("bohrMagneton","9.2740100783e-24","J T^-1"),d=ee("conductanceQuantum","7.748091729863649e-5","S"),m=ee("inverseConductanceQuantum","12906.403729652257","ohm"),g=ee("magneticFluxQuantum","2.0678338484619295e-15","Wb"),y=ee("nuclearMagneton","5.0507837461e-27","J T^-1"),v=ee("klitzing","25812.807459304513","ohm"),x=ee("bohrRadius","5.29177210903e-11","m"),b=ee("classicalElectronRadius","2.8179403262e-15","m"),_=ee("electronMass","9.1093837015e-31","kg"),w=ee("fermiCoupling","1.1663787e-5","GeV^-2"),E=te("fineStructure",.0072973525693),M=ee("hartreeEnergy","4.3597447222071e-18","J"),S=ee("protonMass","1.67262192369e-27","kg"),N=ee("deuteronMass","3.3435830926e-27","kg"),k=ee("neutronMass","1.6749271613e-27","kg"),A=ee("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),T=ee("rydberg","10973731.568160","m^-1"),O=ee("thomsonCrossSection","6.6524587321e-29","m^2"),C=te("weakMixingAngle",.2229),I=te("efimovFactor",22.7),R=ee("atomicMass","1.66053906660e-27","kg"),D=ee("avogadro","6.02214076e23","mol^-1"),L=ee("boltzmann","1.380649e-23","J K^-1"),q=ee("faraday","96485.33212331001","C mol^-1"),B=ee("firstRadiation","3.7417718521927573e-16","W m^2"),P=ee("loschmidt","2.686780111798444e25","m^-3"),z=ee("gasConstant","8.31446261815324","J K^-1 mol^-1"),U=ee("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),$=ee("molarVolume","0.022413969545014137","m^3 mol^-1"),F=te("sackurTetrode",-1.16487052358),G=ee("secondRadiation","0.014387768775039337","m K"),V=ee("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),H=ee("wienDisplacement","2.897771955e-3","m K"),j=ee("molarMass","0.99999999965e-3","kg mol^-1"),W=ee("molarMassC12","11.9999999958e-3","kg mol^-1"),X=ee("gravity","9.80665","m s^-2"),Y=ee("planckLength","1.616255e-35","m"),Z=ee("planckMass","2.176435e-8","kg"),J=ee("planckTime","5.391245e-44","s"),K=ee("planckCharge","1.87554603778e-18","C"),Q=ee("planckTemperature","1.416785e+32","K");function ee(e,t,r){return(0,n.d5)(e,["config","Unit","BigNumber"],(e=>{var{config:n,Unit:i,BigNumber:o}=e,a=new i("BigNumber"===n.number?new o(t):parseFloat(t),r);return a.fixPrefix=!0,a}))}function te(e,t){return(0,n.d5)(e,["config","BigNumber"],(e=>{var{config:r,BigNumber:n}=e;return"BigNumber"===r.number?new n(t):t}))}},95001:(e,t,r)=>{"use strict";r.d(t,{aJ:()=>l,Gu:()=>c,Ls:()=>p,SI:()=>h,XL:()=>d,eu:()=>m,L9:()=>y,f4:()=>x,xH:()=>_,UI:()=>w,Ed:()=>E,hX:()=>M,U_:()=>S,v_:()=>N,yV:()=>k,D$:()=>A,$q:()=>T});var n=r(1341),i=r(67242),o=r(19372),a=r(24486),s=r(81725);function l(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function u(e,t,r){var n,i=e.length;if(i!==t[r])throw new a.m(i,t[r]);if(r<t.length-1){var o=r+1;for(n=0;n<i;n++){var s=e[n];if(!Array.isArray(s))throw new a.m(t.length-1,t.length,"<");u(e[n],t,o)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new a.m(t.length+1,t.length,">")}function c(e,t){if(0===t.length){if(Array.isArray(e))throw new a.m(e.length,0)}else u(e,t,0)}function p(e,t){if(!(0,i.hj)(e)||!(0,n.U)(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new s.c(e,t)}function h(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!(0,i.hj)(e)||!(0,n.U)(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,o.WU)(t)+")")})),f(e,t,0,void 0!==r?r:0),e}function f(e,t,r,n){var i,o,a=e.length,s=t[r],l=Math.min(a,s);if(e.length=s,r<t.length-1){var u=r+1;for(i=0;i<l;i++)o=e[i],Array.isArray(o)||(o=[o],e[i]=o),f(o,t,u,n);for(i=l;i<s;i++)o=[],e[i]=o,f(o,t,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<s;i++)e[i]=n}}function d(e,t){var r=_(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new a.m(0,n,"!=");var i=g(t=m(t,n));if(n!==i)throw new a.m(i,n,"!=");try{return function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var o=t[i];r=[];for(var a=n.length/o,s=0;s<a;s++)r.push(n.slice(s*o,(s+1)*o));n=r}return n}(r,t)}catch(o){if(o instanceof a.m)throw new a.m(i,n,"!=");throw o}}function m(e,t){var r=g(e),n=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%r==0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);n[i]=-t/r}return n}function g(e){return e.reduce(((e,t)=>e*t),1)}function y(e,t){for(var r=t||l(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=v(e,n,0),r.length=n),e}function v(e,t,r){var n,i;if(r<t){var o=r+1;for(n=0,i=e.length;n<i;n++)e[n]=v(e[n],t,o)}else for(;Array.isArray(e);)e=e[0];return e}function x(e,t,r,n){var i=n||l(e);if(r)for(var o=0;o<r;o++)e=[e],i.unshift(1);for(e=b(e,t,0);i.length<t;)i.push(1);return e}function b(e,t,r){var n,i;if(Array.isArray(e)){var o=r+1;for(n=0,i=e.length;n<i;n++)e[n]=b(e[n],t,o)}else for(var a=r;a<t;a++)e=[e];return e}function _(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(r){Array.isArray(r)?r.forEach(e):t.push(r)})),t}function w(e,t){return Array.prototype.map.call(e,t)}function E(e,t){Array.prototype.forEach.call(e,t)}function M(e,t){if(1!==l(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function S(e,t){if(1!==l(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(e=>t.test(e)))}function N(e,t){return Array.prototype.join.call(e,t)}function k(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function A(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function T(e,t){for(var r,n=0,i=0;i<e.length;i++){var o=e[i],a=Array.isArray(o);if(0===i&&a&&(n=o.length),a&&o.length!==n)return;var s=a?T(o,t):t(o);if(void 0===r)r=s;else if(r!==s)return"mixed"}return r}},57644:(e,t,r)=>{"use strict";function n(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return a(e,t,(function(e,t){return e&t}))}function i(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function o(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?a(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function a(e,t,r){var n,o,a,l,u,c=e.constructor,p=+(e.s<0),h=+(t.s<0);if(p){n=s(i(e));for(var f=0;f<n.length;++f)n[f]^=1}else n=s(e);if(h){o=s(i(t));for(var d=0;d<o.length;++d)o[d]^=1}else o=s(t);n.length<=o.length?(a=n,l=o,u=p):(a=o,l=n,u=h);var m=a.length,g=l.length,y=1^r(p,h),v=new c(1^y),x=new c(1),b=new c(2),_=c.precision;for(c.config({precision:1e9});m>0;)r(a[--m],l[--g])===y&&(v=v.plus(x)),x=x.times(b);for(;g>0;)r(u,l[--g])===y&&(v=v.plus(x)),x=x.times(b);return c.config({precision:_}),0===y&&(v.s=-v.s),v}function s(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",o=7-i.length;o--;)i="0"+i;r+=i}for(var a=r.length;"0"===r.charAt(a);)a--;var s=e.e,l=r.slice(0,a+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],p=0;p<l.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(l.charAt(p++));for(var f=0;f<c.length;++f)c[f]>1&&(null!==c[f+1]&&void 0!==c[f+1]||(c[f+1]=0),c[f+1]+=c[f]>>1,c[f]&=1)}return c.reverse()}function l(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?i(t):t.eq(n)?i(e):e.isFinite()&&t.isFinite()?a(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function u(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function c(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}r.d(t,{hi:()=>n,Xc:()=>i,Vq:()=>o,nN:()=>l,Mw:()=>u,ti:()=>c})},19947:(e,t,r)=>{"use strict";r.d(t,{vu:()=>i,zm:()=>o,wY:()=>a,j_:()=>s});var n=r(90409),i=(0,n.HP)((function(e){return new e(1).exp()}),{hasher:l}),o=(0,n.HP)((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),{hasher:l}),a=(0,n.HP)((function(e){return e.acos(-1)}),{hasher:l}),s=(0,n.HP)((function(e){return a(e).times(2)}),{hasher:l});function l(e){return e[0].precision}},26482:(e,t,r)=>{"use strict";r.d(t,{WU:()=>o});var n=r(1341);function i(e,t,r){var i=new(0,e.constructor)(2),o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!(0,n.U)(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),o="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function o(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r,n,o="auto";if(void 0!==t&&(t.notation&&(o=t.notation),"number"==typeof t?r=t:t.precision&&(r=t.precision),t.wordSize&&"number"!=typeof(n=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(o){case"fixed":return function(e,t){return e.toFixed(t)}(e,r);case"exponential":return a(e,r);case"engineering":return function(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),o=i.toPrecision(t);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(r>=0?"+":"")+n.toString()}(e,r);case"bin":return i(e,2,n);case"oct":return i(e,8,n);case"hex":return i(e,16,n);case"auto":var s=t&&void 0!==t.lowerExp?t.lowerExp:-3,l=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var u=e.toSignificantDigits(r),c=u.e;return(c>=s&&c<l?u.toFixed():a(e,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function a(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}},67293:(e,t,r)=>{"use strict";function n(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}r.d(t,{R:()=>n})},41877:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>a,Et:()=>s,Fh:()=>l,u4:()=>u,U6:()=>p});var n=r(67242),i=r(81725),o=r(95001);function a(e){for(var t=0;t<e.length;t++)if((0,n.uZ)(e[t]))return!0;return!1}function s(e,t){(0,n.SW)(e)&&(e=e.valueOf());for(var r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?s(o,t):t(o)}}function l(e,t,r){return e&&"function"==typeof e.map?e.map((function(e){return l(e,t,r)})):t(e)}function u(e,t,r){var a=Array.isArray(e)?(0,o.aJ)(e):e.size();if(t<0||t>=a.length)throw new i.c(t,a.length);return(0,n.SW)(e)?e.create(c(e.valueOf(),t,r)):c(e,t,r)}function c(e,t,r){var n,i,o,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,r,n=e.length,i=e[0].length,o=[];for(r=0;r<i;r++){var a=[];for(t=0;t<n;t++)a.push(e[t][r]);o.push(a)}return o}(e),i=[],n=0;n<a.length;n++)i[n]=c(a[n],t-1,r);return i}for(o=e[0],n=1;n<e.length;n++)o=r(o,e[n]);return o}for(i=[],n=0;n<e.length;n++)i[n]=c(e[n],t-1,r);return i}function p(e,t,r,n,i,o,a,s,l,u,c){var p,h,f,d,m=e._values,g=e._index,y=e._ptr;if(n)for(h=y[t],f=y[t+1],p=h;p<f;p++)r[d=g[p]]!==o?(r[d]=o,a.push(d),u?(n[d]=l?s(m[p],c):s(c,m[p]),i[d]=o):n[d]=m[p]):(n[d]=l?s(m[p],n[d]):s(n[d],m[p]),i[d]=o);else for(h=y[t],f=y[t+1],p=h;p<f;p++)r[d=g[p]]!==o?(r[d]=o,a.push(d)):i[d]=o}},30768:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(1341);function i(e,t,r){return(0,n.RI)(e.re,t.re,r)&&(0,n.RI)(e.im,t.im,r)}},5723:(e,t,r)=>{"use strict";r.d(t,{YF:()=>i,nI:()=>o,pp:()=>a,np:()=>s,OJ:()=>l});var n=r(57139);function i(e,t){if(u(e)&&a(e,t))return e[t];if("function"==typeof e[t]&&l(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function o(e,t,r){if(u(e)&&a(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function a(e,t){return!(!e||"object"!=typeof e)&&(!!(0,n.nr)(c,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function s(e,t){if(!l(e,t))throw new Error('No access to method "'+t+'"')}function l(e,t){return null!=e&&"function"==typeof e[t]&&(!((0,n.nr)(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!(0,n.nr)(p,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function u(e){return"object"==typeof e&&e&&e.constructor===Object}var c={length:!0,name:!0},p={toString:!0,valueOf:!0,toLocaleString:!0}},25864:(e,t,r)=>{"use strict";r.d(t,{d5:()=>i});var n=r(57139);function i(e,t,r,i){function a(i){var a=(0,n.W6)(i,t.map(o));return function(e,t,r){if(!t.filter((e=>!function(e){return e&&"?"===e[0]}(e))).every((e=>void 0!==r[e]))){var n=t.filter((e=>void 0===r[e]));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map((e=>'"'.concat(e,'"'))).join(", "),"."))}}(e,t,i),r(a)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),i&&(a.meta=i),a}function o(e){return e&&"?"===e[0]?e.slice(1):e}},90409:(e,t,r)=>{"use strict";r.d(t,{HP:()=>i,oV:()=>o});var n=r(482);function i(e){var{hasher:t,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,t=null==t?JSON.stringify:t,function i(){"object"!=typeof i.cache&&(i.cache={values:new Map,lru:(0,n.x)(r||Number.POSITIVE_INFINITY)});for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=t(o);if(i.cache.values.has(s))return i.cache.lru.hit(s),i.cache.values.get(s);var l=e.apply(e,o);return i.cache.values.set(s,l),i.cache.values.delete(i.cache.lru.hit(s)),l}}function o(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)}),-1)}},67242:(e,t,r)=>{"use strict";function n(e){return"number"==typeof e}function i(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function o(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function a(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function s(e){return e&&!0===e.constructor.prototype.isUnit||!1}function l(e){return"string"==typeof e}r.d(t,{hj:()=>n,l9:()=>i,Mc:()=>o,yQ:()=>a,wr:()=>s,HD:()=>l,kJ:()=>u,SW:()=>c,uZ:()=>p,jH:()=>h,sA:()=>f,bR:()=>d,dh:()=>m,jn:()=>g,cB:()=>y,x1:()=>v,mf:()=>x,J_:()=>b,Kj:()=>_,Kn:()=>w,Ft:()=>E,o8:()=>M,Yz:()=>S,j0:()=>N,Bp:()=>k,zh:()=>A,tS:()=>T,nu:()=>O,l7:()=>C,VO:()=>I,Cl:()=>R,UG:()=>D,Lr:()=>L,bV:()=>q,Ig:()=>B,ex:()=>P,FG:()=>z,qg:()=>U,kM:()=>$});var u=Array.isArray;function c(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function p(e){return Array.isArray(e)||c(e)}function h(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function f(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function d(e){return e&&!0===e.constructor.prototype.isRange||!1}function m(e){return e&&!0===e.constructor.prototype.isIndex||!1}function g(e){return"boolean"==typeof e}function y(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function v(e){return e&&!0===e.constructor.prototype.isHelp||!1}function x(e){return"function"==typeof e}function b(e){return e instanceof Date}function _(e){return e instanceof RegExp}function w(e){return!(!e||"object"!=typeof e||e.constructor!==Object||o(e)||a(e))}function E(e){return null===e}function M(e){return void 0===e}function S(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function k(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function A(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function T(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function O(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function C(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function q(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function z(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.constructor.prototype.isChain||!1}function $(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":i(e)?"BigNumber":o(e)?"Complex":a(e)?"Fraction":c(e)?"Matrix":s(e)?"Unit":m(e)?"Index":d(e)?"Range":y(e)?"ResultSet":D(e)?e.type:U(e)?"Chain":v(e)?"Help":"Object":"function"===t?"Function":t}},48577:(e,t,r)=>{"use strict";r.d(t,{N8:()=>a,Cp:()=>s,TN:()=>l,cZ:()=>c,ZH:()=>p});var n=r(43770),i=r(57139),o={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},a={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},s={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(a.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(a.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(a.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(a.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(a.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(a.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(a.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(a.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(a.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(a.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(a.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(a.bitAnd,"${args[1]}\\right)")},bitNot:{1:a.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(a.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(a.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(a.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(a.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(a.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(a.and,"${args[1]}\\right)")},not:{1:a.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(a.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(a.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(a.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(a.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(a.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(a.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(a.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(a.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(a.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(a.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(a.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(a.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(a.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(o.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},l="\\mathrm{${name}}\\left(${args}\\right)",u={deg:"^\\circ"};function c(e){return n(e,{preserveFormatting:!0})}function p(e,t){return(t=void 0!==t&&t)?(0,i.nr)(u,e)?u[e]:"\\mathrm{"+c(e)+"}":(0,i.nr)(o,e)?o[e]:c(e)}},482:(e,t,r)=>{"use strict";function n(e){var t=0,r=1,n=Object.create(null),i=Object.create(null),o=0,a=function(e){var a=i[e];if(a&&(delete n[a],delete i[e],--t,r===a)){if(!t)return o=0,void(r=1);for(;!hasOwnProperty.call(n,++r););}};return e=Math.abs(e),{hit:function(s){var l=i[s],u=++o;if(n[u]=s,i[s]=u,!l){if(++t<=e)return;return s=n[r],a(s),s}if(delete n[l],r===l)for(;!hasOwnProperty.call(n,++r););},delete:a,clear:function(){t=o=0,r=1,n=Object.create(null),i=Object.create(null)}}}r.d(t,{x:()=>n})},59576:(e,t,r)=>{"use strict";function n(){throw new Error('No "bignumber" implementation available')}function i(){throw new Error('No "fraction" implementation available')}function o(){throw new Error('No "matrix" implementation available')}r.d(t,{R3:()=>n,nG:()=>i,kX:()=>o})},1341:(e,t,r)=>{"use strict";r.d(t,{U:()=>i,Xx:()=>o,k3:()=>a,mv:()=>s,Kr:()=>l,eK:()=>u,t$:()=>c,WU:()=>h,FH:()=>d,nz:()=>v,RI:()=>b,__:()=>_,Vf:()=>w,C8:()=>E,f9:()=>M,R_:()=>S,AE:()=>N});var n=r(67242);function i(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var o=Math.sign||function(e){return e>0?1:e<0?-1:0},a=Math.log2||function(e){return Math.log(e)/Math.LN2},s=Math.log10||function(e){return Math.log(e)/Math.LN10},l=Math.log1p||function(e){return Math.log(e+1)},u=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t},c=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function p(e,t,r){var n={2:"0b",8:"0o",16:"0x"}[t],o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!i(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!i(e))throw new Error("Value must be an integer");e<0&&(e+=2**r),o="i".concat(r)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(n).concat(e.toString(t)).concat(o)}function h(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r,i,o="auto";if(t&&(t.notation&&(o=t.notation),(0,n.hj)(t)?r=t:(0,n.hj)(t.precision)&&(r=t.precision),t.wordSize&&"number"!=typeof(i=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(o){case"fixed":return d(e,r);case"exponential":return m(e,r);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=g(f(e),t),i=r.exponent,o=r.coefficients,a=i%3==0?i:i<0?i-3-i%3:i-i%3;if((0,n.hj)(t))for(;t>o.length||i-a+1>o.length;)o.push(0);else for(var s=Math.abs(i-a)-(o.length-1),l=0;l<s;l++)o.push(0);var u=Math.abs(i-a),c=1;for(;u>0;)c++,u--;var p=o.slice(c).join(""),h=(0,n.hj)(t)&&p.length||p.match(/[1-9]/)?"."+p:"",d=o.slice(0,c).join("")+h+"e"+(i>=0?"+":"")+a.toString();return r.sign+d}(e,r);case"bin":return p(e,2,i);case"oct":return p(e,8,i);case"hex":return p(e,16,i);case"auto":return function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,o=f(e),a=t?g(o,t):o;if(a.exponent<n||a.exponent>=i)return m(e,t);var s=a.coefficients,l=a.exponent;s.length<t&&(s=s.concat(y(t-s.length))),s=s.concat(y(l-s.length+1+(s.length<t?t-s.length:0)));var u=l>0?l:0;return u<(s=y(-l).concat(s)).length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}(e,r,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+o+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function f(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1;var a=n.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function d(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=f(e),n="number"==typeof t?g(r,r.exponent+1+t):r,i=n.coefficients,o=n.exponent+1,a=o+(t||0);return i.length<a&&(i=i.concat(y(a-i.length))),o<0&&(i=y(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),n.sign+i.join("")}function m(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=f(e),n=t?g(r,t):r,i=n.coefficients,o=n.exponent;i.length<t&&(i=i.concat(y(t-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function g(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r}function y(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function v(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var x=Number.EPSILON||2220446049250313e-31;function b(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<x||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}var _=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},w=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},E=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},M=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},S=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},N=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)}},57139:(e,t,r)=>{"use strict";r.d(t,{d9:()=>i,l7:()=>o,J5:()=>a,Vo:()=>s,nr:()=>l,W6:()=>u});var n=r(67242);function i(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return i(e)}));if(e instanceof Date)return new Date(e.valueOf());if((0,n.l9)(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return function(e,t){var r={};for(var n in e)l(e,n)&&(r[n]=t(e[n]));return r}(e,i)}function o(e,t){for(var r in t)l(t,r)&&(e[r]=t[r]);return e}function a(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!a(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!a(e[r],t[r]))return!1;for(r in t)if(!(r in e)||!a(e[r],t[r]))return!1;return!0}return e===t}function s(e,t,r){var n,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(n=r(),i=!1),n},set:function(e){n=e,i=!1},configurable:!0,enumerable:!0})}function l(e,t){return e&&Object.hasOwnProperty.call(e,t)}function u(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],o=e[i];void 0!==o&&(r[i]=o)}return r}},33710:(e,t,r)=>{"use strict";function n(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return n(e,r)*n(r+1,t)}r.d(t,{O:()=>n})},19372:(e,t,r)=>{"use strict";r.d(t,{pn:()=>a,WU:()=>s,Pz:()=>l,YU:()=>u,cd:()=>p});var n=r(67242),i=r(1341),o=r(26482);function a(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}function s(e,t){return"number"==typeof e?(0,i.WU)(e,t):(0,n.l9)(e)?(0,o.WU)(e,t):function(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?c(e,t):(0,n.HD)(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==typeof e?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((r=>'"'+r+'": '+s(e[r],t))).join(", ")+"}":String(e)}function l(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(r+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'}function u(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=c(e[i],t);return r+="]"}return s(e,t)}function p(e,t){if(!(0,n.HD)(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,n.kM)(e)+", index: 0)");if(!(0,n.HD)(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,n.kM)(t)+", index: 1)");return e===t?0:e>t?1:-1}},71737:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var n="9.3.2"},68116:(e,t,r)=>{var n=r(65082),i=r(7557),o=r(42262),a=r(42095),s=r(70431),l=r(67131),u=r(67701);u.alea=n,u.xor128=i,u.xorwow=o,u.xorshift7=a,u.xor4096=s,u.tychei=l,e.exports=u},65082:function(e,t,r){var n;!function(e,i,o){function a(e){var t,r=this,n=(t=4022871197,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)});r.next=function(){var e=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var r=new a(e),n=t&&t.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.alea=l}(0,e=r.nmd(e),r.amdD)},67131:function(e,t,r){var n;!function(e,i,o){function a(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.tychei=l}(0,e=r.nmd(e),r.amdD)},7557:function(e,t,r){var n;!function(e,i,o){function a(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.xor128=l}(0,e=r.nmd(e),r.amdD)},70431:function(e,t,r){var n;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,o=t.i;return t.w=n=n+1640531527|0,r=i[o+34&127],e=i[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[o]=r^e,t.i=o,r+(n^n>>>16)|0},function(e,t){var r,n,i,o,a,s=[],l=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,l=Math.max(l,t.length)),i=0,o=-32;o<l;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(a=a+1640531527|0,i=0==(r=s[127&o]^=n+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.xor4096=l}(0,e=r.nmd(e),r.amdD)},42095:function(e,t,r){var n;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],r^=(e^=e<<13)^e<<9,n[i]=r,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.xorshift7=l}(0,e=r.nmd(e),r.amdD)},42262:function(e,t,r){var n;!function(e,i,o){function a(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var r=new a(e),n=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=l:r.amdD&&r.amdO?void 0===(n=function(){return l}.call(t,r,t,i))||(i.exports=n):this.xorwow=l}(0,e=r.nmd(e),r.amdD)},67701:function(e,t,r){var n;!function(i,o,a){var s,l=256,u=a.pow(l,6),c=a.pow(2,52),p=2*c,h=255;function f(e,t,r){var n=[],h=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(o)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(n){var t=i.navigator,r=t&&t.plugins;return[+new Date,i,r,i.screen,v(o)]}}():e,3),n),f=new d(n),x=function(){for(var e=f.g(6),t=u,r=0;e<c;)e=(e+r)*l,t*=l,r=f.g(1);for(;e>=p;)e/=2,t/=2,r>>>=1;return(e+r)/t};return x.int32=function(){return 0|f.g(4)},x.quick=function(){return f.g(4)/4294967296},x.double=x,y(v(f.S),o),(t.pass||r||function(e,t,r,n){return n&&(n.S&&m(n,f),e.state=function(){return m(f,{})}),r?(a.random=e,t):e})(x,h,"global"in t?t.global:this==a,t.state)}function d(e){var t,r=e.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(e=[r++]);i<l;)a[i]=i++;for(i=0;i<l;i++)a[i]=a[o=h&o+e[i%r]+(t=a[i])],a[o]=t;(n.g=function(e){for(var t,r=0,i=n.i,o=n.j,a=n.S;e--;)t=a[i=h&i+1],r=r*l+a[h&(a[i]=a[o=h&o+t])+(a[o]=t)];return n.i=i,n.j=o,r})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var r,n=[],i=typeof e;if(t&&"object"==i)for(r in e)try{n.push(g(e[r],t-1))}catch(o){}return n.length?n:"string"==i?e:e+"\0"}function y(e,t){for(var r,n=e+"",i=0;i<n.length;)t[h&i]=h&(r^=19*t[h&i])+n.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),o),e.exports){e.exports=f;try{s=r(21440)}catch(x){}}else void 0===(n=function(){return f}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof self?self:this,[],Math)},63581:function(e,t){"use strict";var r,n,i;n=[],void 0===(i="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function r(){}function n(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],o={name:"any",test:e},a=[],s=[],l={types:i,conversions:s,ignore:a};function u(e){var t=X(l.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return o;var r=X(l.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function c(e){return e===o?999:l.types.indexOf(e)}function p(e){var t=X(l.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function h(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var i=r.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")}function f(e,t){var r=p(e);if(t===r)return e;for(var n=0;n<l.conversions.length;n++){var i=l.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)}function d(e){return e.map((function(e){var t=e.types.map(E);return(e.restParam?"...":"")+t.join("|")})).join(",")}function m(e,t){var r=0===e.indexOf("..."),n=(r?e.length>3?e.slice(3):"any":e).split("|").map(z).filter(U).filter(P),i=C(t,n),o=n.map((function(e){var t=u(e);return{name:e,typeIndex:c(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var r=u(e.from);return{name:e.from,typeIndex:c(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:o.concat(a),restParam:r}}function g(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(z).map((function(e,t,n){var i=m(e,r);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),n.some(F)?null:{params:n,fn:t}}function y(e){var t=V(e);return!!t&&t.restParam}function v(e){return e.types.some((function(e){return null!=e.conversion}))}function x(t){if(t&&0!==t.types.length){if(1===t.types.length)return u(t.types[0].name).test;if(2===t.types.length){var r=u(t.types[0].name).test,n=u(t.types[1].name).test;return function(e){return r(e)||n(e)}}var i=t.types.map((function(e){return u(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function b(e){var t,r,n;if(y(e)){var i=(t=G(e).map(x)).length,o=x(V(e)),a=function(e){for(var t=i;t<e.length;t++)if(!o(e[t]))return!1;return!0};return function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return a(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=x(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=x(e[0]),n=x(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(x),function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}function _(e,t){return t<e.params.length?e.params[t]:y(e.params)?V(e.params):null}function w(e,t,r){var n=_(e,t);return(n?r?n.types.filter(M):n.types:[]).map(E)}function E(e){return e.name}function M(e){return null===e.conversion||void 0===e.conversion}function S(e,t){var r=Y(Z(e,(function(e){return w(e,t,!1)})));return-1!==r.indexOf("any")?["any"]:r}function N(e,t,r){var n,i,o,a=e||"unnamed",s=r;for(o=0;o<t.length;o++){var l=s.filter((function(e){var r=x(_(e,o));return(o<e.params.length||y(e.params))&&r(t[o])}));if(0===l.length){if((i=S(s,o)).length>0){var u=p(t[o]);return(n=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+u+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:u,expected:i},n}}else s=l}var c=s.map((function(e){return y(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,c))return i=S(s,o),(n=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},n;var h=Math.max.apply(null,c);return t.length>h?((n=new TypeError("Too many arguments in function "+a+" (expected: "+h+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:h},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(p)},n)}function k(e){for(var t=999,r=0;r<e.types.length;r++)M(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function A(e){for(var t=999,r=0;r<e.types.length;r++)M(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function T(e,t){var r;return 0!=(r=e.restParam-t.restParam)||0!=(r=v(e)-v(t))||0!=(r=k(e)-k(t))?r:A(e)-A(t)}function O(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(v)-t.params.some(v)))return n;for(r=0;r<i;r++)if(0!=(n=v(e.params[r])-v(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=T(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function C(e,t){var r={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)})),Object.keys(r).map((function(e){return r[e]}))}function I(e,t){var r=t;if(e.some(v)){var n=y(e),i=e.map(R);r=function(){for(var e=[],r=n?arguments.length-1:arguments.length,o=0;o<r;o++)e[o]=i[o](arguments[o]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e)}}var o=r;if(y(e)){var a=e.length-1;o=function(){return r.apply(this,H(arguments,0,a).concat([H(arguments,a)]))}}return o}function R(e){var t,r,n,i,o=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(u(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=o[0],n=a[0],function(e){return t(e)?n(e):e};case 2:return t=o[0],r=o[1],n=a[0],i=a[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(o[t](e))return a[t](e);return e}}}function D(e){var t={};return e.forEach((function(e){e.params.some(v)||L(e.params,!0).forEach((function(r){t[d(r)]=e.fn}))})),t}function L(e,t){function r(e,n,i){if(n<e.length){var o,a=e[n],s=t?a.types.filter(M):a.types;if(a.restParam){var l=s.filter(M);o=l.length<s.length?[l,s]:[s]}else o=s.map((function(e){return[e]}));return Z(o,(function(t){return r(e,n+1,i.concat([t]))}))}return[i.map((function(t,r){return{types:t,restParam:r===e.length-1&&y(e)}}))]}return r(e,0,[])}function q(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++)if(!W(w(e,n,!0),w(t,n,!0)))return!1;var i=e.params.length,o=t.params.length,a=y(e.params),s=y(t.params);return a?s?i===o:o>=i:s?i>=o:i===o}function B(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map((function(e){return g(e,n[e],l.conversions)})).filter($).forEach((function(e){var t=X(i,(function(t){return q(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+d(t.params)+'" and "'+d(e.params)+'".');i.push(e)}));var o=Z(i,(function(e){return(e?L(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter($);o.sort(O);var a=o[0]&&o[0].params.length<=2&&!y(o[0].params),s=o[1]&&o[1].params.length<=2&&!y(o[1].params),u=o[2]&&o[2].params.length<=2&&!y(o[2].params),c=o[3]&&o[3].params.length<=2&&!y(o[3].params),p=o[4]&&o[4].params.length<=2&&!y(o[4].params),h=o[5]&&o[5].params.length<=2&&!y(o[5].params),f=a&&s&&u&&c&&p&&h,m=o.map((function(e){return b(e.params)})),v=a?x(o[0].params[0]):t,_=s?x(o[1].params[0]):t,w=u?x(o[2].params[0]):t,E=c?x(o[3].params[0]):t,M=p?x(o[4].params[0]):t,S=h?x(o[5].params[0]):t,k=a?x(o[0].params[1]):t,A=s?x(o[1].params[1]):t,T=u?x(o[2].params[1]):t,C=c?x(o[3].params[1]):t,R=p?x(o[4].params[1]):t,B=h?x(o[5].params[1]):t,P=o.map((function(e){return I(e.params,e.fn)})),z=a?P[0]:r,U=s?P[1]:r,F=u?P[2]:r,G=c?P[3]:r,V=p?P[4]:r,H=h?P[5]:r,j=a?o[0].params.length:-1,W=s?o[1].params.length:-1,Y=u?o[2].params.length:-1,J=c?o[3].params.length:-1,K=p?o[4].params.length:-1,Q=h?o[5].params.length:-1,ee=f?6:0,te=o.length,re=function(){for(var t=ee;t<te;t++)if(m[t](arguments))return P[t].apply(this,arguments);throw N(e,arguments,o)},ne=function e(t,r){return arguments.length===j&&v(t)&&k(r)?z.apply(e,arguments):arguments.length===W&&_(t)&&A(r)?U.apply(e,arguments):arguments.length===Y&&w(t)&&T(r)?F.apply(e,arguments):arguments.length===J&&E(t)&&C(r)?G.apply(e,arguments):arguments.length===K&&M(t)&&R(r)?V.apply(e,arguments):arguments.length===Q&&S(t)&&B(r)?H.apply(e,arguments):re.apply(e,arguments)};try{Object.defineProperty(ne,"name",{value:e})}catch(ie){}return ne.signatures=D(o),ne}function P(e){return-1===l.ignore.indexOf(e)}function z(e){return e.trim()}function U(e){return!!e}function $(e){return null!==e}function F(e){return 0===e.types.length}function G(e){return e.slice(0,e.length-1)}function V(e){return e[e.length-1]}function H(e,t,r){return Array.prototype.slice.call(e,t,r)}function j(e,t){return-1!==e.indexOf(t)}function W(e,t){for(var r=0;r<e.length;r++)if(j(t,e[r]))return!0;return!1}function X(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Y(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}function Z(e,t){return Array.prototype.concat.apply([],e.map(t))}function J(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function K(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var o=e[i];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(n(a,o.signatures[a]),r[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;n(o.signature,o),r[o.signature]=o}}return r}return(l=B("typed",{"string, Object":B,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return B(J(t),e)},"...Function":function(e){return B(J(e),K(e))},"string, ...Function":function(e,t){return B(e,K(t))}})).create=n,l.types=i,l.conversions=s,l.ignore=a,l.convert=f,l.find=h,l.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<l.types.length;r++)if("Object"===l.types[r].name)return void l.types.splice(r,0,e);l.types.push(e)},l.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(e)},l}return n()})?r.apply(t,n):r)||(e.exports=i)},21440:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(68981),t=__webpack_require__.n(e);t().start({apiKey:"6f45f454e2366599256bddc91cd7000b",onError:function(e){if(/^file:\/\//.test(e.request.url))return!1;const{errorClass:t,stacktrace:r}=e.errors[0];return!r.some((e=>/^moz-extension:\/\//.test(e.file)))&&(!r.some((e=>/NS_ERROR_FAILURE/.test(e.errorClass)))&&(/ChunkLoadError/.test(t)?(alert("Il y a un problème de chargement de l’application, vous devriez essayer de vider le cache de votre navigateur pour le resoudre (ctrl+maj+suppr en général, puis cocher « fichier en cache »)."),!1):void 0))},appVersion:"2.5.3",releaseStage:"production"}),window.Bugsnag=t()})(),(()=>{"use strict";var codemirror__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53791),codemirror__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_0__),codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25027),codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(codemirror_mode_javascript_javascript_js__WEBPACK_IMPORTED_MODULE_1__),codemirror_mode_xml_xml_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12310),codemirror_mode_xml_xml_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(codemirror_mode_xml_xml_js__WEBPACK_IMPORTED_MODULE_2__),codemirror_mode_htmlmixed_htmlmixed_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57456),codemirror_mode_htmlmixed_htmlmixed_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(codemirror_mode_htmlmixed_htmlmixed_js__WEBPACK_IMPORTED_MODULE_3__),codemirror_mode_stex_stex_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(63125),codemirror_mode_stex_stex_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(codemirror_mode_stex_stex_js__WEBPACK_IMPORTED_MODULE_4__),codemirror_addon_hint_javascript_hint_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(92052),codemirror_addon_hint_javascript_hint_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(codemirror_addon_hint_javascript_hint_js__WEBPACK_IMPORTED_MODULE_5__),codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(32407),codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(codemirror_addon_hint_show_hint_js__WEBPACK_IMPORTED_MODULE_6__),codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(53582),codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_7__),katex_dist_contrib_auto_render_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(96696),katex_dist_contrib_auto_render_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(katex_dist_contrib_auto_render_js__WEBPACK_IMPORTED_MODULE_8__),_globals_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(94850),_outils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(55339);function executeCode(txt){return eval(txt)}(0,_globals_js__WEBPACK_IMPORTED_MODULE_9__.Z)(),mathalea.lutin=window.creerLutin(),window.numId=0,window.addEventListener("load",(function(){$(".ui.dropdown").dropdown();const e=document.getElementById("editeur"),t=document.getElementById("svg"),r=document.getElementById("sortieSvg"),n=document.getElementById("sortieTikz"),i=document.getElementById("submit");let o,a;document.getElementById("telecharger")&&(o=document.getElementById("telecharger"),o.onclick=function(){(0,_outils_js__WEBPACK_IMPORTED_MODULE_10__.ADB)(l.getValue(),"mathalea2d.svg")}),document.getElementById("url")&&(a=document.getElementById("url"),a.onclick=function(){const e=encodeURIComponent(s.getValue());window.open(`/mathalea2dsvg.html?script=${e}`)});const s=codemirror__WEBPACK_IMPORTED_MODULE_0___default()(e,{value:"",mode:"javascript",lineNumbers:!0,autofocus:!0,theme:"monokai",autoCloseBrackets:!0,showHint:!0,extraKeys:{"Ctrl-Space":"autocomplete"},matchBrackets:!0,lineWrapping:!0}),l=codemirror__WEBPACK_IMPORTED_MODULE_0___default()(r,{value:"",mode:"htmlmixed",readOnly:!0,lineNumbers:!0}),u=codemirror__WEBPACK_IMPORTED_MODULE_0___default()(n,{value:"",mode:"stex",readOnly:!0,lineNumbers:!0}),c=new URL(window.location.href);c.searchParams.get("url")?fetch(`/assets/m2d/${c.searchParams.get("url")}.m2d`).then((function(e){return e.ok?e.text():`//Fichier /assets/m2d/${c.searchParams.get("url")}.m2d non trouvé`})).then((e=>s.setValue(e))).then((()=>i.click())):c.searchParams.get("script")?s.setValue(decodeURIComponent(c.searchParams.get("script"))):window.localStorage.getItem("Script Mathalea 2D")&&s.setValue(window.localStorage.getItem("Script Mathalea 2D")),s.on("inputRead",(function(e,t){";"!==t.text[0]&&" "!==t.text[0]&&codemirror__WEBPACK_IMPORTED_MODULE_0___default().commands.autocomplete(e,null,{completeSingle:!1})})),i&&(i.onclick=function(){window.numId=0,window.localStorage.setItem("Script Mathalea 2D",s.getValue()),o&&(o.style.visibility="visible"),a&&(a.style.visibility="visible"),executeCode(`mathalea.objets2D = [] ; mathalea.lutin = creerLutin() ; ${s.getValue()}`);const e=mathalea.objets2D.slice(),r=window.codeSvg(mathalea.fenetreMathalea2d,mathalea.pixelsParCm,mathalea.mainlevee,mathalea.objets2D);t.innerHTML=r,function(){const e=document.querySelector("svg");window.PointerEvent?(e.addEventListener("pointerdown",o),e.addEventListener("pointerup",y),e.addEventListener("pointerleave",y),e.addEventListener("pointermove",g)):(e.addEventListener("mousedown",o),e.addEventListener("mouseup",y),e.addEventListener("mouseleave",y),e.addEventListener("mousemove",g),e.addEventListener("touchstart",o),e.addEventListener("touchend",y),e.addEventListener("touchmove",g));function r(e){const t={x:0,y:0};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}let n=!1;const i={x:0,y:0};function o(e){n=!0;const t=r(e);i.x=t.x,i.y=t.y}const a=mathalea.fenetreMathalea2d[0],c=mathalea.fenetreMathalea2d[1],p=mathalea.fenetreMathalea2d[2],h=mathalea.fenetreMathalea2d[3],f={x:a*mathalea.pixelsParCm,y:c*mathalea.pixelsParCm,width:(p-a)*mathalea.pixelsParCm,height:(h-c)*mathalea.pixelsParCm},d={x:0,y:0};let m=f.width/e.getBoundingClientRect().width;function g(o){if(!n)return;o.preventDefault();const a=r(o);d.x=f.x-(a.x-i.x)*m,d.y=f.y-(a.y-i.y)*m;const c=`${d.x} ${d.y} ${f.width} ${f.height}`;e.setAttribute("viewBox",c),l.setValue(t.innerHTML);const p=window.calcul(d.x/mathalea.pixelsParCm,1),h=window.calcul(p+f.width/mathalea.pixelsParCm,1),g=window.calcul(d.y/mathalea.pixelsParCm*-1,1),y=window.calcul(g-f.height/mathalea.pixelsParCm,1);s.getValue().indexOf("mathalea.fenetreMathalea2d")>-1?s.setValue(s.getValue().replace(/mathalea.fenetreMathalea2d.*/,`mathalea.fenetreMathalea2d = [${p},${y},${h},${g}]`)):s.setValue(`mathalea.fenetreMathalea2d = [${p},${y},${h},${g}]\n`+s.getValue()),u.setValue(u.getValue().replace(/\\clip.*/,`\\clip (${p},${y}) rectangle (${h},${g});`))}function y(){n=!1,f.x=d.x,f.y=d.y}window.addEventListener("resize",(function(){m=f.width/e.getBoundingClientRect().width}))}(),l.setValue(r),mathalea.objets2D=e.slice(),u.setValue(window.codeTikz(mathalea.fenetreMathalea2d,mathalea.scale,mathalea.mainlevee,mathalea.objets2D)),katex_dist_contrib_auto_render_js__WEBPACK_IMPORTED_MODULE_8___default()(document.body,{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!0,errorColor:"#CC0000",strict:"warn",trust:!1})}),i.click()}))})()})();
//# sourceMappingURL=mathalea2d.e485d2bf7e9ab3e034ee.js.map