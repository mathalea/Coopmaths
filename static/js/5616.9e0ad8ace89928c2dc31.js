/*! For license information please see 5616.9e0ad8ace89928c2dc31.js.LICENSE.txt */
(self.webpackChunkmathalea=self.webpackChunkmathalea||[]).push([[5616],{65551:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s=n;function n(t,e){0!==arguments.length&&(this.doc=t,"string"==typeof e&&(e=Number(e)),this.tempo="number"==typeof e&&e>0&&Number.isFinite(e)?100*e:null,this.isReady=!1)}n.prototype.setReady=function(){this.isReady=!0},n.prototype.creegElement=function(){},n.prototype.actionVisible=function(){return!0}},47322:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e){s.Z.call(this,t,e)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.doc.compas,i=this.doc.compasLeve;e.leve&&(i.montre(!1),e.setPosition(i.x,i.y,i.angle)),!t&&e.visible&&e.montre(!0),e.leve=!1,t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return!!this.doc.getInstrumentVisibility(this.doc.compas.compas,this.indice-1)&&"leve"===this.doc.getCompasStatus(this.indice-1)}},87078:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(65551),n=i(40408);const r=o;function o(t,e,i,n,r){s.Z.call(this,t,n),this.id=e;const o=this.doc.getElement(e,i.objet);this.objetRemplace=null===o?null:o,this.objet=i,this.vitesse=arguments.length>=5&&null!=r?Math.abs(parseFloat(r)):8,null!==this.objetRemplace?this.doc.addElement(this.objet):this.doc.pushElement(this.objet)}o.prototype=new s.Z,o.prototype.execute=function(t){this.objet instanceof n.Z&&(this.objet.x=this.objet.xinit,this.objet.y=this.objet.yinit),null!==this.objetRemplace&&this.objetRemplace.montre(!1),this.objet.creationAnimee()&&!t?this.objet.lanceAnimation(this.vitesse):(this.objet.montre(!0),t?this.objet.finAction():this.doc.actionSuivante())},o.prototype.creegElement=function(){const t=this.doc,e=this.objet;e.creeg(),e.positionne(),e.g.setAttribute("visibility","hidden"),t.svg.appendChild(e.g)},o.prototype.actionVisible=function(){return!(this.objet instanceof n.Z)}},80608:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,i),this.ecartement=e,this.ec10=null===n?16:parseFloat(n)}r.prototype=new s.Z,r.prototype.execute=function(t){t?(this.doc.compas.ecart=this.ecartement,this.doc.compas.positionne()):this.doc.compas.lanceAnimationEcartement(this.ecartement,this.ec10)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)}},69689:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var s=i(58498),n=i(17811),r=i(58568),o=i(65551),a=i(21890);const c=h;function h(t,e,i,n,r,a,c,h,u,l,d,p,b,g,f,m){o.Z.call(this,t,m),this.txt=this.doc.getElement(e,"texte"),this.id=e,this.couleur=i,this.taille=null==n?"20":n.replace(/O/g,"0"),this.style=null===a?"texte":a,this.couleurFond=c,this.opaciteFond=null==h?"0.6":parseFloat(h)/100,this.couleurCadre=u,null!==l&&null===u&&(this.couleurCadre=i),this.epaisseurCadre=null!=l?l:null==u?0:1,this.marge=null==d?0:parseFloat(d),this.margeGauche=null==p?0:parseFloat(p),this.margeDroite=null==b?0:parseFloat(b),this.margeHaut=null==g?0:parseFloat(g),this.margeBas=null==f?0:parseFloat(f),this.texte=r,this.estLatex=this.estAffichageLatex(),this.estLatex||(this.texte=(0,s.x1)((0,s.q8)(this.texte)),this.texte=this.traduitCaracteresGrecs(this.texte),this.texte=this.texte.replace(/\*/g,"×"),(0,s.xL)(r)&&(this.texte="$"+this.traiteMaths(this.texte)+"$",this.estLatex=!0))}h.prototype=new o.Z,h.prototype.execute=function(t){if(null!=this.txt){this.angle=0;const t=this.txt;t.couleur=this.couleur,t.taille=this.taille,t.texte=this.texte,t.couleurFond=this.couleurFond,t.couleurCadre=this.couleurCadre,t.epaisseurCadre=this.epaisseurCadre,t.updateg(this.g),t.positionne()}t||this.doc.actionSuivante(t)},h.prototype.estAffichageLatex=function(){return"$"===this.texte.charAt(0)&&"$"===this.texte.charAt(this.texte.length-1)},h.prototype.traduitCaracteresGrecs=function(t){if(!t.includes("£"))return t;const e=t.split("£").map(((t,e)=>e%2?n.qC[t]||`£${t}£`:t)).join("");return(t.length-t.replace(/£/g,"").length)%2?(console.warn(`Il y a un nombre impair de £ dans cette chaîne : ${t}`),e.substr(0,e.length-1)):e},h.prototype.traiteMaths=function(t){let e;const i=t,n="texte"===this.style,r=i.split(/<\/?br *\/?>/gi);if(r.length<=1)return(0,s.yb)(t,n);let o="\\begin{array}{l}";for(e=0;e<r.length;e++)0!==e&&(o+="\\\\"),o+=(0,s.yb)(r[e],n);return o+="\\end{array}",o},h.prototype.prepare=function(){let t;if(this.estLatex&&(t=this.texte.replace(/^\$(.*)\$$/,"$1"),t||(console.error(Error("texte latex mais pas enveloppé de $, ignoré"),this.texte),this.estLatex=!1)),this.estLatex){const e=this;(0,a.Z)().then((()=>{const i=e.doc.getWidth(),s=e.taille,n=e.prelatex()+t;e.ex=.45*s;const r={em:s,ex:e.ex,containerWidth:i,display:!1};return e.doc.debug&&console.log("On passe à MathJax la string",n),MathJax.tex2svgPromise(n,r)})).then((t=>{e.html=t,e.creegLatex(),e.setReady()})).catch((t=>{console.error(t),alert("Pb Mathjax, impossible d’afficher le LaTeX correctement")}))}else this.creeg(),this.setReady()},h.prototype.prelatex=function(){return"\\color{"+this.couleur+"}"},h.prototype.creegLatex=function(){try{const t=this.html.firstChild,e=t.cloneNode(!0),i=document.createElementNS(n.WW,"g");i.appendChild(e);const r=parseFloat(t.getAttribute("width"))*this.ex,o=parseFloat(t.getAttribute("height"))*this.ex,a=e.style["vertical-align"],c=(a&&parseFloat(a)||1)*this.ex;e.setAttribute("width",r+"px"),e.setAttribute("height",o+"px"),e.style["vertical-align"]=`${c}px`,e.setAttribute("x","0");const h=(0,s.GR)(this);if(e.setAttribute("y",String(-h)),i.setAttribute("visibility","hidden"),null!==this.couleurFond||null!==this.couleurCadre){i.setAttribute("visibility","hidden"),this.doc.svg.appendChild(i),this.rectAff={};const t=parseFloat(this.epaisseurCadre),{x:e,y:s,width:n,height:r}=i.getBBox();this.rectAff.height=r+2*t+4+2*this.marge+this.margeHaut+this.margeBas,this.rectAff.width=n+2*t+2+2*this.marge+this.margeGauche+this.margeDroite,this.rectAff.x=e-t-1-this.marge-this.margeGauche,this.rectAff.y=s-t-1-this.marge-this.margeHaut,i.setAttribute("visibility","visible"),this.doc.svg.removeChild(i),this.creeRectangle(i,null==this.couleurFond?"white":this.couleurFond)}this.g=i}catch(t){console.error("Erreur dans ActionEcrireTexte.creegLatex (on remplace par un <g> vide) :",t),this.g=document.createElementNS(n.WW,"g")}},h.prototype.creeg=function(){let t,e,i,o,a,c,h,u,l,d,p,b,g,f,m,y,A,x,v=0;const w="<",S="£e(",E="£i(",W=document.createElementNS(n.WW,"g"),C=(0,s.GR)(this),N=C+2;let Z=0;const k=.4*C;if(""!==this.texte){if(c=document.createElementNS(n.WW,"text"),c.setAttribute("pointer-events","none"),c.setAttribute("x",0),c.setAttribute("y",0),a="text-anchor:left;font-size:"+C+"px;fill:"+this.couleur+";",c.setAttribute("style",a),o=this.texte.replace(/ /g," "),-1===this.texte.indexOf(w)&&-1===this.texte.indexOf(S)&&-1===this.texte.indexOf(E)&&-1===this.texte.indexOf("<br>"))c.appendChild(document.createTextNode(o));else for(m=o.split(/<br>/gi),f=-N,y=0;y<m.length;y++)for(A=!0,i=m[y];""!==i;){if(t=i.indexOf(w),u=i.indexOf(S),l=i.indexOf(E),A&&(f+=N+Z),-1!==u&&(f+=k),-1===t&&-1===u&&-1===l){e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),v=0,e.appendChild(document.createTextNode(i)),c.appendChild(e);break}for(;-1!==i.indexOf(w)||-1!==i.indexOf(S)||-1!==i.indexOf(E);)if(t=i.indexOf(w),u=i.indexOf(S),l=i.indexOf(E),d=-1===t?-1===u?l:-1===l?u:Math.min(l,u):-1===u?-1===l?t:Math.min(t,l):-1===l?Math.min(t,u):Math.min(t,l,u),d>0)e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),v=0,e.appendChild(document.createTextNode(i.substring(0,d))),c.appendChild(e),i=i.substring(d);else if(0===t){const t=new r.Z(!1,!1,!1,this.couleur,"",C);h=(0,s.Qm)(i),-1===h?(0,s.mr)(i,t,c,A,f):(0,s.mr)(i.substring(0,h),t,c,A,f),A=!1,i=-1!==h?i.substring(h):"",v=0}else p=d===u,x=(0,s.Vx)(i),e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v+"px"),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),x.erreur?e.appendChild(document.createTextNode(i)):(e.appendChild(document.createTextNode(x.operande)),c.appendChild(e),e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.appendChild(document.createTextNode(x.exposant)),v=k,p?v=-v:Z=v,e.setAttribute("dy",v+"px"),b=.6*C,g="font-size:"+b+"px;",e.setAttribute("style",g),c.appendChild(e),v=-v),i=x.texte}W.appendChild(c)}if(W.setAttribute("visibility","hidden"),null!=this.couleurFond||null!=this.couleurCadre){W.setAttribute("visibility","hidden"),this.doc.svg.appendChild(W),this.rectAff={};const t=parseFloat(this.epaisseurCadre);this.rectAff.height=W.getBBox().height+2*t+3+2*this.marge+this.margeHaut+this.margeBas,this.rectAff.width=W.getBBox().width+2*t+2+2*this.marge+this.margeGauche+this.margeDroite,this.rectAff.x=W.getBBox().x-t-1-this.marge-this.margeGauche,this.rectAff.y=W.getBBox().y-t-1-this.marge-this.margeHaut,W.setAttribute("visibility","visible"),this.doc.svg.removeChild(W),this.creeRectangle(W,null==this.couleurFond?"white":this.couleurFond)}this.g=W},h.prototype.contientBalisesItaliqueOuUnderlineOuFontOuBold=function(t){return/<(u|b|i|font[^>]+)>/gi.test(t)},h.prototype.creeRectangle=function(t,e){const i=document.createElementNS(n.WW,"rect"),s="stroke-width:"+this.epaisseurCadre+"px;stroke:"+this.couleurCadre+";fill:"+e+";fill-opacity:"+this.opaciteFond+";";i.setAttribute("style",s),i.setAttribute("x",this.rectAff.x),i.setAttribute("y",this.rectAff.y),i.setAttribute("width",this.rectAff.width),i.setAttribute("height",this.rectAff.height),i.setAttribute("pointer-events","none"),t.insertBefore(i,t.childNodes[0])}},98318:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,i),this.abscisseFin=parseFloat(e),this.pix10=null===n?8:String(Math.abs(n))}r.prototype=new s.Z,r.prototype.execute=function(t){t?(this.doc.requerre.setAbs(this.abscisseFin),this.doc.requerre.positionne()):this.doc.requerre.lanceAnimationGlissement(this.abscisseFin,this.pix10)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.requerre,this.indice-1)}},77618:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(65551),n=i(55261);const r=o;function o(t,e){s.Z.call(this,t,e)}o.prototype=new s.Z,o.prototype.execute=function(t){const e=this.doc.compas;e.visible&&(e.montre(!1),e.visible=!0),this.doc.compasLeve=new n.Z(this.doc,e.x,e.y,e.angle,e.ecart),!t&&e.visible&&this.doc.compasLeve.montre(!0),e.leve=!0,t||this.doc.actionSuivante(t)},o.prototype.actionVisible=function(){return!!this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)&&"couche"===this.doc.getCompasStatus(this.indice-1)}},41580:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,n),this.objet=this.doc.getElement(e,i)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!=e&&e.montre(!1),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},58452:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i){s.Z.call(this,t,i),this.instrument=e}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.doc.compas;this.instrument.montre(!1),e.leve&&this.doc.compasLeve.montre(!1),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},57369:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,n),this.instrument=e,this.longueur=i}r.prototype=new s.Z,r.prototype.execute=function(t){if(this.instrument===this.doc.regle){const t=this.instrument.visible;this.instrument.longueur=this.longueur;const e=this.instrument.g;this.instrument.creeg(),this.instrument.g.setAttribute("visibility",t?"visible":"hidden"),this.doc.svg.replaceChild(this.instrument.g,e),this.instrument.translate(this.instrument.x,this.instrument.y)}t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},47804:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r,o){s.Z.call(this,t,r),this.rayFin=parseFloat(i),this.pix10=null==o?8:parseFloat(o),this.type=n,this.objet=this.doc.getElement(e,n)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!=e?t?e.donneRayon(this.rayFin):e.lanceAnimationModificationRayon(this.rayFin,this.pix10):this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},39004:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,n),this.objet=this.doc.getElement(e,i)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!==e&&e.montre(!0),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return!this.doc.getObjectVisibility(this.objet,this.indice-1)}},89585:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n){s.Z.call(this,t,n),this.instrument=e,this.bmontrer=i}r.prototype=new s.Z,r.prototype.execute=function(t){this.instrument.montreGraduations(this.bmontrer),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},90169:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r){s.Z.call(this,t,r),this.x=null===i?null:parseFloat(i),this.y=null===n?null:parseFloat(n),this.instrument=e}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.doc.compas;null!==this.x&&null!==this.y&&this.instrument.translate(this.x,this.y),this.instrument!==e||t?this.instrument.montre(!0):(e.leve?this.doc.compasLeve.montre(!0):e.montre(!0),e.visible=!0),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return!this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},27838:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i){s.Z.call(this,t,i),this.bmontrer=e}r.prototype=new s.Z,r.prototype.execute=function(t){this.doc.rapporteur.montreGraduationsExternes(this.bmontrer),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.rapporteur,this.indice-1)}},94585:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(58498),n=i(65551),r=i(21890);const o=a;function a(t,e,i){n.Z.call(this,t,i),this.nomPoint=e}a.prototype=new n.Z,a.prototype.prepare=function(){if(this.nomPoint.estLatex){const t=this,e=this.doc.getWidth(),i=(0,s.GR)(this.nomPoint)-2,n=this.nomPoint.nom.substring(1);this.ex=i/2;const o={em:i,ex:this.ex,containerWidth:e,display:!1};this.doc.debug&&console.log("chargement MathJax dans ActionNommerPoint"),(0,r.Z)().then((()=>MathJax.tex2svgPromise(n,o))).then((e=>{t.nomPoint.html=e,t.nomPoint.creegLatex(),t.setReady()})).catch((t=>{console.error(t),alert("Pb Mathjax, impossible d’afficher le point en LaTeX")}))}else this.nomPoint.creeg(),this.setReady()},a.prototype.execute=function(t){if("point"===this.nomPoint.objet){this.nomPoint.positionne();const t=this.nomPoint.point;null!==t.nom?this.doc.svg.replaceChild(this.nomPoint.g,t.nom.g):this.doc.svg.appendChild(this.nomPoint.g),t.nom=this.nomPoint}this.nomPoint.g.setAttribute("visibility","visible"),t||this.doc.actionSuivante(t)},a.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.nomPoint.point,this.indice-1)}},3027:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e){s.Z.call(this,t,e)}r.prototype=new s.Z,r.prototype.execute=function(t){t||(this.doc.activeIconeContinuer(),this.doc.animationEnCours=!1)},r.prototype.actionVisible=function(){return!1}},79490:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e){s.Z.call(this,t,e)}r.prototype=new s.Z,r.prototype.execute=function(t){this.doc.compas.retourne(),t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)}},34525:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r){s.Z.call(this,t,n),this.instrument=e,this.anglefin=parseFloat(i),this.deg10=null==r?8:Math.abs(parseFloat(r))}r.prototype=new s.Z,r.prototype.execute=function(t){t?(this.instrument.angle=this.anglefin,this.instrument.positionne(),t||this.doc.actionSuivante(t)):this.instrument.lanceAnimationRotation(this.anglefin,this.deg10)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},82080:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r,o){s.Z.call(this,t,r),this.anglefin=parseFloat(i),this.deg10=null==o?8:Math.abs(parseFloat(o)),this.objet=this.doc.getElement(e,n)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!=e?t?(e.angle=this.anglefin,e.positionne()):e.lanceAnimationRotation(this.anglefin,this.deg10,this.tempo):t||this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},1062:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r,o){s.Z.call(this,t,r),this.instrument=e,this.xfin=parseFloat(i),this.yfin=parseFloat(n),this.pix10=null==o?8:parseFloat(o)}r.prototype=new s.Z,r.prototype.execute=function(t){isNaN(this.xfin)||isNaN(this.yfin)?this.doc.actionSuivante(t):t?this.instrument.translate(this.xfin,this.yfin):this.instrument.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},52806:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r,o,a){s.Z.call(this,t,o),this.xfin=parseFloat(i),this.yfin=parseFloat(n),this.pix10=null==a?8:parseFloat(a),this.type=r,this.objet=this.doc.getElement(e,r)}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!=e?t?e.translate(this.xfin,this.yfin):e.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10):this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},63580:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r){s.Z.call(this,t,n),this.instrument=e,this.zoomfin=parseFloat(i)/100,this.vitesse=parseInt(r)}r.prototype=new s.Z,r.prototype.execute=function(t){t?(this.instrument.zoomfactor=this.zoomfin,this.instrument.positionne()):this.instrument.lanceAnimationZoom(this.zoomfin,this.vitesse)},r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},8389:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(65551);const n=r;function r(t,e,i,n,r,o){s.Z.call(this,t,r),this.objet=this.doc.getElement(e,n),this.zoomfin=parseFloat(i)/100,this.vitesse=o,this.type=n}r.prototype=new s.Z,r.prototype.execute=function(t){const e=this.objet;null!=e?t?(e.zoomfactor=this.zoomfin,e.positionne()):e.lanceAnimationZoom(this.zoomfin,this.vitesse):this.doc.actionSuivante(t)},r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},44532:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(24387);const n=o;function r(t){t.docs.forEach((t=>{t.windowxml&&t.windowxml.close()}))}function o(t){this.debug=Boolean(t&&t.debug),this.debug&&console.log("Mode debug activé"),this.docs=[],window.addEventListener("unload",r.bind(null,this))}o.prototype.addDoc=function(t,e,i=!0){if("string"==typeof t&&(t=document.getElementById(t)),!t)return new Error("svg manquant");if("svg"!==t.localName)return new Error("svg incorrect");const n={autoStart:i,debug:this.debug},r=new s.Z(t,e,n);return this.docs.push(r),t.iepDoc=r,r},o.prototype.flush=function(){this.closeAllXMLWindows(),this.docs.forEach((({svg:t})=>{t.parentNode?t.parentNode.removeChild(t):console.error("le svg",t,"n’a pas de parentNode")})),this.docs=[]},o.prototype.getDocs=function(){return this.docs},o.prototype.getLastDoc=function(){const t=this.docs.length;return t?this.docs[t-1]:null}},24387:(t,e,i)=>{"use strict";i.d(e,{Z:()=>K});var s=i(58498),n=i(17811),r=i(12535),o=i(55018),a=i(42831),c=i(90051),h=i(89555),u=i(79896),l=i(59799),d=i(47322),p=i(87078),b=i(80608),g=i(69689),f=i(98318),m=i(77618),y=i(41580),A=i(58452),x=i(57369),v=i(39004),w=i(89585),S=i(90169),E=i(27838),W=i(94585),C=i(3027),N=i(34525),Z=i(79490),k=i(82080),M=i(1062),P=i(52806),F=i(63580),O=i(8389),I=i(47804),j=i(47619),L=i(81127),R=i(59261),_=i(55265),$=i(58127),B=i(9852),V=i(90267),z=i(16879),T=i(11588),q=i(81687),G=i(85674),D=i(19914),X=i(35475),H=i(66500),J=i(21345),Y=i(96975),U=i(6225),Q=i(40408);const K=vt,tt=["compas","equerre","rapporteur","regle","requerre","crayon"],et=["Reset","PrevStep","Pause","Play","Restart","NextStep","GotoEnd","XML"];function it(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");const a=document.createElementNS(n.WW,"polygon");return a.setAttribute("points","-5,8 8,0 -5,-8"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),s}function st(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");let a=document.createElementNS(n.WW,"rect");return a.setAttribute("x",-6),a.setAttribute("y",-7),a.setAttribute("width",3),a.setAttribute("height",14),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),a=document.createElementNS(n.WW,"rect"),a.setAttribute("x",2),a.setAttribute("y",-7),a.setAttribute("width",3),a.setAttribute("height",14),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),s}function nt(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");const a=document.createElementNS(n.WW,"rect");a.setAttribute("x",5),a.setAttribute("y",-6),a.setAttribute("width",3),a.setAttribute("height",12),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a);const c=document.createElementNS(n.WW,"polygon");return c.setAttribute("points","-7,6 2,0 -7,-6"),c.setAttribute("style","stroke:white;fill:white;"),c.setAttribute("transform","translate(16,16)"),s.appendChild(c),s}function rt(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");const a=document.createElementNS(n.WW,"rect");a.setAttribute("x",-7),a.setAttribute("y",-6),a.setAttribute("width",3),a.setAttribute("height",12),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a);const c=document.createElementNS(n.WW,"polygon");return c.setAttribute("points","7,6 -2,0 7,-6"),c.setAttribute("style","stroke:white;fill:white;"),c.setAttribute("transform","translate(16,16)"),s.appendChild(c),s}function ot(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");let a=document.createElementNS(n.WW,"polygon");return a.setAttribute("points","-6,7 1,0 -6,-7"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),a=document.createElementNS(n.WW,"polygon"),a.setAttribute("points","3,7 10,0 3,-7"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),s}function at(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");let a=document.createElementNS(n.WW,"polygon");return a.setAttribute("points","6,7 -1,0 6,-7"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),a=document.createElementNS(n.WW,"polygon"),a.setAttribute("points","-3,7 -10,0 -3,-7"),a.setAttribute("style","stroke:white;fill:white;"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),s}function ct(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");const a=document.createElementNS(n.WW,"path");return a.setAttribute("d","M 0 -8 A 8 8 -90 1 1 -8 0"),a.setAttribute("style","stroke:white;stroke-width:3;fill:none;"),a.setAttribute("marker-end","url(#markerarrow"),a.setAttribute("transform","translate(16,16)"),s.appendChild(a),s}function ht(t,e,i){const s=document.createElementNS(n.WW,"svg");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("width",32),s.setAttribute("height",32);const r=document.createElementNS(n.WW,"circle");s.appendChild(r),r.setAttribute("cx",16),r.setAttribute("cy",16),r.setAttribute("r",15);const o="fonce"===i?"filtrebleu":"filtregris";r.setAttribute("style","stroke:none;fill:url(#radial"+i+"); filter:url(#"+o+");");const a=document.createElementNS(n.WW,"text");return a.setAttribute("pointer-events","none"),a.appendChild(document.createTextNode("XML")),a.setAttribute("x",16),a.setAttribute("y",21),a.setAttribute("style","font-family:Arial;font-size:9pt;fill:white;text-anchor:middle"),s.appendChild(a),s}function ut(t){return t.getAttribute("id")}function lt(t){return t.getAttribute("abscisse")}function dt(t){const e=t.getAttribute("ordonnee");return null===e?t.getAttribute("ordonnée"):e}function pt(t){const e=t.getAttribute("couleur");return e?(0,s.I8)(e):"black"}function bt(t){const e=t.getAttribute("couleur_cadre");return e?(0,s.I8)(e):null}function gt(t){const e=t.getAttribute("couleur_fond");return e?(0,s.I8)(e):null}function ft(t){const e=t.getAttribute("epaisseur");return null===e||0===parseInt(e)?"1":e}function mt(t){const e=t.getAttribute("opacite");return null===e?"100":e}function yt(t){const e=t.getAttribute("opacite");return null===e?"50":e}function At(t){const e=t.getAttribute("pointille");return null==e?"continu":e}function xt(t){const e=t.getAttribute("style");return null==e?"normal":e}function vt(t,e,i){this.svg=t,"boolean"==typeof i?(this.autoStart=i,i={}):("object"!=typeof i&&(i={}),this.autoStart=Boolean(i.autoStart)),this.debug=Boolean(i.debug),this.windowxml=null;let n=e;-1===n.search(/<?xml/gi)&&(n='<?xml version="1.0" encoding="UTF-8"?>'+n),n=n.replace(/<action[_]\d*/gi,"<action"),n=n.replace(/<!--.*-->/g,""),n=n.replace(/(="[^"]*")([^ ])/g,"$1 $2").replace(/--/g,""),n=n.replace(/<</g,"<").replace(/>>/g,">"),n=n.replace(/<action(\w)/gi,"<action $1"),n=n.replace(/<commentaire\s*texte\s*=/gi,"<commentaire texteCommentaire ="),n=(0,s.ne)(n),this.codexml=n;const r=/<\s*INSTRUMENPOCHE[^>]*>(.*)<\s*\/INSTRUMENPOCHE/is.exec(n);if(!r)throw Error("script xml invalide");this.chdoc="<INSTRUMENPOCHE>"+r[1]+"</INSTRUMENPOCHE>",this.actions=[],this.elements=[],this.compasRetourne=!1,this.compasLeve=null,this.compas=new o.Z(this),this.equerre=new a.Z(this),this.rapporteur=new c.Z(this),this.regle=new h.Z(this),this.requerre=new u.Z(this),this.crayon=new l.Z(this),this.xmldoc=(0,s.nn)(this.chdoc),this.tabact=this.xmldoc.getElementsByTagName("action"),this.started=!1,this.animationEnCours=!0;const d={x:0,y:0,width:800,height:600},p=this.xmldoc.getElementsByTagName("viewBox");if(p&&p.length){p.length>1&&console.error(Error("Il y a plusieurs tags viewBox dans le script, on prend le premier"),p);const t=p[0];Object.keys(d).forEach((e=>{const i=Number(t.getAttribute(e));Number.isFinite(i)&&(e.length<2||i>0)&&(d[e]=i)}))}if(window.innerHeight>.6*d.height&&d.width/d.height<window.innerWidth/window.innerHeight)try{t.parentNode.style.width=window.innerHeight/d.height*d.width+"px"}catch(t){console.error(t)}try{t.parentNode.style.minWidth=d.width/2+"px",t.parentNode.style.minHeight=d.height/2+"px"}catch(t){console.error(t)}this.initialViewBox=d,t.setAttribute("viewBox",`${d.x} ${d.y} ${d.width} ${d.height}`),t.setAttribute("preserveAspectRatio","xMinYMin meet"),this.indiceActionEnCours=0,this.creeActions();const b=this;t.addEventListener("mousemove",(function(t){b.mousemoveListenerSvg(t,t.clientX,t.clientY)}),!1),t.addEventListener("mouseup",(function(){b.mouseupListener()}),!1),t.addEventListener("mouseleave",(function(){b.mouseleaveListener()}),!1),t.addEventListener("touchmove",(function(t){b.mousemoveListenerSvg(t,t.touches[0].pageX,t.touches[0].pageY)}),!1),t.addEventListener("touchend",(function(){b.mouseupListener()}),!1),t.addEventListener("touchcancel",(function(){b.mouseupListener()}),!1),t.addEventListener("touchleave",(function(){b.mouseleaveListener()}),!1),this.debug&&console.log("iepDoc instancié :",this)}vt.prototype.setViewBox=function(t){if("object"!=typeof t||Object.keys(this.initialViewBox).some((e=>!Number.isFinite(t[e]))))throw TypeError("paramètre invalide (il faut passer un objet { x: number, y: number, width: number, height: number })");const{x:e,y:i,width:s,height:n}=t;if(s<10||n<10)throw TypeError("width et height doivent être supérieur à 10");const r=this.initialViewBox.width/s;this.svg.setAttribute("viewBox",`${e} ${i} ${s} ${n}`),this.barreIcones.setAttribute("transform",`translate(${e+this.xbarre/r}, ${i+this.ybarre/r}) scale(${1/r})`)},vt.prototype.zoom=function(t,e,i){if("number"!=typeof t||t<1e-6||t>1e6)throw Error(`zoomFactor invalide : ${typeof t} ${t}`);if(1===t)return this.setViewBox(this.initialViewBox);let{x:s,y:n,width:r,height:o}=this.getViewBox();Number.isFinite(e)||(e=s+r/2),Number.isFinite(i)||(i=n+o/2),r=Math.round(r/t),o=Math.round(o/t),s=e-r/2,n=i-o/2,this.setViewBox({x:s,y:n,width:r,height:o})},vt.prototype.isReadyAll=function(){if(this.debug){const t=this.actions.filter((t=>!t.isReady));t.length?console.log(`${t.length} actions pas encore prêtes (sur ${this.actions.length})`):console.log(`Les ${this.actions.length} actions sont prêtes`)}return this.actions.every((t=>t.isReady))},vt.prototype.whenReady=function(t,e=30){const i=()=>this.isReadyAll()?t():Date.now()-s<1e3*e?setTimeout(i,100):void t(Error(`Après ${e}s d’attente l’animation n’est pas prête, échec du chargement…`)),s=Date.now();i()},vt.prototype.getReadyPromise=function(t=30){return this.isReadyAll()?Promise.resolve():new Promise(((e,i)=>{this.whenReady((t=>{t?i(t):e(this)}),t)}))},vt.prototype.getWidth=function(){return this.getViewBox().width},vt.prototype.getHeight=function(){return this.getViewBox().height},vt.prototype.getViewBox=function(){try{const t=this.svg.getAttribute("viewBox");if(t){const e=t.split(" ").map(Number).filter((t=>!Number.isNaN(t)));if(4===e.length){const[t,i,s,n]=e;if(s>0&&n>0)return{x:t,y:i,width:s,height:n}}}console.error(Error("viewBox invalide"),t)}catch(t){console.error(t)}return this.svg.setAttribute("viewBox","0 0 800 600"),{x:0,y:0,width:800,height:600}},vt.prototype.goFast=function(t=100,e){const i=this,s=()=>{i.nextStep(),i.indiceActionEnCours<i.actions.length?setTimeout((()=>s()),t):e&&e()};this.getReadyPromise().then((()=>i.animationEnCours?(i.pause(),new Promise((t=>{setTimeout((()=>t()),500)}))):Promise.resolve())).then((()=>{i.reset(),s()})).catch((t=>{console.error(t),alert(t.message)}))},vt.prototype.creeElementsGraphiques=function(){this.actions.forEach((t=>t.creegElement()))},vt.prototype.initialiseOutils=function(){tt.forEach((t=>{this[t].initialisePosition(),this[t].montre(!1)})),this.compas.leve=!1},vt.prototype.recreeOutils=function(){tt.forEach((t=>{this[t].updateg(),this[t].montre(!1)})),this.compasLeve=null},vt.prototype.init=function(){this.started=!0,this.creeElementsGraphiques(),this.recreeOutils(),this.creeIcones(),this.autoStart?(this.montreIcones(["Pause"]),this.play()):this.montreIcones(["Play"])},vt.prototype.creeIcones=function(){const t=this;this.barreIcones=document.createElementNS(n.WW,"g"),this.creeElementsPourIcones(),this.iconReset=at(0,0,"fonce"),this.iconResetGris=at(0,0,"clair"),this.iconReset.onclick=this.reset.bind(this),this.barreIcones.appendChild(this.iconReset),this.barreIcones.appendChild(this.iconResetGris),this.iconPrevStep=rt(32,0,"fonce"),this.iconPrevStepGris=rt(32,0,"clair"),this.iconPrevStep.onclick=function(){t.prevStep()},this.barreIcones.appendChild(this.iconPrevStep),this.barreIcones.appendChild(this.iconPrevStepGris),this.iconPause=st(64,0,"fonce"),this.iconPauseGris=st(64,0,"clair"),this.iconPause.onclick=this.pause.bind(this),this.barreIcones.appendChild(this.iconPause),this.barreIcones.appendChild(this.iconPauseGris),this.iconPlay=it(96,0,"fonce"),this.iconPlayGris=it(96,0,"clair"),this.iconPlay.onclick=this.play.bind(this),this.barreIcones.appendChild(this.iconPlay),this.iconContinue=it(96,0,"rouge"),this.iconContinue.setAttribute("visibility","hidden"),this.iconContinue.onclick=this.continue.bind(this),this.barreIcones.appendChild(this.iconContinue),this.barreIcones.appendChild(this.iconPlayGris),this.iconRestart=ct(128,0,"fonce"),this.iconRestartGris=ct(128,0,"clair"),this.iconRestart.onclick=this.restart.bind(this),this.barreIcones.appendChild(this.iconRestart),this.barreIcones.appendChild(this.iconRestartGris),this.iconNextStep=nt(160,0,"fonce"),this.iconNextStepGris=nt(160,0,"clair"),this.iconNextStep.onclick=function(){t.nextStep()},this.barreIcones.appendChild(this.iconNextStep),this.barreIcones.appendChild(this.iconNextStepGris),this.iconGotoEnd=ot(192,0,"fonce"),this.iconGotoEndGris=ot(192,0,"clair"),this.iconGotoEnd.onclick=function(){t.gotoEnd()},this.barreIcones.appendChild(this.iconGotoEnd),this.barreIcones.appendChild(this.iconGotoEndGris),this.iconXML=ht(224,0,"fonce"),this.iconXMLGris=ht(224,0,"clair"),this.iconXML.onclick=function(){t.showXml()},this.barreIcones.appendChild(this.iconXML),this.barreIcones.appendChild(this.iconXMLGris),this.hauteurBarre=32,this.demiLargeurBarre=128,this.xbarre=50,this.ybarre=4,this.barreIcones.setAttribute("transform",`translate(${this.xbarre}, ${this.ybarre})`),this.svg.appendChild(this.barreIcones),this.isDraggingBarre=!1,this.barreIcones.addEventListener("mousedown",(function(e){t.mousedownListenerBarre(e.clientX,e.clientY)}),!1),this.barreIcones.addEventListener("mousemove",(function(e){t.mousemoveListenerBarre(e.clientX,e.clientY)}),!1),this.barreIcones.addEventListener("touchstart",(function(e){t.mousedownListenerBarre(e.touches[0].pageX,e.touches[0].pageY)}),!1),this.barreIcones.addEventListener("touchmove",this.mousemoveListenerBarre.bind(this),!1),this.deltax=0,this.deltay=0},vt.prototype.mousedownListenerBarre=function(t,e){this.animationEnCours||(this.isDraggingBarre=!0,this.xcapturebarre=t,this.ycapturebarre=e)},vt.prototype.mousemoveListenerBarre=function(){this.animationEnCours?(this.barreIcones.style.cursor="default",this.isDraggingBarre=!1):this.barreIcones.style.cursor="pointer"},vt.prototype.mousemoveListenerSvg=function(t,e,i){if(this.isDraggingBarre){const s=this.getWidth(),n=this.getHeight(),r=e-this.xcapturebarre,o=i-this.ycapturebarre,a=this.deltax+r,c=this.deltay+o,h=this.xbarre+a,u=this.ybarre+c;h<=s-2*this.demiLargeurBarre&&h>=0&&u>=0&&u<=n-this.hauteurBarre&&(this.barreIcones.setAttribute("transform","translate("+h+","+u+")"),this.deltax=a,this.deltay=c,this.xcapturebarre=e,this.ycapturebarre=i),t.preventDefault()}},vt.prototype.mouseupListener=function(){this.isDraggingBarre=!1},vt.prototype.mouseleaveListener=function(){this.isDraggingBarre=!1},vt.prototype.showXml=function(){null==this.windowxml?this.windowxml=this.popup():this.windowxml.focus()},vt.prototype.montreIcones=function(t){et.forEach((e=>{const i=t.includes(e),s="icon"+e;this[s]?(this[s].setAttribute("visibility",i?"visible":"hidden"),this[s+"Gris"].setAttribute("visibility",i?"hidden":"visible")):console.error(`L’icone ${s} n’existe pas`)}))},vt.prototype.activeIconeContinuer=function(){this.montreIcones(["XML"]),this.iconPlayGris.setAttribute("visibility","hidden"),this.iconContinue.setAttribute("visibility","visible")},vt.prototype.gotoEnd=function(){this.animationEnCours=!1,this.initialise(),this.montreIcones(["Reset","PrevStep","Restart","XML"]),this.executeJusque(this.actions.length-1),this.indiceActionEnCours=this.actions.length},vt.prototype.play=function(){this.animationEnCours=!0,this.montreIcones(["Pause"]),this.actions[this.indiceActionEnCours]?this.actions[this.indiceActionEnCours].execute(!1):console.error(Error(`Pas d'action ${this.indiceActionEnCours}`),this.actions)},vt.prototype.continue=function(){this.indiceActionEnCours!==this.actions.length?(this.iconContinue.setAttribute("visibility","hidden"),this.montreIcones(["Pause"]),this.animationEnCours=!0,this.indiceActionEnCours++,this.actions[this.indiceActionEnCours]?this.actions[this.indiceActionEnCours].execute(!1):console.error(Error(`Pas d'action ${this.indiceActionEnCours}`),this.actions)):this.gotoEnd()},vt.prototype.reset=function(){this.animationEnCours=!1,this.initialise(),this.montreIcones(["Play","NextStep","GotoEnd","XML"]),this.indiceActionEnCours=0,this.zoom(1)},vt.prototype.restart=function(){if(this.animationEnCours)return this.animationEnCours=!1,void setTimeout(this.restart.bind(this),100);this.initialise(),this.indiceActionEnCours=0,this.zoom(1),this.play()},vt.prototype.pause=function(){this.animationEnCours=!1,setTimeout((()=>this.montreIcones(["Reset","PrevStep","Play","Restart","NextStep","GotoEnd","XML"])),500)},vt.prototype.nextStep=function(){const t=this.actions.length;this.animationEnCours=!1,this.indiceActionEnCours<t&&(this.actions[this.indiceActionEnCours].actionVisible()?this.indiceActionEnCours++:this.indiceActionEnCours=this.indiceProchaineActionVisible(this.indiceActionEnCours)+1,this.executeJusque(this.indiceActionEnCours-1));const e=["Reset","PrevStep","Restart","XML"];this.indiceActionEnCours===this.actions.length?this.montreIcones(e):this.montreIcones(e.concat(["NextStep","GotoEnd","Play"]))},vt.prototype.prevStep=function(){this.animationEnCours=!1,this.indiceActionEnCours=this.indicePrecedenteActionVisible(this.indiceActionEnCours-1),this.indiceActionEnCours>0&&this.executeJusque(this.indiceActionEnCours-1);const t=["Play","NextStep","GotoEnd","XML"];0===this.indiceActionEnCours?this.montreIcones(t):this.montreIcones(t.concat(["Reset","PrevStep"]))},vt.prototype.initialise=function(){let t,e;const i=this.svg;for(t=0;t<i.childNodes.length;t++)if(e=i.childNodes[t],e!==this.barreIcones)try{i.childNodes[t].setAttribute("visibility","hidden")}catch(t){console.error(t)}for(t=0;t<this.actions.length;t++){const e=this.actions[t];e instanceof p.Z&&e.objet.initialisePosition()}this.initialiseOutils()},vt.prototype.getInstrumentVisibility=function(t,e){if(-1===e)return!1;let i,s=!1;for(let n=0;n<=e;n++)i=this.actions[n],i instanceof S.Z?i.instrument===t&&(s=!0):i instanceof A.Z&&i.instrument===t&&(s=!1);return s},vt.prototype.getObjectVisibility=function(t,e){if(-1===e)return!1;let i,s=!1;for(let n=0;n<=e;n++)i=this.actions[n],i instanceof v.Z?i.objet===t&&(s=!0):i instanceof y.Z&&i.objet===t&&(s=!1);return s},vt.prototype.getCompasStatus=function(t){if(-1===t)return"couche";let e,i=!0;for(let s=0;s<=t;s++)e=this.actions[s],e instanceof d.Z?i=!0:e instanceof m.Z&&(i=!1);return i?"couche":"leve"},vt.prototype.indiceProchaineActionVisible=function(t){if(t>=this.actions.length)return this.actions.length-1;for(let e=t;e<this.actions.length;e++)if(this.actions[e].actionVisible())return e;return this.actions.length-1},vt.prototype.indicePrecedenteActionVisible=function(t){if(t<0)return 0;t===this.actions.length&&t--;for(let e=t;e>=0;e--)if(this.actions[e].actionVisible())return e;return 0},vt.prototype.montreInstrumentsEtape=function(t){let e=this.getInstrumentVisibility(this.compas,t);this.compas.leve?this.compasLeve.montre(e):this.compas.montre(e),e=this.getInstrumentVisibility(this.crayon,t),this.crayon.montre(e),e=this.getInstrumentVisibility(this.equerre,t),this.equerre.montre(e),e=this.getInstrumentVisibility(this.rapporteur,t),this.rapporteur.montre(e),e=this.getInstrumentVisibility(this.regle,t),this.regle.montre(e),e=this.getInstrumentVisibility(this.requerre,t),this.requerre.montre(e)},vt.prototype.executeJusque=function(t){if(!(t>=this.actions.length)){this.initialise(),this.initialiseOutils(),this.animationEnCours=!1;for(let e=0;e<=t;e++)this.actions[e].execute(!0);this.montreInstrumentsEtape(t)}},vt.prototype.addElement=function(t){const e=this.elements.findIndex((e=>e.id===t.id&&e.objet===t.objet));-1!==e?this.elements[e]=t:this.elements.push(t)},vt.prototype.pushElement=function(t){if(this.elements.some((e=>e.id===t.id&&e.objet===t.objet)))throw Error(`Il y a déjà un élément ${t.id} désignant le même objet`);this.elements.push(t)},vt.prototype.getElement=function(t,e){return this.elements.find((i=>i.objet===e&&("quadrillage"===e||i.id===t)))||null},vt.prototype.setElement=function(t,e){const i=this.elements.findIndex((e=>e.id===t));return-1!==i&&(this.elements[i]=e,!0)},vt.prototype.ajouteAction=function(t){t.indice=this.actions.length,this.actions.push(t)},vt.prototype.creeActions=function(){let t,e,i,n,o,a,c,h,u,l,K,tt,et,it,st,nt,rt,ot,at,ct,ht,vt,wt;for(t=0;t<this.tabact.length;t++){e=this.tabact[t],l=ut(e),i=e.getAttribute("mouvement"),rt=e.getAttribute("tempo");try{let t,St;switch(i){case"creer":if(n=e.getAttribute("objet"),null!==this.getElement(l,n)){console.error(`L'id ${l} existe déjà, action creer ignorée`,n);break}if(null!=n){switch(n){case"point":o=new X.Z(this,l,parseFloat(lt(e)),parseFloat(dt(e)),pt(e),ft(e)),a=new p.Z(this,l,o,rt);break;case"angle":o=new j.Z(this,l,lt(e),dt(e),e.getAttribute("rayon"),e.getAttribute("angle1"),e.getAttribute("angle2"),pt(e),ft(e),yt(e),e.getAttribute("forme")),a=new p.Z(this,l,o,rt);break;case"angle_droit":o=new L.Z(this,l,e.getAttribute("abscisse_sommet"),e.getAttribute("ordonnee_sommet"),e.getAttribute("abscisse_inter"),e.getAttribute("ordonnee_inter"),pt(e),ft(e)),a=new p.Z(this,l,o,rt);break;case"longueur":o=new q.Z(this,l,lt(e),dt(e),pt(e),ft(e),e.getAttribute("forme")),a=new p.Z(this,l,o,rt);break;case"marque":o=new G.Z(this,l,e.getAttribute("idSeg"),pt(e),ft(e),e.getAttribute("forme"),e.getAttribute("rayon")),a=new p.Z(this,l,o,rt);break;case"texte":o=new Q.Z(this,l,lt(e),dt(e),pt(e),e.getAttribute("taille")),a=new p.Z(this,l,o,rt);break;case"repere":o=new Y.Z(this,e.getAttribute("hauteur"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),e.getAttribute("Xgrad"),e.getAttribute("Ygrad"),e.getAttribute("Xmin"),e.getAttribute("Xmax"),e.getAttribute("Ymin"),e.getAttribute("Ymax"),pt(e),e.getAttribute("grille"),e.getAttribute("axes"),e.getAttribute("etiquettes")),a=new p.Z(this,l,o,rt);break;case"quadrillage":if(t=e.getAttribute("abscisse_bas_droite"),null!=t){t=parseFloat(t)/30;const i=parseFloat(e.getAttribute("ordonnee_bas_droite"))/30,s=parseFloat(e.getAttribute("abscisse_haut_gauche"))/30,n=parseFloat(e.getAttribute("ordonnee_haut_gauche"))/30;o=new J.Z(this,e.getAttribute("quadrillage"),String(i-n),String(t-s),n,s,pt(e)),a=new p.Z(this,"quadrillageIEP",o,rt)}else o=new J.Z(this,e.getAttribute("quadrillage"),e.getAttribute("hauteur"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),pt(e));a=new p.Z(this,"quadrillageIEP",o,rt);break;case"axe":o=new $.Z(this,e.getAttribute("pente"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),e.getAttribute("distanceBord"),e.getAttribute("Xgrad"),e.getAttribute("Xmin"),e.getAttribute("Xmax"),pt(e)),a=new p.Z(this,l,o,rt);break;case"gabarit":St=e.getAttribute("ecart_angle"),null===St&&(St="-30"),o=new _.Z(this,l,e.getAttribute("abscisse"),e.getAttribute("ordonnee"),e.getAttribute("rayon"),St,pt(e),ft(e),gt(e),mt(e)),a=new p.Z(this,l,o,rt);break;default:console.error(`objet ${o} inconnu => création ignorée`),a=null}a&&(this.ajouteAction(a),a.setReady())}break;case"montrer":n=e.getAttribute("objet"),(0,s.Bo)(n)?(it=e.getAttribute("abscisse"),st=e.getAttribute("ordonnee"),a=new S.Z(this,this[n],it,st,rt),"crayon"!==n&&"compas"!==n||null==it||null==st||this[n].translate(parseFloat(it),parseFloat(st))):a=new v.Z(this,l,n,rt),this.ajouteAction(a),a.setReady();break;case"masquer":n=e.getAttribute("objet"),a=(0,s.Bo)(n)?new A.Z(this,this[n],rt):new y.Z(this,l,n,rt),this.ajouteAction(a),a.setReady();break;case"tracer":switch(n=e.getAttribute("objet"),wt=e.getAttribute("cible"),null!=wt?(o=this.getElement(wt,"point"),it=o.xcons,st=o.ycons):(it=parseFloat(lt(e)),st=parseFloat(dt(e))),n){case"crayon":switch(c=e.getAttribute("forme"),h=this.crayon.x,u=this.crayon.y,l=ut(e),c){case null:isNaN(it)||isNaN(st)?(o=new T.Z(this,l,this.crayon.x,this.crayon.y,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),pt(e),ft(e),mt(e),At(e),xt(e)),ot=o.abs.length,this.crayon.translate(o.abs[ot-1],o.ord[ot-1])):(o=new U.Z(this,l,h,u,it,st,pt(e),ft(e),mt(e),At(e),xt(e)),this.crayon.translate(it,st));break;case"droite":if(isNaN(it)||isNaN(st))break;o=new V.Z(this,l,h,u,it,st,pt(e),ft(e),mt(e),At(e),xt(e)),this.crayon.translate(it,st);break;case"demidroite":if(isNaN(it)||isNaN(st))break;o=new B.Z(this,l,h,u,it,st,pt(e),ft(e),mt(e),At(e),xt(e)),this.crayon.translate(it,st);break;case"polygone":if(nt=e.getAttribute("cibles"),null===nt)o=new H.Z(this,l,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),pt(e),ft(e),gt(e),e.getAttribute("opacite"));else{let t="",i="";nt.split(",").forEach(((e,s)=>{const n=0===s?"":",",r=this.getElement(e,"point");t+=n+r.xcons,i+=n+r.ycons})),o=new H.Z(this,l,t,i,pt(e),ft(e),gt(e),e.getAttribute("opacite"))}ot=o.abs.length,this.crayon.translate(o.abs[ot-1],o.ord[ot-1]);break;case"libre":o=new T.Z(this,l,this.crayon.x,this.crayon.y,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),pt(e),ft(e),mt(e),At(e),xt(e)),ot=o.abs.length,this.crayon.translate(o.abs[ot-1],o.ord[ot-1])}et=e.getAttribute("vitesse"),null==et&&(et="4"),a=new p.Z(this,ut(e),o,rt,et),this.ajouteAction(a),a.setReady();break;case"trait":et=e.getAttribute("vitesse"),null===et&&(et=1e4),o=new U.Z(this,l,e.getAttribute("abscisse1"),e.getAttribute("ordonnee1"),e.getAttribute("abscisse2"),e.getAttribute("ordonnee2"),pt(e),ft(e),mt(e),At(e),xt(e)),a=new p.Z(this,ut(e),o,rt,et),this.ajouteAction(a),a.setReady();break;case"compas":o=new R.Z(this,l,this.compas.x,this.compas.y,this.compas.ecart,this.getAngle(e,"debut"),this.getAngle(e,"fin"),pt(e),ft(e),mt(e),At(e)),et=e.getAttribute("sens"),null==et&&(et="8"),a=new p.Z(this,ut(e),o,rt,et),this.ajouteAction(a),a.setReady();break;case"angle_droit":o=new L.Z(this,l,e.getAttribute("abscisse_sommet"),e.getAttribute("ordonnee_sommet"),e.getAttribute("abscisse_inter"),e.getAttribute("ordonnee_inter"),pt(e),ft(e)),a=new p.Z(this,ut(e),o,rt,et),this.ajouteAction(a),a.setReady()}break;case"rotation":n=e.getAttribute("objet"),tt=e.getAttribute("sens"),(0,s.Bo)(n)?(wt=e.getAttribute("cible"),null!=wt&&null===e.getAttribute("angle")?(o=this.getElement(wt,"point"),it=o.xcons,st=o.ycons,ct=new r.Z(this[n].x,this[n].y,it,st),K=ct.presqueNul()?0:-ct.angle()):K="compas"===n?this.getAngle(e,"angle"):e.getAttribute("angle"),a=new N.Z(this,this[n],K,rt,tt)):null===this.getElement(l,n)?a=null:(K=e.getAttribute("angle"),a=new k.Z(this,l,K,n,rt,tt)),null!==a&&(this.ajouteAction(a),a.setReady());break;case"translation":n=e.getAttribute("objet"),wt=e.getAttribute("cible"),null!=wt?(o=this.getElement(wt,"point"),it=o.xcons,st=o.ycons):(it=parseFloat(lt(e)),st=parseFloat(dt(e))),et=e.getAttribute("vitesse"),(0,s.Bo)(n)?(this[n].x=it,this[n].y=st,a=new M.Z(this,this[n],it,st,rt,et)):null===this.getElement(l,n)?a=null:("point"===n&&(vt=this.getElement(l,"point"),vt.xcons=it,vt.ycons=st),a=new P.Z(this,l,it,st,n,rt,et)),null!==a&&(this.ajouteAction(a),"crayon"!==n&&"compas"!==n||this[n].translate(it,st),a.setReady());break;case"zoom":n=e.getAttribute("objet"),et=e.getAttribute("vitesse"),(0,s.Bo)(n)?(ht=e.getAttribute("echelle"),this[n].zoomfactor=parseFloat(ht)/100,a=new F.Z(this,this[n],ht,rt,et)):a="texte"===n||"image"===n?new O.Z(this,l,e.getAttribute("echelle"),n,rt,et):null,null!==a&&(this.ajouteAction(a),a.setReady());break;case"ecarter":wt=e.getAttribute("cible"),null!=wt?(o=this.getElement(wt,"point"),ct=new r.Z(this.compas.x,this.compas.y,o.xcons,o.ycons),at=ct.norme()):at=parseFloat(e.getAttribute("ecart"))*this.compas.zoomfactor,this.compas.ecart=at,a=new b.Z(this,at,rt,e.getAttribute("vitesse")),this.ajouteAction(a),a.setReady();break;case"lever":a=new m.Z(this,rt),this.ajouteAction(a),a.setReady();break;case"coucher":a=new d.Z(this,rt),this.ajouteAction(a),a.setReady();break;case"masquer_nombres":a=new E.Z(this,!1,rt),this.ajouteAction(a),a.setReady();break;case"montrer_nombres":a=new E.Z(this,!0,rt),this.ajouteAction(a),a.setReady();break;case"graduations":n=e.getAttribute("objet"),a=new w.Z(this,this[n],!0,rt),this.ajouteAction(a),a.setReady();break;case"vide":n=e.getAttribute("objet"),a=new w.Z(this,this[n],!1,rt),this.ajouteAction(a),a.setReady();break;case"retourner":this.compasRetourne=!this.compasRetourne,a=new Z.Z(this,rt),this.ajouteAction(a),a.setReady();break;case"glisser":a=new f.Z(this,e.getAttribute("abscisse"),rt,e.getAttribute("vitesse")),this.ajouteAction(a),a.setReady();break;case"chargement":o=new z.Z(this,l,e.getAttribute("url")),o.prepareAction();break;case"ecrire":a=new g.Z(this,l,pt(e),e.getAttribute("taille"),e.getAttribute("texte"),e.getAttribute("style"),gt(e),e.getAttribute("opacite_fond"),bt(e),e.getAttribute("epaisseur_cadre"),e.getAttribute("marge"),e.getAttribute("marge_gauche"),e.getAttribute("marge_droite"),e.getAttribute("marge_haut"),e.getAttribute("marge_bas"),rt),this.ajouteAction(a),a.prepare();break;case"nommer":if(null!==this.getElement(l,"point")){const t=e.getAttribute("nom");""!==t&&(o=new D.Z(this,l,lt(e),dt(e),t,pt(e)),a=new W.Z(this,o,rt),this.ajouteAction(a),a.prepare())}break;case"pause":a=new C.Z(this,rt),this.ajouteAction(a),a.setReady();break;case"modifier_longueur":n=e.getAttribute("objet"),a=new x.Z(this,this[n],e.getAttribute("longueur"),rt),this.ajouteAction(a),a.setReady();break;case"modifier_rayon":n=e.getAttribute("objet"),a=new I.Z(this,l,e.getAttribute("rayon"),n,rt),this.ajouteAction(a),a.setReady()}}catch(t){console.error(t)}}this.getReadyPromise().then(this.init.bind(this)).catch((t=>{console.error(t),window.alert(t.message())}))},vt.prototype.execute=function(t){this.indiceActionEnCours=0,this.actions[0].execute(t)},vt.prototype.actionSuivante=function(t){if(t=Boolean(t),!this.animationEnCours&&!t)return;const e=this.actions[this.indiceActionEnCours];null===e.tempo||t?this.passageActionSuivante(t):setTimeout(this.passageActionSuivante.bind(this,t),e.tempo)},vt.prototype.passageActionSuivante=function(t){this.indiceActionEnCours>=this.actions.length||(this.indiceActionEnCours!==this.actions.length-1?(this.indiceActionEnCours++,this.actions[this.indiceActionEnCours].execute(t)):(this.indiceActionEnCours++,this.montreIcones(["Reset","PrevStep","Restart","XML"]),this.animationEnCours=!1))},vt.prototype.getAngle=function(t,e){const i=t.getAttribute(e);return null==i?null:this.compasRetourne?String(parseFloat(i)+180):i},vt.prototype.creeElementsPourIcones=function(){let t=document.createElementNS(n.WW,"defs");t.appendChild(this.radialGradiant("#9999FF","#000099","radialfonce")),this.svg.appendChild(t),t=document.createElementNS(n.WW,"defs"),t.appendChild(this.radialGradiant("#CCCCCC","#666666","radialclair")),this.svg.appendChild(t),t=document.createElementNS(n.WW,"defs"),t.appendChild(this.radialGradiant("#FF9999","#FF0000","radialrouge")),this.svg.appendChild(t),t=document.createElementNS(n.WW,"defs"),t.appendChild(this.markerArrow("markerarrow")),this.barreIcones.appendChild(t),t=document.createElementNS(n.WW,"defs"),t.appendChild(this.filtreEclairageIcone("filtrebleu")),this.barreIcones.appendChild(t),t=document.createElementNS(n.WW,"defs"),t.appendChild(this.filtreEclairageIcone("filtregris")),this.barreIcones.appendChild(t)},vt.prototype.radialGradiant=function(t,e,i){const s=document.createElementNS(n.WW,"radialGradient");s.setAttribute("id",i);let r=document.createElementNS(n.WW,"stop");return r.setAttribute("offset","0%"),r.setAttribute("style","stop-color:"+e+";"),s.appendChild(r),r=document.createElementNS(n.WW,"stop"),r.setAttribute("offset","80%"),r.setAttribute("style","stop-color:"+t+";"),s.appendChild(r),r=document.createElementNS(n.WW,"stop"),r.setAttribute("offset","100%"),r.setAttribute("style","stop-color:"+e+";"),s.appendChild(r),s},vt.prototype.markerArrow=function(t){const e=document.createElementNS(n.WW,"marker");e.setAttribute("id",t),e.setAttribute("markerWidth","4"),e.setAttribute("markerHeight","4"),e.setAttribute("refX","0"),e.setAttribute("refY","2"),e.setAttribute("orient","auto");const i=document.createElementNS(n.WW,"path");return i.setAttribute("d","M 0 0 2 2 0 4 Z"),i.setAttribute("style","fill:white;"),e.appendChild(i),e},vt.prototype.filtreEclairageIcone=function(t){const e=document.createElementNS(n.WW,"filter");e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("color-interpolation-filters","sRGB");const i=document.createElementNS(n.WW,"feDiffuseLighting");i.setAttribute("lighting-color","white"),i.setAttribute("surfaceScale","1"),i.setAttribute("diffuseConstant","1.2"),i.setAttribute("in","SourceGraphic"),i.setAttribute("result","diffOut");const s=document.createElementNS(n.WW,"fePointLight");s.setAttribute("x","5"),s.setAttribute("y","5"),s.setAttribute("z","15"),i.appendChild(s),e.appendChild(i);const r=document.createElementNS(n.WW,"feComposite");return r.setAttribute("in","SourceGraphic"),r.setAttribute("in2","diffOut"),r.setAttribute("operator","arithmetic"),r.setAttribute("k1","1"),r.setAttribute("k2","0"),r.setAttribute("k3","0"),r.setAttribute("k4","0"),e.appendChild(r),e.setAttribute("id",t),e},vt.prototype.popup=function(){const t=window.open("","popup","width=700,height=450,toolbar=no,scrollbars=no,resizable=yes");t.iepDoc=this;const e=t.document;e.title="Code Xml de la figure";const i=e.createElement("div"),s=e.createElement("form");i.appendChild(s),i.setAttribute("align","center"),e.body.appendChild(i);const n=e.createElement("textarea");s.appendChild(n),n.setAttribute("cols",80),n.setAttribute("rows",25),n.setAttribute("readonly",!0),n.style.fontSize="13px",n.scrollIntoView();let r=this.codexml;r=r.replace(/>\s*</g,">\n<"),n.appendChild(document.createTextNode(r)),n.select();const o=this;return t.addEventListener("unload",(()=>{o.windowxml=null})),t}},58568:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s=function(t,e,i,s,n,r){this.bold=t,this.italic=e,this.underline=i,this.couleur=s,this.fontface=n,this.taille=r}},17811:(t,e,i)=>{"use strict";i.d(e,{WW:()=>s,qC:()=>n,K2:()=>r,wf:()=>o,Sz:()=>a,LV:()=>c,RN:()=>h});const s="http://www.w3.org/2000/svg",n={alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",pi:"π",rho:"ρ",sigma:"σ",tau:"τ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",Gamma:"Γ",Delta:"Δ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω"},r={alpha2:"α",plus:"+",moins:"-",fois:"×",divise:"÷",petitf:"f",petitebarre:"–",grandebarre:"—",prime:"'",seconde:'"',puceronde:"•",grandC:"ℂ",euler:"ℂ",petitg:"ℊ",petith:"ℏ",Ironde:"ℑ",Lronde:"ℒ",lronde:"ℓ",grandN:"ℕ",Pronde:"℘",grandQ:"ℚ",Rronde:"ℜ",grandR:"ℝ",grandZ:"ℤ",Eronde:"ℰ",Fronde:"ℱ",Nronde:"ℵ",flecheG:"←",flecheH:"↑",flecheD:"→",flecheB:"↓",flecheDG:"↔",flecheGD:"↔",flecheHB:"↕",flecheBH:"↕",croissant:"↗",decroissant:"↘",alaligneadroite:"↳",alaligneagauche:"↵",doubleflecheG:"⇐",doubleflecheD:"⇒",doubleflecheDG:"⇔",doubleflecheGD:"⇔",flecheGbarre:"⇤",flecheDbarre:"⇥",flecheGcreuse:"⇦",flecheHcreuse:"⇧",flecheDcreuse:"⇨",flecheBcreuse:"⇩",qqsoit:"∀",pourtout:"∀",quelquesoit:"∀",complement:"∁",differentielpartiel:"∂",ilexiste:"∃",ilnexistepas:"∄",vide:"∅",nabla:"∇",appartienta:"∈",nappartientpasa:"∉",contient:"∋",petitcontient:"∍",grandproduit:"∏",grandcoproduit:"∐",grandesomme:"∑",petitebarrefine:"−",moinsouplus:"∓",antislash:"\\",asterisque:"∗",racine:"√",proportionnela:"∝",infini:"∞",angle:"∡",anglespherique:"∢",nedivisepas:"∤",parallelea:"//",nestpasparallelea:"∦",etlogique:"∧",oulogique:"∨",inter:"∩",intersection:"∩",union:"∪",integrale:"∫",doubleintegrale:"∬",tripleintegrale:"∭",integralecurviligne:"∮",integralesurfacique:"∯",integralevolumique:"∰",egaleasymptotiquea:"≃",environdroit:"≃",environegala:"≅",environ:"≈",egalpardefinition:"≝",differentde:"≠",identiquea:"≡",inferieura:"≤",superieura:"≥",inclusdans:"⊂",nestpasinclusdans:"⊄",necontientpas:"⊅",sommedirecte:"⊕",differencedirecte:"⊖",produittensoriel:"⊗",divisiondirecte:"⊘",produitdirect:"⊙",top:"⊤",perpendiculairea:"⊥",antecedentde:"⊶",imagede:"⊷",angledroitarc:"⊾",point:"⋅",pv:";"},o=Math.PI/180,a=180/Math.PI,c=Math.cos(30*o),h=.5},58498:(t,e,i)=>{"use strict";i.d(e,{bM:()=>o,mN:()=>a,vf:()=>c,nn:()=>h,Bo:()=>u,Qm:()=>l,Vx:()=>d,ik:()=>b,ne:()=>g,x1:()=>f,q8:()=>m,I8:()=>x,T_:()=>v,EO:()=>S,mr:()=>E,xL:()=>W,yb:()=>C,OG:()=>N,GR:()=>Z});var s=i(17811),n=i(58568);const r={};Object.entries(s.K2).forEach((([t,e])=>{r[t.toLowerCase()]=e}));const o=t=>Math.abs(t)<1e-9,a=t=>Math.abs(t)<1e-7;function c(t){let e=t-360*Math.floor((t+180)/360);return-180===e&&(e=180),e}function h(t){let e,i;return window.DOMParser?(e=new DOMParser,i=e.parseFromString(t,"text/xml")):window.ActiveXObject?(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)):console.error(Error("Votre navigateur ne peut pas analyser du XML, impossible d’utiliser instrumenpoche")),i}const u=t=>["compas","compasLeve","crayon","equerre","rapporteur","regle","requerre"].includes(t);function l(t){let e,i,s,n=!1;if(0===t.indexOf("<font"))i="</font>",n=!0;else{if(s=t.indexOf(">"),-1===s)return t.length;e=t.substring(0,s+1),i=e.substring(0,1)+"/"+e.substring(1)}const r=t.indexOf(i);if(-1===r){if(n){const e=t.indexOf("<font",5);if(-1!==e)return e}return-1}return r+i.length}function d(t){const e=t.trim(),i={},s=e.indexOf(","),n=e.indexOf(")");return i.erreur=-1===s||-1===n,i.erreur?(i.texte="",i):(i.operande=e.substring(3,s),i.exposant=e.substring(s+1,n),i.texte=e.substring(n+1),i)}function p(t,e){let i,s,n=1;for(i=e+1;i<t.length&&(s=t.charAt(i),"("===s?n++:")"===s&&n--,0!==n);)i++;return 0===n?i:-1}function b(t,e,i,s,n){const r=(s-n)/(e-i);return r*t+(s-r*e)}function g(t){let e="";const i=["objet","mouvement","vitesse","tempo","abscisse","ordonnee","id","couleur","pointille","echelle","angle","cible","texte","ecrire","rotation","translation","epaisseur","opacite","masquer","montrer","crayon","equerre","regle","compas","reglequerre","sens","hauteur","largeur","haut","gauche","Xmin","Ymin","Xmax","yMax","Xgrad","Ygrad","image","police","taille","ordonnee_bas_droite","abscisse_bas_droite","ordonnee_haut_gauche","abscisse_haut_gauche"];return t.split(/<action/gi).forEach(((t,s)=>{i.forEach((e=>{const i=new RegExp(" "+e+'[^\\w ]*= *"[\\w]*"',"i"),s=t.search(i);-1!==s&&-1!==t.substring(s+1).search(i)&&(t=t.replace(i,""))})),e+=0===s?t:"<action"+t})),e}function f(t){return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<B>/g,"<b>")).replace(/<\/B>/g,"</b>")).replace(/<I>/g,"<i>")).replace(/<\/I>/g,"</i>")).replace(/<U>/g,"<u>")).replace(/<\/U>/g,"</u>")).replace(/£lt£i£gt£/gi,"<i>")).replace(/£i£/gi,"<i>")).replace(/£lt£\/i£gt£/gi,"</i>")).replace(/£\/i£/gi,"</i>")).replace(/£lt£b£gt£/gi,"<b>")).replace(/£b£/gi,"<b>")).replace(/£lt£\/b£gt£/gi,"</b>")).replace(/£\/b£/gi,"</b>")).replace(/£lt£u£gt£/gi,"<u>")).replace(/£u£/gi,"<u>")).replace(/£lt£\/u£gt£/gi,"</u>")).replace(/£\/u£/gi,"</u>")).replace(/£lt£br£gt£/gi,"<br>")).replace(/£lt£br\/£gt£/gi,"<br>")).replace(/£br£/gi,"<br>")).replace(/£br\/£/gi,"<br>")).replace(/£lt£font/gi,"<font")).replace(/£lt£\/font£gt£/gi,"</font>")).replace(/£lt£bold£gt£/gi,"<b>")).replace(/£lt£\/bold£gt£/gi,"</b>")).replace(/£lt£/gi,"<")).replace(/£gt£/gi,">")).replace(/£inferieurstrict£/gi,"<")).replace(/£superieurstrict£/gi,">")).replace(/£guillemet£/gi,'"')}function m(t){if(!t.includes("£"))return t;const e=t.split("£").map(((t,e)=>{if(e%2){const e=t.toLowerCase();return r[e]||`£${t}£`}return t})).join("");return(t.length-t.replace(/£/g,"").length)%2?(console.warn(`Il y a un nombre impair de £ dans cette chaîne : ${t}`),e.substr(0,e.length-1)):e}function y(t,e){let i,s,n;for(n=1,i=e+1;i<t.length&&(s=t.charAt(i),"{"===s?n++:"}"===s&&n--,0!==n);)i++;return 0===n?i:-1}function A(t){return-1!==t.indexOf("\\frac")||-1!==t.indexOf("\\sqrt")||-1!==t.indexOf("}^{")||-1!==t.indexOf("}_{")||-1!==t.indexOf("\\widehat{")||-1!==t.indexOf("\\left[")||-1!==t.indexOf("\\left(")||-1!==t.indexOf("\\left|")||-1!==t.indexOf("\\left\\|")||-1!==t.indexOf("\\overrightarrow{")||-1!==t.indexOf("\\text{")}function x(t){const e={noir:"black",rouge:"red",vert:"green",bleu:"blue",blanc:"white",gris:"grey",darkorange:"maroon"};if("0"===t)return"black";if(e[t])return e[t];const i=t=>t.length<7?"#"+"0".repeat(6-t.length)+t:t.substr(-6);return/^#/.test(t)?7===t.length?t:4===t.length?`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`:(console.error(Error(`couleur ${t} invalide, on va tronquer ou compléter avec des 0`)),i(t.substring(1))):/^0x/.test(t)?i(t.substring(2)):/^[0-9]/.test(t)?i(parseFloat(t).toString(16)):t}const v=(t,e)=>function(t,e){const i=t.norme(),s=e.norme();return!(!o(i)&&!o(s))||o((t.x*e.y-t.y*e.x)/i/s)}(t,e)&&t.x*e.x+t.y*e.y>=0;function w(t,e,i){let s,n,r=0,o=e;for(;o<t.length;){if(s=t.charAt(o),"("===s){if(n=p(t,o),-1===n)return-1;o=n}else if(","===s&&r++,r===i)return o;o++}return-1}function S(t,e,i){let s;return e*t<0?s=-Math.floor(-t/i)*i:Math.ceil(Math.log(Math.abs(t))/Math.LN10)!==Math.ceil(Math.log(Math.abs(e))/Math.LN10)?(s=t<0?-Math.pow(10,Math.floor(Math.log(Math.abs(t))/Math.LN10)):Math.pow(10,Math.ceil(Math.log(Math.abs(t))/Math.LN10)),s-=Math.floor((s-t)/i)*i):(s=function(t,e){const i=Math.pow(10,e);return Math.round(t/i)*i}(t,Math.floor(Math.log(i)/Math.LN10)),s<t&&(s+=i)),s}function E(t,e,i,r,o){if(""===t)return;let a,c,h,u,d,p,b,g,f;const m=t.search(/<b>|<i>|<u>|<font/),y=document.createElementNS(s.WW,"tspan");if(y.setAttribute("pointer-events","none"),-1===m||m>0){a="",e.couleur&&(a+="fill:"+e.couleur+";"),e.bold&&(a+="font-weight:bold;"),e.italic&&(a+="font-style:italic;"),e.underline&&(a+="text-decoration:underline;"),""!==e.fontface?a+="font-family:"+e.fontface+";":a+='font-family: "Times New Roman", Times, serif;',a+="font-size:"+e.taille+"px;",y.setAttribute("style",a),r&&(y.setAttribute("x",0),r=!1),y.setAttribute("y",o);const s=-1===m?t:t.substring(0,m);y.appendChild(document.createTextNode(s)),i.appendChild(y),m>0&&E(t.substring(m),e,i,r,o)}else 0===t.indexOf("<b>")?(f=new n.Z(!0,e.italic,e.underline,e.couleur,e.fontface),c=l(t),E(-1===c?t.substring(3):t.substring(3,c-4),f,i,r,o)):0===t.indexOf("<i>")?(f=new n.Z(e.bold,!0,e.underline,e.couleur,e.fontface),c=l(t),E(-1===c?t.substring(3):t.substring(3,c-4),f,i,r,o)):0===t.indexOf("<u>")?(f=new n.Z(e.bold,e.italic,!0,e.couleur,e.fontface),c=l(t),E(-1===c?t.substring(3):t.substring(3,c-4),f,i,r,o)):0===t.indexOf("<font")&&(c=l(t),-1===c&&(c=t.length),h=t.indexOf('face="'),-1!==h?(u=t.indexOf('"',h+6),d=-1!==u?t.substring(h+6,u):""):d="",p="",h=t.indexOf('couleur="'),-1!==h?(u=t.indexOf('"',h+9),-1!==u&&(p=x(t.substring(h+9,u)))):(h=t.indexOf('color="'),-1!==h&&(u=t.indexOf('"',h+7),-1!==u&&(p=x(t.substring(h+7,u))))),h=t.indexOf('size="'),-1!==h&&(u=t.indexOf('"',h+6),b=-1!==u?t.substring(h+6,u):e.taille),f=new n.Z(e.bold,e.italic,e.underline,p,d,b),g=t.indexOf(">"),/<\/font>/i.test(t)?E(t.substring(g+1,c-7),f,i,r,o):E(t.substring(g+1),f,i,r,o))}function W(t){if(["a","c","d","f","g","n","p","r","s","u","v"].some((e=>t.includes(`£${e}(`))))return!0;let e,i,s,n=t;for(;-1!==(e=n.search(/£e\(|£i\(/g));){if(i=p(n,e+3),-1===i&&(i=n.length),s=n.substring(e,i),-1!==s.search(/£e\(|£i\(£lt£font/g))return!0;if(i===n.length)return!1;n=s.substring(i+1)}for(n=t;-1!==(e=n.search(/£lt£font/g));){if(i=l(n.substring(e)),-1===i?i=n.length:i+=e,s=n.substring(e,i),-1!==s.search(/£e\(|£i\(/g))return!0;if(i===n.length)return!1;n=s.substring(i+1)}return!1}function C(t,e){let i,s,n,r,o,a,c,h,u,d,b,g,f;const m=t;if(""===m)return"";for(;-1!==(i=m.indexOf("<font"));)return h=null,c=m.substring(i),s=l(c),r=c.indexOf('couleur="'),-1!==r?(o=c.indexOf('"',r+9),-1!==o&&(h=x(c.substring(r+9,o)))):(r=c.indexOf('color="'),-1!==r&&(o=c.indexOf('"',r+7),-1!==o&&(h=x(c.substring(r+7,o))))),null!=h?(a=i+c.indexOf(">")+1,-1===s?C(m.substring(0,i)+"\\textcolor{"+h+"}{"+m.substring(a)+"}",e):(s+=i,C(m.substring(0,i)+"\\textcolor{"+h+"}{"+m.substring(a,s-7)+"}"+m.substring(s),e))):(a=i+c.indexOf(">")+1,-1===s?C(m.substring(0,i)+m.substring(a),e):(s+=i,C(m.substring(0,i)+m.substring(a,s-7)+m.substring(s),e)));for(;-1!==(i=m.indexOf("£u("));)return s=p(m,i+2),-1===s?m:C(m.substring(0,i),e)+"\\unicode{x"+m.substring(i+3,s)+"}"+C(m.substring(s+1),e);for(;-1!==(i=m.indexOf("£f("));)return n=w(m,i+3,1),s=p(m,i+2),-1===n||-1===s||n>s?m:C(C(m.substring(0,i),e)+"\\displaystyle{\\frac{"+C(m.substring(i+3,n),!1)+"}{"+C(m.substring(n+1,s),!1)+"}}"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£r("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\sqrt{"+C(m.substring(i+3,s),!1)+"}"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£a("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\widehat{"+C(m.substring(i+3,s),!0)+"}"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£g("));)return d=w(m,i+3,1),b=w(m,i+3,2),g=w(m,i+3,3),s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\int_{"+C(m.substring(b+1,g),!1)+"}^{"+C(m.substring(g+1,s),!1)+"}"+C(m.substring(i+3,d),!1)+" d"+C(m.substring(d+1,b),!1)+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£c("));)return s=p(m,i+2),-1===s?m:C(m.substring(0,i),e)+"\\left["+C(m.substring(i+3,s),e)+"\\right]"+C(m.substring(s+1),e);for(;-1!==(i=m.indexOf("£p("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\left("+C(m.substring(i+3,s),e)+"\\right)"+C(m.substring(s+1),e));for(;-1!==(i=m.indexOf("£d("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\left|"+C(m.substring(i+3,s),!1)+"\\right|"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£n("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\left\\|"+C(m.substring(i+3,s),!1)+"\\right\\|"+C(m.substring(s+1),e));for(;-1!==(i=m.indexOf("£i("));)return n=w(m,i+3,1),s=p(m,i+2),-1===n||-1===s||n>s?m:C(C(m.substring(0,i),e)+"{"+C(m.substring(i+3,n),!1)+"}_{"+C(m.substring(n+1,s),!1)+"}"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("£e("));)return n=w(m,i+3,1),s=p(m,i+2),-1===n||-1===s||n>s?m:C(C(m.substring(0,i),e)+"{"+C(m.substring(i+3,n),!1)+"}^{"+C(m.substring(n+1,s),!1)+"}"+C(m.substring(s+1),e));for(;-1!==(i=m.indexOf("£v("));)return s=p(m,i+2),-1===s?m:C(C(m.substring(0,i),e)+"\\overrightarrow{"+C(m.substring(i+3,s),!1)+"}"+C(m.substring(s+1),e),e);for(;-1!==(i=m.indexOf("<u>"));)return s=l(m.substring(i)),-1===s?m:(s+=i,C(m.substring(0,i),e)+"\\underline{"+C(m.substring(i+3,s-4),!0)+"}"+C(m.substring(s),e));for(;-1!==(i=m.indexOf("<i>"));)return s=l(m.substring(i)),-1===s?C(m.substring(0,i),e)+"\\textit{"+C(m.substring(i+3),!1)+"}":(s+=i,C(m.substring(0,i),e)+"\\textit{"+C(m.substring(i+3,s-4),!1)+"}"+C(m.substring(s),e));for(;-1!==(i=m.indexOf("<b>"));)return s=l(m.substring(i)),-1===s?C(m.substring(0,i),e)+"\\textbf{"+C(m.substring(i+3),!1)+"}":(s+=i,C(m.substring(0,i),e)+"\\textbf{"+C(m.substring(i+3,s-4),!1)+"}"+C(m.substring(s),e));if(e){if(f=m.charAt(0),")"===f||","===f||"}"===f)return f+C(m.substring(1),e);if(A(m))return m;if(i=m.indexOf("\\textcolor{"),-1!==i){for(u="",c=m;-1!==(i=c.indexOf("\\textcolor{"));)r=c.indexOf("}{"),s=y(c,r+1),-1===s?0===i?(r+2!==c.length?u+=c.substring(0,r+2)+"\\text{"+c.substring(r+2)+"}":u+=c,c=""):(r+2!==c.length?u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2)+"\\text{"+c.substring(r+2)+"}":u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2),c=""):0===i?(u+=c.substring(0,s+1),c=s<c.length-1?c.substring(s+1):""):(u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2)+"\\text{"+c.substring(r+2,s+1)+"}",c=s<c.length-1?c.substring(s+1):"");return""===c?u:u+"\\text{"+c+"}"}{let t=0,e=0;for(;" "===m.charAt(e);)t++,e++;return"~".repeat(t)+"\\text{"+m.substring(e)+"}"}}return m}function N(t,e){let i,s,n,r,o,a,c,h,u,d,b=t;if(""===b)return"";for(;-1!==(i=b.indexOf("<font"));)return h=null,c=b.substring(i),s=l(c),r=c.indexOf('couleur="'),-1!==r?(o=c.indexOf('"',r+9),-1!==o&&(h=x(c.substring(r+9,o)))):(r=c.indexOf('color="'),-1!==r&&(o=c.indexOf('"',r+7),-1!==o&&(h=x(c.substring(r+7,o))))),null!==h?(a=i+c.indexOf(">")+1,-1===s?N(b.substring(0,i)+"\\textcolor{"+h+"}{"+b.substring(a)+"}",e):(s+=i,N(b.substring(0,i)+"\\textcolor{"+h+"}{"+b.substring(a,s-7)+"}"+b.substring(s),e))):(a=i+c.indexOf(">")+1,-1===s?N(b.substring(0,i)+b.substring(a),e):(s+=i,N(b.substring(0,i)+b.substring(a,s-7)+b.substring(s),e)));for(;-1!==(i=b.indexOf("£u("));)return s=p(b,i+2),-1===s?b:N(b.substring(0,i),e)+"\\unicode{x"+b.substring(i+3,s)+"}"+N(b.substring(s+1),e);for(;-1!==(i=b.indexOf("£r("));)return s=p(b,i+2),-1===s?b:N(N(b.substring(0,i),e)+"\\sqrt{"+N(b.substring(i+3,s),!1)+"}"+N(b.substring(s+1),e),e);for(;-1!==(i=b.indexOf("£d("));)return s=p(b,i+2),-1===s?b:N(N(b.substring(0,i),e)+"\\left|"+N(b.substring(i+3,s),!1)+"\\right|"+N(b.substring(s+1),e),e);for(;-1!==(i=b.indexOf("£n("));)return s=p(b,i+2),-1===s?b:N(N(b.substring(0,i),e)+"\\left\\|"+N(b.substring(i+3,s),!1)+"\\right\\|"+N(b.substring(s+1),e));for(;-1!==(i=b.indexOf("£i("));)return n=w(b,i+3,1),s=p(b,i+2),-1===n||-1===s||n>s?b:N(N(b.substring(0,i),e)+"{"+N(b.substring(i+3,n),!0)+"}_{"+N(b.substring(n+1,s),!1)+"}"+N(b.substring(s+1),e),e);for(;-1!==(i=b.indexOf("£e("));)return n=w(b,i+3,1),s=p(b,i+2),-1===n||-1===s||n>s?b:N(N(b.substring(0,i),e)+"{"+N(b.substring(i+3,n),!0)+"}^{"+N(b.substring(n+1,s),!1)+"}"+N(b.substring(s+1),e));for(;-1!==(i=b.indexOf("£v("));)return s=p(b,i+2),-1===s?b:N(N(b.substring(0,i),e)+"\\overrightarrow{"+N(b.substring(i+3,s),!1)+"}"+N(b.substring(s+1),e),e);for(;-1!==(i=b.indexOf("<u>"));)return s=l(b.substring(i)),-1===s?b:(s+=i,N(b.substring(0,i),e)+"\\underline{"+N(b.substring(i+3,s-4),!0)+"}"+N(b.substring(s),e));for(;-1!==(i=b.indexOf("<i>"));)return s=l(b.substring(i)),-1===s?N(b.substring(0,i),e)+"\\textit{"+N(b.substring(i+3),!1)+"}":(s+=i,N(b.substring(0,i),e)+"\\textit{"+N(b.substring(i+3,s-4),!1)+"}"+N(b.substring(s),e));for(;-1!==(i=b.indexOf("<b>"));)return s=l(b.substring(i)),-1===s?N(b.substring(0,i),e)+"\\textbf{"+N(b.substring(i+3),!1)+"}":(s+=i,N(b.substring(0,i),e)+"\\textbf{"+N(b.substring(i+3,s-4),!1)+"}"+N(b.substring(s),e));if(e){if(A(b))return b;if(i=b.indexOf("\\textcolor{"),-1!==i){for(u="",c=b;-1!==(i=c.indexOf("\\textcolor{"));)r=c.indexOf("}{"),s=y(c,r+1),-1===s?0===i?(r+2!==c.length?u+=c.substring(0,r+2)+"\\text{"+c.substring(r+2)+"}":u+=c,c=""):(r+2!==c.length?u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2)+"\\text{"+c.substring(r+2)+"}":u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2),c=""):0===i?(u+=c.substring(0,s+1),c=s<c.length-1?c.substring(s+1):""):(u+="\\text{"+c.substring(0,i)+"}"+c.substring(i,r+2)+"\\text{"+c.substring(r+2,s+1)+"}",c=s<c.length-1?c.substring(s+1):"");return""===c?u:u+"\\text{"+c+"}"}if(d=b.charAt(0),")"===d||","===d||"}"===d)return b;{let t="";for(;0===b.indexOf(" ");)t+="~",b=b.substring(1);return t+"\\text{"+b+"}"}}return b}function Z(t,e={}){if(!t||"object"!=typeof t)throw Error("objet invalide");const i=e.defaut||20,s=e.min||5,n=e.max||199;if("number"!=typeof i||"number"!=typeof s||"number"!=typeof n)throw Error("options invalides");const r=Number(t.taille);return isNaN(r)?(console.error(Error(`taille invalide (${t.taille}) => ${i}`)),i):r<s?(console.error(Error(`taille trop petite (${t.taille} < ${s}) => ${i}`)),i):r>n?(console.error(Error(`taille trop grande (${t.taille} > ${n}) => ${i}`)),i):r}},15616:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(44532),n=i(42987);let r;function o(t,e,i){return"object"!=typeof i&&(i={}),Promise.resolve().then((()=>{if("undefined"==typeof window||!window.document)throw Error("iepLoad doit être utilisé dans un navigateur");if("string"==typeof t&&(t=document.getElementById(t)),!(t instanceof HTMLElement))throw Error("Conteneur html manquant");if("string"!=typeof e)throw Error("Script xml manquant");return/^http/.test(e)?(i=e,"https:"===window.location.protocol&&"http:"===i.substr(0,5)?Promise.reject(Error(`Impossible de charger ici un script externe qui n’est pas en https (${i})`)):fetch(i,{Accept:"text/xml"}).catch((t=>{throw console.error(t),Error(`Impossible de récupérer le xml ${i}`)})).then((t=>{const{status:e,statusText:s,ok:n}=t;if(e>399)throw Error(`Impossible de récupérer le xml ${i} (erreur ${e} ${s})`);if(!n)throw Error(`Impossible de récupérer le xml ${i}`);return t.text()})).then((t=>{if(!t||!/<INSTRUMENPOCHE/.test(t))throw Error(`L’url ${i} ne retourne pas de script instrumenpoche en xml`);return t}))):e;var i})).then((e=>{if(!e||!/<INSTRUMENPOCHE/.test(e))throw Error("Ce n’est pas un script instrumenpoche valide");"https:"===window.location.protocol&&(e=e.replace(/http:\/\/([a-z]+.sesamath.net)/g,((t,e)=>`https://${e}`))),(0,n.empty)(t),(0,n.setStyles)(t,{position:"relative",overflow:"auto"});const o=function(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.classList.add("svgIep"),t.appendChild(e),(0,n.setStyles)(e,{margin:0,padding:0,width:"98%",height:"98%"}),e}(t),a={};i.debug&&(a.debug=!0),r||(r=new s.Z(a));const c="boolean"!=typeof i.autostart||i.autostart;return r.addDoc(o,e,c),i.zoom&&function(t){const e=t.parentNode;e.style.resize="both",e.style.padding="0",e.style.border="1px solid black";const i={position:"absolute",zIndex:99,textAlign:"center",padding:0,width:"2.5em",height:"1.8em",left:"0.1em"};(0,n.addElement)(e,"button",{style:{...i,top:"0.1em"}},"+").addEventListener("click",(()=>t.iepDoc.zoom(1.1)),!1),(0,n.addElement)(e,"button",{style:{...i,top:"2em"}},"-").addEventListener("click",(()=>t.iepDoc.zoom(.9)),!1)}(o),r}))}},55018:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t){n.Z.call(this,t),this.ecart=0,this.bretourne=!1,this.leve=!1,this.lon=185,this.longpointe=18;const e=this.lon+this.longpointe;this.alp=Math.asin(this.ecart/(2*e))/Math.PI*180,this.decbh=30,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle,1),t.svg.appendChild(this.g)}o.prototype=new n.Z,o.prototype.initialisePosition=function(){n.Z.prototype.initialisePosition.call(this),this.ecart=0,this.positionne()},o.prototype.creeg=function(){let t,e,i,n;const r=this.lon,o=this.longpointe,a=document.createElementNS(s.WW,"g");this.bg=document.createElementNS(s.WW,"g"),t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",-o),t.setAttribute("style","stroke: black; stroke-width:1.5;"),this.bg.appendChild(t),e=document.createElementNS(s.WW,"path"),i="M0 "+String(-o)+"L 0 "+String(-o-r)+" "+String(-7)+" "+String(-o-r)+" "+String(-7)+" "+String(-o)+"Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bg.appendChild(e),n=document.createElementNS(s.WW,"circle"),n.setAttribute("cx",-3.5),n.setAttribute("cy",-o-20),n.setAttribute("r",6),n.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bg.appendChild(n),n=document.createElementNS(s.WW,"circle"),n.setAttribute("cx",-3.5),n.setAttribute("cy",-o-20),n.setAttribute("r",2),n.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1"),this.bg.appendChild(n),a.appendChild(this.bg),this.bd=document.createElementNS(s.WW,"g"),e=document.createElementNS(s.WW,"path"),i="M 0 0 L0 "+String(-o)+" 3.5 "+String(-o-3.5)+" 3.5 "+String(-6.5)+"Z",e.setAttribute("style","stroke:black;stroke-width:0.75; fill: blck; fill-opacity: 1"),e.setAttribute("d",i),this.bd.appendChild(e),e=document.createElementNS(s.WW,"path"),i="M0 "+String(-o)+"L 0 "+String(-o-r)+" 7 "+String(-o-r)+" 7 "+String(-o)+"Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bd.appendChild(e),e=document.createElementNS(s.WW,"path"),i="M7 "+String(-o-20+4.5)+"A 4.5 3 -90 0 0 7 "+String(-o-20-4.5)+"Z",e.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1"),e.setAttribute("d",i),this.bd.appendChild(e);const c="stroke: black; stroke-width:1;";t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",0),t.setAttribute("y1",-100),t.setAttribute("x2",7),t.setAttribute("y2",-93),t.setAttribute("style",c),this.bd.appendChild(t),t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",0),t.setAttribute("y1",-50),t.setAttribute("x2",7),t.setAttribute("y2",-50),t.setAttribute("style",c),this.bd.appendChild(t),t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",3.5),t.setAttribute("y1",-50),t.setAttribute("x2",3.5),t.setAttribute("y2",-73),t.setAttribute("style",c),this.bd.appendChild(t);const h=document.createElementNS(s.WW,"rect");h.setAttribute("x",7),h.setAttribute("y",-68),h.setAttribute("width",4),h.setAttribute("height",12),h.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),this.bd.appendChild(h),a.appendChild(this.bd),this.haut=document.createElementNS(s.WW,"g"),e=document.createElementNS(s.WW,"path"),i="M 0 0 L3 0 12 "+String(-24)+" 12 "+String(-35)+"A"+String(15)+" "+String(6)+" -90 0 1 6 "+String(-50)+"L3 "+String(-70)+" "+String(-3)+" "+String(-70)+"L"+String(-6)+" "+String(-50)+"A"+String(15)+" "+String(6)+" 90 0 1 "+String(-12)+" "+String(-35)+" L "+String(-12)+" "+String(-24)+" "+String(-3)+" 0Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),this.haut.appendChild(e),t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",6),t.setAttribute("y1",-50),t.setAttribute("x2",-6),t.setAttribute("y2",-50),t.setAttribute("style","stroke: black; stroke-width:1;"),this.haut.appendChild(t);const u=document.createElementNS(s.WW,"text");u.setAttribute("pointer-events","none"),u.appendChild(document.createTextNode("Sésamath")),u.setAttribute("x",0),u.setAttribute("y",0),u.setAttribute("style","font-family: Arial;font-size: 5pt;fill: white"),u.setAttribute("transform","rotate(-90) translate(4,2.5)"),this.haut.appendChild(u),n=document.createElementNS(s.WW,"circle"),n.setAttribute("cx",-6),n.setAttribute("cy",-this.decbh),n.setAttribute("r",3),n.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1"),this.haut.appendChild(n),n=document.createElementNS(s.WW,"circle"),n.setAttribute("cx",6),n.setAttribute("cy",-this.decbh),n.setAttribute("r",3),n.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1"),this.haut.appendChild(n),a.appendChild(this.haut),this.g=a},o.prototype.setPosition=function(t,e,i,s){let n;arguments.length>=4?(n=s,this.zoomfactor=n):n=this.zoomfactor,this.x=t,this.y=e,this.angle=i;const r=this.lon+this.longpointe;let o=this.ecart/(2*r*n);if(o>1&&(o=1),this.alp=Math.asin(o)/Math.PI*180,isNaN(this.alp))console.error(Error("dans compas.setPosition on a alp qui est NaN")),this.doc.debug&&console.log(`avec x=${t}, y=${e}, angle=${i} et zoom=${n} on a d=${r} et ecart=${this.ecart} asin(${this.ecart}/${2*r*n}/π*180) donne NaN`);else{this.bg.setAttribute("transform",`rotate(${this.alp})`),this.bd.setAttribute("transform",`translate(${this.ecart/n}, 0) rotate(${-this.alp})`);const s=this.alp/180*Math.PI,o=this.ecart/2/n,a=-r*Math.cos(s)+this.decbh;this.haut.setAttribute("transform",`translate(${o},${a})`);const c=this.bretourne?`scale(${n},${-n})`:`scale(${n})`;this.g.setAttribute("transform",`${c} translate(${t/n},${e/n}) rotate(${i})`)}},o.prototype.retourne=function(){this.bretourne=!this.bretourne,this.setPosition(this.x,this.y,this.angle)},o.prototype.positionne=function(){n.Z.prototype.positionne.call(this),this.leve&&null!=this.doc.compasLeve&&n.Z.prototype.positionne.call(this.doc.compasLeve)},o.prototype.translate=function(t,e){n.Z.prototype.translate.call(this,t,e),this.leve&&null!=this.doc.compasLeve&&n.Z.prototype.translate.call(this.doc.compasLeve,t,e)},o.prototype.lanceAnimationEcartement=function(t,e){this.ecartfin=parseFloat(t),this.pasecart=e/4,this.pasecart*=t>=this.ecart?1:-1,this.distecart=Math.abs(t-this.ecart);const i=this;this.timer=setInterval((function(){i.actionPourEcartement()}),25)},o.prototype.actionPourEcartement=function(){const t=this.ecart+this.pasecart,e=Math.abs(t-this.ecartfin);e>this.distecart||!this.doc.animationEnCours?(this.ecart=this.ecartfin,this.setPosition(this.x,this.y,this.angle),clearInterval(this.timer),this.doc.actionSuivante()):(this.distecart=e,this.ecart=t,this.setPosition(this.x,this.y,this.angle))}},55261:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t,e,i,s,r){n.Z.call(this,t);const o=null==t.compasLeve?null:t.compasLeve.g;this.x=e,this.y=i,this.angle=s,this.ecart=r,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(e,i,s),null==o?t.svg.appendChild(this.g):t.svg.replaceChild(this.g,o)}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e,i;const n=this.ecart,r=document.createElementNS(s.WW,"g");this.ecart>16&&(t=document.createElementNS(s.WW,"rect"),t.setAttribute("x",8),t.setAttribute("y",-3.5),t.setAttribute("width",this.ecart-16),t.setAttribute("height",7),t.setAttribute("rx",1),t.setAttribute("ry",1),t.setAttribute("style","stroke:black;stroke-width:0.5;fill:silver;fill-opacity:1"),r.appendChild(t)),i=document.createElementNS(s.WW,"path"),i.setAttribute("d","M0 0 L8 1 8 -1Z"),i.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1"),r.appendChild(i);const o=n-16;e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",8),e.setAttribute("y1",0),e.setAttribute("x2",8+o/8),e.setAttribute("y2",0),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e),i=document.createElementNS(s.WW,"path");const a=String(n-8);i.setAttribute("d","M"+n+" 0 L"+a+" 1.5 "+a+" -1.5Z"),i.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1"),r.appendChild(i),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",a),e.setAttribute("y1",0),e.setAttribute("x2",String(n-8-o/8)),e.setAttribute("y2",0),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e),e=document.createElementNS(s.WW,"line");let c=String(n-8-o/8-2);e.setAttribute("x1",c),e.setAttribute("y1",-3.5),e.setAttribute("x2",c),e.setAttribute("y2",3.5),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e),e=document.createElementNS(s.WW,"line"),c=String(n-8-o/3-2),e.setAttribute("x1",c),e.setAttribute("y1",-3.5),e.setAttribute("x2",c),e.setAttribute("y2",3.5),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e),t=document.createElementNS(s.WW,"rect"),t.setAttribute("x",String(8+o/8-5)),t.setAttribute("y",String(-7)),t.setAttribute("width",8),t.setAttribute("height",3),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),r.appendChild(t),t=document.createElementNS(s.WW,"rect"),t.setAttribute("x",String(n-8-o/8-4)),t.setAttribute("y",String(-7)),t.setAttribute("width",8),t.setAttribute("height",3),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),r.appendChild(t);const h=12;i=document.createElementNS(s.WW,"path");const u="M"+String(n/2+h)+" "+String(-4)+" A "+String(h)+" 2 180 0 0 "+String(n/2-h)+" "+String(-4)+"A"+String(4)+" 2 90 0 1 "+String(n/2-h)+" "+String(4)+"A"+String(h)+" 2 0 0 0 "+String(n/2+h)+" "+String(4)+"A"+String(4)+" 2 -90 0 1 "+String(n/2+h)+" "+String(-4);i.setAttribute("d",u),i.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),r.appendChild(i),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",String(n/2+h)),e.setAttribute("y1",-3.5),e.setAttribute("x2",String(n/2-h)),e.setAttribute("y2",3.5),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",String(n/2-h)),e.setAttribute("y1",-3.5),e.setAttribute("x2",String(n/2+h)),e.setAttribute("y2",3.5),e.setAttribute("style","stroke: black; stroke-width:0.5;"),r.appendChild(e);const l=document.createElementNS(s.WW,"circle");l.setAttribute("cx",String(n/2)),l.setAttribute("cy",0),l.setAttribute("r",5),l.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1"),r.appendChild(l),t=document.createElementNS(s.WW,"rect"),t.setAttribute("x",String(8+o/8-5)),t.setAttribute("y",String(-7)),t.setAttribute("width",7),t.setAttribute("height",3),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),r.appendChild(t),t=document.createElementNS(s.WW,"rect"),t.setAttribute("x",String(n-8-o/8-4)),t.setAttribute("y",String(-7)),t.setAttribute("width",7),t.setAttribute("height",3),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1"),r.appendChild(t),this.g=r},o.prototype.setPosition=function(t,e,i){this.x=t,this.y=e,this.angle=i,this.g.setAttribute("transform","translate("+t+","+e+") rotate("+i+")")}},59799:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t){n.Z.call(this,t),this.angle=this.angleInit(),this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),t.svg.appendChild(this.g)}o.prototype=new n.Z,o.prototype.angleInit=function(){return-40},o.prototype.creeg=function(){let t,e,i,n,r;const o=document.createElementNS(s.WW,"g");t=document.createElementNS(s.WW,"defs"),n=document.createElementNS(s.WW,"linearGradient"),n.setAttribute("id","gradpointe"),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","0%"),r.setAttribute("style","stop-color: #f00000;"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","50%"),r.setAttribute("style","stop-color: #eeb444;"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","100%"),r.setAttribute("style","stop-color: #f00000"),n.appendChild(r),n.setAttribute("x1","0%"),n.setAttribute("y1","0%"),n.setAttribute("x2","0%"),n.setAttribute("y2","100%"),t.appendChild(n),o.appendChild(t),t=document.createElementNS(s.WW,"defs"),n=document.createElementNS(s.WW,"linearGradient"),n.setAttribute("id","gradcorps"),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","0%"),r.setAttribute("style","stop-color: #810216;"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","25%"),r.setAttribute("style","stop-color: #c64f00;"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","50%"),r.setAttribute("style","stop-color: #ab4a36"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","75%"),r.setAttribute("style","stop-color: #c64f00;"),n.appendChild(r),r=document.createElementNS(s.WW,"stop"),r.setAttribute("offset","100%"),r.setAttribute("style","stop-colr: #810216;"),n.appendChild(r),n.setAttribute("x1","0%"),n.setAttribute("y1","0%"),n.setAttribute("x2","0%"),n.setAttribute("y2","100%"),t.appendChild(n),o.appendChild(t),e=document.createElementNS(s.WW,"path");const a="A1.5 1.125 -90 0 0 15 "+String(1.5)+"A1.5 1.125 -90 0 1 15 "+String(-1.5)+"A1.5 1.125 -90 0 0 15 "+String(-4.5);i="M 0 0 L15 4.5"+a+"Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradpointe); fill-opacity: 1;"),o.appendChild(e),e=document.createElementNS(s.WW,"path"),i="M 0 0 L 3 0.9 3 "+String(-.9)+"Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black; stroke-width:0.5; fill: black; fill-opacity: 1;"),o.appendChild(e),e=document.createElementNS(s.WW,"path"),i="M 15 4.5"+a+" L 97 "+String(-4.5)+" L 97 "+String(4.5)+"Z",e.setAttribute("d",i),e.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradcorps); fill-opacity: 1;"),o.appendChild(e);const c=document.createElementNS(s.WW,"circle");c.setAttribute("r",4.5),c.setAttribute("cx",97),c.setAttribute("cy",0),c.setAttribute("style","stroke:blue; stroke-width:0.5; fill: blue; fill-opacity: 1;"),o.appendChild(c),this.g=o}},42831:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t){n.Z.call(this,t),this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),t.svg.appendChild(this.g)}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e;const i=document.createElementNS(s.WW,"g");t=document.createElementNS(s.WW,"path"),e="M 0 0 L 131 0 L 0 "+String(-223)+" Z";const n="M 24 "+String(-31)+" L 24 "+String(-134.83969465648855)+" L "+String(85)+" "+String(-31)+" Z";e+=n,t.setAttribute("d",e),t.setAttribute("style","stroke:black;stroke-width:0.75; fill: #c6cbe8; fill-opacity: 0.5"),i.appendChild(t),t=document.createElementNS(s.WW,"path"),e="M 16 "+String(-16)+" L 121.60089686098655 "+String(-16)+" L 16 -195.76335877862596 Z",e+=n,t.setAttribute("d",e),t.setAttribute("style","stroke-width:0; fill: #c6cbe8; fill-opacity: 0.5"),i.appendChild(t);const r=document.createElementNS(s.WW,"text");r.setAttribute("pointer-events","none"),r.appendChild(document.createTextNode("Sésamath")),r.setAttribute("x",24),r.setAttribute("y",-13),r.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon"),i.appendChild(r),this.g=i}},19512:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(58498),n=i(12535);const r=o;function o(t){this.doc=t,this.x=200,this.y=400,this.angle=0,this.zoomfactor=1,this.visible=!1}o.prototype.montre=function(t){this.visible=t,this.g.setAttribute("visibility",t?"visible":"hidden")},o.prototype.updateg=function(){this.initialisePosition(),this.doc.svg.removeChild(this.g),this.doc.svg.appendChild(this.g)},o.prototype.translate=function(t,e){this.setPosition(t,e,this.angle,this.zoomfactor)},o.prototype.angleInit=function(){return 0},o.prototype.setPosition=function(t,e,i,s){let n;this.x=t,this.y=e,this.angle=i,arguments.length>=4?(n=s,this.zoomfactor=n):n=this.zoomfactor,this.g.setAttribute("transform","scale("+n+") translate("+String(t/n)+","+String(e/n)+") rotate("+i+")")},o.prototype.initialisePosition=function(){this.setPosition(200,400,this.angleInit(),1)},o.prototype.lanceAnimationTranslation=function(t,e,i){this.xfin=t,this.yfin=e,this.pix=Math.abs(i/2);const s=new n.Z(this.x,this.y,t,e);if(this.dist=s.norme(),0===this.dist)return void this.doc.actionSuivante();this.vect=s.vecteurColineaire(this.pix);const r=this;this.timer=setInterval((function(){r.actionPourTranslation()}),25)},o.prototype.actionPourTranslation=function(){const t=this.x+this.vect.x,e=this.y+this.vect.y,i=new n.Z(t,e,this.xfin,this.yfin).norme();i>this.dist||!this.doc.animationEnCours?(this.setPosition(this.xfin,this.yfin,this.angle),this===this.doc.compas&&null!=this.doc.compasLeve&&this.doc.compasLeve.visible&&this.doc.compasLeve.setPosition(this.xfin,this.yfin,this.angle),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=i,this.setPosition(t,e,this.angle),this===this.doc.compas&&null!=this.doc.compasLeve&&this.doc.compasLeve.visible&&this.doc.compasLeve.setPosition(t,e,this.angle))},o.prototype.lanceAnimationRotation=function(t,e){const i=s.vf(this.angle);let n=s.vf(t);Math.abs(n-i)>180&&(n>i?n-=360:n+=360),this.anglefin=n,this.angle=i,this.pasdeg=e/3,this.pasdeg*=n>=i?1:-1,this.distang=Math.abs(n-this.angle);const r=this;this.timer=setInterval((function(){r.actionPourRotation()}),25)},o.prototype.actionPourRotation=function(){const t=parseFloat(this.angle)+parseFloat(this.pasdeg),e=Math.abs(t-this.anglefin);e>this.distang||!this.doc.animationEnCours?(this.setPosition(this.x,this.y,this.anglefin),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=e,this.setPosition(this.x,this.y,t))},o.prototype.lanceAnimationZoom=function(t,e){this.zoomfin=t,this.vitesse=parseInt(e),this.pas=.05*this.vitesse*(this.zoomfin-this.zoomfactor),this.senspos=this.pas>=0;const i=this;this.timer=setInterval((function(){i.actionPourZoom()}),100)},o.prototype.actionPourZoom=function(){const t=this.zoomfactor+this.pas;this.doc.animationEnCours&&(this.senspos&&t<this.zoomfin||!this.senspos&&t>this.zoomfin)?this.setPosition(this.x,this.y,this.angle,t):(this.zoomfactor=this.zoomfin,this.positionne(),clearInterval(this.timer),this.doc.actionSuivante())},o.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)}},90051:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t){n.Z.call(this,t),this.graduationExterneVisible=!0,this.graduationInterneVisible=!0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),t.svg.appendChild(this.g)}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e,i,n,r;const o=String(156),a=String(89),c=document.createElementNS(s.WW,"g");for(e=document.createElementNS(s.WW,"path"),t="M "+o+" 0 A "+o+" "+o+" 0 0 0 -"+o+" 0 L -"+o+" 13 L "+o+" 13 L "+o+" 0",t+="M 0 0 L -"+a+" 0 A "+a+" "+a+" 0 0 1 "+a+" 0 Z",e.setAttribute("d",t),e.setAttribute("style","stroke:#999999;stroke-width:1; fill: #c6cbe8; fill-opacity: 0.5"),c.appendChild(e),e=document.createElementNS(s.WW,"path"),t="M 7 0 A 7 7 0 0 0 -7 0 M 0 0 L 0 -7",e.setAttribute("d",t),e.setAttribute("style","stroke: #666666;stroke-width:1; fill: none"),c.appendChild(e),n=0;n<=180;n++)i=document.createElementNS(s.WW,"line"),i.setAttribute("x1",o),i.setAttribute("y1",0),i.setAttribute("x2",n%10==0?136:n%5==0?146:151),i.setAttribute("y2",0),i.setAttribute("transform","rotate(-"+n+")"),i.setAttribute("style","stroke: #333333;stroke-width:0.7;"),c.appendChild(i);for(this.gradext=document.createElementNS(s.WW,"g"),n=0;n<=180;n++)n%10==0&&(r=document.createElementNS(s.WW,"text"),r.setAttribute("pointer-events","none"),r.appendChild(document.createTextNode(n)),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("style","font-family: arial;font-size: 10px;text-anchor: middle; fill: black"),r.setAttribute("transform"," scale(-1) rotate("+String(-n-90)+") translate(0,"+String(-124)+")"),this.gradext.appendChild(r));for(c.appendChild(this.gradext),e=document.createElementNS(s.WW,"path"),t="M "+String(120)+" 0 L 116 0 A 116 116 0 0 0 -116 0 L "+String(-120)+" 0",e.setAttribute("d",t),e.setAttribute("style","stroke: #666666;stroke-width:1; fill: none"),c.appendChild(e),n=0;n<=18;n++)i=document.createElementNS(s.WW,"line"),i.setAttribute("x1",89),i.setAttribute("y1",0),i.setAttribute("x2",99),i.setAttribute("y2",0),i.setAttribute("transform","rotate(-"+String(10*n)+")"),i.setAttribute("style","stroke: #333333;stroke-width:0.7;"),c.appendChild(i);for(this.gradint=document.createElementNS(s.WW,"g"),n=0;n<=18;n++)r=document.createElementNS(s.WW,"text"),r.setAttribute("pointer-events","none"),r.appendChild(document.createTextNode(180-10*n)),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("style","font-family: arial;font-size: 9px;text-anchor: middle; fill: black"),r.setAttribute("transform","scale(-1) rotate("+String(-10*n-90)+") translate(0,"+String(-103)+")"),this.gradint.appendChild(r);c.appendChild(this.gradint);const h=document.createElementNS(s.WW,"circle");h.setAttribute("cx",0),h.setAttribute("cy",0),h.setAttribute("r",2),h.setAttribute("style","stroke: black; stroke-width: 1;fill: none"),c.appendChild(h),r=document.createElementNS(s.WW,"text"),r.setAttribute("pointer-events","none"),r.appendChild(document.createTextNode("Sésamath")),r.setAttribute("x",0),r.setAttribute("y",11),r.setAttribute("style","font-family: sans-serif;font-size: 7pt;font-weight:bold;text-anchor: middle; fill: maroon"),c.appendChild(r),this.g=c},o.prototype.montreGraduations=function(t){this.graduationInterneVisible=!0,this.visible&&this.gradint.setAttribute("visibility",t?"visible":"hidden")},o.prototype.montreGraduationsExternes=function(t){this.graduationExterneVisible=!0,this.visible&&this.gradext.setAttribute("visibility",t?"visible":"hidden")},o.prototype.montre=function(t){n.Z.prototype.montre.call(this,t),t?(this.gradint.setAttribute("visibility",this.graduationInterneVisible?"visible":"hidden"),this.gradext.setAttribute("visibility",this.graduationExterneVisible?"visible":"hidden")):(this.gradint.setAttribute("visibility","hidden"),this.gradext.setAttribute("visibility","hidden"))}},89555:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(19512);const r=o;function o(t){n.Z.call(this,t),this.x=100,this.y=400,this.angle=0,this.longueur=15,this.graduationVisible=!0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),t.svg.appendChild(this.g)}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e;const i=30*this.longueur+15,n=String(57),r=String(6),o=document.createElementNS(s.WW,"g"),a=document.createElementNS(s.WW,"rect");a.setAttribute("x",-r-1),a.setAttribute("y",0),a.setAttribute("width",String(i+6+1)),a.setAttribute("height",n),a.setAttribute("rx",r),a.setAttribute("ry",r),a.setAttribute("style","stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5;"),o.appendChild(a);const c=document.createElementNS(s.WW,"line");c.setAttribute("x1",-r),c.setAttribute("y1",27),c.setAttribute("x2",i),c.setAttribute("y2",27),c.setAttribute("style","stroke:#999999;stroke-width:2;"),o.appendChild(c),this.graduations=document.createElementNS(s.WW,"g");for(let i=0;i<=10*this.longueur;i++){t=document.createElementNS(s.WW,"line");const n=3*i;t.setAttribute("x1",n),t.setAttribute("y1",0),t.setAttribute("x2",n),t.setAttribute("y2",i%10==0?12:i%5==0?9:6),i%10==0&&(e=document.createElementNS(s.WW,"text"),e.setAttribute("pointer-events","none"),e.appendChild(document.createTextNode(String(i/10))),e.setAttribute("x",n),e.setAttribute("y",21),e.setAttribute("style","font-family: monospace;font-size: 9pt;text-anchor:middle"),this.graduations.appendChild(e)),t.setAttribute("style","stroke:black;stroke-width:0.7;"),this.graduations.appendChild(t)}e=document.createElementNS(s.WW,"text"),e.setAttribute("pointer-events","none"),e.appendChild(document.createTextNode("Sésamath")),e.setAttribute("x",i/2-6-3),e.setAttribute("y",n-5),e.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon;text-anchor:middle;"),o.appendChild(e),o.appendChild(this.graduations),this.g=o},o.prototype.montreGraduations=function(t){this.graduationVisible=t,this.graduations.setAttribute("visibility",this.visible&&t?"visible":"hidden")},o.prototype.montre=function(t){n.Z.prototype.montre.call(this,t),t?this.graduations.setAttribute("visibility",this.graduationVisible?"visble":"hidden"):this.graduations.setAttribute("visibility","hidden")},o.prototype.initialisePosition=function(){if(15!==this.longueur){this.longueur=15;const t=this.visible,e=this.g;this.creeg(),this.g.setAttribute("visibility",t?"visible":"hidden"),this.doc.svg.replaceChild(this.g,e)}n.Z.prototype.initialisePosition.call(this)}},79896:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(19512),r=i(42831);const o=a;function a(t){n.Z.call(this,t),this.x=200,this.y=400,this.angle=0,this.zoomfactor=1,this.abscisse=0,this.creeg(),this.g.setAttribute("visibility","hidden"),this.setPosition(this.x,this.y,this.angle),t.svg.appendChild(this.g)}a.prototype=new n.Z,a.prototype.creeg=function(){let t,e;const i=172,n="stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5",o=document.createElementNS(s.WW,"g");t=document.createElementNS(s.WW,"path"),e="M 0 0 L "+String(167)+" 0 A 5 5 0 0 1 "+String(i)+" 5 L "+String(i)+" "+String(52)+" A 5 5 90 0 1 "+String(167)+" "+String(57)+" L "+String(-251)+" 57 A 5 5 180 0 1 -256 "+String(52)+" L "+String(-256)+" 5 A 5 5 -90 0 1 "+String(-251)+" 0Z";const a="M"+String(158)+" 42A 6 6 180 0 0 "+String(146)+" "+String(42)+"A 6 6 180 0 0 "+String(158)+" "+String(42);e+=a,t.setAttribute("d",e),t.setAttribute("style",n),o.appendChild(t),t=document.createElementNS(s.WW,"path"),e="M"+String(i)+" "+String(16)+"L"+String(i)+" "+String(52)+" A 5 5 90 0 1 "+String(167)+" "+String(57)+" L "+String(-251)+" 57 A 5 5 180 0 1 -256 "+String(52)+" L "+String(-256)+" "+String(16)+"Z"+a,t.setAttribute("d",e),t.setAttribute("style",n),o.appendChild(t);const c=document.createElementNS(s.WW,"line");c.setAttribute("x1",0),c.setAttribute("y1",8),c.setAttribute("x2",0),c.setAttribute("y2",0),c.setAttribute("style","stroke: black"),o.appendChild(c);const h={};r.Z.prototype.creeg.call(h),this.gequerre=h.g,this.gequerre.setAttribute("transform","scale(0.7)"),o.appendChild(this.gequerre),this.setAbs(this.abscisse),this.g=o},a.prototype.setAbs=function(t){this.abscisse=t,this.gequerre.setAttribute("transform","translate("+t+",0)")},a.prototype.lanceAnimationGlissement=function(t,e){this.absfin=t,this.pix=t>=this.abscisse?e/4:-e/4,this.dist=Math.abs(t-this.abscisse);const i=this;this.timer=setInterval((function(){i.actionPourGlissement()}),25)},a.prototype.actionPourGlissement=function(){const t=this.abscisse+this.pix,e=Math.abs(this.absfin-t);e>this.dist||!this.doc.animationEnCours?(this.setAbs(this.absfin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=e,this.setAbs(t))}},21890:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const s={tex:{inlineMath:[["$","$"],["\\(","\\)"]],packages:{"[+]":["color"]}},svg:{mtextInheritFont:!0},options:{ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"},loader:{load:["[tex]/noerrors","[tex]/color"]}};let n;function r(){return n||(n=new Promise(((t,e)=>{if("object"==typeof MathJax&&/^3\./.test(MathJax.version))return MathJax.config=s,t();window.MathJax=s,MathJax.startup={ready:()=>{clearTimeout(r),MathJax.startup.defaultReady(),MathJax.startup.promise.then((()=>{t()}))}};const i=document.createElement("script");i.type="text/javascript",i.crossOrigin="anonymous";const n=window.mathJax3BaseUrl?`${window.mathJax3BaseUrl}es5/tex-svg.js`:"https://www.mathgraph32.org/js/MathJax3/es5/tex-svg.js";i.src=n,document.getElementsByTagName("head")[0].appendChild(i);const r=setTimeout((()=>{e(Error(`Mathjax non chargé après 10s d’attente (${n})`))}),1e4)})),n)}},47619:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(58498),n=i(17811),r=i(42892),o=i(12535);const a=c;function c(t,e,i,s,n,o,a,c,h,u,l){this.x=parseFloat(i),this.y=parseFloat(s),this.ray=parseFloat(n),this.ang1=parseFloat(o),this.ang2=parseFloat(a),this.motif=null==l?"simple":l,r.Z.call(this,t,e,c,h,1),this.opaciteRemplissage=null==u?.7:parseFloat(u)/100,this.objet="angle"}c.prototype=new r.Z,c.prototype.creeg=function(){let t,e,i,r,a,c,h,u,l,d;const p=this.motif,b=this.ray,g=this.ang1,f=this.ang2,m=f-g,y=(0,s.vf)(m);t=(0,s.mN)(Math.abs(m)-180)?this.ang1<=this.ang2:y>0;const A=new o.Z(this.x,this.y,this.x+Math.cos(g*n.wf),this.y+Math.sin(g*n.wf)).vecteurColineaire(b),x=new o.Z(this.x,this.y,this.x+Math.cos(f*n.wf),this.y+Math.sin(f*n.wf)).vecteurColineaire(b);let v=this.x+A.x,w=this.y+A.y,S=this.x+x.x,E=this.y+x.y;const W=document.createElementNS(n.WW,"g");let C=document.createElementNS(n.WW,"path");const N=-1!==p.indexOf("plein")?this.couleur:"none";e="none"!==N?"M"+this.x+" "+this.y+"L"+v+" "+w+"A"+b+" "+b+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+S+" "+E+" Z":"M"+v+" "+w+"A"+b+" "+b+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+S+" "+E,C.setAttribute("d",e);const Z="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";",k=Z+"fill:"+N+";fill-opacity:"+this.opaciteRemplissage+";";C.setAttribute("style",k),W.appendChild(C);const M=-1!==p.indexOf("O"),P=A.tourne(y/2),F=this.x+P.x,O=this.y+P.y;if(M){const t=document.createElementNS(n.WW,"circle");t.setAttribute("r",5),t.setAttribute("cx",F),t.setAttribute("cy",O),t.setAttribute("style",Z+"fill:none;"),W.appendChild(t)}const I=-1!==p.indexOf("triple")?2:-1!==p.indexOf("double")?1:0;for(let i=1;i<=I;i++){C=document.createElementNS(n.WW,"path");const s=b-5*i,r=A.vecteurColineaire(s),o=x.vecteurColineaire(s);v=this.x+r.x,w=this.y+r.y,S=this.x+o.x,E=this.y+o.y,e="M"+v+" "+w+"A"+s+" "+s+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+S+" "+E,C.setAttribute("d",e),C.setAttribute("style",Z+"fill:none;"),W.appendChild(C)}const j=-1!==p.indexOf("///")?3:-1!==p.indexOf("//")?2:-1!==p.indexOf("/")?1:0;if(0===j)return void(this.g=W);const L=I+1,R=P.vecteurColineaire(1);switch(j){case 1:h=this.x+R.x*b,u=this.y+R.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",h-5*R.x*L),i.setAttribute("y1",u-5*R.y*L),i.setAttribute("x2",h+5*R.x),i.setAttribute("y2",u+5*R.y),i.setAttribute("style",k),W.appendChild(i);break;case 2:l=y/6,d=6,Math.abs(l)>=Math.abs(d)&&(l=d),r=R.tourne(l),a=this.x+r.x*b,c=this.y+r.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",a-5*R.x*L),i.setAttribute("y1",c-5*R.y*L),i.setAttribute("x2",a+5*R.x),i.setAttribute("y2",c+5*R.y),i.setAttribute("style",k),W.appendChild(i),r=R.tourne(-l),a=this.x+r.x*b,c=this.y+r.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",a-5*R.x*L),i.setAttribute("y1",c-5*R.y*L),i.setAttribute("x2",a+5*R.x),i.setAttribute("y2",c+5*R.y),i.setAttribute("style",k),W.appendChild(i);break;case 3:h=this.x+R.x*b,u=this.y+R.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",h-5*R.x*L),i.setAttribute("y1",u-5*R.y*L),i.setAttribute("x2",h+5*R.x),i.setAttribute("y2",u+5*R.y),i.setAttribute("style",k),W.appendChild(i),l=y/4,d=9,Math.abs(l)>=Math.abs(d)&&(l=d),r=R.tourne(l),a=this.x+r.x*b,c=this.y+r.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",a-5*R.x*L),i.setAttribute("y1",c-5*R.y*L),i.setAttribute("x2",a+5*R.x),i.setAttribute("y2",c+5*R.y),i.setAttribute("style",k),W.appendChild(i),r=R.tourne(-l),a=this.x+r.x*b,c=this.y+r.y*b,i=document.createElementNS(n.WW,"line"),i.setAttribute("x1",a-5*R.x*L),i.setAttribute("y1",c-5*R.y*L),i.setAttribute("x2",a+5*R.x),i.setAttribute("y2",c+5*R.y),i.setAttribute("style",k),W.appendChild(i)}this.g=W}},81127:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(42892),r=i(12535);const o=a;function a(t,e,i,s,r,o,a,c){this.xsommet=parseFloat(i),this.ysommet=parseFloat(s),this.xinter=parseFloat(r),this.yinter=parseFloat(o),n.Z.call(this,t,e,a,c,100),this.objet="angle_droit"}a.prototype=new n.Z,a.prototype.creeg=function(){let t=new r.Z(this.xsommet,this.ysommet,this.xinter,this.yinter);const e=t.norme();t=t.vecteurColineaire(e/Math.sqrt(2)),t=t.tourne(45);const i=t.tourne(-90),n=document.createElementNS(s.WW,"polyline"),o=String(this.xsommet+t.x)+" "+String(this.ysommet+t.y)+" "+this.xsommet+" "+this.ysommet+" "+String(this.xsommet+i.x)+" "+String(this.ysommet+i.y);n.setAttribute("points",o),n.setAttribute("style",this.style+"fill:none;"),this.g=n}},59261:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(17811),n=i(42892),r=i(55261),o=i(12535);const a=c;function c(t,e,i,s,r,o,a,c,h,u,l){this.x=parseFloat(i),this.y=parseFloat(s),this.ray=parseFloat(r),this.debut=parseFloat(o),this.fin=parseFloat(a),n.Z.call(this,t,e,c,h,u,l)}c.prototype=new n.Z,c.prototype.creeg=function(){const t=this.debut,e=this.fin,i=this.ray,n=t<e?"1":"0",r=Math.abs(e-t),a=document.createElementNS(s.WW,"g");if(r>=359.9){const t=document.createElementNS(s.WW,"circle");t.setAttribute("r",i),t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("style",this.style+";fill:none;"),a.appendChild(t)}else{const c=document.createElementNS(s.WW,"path"),h=new o.Z(Math.cos(t*s.wf)*i,Math.sin(t*s.wf)*i),u=new o.Z(Math.cos(e*s.wf)*i,Math.sin(e*s.wf)*i),l="M"+h.x+" "+h.y+"A"+i+" "+i+" "+t+" "+(r>180?"1":"0")+" "+n+" "+u.x+" "+u.y;c.setAttribute("d",l),c.setAttribute("style",this.style+";fill:none"),a.appendChild(c)}a.setAttribute("transform","translate("+this.x+","+this.y+")"),a.setAttribute("visibility","hidden"),this.g=a},c.prototype.creationAnimee=function(){return!0},c.prototype.lanceAnimation=function(t){const e=this.doc.compas;null==this.doc.compasLeve&&(this.doc.compasLeve=new r.Z(this.doc,e.x,e.y,e.angle,e.ecart));const i=this.doc.compasLeve;this.ray=this.doc.compas.ecart,this.angfin=this.fin,this.pasdeg=t/2,this.pasdeg*=this.fin>=this.debut?1:-1,this.distang=Math.abs(this.fin-this.debut),this.fin=this.debut,e.setPosition(this.x,this.y,this.debut),i.setPosition(this.x,this.y,this.debut);const s=this;this.timer=setInterval((function(){s.actionPourAnimation()}),25)},c.prototype.actionPourAnimation=function(){const t=this.doc.compas,e=this.doc.compasLeve;this.fin+=this.pasdeg;const i=Math.abs(this.angfin-this.fin);i>this.distang||!this.doc.animationEnCours?(this.fin=this.angfin,this.updateg(),this.finAction(),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=i,this.updateg(),t.setPosition(this.x,this.y,this.fin),null!==e&&e.setPosition(this.x,this.y,this.fin))},c.prototype.finAction=function(){this.doc.compas.setPosition(this.x,this.y,this.fin),null!==this.doc.compasLeve&&this.doc.compasLeve.setPosition(this.x,this.y,this.fin)}},58127:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(58498),n=i(17811),r=i(69636);const o=a;function a(t,e,i,s,n,o,a,c,h,u){r.Z.call(this,t,"axeIEP",u),this.pente=null==e?"horizontal":e,this.largeur=i,this.haut=null==s?0:parseFloat(s),this.gauche=null==n?0:parseFloat(n),this.distanceBord=parseFloat(o),this.xgrad=a,this.xmin=c,this.xmax=h,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.width=30*i,this.cadre.droite=this.gauche+this.width,this.cadre.bas=this.haut+this.width}a.prototype=new r.Z,a.prototype.creeg=function(){let t,e,i,r;this.g=document.createElementNS(n.WW,"g");const o="stroke:black;stroke-width:1;";"horizontal"===this.pente&&this.xmax-this.xmin>this.xgrad?(e=Math.floor((this.xmax-this.xmin)/this.xgrad),i=30*this.distanceBord,r=s.EO(this.xmin,this.xmax,this.xgrad),this.tracer_abscisses(r,this.xgrad,e,i),t=document.createElementNS(n.WW,"line"),t.setAttribute("style",o),t.setAttribute("x1",this.cadre.gauche),t.setAttribute("y1",i),t.setAttribute("x2",this.cadre.droite),t.setAttribute("y2",i),this.g.appendChild(t)):this.xmax-this.xmin>this.xgrad&&(e=Math.floor((this.xmax-this.xmin)/this.xgrad),i=30*Number(this.distanceBord),r=s.EO(this.xmin,this.xmax,this.xgrad),this.tracer_ordonnees(r,this.xgrad,e,i),t=document.createElementNS(n.WW,"line"),t.setAttribute("style",o),t.setAttribute("x1",i),t.setAttribute("y1",this.cadre.bas),t.setAttribute("x2",i),t.setAttribute("y2",this.cadre.haut),this.g.appendChild(t))},a.prototype.tracer_abscisses=function(t,e,i,s){let r,o,a,c;const h="stroke:black;stroke-width:1.5;";for(r=document.createElementNS(n.WW,"line"),r.setAttribute("style",h),r.setAttribute("x1",this.cadre.gauche),r.setAttribute("y1",s),r.setAttribute("x2",this.cadre.droite),r.setAttribute("y2",s),this.g.appendChild(r),c=0;c<=i;c++){r=document.createElementNS(n.WW,"line"),r.setAttribute("style",h),a=this.mettre_x_en_pixels(t+c*e),r.setAttribute("x1",a),r.setAttribute("y1",String(s-5)),r.setAttribute("x2",a),r.setAttribute("y2",String(s+5)),this.g.appendChild(r),o=document.createElementNS(n.WW,"text"),o.setAttribute("x",a),o.setAttribute("y",s+12+5);const i="text-anchor:left;font-size:12px;fill:"+this.couleur+";";o.setAttribute("style",i),o.appendChild(document.createTextNode(String(t+c*e))),this.g.appendChild(o)}},a.prototype.tracer_ordonnees=function(t,e,i,s){let r,o,a;const c="stroke:black;stroke-width:1.5;";for(r=document.createElementNS(n.WW,"line"),r.setAttribute("style",c),r.setAttribute("x1",s),r.setAttribute("y1",this.cadre.haut),r.setAttribute("x2",s),r.setAttribute("y2",this.cadre.bas),this.g.appendChild(r),a=0;a<=i;a++){r=document.createElementNS(n.WW,"line"),r.setAttribute("style",c);const i=this.mettre_y_en_pixels(t+a*e);r.setAttribute("x1",String(s-5)),r.setAttribute("y1",i),r.setAttribute("x2",String(s+5)),r.setAttribute("y2",i),this.g.appendChild(r),o=document.createElementNS(n.WW,"text"),o.setAttribute("x",s+10),o.setAttribute("y",i+2);const h="text-anchor:left;font-size:12px;fill:"+this.couleur+";";o.setAttribute("style",h),o.appendChild(document.createTextNode(String(t+a*e))),this.g.appendChild(o)}},a.prototype.mettre_x_en_pixels=function(t){return s.ik(t,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)},a.prototype.mettre_y_en_pixels=function(t){return s.ik(t,this.xmax,this.xmin,this.cadre.haut,this.cadre.bas)}},9852:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(58498),n=i(90267),r=i(12535);const o=a;function a(t,e,i,s,r,o,a,c,h,u){n.Z.call(this,t,e,i,s,r,o,a,c,h,u)}a.prototype=new n.Z,a.prototype.calcule=function(){n.Z.prototype.calcule.call(this);const t=new r.Z(this.x1,this.y1,this.x2,this.y2);if(this.horsFenetre)return;const e=new r.Z(this.x1,this.y1,this.xext1,this.yext1);if(e.presqueNul()){const e=new r.Z(this.x1,this.y1,this.xext2,this.yext2);s.T_(e,t)?(this.xext1=this.x1,this.yext1=this.y1):(this.xext2=this.xext1,this.yext2=this.yext1,this.xext1=this.x1,this.yext1=this.y1)}else s.T_(e,t)?(this.xext2=this.xext1,this.yext2=this.yext1,this.xext1=this.x1,this.yext1=this.y1):(this.xext1=this.x1,this.yext1=this.y1)}},90267:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(44575);const r=o;function o(t,e,i,s,r,o,a,c,h,u){n.Z.call(this,t,e,i,s,r,o,a,c,h,u)}o.prototype=new n.Z,o.prototype.creeg=function(){if(this.calcule(),this.horsFenetre)this.g=document.createElementNS(s.WW,"g");else{const t=document.createElementNS(s.WW,"line");t.setAttribute("x1",this.xext1),t.setAttribute("y1",this.yext1),t.setAttribute("x2",this.xext2),t.setAttribute("y2",this.yext2),t.setAttribute("style",this.style),this.g=t}this.g.setAttribute("visibility","hidden")},o.prototype.calcule=function(){const{x1:t,y1:e,x2:i,y2:s}=this;if(t===i&&e===s)return void(this.horsFenetre=!0);this.horsFenetre=!1;const n=this.doc.getWidth(),r=this.doc.getHeight();if(t===i)return this.xext1=t,this.yext1=0,this.xext2=t,this.yext2=r,t<0||t>n?void(this.horsFenetre=!0):(this.xext1=t,this.yext1=0,this.xext2=t,void(this.yext2=r));if(e===s)return this.xext1=0,this.yext1=e,this.xext2=n,this.yext2=e,e<0||e>r?void(this.horsFenetre=!0):(this.xext1=0,this.yext1=e,this.xext2=n,void(this.yext2=e));let o=0;const a=(s-e)/(i-t),c=this.y1+a*(0-t);c>=0&&c<=r&&(o++,this.xext1=0,this.yext1=c);const h=n,u=a*(h-t)+e;if(u>=0&&u<=r){if(o++,1!==o)return this.xext2=h,void(this.yext2=u);this.xext1=h,this.yext1=u}const l=(0-e)/a+t;if(l>0&&l<n){if(o++,1!==o)return this.xext2=l,void(this.yext2=0);this.xext1=l,this.yext1=0}const d=r,p=(d-e)/a+t;p>0&&p<=n?(o++,2===o?(this.xext2=p,this.yext2=d):this.horsFenetre=!0):this.horsFenetre=!0,this.horsFenetre&&(this.xext1=0,this.yext1=c,this.xext2=h,this.yext2=u)}},44575:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(58498),n=i(17811),r=i(42892),o=i(12535);const a=c;function c(t,e,i,s,n,o,a,c,h,u){this.x1=parseFloat(i),this.y1=parseFloat(s),this.x2=parseFloat(n),this.y2=parseFloat(o),r.Z.call(this,t,e,a,c,h,u)}c.prototype=new r.Z,c.prototype.creeg=function(){const t=document.createElementNS(n.WW,"g"),e=document.createElementNS(n.WW,"line");e.setAttribute("x1",this.x1),e.setAttribute("y1",this.y1),e.setAttribute("x2",this.x2),e.setAttribute("y2",this.y2),e.setAttribute("style",this.style),t.appendChild(e),t.setAttribute("visibility","hidden"),this.g=t},c.prototype.creationAnimee=function(){return!0},c.prototype.lanceAnimation=function(t){this.vitesse=t/4;const e=new o.Z(this.x1,this.y1,this.x2,this.y2);if(this.dist=e.norme(),(0,s.bM)(this.dist))return void this.doc.actionSuivante();this.vect=e.vecteurColineaire(1.8*this.vitesse),this.xfin=this.x2,this.yfin=this.y2,this.x2=this.x1,this.y2=this.y1;const i=this.doc.crayon;i.setPosition(this.x1,this.y1,i.angle);const n=this;this.timer=setInterval((function(){n.actionPourAnimation(n)}),25)},c.prototype.actionPourAnimation=function(){this.x2+=this.vect.x,this.y2+=this.vect.y;const t=new o.Z(this.x1,this.y1,this.x2,this.y2).norme(),e=this.doc.crayon;t>this.dist||!this.doc.animationEnCours?(this.x2=this.xfin,this.y2=this.yfin,this.finAction(),this.updateg(),clearInterval(this.timer),this.doc.actionSuivante()):(e.translate(this.x2,this.y2),this.updateg())},c.prototype.finAction=function(){this.doc.crayon.translate(this.x2,this.y2)}},55265:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(42892),r=i(12535);const o=a;function a(t,e,i,s,r,o,a,c,h,u){n.Z.call(this,t,e,a,c,u,"continu"),this.x=parseFloat(i),this.y=parseFloat(s),this.ray=null===r?10:parseFloat(r),this.ecartAngle=parseFloat(o),this.couleur=a,this.couleurFond=null===h?a:h,this.angle=0,this.objet="gabarit"}a.prototype=new n.Z,a.prototype.creationAnimee=function(){return!1},a.prototype.creeg=function(){const t=this.ecartAngle,e=this.ray,i=t>=0?"1":"0",n=Math.abs(t),o=document.createElementNS(s.WW,"g"),a=document.createElementNS(s.WW,"path"),c=new r.Z(Math.cos(t*s.wf)*e,Math.sin(t*s.wf)*e),h="M 0 0 L "+e+" 0 A "+e+" "+e+" 0 "+(n>180?"1":"0")+" "+i+" "+c.x+" "+c.y+" Z";a.setAttribute("d",h);const u=parseFloat(this.opacite/100),l="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";fill:"+this.couleurFond+";fill-opacity:"+u+";";a.setAttribute("style",l),o.appendChild(a),o.setAttribute("transform","translate("+this.x+","+this.y+") rotate("+this.angle+")"),o.setAttribute("visibility","hidden"),this.g=o},a.prototype.donneRayon=function(t){this.ray=t,this.updateg(),this.setPosition(this.x,this.y,this.angle)},a.prototype.setPosition=function(t,e,i){this.x=t,this.y=e,this.angle=i,this.g.setAttribute("transform","translate("+t+","+e+") rotate("+i+")")},a.prototype.lanceAnimationModificationRayon=function(t,e){this.rayFin=t,this.rayInit=this.ray;const i=t-this.ray;if(this.dist=Math.abs(i),this.dray=Math.sign(i)*Math.abs(e/4),0===this.dist)return;const s=this;this.timer=setInterval((function(){s.actionPourModificationRayon()}),25)},a.prototype.actionPourModificationRayon=function(){const t=this.ray+this.dray,e=Math.abs(t-this.rayInit);e>this.dist||!this.doc.animationEnCours?(this.donneRayon(this.rayFin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=e,this.donneRayon(t))}},16879:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(69636),r=i(87078);const o=a;function a(t,e,i){this.doc=t,this.id=e,this.url=i,this.x=0,this.y=0,this.angle=0,this.objet="image",this.zoomfactor=1}a.prototype=new n.Z,a.prototype.initialisePosition=function(){this.x=0,this.y=0,this.angle=0,this.zoomfactor=1,this.positionne()},a.prototype.prepareAction=function(){const t=new Image;t.owner=this,this.action=new r.Z(this.doc,this.id,this),this.action.isReady=!1,this.doc.ajouteAction(this.action),t.onload=function(){const t=this.owner;t.width=this.width,t.height=this.height,t.action.isReady=!0},t.src=this.url},a.prototype.creeg=function(){const t=document.createElementNS(s.WW,"image");t.setAttribute("width",this.width),t.setAttribute("height",this.height),t.setAttributeNS("http://www.w3.org/1999/xlink","href",this.url),t.setAttribute("x",this.x),t.setAttribute("y",this.y),t.setAttribute("visibility","hidden"),this.g=t,this.setPosition(this.x,this.y,this.angle,this.zoomfactor),this.doc.svg.appendChild(t)},a.prototype.setPosition=function(t,e,i,s){this.x=t,this.y=e,this.angle=i,this.zoomfactor=s,this.g?this.g.setAttribute("transform","scale("+s+") translate("+String(t/s)+","+String(e/s)+") rotate("+i+")"):console.error("Il faut appeler imag.creeg avant imag.setPosition")},a.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)}},42892:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(69636);const n=r;function r(t,e,i,n,r,o){s.Z.call(this,t,e,i),this.epaisseur=n,this.opacite=arguments.length>=5?r:"100",this.styleTrait=arguments.length>=6?o:"continu";const a=parseFloat(this.opacite/100);this.style="stroke:"+i+";stroke-width:"+n+";stroke-opacity:"+a+";stroke-linecap:round;","tiret"===this.styleTrait&&(this.style+="stroke-dasharray:10 8 10;")}r.prototype=new s.Z},11588:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(42892);const r=o;function o(t,e,i,s,r,o,a,c,h,u){n.Z.call(this,t,e,a,c,h,u),this.xdeb=i,this.ydeb=s,this.abs=r.split(","),this.ord=o.split(","),this.objet="trait"}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e;const i=document.createElementNS(s.WW,"polyline");for(t=this.xdeb+" "+this.ydeb,e=0;e<this.abs.length;e++)t+=" "+this.abs[e]+" "+this.ord[e];i.setAttribute("points",t),i.setAttribute("style",this.style+"fill:none;"),i.setAttribute("visibility","hidden"),this.g=i},o.prototype.creationAnimee=function(){return!0},o.prototype.lanceAnimation=function(){this.sauveabs=this.abs,this.sauveord=this.ord,this.abs=[],this.ord=[],this.ind=-1;const t=this;this.timer=setInterval((function(){t.actionPourAnimation()}),25)},o.prototype.actionPourAnimation=function(){this.ind++;const t=this.doc.crayon;if(this.ind>=this.sauveabs.length)this.abs=this.sauveabs,this.ord=this.sauveord,this.updateg(),clearInterval(this.timer),this.finAction(),this.doc.actionSuivante();else{const e=this.sauveabs[this.ind],i=this.sauveord[this.ind];this.abs.push(e),this.ord.push(i),this.updateg(),t.setPosition(parseFloat(e),parseFloat(i),t.angle),this.updateg()}},o.prototype.finAction=function(){const t=this.abs.length;this.doc.crayon.translate(parseFloat(this.abs[t-1]),parseFloat(this.ord[t-1]))}},85674:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(17811),n=i(42892),r=i(12535),o=i(6225);const a=c;function c(t,e,i,s,r,o,a){this.idSeg=i,this.motif=o,this.rayon=null!==a?a:"5",n.Z.call(this,t,e,s,r,100),this.objet="marque"}c.prototype=new n.Z,c.prototype.creeg=function(){let t,e,i;if(this.doc.getElement(this.idSeg,"trait")instanceof o.Z){const n=this.rayon,r=5,o=r/2,a=5;switch(this.motif){case"/":t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",n),t.setAttribute("y1",-n),t.setAttribute("x2",-n),t.setAttribute("y2",n),t.setAttribute("style",this.style);break;case"\\":t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",-n),t.setAttribute("y1",-n),t.setAttribute("x2",n),t.setAttribute("y2",n),t.setAttribute("style",this.style);break;case"//":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i+=2)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*o+n),e.setAttribute("y1",-n),e.setAttribute("x2",i*o-n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e);break;case"///":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i++)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*r+n),e.setAttribute("y1",-n),e.setAttribute("x2",i*r-n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e);break;case"\\\\":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i+=2)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*o-n),e.setAttribute("y1",-n),e.setAttribute("x2",i*o+n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e);break;case"\\\\\\":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i++)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*r-n),e.setAttribute("y1",-n),e.setAttribute("x2",i*r+n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e);break;case"X":t=document.createElementNS(s.WW,"g"),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",-n),e.setAttribute("y1",-n),e.setAttribute("x2",n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",n),e.setAttribute("y1",-n),e.setAttribute("x2",-n),e.setAttribute("y2",n),e.setAttribute("style",this.style),t.appendChild(e);break;case"O":t=document.createElementNS(s.WW,"circle"),t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",a),t.setAttribute("style",this.style+"fill:none;");break;default:t=document.createElementNS(s.WW,"g")}}else console.log("Maque de segment non associée à un objet segment"),t=document.createElementNS(s.WW,"g");this.g=t},c.prototype.positionne=function(){const t=this.doc.getElement(this.idSeg,"trait"),e=new r.Z(t.x1,t.y1,t.x2,t.y2),i=(t.x1+t.x2)/2,s=(t.y1+t.y2)/2,n=-e.angle();this.g.setAttribute("transform","translate("+i+","+s+") rotate("+n+") ")},c.prototype.translate=function(t,e){this.x=t,this.y=e,this.positionne()}},81687:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(42892);const r=o;function o(t,e,i,s,r,o,a){this.x=parseFloat(i),this.y=parseFloat(s),this.motif=a,n.Z.call(this,t,e,r,o,100),this.objet="longueur"}o.prototype=new n.Z,o.prototype.creeg=function(){let t,e,i;const n=2.5;switch(this.motif){case"/":t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",5),t.setAttribute("y1",-5),t.setAttribute("x2",-5),t.setAttribute("y2",5),t.setAttribute("style",this.style);break;case"\\":t=document.createElementNS(s.WW,"line"),t.setAttribute("x1",-5),t.setAttribute("y1",-5),t.setAttribute("x2",5),t.setAttribute("y2",5),t.setAttribute("style",this.style);break;case"//":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i+=2)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*n+5),e.setAttribute("y1",-5),e.setAttribute("x2",i*n-5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e);break;case"///":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i++)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",5*i+5),e.setAttribute("y1",-5),e.setAttribute("x2",5*i-5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e);break;case"\\\\":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i+=2)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",i*n-5),e.setAttribute("y1",-5),e.setAttribute("x2",i*n+5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e);break;case"\\\\\\":for(t=document.createElementNS(s.WW,"g"),i=-1;i<=1;i++)e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",5*i-5),e.setAttribute("y1",-5),e.setAttribute("x2",5*i+5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e);break;case"X":t=document.createElementNS(s.WW,"g"),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",-5),e.setAttribute("y1",-5),e.setAttribute("x2",5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",5),e.setAttribute("y1",-5),e.setAttribute("x2",-5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e);break;case"O":t=document.createElementNS(s.WW,"circle"),t.setAttribute("cx",0),t.setAttribute("cy",0),t.setAttribute("r",5),t.setAttribute("style",this.style+"fill:none;");break;default:t=document.createElementNS(s.WW,"g")}this.g=t},o.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")},o.prototype.translate=function(t,e){this.x=t,this.y=e,this.positionne()}},19914:(t,e,i)=>{"use strict";i.d(e,{Z:()=>c});var s=i(58498),n=i(17811),r=i(58568),o=i(69636),a=i(42987);const c=h;function h(t,e,i,n,r,a){o.Z.call(this,t,e,a),this.dx=null==i?2:parseFloat(i),this.dy=null==n?4:parseFloat(n),this.nom=(0,s.x1)((0,s.q8)(r)),this.taille=20,this.point=this.doc.getElement(this.id,"point"),this.objet="point",this.nom=this.nom.replace(/\*/g,"×"),(0,s.xL)(r)?(this.nom="$"+this.traiteMaths(this.nom)+"$",this.estLatex=!0):this.estLatex=!1}h.prototype=new o.Z,h.prototype.creeg=function(){let t,e,i,o,a,c,h,u,l,d,p,b,g,f,m,y,A,x,v=0;const w="<",S="£e(",E="£i(",W=document.createElementNS(n.WW,"g"),C=(0,s.GR)(this),N=C+2;let Z=0;const k=.4*C;if(0!==this.nom.length){if(c=document.createElementNS(n.WW,"text"),c.setAttribute("pointer-events","none"),c.setAttribute("x",0),c.setAttribute("y",0),a="text-anchor:left;font-size:"+C+"px;fill:"+this.couleur+";",c.setAttribute("style",a),o=this.nom.replace(/ /g," "),-1===this.nom.indexOf(w)&&-1===this.nom.indexOf(S)&&-1===this.nom.indexOf(E)&&-1===this.nom.indexOf("<br>"))c.appendChild(document.createTextNode(o));else for(m=o.split(/<br>/gi),f=-N,y=0;y<m.length;y++)for(A=!0,i=m[y];0!==i.length;){if(t=i.indexOf(w),u=i.indexOf(S),l=i.indexOf(E),A&&(f+=N+Z),-1!==u&&(f+=k),-1===t&&-1===u&&-1===l){e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),v=0,e.appendChild(document.createTextNode(i)),c.appendChild(e);break}for(;-1!==i.indexOf(w)||-1!==i.indexOf(S)||-1!==i.indexOf(E);)if(t=i.indexOf(w),u=i.indexOf(S),l=i.indexOf(E),d=-1===t?-1===u?l:-1===l?u:Math.min(l,u):-1===u?-1===l?t:Math.min(t,l):-1===l?Math.min(t,u):Math.min(t,l,u),d>0)e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),v=0,e.appendChild(document.createTextNode(i.substring(0,d))),c.appendChild(e),i=i.substring(d);else if(0===t){const t=new r.Z(!1,!1,!1,this.couleur,"",C);h=(0,s.Qm)(i),-1===h?(0,s.mr)(i,t,c,A,f):(0,s.mr)(i.substring(0,h),t,c,A,f),A=!1,i=-1!==h?i.substring(h):"",v=0}else p=d===u,x=(0,s.Vx)(i),e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.setAttribute("dy",v+"px"),A&&(e.setAttribute("x",0),e.setAttribute("y",f),A=!1),x.erreur?e.appendChild(document.createTextNode(i)):(e.appendChild(document.createTextNode(x.operande)),c.appendChild(e),e=document.createElementNS(n.WW,"tspan"),e.setAttribute("pointer-events","none"),e.appendChild(document.createTextNode(x.exposant)),v=k,p?v=-v:Z=v,e.setAttribute("dy",v+"px"),b=.6*C,g="font-size:"+b+"px;",e.setAttribute("style",g),c.appendChild(e),v=-v),i=x.texte}W.appendChild(c),this.g=W}W.setAttribute("visibility","hidden")},h.prototype.creegLatex=function(){try{const t=document.createElementNS(n.WW,"g"),e=this.html.firstChild,i=e.cloneNode(!0);t.appendChild(i);const r=parseFloat(e.getAttribute("width"))*this.ex,o=parseFloat(e.getAttribute("height"))*this.ex,c=i.style["vertical-align"],h=(c&&parseFloat(c)||1)*this.ex;i.setAttribute("width",r+"px"),i.setAttribute("height",o+"px"),(0,a.setStyles)(i,"vertical-align",h+"px"),i.setAttribute("x","0");const u=(0,s.GR)(this);i.setAttribute("y",String(-u)),i.setAttribute("visibility","hidden"),this.g=t}catch(t){console.error(t,"on remplace par un <g> vide"),this.g=document.createElementNS(n.WW,"g")}},h.prototype.positionne=function(){null===this.point&&(this.point=this.doc.getElement(this.id,"point"));const t=this.point.x,e=this.point.y,i=(0,s.GR)(this);this.g.setAttribute("transform","translate("+String(t+this.dx)+","+String(e+this.dy+i)+")")},h.prototype.traiteMaths=function(t){return(0,s.OG)(t,!0)}},69636:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(12535),n=i(58498);const r=o;function o(t,e,i){this.doc=t,this.id=e,this.couleur=i,this.zoomfactor=1,this.visible=!1,this.objet="trait"}o.prototype.positionne=function(){},o.prototype.initialisePosition=function(){},o.prototype.translate=function(t,e){this.setPosition(t,e,this.angle,this.zoomfactor)},o.prototype.tourne=function(t){this.setPosition(this.x,this.y,t,this.zoomfactor)},o.prototype.zoom=function(t){this.zoomfactor=t,this.setPosition(this.x,this.y,this.angle,t)},o.prototype.montre=function(t){this.visible=t,this.g&&this.g.setAttribute("visibility",t?"visible":"hidden")},o.prototype.lanceAnimationTranslation=function(t,e,i){this.xfin=t,this.yfin=e,this.pix=Math.abs(i/4);const n=new s.Z(this.x,this.y,t,e);if(this.dist=n.norme(),0===this.dist)return this.translate(this.xfin,this.yfin),void this.doc.actionSuivante();this.vect=n.vecteurColineaire(this.pix);const r=this;this.timer=setInterval((function(){r.actionPourTranslation()}),25)},o.prototype.actionPourTranslation=function(){const t=this.x+this.vect.x,e=this.y+this.vect.y,i=new s.Z(t,e,this.xfin,this.yfin).norme();i>this.dist||!this.doc.animationEnCours?(this.translate(this.xfin,this.yfin),clearInterval(this.timer),this.doc.actionSuivante()):(this.dist=i,this.translate(t,e))},o.prototype.lanceAnimationRotation=function(t,e){const i=n.vf(this.angle);let s=n.vf(t);Math.abs(s-i)>180&&(s>i?s-=360:s+=360),this.anglefin=s,this.angle=i,this.pasdeg=2*e/3,this.pasdeg*=t>=this.angle?1:-1,this.distang=Math.abs(t-this.angle);const r=this;this.timer=setInterval((function(){r.actionPourRotation()}),25)},o.prototype.actionPourRotation=function(){const t=parseFloat(this.angle)+parseFloat(this.pasdeg),e=Math.abs(t-this.anglefin);e>this.distang||!this.doc.animationEnCours?(this.tourne(this.anglefin),clearInterval(this.timer),this.doc.actionSuivante()):(this.distang=e,this.tourne(t))},o.prototype.lanceAnimationZoom=function(t,e){this.zoomfin=t,this.vitesse=parseInt(e),this.pas=.05*this.vitesse*(this.zoomfin-this.zoomfactor),this.senspos=this.pas>=0;const i=this;this.timer=setInterval((function(){i.actionPourZoom()}),100)},o.prototype.actionPourZoom=function(){const t=this.zoomfactor+this.pas;this.doc.animationEnCours&&(this.senspos&&t<this.zoomfin||!this.senspos&&t>this.zoomfin)?this.zoom(t):(this.zoom(this.zoomfin),clearInterval(this.timer),this.doc.actionSuivante())},o.prototype.updateg=function(){const t=this.g;this.creeg(),this.doc.svg.replaceChild(this.g,t),this.doc.setElement(this.id,this),this.g.setAttribute("visibility","visible")},o.prototype.creationAnimee=function(){return!1},o.prototype.finAction=function(){}},35475:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(42892),r=i(69636);const o=a;function a(t,e,i,s,r,o){this.x=parseFloat(i),this.y=parseFloat(s),this.xinit=this.x,this.yinit=this.y,this.xcons=this.x,this.ycons=this.y,n.Z.call(this,t,e,r,o),this.style+="stroke-linecap:round;",this.nom=null,this.objet="point"}a.prototype=new n.Z,a.prototype.initialisePosition=function(){this.x=this.xinit,this.y=this.yinit,this.positionne()},a.prototype.creeg=function(){const t=document.createElementNS(s.WW,"g");let e;e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",-5),e.setAttribute("y1",5),e.setAttribute("x2",5),e.setAttribute("y2",-5),e.setAttribute("style",this.style),t.appendChild(e),e=document.createElementNS(s.WW,"line"),e.setAttribute("x1",-5),e.setAttribute("y1",-5),e.setAttribute("x2",5),e.setAttribute("y2",5),e.setAttribute("style",this.style),t.appendChild(e),this.g=t},a.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")},a.prototype.translate=function(t,e){this.x=t,this.y=e,this.positionne(),null!==this.nom&&this.nom.positionne()},a.prototype.updateg=function(){this.setPosition(this.x,this.y)},a.prototype.montre=function(t){r.Z.prototype.montre.call(this,t),null!==this.nom&&this.nom.g&&this.nom.montre(t)}},66500:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(69636),r=i(12535);const o=a;function a(t,e,i,s,r,o,a,c){n.Z.call(this,t,e,r),this.abs=i.split(","),this.ord=s.split(","),this.sauveabs=this.abs,this.sauveord=this.ord,this.epaisseur=o,this.opacite=null==c?"60":c;const h=parseFloat(this.opacite/100);this.couleurFond=null==a?this.couleur:a,this.style="stroke:"+r+";stroke-width:"+o+";fill:"+this.couleurFond+";",this.style+="fill-opacity:"+h+";",this.objet="trait"}a.prototype=new n.Z,a.prototype.creeg=function(){let t,e;const i=document.createElementNS(s.WW,"polygon");for(t="",e=0;e<this.abs.length;e++)t+=" "+this.abs[e]+" "+this.ord[e];i.setAttribute("points",t),i.setAttribute("style",this.style),i.setAttribute("visibility","hidden"),this.g=i},a.prototype.creationAnimee=function(){return!0},a.prototype.lanceAnimation=function(t){this.pix=parseFloat(t/2),this.abs=[],this.abs[0]=this.sauveabs[0],this.ord=[],this.ord[0]=this.sauveord[0],this.ind=0,this.n=0;const e=this.doc.crayon,i=new r.Z(parseFloat(this.sauveabs[0]),parseFloat(this.sauveord[0]),parseFloat(this.sauveabs[1]),parseFloat(this.sauveord[1]));this.longcote=i.norme(),this.vect=i.vecteurColineaire(this.pix),e.setPosition(parseFloat(this.abs[0]),parseFloat(this.ord[0]),e.angle);const s=this;this.timer=setInterval((function(){s.actionPourAnimation()}),25)},a.prototype.actionPourAnimation=function(){const t=this.doc.crayon;let e=this.ind;const i=parseFloat(this.abs[e]),s=parseFloat(this.ord[e]);if(this.n++,this.doc.animationEnCours)if(this.n*this.pix<=this.longcote){const n=i+this.n*this.vect.x,r=s+this.n*this.vect.y;this.abs[e+1]=String(n),this.ord[e+1]=String(r),t.translate(n,r),this.updateg()}else if(this.ind++,e++,e===this.sauveabs.length-1)clearInterval(this.timer),this.finAction(),this.doc.actionSuivante();else{this.abs[e]=this.sauveabs[e],this.ord[e]=this.sauveord[e],t.translate(parseFloat(this.abs[e]),parseFloat(this.ord[e]));const i=new r.Z(parseFloat(this.sauveabs[e]),parseFloat(this.sauveord[e]),parseFloat(this.sauveabs[e+1]),parseFloat(this.sauveord[e+1]));this.longcote=i.norme(),this.vect=i.vecteurColineaire(this.pix),this.n=0}else clearInterval(this.timer),this.finAction(),this.doc.actionSuivante()},a.prototype.finAction=function(){this.abs=this.sauveabs,this.ord=this.sauveord;const t=this.abs.length;this.updateg(),this.doc.crayon.translate(parseFloat(this.abs[t-1]),parseFloat(this.ord[t-1]))}},21345:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(17811),n=i(69636);const r=o;function o(t,e,i,s,r,o,a){n.Z.call(this,t,"quadrillageIEP",a),this.hauteur=parseFloat(i),this.largeur=parseFloat(s),this.haut=null==r?0:parseFloat(r),this.gauche=null==o?0:parseFloat(o),this.type=e,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.cadre.droite=this.cadre.gauche+30*this.largeur,this.cadre.bas=this.cadre.haut+30*this.hauteur,this.objet="quadrillage"}o.prototype=new n.Z,o.prototype.creeg=function(){const t=this.cadre.gauche,e=this.cadre.droite,i=this.cadre.haut,n=this.cadre.bas,r=this.couleur;this.g=document.createElementNS(s.WW,"g");const o=this.doc.svg.getElementById("quadrillageIEP");switch(null!=o&&this.doc.svg.removeChild(o),this.type){case"seyes":this.tracer_grille(r,24,6,t,i,e,n,!1,1),this.tracer_grille(r,24,24,t,i,e,n,!1,1);break;case"millimetre":this.tracer_grille(r,3,3,t,i,e,n,!1,.6),this.tracer_grille(r,30,30,t,i,e,n,!1,.8),this.tracer_grille(r,150,150,t,i,e,n,!1,1);break;case"10x10":case"10x":this.tracer_grille(r,30,30,t,i,e,n,!1,1);break;case"5x5":case"5x":default:this.tracer_grille(r,15,15,t,i,e,n,!1,1)}},o.prototype.tracer_grille=function(t,e,i,n,r,o,a,c,h){let u,l;const d="stroke:"+t+";stroke-width:0.5;stroke-opacity:"+h+";";c&&(this.style+="stroke-dasharray:2 2;");let p=Math.ceil(Math.abs(o-n)/e);for(l=0;l<p;l++)u=document.createElementNS(s.WW,"line"),u.setAttribute("style",d),u.setAttribute("x1",n+l*e),u.setAttribute("y1",r),u.setAttribute("x2",n+l*e),u.setAttribute("y2",a),u.setAttribute("style",d),this.g.appendChild(u);for(p=Math.ceil(Math.abs(a-r)/i),l=0;l<p;l++)u=document.createElementNS(s.WW,"line"),u.setAttribute("style",d),u.setAttribute("x1",n),u.setAttribute("y1",r+l*i),u.setAttribute("x2",o),u.setAttribute("y2",r+l*i),u.setAttribute("style",d),this.g.appendChild(u)}},96975:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(58498),n=i(17811),r=i(69636);const o=a;function a(t,e,i,s,n,o,a,c,h,u,l,d,p,b,g){r.Z.call(this,t,"repereIEP",d),this.hauteur=e,this.largeur=i,this.haut=null==s?0:parseFloat(s),this.gauche=null==n?0:parseFloat(n),this.xgrad=parseFloat(o),this.ygrad=parseFloat(a),this.xmin=parseFloat(c),this.xmax=parseFloat(h),this.ymin=parseFloat(u),this.ymax=parseFloat(l),this.grille=null==p?"visible":p,this.axes=null==b?"visible":b,this.etiquettes=null==g?"visible":g,this.cadre={},this.cadre.gauche=30*this.gauche,this.cadre.haut=30*this.haut,this.cadre.droite=this.cadre.gauche+30*this.largeur,this.cadre.bas=this.cadre.haut+30*this.hauteur}a.prototype=new r.Z,a.prototype.mettre_x_en_pixels=function(t){return s.ik(t,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)},a.prototype.mettre_y_en_pixels=function(t){return s.ik(t,this.ymax,this.ymin,this.cadre.haut,this.cadre.bas)},a.prototype.tracer_abscisses=function(t,e,i,s,r,o){let a,c,h,u;const l="stroke:black;stroke-width:0.5;";for("invisible"===this.grille&&"invisible"!==this.axes&&(a=document.createElementNS(n.WW,"line"),a.setAttribute("style",l),a.setAttribute("x1",this.cadre.gauche),a.setAttribute("y1",s),a.setAttribute("x2",this.cadre.droite),a.setAttribute("y2",s),this.g.appendChild(a)),u=0;u<=i;u++)if(a=document.createElementNS(n.WW,"line"),a.setAttribute("style",l),h=this.mettre_x_en_pixels(t+u*e),"invisible"===this.grille?"invisible"!==this.axes&&(a.setAttribute("x1",h),a.setAttribute("y1",String(s-5)),a.setAttribute("x2",h),a.setAttribute("y2",String(s+5)),this.g.appendChild(a)):(a.setAttribute("x1",h),a.setAttribute("y1",r),a.setAttribute("x2",h),a.setAttribute("y2",o),this.g.appendChild(a)),"invisible"!==this.etiquettes&&"invisible"!==this.axes){c=document.createElementNS(n.WW,"text"),c.setAttribute("x",h+2),c.setAttribute("y",s+12);const i="text-anchor:left;font-size:12px;fill:"+this.couleur+";";c.setAttribute("style",i),c.appendChild(document.createTextNode(String(t+u*e))),this.g.appendChild(c)}},a.prototype.tracer_ordonnees=function(t,e,i,s,r,o){let a,c,h,u;const l="stroke:black;stroke-width:0.5;";for("invisible"===this.grille&&"invisible"!==this.axes&&(a=document.createElementNS(n.WW,"line"),a.setAttribute("style",l),a.setAttribute("x1",s),a.setAttribute("y1",this.cadre.haut),a.setAttribute("x2",s),a.setAttribute("y2",this.cadre.bas),this.g.appendChild(a)),u=0;u<=i;u++)if(a=document.createElementNS(n.WW,"line"),a.setAttribute("style",l),h=this.mettre_y_en_pixels(t+u*e),"invisible"===this.grille?"invisible"!==this.axes&&(a.setAttribute("x1",String(s-5)),a.setAttribute("y1",h),a.setAttribute("x2",String(s+5)),a.setAttribute("y2",h),this.g.appendChild(a)):(a.setAttribute("x1",r),a.setAttribute("y1",h),a.setAttribute("x2",o),a.setAttribute("y2",h),this.g.appendChild(a)),"invisible"!==this.etiquettes&&"invisible"!==this.axes){c=document.createElementNS(n.WW,"text"),c.setAttribute("x",s+2),c.setAttribute("y",h+12);const i="text-anchor:left;font-size:12px;fill:"+this.couleur+";";c.setAttribute("style",i),c.appendChild(document.createTextNode(String(t+u*e))),this.g.appendChild(c)}},a.prototype.creeg=function(){const t=this.cadre.droite-this.cadre.gauche,e=this.cadre.bas-this.cadre.haut;this.g=document.createElementNS(n.WW,"g");const i=document.createElementNS(n.WW,"defs"),r=document.createElementNS(n.WW,"clipPath");r.setAttribute("id","clipRepere");const o="stroke:"+this.couleur+";stroke-width:1;fill:none;",a=document.createElementNS(n.WW,"rect");if(a.setAttribute("style",o),a.setAttribute("x",this.cadre.gauche),a.setAttribute("y",this.cadre.haut),a.setAttribute("width",t),a.setAttribute("height",e),r.appendChild(a),i.appendChild(r),this.g.appendChild(i),this.g.setAttribute("style","clip-path:url(#clipRepere)"),this.xmax-this.xmin>this.xgrad){const t=Math.floor((this.xmax-this.xmin)/this.xgrad);let e;e=this.ymax*this.ymin<0?this.mettre_y_en_pixels(0):this.ymax<0?this.cadre.haut:this.cadre.bas;const i=s.EO(this.xmin,this.xmax,this.xgrad);this.tracer_abscisses(i,this.xgrad,t,e,this.cadre.haut,this.cadre.bas)}if(this.ymax-this.ymin>this.ygrad){const t=Math.floor((this.ymax-this.ymin)/this.ygrad);let e;e=this.xmax*this.xmin<0?this.mettre_x_en_pixels(0):this.xmax<0?this.cadre.droite:this.cadre.gauche;const i=s.EO(this.ymin,this.ymax,this.ygrad);this.tracer_ordonnees(i,this.ygrad,t,e,this.cadre.gauche,this.cadre.droite)}const c=document.createElementNS(n.WW,"rect");c.setAttribute("style",o),c.setAttribute("x",this.cadre.gauche),c.setAttribute("y",this.cadre.haut),c.setAttribute("width",t),c.setAttribute("height",e),this.g.appendChild(c),this.g.setAttribute("visibility","hidden")}},6225:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(17811),n=i(44575),r=i(12535);const o=a;function a(t,e,i,s,r,o,a,c,h,u,l){n.Z.call(this,t,e,i,s,r,o,a,c,h,u),this.stylefleche=l}a.prototype=new n.Z,a.prototype.creeg=function(){if(n.Z.prototype.creeg.call(this),"vecteur"===this.stylefleche){const t=12,e=this.x1,i=this.x2,n=this.y1,o=this.y2,a=new r.Z(i,o,e,n).vecteurColineaire(t),c=new r.Z(a.x*s.LV-a.y*s.RN,a.x*s.RN+a.y*s.LV),h=new r.Z(a.x*s.LV+a.y*s.RN,-a.x*s.RN+a.y*s.LV),u=String(i+c.x)+" "+String(o+c.y)+","+i+" "+o+","+String(i+h.x)+" "+String(o+h.y),l=document.createElementNS(s.WW,"polyline");l.setAttribute("points",u);const d="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";stroke-opacity:"+this.opacite+";fill:none";l.setAttribute("style",d),this.g.appendChild(l)}}},40408:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var s=i(58498),n=i(17811),r=i(69636);const o=a;function a(t,e,i,s){r.Z.call(this,t,e,"black"),this.x=parseFloat(i),this.y=parseFloat(s),this.xinit=this.x,this.yinit=this.y,this.taille=20,this.angle=0,this.texte="",this.objet="texte"}a.prototype=new r.Z,a.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)},a.prototype.translate=function(t,e){this.x=t,this.y=e,this.positionne()},a.prototype.updateg=function(t){const e=this.g;if(!e)return console.error("Il faut appeler creeg avant updateg");this.doc.svg.replaceChild(t,e),this.g=t,t.setAttribute("visibility","visible")},a.prototype.creeg=function(){this.g=document.createElementNS(n.WW,"g")},a.prototype.setPosition=function(t,e,i,n){this.x=t,this.y=e,this.angle=i,this.zoomfactor=n;const r=e+(0,s.GR)(this);this.g.setAttribute("transform","scale("+n+") translate("+String(t/n)+","+String(r/n)+") rotate("+i+")")}},12535:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var s=i(58498),n=i(17811);const r=o;function o(t,e,i,s){arguments.length>2?(this.x=i-t,this.y=s-e):(this.x=t,this.y=e)}o.prototype.presqueNul=function(){return(0,s.bM)(this.x)&&(0,s.bM)(this.y)},o.prototype.norme=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.vecteurColineaire=function(t){const e=this.norme();return new o(this.x/e*t,this.y/e*t)},o.prototype.tourne=function(t){const e=Math.cos(t*n.wf),i=Math.sin(t*n.wf);return new o(e*this.x-i*this.y,e*this.y+i*this.x)},o.prototype.angle=function(){let t;return 0===this.x&&0===this.y?0:(0===this.x?t=this.y>0?3*Math.PI/2:Math.PI/2:(t=this.x>=0?Math.atan(-this.y/this.x):Math.PI-Math.atan(this.y/this.x),t<0&&(t+=2*Math.PI)),t*n.Sz)}},42987:(t,e,i)=>{"use strict";var s=i(95751),n=i(98035).hasProp;function r(t,e){t.appendChild(window.document.createTextNode(e))}function o(t,e,i){var o,a=window.document.createElement(t);try{if(e)for(o in e)n(e,o)&&("class"===o?a.className=e.class:"className"===o?a.className=e.className:"style"===o?u(a,e.style):a.setAttribute(o,e[o]))}catch(i){s("plantage dans getElement "+t+" avec les attributs ",e,i)}return i&&r(a,i),a}var a,c,h=(1e4,c="sesa"+(a=0),function(){for(;window.document.getElementById(c)&&a<1e4;)a++,c="sesa"+a;if(1e4===a)throw Error("Max de 10000 id générés atteint");return c});function u(t,e){try{if(t&&t.style)if("string"==typeof e)(e=e.split(";")).forEach((function(e){if((e=/([\w]+):(.+)/.exec(e))&&3===e.length){var i=e[1];t.style[i]=e[2]}}));else if("object"==typeof e)for(var i in e)n(e,i)&&(t.style[i]=e[i])}catch(t){s.error(t)}}t.exports={addCss:function(t){for(var e=window.document.getElementsByTagName("head")[0],i=e.getElementsByTagName("link"),n=!1,r=0;r<i.length;r++)if(i[r].href===t){n=!0;break}if(n)s(t+" était déjà présent, on ne l'ajoute pas");else{var o=window.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t,e.appendChild(o)}},addJs:function(t,e){var i=window.document.getElementsByTagName("body")[0],s=window.document.createElement("script");s.type="text/javascript",i.appendChild(s),s.addEventListener("load",(function t(){e(),s.removeEventListener("load",t)})),s.src=t},addElement:function(t,e,i,s){var n=o(e,i,s);return t.appendChild(n),n},addElementAfter:function(t,e,i,n){var r=o(e,i,n),a=t.parentNode;return a?a.insertBefore(r,t.nextSibling):s.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'ajouter l'élément")),r},addElementBefore:function(t,e,i,n){var r=o(e,i,n),a=t.parentNode;return a?a.insertBefore(r,t):s.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'insérer l'élément")),r},addElementFirstChild:function(t,e,i,s){var n=o(e,i,s);return t.insertBefore(n,t.firstChild),n},addElementFirstSibling:function(t,e,i,s){var n=o(e,i,s);return t.parentNode.insertBefore(n,t.parentNode.firstChild),n},addText:r,empty:function(t){if(t&&t.firstChild)for(;t.firstChild;)t.removeChild(t.firstChild)},getElement:o,getSize:function(){var t="CSS1Compat"===window.document.compatMode?window.document.documentElement:window.document.body;return{width:Math.floor(Math.min(t.clientWidth,window.innerWidth)),height:Math.floor(Math.min(t.clientHeight,window.innerHeight))}},getNewId:h,setStyles:u}},98035:t=>{"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t(this[e],e,this)});var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function i(t,e){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,e)}function s(t){return"function"==typeof t}function n(t,e){switch(typeof t){case"number":return Math.floor(t)===t;case"string":return Boolean(e&&t&&Math.floor(t)==t);default:return!1}}function r(t){return void 0===t}function o(t,e,i){for(e&&("string"!=typeof e&&(e=String(e)),1!==e.length&&(console.error(new Error("char invalide "+e)),e=void 0)),e||(e="number"==typeof t?"0":" "),"string"!=typeof t&&(t=String(t)),i||(i=2);t.length<i;)t=e+t;return t}t.exports={countSlash:function(t){if("string"!=typeof t)throw new TypeError("countSlash n’accepte qu’une string en paramètre");return t.replace(/[^/]+/g,"").length},escapeForHtml:function(t,i){return i?t.replace(/[&<>"']/g,(function(t){return e[t]})):t.replace(/</g,"&lt;")},formatDate:function(t,e){function i(t,e){return o(t,"0",e)}if(e){if(!(e instanceof Date))throw new TypeError("date is not a Date")}else e=new Date;if("string"!=typeof t)throw new TypeError("format is not a string");return t.replace(/%(.)/g,(function(t,s){switch(s){case"d":return i(e.getDate());case"F":return String(e.getFullYear())+"-"+i(e.getMonth()+1)+"-"+i(e.getDate());case"H":return i(e.getHours());case"m":return i(e.getMonth()+1);case"M":return i(e.getMinutes());case"o":return i(e.getMilliseconds(),3);case"O":return i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+"."+i(e.getMilliseconds(),3);case"s":return i(Math.round(e.getTime()/1e3));case"S":return i(e.getSeconds());case"T":return i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds());case"y":return String(e.getFullYear()).substr(2);case"Y":return e.getFullYear();case"%":return"%";default:return"%"+s}}))},getToken:function(){return Math.random().toString(36).substr(2)+Math.random().toString(36).substr(2)},hasProp:i,isArray:function(t){return Array.isArray(t)},isArrayEmpty:function(t){return Boolean(Array.isArray(t)&&0===t.length)},isArrayNotEmpty:function(t){return Boolean(Array.isArray(t)&&t.length)},isDate:function(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)},isError:function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isFunction:s,isInArray:function(t,e){if(!Array.isArray(t))throw new Error("isInArray veut un tableau en 1er argument");return-1!==t.indexOf(e)},isInt:n,isIntPos:function(t,e,i){return n(t,i)&&(e?t>0:t>=0)},isObject:function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},isObjectPlain:function(t){return!!t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)},isRegExp:function(t){return!!t&&"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)},isString:function(t){return"string"==typeof t},isUndefined:r,isUrlAbsolute:function(t){return"string"==typeof t&&/^https?:\/\/[a-z0-9\-._]+(:[0-9]+)?(\/|$)/.test(t)},pad:o,parse:function(t){var e;if("string"==typeof t)try{e=JSON.parse(t)}catch(t){!r(console)&&console.error&&console.error(t)}return e},splitAndTrim:function(t,e){return"string"==typeof t?(e||(e=/[,;\s]+/),t.split(e).map((function(t){return t.trim()})).filter((function(t){return t}))):[]},stringify:function(t,e){var n;try{n=e?JSON.stringify(t,null,e):JSON.stringify(t)}catch(l){var o,a,c=[];for(o in t)if(i(t,o)&&!r(t[o])&&!s(t[o])){a=t[o],n='"'+o+'":';try{n+=e?JSON.stringify(a,null,e):JSON.stringify(a)}catch(t){n+='"'+t.toString()+'"'}c.push(n)}var h=",";if(n="{",e){var u="\n"+" ".repeat(e);h+=u,n+=u}n+=c.join(h),e&&(n+="\n"),n+="}"}return n},toAscii:function(t){return"string"==typeof t?/^[\w]*$/.test(t)?t:[[/[áàâäãå]/g,"a"],[/[ÁÀÂÄÃÅ]/g,"A"],["ç","c"],["Ç","C"],[/[éèêë]/g,"e"],[/[ÉÈÊË]/g,"E"],[/[íìîï]/g,"i"],[/[ÍÌÎÏ]/g,"I"],["ñ","n"],["Ñ","N"],[/[óòôöõ]/g,"o"],[/[ÓÒÔÖÕ]/g,"O"],[/[úùûü]/g,"u"],[/[ÚÙÛÜ]/g,"U"],[/[ýÿ]/g,"y"],[/[ÝŸ]/g,"Y"],["æ","ae"],["Æ","AE"],["œ","oe"],["Œ","OE"]].reduce((function(t,e){return t.replace(e[0],e[1])}),t):(console.error(new TypeError("not a string"),t),"")},toInt:function(t){switch(typeof t){case"number":return Math.round(t);case"string":return""===t?NaN:Math.round(t);default:return NaN}}}},27025:(t,e,i)=>{"use strict";var s=i(98035),n=s.hasProp;t.exports=function t(e,i){if(null===e)return"null";switch(typeof e){case"undefined":return e;case"number":case"boolean":return String(e);case"string":return'"'+e.replace('"','\\"')+'"';case"symbol":return"[Symbol "+e.toString()+"]";default:i||(i=0);var r=" ".repeat(i);i+=2;var o,a=r+"  ",c=[];if(s.isDate(e))return JSON.stringify(e);if(s.isArray(e))return o="[\n",e.forEach((function(s,n){o+=a+t(s,i)+(n===e.length-1?"\n":",\n")})),e.length?o+=r+"]":o+="]",o;if(s.isRegExp(e)||s.isFunction(e))return"function"==typeof e.toSource?e.toSource():e.toString();if(s.isObject(e)){var h=0;for(var u in e)if(n(e,u)){h++;try{JSON.stringify(e[u]),c.push(u+": "+t(e[u],i))}catch(t){c.push(u+': "'+t.toString().replace('"','\\"')+'"')}}return h?"{\n"+a+c.join(",\n"+a)+"\n"+r+"}":s.isObjectPlain(e)?r+"{}":r+e.toString()}return console.error("dump est tombé sur un truc qui ne ressemble à rien de connu",e),s.stringify(e,2)}}},95751:(t,e,i)=>{"use strict";var s=i(27025),n=i(98035),r=n.formatDate,o=n.hasProp,a={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4},c=["[debug]","[info]","[warning]","[error]","[CRITICAL]"],h=[console.info||console.log,console.log,console.warn||console.error||console.log,console.error||console.log,console.error||console.log],u=a.info,l="undefined"!=typeof process&&process.env,d=l&&o(process.env,"NODE_APP_INSTANCE"),p=l&&!d,b="[%O]",g=d,f=d&&process.env.NODE_APP_INSTANCE||"N/A";function m(t,e){try{var i=h[e]||console.log,s="";if(p&&(s=r(b)),g&&(s&&(s+=" "),s+="["+f+"]"),s&&(s+=" "),s+=c[e],t.length<1&&(t=[Error("fonction de log appelée sans contenu")]),i(s,t[0]),t.length>1)for(var n=1;n<t.length;n++)i(t[n])}catch(t){}}function y(){u<a.warning&&m(arguments,a.info)}y.debug=function(){u<a.info&&m(arguments,a.debug)},y.info=function(){u<a.warning&&m(arguments,a.info)},y.warn=function(){u<a.error&&m(arguments,a.warning)},y.ifError=function t(){t&&u<a.critical&&m(arguments,a.error)},y.error=function(){u<a.critical&&m(arguments,a.error)},y.critical=function(){m(arguments,a.critical)},y.disable=function(){u=a.error},y.disableDatePrefix=function(){p=!1},y.disableProcessPrefix=function(){g=!1},y.dump=function(t,e,i){"object"!=typeof i&&(i={});var n=i.level||a.debug;"string"==typeof n&&(n=a[n]||a.debug);var r=s(e),o=i.max||1e3;r.length>o&&(r=r.substr(0,o)+"…"),u<=n&&m([t,r],n)},y.enable=function(){u=a.info},y.enableDatePrefix=function(){p=!0},y.enableProcessPrefix=function(){"undefined"==typeof process?console.error("process not available"):g=!0},y.setDatePrefix=function(t){"string"==typeof t?b=t:y.error(new Error("Le préfixe de log doit être une string"))},y.setLogLevel=function(t){switch(t){case 0:case"0":case"debug":u=a.debug;break;case 1:case"1":case"info":case"notice":u=a.notice;break;case 2:case"2":case"warn":case"warning":u=a.warning;break;case 3:case"3":case"err":case"error":u=a.error;break;case 4:case"4":case"alert":case"crit":case"critical":u=a.critical;break;default:y.error("niveau d’erreur "+t)}},y.levels={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4},t.exports=y}}]);