var liste_des_exercices_disponibles = {
  "CM000": Tables_additions_soustractions,
  "CM001": Tables_de_multiplications,
  "CM002": Tables_de_divisions,
  "CM003": Tables_de_multiplications_et_divisions,
  "CM004": Quatre_operations,
  "CM005": Ajouter9,
  "CM006": Soustraire9,
  "CM007": Ajouter11,
  "CM008": Soustraire11,
  "CM009": Moitie,
  "CM010": Tiers,
  "CM011": Quart,
  "CM012": Complement_a_100,
  "CM013": Complement_a_une_dizaine,
  "CM014": Double_moitie_tiers_triple,
  "CM015": Somme_de_deux_nombres_maries,
  "CM016": Diviser_par_10_100_1000,
  "CM017": Diviser_decimal_par_10_100_1000,
  "CM018": Somme_de_deux_nombres_maries_et_un_entier,
  "CM019": Le_compte_est_bonV3,
  "CM020": Le_compte_est_bonV4,
  "CM021": Compte_Est_Bon,
  "c3C10-1" : Tables_de_multiplications,
  "c3C10-4" : Exercice_tables_d_additions_cycle3,
  "c3C11" : Division_cycle3,
  "c3N10" : Ecrire_entiers_cycle3,
  "6C10": Additions_soustractions_multiplications_posees,
  "6C11": Divisions_euclidiennes,
  "6C10-1": Tables_de_multiplications,
  "6C10-2": Exercice_tables_de_multiplications_et_multiples_de_10,
  "6C10-3": Exercice_tables_de_multiplications_et_decimaux,
  "6C10-4": Exercice_tables_d_additions,
  "6C13": Vocabulaire_et_operations,
  "6C20": Additionner_soustraires_decimaux,
  "6C21": Divisions_euclidiennes_niv2,
  "6C23" : Exercice_additionner_des_fractions_6e,
  "6C30": Multiplier_decimaux,
  "6C30-1": Multiplier_decimaux_par_10_100_1000,
  "6C30-2": Produit_de_decimaux_a_partir_d_un_produit_connu,
  "6C31": Division_decimale,
  "6C32": Probleme_course,
  "6C33": Priorites,
  //"6C99" : separation6C,
  "6D10": Conversions_de_durees,
  "6D101": Heures_decimales,
  "6D11": Somme_de_durees,
  "6D12": Calculs_de_durees_ou_d_horaires,
  "6G10": Notation_segment_droite_demi_droite,
  "6G10-1": Description_segment_droite_demi_droite,
  "6G10-2" : Utiliser_le_codage_pour_decrire_6e,
  "6G11": Tracer_des_perpendiculaires,
  "6G12": Tracer_des_paralleles,
  "6G12-1": Tracer_des_perpendiculaires_et_des_paralleles,
  "beta6G14" : Test_main_levee,
  "6G20" : Nommer_et_coder_des_polygones,
  "6G20-2": Vocabulaire_des_triangles_6e,
  "6G21" : Construire_un_triangle_6e,
  "6G23-2": Tracer_triangle_2_angles,
  "6G24": Transformations_6e,
  "6G24-1" : Symetrie_axiale_point_6e,
  "6G24-2" : Symetrie_axiale_figure_6e,
  "6G25-1": Pavages_et_reflexion,
  "6G25-2": Pavages_et_symetries,
  "6G42" : Solide_6e,
  "6G43" : Utiliser_vocabulaire_pave,
  "6M11-1": Perimetre_ou_aire_de_carres_rectangles_triangles,
  "6M11-2": Perimetre_ou_aire_de_figures_composees,
  "6M10": Reglages_6M10,
  "6M12": Reglages_6M12,
  "6M20": Aire_de_triangles,
  "6M22": Reglages_6M22,
  "6M22-1": Perimetre_aire_disques,
  "6M22-2": Perimetre_aire_et_portions_de_disques,
  "6M23": Exercice_conversions_aires,
  "6M25": Connaitre_formules_de_perimetre_et_aires,
  "6M30": Calcul_de_volumes_6e,
  "6M31": Exercice_conversions_volumes,
  "6M31-2": Unites_de_volumes_et_de_capacite,
  "6N10" : Ecrire_nombres_entiers,
  "6N10-1": Exercice_numeration_entier,
  "6N10-2": Decomposition_nombre_decimal,
  "6N10-3": chiffre_nombre_de,
  "beta6N10-4" : Ecrire_nombres_entiers_formates,
  "6N11": Lire_abscisse_entiere,
  "6N11-2": Placer_un_point_abscisse_entiere,
  "6N11-3": Encadrer_un_entier_par_deux_entiers_consecutifs,
  "6N11-4": Ranger_ordre_croissant_decroissant,
  "6N12": Multiplier_entier_par_10_100_1000,
  "6N13": Exercice_6N13,
  "6N14" : Representer_une_fraction,
  "6N20": Exercice_fractions_decomposer,
  "6N20-2": Exercice_fractions_differentes_ecritures,
  "6N21": Lire_abscisse_fractionnaire,
  "6N22" : Ajouter_des_fractions_d_unite,
  "6N22-1" : Rapports_sur_un_segment,
  "6N23": Exercice_ecriture_decimale_a_partir_de_fraction_decimale,
  "beta6N23-0" : Ecrire_nombres_decimal,
  "6N23-1": Exercice_differentes_ecritures_nombres_decimaux,
  "6N24": Exercice_6N24,
  "6N24-1": Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000,
  "6N30": Lire_abscisse_decimale,
  "6N30-1" : Lire_abscisse_decimale_bis,
  "6N30-2": Placer_points_sur_axe,
  "6N31": Comparer_decimaux,
  "6N31-1": Encadrer_un_decimal_par_deux_entiers_consecutifs,
  "6N31-2":Ordre_de_grandeur_operations_decimaux,
  "6N32" :Fractions_d_unite,
  "6N33": Fraction_d_un_nombre,
  "6N33-0" : Fraction_d_une_quantite,
  "6N33-1": Pourcentage_d_un_nombre,
  "6N33-2" : Calculer_un_pourcentage,
  "6N33-3" : Appliquer_un_pourcentage,
  "6N34": Reglages_6N34,
  "6N41": Egalites_entre_fractions,
  "6N43": Criteres_de_divisibilite,
  "6N43-2": Tableau_criteres_de_divisibilite,
  "6P10": Proportionnalite_pas_proportionnalite,
  "6P11": Proportionnalite_par_linearite,
  "6P11-1": Proportionnalite_par_linearite_bis,
  "5A10": Liste_des_diviseurs_5e,
  "5A11": Tableau_criteres_de_divisibilite,
  "5A12-1": Premier_ou_pas_5e,
  "5A13": Exercice_decomposer_en_facteurs_premiers,
  "5C11": Traduire_une_phrase_par_une_expression,
  "5C11-1": Traduire_une_expression_par_une_phrase,
  "5C11-2": Ecrire_une_expression_mathador,
  "5C12": Calculer_une_expression_numerique,
  "5C12-1": Traduire_une_phrase_par_une_expression_et_calculer,
  "5G10": Symetrie_axiale_5e,
  "5G12": Pavages_et_demi_tour,
  "5G11": Transformations_5e,
  "5G10-1" : Symetrie_axiale_point_5e,
  "5G10-2" : Symetrie_axiale_figure_5e,
  "5G11-1" : Symetrie_centrale_point,
  "5G11-2" : Symetrie_centrale_figure,
  "5G21-1": Constructibilite_des_triangles_longueurs,
  "5G20-1": Vocabulaire_des_triangles_5e,
  "5G22": DroiteRemarquableDuTriangle,
  "5G30" : Utiliser_le_codage_pour_decrire_5e,
  "5G31": Exercice_angles_triangles,
  "5G31-1": Constructibilite_des_triangles_angles,
  "5N11-1": Tableaux_et_pourcentages,
  "5N13": Exercice_fractions_simplifier,
  "5N13-2": Egalites_entre_fractions,
  "5N110": Variation_en_pourcentages,
  "5N14": Exercice_comparer_deux_fractions,
  "5N14-2": Exercice_comparer_quatre_fractions,
  "5N20": Exercice_additionner_des_fractions_5e,
  "5N20-2": Exercice_additionner_ou_soustraire_des_fractions_5e,
  "5L10": Ecrire_une_expression_litterale,
  "5L10-1": Traduire_une_phrase_par_une_expression_litterale,
  "5L10-2": Traduire_un_programme_de_calcul,
  "5L10-3": Traduire_une_expression_litterale_par_une_phrase,
  "5L10-4": Tableaux_et_fonction,
  "5N20-0": Problemes_additifs_fractions_5e,
  "5L12": Reduire_une_expression_litterale,
  "5L12-1": Reduire_dinstinction_somme_produit,
  "5L13": Calculer_la_valeur_d_une_expression_litterale,
  "5L13-1": Calculer_une_expression_litterale,
  "5L13-2": Exercice_substituer,
  "5L13-3": Traduire_une_phrase_par_une_expression_litterale_et_calculer,
  "5L13-4": Calculer_une_expression_litteraleBis,
  "5L13-5":Calculer_la_valeur_d_une_expression_litterale_deg1_inc1,
  "5L13-6":Determiner_derniere_operation_exp_num,
  "5L14": Tester_une_egalite,
  "5M10": Aire_du_parallelogramme,
  "5M20": Calcul_de_volumes_5e,
  "5P10": Tableaux_et_proportionnalite,
  "5R10-0": Trouver_oppose,
  "5R11": Lire_abscisse_relative,
  "5R11-2": Placer_points_sur_axe_relatifs,
  "5R12": Reperage_point_du_quart_de_plan,
  "5R12-2": Reperage_point_du_plan,
  "5R20": Exercice_additions_relatifs,
  "5R20-2": Exercice_additions_relatifs_a_trou,
  "5R20-3": Exercice_additions_de_5_relatifs, //on pourrait le corriger avec regroupement des termes de même signe 
  "5R20-4": Problemes_additifs_relatifs_5e, 
  "5R20-5": Exercice_tableau_additions_relatifs,
  "5R21": Exercice_soustractions_relatifs,
  "5R22": Exercice_additions_et_soustraction_de_relatifsV2,
  "5R22-2": Exercice_simplification_somme_algebrique,
  "5S13": Calculer_des_frequences,
  "5S14": Calculer_des_moyennes,
  "5S21": fonctions_probabilite1,
  "4Algo1-0": Tracer_avec_scratch,
  "4C10-0": Signe_produit_quotient_relatifs,
  "4C10-1": Signe_produit_relatifs,
  "4C10-2": Signe_quotient_relatifs,
  "4C10-3": Exercice_multiplications_relatifs,
  "4C10-4": Exercice_quotients_relatifs,
  "4C10-5": Exercice_tableau_multiplications_relatifs,
  "4C11": Priorites_et_relatifs,
  "4C25-0": Problemes_additifs_fractions,
  "4C30": Puissances_de_dix,
  "4C30-1": Puissances_encadrement,
  "4C32" : Notation_scientifique,
  "4C32-1" : Calculs_avec_puissances_de_dix,
  "4C33-1": Puissances_d_un_relatif_1,
  "4C33-3": Puissances_d_un_relatif_2,
  "4G40": Transformations_4e,
  "4L10": Exercice_developper,
  "4L13-0": Mettre_en_equation_sans_resoudre,
  "4L13-1": Forme_litterale_introduire_une_lettre,
  "4L14-0": Tester_si_un_nombre_est_solution_d_une_equation,
  "4L14-1": Tester_si_un_nombre_est_solution_d_une_equation_deg1,
  "4L14-2": Tester_si_un_nombre_est_solution_d_une_equation_deg2,
  "4L15-0": Trouver_erreur_resol_eq_deg1,
  "4L20": Exercice_equation1,
  "4G53": Calcul_de_volumes_4e,
  "4C21-1": Exercice_additionner_des_fractions,
  "4C21": Exercice_additionner_ou_soustraire_des_fractions,
  "4C22-1": Exercice_trouver_l_inverse,
  "4C22": Exercice_multiplier_fractions,
  "4C22-2": Exercice_diviser_fractions,
  "4C23": Exercice_additionner_fraction_produit,
  "4F12": Exploiter_representation_graphique,
  "4P10": Problemes_grandeurs_composees,
  "4P10-1" : Graphiques_et_proportionnalite,  
  "4G11": Pavages_et_translation,
  "4G20" : Pythagore2D,
  "4G20-1": Egalite_Pythagore2D, // Anciennement Egalite_Pythagore,
  "4G20-2": Racine_caree_de_carres_parfaits,
  "4G20MG32": Exercice_Pythagore,
  "4G21": Reciproque_Pythagore,
  "4G22": Problemes_Pythagore,
  "4G30": Thales_4eme,
  "4G31": Reciproque_Thales_4eme,
  "4G40": Exercice_Trigo_longueurs_4e,
  "4G41": Exercice_Trigo_angles_4e,
  "3A10": DivisionEuclidienne_multiplesDiviseurs_Criteres,
  "3A11": Premier_ou_pas,
  "3A11-1": Premier_ou_pas_critere_par7_par11,
  "3A11-2": Decomposition_facteurs_premiers,
  "3A11-3": Lister_Diviseurs_Par_Decomposition_facteurs_premiers,
  "3A12": Fractions_irreductibles,
  "3A13": PPCM_Engrenages,
  "3G43": Calcul_de_volumes_3e,
  "3L10": Oppose_expression,
  "3L10-1": Parentheses_precedes_de_moins_ou_plus,
  "3L11": Exercice_developper,
  "3L11-1": Double_distributivite,
  "3L11-2": Reduction_si_possible,
  "3L11-3": Distributivite_simple_double_reduction,
  "3L11-4": Factoriser_par_nombre_ou_x,
  "3L12-1": Developper_Identites_remarquables3,
  "3L12": Factoriser_Identites_remarquables3,
  "3L13": Exercice_equation1, //identique à 4L20
  "3L13-1": Exercice_equation1_2,
  "beta3L13-2": Eq_resolvantes_Thales,
  "3L14": Resoudre_une_equation_produit_nul,
  "3L14-1": Resoudre_une_equation_produit_nul_niv2,
  "3L15": Resoudre_une_equation_x2_egal_A,
  "3P10": Evolutions_en_pourcentage,
  "3P10-1": Coefficient_evolution,
  "3G10-1": Transformations_du_plan_et_coordonnees,
  "3G10-2": Transformations_3e,
  "3G12": Pavages_et_rotation,
  "3G20": Exercice_Thales,
  "3G20-1": Problemes_Thales,
  "3G21": Reciproque_Thales,
  "3G22": Agrandissement_reduction,
  "3G23": TrianglesSemblables,
  "3G30": Exercice_Trigo_longueurs,
  "3G31": Exercice_Trigo_angles,
  "3F1-act": fonction_notion_vocabulaire,
  "3F10" : Image_antecedent_depuis_tableau_ou_fleche,
  "3F12": fonctions_calculs_d_images,
  "3F12-2": Image_fonction_algebrique,
  "3F12-3": Tableau_de_valeurs,
  "3F12-4": Image_graphique,
  "3F13": Antecedent_graphique,
  "3F21": Lecture_expression_fonctions_lineaires,
  "3F21-1": Lecture_expression_fonctions_affines,
  "3S15": Calculer_des_etendues,
  "3S20": fonctions_probabilite2,
  "2N10": Existence_d_une_racine_carree,
  "2N10-1": proprietes_racine_carree,
  "2N11": Extraire_un_carre_parfait_d_une_racine_carree,
  "2N11-1": Simplifier_une_somme_de_racines_carrees,
  "2N12": Double_distributivité_avec_racine_carree,
  "2N12-1": identites_remarquables_et_racine_carree,
  "2N20": ensemble_de_nombres,
  "2N21": parite,
  "2N22": valeur_absolue,
  "2N23": valeur_absolue_et_equation,
  "2N24": intervalles_de_R,
  "2N25": union_et_intersection_intervalles_de_R,
  "2G10": Distance,
  "2G11": Milieu,
  "2G12": Nature_polygone,
  "2L10": Developper_Identites_remarquables2,
  "2L11": Factoriser_Identites_remarquables2,
  "1N10": Terme_d_une_suite_definie_explicitement,
  "1N11": Terme_d_une_suite_definie_par_recurrence, 
  "1E10" : Calcul_discriminant,
  "1E11" : Resoudre_equation_degre_2,
  "PEA11": Passer_d_une_base_a_l_autre,
  "PEA11-1": Passer_de_la_base_12_ou_16_a_la_10,
  "betaTESTseb": Tests_du_Seb,
  P001: Code_LaTeX_personnalise,
  // 'P002': LaTeX_static,
  P003: feuille_d_axes_gradues,
  cours: Questions_de_cours,
  LaTeX: Code_LaTeX_personnalise,
  // 'Perso' : HTML_personnalise,
  // 'TsvgjsKatex' : tests_SVGJS_KATEX,  
};

//Pour modifier les exercices lorsqu'ils sont en mode diaporama
var est_diaporama = false;

if (window.location.href.indexOf("cm.html") > 0) {
  est_diaporama = true;
}

//Efface de la liste des exercices disponibles tout ceux qui n'ont pas de version HTML
if (sortie_html) {
  var codeMG32 = "";
}

for (var i in liste_des_exercices_disponibles) {
  let exercice = new liste_des_exercices_disponibles[i]();
  if (sortie_html && exercice.pas_de_version_HMTL) {
    delete liste_des_exercices_disponibles[i];
  }
  if (!sortie_html && exercice.pas_de_version_LaTeX) {
    delete liste_des_exercices_disponibles[i];
  }
}

/**
 * Classe parente de tous les exercices
 *
 * @Auteur Rémi Angot
 */
function Exercice() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "";
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.introduction = "";
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1.5;
  this.spacing_corr = 1;
  this.beamer = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = false; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.consigne_modifiable = true;
  this.nb_questions_modifiable = true;
  this.nb_cols_modifiable = true;
  this.nb_cols_corr_modifiable = true;
  this.spacing_modifiable = true;
  this.spacing_corr_modifiable = true;
  this.correction_detaillee_disponible = false;
  this.correction_detaillee = true;
  this.bouton_aide = false;
  // this.bouton_aide = modal_texte_court(numero_de_l_exercice,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_texte_long(numero_de_l_exercice,titre,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_youtube(numero_de_l_exercice,id_youtube,texte,label_bouton="Aide - Vidéo",icone="youtube")
  // this.bouton_aide = modal_pdf(numero_de_l_exercice,url_pdf,texte="Aide",label_bouton="Aide - PDF",icone="file pdf")
  this.pas_de_version_LaTeX = false;
  this.MG32editable = false; //pas d'interface par défaut pour les figures MG32
  this.nouvelle_version = function (numero_de_l_exercice) {};
  this.liste_packages = []; // string ou liste de string avec le nom des packages spécifiques à ajouter dans le préambule
}
/**
 * Pour imprimer des repères vierges pour les élèves.
 * @Auteur Jean-Claude Lhote
 * référence : P003
 */
function feuille_d_axes_gradues() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer des droites graduées";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 3;
  this.sup = 10;
  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;
  this.liste_packages = "axes_gradues";

  this.nouvelle_version = function (numero_de_l_exercice) {
    let pas;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    pas = parseInt(this.sup);
    for (let i = 0, id_unique, texte; i < 16; i++) {
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          "",
          6,
          1,
          pas,
          [],
          [],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(2, " ", 1, pas, [], [], false);
        this.liste_questions.push(texte);
      }
    }
    if (!sortie_html)
      liste_de_question_to_contenu_sans_numero_et_sans_consigne(this);
  };
  this.besoin_formulaire_numerique = [`Nombres de parts`, 10, ""];
}

/**
 * Lire l'abscisse entière d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11
 */
function Lire_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse entière d'un point (grands nombres)";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 4;
  this.liste_packages = ["tkz-euclide"];

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Milliers\n2 : Dizaines de mille\n3 : Centaines de mille\n4 : Mélange",
  ];
}
/**
 * Placer un point d'abscisse entière
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11-2
 */
function Placer_un_point_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse entière (grands nombres)";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );
      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3> Placer les points : ${l1}(${string_nombre(
          abs1
        )}), ${l2}(${string_nombre(abs2)}), ${l3}(${string_nombre(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )}) sont placés ci dessous}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Ordre de grandeur : milliers\n2 : Ordre de grandeur : dizaines de mille\n3 : centaines de mille\n4 : Mélange",
  ];
}

/**
 * Questions statiques issues d'un fichier Markdown
 *
 * Les thèmes sont des titres de niveaux 2
 *
 * suivies d'une liste qui alterne question et réponse
 * @Auteur Rémi Angot
 * Référence : cours
 */
function Questions_de_cours() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Questions de cours";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.consigne_modifiable = false;
  this.sup = ""; // thème des questions
  this.sup2 = "questions_de_cours.txt"; //url des questions
  this.pas_de_version_LaTeX = true;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let liste_questions = []; // Liste de questions
    let liste_corrections = []; // Liste de questions corrigées
    let dictionnaire_de_questions = {};
    let dictionnaire_de_questions_pret = false;
    let contenu_HTML = "";
    let contenu_correction_HTML = "";
    $.get(this.sup2, function (txt) {
      // Récupère le fichier txt et transforme en un dictionnaire {'id_theme':[[questions],[réponses]]}
      let tableau_par_theme = txt
        .match(/##((?=[^#]).|\n)*/g)
        .map((v) => v.trim());
      // Recherche les chaines de caractères commençant par ## et ne comportant pas d'autres #
      for (let i = 0; i < tableau_par_theme.length; i++) {
        let tableau_titre = tableau_par_theme[i].match(/##.*/g);
        let questions_et_reponses = tableau_par_theme[i]
          .match(/\*((?=[^*#]).|\n)*/g)
          .map((v) => v.trim());
        // Recherche les chaines de caractères commençant par * et ne comportant pas d'autres * ou de #
        let titre = tableau_titre[0].replace("## ", "");
        // Récupère le titre du thème sans ##
        let tableau_questions = [];
        let tableau_reponses = [];
        for (let i = 0; i < questions_et_reponses.length; i++) {
          if (i % 2 == 0) {
            //rang pair => questions
            tableau_questions[i / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
            // Supprime les * devant chaque questions
          } else {
            //rang impair => réponses
            tableau_reponses[(i - 1) / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
          }
          dictionnaire_de_questions[titre] = [
            tableau_questions,
            tableau_reponses,
          ];
        }
      }

      // Je n'utilise pas this.nb_questions ou this.sup car this n'est pas clairement défini dans cette fonction
      if (exercice[numero_de_l_exercice].sup == "") {
        exercice[numero_de_l_exercice].sup = choice(
          Object.keys(dictionnaire_de_questions)
        ); // Si on n'a pas spécifié un thème, on en prend un au hasard.
      }

      let nb_questions = exercice[numero_de_l_exercice].nb_question;
      if (dictionnaire_de_questions[exercice[numero_de_l_exercice].sup]) {
        // Si le thème existe dans le dictionnaire alors on adapte le nombre de questions
        nb_questions = Math.min(
          exercice[numero_de_l_exercice].nb_questions,
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0]
            .length
        );
      }
      for (let i = 0; i < nb_questions; i++) {
        liste_questions.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0][i]
        );
        liste_corrections.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][1][i]
        );
      }
      shuffle2tableaux(liste_questions, liste_corrections);
      // Mélange les questions et les réponses (sans perdre les associations)
      dictionnaire_de_questions_pret = true;
    });

    let id_unique = `${numero_de_l_exercice}_${Date.now()}`;
    if (sortie_html) {
      this.contenu = `<div id=div_exo${id_unique}></div>`;
      this.contenu_correction = `<div id=div_corr_exo${id_unique}></div>`;
    }

    if (!window.divExist) {
      window.divExist = [];
    } // Si divExist n'existe pas on le créé
    // divExist est un tableau dans lequel on stocke les listenner sur la création des div
    window.divExist[id_unique] = setInterval(function () {
      if ($(`#div_exo${id_unique}`).length && dictionnaire_de_questions_pret) {
        // Attends que le div existe et que le dictionnaire de questions soit prêt
        contenu_HTML = html_enumerate(liste_questions, this.spacing);
        contenu_correction_HTML = html_enumerate(
          liste_corrections,
          this.spacing
        );
        $(`#div_exo${id_unique}`).html(contenu_HTML); //Vide le div pour éviter les SVG en doublon
        $(`#div_corr_exo${id_unique}`).html(contenu_correction_HTML); //Vide le div pour éviter les SVG en doublon
        renderMathInElement(document.body, {
          delimiters: [
            { left: "\\[", right: "\\]", display: true },
            { left: "$", right: "$", display: false },
          ],
          throwOnError: true,
          errorColor: "#CC0000",
          strict: "warn",
          trust: false,
        });
        clearInterval(divExist[numero_de_l_exercice]); //Arrête le timer
      }
    }, 100); // Vérifie toutes les 100ms
  };
  this.besoin_formulaire_texte = ["Thème des questions", "De la forme 6M1"];
  this.besoin_formulaire2_texte = [
    "Liste des questions",
    "URL du fichier texte contenant les questions et réponses.",
  ];
}

/**
 * Lire l'abscisse décimale d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30
 */
function Lire_abscisse_decimale() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des décimaux sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer des décimaux sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer des décimaux sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}
/**
 * Lire l'abscisse fractionnaire d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N21
 */
function Lire_abscisse_fractionnaire() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse fractionnaire d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants et donner le résultat sous la forme d'une fraction.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des demis aux quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2, 3, 4]);
          break;

        case 2: // Placer des cinquièmes aux neuvièmes sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = randint(5, 9);
          break;

        case 3: // Placer des demis aux neuvièmes à partir d'un entier >=1 sur un axe
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = randint(2, 9);
          break;
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          true
        );
        this.contenu_correction+=`<br>`
        if (pgcd(x11,pas2)!=1||pgcd(x22,pas2)!=1||pgcd(x33,pas2)!=1) this.contenu_correction+=`Remarque : `
        if (pgcd(x11,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\phantom{espace}$`
        if (pgcd(x22,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\phantom{espace}$`
        if (pgcd(x33,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\phantom{espace}$`
  
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          true
        );
        if (pgcd(x11,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\right)$.`
        if (pgcd(x22,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\right)$.`
        if (pgcd(x33,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\right)$.`
  
        this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
      }     
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Demis, tiers ou quarts avec zéro placé\n2 : Des cinquièmes aux neuvièmes avec zéro placé \n3 : Toutes les fractions précédentes mais zéro non visible\n4 : Mélange",
  ];
}
/**
 * Exercice calqué sur lire abscisse fractionnaire sauf que le résultat attendu est en écriture décimale.
 * demis, quart, cinquièmes dixièmes et centièmes
 * @Auteur Jean-Claude Lhote
 * Référence 6N30-1
 */
function Lire_abscisse_decimale_bis() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point repéré par une fraction";
  this.consigne = "Lire l\’abscisse de chacun des points suivants et donner le résultat sous la forme d\’un nombre en écriture décimale.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 5)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 3: // Placer des demis ou des quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2,4]);
          break;

        case 4: // Placer des cinquièmes 
          abs0 = 0;
          pas1 = 1;
          pas2 = 5
          break;

        case 1: // Placer des dixièmes
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = 10
          break;
        case 2: // Placer des centièmes
          abs0 = calcul(randint(10, 50)/10);
          pas1 = 10;
          pas2 = 10
          break;       
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Dixièmes\n2 : Centièmes\n3 : Demis et quarts\n4 : Cinquièmes\n5 : Mélange",
  ];
}

/**
 * Placer un point d'abscisse décimale
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30-2
 */
function Placer_points_sur_axe() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse décimale";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer un point sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer un point sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer un point sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );

      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3>Placer les points : ${l1}(${tex_nombrec(
          abs1
        )}), ${l2}(${tex_nombrec(abs2)}), ${l3}(${tex_nombrec(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(
          abs3
        )}) sont placés ci dessus}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );

        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}

/**
 * Conversions de durées.
 * * 1 : H vers min ou H ou min ou Hmin vers s
 * * 2 : h vers j-h
 * * 3 : s vers HMS
 * * 4 : h vers semaines j h
 * * 5 : toutes les conversions
 * @Auteur Rémi Angot
 * Référence 6D10
 */
function Conversions_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 5;
  this.titre = "Convertir des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 2;
  this.nb_questions = 5;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_sous_type_de_questionv1 = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_sous_type_de_questionv2 = combinaison_listes(
      [0, 1, 2],
      this.nb_questions
    );
    let type_de_questions = [];
    if (this.sup < 5) {
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    }
    if (this.sup == 5) {
      type_de_questions = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    }

    for (
      let i = 0, h, m, s, j, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        let sous_type_de_question = liste_sous_type_de_questionv1[i];
        if (sous_type_de_question == 1) {
          h = randint(2, 11);
          texte = `$${h}~\\text{h en minute}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times60~~\\text{min} = ${tex_nombre(
            h * 60
          )}~\\text{min}$`;
        }
        if (sous_type_de_question == 2) {
          h = choice([1, 2, 10, 20]);
          texte = `$${h}~\\text{h en secondes}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times3~600~\\text{s} = ${tex_nombre(
            h * 3600
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 3) {
          m = randint(2, 59);
          texte = `$${m}~\\text{min en secondes}$`;
          texte_corr = `$${m}~\\text{min} = ${m}\\times60~\\text{s} = ${tex_nombre(
            m * 60
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 4) {
          h = randint(1, 2);
          m = randint(2, 59);
          texte = `$${h}~\\text{h}~${m}~\\text{min en secondes}$`;
          texte_corr = `$${h}~\\text{h}~${m}~\\text{min} = ${h}\\times3~600~\\text{s} + ${m}\\times60~\\text{s} = ${tex_nombre(
            h * 3600
          )}+${tex_nombre(m * 60)}~\\text{s} = ${tex_nombre(
            h * 3600 + m * 60
          )}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 2) {
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(h + 24 * j)}~\\text{h en jours et heures}$`;
        texte_corr = `$${tex_nombre(
          h + 24 * j
        )}~\\text{h} = ${j}\\times24~\\text{h} + ${h}~\\text{h} = ${j}~\\text{j}~${h}~\\text{h}$`;
      }

      if (type_de_questions[i] == 3) {
        h = liste_sous_type_de_questionv2[i];
        m = randint(1, 59);
        s = randint(1, 59);
        if (h > 0) {
          texte = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s} = ${tex_nombre(h * 3600)}~\\text{s}+${
            m * 60 + s
          }~\\text{s} =${h}~\\text{h}+${m}\\times60~\\text{s}+${s}~\\text{s}=${h}~\\text{h}~${m}~\\text{min}~${s}~\\text{s}$`;
        } else {
          texte = `$${tex_nombre(m * 60 + s)}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            m * 60 + s
          )}~\\text{s} = ${m}\\times60~\\text{s}+${s}~\\text{s}=${m}~\\text{min}~${s}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 4) {
        s = randint(1, 9); // nombre de semaines
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(
          h + 24 * j + 24 * 7 * s
        )}~\\text{h en semaines jours et heures}$`;
        if (s > 1) {
          // pour la gestion du pluriel de semaines
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaines}~${j}~\\text{j}~${h}~\\text{h}$`;
        } else {
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaine}~${j}~\\text{j}~${h}~\\text{h}$`;
        }
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Conversions en s ou min\n2 : Conversions en jours-heures \n3 : Conversions en HMS\n4 : Conversions en semaines-jours-heures \n5 : Tous types de conversions",
  ];
}

/**
 * Convertir une heure décimale dans le format HMS
 *
 * La partie décimale est 25, 75 ou un seul chiffre
 * @Auteur Rémi Angot
 * Référence 6D101
 */
function Heures_decimales() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Utiliser les heures décimales";
  this.consigne = "Compléter les égalités suivantes";
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, partie_entiere, partie_decimale, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      partie_entiere = randint(1, 12);
      partie_decimale = choice([1, 2, 3, 4, 5, 6, 7, 8, 9, 25, 75]);
      texte = `$${partie_entiere},${partie_decimale}~\\text{h}=\\dotfill$`;
      if (partie_decimale == 25) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~15~\\text{min}$`;
      } else if (partie_decimale == 75) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{3}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~45~\\text{min}$`;
      } else if (partie_decimale == 5) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{2}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~30~\\text{min}$`;
      } else {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{${partie_decimale}}{10}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}+${partie_decimale}\\times6~\\text{min}=${partie_entiere}~\\text{h}~${
          partie_decimale * 6
        }~\\text{min}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions de durées de différents :
 * * MS+MS=1hMS sans retenue sur les s
 * * MS+MS=1hMS avec retenue
 * * HM+HM avec retenue
 * * HMS+HMS avec retenue sur les min
 * * HMS+HMS avec retenues min et s
 * @Auteur Rémi Angot
 * Référence 6D11
 */
function Somme_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additionner des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.sup = 1; // 2 niveaux de difficultés
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions;

    if (this.sup == 1) {
      type_de_questions = combinaison_listes([1, 3], this.nb_questions);
    } else {
      type_de_questions = combinaison_listes(
        [1, 2, 3, 4, 5],
        this.nb_questions
      );
    }
    for (
      let i = 0, h1, h2, m1, m2, s1, s2, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        s1 = randint(11, 39);
        s2 = randint(1, 20);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s}= 1~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 2) {
        s1 = randint(21, 39);
        s2 = randint(40, 59);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s} = ${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} = 1~\\text{h}~${m1 + m2 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }
      if (type_de_questions[i] == 3) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min} = ${h1 + h2 + 1}~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}$`;
      }
      if (type_de_questions[i] == 4) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(1, 60 - s1 - 1);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min}~${s1 + s2}~\\text{s} = ${
          h1 + h2 + 1
        }~\\text{h}~${m1 + m2 - 60}~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 5) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(60 - s1, 59);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=`;
        texte_corr += ` ${h1 + h2}~\\text{h}~${m1 + m2}~\\text{min}~${
          s1 + s2
        }~\\text{s} = ${h1 + h2}~\\text{h}~${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} =${h1 + h2 + 1}~\\text{h}~${m1 + m2 + 1 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 2]; //"1 : Additions simples\n2 : Additions avec d'��ventuelles conversions"]
}

/**
 * Problèmes où il faut calculer la durée d'un évèbement ou un horaire.
 * Paramétrage possible :
 * * 1 : calculs de durées
 * * 2 : calculer l'heure de début
 * * 3 : calculer l'heure de fin
 * * 4 : mélange des 3 types précédents
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Calculs_de_durees_ou_d_horaires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer des durées ou déterminer un horaire";
  this.consigne = "";
  this.sup = 4;
  this.spacing = 2;
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    const type_de_contexte = combinaison_listes(
      [1, 2, 3, 4, 5],
      this.nb_questions
    );
    let type_de_questions; // 1 : calcul de durées // 2 : calcul de l'horaire de début // 3 : calcul de l'horaire de fin // 4 : mélange

    if (this.sup < 4) {
      // que des questions de niveau 1 ou que des questions de niveau 2
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    } else {
      // un mélange équilibré de questions
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    }

    for (
      let i = 0, d1, h1, m1, d2, h2, m2, d, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      //d1 : heure de début (h1 heures m1 min)
      //d2 : heure de fin (h2 heures m2 min)
      //d : durée
      if (type_de_contexte[i] == 1) {
        h1 = randint(20, 22);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 2;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `La diffusion d'un film commence à ${d1} et se termine à ${d2}. Combien de temps a duré ce film ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le film dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Un film dure ${d} et commence à ${d1}. À quelle heure se terminera-t-il ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Le film terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un film de ${d} termine à ${d2}. À quelle heure a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le film a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 2) {
        h1 = randint(20, 23);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 1;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Sur son service de streaming favori, ${prenom()} commence à regarder une série à ${d1} et celle-ci se termine à ${d2}. Combien de temps a duré l'épisode ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La série a duré ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenom()} allume son ordinateur à ${d1} pour regarder une série de ${d}. À quelle heure la série s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La série s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une série de ${d} à ${d2}. À quelle la série a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Elle a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 3) {
        h1 = randint(8, 21);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 59); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Une émission télévisée est diffusée de ${d1} à ${d2}. Combien de temps dure-t-elle ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `L'émission dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une émission télévisée de ${d} commence à ${d1}. À quelle heure s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `L'émission s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une émission de ${d} à ${d2}. À quelle heure l'émission a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `L'émission a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 4) {
        h1 = randint(13, 16);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 58); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(13, 16);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + randint(1, 2);
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un papa regarde la compétition de gymnastique de sa fille  de ${d1} à ${d2}. Calculer la durée de cette compétition.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La compétition dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une compétition de gymnastique commence à ${d1} et dure ${d}. À quelle heure sera-t-elle terminée ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La compétition terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Une compétition de gymnastique qui se termine à ${d2} a duré ${d}. À quelle heure a-t-elle commencé.`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `La compétition a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 5) {
        h1 = randint(8, 15);
        m1 = randint(25, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(2, 5);
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un train part à ${d1} et arrive à destination à ${d2}. Calculer la durée du trajet.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le trajet dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenomF()} monte dans le train à ${d1} pour un trajet qui doit durer ${d}. À quelle heure arrivera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Elle arrivera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un train arrive en gare à ${d2} après un trajet de ${d}. À quelle heure le voyage a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le voyage a commencé à ${d1}.`;
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Calcul de durée\n2 : Calcul de l'horaire de fin\n3 : Calcul de l'horaire de début\n4 : 3 types de questions",
  ];
}

/**
 * Additions et/ou soustractions classique et/ou à trou.
 *
 * Par défaut c'est un mélange d'additions, soustractions avec et sans trou avec des nombres jusqu'à 20.
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Tables_additions_soustractions() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 20;
  this.sup2 = 6; // additions|additions à trous|soustractions|soustractions à trous|mélange sans trou|mélange avec trou
  this.titre = "Additions et de soustractions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = [];
    if (this.sup2 == 1) {
      liste_type_de_questions = combinaison_listes(
        ["addition"],
        this.nb_questions
      );
    }
    if (this.sup2 == 2) {
      liste_type_de_questions = combinaison_listes(
        ["addition_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 3) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 4) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 5) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 6) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "addition_a_trou", "soustraction", "soustraction_a_trou"],
        this.nb_questions
      );
    }
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);

      switch (liste_type_de_questions[i]) {
        case "addition":
          texte = `$${a} + ${b} = \\dotfill$`;
          texte_corr = `$${a} + ${b} = ${a + b}$`;
          break;
        case "addition_a_trou":
          texte = `$${a} + \\ldots\\ldots = ${a + b}$`;
          texte_corr = `$${a} + ${mise_en_evidence(b)} = ${a + b}$`;
          break;
        case "soustraction":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - ${b} = \\dotfill$`;
          texte_corr = `$${a} - ${b} = ${a - b}$`;
          break;
        case "soustraction_a_trou":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - \\ldots\\ldots = ${a - b}$`;
          texte_corr = `$${a} - ${mise_en_evidence(b)} = ${a - b}$`;
          break;
      }

      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 9999]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    6,
    "1 : Additions\n2: Additions à trous\n3: Soustractions\n4 : Soustractions à trous\n5 : Additions et soustractions \n6 : Additions et soustractions avec ou sans trous",
  ];
}

/**
 * Tables de multiplications classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence 6C10-1
 */
function Tables_de_multiplications(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = choice(["classique", "a_trous"]);
      }
      if (type_de_questions == "classique") {
        // classique
        if (choice([true, false])) {
          texte = `$ ${tex_nombre(a)} \\times ${tex_nombre(b)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombre(a * b)}$`;
        } else {
          texte = `$ ${tex_nombre(b)} \\times ${tex_nombre(a)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombre(a * b)}$`;
        }
      } else {
        // a trous
        if (tables.length > 2) {
          // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
          texte = choice([
            "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
            "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
          ]);
        } else {
          // Sinon on demande forcément le 2e facteur
          texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
        }

        texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
* Référence CM002
  */
function Tables_de_divisions(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }
      if (type_de_questions == "classique") {
        // classique
        texte = "$ " + a * b + " \\div " + a + " = \\dotfill $";
      } else {
        // a trous
        if (choice([true, false])) {
          texte = `$ ${a * b} \\div \\ldots\\ldots = ${b}$`;
        } else {
          texte = `$ \\ldots\\ldots \\div ${a}  = ${b}$`;
        }
      }
      texte_corr = `$ ${a * b} \\div ${a} = ${b}$`;
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de multiplications et de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence CM003
 */
function Tables_de_multiplications_et_divisions(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier ou diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications et de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let operation = combinaison_listes(["x", "div"], this.nb_questions); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let type_de_questions;
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }

      if (operation[i] == "x") {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a + " \\times " + b + " = \\dotfill $";
          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        } else {
          // a trous
          if (tables.length > 2) {
            // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
            texte = choice([
              "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
              "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
            ]);
          } else {
            // Sinon on demande forcément le 2e facteur
            texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
          }

          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        }
      } else {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a * b + " \\div " + b + " = \\dotfill $";
        } else {
          // a trous
          if (choice([true, false])) {
            texte = `$ ${a * b} \\div \\ldots\\ldots = ${a}$`;
          } else {
            texte = `$ \\ldots\\ldots \\div ${b}  = ${a}$`;
          }
        }
        texte_corr = `$ ${a * b} \\div ${b} = ${a}$`;
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Mélange équitable d'additions, de soustractions, de multiplications et de divisions
 *
 * * Niveau 1 Addition 2 chiffres + 1 chiffre, soustraction 2 chiffres - 1 chiffre, tables de 2 à 5
 * * Niveau 2 Addition 2 chiffres + 2 chiffres ne dépassant pas 100, soustraction dont le résultat est entre 11 et 19, tables de 6 à 9
 * * Niveau 3 Addition 2 chiffre + 2 chiffres dépassant 100, soustraction dont le résultat est entre 21 et 39, table de 7, 8, 11 ou 12,
 * @Auteur Rémi Angot
* Référence CM004
  */
function Quatre_operations() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Les quatre opérations";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // addition
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(11, 69);
            b = randint(11, 29);
          }
          if (this.sup == 3) {
            a = randint(11, 89);
            b = randint(110 - a, 110 - a + 50);
          }
          texte = `$${a}+${b}$`;
          texte_corr = `$${a}+${b}=${a + b}$`;
          break;
        case 2: // soustraction
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(20, 89);
            b = randint(a - 19, a - 11);
          }
          if (this.sup == 3) {
            a = randint(40, 89);
            b = randint(a - 39, a - 21);
          }
          texte = `$${a}-${b}$`;
          texte_corr = `$${a}-${b}=${a - b}$`;
          break;
        case 3: // multiplication
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a}\\times${b}$`;
          texte_corr = `$${a}\\times${b}=${a * b}$`;
          break;
        case 4: // division
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a * b}\\div${a}$`;
          texte_corr = `$${a * b}\\div${a}=${b}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence CM005
*/
function Ajouter9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_texte_court(
      numero_de_l_exercice,
      "Ajouter 9 revient à ajouter 10 et à soustraire 1."
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+9$`;
      texte_corr = `$${a}+9=${a + 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6N12
 */
function Multiplier_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier un entier par 10, 100, 1 000...";
  this.consigne = "Calculer";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_url(numero_de_l_exercice,'https://mathix.org/glisse-nombre/index.html',
      "Glisse-nombre"
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1,2,3,4,choice([5,6]),7,8,9];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_b = []
      if (this.sup==2){
        liste_de_b = combinaison_listes([10,100,1000,10000,100000],this.nb_questions)
      } else {
        liste_de_b = combinaison_listes([10,100,1000],this.nb_questions)
      }
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(1,9)
          break;
        case 2:
          a = randint(2,9)*10
          break;
        case 3:
          a = randint(2,9)*100
          break;
        case 4:
          a = randint(2,9)*1000
          break;
        case 5:
          a = randint(1,9)*100+randint(1,9)
          break;
        case 6:
          a = randint(1,9)*1000+randint(1,9)
          break;
        case 7:
          a = randint(1,9)*100 + randint(1,9)*10 + randint(1,9)
          break;
          case 8:
            a = randint(1,9)*10000+randint(1,9)*100
            break;
        case 9:
          a = randint(1,9)*10 + randint(1,9)
          break;
            
      }
      
      b = liste_de_b[i]
      if (choice([true,false])) {
        texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`
        texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombre(a*b)}$`
      } else {
        texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`
        texte_corr = `$${tex_nombre(b)}\\times${tex_nombre(a)}=${tex_nombre(a*b)}$`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par 10, 100 ou 1 000\n2 : Multiplication par 10, 100, 1 000, 10 000 ou 100 000'];
}

/**
 * Un nombre à 2 chiffres ne terminant pas par 9 - 9
 * @Auteur Rémi Angot
 * Référence CM006
*/
function Soustraire9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(1, 9) * 10 + randint(0, 8);
      texte = `$${a}-9$`;
      texte_corr = `$${a}-9=${a - 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres non multiple de 10 + 11
 * @Auteur Rémi Angot
 * Référence CM007
*/
function Ajouter11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+11$`;
      texte_corr = `$${a}+11=${a + 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres -11
 * @Auteur Rémi Angot
 * Référence CM008
*/
function Soustraire11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 1, 1, 1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (liste_type_de_questions[i] == 1) {
        a = randint(12, 99);
      } else {
        a = randint(2, 9) * 10;
      }

      texte = `$${a}-11$`;
      texte_corr = `$${a}-11=${a - 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de deux nombres dont les chiffres des unités sont des compléments à 10
 * @Auteur Rémi Angot
 * Référence CM015
*/
function Somme_de_deux_nombres_maries() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 9) * 10 + u1;
      b = randint(1, 9) * 10 + u2;

      texte = `$${a}+${b}$`;
      texte_corr = `$${a}+${b}=${a + b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de 3 nombres dont 2 ont des chiffres des unités compléments à 10
 * @Auteur Rémi Angot
 * Référence CM018
*/
function Somme_de_deux_nombres_maries_et_un_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés et un entier";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, c, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 4) * 10 + u1;
      b = randint(1, 4) * 10 + u2;
      c = randint(1, 100 - a - b);

      switch (liste_type_de_questions[i]) {
        case 1:
          texte = `$${a}+${b}+${c}$`;
          texte_corr = `$${a}+${b}+${c}=${a + b + c}$`;
          break;
        case 2:
          texte = `$${a}+${c}+${b}$`;
          texte_corr = `$${a}+${c}+${b}=${a + b + c}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Mettre en relation un calcul, une traduction en français, une expression, un résultat, pour les décliner dans différents exercices.
 * Exercice sur le vocabulaire : somme,différence, produit, quotient...
 * @Auteur Jean-Claude Lhote
 * Référence 6C13
 */
function Vocabulaire_et_operations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Traduire des phrases en calculs et réciproquement";
  this.consigne = "";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 4;
  this.sup2 = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let decimal;
    let expf, expn, expc, resultats;
    let type_de_questions_disponibles;
    if (this.sup < 4) type_de_questions_disponibles = [parseInt(this.sup)];
    else type_de_questions_disponibles = [1, 2, 3];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2) decimal = 10 ** randint(1, 2);
    else decimal = 1;

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      resultats = Choisir_expression_numerique(1, decimal);
      expf = resultats[0];
      expn = resultats[1];
      expc = resultats[2];
      texte = ``;
      texte_corr = ``;
      switch (liste_type_de_questions[i]) {
        case 1:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul (il n’est pas demandé d’effectuer ce calcul) : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.`;
          break;
        case 2:
          if (expn.indexOf("ou") > 0)
            expn = expn.substring(0, expn.indexOf("ou")); // on supprime la deuxième expression fractionnaire
          texte +=
            num_alpha(i) + `Traduire le calcul par une phrase en français : `;
          texte += `${expn}`;
          expf = `l` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expn} est ${expf}.`;
          break;
        case 3:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul et effectuer ce calcul : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          expf = `L` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.<br>`;
          texte_corr += `${expc}.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    4,
    "1 : Phrase -> Calcul\n 2 : Calcul -> Phrase\n 3 : Phrase -> Calcul + résultat\n 4 : Mélange",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Décimaux", false];
}

/**
 * Un "Le compte est bon" avec des solutions "formatées" pour travailler certains incontournables du calcul mental
 *  @Auteur Jean-Claude Lhote
 * Référence CM020
 */
function Compte_Est_Bon() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Atteindre le résultat souhaité avec 6 nombres et les 4 opérations";
  this.consigne =
    "Trouve le résultat en utilisant les quatre opérations et les nombres du tirage (une seule fois).";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de calcul souhaité

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions, a, b, c, d, e, f, cible, tirage, choix;
    if (!this.sup) {
      // Si rien n'est saisi
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        type_de_questions = combinaison_listes(
          [parseInt(this.sup)],
          this.nb_questions
        );
      } else {
        type_de_questions = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < type_de_questions.length; i++)
          type_de_questions[i] = parseInt(type_de_questions[i]);
        this.nb_questions = type_de_questions.length;
      }
    }
    choix = combinaison_listes(range1(5), this.nb_questions);
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (type_de_questions[i]) {
        case 1:
          a = randint(2, 9);
          b = randint(2, 8, a);
          c = randint(1, 9, [a, b]);
          d = randint(1, 9, [a, b, c]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}+${d}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}-${d}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}+${d}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}-${d}$`;
              break;
            default:
              cible = calcul(a * 100 + (b + c) * 10 + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times(${b}+${c})+${d}$`;
          }
          break;

        case 2:
          a = randint(3, 9);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}+${c}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}-${c}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}-10\\times${b}+${c}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=2\\times50\\times${a}-10\\times${b}-${c}$`;
              break;
            default:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=4\\times25\\times${a}+10\\times${b}-${c}$`;
          }
          break;
        case 3:
          a = randint(2, 5);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})+${c}$`;
              break;
            case 2:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})-${c}$`;
              break;
            case 3:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})+${c}$`;
              break;
            case 4:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})-${c}$`;
              break;
            default:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 75, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times((25+75)+10\\times${b})+${c}$`;
          }
          break;
      }
      texte = `Voici le tirage : `;
      for (let i = 0; i < 5; i++) texte += `${tirage[i]} ; `;
      texte += `${tirage[5]}.<br>`;
      texte += `Et le nombre à trouver est : ${cible}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Niveaux de difficultés (1 à 3)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}


/**
 * Générateur de tirages pour un compte est bon avec en correction la solution mathador (4 opérations différentes).
 * @Auteur Jean-Claude Lhote
 * référence CM019
 */

function Le_compte_est_bonV3() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon"';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 30;
  this.sup2 = 70;
  var max_solution = 70;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression;
    let min_solution = parseInt(this.sup);
    max_solution = parseInt(this.sup2);
    if (min_solution > max_solution) {
      min_solution = max_solution;
      this.sup = this.sup2;
    }
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      solution_mathador = Trouver_solution_mathador(min_solution, max_solution);
      tirage = solution_mathador[0];
      solution = solution_mathador[1];
      expression = solution_mathador[3];

      texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
      texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
      texte_corr += `ou $${solution_mathador[4]}$.<br>`;
      texte_corr += `En effet : <br>`;
      for (let i = 0; i < 4; i++) {
        texte_corr += `$${solution_mathador[2][i]}$<br>`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Limite inférieure", max_solution];
  this.besoin_formulaire2_numerique = ["Limite supérieure", 100];
}
/**
 * @Auteur Jean-Claude Lhote
  * référence CM020
 * Dans cette version, il est possible de choisir 1,2,3,4 ou 5 nombres du tirage et de contraindre la cible entre deux valeurs
 */
function Le_compte_est_bonV4() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon" version semi-aléatoire';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 1;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression, min, max, texte, texte_corr;
    let minmax = [];
    let a, b, c, d, e;
    if (!this.sup2) {
      // Si rien n'est saisi
      min = 0;
      max = 100;
    } else {
      if (typeof this.sup2 == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        min = 0;
        max = this.sup2;
      } else {
        minmax = this.sup2.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        min = minmax[0];
        max = minmax[1];
      }
    }
    if (!this.sup) {
      // Si rien n'est saisi
      solution_mathador = Trouver_solution_mathador(min, max);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        solution_mathador = Trouver_solution_mathador(min, max, this.sup);
      } else {
        tirage = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < tirage.length; i++) tirage[i] = parseInt(tirage[i]);
        solution_mathador = Trouver_solution_mathador(min, max, ...tirage);
      }
    }

    tirage = solution_mathador[0];
    solution = solution_mathador[1];
    expression = solution_mathador[3];

    texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
    texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
    texte_corr += `ou $${solution_mathador[4]}$.<br>`;
    texte_corr += `En effet : <br>`;
    for (let i = 0; i < 4; i++) {
      texte_corr += `$${solution_mathador[2][i]}$<br>`;
    }
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des nombres du tirage (de aucun à cinq)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_texte = [
    "Intervalle pour la cible (ou rien pour cible non contrainte)",
    "Minimum-Maximum (éviter de trop contraindre la cible, cela peut bloquer le programme)",
  ]; // Texte, tooltip

  // this.besoin_formulaire2_numerique = ['Limite supérieure',100];
}
/**
 * @Auteur Jean-Claude Lhote
 * @param {number} min Valeur minimum pour la solution
 * @param {number} max Valeur maximum pour la solution
 * Cette fonction produit aléatoirement un tirage de 5 nombres, une solution, un tableau contenant les calculs successifs, une chaine contenant l'expression mathador correspondante
 * @returns {array} [tirage=[a,b,c,d,e],solution (compris entre min et max),operations_successives=[string1,string2,string3,string4,string5],expression]
 * les string1 à 5 ainsi que l'expresion sont ) mettre en mode maths.
 * sert dans les exercices CM019,
 */
function Trouver_solution_mathador(
  min,
  max,
  A = 1,
  B = 4,
  C = 8,
  D = 3,
  E = 5
) {
  let eureka,
    a,
    b,
    c,
    d,
    e,
    tirage,
    nombres_restants,
    operations_restantes,
    expression_en_cours_f,
    expression_en_cours_d,
    op,
    part1_f,
    part2_f,
    part1_d,
    part2_d,
    operations_successives = [],
    solution;
  let liste_choix = [
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    6,
    6,
    6,
    6,
    7,
    7,
    8,
    8,
    8,
    8,
    9,
    9,
    9,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
  ];
  eureka = false;
  let nb_determines = arguments.length - 2;
  while (eureka == false) {
    tirage = [];

    if (nb_determines < 1) a = parseInt(choice(liste_choix));
    else a = A;
    if (nb_determines < 2)
      b = parseInt(choice(liste_choix, [13, 14, 15, 16, 17, 18, 19, 20, a]));
    else b = B;
    if (nb_determines < 3)
      c = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, a, b])
      );
    else c = C;
    if (nb_determines < 4)
      d = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, b, c])
      );
    else d = D;
    if (nb_determines < 5)
      e = parseInt(choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20]));
    else e = E;
    tirage.push(a, b, c, d, e);
    nombres_restants = shuffle(tirage);
    operations_restantes = ["\\times", "+", "-", "\\div"];
    operations_restantes = shuffle(operations_restantes);
    expression_en_cours_f = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];
    expression_en_cours_d = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];

    while (nombres_restants.length > 1) {
      b = nombres_restants.pop();
      a = nombres_restants.pop();
      part2_f = expression_en_cours_f.pop();
      part1_f = expression_en_cours_f.pop();
      part2_d = expression_en_cours_d.pop();
      part1_d = expression_en_cours_d.pop();

      op = operations_restantes.pop();
      if (op == "\\times") {
        c = a * b;
        expression_en_cours_f.push(`${part1_f}${op}${part2_f}`);
        expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
        nombres_restants.push(c);
      } else if (op == "\\div") {
        if (a % b == 0) {
          c = a / b;
          if (part1_f[0] == "\\") {
            part1_f = part1_f.substring(6, part1_f.length);
            part1_f = part1_f.substring(0, part1_f.length - 7);
          }
          if (part2_f[0] == "\\") {
            part2_f = part2_f.substring(6, part2_f.length);
            part2_f = part2_f.substring(0, part2_f.length - 7);
          }
          expression_en_cours_f.push(`\\dfrac{${part1_f}}{${part2_f}}`);
          expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
          nombres_restants.push(c);
        } else break;
      } else if (op == "-") {
        if (a > b) {
          c = a - b;
          expression_en_cours_f.push(
            `\\left(${part1_f}${op}${part2_f}\\right)`
          );
          expression_en_cours_d.push(
            `\\left(${part1_d}${op}${part2_d}\\right)`
          );
          nombres_restants.push(c);
        } else break;
      } else if (op == "+") {
        c = a + b;
        if (part2_f.substring(0, 2) == "\\l") {
          part2_f = part2_f.substring(6, part2_f.length);
          part2_f = part2_f.substring(0, part2_f.length - 7);
        }
        expression_en_cours_f.push(`\\left(${part1_f}${op}${part2_f}\\right)`);
        if (part2_d.substring(0, 2) == "\\l") {
          part2_d = part2_d.substring(6, part2_d.length);
          part2_d = part2_d.substring(0, part2_d.length - 7);
        }
        expression_en_cours_d.push(`\\left(${part1_d}${op}${part2_d}\\right)`);
        nombres_restants.push(c);
      }
      operations_successives.push(`${a}` + op + `${b}=${c}`);
    }

    if (nombres_restants.length == 1 && operations_restantes.length == 0) {
      solution = nombres_restants[0];
      if (solution >= min && solution <= max) {
        eureka = true;
        if (
          expression_en_cours_f[0][0] == "\\" &&
          expression_en_cours_f[0][1] == `l`
        ) {
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            6,
            expression_en_cours_f[0].length
          );
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            0,
            expression_en_cours_f[0].length - 7
          );
        }
        if (
          expression_en_cours_d[0][0] == "\\" &&
          expression_en_cours_d[0][1] == `l`
        ) {
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            6,
            expression_en_cours_d[0].length
          );
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            0,
            expression_en_cours_d[0].length - 7
          );
        }
        return [
          tirage,
          solution,
          operations_successives,
          expression_en_cours_f,
          expression_en_cours_d,
        ];
      } else operations_successives = [];
    } else operations_successives = [];
  }
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * Référence 6N10
 */

function Ecrire_nombres_entiers() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 3
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles;
    if (this.sup2==1) type_de_questions_disponibles=[1,1,1,2,2]
    else if (this.sup2==2) type_de_questions_disponibles=[1,2,2,2,3]
    else if (this.sup2==3)  type_de_questions_disponibles=[2,2,3,3,4]
    else type_de_questions_disponibles=[2,3,3,4,4]

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
      }
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(nombre)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(nombre)} : \\dotfill`
        else texte = `${nombreEnLettres(nombre)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(nombre)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Niveau', 4, '1 : Élémentaire\n2 : Facile\n3 : Moyen\n4 : Difficile']
}

/**
 * 6N10-4
 * Supprimer les zéros inutiles, séparer les classes d'un nombre entier.
 * @Auteur Jean-Claude Lhote
 */
function Ecrire_nombres_entiers_formates() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire correctement les grands nombres entiers."
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 2
  this.nouvelle_version = function (numero_de_l_exercice) {
  this.consigne=`Écrire les nombres en chiffres en supprimant les zéros inutiles et en séparant les classes.`
  this.liste_questions = []; // Liste de questions
  this.liste_corrections = []; // Liste de questions corrigées 
  function zeroSuperflus(n) {
    let nzero=randint(0,2),nombrestring=n.toString()
    for (let k=0;k<nzero;k++) nombrestring=`0`+nombrestring
    return nombrestring
  }
  for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,nombrestring, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < 3; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < 3; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[2]==0) nombre=0
      }
      nombrestring=zeroSuperflus(nombre)
        if (!est_diaporama) texte = `$${nombrestring}$ : \\dotfill`
        else texte =`$${nombrestring}$`
       if (!est_diaporama) texte_corr = `$${nombrestring}=${tex_nombre(nombre)}$.`
       else texte_corr = `${tex_nombre(nombre)}.`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  //this.besoin_formulaire2_numerique = ['Niveau', 3, '1 : Facile\n2 : Moyen\n3 : Difficile']
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * 6N23-0
 */

function Ecrire_nombres_decimal() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre décimal en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 1
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles = [parseInt(this.sup2)+1]; // <1 000, <1 000 000) 
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,part_ent,part_dec,nb_dec, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        part_ent=0
        part_dec=0
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 1; j < liste_type_de_questions[i]; j++) {
          part_ent+= tranche[j] * 10 ** ((j-1)*3)
         // nombre += tranche[j] * 10 ** ((j-1)*3)
        }
        part_dec=tranche[0]
        nombre=calcul(part_ent+part_dec/1000)
        // if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
        if (tranche[1]<2) nombre=0
        if (tranche[0]==0) nombre=0
        
      }
      if (part_dec%10!=0) nb_dec=3
      else if (part_dec%100!=0) nb_dec=2
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : \\dotfill`
        else texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      texte=texte.replace('et-un unités','et-une unités')
      texte_corr=texte_corr.replace('et-un unités','et-une unités')
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Classe maximum', 2, '1 : Unités\n2 : Milliers']
}

/**
 * Le nombre de dizaines, centaines et milliers étant donné, il faut écrire le nombre.
 *
 * 2 fois sur 5 il y a chevauchement entre les classes
 * @Auteur Rémi Angot
 * 6N10-1
 */
function Exercice_numeration_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Écrire un nombre à partir de son nombre de dizaines, de centaines, de milliers...";
  this.consigne = "Écrire en chiffres chacun des nombres.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 2, 2],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, rang_a, rang_b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 8) * 10 + randint(1, 5);
      b = randint(2, 8) * 10 + randint(1, 5);
      let rangs = [
        "unités",
        "dizaines",
        "centaines",
        "milliers",
        "dizaines de mille",
        "centaines de mille",
        "millions",
      ];
      rang_a = randint(0, 2);
      if (liste_type_de_questions[i] == 1) {
        rang_b = randint(rang_a + 2, 6);
      } else {
        rang_b = rang_a + 1;
      }

      texte = `$\\text{${b}  ${rangs[rang_b]} et ${a} ${rangs[rang_a]}}$`;
      texte_corr = `$${b} \\text{ ${rangs[rang_b]} et }${a} \\text{ ${
        rangs[rang_a]
      } : } ${tex_nombre(b*Math.pow(10, rang_b))} + ${a*tex_nombre(Math.pow(10, rang_a))} =${tex_nombre(
        b * Math.pow(10, rang_b) + a * Math.pow(10, rang_a)
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Des questions sur le nombre ou le chiffre de centaines, de dizaines, de dixièmes, de centièmes...
 * @Auteur Rémi Angot
 * Référence 6N10-2
 */
function Decomposition_nombre_decimal() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Décomposer un nombre décimal (nombre de..., chiffre de...)";
  this.consigne = "Compléter les phrases suivantes.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      1,
      2,
      choice([3, 4, 5]),
      choice([6, 7, 8]),
      choice([9, 10]),
      choice([11, 12]),
    ]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let m = randint(1, 9); // le nombre sera le même pour tout l'exercice
    let c = randint(0, 9, [m]);
    let d = randint(0, 9, [m, c]);
    let u = randint(0, 9, [m, c, d]);
    let di = randint(0, 9, [m, c, d, u]);
    let ci = randint(0, 9, [m, c, d, u, di]);
    let mi = randint(1, 9, [m, c, d, u, di, ci]);
    let n =
      m.toString() +
      "" +
      c.toString() +
      d.toString() +
      u.toString() +
      "," +
      di.toString() +
      ci.toString() +
      mi;
    //calcul ne semble pas marcher avec 7 chiffres significatifs
    this.consigne = `On considère le nombre $${n}$. Compléter les phrases suivantes.`;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          texte = "La partie entière de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(m * 1000 + c * 100 + d * 10 + u)}$`;
          break;
        case 2:
          texte = "La partie décimale de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(di / 10 + ci / 100 + mi / 1000)}$`;
          break;
        case 3:
          texte = "Le chiffre des dizaines de ce nombre est : ";
          texte_corr = texte + `$${d}$`;
          break;
        case 4:
          texte = "Le chiffre des centaines de ce nombre est : ";
          texte_corr = texte + `$${c}$`;
          break;
        case 5:
          texte = "Le chiffre des miliers de ce nombre est : ";
          texte_corr = texte + `$${m}$`;
          break;
        case 6:
          texte = "Le chiffre des dixièmes de ce nombre est : ";
          texte_corr = texte + `$${di}$`;
          break;
        case 7:
          texte = "Le chiffre des centièmes de ce nombre est : ";
          texte_corr = texte + `$${ci}$`;
          break;
        case 8:
          texte = "Le chiffre des millièmes de ce nombre est : ";
          texte_corr = texte + `$${mi}$`;
          break;
        case 9:
          texte = "Le nombre de dizaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(d + c * 10 + m * 100)}$`;
          break;
        case 10:
          texte = "Le nombre de centaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(c + m * 10)}$`;
          break;
        case 11:
          texte = "Le nombre de dixièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(di + u * 10 + d * 100 + c * 1000 + m * 10000)}$`;
          break;
        case 12:
          texte = "Le nombre de centièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(
              ci + di * 10 + u * 100 + d * 1000 + c * 10000 + m * 100000
            )}$`;
          break;
      }

      texte_corr += ".";
      texte += "\\ldots";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * 100-...=
 * @Auteur Rémi Angot
* Référence CM012
 */
function Complement_a_100() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à 100";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(11, 89);
      texte = `$100-${a}$`;
      texte_corr = `$100-${a}=${100 - a}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Une soustraction dont le premier terme est un multiple de 10
 * @Auteur Rémi Angot
 * Référence CM013
*/
function Complement_a_une_dizaine() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à une dizaine";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 9) * 10;
      b = randint(2, a - 11);
      texte = `$${a}-${b}$`;
      texte_corr = `$${a}-${b}=${a - b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Division d'un entier par 10, 100, 1000
 * @Auteur Rémi Angot
 * Référence CM016
*/
function Diviser_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un entier par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([randint(1, 9), randint(11, 99), randint(101, 999)]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Un entier à un 1 ou 2 chiffres, un nombre décimal avec une partie décimale à un ou 2 chiffres à diviser par 10, 100 ou 1000
 * @Auteur Rémi Angot
 * Référence CM017
*/
function Diviser_decimal_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un nombre décimal par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([
        randint(1, 9),
        randint(11, 99),
        calcul(randint(11, 99) / 10),
        calcul(randint(101, 999) / 100),
        calcul(randint(1, 9) / 10),
      ]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer la moitié d'un nombre pair, d'un impair inférieur à 20, d'un multiple de 200, d'un nombre de la forme a00 avec a impair, d'un nombre de la forme
 *  a,b avec a et b pairs ou 1xx avec xx un nombre pair
 * @Auteur Rémi Angot
 * Référence CM009
*/
function Moitie() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Moitié";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(6);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 2
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 2: // Impair inférieur à 20
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2 + 1}$`;
          texte_corr = `$\\text{La moitié de }${
            a * 2 + 1
          } \\text{ est } ${tex_nombrec(a + 5 / 10)}$`;
          break;
        case 3: // Table de 200
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre(a * 2 * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            a * 2 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // a00 avec a impair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre((a * 2 + 1) * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            (a * 2 + 1) * 100
          )} \\text{ est } ${tex_nombre(a * 100 + 50)}$`;
          break;
        case 5: // a,b avec a et b pairs
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
        case 6: // 1xx avec xx un nombre pair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${100 + a * 2}$`;
          texte_corr = `$\\text{La moitié de }${100 + a * 2} \\text{ est } ${
            50 + a
          }$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le tiers d'un multiple de 3, d'un multiple de 300, d'un multiple de 30 ou d'un nombre a,b avec a et b multiples de 3
 * @Auteur Rémi Angot
* Référence CM010
 */
function Tiers() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tiers";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 3
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
        case 2: // Table de 300
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 3: // Table de 30
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 10)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 4: // a,b avec a et b divisibles par 3
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombrec(a * 3 + (b * 3) / 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombrec(
            a * 3 + (b * 3) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le quart d'un multiple de 4, d'un impair, d'un multiple de 400, d'un multiple de 40, d'un nombre a,b avec a et b multiples de 4
 * @Auteur Rémi Angot
 * Référence CM011
*/
function Quart() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Quart";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(5);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 4
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${a * 4}$`;
          texte_corr = `$\\text{Le quart de }${a * 4} \\text{ est } ${a}$`;
          break;
        case 2: // Impair
          a = randint(2, 9);
          b = choice([1, 2, 3]);
          texte = `$\\text{Le quart de }${a * 4 + b}$`;
          texte_corr = `$\\text{Le quart de }${
            a * 4 + b
          } \\text{ est } ${tex_nombrec(a + b / 4)}$`;
          break;
        case 3: // Table de 400
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // Table de 40
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 10)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 5: // a,b avec a et b divisibles par 4
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombrec(a * 4 + (b * 4) / 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombrec(
            a * 4 + (b * 4) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le double ou le triple d'un nombre, calculer la moitié d'un nombre pair ou le tiers d'un multiple de 3
 * @Auteur Rémi Angot
* Référence CM014
 */
function Double_moitie_tiers_triple() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Double, moitié, tiers, triple";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Double
          a = randint(2, 9);
          texte = `$\\text{Le double de }${a}$`;
          texte_corr = `$\\text{Le double de }${a} \\text{ est } ${a * 2}$`;
          break;
        case 2: // Moitié
          a = randint(2, 9) * 2;
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 3: // Triple
          a = randint(2, 9);
          texte = `$\\text{Le triple de }${a}$`;
          texte_corr = `$\\text{Le triple de }${a} \\text{ est } ${a * 3}$`;
          break;
        case 4: // Tiers
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Les 2 facteurs peuvent terminer par aucun, 1, 2 ou 3 zéros
 * @Auteur Rémi Angot
* Référence 6C10-2
 */
function Exercice_tables_de_multiplications_et_multiples_de_10(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et multiples de 10";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, texte, texte_corr, melange;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      if (a > 1) {
        k1 = choice([1, 10, 100, 1000]);
      } else {
        k1 = choice([10, 100, 1000]);
      }
      k2 = choice([1, 10, 100, 1000]);
      a = k1 * a;
      b = k2 * b;
      melange = randint(0, 1);
      if (melange == 1) {
        // échange a et b pour que les multiplications ne soient pas toujours dans le même ordre (surtout lorsque tables n'a qu'un seul élément)
        let c = a;
        a = b;
        b = c;
      }

      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a * b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Multiplier deux nombres décimaux
 * @Auteur Rémi Angot
 * Référence 6C10-3
 */
function Exercice_tables_de_multiplications_et_decimaux(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et nombres décimaux";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, couple, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      couple = choice([
        [1, 10],
        [1, 100],
        [1, 1000],
        [10, 100],
        [10, 1000],
        [100, 100],
        [100, 1000],
      ]);
      k1 = couple[0];
      k2 = couple[1];
      a = Algebrite.eval(a / k1);
      b = Algebrite.eval(b / k2);
      if (a == 1) {
        a = 0.01;
      }
      if (b == 1) {
        b = 0.1;
      }
      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(Algebrite.eval(a * b)) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Additionner deux entiers
 * @Auteur Rémi Angot
 * Référence 6C10-4
 */
function Exercice_tables_d_additions(max = 20) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Addition de deux entiers";
  this.consigne = "Calculer";
  this.sup = max; // Le paramètre accessible à l'utilisateur sera la valeur maximale
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);
      texte = "$ " + tex_nombre(a) + " + " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " + " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a + b) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Simplifier une fraction, le facteur commun est inférieur à une valeur donnée en paramètre qui est 11 par défaut
 * @Auteur Rémi Angot
 *  5N13
 */
function Exercice_fractions_simplifier(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = max; // Correspond au facteur commun
  this.titre = "Simplification de fractions";
  this.consigne = "Simplifier les fractions suivantes.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    for (
      let i = 0, fraction, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      fraction = choice(liste_fractions); //
      a = fraction[0];
      b = fraction[1];
      k = randint(2, this.sup);
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même réponse
      texte =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction("\\phantom{00000000000000}", "") +
        " = " +
        tex_fraction("\\phantom{0000}", "") +
        " $";
      texte_corr =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction(k + " \\times " + a, k + " \\times " + b) +
        " = " +
        tex_fraction(a, b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Valeur maximale du facteur commun",
    99999,
  ];
}

/**
 * Écrire une fraction avec un nouveau dénominateur qui est un multiple de son dénominateur (ce multiple est inférieur à une valeur maximale de 11 par défaut)
 * @Auteur Rémi Angot
 * 5N13-2 et 6N41
 */
function Egalites_entre_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 11; // Correspond au facteur commun
  this.titre = "Égalités entre fractions simples";
  this.consigne = "Compléter les égalités.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 1, 2],
      this.nb_questions
    );
    for (
      let i = 0, fraction, a, b, c, d, k, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      if (liste_type_de_questions[i] == 1) {
        // égalité entre 2 fractions
        fraction = choice(liste_fractions); //
        a = fraction[0];
        b = fraction[1];
        k = randint(2, this.sup);
        c = k * a;
        d = k * b;
        enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même fraction de départ
        texte = `$${tex_fraction(a, b)} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${tex_fraction(a, b)} = ${tex_fraction(
          a + mise_en_evidence("\\times" + k),
          b + mise_en_evidence("\\times" + k)
        )} = ${tex_fraction(c, d)}$`;
      } else {
        //écrire un entier sous la forme d'une fraction
        a = randint(1, 9);
        d = randint(2, 9);
        c = a * d;
        texte = `$${a} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${a} = \\dfrac{${a}}{1} =${tex_fraction(
          a + mise_en_evidence("\\times" + d),
          "1" + mise_en_evidence("\\times" + d)
        )} = ${tex_fraction(c, d)}$`;
      }

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale du facteur commun", 99];
}

/**
 * Un nombre est-il divisible par :
 *
 * * 2, 5, 10 ?
 * * 3, 9 ?
 * * 2, 3, 5, 9, 10 ?
 * * 2, 3, 5, 9, 10  et un autre nombre qui peut être 7, 13, 17, ou 19 ?
 * @Auteur Rémi Angot
 * 6N43
 */
function Criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne = "Répondre aux questions suivantes en justifiant.";
  this.spacing = 2;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_des_exercices_disponibles;
    if (this.sup == 1) {
      liste_des_exercices_disponibles = [2, 5, 10];
    }
    if (this.sup == 2) {
      liste_des_exercices_disponibles = [3, 9];
    }
    if (this.sup == 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10];
    }
    if (this.sup > 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10, "autre"];
    }
    let liste_type_de_questions = combinaison_listes(
      liste_des_exercices_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, fraction, n, u, texte, texte_corr, somme_string, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 2:
          u = randint(1, 2);
          n = randint(10, 999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $2$ ?`;
          if (u % 2 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $2$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $2$.`;
          }
          break;

        case 3:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $3$ ?`;
          if (calcul(somme_string) % 3 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              calcul(somme_string) / 3
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $3$ donc $${tex_nombre(
              n
            )}$ est divisible par $3$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              (calcul(somme_string) - (calcul(somme_string) % 3)) / 3
            }+${calcul(somme_string) % 3}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$.`;
          }
          break;

        case 9:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $9$ ?`;
          if (calcul(somme_string) % 9 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              calcul(somme_string) / 9
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $9$ donc $${tex_nombre(
              n
            )}$ est divisible par $9$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              (calcul(somme_string) - (calcul(somme_string) % 9)) / 9
            }+${calcul(somme_string) % 9}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$.`;
          }
          break;

        case 5:
          u = choice([randint(1, 9, [0, 5]), randint(1, 9, [0, 5]), 5, 0]); // 1 fois sur 2 ça sera divisible par 5
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $5$ ?`;
          if (u % 5 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $5$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $5$.`;
          }
          break;

        case 10:
          u = choice([randint(1, 9), 0]); // 1 fois sur 2 ça sera divisible par 10
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $10$ ?`;
          if (u == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $10$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $10$.`;
          }
          break;

        case "autre":
          n = randint(100, 999);
          u = choice([7, 7, 7, 7, 13, 17, 19]);
          if (u == 7) {
            n = choice(
              [randint(10, 99) * 10 + 7],
              7 * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par 7, un divisible par 7, un au hasard
          } else {
            n = choice(
              [randint(10, 99) * 100 + u],
              u * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par u, un divisible par u, un au hasard
          }
          texte = `$${tex_nombre(n)}$ est-il divisible par $${u}$ ?`;
          texte_corr = `On ne connait pas de critère de divisibilité par $${u}$, on calcule donc la division euclidienne de $${tex_nombre(
            n
          )}$ par $${u}$.<br>`;
          if (n % u == 0) {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${tex_nombre(
              n / u
            )}$<br>`;
            texte_corr += `Le reste de la division euclidienne est nul donc $${tex_nombre(
              n
            )}$ est divisible par $${u}$.`;
          } else {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${(n - (n % u)) / u}+${
              n % u
            }$<br>`;
            texte_corr += `Le reste de la division euclidienne n'est pas nul donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $${u}$.`;
          }

          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Choix des questions",
    4,
    "1 : Critères de divisibilité par 2, 5, 10\n\
2 : Critères de divisibilité par 3,9\n3 : Critères de divisibilité par 2, 3, 5, 9, 10\n4 : Avec ou sans critère de divisibilité",
  ];
}

/**
 * Un nombre est-il divisible par 2, 3, 5, 9 ?
 *
 *
 * @Auteur Rémi Angot
 * 6N43-2
 */
function Tableau_criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne =
    "Compléter le tableau en mettant oui ou non dans chaque case.";
  this.spacing = 1;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_des_nombres_possibles = [
      "div2",
      "div3",
      "div39",
      "div5",
      "div25",
      "div23",
      "div239",
      "div35",
      "div2359",
      "divrien",
    ];
    // divisible par 2, divisible par 3, divisible par 3 et 9...

    let liste_des_types_de_nombres = combinaison_listes(
      liste_des_nombres_possibles,
      this.nb_questions
    );
    let tableau_de_nombres = [];
    let tableau_de_nombres_avec_correction = [];
    let liste_de_facteurs = [
      7,
      11,
      13,
      17,
      19,
      23,
      29,
      31,
      37,
      41,
      43,
      47,
      53,
      59,
      61,
      67,
      71,
      73,
      79,
      83,
      89,
      97,
      101,
      103,
      107,
      109,
      113,
      127,
      131,
      137,
      139,
      149,
      151,
      157,
      163,
      167,
      173,
      179,
      181,
      191,
      193,
      197,
      199,
      211,
      223,
      227,
      229,
      233,
      239,
      241,
      251,
      257,
      263,
      269,
      271,
      277,
      281,
      283,
      293,
    ];
    for (let i = 0; i < this.nb_questions; i++) {
      switch (liste_des_types_de_nombres[i]) {
        case "div2":
          tableau_de_nombres[i] = 2 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div3":
          tableau_de_nombres[i] = 3 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div39":
          tableau_de_nombres[i] = 9 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div5":
          tableau_de_nombres[i] = 5 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div25":
          tableau_de_nombres[i] = 10 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div23":
          tableau_de_nombres[i] = 6 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div239":
          tableau_de_nombres[i] = 18 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div35":
          tableau_de_nombres[i] = 15 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div2359":
          tableau_de_nombres[i] = 90 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "divrien":
          tableau_de_nombres[i] = choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
      }
    }

    if (sortie_html) {
      texte = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }

    texte += `\\hline\n`;
    texte += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte += `${tex_nombre(tableau_de_nombres[i])} & & & & \\\\\n`;
      texte += `\\hline\n`;
    }

    texte += `\\end{array}\n$`;

    if (sortie_html) {
      texte_corr = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte_corr = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }
    texte_corr += `\\hline\n`;
    texte_corr += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte_corr += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte_corr += tableau_de_nombres_avec_correction[i];
      texte_corr += `\\hline\n`;
    }

    texte_corr += `\\end{array}$\n`;

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Exercice sur la notion de proportionnalité (ou pas)
 * @Auteur Jean-Claude Lhote
 * référence 6P10
 */
function Proportionnalite_pas_proportionnalite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Reconnaître une situation de proportionnalité";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1.4;
  sortie_html ? this.spacing_corr = 1.5 : this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;
  this.nb_cols = 1;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_choix_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_choix = combinaison_listes(
      liste_choix_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    let tirages = [[]];
    let index3 = [];
    let villes = ["Moscou", "Berlin", "Paris", "Bruxelles", "Rome", "Belgrade"];
    let verbes = [
      "double",
      "triple",
      "quadruple",
      "est multiplié par 5",
      "est multiplié par 6",
    ];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "canetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];

    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        choix,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_choix[i]) {
        case 1:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle  repart avec ${y} ${objet} pour $${tex_prix(
            somme
          )}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombre(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€ $=${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€.<br>`;
          texte_corr += `A l'aide de ces données, on constate que le prix des ${objet} et leur quantité sont tous les deux multipliés par le même nombre, donc ces deux grandeurs sont proportionnelles.<br>`;
          break;
        case 2:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          pu -= 0.1;
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle a obtenu ${y} ${objet} pour $${tex_prix(somme)}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombrec(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€.<br>Mais $${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€ $=${tex_prix(
            calcul((p * somme) / y)
          )}$€.<br>`;
          texte_corr += `À l'aide de ces données, on constate que le prix unitaire des ${objet} n'est pas le même pour ${prenoms[0]} qui en a acheté $${y}$ que pour ${prenoms[1]} qui en a acheté ${p}, donc ces deux grandeurs ne sont pas proportionnelles.<br>`;
          break;
        case 3:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = randint(5, 20, x) * 100;
          x = x * 100;
          n = arrondi(calcul((x / 60) * (1 + randint(0, 2) * 0.2)), 0);
          p = arrondi(calcul((y / 60) * (1 + randint(0, 2) * 0.2)), 0);
          index1 = calcul(x / n); //vitesse fille
          index2 = calcul(y / p); //vitesse garçon

          texte = `${prenoms[0]} habite à $${tex_nombre(x)}$ m du collège. Elle met ${n} minutes pour s'y rendre depuis chez elle.<br>`;
          texte += `${prenoms[1]}, lui, habite à $${tex_nombre(y)}$ m du collège. Il met ${p} minutes pour s'y rendre depuis chez lui.<br>`;
          texte += `Le temps mis pour venir au collège est-il proportionnel à la distance du foyer au collège ?<br>`;
          texte_corr = `${prenoms[0]} parcourt chaque minute environ $${tex_nombrec(arrondi(index1, 1))}$ m.<br>`;
          texte_corr += `${
            prenoms[1]
          } parcourt chaque minute environ $${tex_nombrec(arrondi(index2, 1))}$ m.<br>`;
          if (index1 == index2)
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue sont proportionnelles (si l'on compare leur vitesse moyenne)`;
          else
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue ne sont pas proportionnelles (si l'on compare leur vitesse moyenne).<br>`;
          break;
        case 4:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = x + randint(25, 35);
          texte = `${prenoms[0]} vient d'avoir ${x} ans cette année. Son père ${prenoms[1]} vient de fêter  son ${y}ème anniversaire.<br>`;
          texte += `L'âge de son père est-il proportionnel à l'âge de ${prenoms[0]} ?<br>`;
          texte_corr = `Aujourd'hui la différence d'âge entre ${
            prenoms[0]
          } et ${prenoms[1]} est de ${y - x} ans.<br>`;
          texte_corr += `Dans ${x} années, ${prenoms[0]} aura ${
            2 * x
          } ans, c'est à dire le double d'aujourd'hui.<br>`;
          texte_corr += `Son père ${prenoms[1]} aura ${
            x + y
          } ans cette année-là.<br>Quand l'âge de ${
            prenoms[0]
          } double, l'âge de ${prenoms[1]} ne double pas, donc l'âge de ${
            prenoms[0]
          } et l'âge de son père ne sont pas propotionnels.<br>`;
          break;
        case 5:
          index1 = randint(0, 5);
          index2 = randint(0, 4);
          texte = `Une épidémie se répand dans la ville de ${villes[index1]}.<br>`;
          texte += `Le nombre de malades ${verbes[index2]} tous les ${
            index2 + 2
          } jours.<br>`;
          texte += `Le nombre de malades est-il proportionnel au nombre de jours passés depuis le début de l'épidémie ?<br>`;
          texte_corr = `Admettons qu'il y ait 10 malades le premier jour. Le ${
            1 + 2 + index2
          }ème jour il y aura $10 \\times ${index2 + 2} = ${
            10 * (index2 + 2)
          }$ malades.<br>`;
          texte_corr += `Entre le premier jour et le ${
            3 + index2
          }ème jour, le nombre de malades est multiplié par ${
            index2 + 2
          } mais le nombre de jours est multiplié par ${3 + index2}.<br>`;
          texte_corr += `Donc le nombre de malades n'est pas proportionnel au nombre de jours passés.<br>`;
          break;
        case 6:
          prenoms = [prenomF(), prenomM()];
          index1 = randint(0, 5);
          objet = liste_de_choses[4][index1];
          index2 = randint(0, 4);
          pu =
            liste_de_prix_unit[4][index1] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          n = randint(2, 6);
          p = randint(0, 3);
          tirages[0] = [n, n * pu];
          tirages[1] = [n + 1, (n + 1) * pu];
          tirages[2] = [2 * n + 1, (2 * n + 1) * pu];
          tirages[3] = [3 * n + 3, (3 * n + 3) * pu];
          met = choice([true, false]);
          if (!met) tirages[p][1] -= 0.1;
          texte = `${prenoms[1]} relève les prix des ${objet} sur un catalogue par correspondance en fonction de la quantité saisie dans le panier<br>`;
          texte += `Il note les prix dans le tableau suivant :<br> <br>`;
          texte += `$\\def\\arraystretch{1.5}\\begin{array}{|c`; // construction du tableau des effectifs en un seul morceau
          for (let j = 0; j <= tirages.length; j++) texte += `|c`;
          texte += `|}\\hline  \\text{${objet}}`;
          for (let j = 0; j < tirages.length; j++) texte += `&${tirages[j][0]}`;
          texte += `\\\\\\hline \\text{Prix (en €})`;
          for (let j = 0; j < tirages.length; j++)
            texte += `&${tex_prix(arrondi(tirages[j][1], 2))}`;
          texte += `\\\\\\hline\\end{array}$<br> <br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quatité achetée ?<br>`;
          texte_corr = `Il faut calculer le prix unitaire des ${objet} dans chaque cas de figure :<br><br>`;
          if (met) index3 = range(3);
          else index3 = range(3, [p]);
          texte_corr += `$`;
          for (let j = 0; j < index3.length; j++) {
            texte_corr += `\\dfrac{${tex_prix(
              arrondi(tirages[index3[j]][1], 2)
            )}}{${tirages[index3[j]][0]}}=`;
          }
          texte_corr += `${tex_prix(pu)}$<br><br>`;
          if (!met) {
            texte_corr += `Mais $\\dfrac{${tex_prix(
              arrondi(tirages[p][1], 2)
            )}}{${tirages[p][0]}}=${tex_prix(
              arrondi(calcul(tirages[p][1] / tirages[p][0]), 2)
            )}$€/${objet.substring(0, objet.length - 1)}<br>`;
            texte_corr += `Le prix des ${objet} n'est pas proportionnel à leur nombre.<br>`;
          } else {
            texte_corr += `Le prix des ${objet} est bien proportionnel à leur nombre.<br>`;
          }
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * On donne une relation de proportionnalité du type n objets coûtent x€ et on demande le prix de y objets
 * et le nombre d'objets qu'on peut acheter avec z€.
 * @Auteur Jean-Claude Lhote
 * référence 6P11
*/
function Proportionnalite_par_linearite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Résoudre des problèmes de proportionnalité en utilisant la linéarité simple";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? (this.spacing = 2) : (this.spacing = 1);
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "cannetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];
    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      index1 = liste_index[i];
      prenoms = [prenomF(), prenomM()];
      index2 = randint(0, liste_de_choses[index1].length - 1);
      objet = liste_de_choses[index1][index2];
      pu =
        liste_de_prix_unit[index1][index2] *
        (1 + randint(1, 2) * 0.2 * randint(-1, 1));
      n = randint(3, 6);
      y = n * randint(2, 5);
      x = calcul(n * pu, 2);
      somme = calcul(y * pu, 2);
      met = false;
      while (met == false) {
        p = n * randint(2, 5);
        if (p != y) met = true;
      }
      z = calcul(p * pu, 2);

      texte = `${prenoms[0]} a repéré ${liste_de_lieux[index1]} des ${objet} qui l\'intéressent.<br> `;
      texte += `Elle lit que ${n} ${objet} coûtent ${tex_prix(x)} €. `;
      texte += `Elle veut en acheter ${y}.<br> Combien va-t-elle dépenser ?<br>`;
      texte_corr = `${y} ${objet}, c'est ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}.<br> Si ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coûtent ${tex_prix(x)} €, alors ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coutent ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${tex_prix(x)} €.<br>`;
      texte_corr += `Donc ${prenoms[0]} dépensera ${texte_en_couleur(
        tex_nombrec(y / n)
      )} $\\times$ ${tex_prix(x)} € = ${tex_prix(somme)} €.<br>`;
      texte += `${
        prenoms[1]
      } veut lui aussi acheter ces ${objet}. Il dispose de ${tex_prix(
        z
      )} €.<br> Combien peut-il en acheter ?<br>`;
      texte_corr += `${tex_prix(z)} €, c'est ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €.<br> Si avec ${tex_prix(
        x
      )} € on peut acheter ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}, alors avec ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €, on peut acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${texte_en_couleur(n, "blue")} ${objet}.<br>`;
      texte_corr += `Donc ${prenoms[1]} pourra acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} $\\times$ ${texte_en_couleur(n, "blue")} = ${p} ${objet}.<br>`;
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.
 * @Auteur Rémi Angot
 * 6N20-2
 */
function Exercice_fractions_differentes_ecritures() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1 puis donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, cpt = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions && cpt < 50;

    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " =  $";
      texte_corr =
        "$ " +
        tex_fraction(a, b) +
        " = " +
        n +
        "+" +
        tex_fraction(c, b) +
        " = " +
        ed +
        " $";

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * @Auteur Rémi Angot
 * 6N20
 */
function Exercice_fractions_decomposer() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1).";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1.";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.sup = false; // Donner l'écriture décimale

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " $";
      texte_corr =
        "$ " + tex_fraction(a, b) + " = " + n + "+" + tex_fraction(c, b) + " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}
/**
 * 6N14
 * Représenter des fractions simples avec des disques partagés de façon adéquate.
 * @Auteur Jean-Claude Lhote
 */
function Representer_une_fraction() {
    Exercice.call(this); // Héritage de la classe Exercice()
    this.titre = "Représenter des fractions";
    this.consigne = "";
    this.nb_questions = 4;
    this.nb_cols = 2;
    this.nb_cols_corr = 2;
    this.sup = 3;
  
    this.nouvelle_version = function (numero_de_l_exercice) {
      this.liste_questions = []; // Liste de questions
      this.liste_corrections = []; // Liste de questions corrigées
      let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
      ppc=20
        if (sortie_html) {
          sc=0.5
        } else {
          sc=0.4
        }
  
      let  params = {
        xmin: -2.2,
        ymin: -2.2,
        xmax: 18,
        ymax: 3,
        pixelsParCm: ppc,
        scale: sc,
      },den,num,f
      
      let liste = combinaison_listes([2,3,4,5,6], this.nb_questions);
  
      for (
        let i = 0, texte, texte_corr, cpt = 0;
        i < this.nb_questions && cpt < 50;) {
        objets=[]
        den=liste[i]
        num=randint(1,den*3)
        f=fraction(num,den)
        texte=`Sachant qu'un disque représente une unité, représenter la fraction $${f.texFraction()}$ en coloriant la part correspondante.<br>`
        texte+=mathalea2d(params,fraction(den*3,den).representation(0,0,2,0,'gateau','white'))
        texte_corr =`Voici sur ces dessins, colorié en bleu, la part correspondante à la fraction $${f.texFraction()}$ :<br>`
        texte_corr += mathalea2d(params,f.representation(0,0,2,randint(0,den-1),'gateau','blue'))
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
    };
    this.besoin_formulaire_numerique = [
      "Type de cahier",
      3,
      `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
    ];

  
}

/**
 * Conversions de longueur en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De dam, hm, km vers m
 * * 2 : De dm, cm, mm vers m
 * * 3 : Conversions en mètres
 * * 4 : Toutes les conversions de longueurs
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions_de_longueurs(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de longueurs";
  this.consigne = "Compléter";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", 10],
      [" h", 100],
      [" k", 1000],
    ];
    let prefixe_div = [
      [" d", 10],
      [" c", 100],
      [" m", 1000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_unite1 = combinaison_listes([0,1,2,3,4,5,6],this.nb_questions)
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let type_de_questions
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i]; //Plutôt que de prendre un préfix au hasard, on alterne entre 10,100 et 1000
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";

        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = liste_unite1[i]
        let unite2 = randint(Math.max(0,unite1-3),Math.min(unite1+3,6),unite1)
        if (unite1>unite2){
          [unite1,unite2]=[unite2,unite1]
        }
        let ecart = unite2-unite1; // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : De dam, hm, km vers m\n\
2 : De dm, cm, mm vers m\n3 : Conversions en mètres\n4 : Toutes les conversions de longueurs",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions  mètres, litres, grammes, octets (et euros pour la version LaTeX) en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De da, h, k vers l'unité de référence
 * * 2 : De d, c, m vers l'unité de référence
 * * 3 : Multiplications ou divisions vers l'unité de référence
 * * 4 : Conversions d'octets
 * * 5 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre =
    "Conversions de longueurs, masses, contenance, prix ou unités informatiques";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.correction_avec_des_fractions = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", 10],
      ["h", 100],
      ["k", 1000],
    ]; //['M',1000000],['G',1000000000],['T',1000000000000]];
    let prefixe_div = [
      ["d", 10],
      ["c", 100],
      ["m", 1000],
    ]; //['$\\mu{}$',1000000]];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        unite,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        liste_unite_info = ["o", "ko", "Mo", "Go", "To"];
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir
        if (k < 2) {
          // Choix de l'unité
          unite = choice(["m", "L", "g"]);
        } else if (k == 2) {
          if (sortie_html) {
            unite = choice(["m", "L", "g"]); // pas de signe € pour KaTeX
          } else {
            unite = choice(["m", "L", "g", "€"]);
          }
        } else {
          unite = "o";
        }
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (
        div &&
        type_de_questions < 4 &&
        this.correction_avec_des_fractions
      ) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_fraction(tex_nombre(a), tex_nombre(prefixe_div[k][1])) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 1000 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : De da, h, k vers l'unité de référence\n\
2 : De d, c, m vers l'unité de référence\n3 : Multiplications ou divisions vers l'unité de référence\n4 : Conversions avec les octets\n5: Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'aires en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * Dans la correction, on montre que l'on multiplie ou divisie à 2 reprises par le coefficient donné par le préfixe
 *
 * * 1 : De dam², hm², km² vers m²
 * * 2 : De dm², cm², mm² vers m²
 * * 3 : Conversions en mètres-carrés
 * * 4 : Conversions avec des multiplications ou des divisions
 * * 5 : Conversions avec des ares, des centiares et des hectares
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M23
 */
function Exercice_conversions_aires(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions d'aires";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", "\\times10\\times10", 100],
      [" h", "\\times100\\times100", 10000],
      [" k", "\\times1~000\\times1~000", 1000000],
    ];
    let prefixe_div = [
      [" d", "\\div10\\div10", 100],
      [" c", "\\div100\\div100", 10000],
      [" m", "\\div1~000\\div1~000", 1000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 6) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 5);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i];
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        prefixe_multi = [
          [" da", "\\times10\\times10", 100],
          [" h", "\\times100\\times100", 10000],
          [" k", "\\times1~000\\times1~000", 1000000],
        ]; // On réinitialise cette liste qui a pu être modifiée dans le cas des ares
        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (div && type_de_questions < 4) {
        prefixe_div = [
          [" d", "\\div10\\div10", 100],
          [" c", "\\div100\\div100", 10000],
          [" m", "\\div1~000\\div1~000", 1000000],
        ];
        k = randint(0, 1); // Pas de conversions de mm^2 en m^2 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_div[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
        }
      } else if (type_de_questions == 5) {
        // Pour type_de_questions==5
        prefixe_multi = [
          ["ha", 10000],
          ["a", 100],
        ];
        k = randint(0, 1);
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    6,
    "1 : Conversions en m² avec des multiplications\n\
2 : Conversions en m² avec des divisions\n3 : Conversions en m² avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions\n\
5 : Conversions d'hectares et ares en m² \n6 : Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions de volumes.
 *
 * Dans la correction, on ne voit qu'une multiplication ou qu'un division pour obtenir le résultat
 *
 * * 1 : Conversions en mètres-cubes avec des multiplications
 * * 2 : Conversions en mètres-cubes avec des divisions
 * * 3 : Conversions en mètres-cubes avec des multiplications ou divisions
 * * 4 : Conversions avec des multiplications ou divisions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31
 */
function Exercice_conversions_volumes(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de volume";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", "10\\times10\\times10", 1000],
      ["h", "100\\times100\\times100", 1000000],
      ["k", "1~000\\times1~000\\times1~000", 1000000000],
    ];
    let prefixe_div = [
      ["d", "10\\div10\\div10", 1000],
      ["c", "100\\div100\\div100", 1000000],
      ["m", "1~000\\div1~000\\div1~000", 1000000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (div && type_de_questions < 4) {
        k = randint(0, 1); // Pas de conversions de mm^3 en m^3 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_multi[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        let multiplications_par_1000 = "";

        if (randint(0, 1) > 0) {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\times 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\times 1~000 \\times 1~000";
              break;
            case 3:
              multiplications_par_1000 =
                "\\times 1~000 \\times 1~000 \\times 1~000";
              break;
          }
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
        } else {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\div 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000";
              break;
            case 3:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000 \\div 1~000";
              break;
          }
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
        }
      }
      // else if(type_de_questions==5) { // Pour type_de_questions==5
      // 	prefixe_multi = [['L',0.001],['dL',0.0001],['cL',0.00001],['mL',0.000001]];
      // 	k = randint(0,1)
      // 	resultat = Algebrite.eval(a*prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
      // 	texte = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' = \\dotfill ' + tex_texte(unite)  + '^3' + '$';
      // 	texte_corr = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' =  ' + tex_nombre(a) + '\\times' + tex_nombre(prefixe_multi[k][1]) + tex_texte(unite)  + '^3'
      // 		 + ' = ' + tex_nombre(resultat) + tex_texte(unite)+ '^2' + '$';
      // }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Conversions en mètres-cubes avec des multiplications\n\
2 : Conversions en mètres-cubes avec des divisions\n3 : Conversions en mètres-cubes avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'unités de volumes vers les unités de capacité ou inversement.
 *
 * Dans la correction, on passe systématiquement par l'équivalence dm3 = L
 *
 * * 1 : De dam3, m3, dm3, cm3 ou mm3 vers L ou inversement
 * * 2 :
 * * 3 :
 * * 4 :
 * * 5 :
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31-2
 */
function Unites_de_volumes_et_de_capacite(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions avec des unités de volumes ou de capacités";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_questions = 8;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup == 1) {
      liste_type_de_questions = combinaison_listes(
        ["dam3toL", "m3toL", "dm3toL", "cm3toL"],
        this.nb_questions
      );
    }
    if (this.sup == 2) {
      liste_type_de_questions = combinaison_listes(
        ["Ltodm3", "Ltocm3", "Ltom3"],
        this.nb_questions
      );
    }
    if (this.sup == 3) {
      liste_type_de_questions = combinaison_listes(
        [
          "dam3toL",
          "m3toL",
          "dm3toL",
          "cm3toL",
          "mm3toL",
          "Ltodm3",
          "Ltocm3",
          "Ltom3",
        ],
        this.nb_questions
      );
    }
    let liste_de_n = [];
    if (this.sup2) {
      liste_de_n = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    } else {
      liste_de_n = combinaison_listes([1, 2, 3, 4, 5, 6], this.nb_questions);
    }
    for (
      let i = 0, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (this.sup2) {
        switch (liste_de_n[i]) {
          case 1:
            n = calcul(randint(2, 9) / 10);
            break;
          case 2:
            n = calcul(randint(11, 99) / 100);
            break;
          case 3:
            n = calcul(randint(1, 9) * 10 + randint(1, 9) / 10);
            break;
          case 4:
            n = calcul(
              randint(11, 99, [10, 20, 30, 40, 50, 60, 70, 80, 90]) / 100
            );
            break;
        }
      } else {
        switch (liste_de_n[i]) {
          case 1:
            n = randint(2, 9);
            break;
          case 2:
            n = randint(11, 99);
            break;
          case 3:
            n = randint(1, 9) * 10;
            break;
          case 4:
            n = randint(1, 9) * 100;
            break;
          case 5:
            n = randint(11, 99) * 100;
            break;
          case 6:
            n = randint(1, 9) * 1000;
            break;
        }
      }
      switch (liste_type_de_questions[i]) {
        case "dam3toL":
          texte = `$${tex_nombre(n)}~\\text{dam}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dam}^3=${tex_nombre(
            n
          )}\\times1~000\\times1~000~\\text{dm}^3=${tex_nombrec(
            n * 1000000
          )}~\\text{L}$`;
          break;
        case "m3toL":
          texte = `$${tex_nombre(n)}~\\text{m}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{m}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{dm}^3=${tex_nombrec(n * 1000)}~\\text{L}$`;
          break;
        case "dm3toL":
          texte = `$${tex_nombre(n)}~\\text{dm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dm}^3=${tex_nombre(
            n
          )}~\\text{L}$`;
          break;
        case "cm3toL":
          texte = `$${tex_nombre(n)}~\\text{cm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{cm}^3=${tex_nombre(
            n
          )}\\div 1~000~\\text{dm}^3=${tex_nombrec(n / 1000)}~\\text{L}$`;
          break;
        case "mm3toL":
          texte = `$${tex_nombre(n)}~\\text{mm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{mm}^3=${tex_nombre(
            n
          )}\\div1~000\\div 1~000~\\text{dm}^3=${tex_nombrec(
            n / 1000000
          )}~\\text{L}$`;
          break;
        case "Ltodm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{dm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3$`;
          break;
        case "Ltocm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{cm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{cm}^3=${tex_nombrec(n * 1000)}~\\text{cm}^3$`;
          break;
        case "Ltom3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{m}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(n)}\\div1~000~\\text{m}^3=${tex_nombrec(
            n / 1000
          )}~\\text{m}^3$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Unités de volume vers litre\n2 : Litre vers unités de volume\n3 : Unités de volumes vers litre ou inversement ",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Déterminer le périmètre et l'aire d'un carré, d'un rectangle, d'un triangle rectangle, d'un cercle
 *
 * * 1 : Carré, rectangle et triangle rectangle
 * * 2: Uniquement des cercles
 * * 3 : Les 4 sont demandés
 * @Auteur Rémi Angot
 */
function Exercice_perimetres_et_aires(difficulte = 1) {
  //Calculer le périmètre et l'aire de figures
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = difficulte;
  this.titre = "Calculs de périmètres et d'aires";
  this.consigne =
    "Pour chacune des figures, calculer son périmètre puis son aire (valeur exacte et si nécessaire valeur approchée au dixième près).";
  this.spacing = 1;
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let triplets_pythagoriciens = [
      [3, 4, 5],
      [6, 8, 10],
      [15, 8, 17],
      [24, 10, 26],
      [5, 12, 13],
      [12, 16, 20],
      [21, 20, 29],
      [9, 40, 41],
    ];
    let type_de_questions_disponibles = [
      "carre",
      "rectangle",
      "triangle_rectangle",
      "cercle",
    ];
    if (this.sup == 1) {
      enleve_element(type_de_questions_disponibles, "cercle");
      this.nb_cols = 1;
    } else if (this.sup == 2) {
      type_de_questions_disponibles = ["cercle"];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case "carre":
          let cote = randint(2, 11);
          let nom_carre = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un carré $${nom_carre}$ de $${cote}$ cm de côté .`;
          } else {
            texte = `Un carré $${nom_carre}$ tel que $${
              nom_carre[0] + nom_carre[1]
            } = ${cote}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_carre}}=4\\times${cote}~\\text{cm}=${
            4 * cote
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_carre}}=${cote}~\\text{cm}\\times${cote}~\\text{cm}=${
            cote * cote
          }~\\text{cm}^2$`;
          break;
        case "rectangle":
          let L = randint(3, 11);
          let l = randint(2, L - 1);
          let nom_rectangle = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un rectangle $${nom_rectangle}$ de $${L}$ cm de longueur et de $${l}$ cm de largeur.`;
          } else {
            texte = `Un rectangle $${nom_rectangle}$ tel que $${
              nom_rectangle[0] + nom_rectangle[1] + " = " + L
            }$ cm et $${nom_rectangle[1] + nom_rectangle[2] + " = " + l}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_rectangle}}=(${L}~\\text{cm}+${l}~\\text{cm})\\times2=${
            (L + l) * 2
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_rectangle}}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
            L * l
          }~\\text{cm}^2$`;
          break;
        case "triangle_rectangle":
          let triplet = choice(triplets_pythagoriciens);
          enleve_element(triplets_pythagoriciens, triplet);
          let a = triplet[0];
          let b = triplet[1];
          let c = triplet[2];
          let nom_triangle = creerNomDePolygone(3);
          if (choice([true, false])) {
            texte = `Un triangle $${nom_triangle}$ rectangle en $${
              nom_triangle[1]
            }$ tel que $${
              nom_triangle[0] + nom_triangle[1] + " = " + a
            }$ cm, $${nom_triangle[1] + nom_triangle[2] + " = " + b}$ cm\
 et $${nom_triangle[0] + nom_triangle[2] + " = " + c}$ cm.`;
          } else {
            texte = `Un triangle rectangle $${nom_triangle}$ a pour côtés : $${a}$ cm, $${c}$ cm et $${b}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_triangle}}=${a}~\\text{cm}+${b}~\\text{cm}+${c}~\\text{cm}=${
            a + b + c
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_triangle}}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${Algebrite.eval(
            (a * b) / 2
          )}~\\text{cm}^2$`;
          break;
        case "cercle":
          let R = randint(3, 11);
          let donne_le_diametre = choice([true, false]);
          if (donne_le_diametre) {
            texte = `Un cercle de $${2 * R}$ cm de diamètre.`;
            texte_corr = `Le diamètre est de $${
              2 * R
            }$ cm donc le rayon est de $${R}$~cm.<br>`;
          } else {
            texte = `Un cercle de $${R}$ cm de rayon.`;
            texte_corr = "";
          }

          texte_corr += `$\\mathcal{P}=2\\times${R}\\times\\pi~\\text{cm}=${
            2 * R
          }\\pi~\\text{cm}\\approx${arrondi_virgule(
            2 * R * Math.PI,
            1
          )}~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}=${R}\\times${R}\\times\\pi~\\text{cm}^2=${
            R * R
          }\\pi~\\text{cm}^2\\approx${arrondi_virgule(
            R * R * Math.PI,
            1
          )}~\\text{cm}^2$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Carré, rectangle et triangle rectangle\n2: Cercles\n3: Mélangé",
  ];
}

/**
 * On donne une fraction qui a pour dénominateur 10, 100 ou 1 000, il faut donner l'écriture décimale.
 *
 * Le numérateur est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N23
 */
function Exercice_ecriture_decimale_a_partir_de_fraction_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Donner l'écriture décimale d'une fraction décimale";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      texte =
        "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_fraction(tex_nombre(a), tex_nombre(b)) +
        " = " +
        tex_nombre(Algebrite.eval(a / b)) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplier ou diviser un nombre entier par 10, 100 ou 1 000
 *
 * Le nombre entier est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N24-1
 */
function Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier ou diviser un nombre entier par 10, 100 ou 1 000";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      if (choice([true, false])) {
        texte =
          "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_fraction(tex_nombre(a), tex_nombre(b)) +
          " = " +
          tex_nombre(Algebrite.eval(a / b)) +
          " $";
      } else {
        texte =
          "$ " + tex_nombre(a) + "\\times" + tex_nombre(b) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(b) +
          " = " +
          tex_nombre(Algebrite.eval(a * b)) +
          " $";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Comparer deux nombres décimaux
 *
 * Les types de comparaisons sont :
 * * ab ? ba
 * * aa,bb ? aa,cc
 * * a,b  a,cc avec b>c
 * * 0,ab 0,ba
 * * 0,a0b 0,b0a
 * * a,b a,b0
 * * 0,0ab 0,0a0b
 * * a,bb  a,ccc avec b>c
 * * a+1,bb  a,cccc avec cccc>bb
 *
 * aa, bb, cc correspondent à des nombres à 2 chiffres (ces 2 chiffres pouvant être distincts)
 * @Auteur Rémi Angot
 * 6N31
 */
function Comparer_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Comparer des nombres décimaux";
  this.consigne = "Compléter avec le signe < , > ou =.";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      choice([1, 4, 5]),
      2,
      2,
      3,
      6,
      7,
      8,
      9,
    ]; // une seule question du type inversion de chiffres (1,4,5)
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let x,
        y,
        a,
        b,
        c,
        d,
        zero_inutile = false;

      switch (liste_type_de_questions[i]) {
        case 1: // ab ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = a * 10 + b;
          y = b * 10 + a;
          break;
        case 2: // aa,bb aa,cc
          a = randint(1, 99);
          b = randint(11, 99);
          c = randint(11, 99);
          x = calcul(a + b / 100);
          y = calcul(a + c / 100);
          break;
        case 3: // a,b  a,cc avec b>c
          a = randint(1, 99);
          b = randint(1, 8);
          c = randint(1, b * 10);
          x = calcul(a + b / 10);
          y = calcul(a + c / 100);
          break;
        case 4: // 0,ab 0,ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 10 + b) / 100);
          y = calcul((b * 10 + a) / 100);
          break;
        case 5: // 0,a0b 0,b0a
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 100 + b) / 1000);
          y = calcul((b * 100 + a) / 1000);
          break;
        case 6: // a,b a,b0
          a = randint(11, 999);
          while (a % 10 == 0) {
            // pas de nombre divisible par 10
            a = randint(11, 999);
          }
          x = calcul(a / 10);
          y = x;
          zero_inutile = true;
          break;
        case 7: // 0,0ab 0,0a0b
          a = randint(1, 9);
          b = randint(1, 9);
          x = calcul(a / 100 + b / 1000);
          y = calcul(a / 100 + b / 10000);
          break;
        case 8: // a,bb  a,ccc avec b>c
          a = randint(11, 99);
          b = randint(11, 99);
          c = randint(100, b * 10);
          x = calcul(a + b / 100);
          y = calcul(a + c / 1000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
        case 9: // a+1,bb  a,cccc avec cccc>bb
          a = randint(11, 98);
          b = randint(11, 99);
          c = randint(b * 100, 10000);
          x = calcul(a + 1 + b / 100);
          y = calcul(a + c / 10000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
      }

      texte = `${tex_nombre(x)}\\ldots\\ldots${tex_nombre(y)}`;
      if (parseFloat(x) > parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} > ${tex_nombre(y)}`;
      } else if (parseFloat(x) < parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} < ${tex_nombre(y)}`;
      } else {
        texte_corr = `${tex_nombre(x)} = ${tex_nombre(y)}`;
      }

      if (zero_inutile) {
        if (randint(1, 2) == 1) {
          texte = `${tex_prix(x)}\\ldots\\ldots${tex_nombre(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_prix(x)} > ${tex_nombre(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_prix(x)} < ${tex_nombre(y)}`;
          } else {
            texte_corr = `${tex_prix(x)} = ${tex_nombre(y)}`;
          }
        } else {
          texte = `${tex_nombre(x)}\\ldots\\ldots${tex_prix(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} > ${tex_prix(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} < ${tex_prix(y)}`;
          } else {
            texte_corr = `${tex_nombre(x)} = ${tex_prix(y)}`;
          }
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Déduire un pourcentage par complément à 100%
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-2
 */
function Calculer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes de calcul de pourcentage par complément à 100%";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles=[1,2,3]
    let liste_choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_moyens=[`en bus`,`en deux-roues`,`à  pieds`,`en voiture`]
    let liste_sports=[`le foot`,`la natation`,`le basket`,`le ping-pong`,`le volley`,`la gym`]
    let liste_hobbies=[`la couture`,`le cinéma`,`la musique`,`le sport`,`la programmation`,`le jardinage`,`la cuisine`]
    let p1,p2,p3,moy1,moy2,moy3
    let objets,centre=point(5,5),depart=point(10,5)

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;
    ) {
      objets=[]
      p1=randint(6,9)*5
      p2=randint(6,9)*5
      p3=100-p1-p2
      switch(liste_choix[i]) {
        case 1: // Les moyens de déplacement maison collège
          [moy1,moy2,moy3]=combinaison_listes(liste_moyens,3)
          texte = `Dans un collège, $${p1}\\%$ des élèves ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des élèves qui ${moy3} ?` 
          texte_corr=`Les élèves qui ${moy1} ou qui ${moy2} représentent $${p1}\\%$ + $${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100 - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des élèves ${moy3}.<br>`
          break;
          case 2: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_sports,3)
          texte = `Dans une association sportive, $${p1}\\%$ des ados pratiquent ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des ados qui pratiquent ${moy3} ?`
          texte_corr=`Les ados qui pratiquent ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des ados de cette association sportive pratiquent ${moy3}.<br>`
          break;
          case 3: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_hobbies,3)
          texte = `Dans une association culturelle, $${p1}\\%$ des membres ont comme passe-temps favorit ${moy1}, pour $${p2}\\%$ c'est ${moy2} et pour les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des membres qui préfèrent ${moy3} ?`
          texte_corr=`Les membres qui préfère ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des membres de cette association culturelle préfèrent ${moy3}.<br>`
          break;

      }
      objets.push(codeAngle(depart,centre,p1*3.6,4.9,'','black',2,1,'red',0.4),texteParPoint(`${moy1.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*1.8),3),0) )
      objets.push(codeAngle(rotation(depart,centre,p1*3.6),centre,p2*3.6,4.9,'','black',2,1,'blue',0.4),texteParPoint(`${moy2.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*3.6+p2*1.8),3),0) )
      objets.push(codeAngle(depart,centre,-p3*3.6,4.9,'','black',2,1,'yellow',0.4),texteParPoint(`${moy3.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,-p3*1.8),3),0) )
      texte_corr+=mathalea2d({xmin : 0,ymin : 0,xmax : 10, ymax : 10,pixelsParCm : 20,scale : 0.5,mainlevee:false,amplitude:1}, ...objets)

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}
/**
 * Calculer le montant d'une réduction donnée en pourcentage d'un prix initial
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-3
 */
function Appliquer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes avec des calculs de pourcentages";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles=[1,2]
    let choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    liste_pourcentages = [10, 20, 30, 40, 50];
    let article=[[`Un pull`,20,40],[`Une chemise`,15,35],[`Un pantalon`,30,60],[`Un T-shirt`,15,25],[`Une jupe`,20,40]]
    let legume=[[`Une aubergine`,100,200],[`Un melon`,200,300],[`Une tomate`,50,100],[`Une betterave`,75,100],[`Une carotte`,30,50]]
    let liste_index=[0,1,2,3,4]
    let prix=[],pourcent=[],masse=[]
    let index=combinaison_listes(liste_index,this.nb_questions)
    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pourcent[i]=choice(liste_pourcentages)
      switch(choix[i]){
      case 1 :
      prix[i]=randint(article[index[i]][1],article[index[i]][2])
      texte=`${article[index[i]][0]} coûtant $${prix[i]}$€ bénéficie d'une réduction de $${pourcent[i]} \\%$.<br>`
      texte+=`Quel est le montant en euro de cette réduction ?`
      texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${prix[i]}$€ :<br>`
      texte_corr+= `$${pourcent[i]}\\%\\text{ de }${prix[i]}=${tex_fraction(pourcent[i],100)}\\times${prix[i]}=(${pourcent[i]}\\times${prix[i]})\\div100=${tex_nombre(pourcent[i] * prix[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * prix[i]) / 100))}$<br>`;
      texte_corr+=`Le montant de la réduction est de ${tex_prix(calcul(prix[i]*pourcent[i]/100))}€`
      break;
      case 2 :
        masse[i]=randint(legume[index[i]][1],article[index[i]][2])
        texte=`${legume[index[i]][0]} pesant $${masse[i]}$ grammes a subit une croissance de $${pourcent[i]} \\%$.<br>`
        texte+=`Quel est la masse supplémentaire en grammes correspondant à cette croissance ?`
        texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${masse[i]}$ grammes :<br>`
        texte_corr+= `$${pourcent[i]}\\%\\text{ de }${masse[i]}=${tex_fraction(pourcent[i],100)}\\times${masse[i]}=(${pourcent[i]}\\times${masse[i]})\\div100=${tex_nombre(pourcent[i] * masse[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * masse[i]) / 100))}$<br>`;
        texte_corr+=`La masse a augmenté de $${tex_nombre(calcul(masse[i]*pourcent[i]/100))}$ g.`
         
      break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Calculer 10, 20, 30, 40 ou 50% d'un nombre
 * @Auteur Rémi Angot + Jean-claude Lhote
 * 6N33-1
 */
function Pourcentage_d_un_nombre() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer le pourcentage d'un nombre de tête";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2.5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_pourcentages = [10, 20, 30, 40, 50];

    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      p = choice(liste_pourcentages);
      n = choice([
        randint(2, 9),
        randint(2, 9) * 10,
        randint(1, 9) * 10 + randint(1, 2),
      ]);
      texte = `$${p}~\\%~\\text{de }${n}$`;
      if (p == 50) {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${n}\\div${2}=${tex_nombre(
          Algebrite.eval(n / 2)
        )}$`; // calcul de n/2 si p = 50%
      } else {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${tex_fraction(
          p,
          100
        )}\\times${n}=(${p}\\times${n})\\div100=${tex_nombre(
          p * n
        )}\\div100=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=\\dfrac{${p}\\times${n}}{100}=${tex_fraction(p*n,100)}=${tex_nombre(Algebrite.eval(p*n/100))}$`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=(${n}\\div100)\\times${p}=${tex_nombrec(
            calcul(n / 100)
          )}\\times${p}=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=${tex_fraction(n,100)}\\times${p}=${tex_nombrec(calcul(n/100))}\\times${p}=${tex_nombre(Algebrite.eval(p*n/100))}$<br>`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=${tex_nombrec(calcul(p / 100))}\\times${n}=${tex_nombre(
            Algebrite.eval((p * n) / 100)
          )}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes"];
}
/**
 * Tracer un segment de longueur une fraction de l'unité.
 * @Auteur Jean-Claude Lhote
 * 6N32
 */

function Fractions_d_unite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Représenter une fraction de l\'unité";
  this.nb_questions = 5;
  this.consigne = "Colorier en bleu un segment de longueur ...";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles,g,carreaux,sc,unit
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac,frac_unite, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([4,5,6,10])
          num=randint(1,den-1)
     break
        case 2 :
          den=choice([2,3,4])
          if (den==3)  num=randint(3,2*den-1,den)
          else num=randint(3,3*den-1,den)
         break
        case 3 :
          den=choice([4,5,6,10])
          if (den==4) num=randint(5,3*den-1,den)
          else num=randint(5,2*den-1,den)
        break
        case 4:
          den=choice([2,3,4,5,6,10])
          if (den==2||den==4) num=randint(den+1,3*den-1,den)
          else num=randint(den+1,2*den-1,den)
        break
      }
      if (den%3==0) unit=12
      else if (den%5==0) unit=10
      else unit=8
      frac=fraction(num,den)
      frac_unite=fraction(3*den-1,den)
      texte=`$${frac.texFraction()}$ unité en prenant ${unit} carreaux pour une unité.`
      if (this.sup2 < 3) g = grille(0, 0,26, 2, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.6;
        carreaux = seyes(0, 0, 26, 2);
      } else {
        sc = 0.5;
        carreaux = "";
      }
 
      
      texte_corr=mathalea2d({xmin:0,ymin:0,xmax:26,ymax:2,pixelsParCm:20,scale:sc},frac.representation(1,1,unit,0,'segment','blue',0,1),g,carreaux)



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",4,"1 : fracion inférieure à 1\n2 : demis, tiers et quarts\n3 : quarts, cinquièmes, sixièmes et dixièmes\n4 : toutes les fractions entre 1 et 3"];
this.besoin_formulaire2_numerique = ["Type de cahier",2,"1 :  petits carreaux\n2 : Cahier gros carreaux type Seyes"];
}
/**
 * Calculer la fracton d'une quantité avec ou sans dessin.
 * @Auteur Jean-Claude Lhote
 * référence 6N33-0
 */
function Fraction_d_une_quantite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'une quantité";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=true
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 2 :
          den=choice([2,3,4,5,10])
          num=randint(1,3*den,den)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`Cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 3 :
          masse=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          frac=fraction(numIrred,denIrred)
          frac2=frac.entierMoinsFraction(1)
          texte=`Voici une tablette de chocolat dont la masse totale est de $${masse}$ grammes. Quelqu'un en a déjà consommé les $${frac.texFractionSimplifiee()}$.<br>`
          choix=randint(1,2)
          if (choix==1) {
            texte+=`Quelle masse de chocoloat a-t-elle été consommée ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.`
          }
          else {
            texte+=`Quelle masse de chocolat reste-t-il ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${masse}-${calcul(numIrred*masse/denIrred)}=${calcul(masse-numIrred*masse/denIrred)}$ grammes de chocolat.<br>`
            texte_corr+=`une autre façon de faire est d'utiliser la fraction restante : $${tex_fraction(denIrred,denIrred)}-${frac.texFractionSimplifiee()}=${tex_fraction(denIrred-numIrred,denIrred)}$.<br>`
            texte_corr+=`$${tex_fraction(denIrred-numIrred,denIrred)}$ de $${masse}$ grammes c\'est $${denIrred-numIrred}$ fois $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${denIrred-numIrred}\\times${calcul(masse/denIrred)}=${(denIrred-numIrred)*masse/denIrred}$ grammes de chocolat.`

           }
          if (this.sup2){
          texte+=`La tablette de chocolat est représentée ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:-0.5,xmax:5,ymax:7},frac2.representationIrred(0,0,4,0,'baton','brown'))
         }
        break
        case 4:
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          longueur=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          k=calcul(300/denIrred)
          den=calcul(denIrred*k)
          num=calcul(numIrred*k)
          frac=fraction(num,den)
          texte=`Un bâton de $${tex_nombrec(longueur/100)}$ mètre`
          if (longueur>=200) texte+=`s`
          texte+=` de longueur est coupé à $${frac.texFractionSimplifiee()}$ de sa longueur.<br>`
          texte+=`Calculer la longueur de chacun des morceaux en mètres.<br>`
          if (this.sup2){
            texte+=`Ce bâton est représenté ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:0,xmax:10,ymax:2},frac.representationIrred(0,1,8,0,'segment','blue',"0",`${tex_nombre(calcul(longueur/100))}`))
          }
          texte_corr=`$${tex_fraction(1,denIrred)}$ de $${tex_nombrec(longueur/100)}$ représente $${tex_nombrec(longueur/100)} \\div ${denIrred} = ${tex_nombrec(longueur/100/denIrred)}$.<br>`
          texte_corr+=`Le premier morceau du bâton correspondant à $${frac.texFractionSimplifiee()}$ du bâton mesure : $${numIrred} \\times ${tex_nombrec(longueur/100/denIrred)}=${tex_nombrec(numIrred*longueur/100/denIrred)}$ m.<br>`
          texte_corr+=`Le deuxième morceau mesure donc : $${tex_nombrec(longueur/100)}-${tex_nombrec(numIrred*longueur/100/denIrred)}=${tex_nombrec(longueur/100-numIrred*longueur/100/denIrred)}$ m.`

        break
      }



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",5,"1 : Heures & minutes (inférieur à 1h)\n2 : Heures & minutes (jusqu\'à 3h)\n3 : tablettes de chocolat\n4 : Bâton cassé\n5 : Mélange"];
this.besoin_formulaire2_case_a_cocher = ["Avec dessin", true];
}
/**
 * Calculer la fracton d'un nombre divisible par le dénominateur ... ou pas.
 *
 * Par défaut la division du nombre par le dénominateur est inférieure à 11
 * @Auteur Rémi Angot + Jean-Claude Lhote
 * référence 6N33
 */
function Fraction_d_un_nombre(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'un nombre";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = true;
  this.sup2 = false;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux

    for (
      let i = 0, a, b, k, n, j, fraction, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      fraction = choice(liste_fractions);
      a = fraction[0];
      b = fraction[1];
      k = randint(1, 11);
      j = false;
      if (this.sup) n = b * k;
      else if (randint(0, 1) == 0) n = b * k;
      else n = randint(10, b * 11);
      texte = `$${tex_fraction(a, b)}\\times${n}=$`;
      texte_corr = ``;
      if (a == 1) {
        // Si n * 1/b
        if (calcul(n / b - arrondi(n / b, 4)) == 0)
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=${n}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}$`;
        // si résultat décimal
        else
          texte_corr += `$${tex_fraction(a, b)}\\times${n}=${tex_fraction(
            n,
            b
          )}${simplification_de_fraction_avec_etapes(n, b)}$`; //si résultat non décimal
      } else {
        if (calcul(n / b - arrondi(n / b, 4)) == 0) {
          //si n/b décimal calcul (n/b)*a
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\div${mise_en_evidence(
            b
          )})\\times${a}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}\\times${a}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
        } else {
          if (calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0) {
            // si n/b non décimal, alors on se rabat sur (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
          } else {
            // si autre méthode et résultat fractionnaire calcul (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
          }
          j = true;
        }
        if (
          calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0 &&
          this.sup2 &&
          !j
        ) {
          // Si autres méthodes et si (a*n)/b décimal calcul (n*a)/b
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
            b
          )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval((n / b) * a)
          )}$<br>`;
        } else {
          // si autre méthode et résultat fractionnaire calcul (n*a)/b
          if (this.sup2 && !j)
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
        }
        // si autre méthode et a/b décimal calcul (a/b)*n
        if ((b == 2 || b == 4 || b == 5 || b == 8 || b == 10) && this.sup2)
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${a}\\div${mise_en_evidence(
            b
          )})\\times${n}=${tex_nombrec(
            Algebrite.eval(a / b)
          )}\\times${n}=${tex_nombrec(Algebrite.eval((n / b) * a))}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_case_a_cocher = ["Forcer résultat entier", true];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes", false];
}

/**
 * On achète 2 aliments dont on connait la masse (un en grammes et l'autre en kilogrammes) et le prix au kilogramme. Il faut calculer le prix total.
 * @Auteur Rémi Angot
 * Référence 6C32
 */
function Probleme_course() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problème - Les courses";
  this.consigne = "";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prenom = choice([
      "Benjamin",
      "Léa",
      "Aude",
      "Julie",
      "Corinne",
      "Mehdi",
      "Joaquim",
    ]);
    let masse_en_kg_de_aliment1 = Algebrite.eval(
      randint(2, 5) + randint(1, 9) / 10
    );
    let prix_aliment1 = Algebrite.eval(randint(2, 4) + randint(1, 9) / 10);
    let aliment1 = choice(["courgettes", "carottes", "pommes"]);
    let masse_en_g_de_aliment2 = randint(21, 97) * 10;
    let prix_aliment2 = Algebrite.eval(randint(12, 23) + randint(1, 9) / 10);
    let aliment2 = choice(["boeuf", "veau", "poulet"]);

    texte = `${prenom} achète ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg de ${aliment1} à ${tex_prix(prix_aliment1)} €/kg `;
    texte += `et ${masse_en_g_de_aliment2} g de ${aliment2} à ${tex_prix(
      prix_aliment2
    )} €/kg. Quel est le prix total à payer ?`;
    texte_corr =
      `Prix des ${aliment1} : ${tex_nombre(
        masse_en_kg_de_aliment1
      )} kg × ${tex_prix(prix_aliment1)} €/kg = ${tex_prix(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )} €` + "<br>";
    texte_corr +=
      `Prix du ${aliment2} : ${tex_nombre(
        Algebrite.eval(masse_en_g_de_aliment2 / 1000)
      )} kg × ${tex_prix(prix_aliment2)} €/kg = ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )} € ` + "<br>";
    texte_corr += `Prix total à payer : ${tex_nombre(
      Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
    )} € + ${tex_nombre(
      Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
    )} € ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €<br>`;
    texte_corr += `<br><i>Le prix total aurait aussi pu être trouvé en un seul calcul</i> : ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg × ${tex_prix(prix_aliment1)} €/kg + ${tex_nombre(
      Algebrite.eval(masse_en_g_de_aliment2 / 1000)
    )} kg × ${tex_prix(prix_aliment2)} €/kg ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €.`;

    if (!sortie_html) {
      texte_corr =
        `Prix des ${aliment1} : $${tex_nombre(
          masse_en_kg_de_aliment1
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment1
        )}~\\text{\\euro{}/kg} = ${tex_prix(
          Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr +=
        `Prix du ${aliment2} : $${tex_nombre(
          Algebrite.eval(masse_en_g_de_aliment2 / 1000)
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment2
        )}~\\text{\\euro{}/kg} = ${tex_nombre(
          Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr += `Prix total à payer : $${tex_nombre(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )}~\\text{\\euro} + ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )}~\\text{\\euro} \\approx ${arrondi_virgule(
        Algebrite.eval(
          masse_en_kg_de_aliment1 * prix_aliment1 +
            (masse_en_g_de_aliment2 * prix_aliment2) / 1000
        )
      )}~\\text{\\euro}$<br>`;
    }

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Calculer l'aire de 3 triangles dont une hauteur est tracée.
 *
 * Une figure dynamique est disponible sur laquelle on peut déplacer le pied de la hauteur.
 *
 * Il n'existe pas de version LaTeX de cet exercice.
 * @Auteur Rémi Angot
 * Référence 6M20
 */
function Aire_de_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Aires de triangles";
  this.consigne =
    "Calculer l'aire des 3 triangles suivants (vous pouvez déplacer certains points).";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_cotes = shuffle([3, 4, 5, 6, 7]); //pour s'assurer que les 3 côtés sont différents
    let c1 = tableau_des_cotes[0];
    let c2 = tableau_des_cotes[1];
    let c3 = tableau_des_cotes[2];
    let tableau_des_hauteurs = shuffle([3, 4, 5, 6]); //pour s'assurer que les 3 hauteurs sont différents
    let h1 = tableau_des_hauteurs[0];
    let h2 = tableau_des_hauteurs[1];
    let h3 = tableau_des_hauteurs[2];

    let codeBase64 = "";
    if (randint(1, 2) == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAuP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAKgAAAAAAAD#wAAAAAAAAAwABQDwAAAAAAABAYSAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwBgAAAAAAABAFAAAAAAAAAMAAUAXmRub7wU+AAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAwCYAAAAAAABAFAAAAAAAAAMAAT#nUJEwLKgdAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwC#8AAAAAAAAMA7AAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRADAJgAAAAAAAMA7AAAAAAAAAwABQHpQAAAAAABATYAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFADDWm90SREAAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMAkAAAAAAAAQBAAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwBAAAAAAAABAIAAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAoAAAAAAAAQBAAAAAAAAADAAFAS4AAAAAAAEBywAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwCIAAAAAAABACAAAAAAAAAMAAUAXx81SzkwjAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAAAAAAAAAAAAQAgAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwAgAAAAAAADAPAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAGAAAAAFoAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAhAAAAJgAAAAcBAAAAWgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGAQAAAAAAABAAAAAgAAAAgAAABeAAAAAyBjbQIAAABfAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAOwAAAEMAAAABAAAAAGIAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAGIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGMAAAADAQAAAGIAAAAAABAAAAEAAQAAADsAAABDAAAABAAAAABiAARhbmcnAAAAZAAAADsAAABDAAAABQEAAABiAAAAOwAAAEMAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA+AAAAQwAAAAEAAAAAaAAAAAABEAAAAQABAAAAPgE#8AAAAAAAAAAAAAIAAAAAaAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAaQAAAAMBAAAAaAAAAAAAEAAAAQEBAAAAPgAAAEMAAAAEAAAAAGgABGFuZycAAABqAAAAPgAAAEMAAAAFAQAAAGgAAAA+AAAAQwAAAAYAAAAAaAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD4AAABDAAAABwEAAABoAAAAAABAMAAAAAAAAEAQAAAAAAAAAAAAbhAAAAAAAAEAAAACAAAACAAAAGwAAAADIGNtAgAAAG0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAEQAAAAEAAAAAcAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAcAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAcQAAAAMBAAAAcAAAAAAAEAAAAQABAAAADgAAABEAAAAEAAAAAHAABGFuZycAAAByAAAADgAAABEAAAAFAQAAAHAAAAAOAAAAEQAAAAYAAAAAcAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAABwEAAABwAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAdhAAAAAAAAEAAAACAAAACAAAAHQAAAADIGNtAgAAAHUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAHAAAAAEAAAAAeAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAeAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAeQAAAAMBAAAAeAAAAAAAEAAAAQABAAAAHwAAABwAAAAEAAAAAHgABGFuZycAAAB6AAAAHwAAABwAAAAFAQAAAHgAAAAfAAAAHAAAAAYAAAAAeAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAcAAAABwEAAAB4AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAfhAAAAAAAAEAAAACAAAACAAAAHwAAAADIGNtAgAAAH0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAOwAAAAEAAAAAgAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAgAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAgQAAAAMBAAAAgAAAAAAAEAAAAQABAAAAOAAAADsAAAAEAAAAAIAABGFuZycAAACCAAAAOAAAADsAAAAFAQAAAIAAAAA4AAAAOwAAAAYAAAAAgAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAAA7AAAABwEAAACAAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAhhAAAAAAAAEAAAACAAAACAAAAIQAAAADIGNtAgAAAIUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAGAAAAAEAAAAAiAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAiAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAiQAAAAMBAAAAiAAAAAAAEAAAAQABAAAADgAAABgAAAAEAAAAAIgABGFuZycAAACKAAAADgAAABgAAAAFAQAAAIgAAAAOAAAAGAAAAAYAAAAAiAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAYAAAABwEAAACIAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAjhAAAAAAAAEAAAACAAAACAAAAIwAAAADIGNtAQAAAI0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAARAAAAGAAAAAEAAAAAkAAAAAABEAAAAQABAAAAEQE#8AAAAAAAAAAAAAIAAAAAkAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAkQAAAAMBAAAAkAAAAAAAEAAAAQABAAAAEQAAABgAAAAEAAAAAJAABGFuZycAAACSAAAAEQAAABgAAAAFAQAAAJAAAAARAAAAGAAAAAYAAAAAkAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABEAAAAYAAAABwEAAACQAAAAAABAMQAAAAAAAD#wAAAAAAAAAAAAlhAAAAAAAAEAAAACAAAACAAAAJQAAAADIGNtAQAAAJUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAJgAAAAEAAAAAmAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAmAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAmQAAAAMBAAAAmAAAAAAAEAAAAQABAAAAHwAAACYAAAAEAAAAAJgABGFuZycAAACaAAAAHwAAACYAAAAFAQAAAJgAAAAfAAAAJgAAAAYAAAAAmAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAmAAAABwEAAACYAAAAAADAMAAAAAAAAEAqAAAAAAAAAAAAnhAAAAAAAAEAAAACAAAACAAAAJwAAAADIGNtAQAAAJ0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAmAAAAHAAAAAEAAAAAoAAAAAABEAAAAQABAAAAJgE#8AAAAAAAAAAAAAIAAAAAoAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAoQAAAAMBAAAAoAAAAAAAEAAAAQABAAAAJgAAABwAAAAEAAAAAKAABGFuZycAAACiAAAAJgAAABwAAAAFAQAAAKAAAAAmAAAAHAAAAAYAAAAAoAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAcAAAABwEAAACgAAAAAABAMQAAAAAAAEAUAAAAAAAAAAAAphAAAAAAAAEAAAACAAAACAAAAKQAAAADIGNtAQAAAKUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAQwAAAAEAAAAAqAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAqAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAqQAAAAMBAAAAqAAAAAAAEAAAAQABAAAAOAAAAEMAAAAEAAAAAKgABGFuZycAAACqAAAAOAAAAEMAAAAFAQAAAKgAAAA4AAAAQwAAAAYAAAAAqAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAABDAAAABwEAAACoAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAArhAAAAAAAAEAAAACAAAACAAAAKwAAAADIGNtAQAAAK0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA7AAAAQwAAAAEAAAAAsAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAsAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAsQAAAAMBAAAAsAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAALAABGFuZycAAACyAAAAOwAAAEMAAAAFAQAAALAAAAA7AAAAQwAAAAYAAAAAsAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADsAAABDAAAABwEAAACwAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAthAAAAAAAAEAAAACAAAACAAAALQAAAADIGNtAQAAALUAAAAH##########8=";
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAw#####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAMgAAAAAAAMAwAAAAAAAAAwABQFDAAAAAAABAQoAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwDMAAAAAAADACAAAAAAAAAMAAUAS60sQO3OGAAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAP#AAAAAAAAA#8AAAAAAAAAMAAT#ouymi+6YKAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwBAIAAAAAAAAMAoAAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRABAEAAAAAAAAAAAAAAAAAAAAwABQH0QAAAAAABAZGAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFAA5gUsW2nVQAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMA3AAAAAAAAwCIAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwDIAAAAAAAC#8AAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAgAAAAAAAAwD0AAAAAAAADAAFAdBAAAAAAAEBwcAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwBwAAAAAAADAOgAAAAAAAAMAAUAJOHyA#SdXAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAMAIAAAAAAAAwDwAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwBwAAAAAAABAHAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAADAAAAAgAAAAIAAAA7AAAAQwAAAAEAAAAAYAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAYAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAYQAAAAMBAAAAYAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAAGAABGFuZycAAABiAAAAOwAAAEMAAAAFAQAAAGAAAAA7AAAAQwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAD4AAABDAAAAAQAAAABmAAAAAAEQAAABAAEAAAA+AT#wAAAAAAAAAAAAAgAAAABmAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABnAAAAAwEAAABmAAAAAAAQAAABAQEAAAA+AAAAQwAAAAQAAAAAZgAEYW5nJwAAAGgAAAA+AAAAQwAAAAUBAAAAZgAAAD4AAABDAAAABgAAAABmAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAPgAAAEMAAAAHAQAAAGYAAAAAAMAyAAAAAAAAwAgAAAAAAAAAAABsEAAAAAAAAQAAAAIAAAAIAAAAagAAAAMgY20CAAAAawAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAA4AAAARAAAAAQAAAABuAAAAAAEQAAABAAEAAAAOAT#wAAAAAAAAAAAAAgAAAABuAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABvAAAAAwEAAABuAAAAAAAQAAABAAEAAAAOAAAAEQAAAAQAAAAAbgAEYW5nJwAAAHAAAAAOAAAAEQAAAAUBAAAAbgAAAA4AAAARAAAABgAAAABuAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAABEAAAAHAQAAAG4AAAAAAMA2AAAAAAAAQDQAAAAAAAAAAAB0EAAAAAAAAQAAAAIAAAAIAAAAcgAAAAMgY20CAAAAcwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAB8AAAAcAAAAAQAAAAB2AAAAAAEQAAABAAEAAAAfAT#wAAAAAAAAAAAAAgAAAAB2AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB3AAAAAwEAAAB2AAAAAAAQAAABAAEAAAAfAAAAHAAAAAQAAAAAdgAEYW5nJwAAAHgAAAAfAAAAHAAAAAUBAAAAdgAAAB8AAAAcAAAABgAAAAB2AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAABwAAAAHAQAAAHYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB8EAAAAAAAAQAAAAIAAAAIAAAAegAAAAMgY20CAAAAewAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAMAAAACAAAAAgAAADgAAAA7AAAAAQAAAAB+AAAAAAEQAAABAAEAAAA4AT#wAAAAAAAAAAAAAgAAAAB+AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB#AAAAAwEAAAB+AAAAAAAQAAABAAEAAAA4AAAAOwAAAAQAAAAAfgAEYW5nJwAAAIAAAAA4AAAAOwAAAAUBAAAAfgAAADgAAAA7AAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAOwAAADgAAAABAAAAAIQAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAIQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIUAAAADAQAAAIQAAAAAABAAAAEAAQAAADsAAAA4AAAABAAAAACEAARhbmcnAAAAhgAAADsAAAA4AAAABQEAAACEAAAAOwAAADgAAAAGAAAAAIQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAOAAAAAcBAAAAhAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAIoQAAAAAAABAAAAAgAAAAgAAACIAAAAAyBjbQIAAACJAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEQAAABgAAAABAAAAAIwAAAAAARAAAAEAAQAAABEBP#AAAAAAAAAAAAACAAAAAIwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAI0AAAADAQAAAIwAAAAAABAAAAEAAQAAABEAAAAYAAAABAAAAACMAARhbmcnAAAAjgAAABEAAAAYAAAABQEAAACMAAAAEQAAABgAAAAGAAAAAIwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAGAAAAAcBAAAAjAAAAAAAQBQAAAAAAABAMwAAAAAAAAAAAJIQAAAAAAABAAAAAgAAAAgAAACQAAAAAyBjbQEAAACRAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAADgAAABgAAAABAAAAAJQAAAAAARAAAAEAAQAAAA4BP#AAAAAAAAAAAAACAAAAAJQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJUAAAADAQAAAJQAAAAAABAAAAEAAQAAAA4AAAAYAAAABAAAAACUAARhbmcnAAAAlgAAAA4AAAAYAAAABQEAAACUAAAADgAAABgAAAAGAAAAAJQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAOAAAAGAAAAAcBAAAAlAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAJoQAAAAAAABAAAAAgAAAAgAAACYAAAAAyBjbQEAAACZAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAAB8AAAABAAAAAJwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAJwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ0AAAADAQAAAJwAAAAAABAAAAEAAQAAACYAAAAfAAAABAAAAACcAARhbmcnAAAAngAAACYAAAAfAAAABQEAAACcAAAAJgAAAB8AAAAGAAAAAJwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHwAAAAcBAAAAnAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAAgAAACgAAAAAyBjbQEAAAChAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAABwAAAABAAAAAKQAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAKUAAAADAQAAAKQAAAAAABAAAAEAAQAAACYAAAAcAAAABAAAAACkAARhbmcnAAAApgAAACYAAAAcAAAABQEAAACkAAAAJgAAABwAAAAGAAAAAKQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHAAAAAcBAAAApAAAAAAAQAgAAAAAAABAMwAAAAAAAAAAAKoQAAAAAAABAAAAAgAAAAgAAACoAAAAAyBjbQEAAACpAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAIAAAACAAAAJgAAACEAAAABAAAAAKwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAK0AAAAEAAAAAKwABGFuZycAAACuAAAAJgAAACEAAAAFAQAAAKwAAAAmAAAAIQAAAAYAAAAArAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAhAAAABwEAAACsAAAAAABALgAAAAAAAEAmAAAAAAAAAAAAsRAAAAAAAAEAAAACAAAACAAAAK8AAAADIGNtAQAAALAAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOwAAAAEAAAAAswAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAswAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAtAAAAAMBAAAAswAAAAAAEAAAAQABAAAAQwAAADsAAAAEAAAAALMABGFuZycAAAC1AAAAQwAAADsAAAAFAQAAALMAAABDAAAAOwAAAAYAAAAAswAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA7AAAABwEAAACzAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAuRAAAAAAAAEAAAACAAAACAAAALcAAAADIGNtAQAAALgAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOAAAAAEAAAAAuwAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAuwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAvAAAAAMBAAAAuwAAAAAAEAAAAQABAAAAQwAAADgAAAAEAAAAALsABGFuZycAAAC9AAAAQwAAADgAAAAFAQAAALsAAABDAAAAOAAAAAYAAAAAuwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA4AAAABwEAAAC7AAAAAABAKAAAAAAAAEAsAAAAAAAAAAAAwRAAAAAAAAEAAAACAAAACAAAAL8AAAADIGNtAQAAAMAAAAAH##########8=";
    }
    texte_corr = `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times AB\\times HC=\\dfrac{1}{2}\\times${c1}~\\text{cm}\\times ${h1}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c1 * h1) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{DEF}=\\dfrac{1}{2}\\times DE\\times GF=\\dfrac{1}{2}\\times${c2}~\\text{cm}\\times ${h2}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c2 * h2) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times MN\\times IO=\\dfrac{1}{2}\\times${c3}~\\text{cm}\\times ${h3}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c3 * h3) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c1", "${c1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c2", "${c2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c3", "${c3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h1", "${h1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h2", "${h2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h3", "${h3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };
}

/**
 * 4 cercles sont tracés, 2 dont on connait le rayon et 2 dont on connait le diamètre.
 * * 1 : Calculer le périmètre de cercles
 * * 2 : Calculer l'aire de disques
 * * 3 : Calculer le périmètre et l'aire de disques
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M22-1
 */
function Perimetre_aire_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de disques";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_rayons = shuffle([2, 3, 4, 5, 6, 7, 8]); //pour s'assurer que les 4 rayons sont différents
    let r1 = tableau_des_rayons[0];
    let r2 = tableau_des_rayons[1];
    let r3 = tableau_des_rayons[2];
    let r4 = tableau_des_rayons[3];
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre des 4 cercles suivants.";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire des 4 disques suivants.";
    }
    if (this.sup == 3) {
      this.consigne = "Calculer le périmètre et l'aire des 4 disques suivants.";
    }

    this.consigne +=
      "</br>Donner la valeur exacte et une valeur approchée au dixième près.";

    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAAEAAAAQABAAAAMQAAACQAAAAaAP####8BAAAAABAAAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDUAAAAAAADANwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDEpAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZDI0woMikAAAAdAP####8AAAAAAMA3AAAAAAAAwDUAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAABkMjTCgzKQAAAB0A#####wAAAAAAwDgAAAAAAADANQAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDQpAAAADv##########";
    //	let codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAADQAAAQABAAAAMQAAACQAAAAaAP####8BAAAAAA0AAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDAAAAAAAADAMwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzEkAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAA8kXG1hdGhjYWx7Q31fMiQAAAAdAP####8AAAAAAMAyAAAAAAAAwDQAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAADyRcbWF0aGNhbHtDfV8zJAAAAB0A#####wAAAAAAwDMAAAAAAADAMAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzQkAAAADv##########";
    //  Si affichage LaTeX alors bug de MG32
    texte_corr = "";
    if (this.sup == 1) {
      //si on ne demande pas les aires
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;
    }

    if (this.sup == 2) {
      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    if (this.sup == 3) {
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;

      texte_corr += `<br>`;

      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r1", "${r1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r4", "${r4}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * 3 figures sont données, 1 quart de disque, un demi-disque et un 3-quarts de disque
 * * 1 : Calculer les périmètres
 * * 2 : Calculer les aires
 * * 3 : Calculer les périmètres et aires
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Rééférence 6M22-2
 */
function Perimetre_aire_et_portions_de_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de portions de cercles";
  this.consigne =
    "Calculer le périmètre et l'aire de chacune des figures suivantes";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let r = randint(1, 5);
    let r2 = randint(2, 4);
    let r3 = randint(2, 4);
    let figure = randint(1, 2);
    let codeBase64 = "";
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre de chacune des figures suivantes";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire de chacune des figures suivantes";
    }

    if (figure == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAIoAAACNQAAAQEAAAAAAAAAAQAAAE######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAAN#####wAAAAEADENBcmNEZUNlcmNsZQD#####AAAAAAABAAAACQAAAA######AAAAAUBWgAAAAAAAAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAARAAAADAD#####AAAAEgAAABAAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAEwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAATAAAABgD#####AAAAAAAQAAABAAEAAAAVAAAACf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAJAAAAD#####8AAAABAAtDTWVkaWF0cmljZQAAAAAXAQAAAAAQAAABAAEAAAAJAAAADwAAAAcAAAAAFwEAAAAAEAAAAQUAAAAACQAAAA8AAAAKAAAAABcBAAAAAAEAAAAZAAAAAUAwAAAAAAAAAQAAAAwAAAAAFwAAABgAAAAaAAAADQAAAAAXAQAAAAAQAAABBQABAAAAGwAAAAkBAAAAFwAAAAkAAAAP#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAXAAAAAAEAAAAcEQAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAADIGNtAQAAAB3#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAAWAAAAEwD#####AAAA#wACAQAAABEAAAACAP####8AAnIyAAE1AAAAAUAUAAAAAAAAAAAACgD#####AQAA#wABAAAACf####8AAAABAApDT3BlcmF0aW9uAAAAABQAAAAACwAAAAoAAAALAAAAIQAAAAFAAAAAAAAAAAAAAAAMAP####8AAAALAAAAIgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAAjAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACMAAAAKAP####8BAAAAAAEAAAAlAAAACwAAACEAAAAADAD#####AAAACwAAACYAAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACcAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACcAAAAOAP####8AAAAAAAEAAAAlAAAAKQAAACgAAAAGAP####8AAAAAABAAAAEAAQAAACgAAAApAAAAEAD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAoAAAAKQAAABEAAAAALAEAAAAAEAAAAQABAAAAKAAAACkAAAAHAAAAACwBAAAAABAAAAEFAAAAACgAAAApAAAACgAAAAAsAQAAAAABAAAALgAAAAFAMAAAAAAAAAEAAAAMAAAAACwAAAAtAAAALwAAAA0AAAAALAEAAAAAEAAAAQUAAQAAADAAAAAJAQAAACwAAAAoAAAAKQAAABIBAAAALAAAAAABAAAAMREAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAyAAAABwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACQAAACkAAAAPAP####8BAAAAABAAAAEAAQAAADQAAAArAAAACgD#####AQAAAAABAAAANAAAABQAAAAACwAAAAEAAAABQAAAAAAAAAAAAAAADAD#####AAAANQAAADYAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANwAAAA0A#####wEAAAAAEAABRQAAAAAAAAAAAEAIAAAAAAAAAwABAAAANwAAAAQA#####wEAAAABEAAAAQABAAAAOQE#8AAAAAAAAAAAAAoA#####wEAAAAAAQAAADkAAAALAAAAAQAAAAAMAP####8AAAA6AAAAOwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAA8AAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAADwAAAAMAP####8AAAA1AAAAOwAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAAPwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA######wAAAAEAEUNHcmFuZEFyY0RlQ2VyY2xlAP####8AAAAAAAEAAAA5AAAAPgAAAEAAAAAGAP####8AAAAAABAAAAEAAQAAAEAAAAA5AAAABgD#####AAAAAAAQAAABAAEAAAA5AAAAPgAAABMA#####wAAAP8AAgIAAABDAAAAEwD#####AAAA#wACAgAAAEQAAAAQAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEAAAAA5AAAAEQAAAABHAQAAAAAQAAABAAEAAABAAAAAOQAAAAcAAAAARwEAAAAAEAAAAQUAAAAAQAAAADkAAAAKAAAAAEcBAAAAAAEAAABJAAAAAUAwAAAAAAAAAQAAAAwAAAAARwAAAEgAAABKAAAADQAAAABHAQAAAAAQAAABBQABAAAASwAAAAkBAAAARwAAAEAAAAA5AAAAEgEAAABHAAAAAABARgAAAAAAAAAAAAAAAAAAAAAATBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABNAAAACP##########";

      if (this.sup == 1) {
        //si on ne demande pas les aires
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAGX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAANAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAQ#####wAAAAEAFENJbXBsZW1lbnRhdGlvblByb3RvAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAAkAAAAP#####wAAAAEAC0NNZWRpYXRyaWNlAAAAABIBAAAAABAAAAEAAQAAAAkAAAAPAAAABwAAAAASAQAAAAAQAAABBQAAAAAJAAAADwAAAAoAAAAAEgEAAAAAAQAAABQAAAABQDAAAAAAAAABAAAADAAAAAASAAAAEwAAABUAAAANAAAAABIBAAAAABAAAAEFAAEAAAAWAAAACQEAAAASAAAACQAAAA######AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABIAAAAAAQAAABcRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAGAAAAAIA#####wACcjIAATQAAAABQBAAAAAAAAAAAAAKAP####8BAAD#AAEAAAAJ#####wAAAAEACkNPcGVyYXRpb24AAAAAEgAAAAALAAAACgAAAAsAAAAaAAAAAUAAAAAAAAAAAAAAAAwA#####wAAAAsAAAAbAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAABwAAAANAP####8BAAAAABAAAUcAAAAAAAAAAABACAAAAAAAAAMAAQAAABwAAAAKAP####8BAAAAAAEAAAAeAAAACwAAABoAAAAADAD#####AAAACwAAAB8AAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACAAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACAAAAAGAP####8BAAAAABAAAAEAAQAAACEAAAAiAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAAAhAAAAIgAAABAAAAAAJAEAAAAAEAAAAQABAAAAIQAAACIAAAAHAAAAACQBAAAAABAAAAEFAAAAACEAAAAiAAAACgAAAAAkAQAAAAABAAAAJgAAAAFAMAAAAAAAAAEAAAAMAAAAACQAAAAlAAAAJwAAAA0AAAAAJAEAAAAAEAAAAQUAAQAAACgAAAAJAQAAACQAAAAhAAAAIgAAAAcA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAkAAAAiAAAADgD#####AQAAAAAQAAABAAEAAAArAAAAIwAAAAoA#####wEAAAAAAQAAACsAAAASAgAAAAE#+AAAAAAAAAAAAAsAAAAaAAAAAAwA#####wAAACwAAAAtAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAAC4AAAANAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAMAAQAAAC4AAAAEAP####8BAAAAARAAAAEAAQAAADABP#AAAAAAAAAAAAAKAP####8BAAAAAAEAAAAwAAAACwAAAAEAAAAADAD#####AAAAMQAAADIAAAANAP####8BAAAAABAAAUkAAAAAAAAAAABACAAAAAAAAAMAAgAAADMAAAANAP####8BAAAAABAAAUgAAAAAAAAAAABACAAAAAAAAAMAAQAAADMAAAAMAP####8AAAAsAAAAMgAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA2AAAABgD#####AQAAAAAQAAABAAEAAAA3AAAAMAAAAAYA#####wAAAAAAEAAAAQABAAAAMAAAADUAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAADcAAAAwAAAAEAAAAAA7AQAAAAAQAAABAAEAAAA3AAAAMAAAAAcAAAAAOwEAAAAAEAAAAQUAAAAANwAAADAAAAAKAAAAADsBAAAAAAEAAAA9AAAAAUAwAAAAAAAAAQAAAAwAAAAAOwAAADwAAAA+AAAADQAAAAA7AQAAAAAQAAABBQABAAAAPwAAAAkBAAAAOwAAADcAAAAwAAAAEQEAAAA7AQAAAABARgAAAAAAAAAAAAAAAAAAAAAAQBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABBAAAADAD#####AAAAEQAAAAwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAQwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABDAAAABgD#####AAAAAAAQAAABAAEAAAAwAAAANAAAAA4A#####wEAAP8AEAAAAQACAAAAHgAAACMAAAAMAP####8AAABHAAAAHwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABIAAAADQD#####AQAAAAAQAAFGAAAAAAAAAAAAQAgAAAAAAAADAAIAAABIAAAABgD#####AAAAAAAQAAABAAEAAAAeAAAASgAAAAYA#####wAAAAAAEAAAAQABAAAAHgAAACH#####AAAAAQAMQ0FyY0RlQ2VyY2xlAP####8AAAAAAAEAAAAJAAAADwAAAEQAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEoAAAAeAAAAEAAAAABOAQAAAAAQAAABAAEAAABKAAAAHgAAAAcAAAAATgEAAAAAEAAAAQUAAAAASgAAAB4AAAAKAAAAAE4BAAAAAAEAAABQAAAAAUAwAAAAAAAAAQAAAAwAAAAATgAAAE8AAABRAAAADQAAAABOAQAAAAAQAAABBQABAAAAUgAAAAkBAAAATgAAAEoAAAAeAAAAEQEAAABOAAAAAADAKgAAAAAAAAAAAAAAAAAAAAAAUxEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABUAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAA1AAAANAAAABAAAAAAVgEAAAAAEAAAAQABAAAANQAAADQAAAAHAAAAAFYBAAAAABAAAAEFAAAAADUAAAA0AAAACgAAAABWAQAAAAABAAAAWAAAAAFAMAAAAAAAAAEAAAAMAAAAAFYAAABXAAAAWQAAAA0AAAAAVgEAAAAAEAAAAQUAAQAAAFoAAAAJAQAAAFYAAAA1AAAANAAAABEBAAAAVgAAAAAAAAAAAAAAAADACAAAAAAAAAAAAFsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAXAAAAAYA#####wAAAAAAEAAAAQABAAAACQAAAEQAAAATAP####8AAAAAAAEAAAAwAAAANP####8AAAABQGaAAAAAAAD#####AAAAAQARQ0dyYW5kQXJjRGVDZXJjbGUA#####wAAAAAAAQAAAB4AAAAh#####wAAAAFAcOAAAAAAAP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAA#wACAgAAAF4AAAAVAP####8AAAD#AAICAAAAEAAAABUA#####wAAAP8AAgAAAABLAAAAFQD#####AAAA#wACAAAAAEwAAAAI##########8=";
      texte_corr = `La première figure est un quart de cercle de rayon ${r} cm auquel il faut ajouter les 2 rayons qui ferment la figure.<br>`;

      if (this.sup == 1) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r", "${r}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * Un carré, un rectangle et un triangle rectangle sont tracés.
 *
 * Il faut calculer les aires et périmètres.
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M11-1
 */
function Perimetre_ou_aire_de_carres_rectangles_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires carrés, rectangles et triangles rectangles";
  this.consigne = "Calculer le périmètre et l'aire des 3 figures suivantes";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let c = randint(2, 6);
    let L = randint(2, 5);
    let l = randint(1, 4);
    while (l == L) {
      // Le rectangle ne doit pas être un carré
      l = randint(1, 4);
    }
    let a = randint(2, 5);
    let b = randint(2, 5);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAH######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wABYwABNQAAAAFAFAAAAAAAAAAAAAkA#####wABTAABNQAAAAFAFAAAAAAAAAAAAAkA#####wABbAABMgAAAAFAAAAAAAAAAAAAAAkA#####wABYgABNQAAAAFAFAAAAAAAAAAAAAkA#####wABYQABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAAAEAABQQDALgAAAAAAAAAAAAAAAAAABQABQDkAAAAAAABAaOAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAADf####8AAAACAAlDQ2VyY2xlT1IAAAAADgEAAAAAAQAAAA3#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA4AAAAAABAAAUIAQAgAAAAAAAAAAAAAAAAAAAUAAUAYC8chUUHEAAAADwAAAAUBAAAADgAAAAAAEAAAAQABAAAADQAAABAAAAAGAAAAAA4BAAAAAA0AAAEFAAAAAA0AAAAQ#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAA4BAAAAAA0AAAEAAQAAAA0AAAAQAAAACwAAAAAOAQAAAAABAAAAEgAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAOAAAAEwAAABT#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAOAQAAAAANAAABBQABAAAAFf####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADgAAAAABAAAAFhAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAADQAAABEAAAASAP####8BAAAAABAAAAEAAQAAABAAAAAR#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAEAAAAA0AAAATAP####8BAAAAAAEAAAANAAAAEAAAAA8A#####wAAABkAAAAaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAABwAAAAQAP####8AAAAAABAAAUMAQBAAAAAAAADANQAAAAAAAAUAAgAAABwAAAAPAP####8AAAAYAAAAGwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAfAAAAEAD#####AAAAAAAQAAFEAMAsAAAAAAAAwDcAAAAAAAAFAAIAAAAf#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAAA0AAAAQAAAAHgAAACEAAAANAAAABQD#####AAAAAAAQAAABAAEAAAAQAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAACEAAAAFAP####8AAAAAABAAAAEAAQAAACEAAAAN#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAhAAAADQAAABAAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAANAAAAEAAAAB4AAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAQAAAAHgAAACEAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAeAAAAIQAAAA0AAAACAP####8AAAAAABAAAUgAwDEAAAAAAADAAAAAAAAAAAUAAUBymAAAAAAAQHEHCj1wo9cAAAAKAP####8AG1NlZ21lbnQgZGUgbG9uZ3VldXIgZG9ubsOpZQAAAAYAAAADAAAAAgAAAAkAAAAqAAAACwAAAAArAQAAAAABAAAAKgAAAAwAAAAJAAAAAA0BAAAAKwAAAAAAEAABRQBACAAAAAAAAAAAAAAAAAAABQABP8sfH32jwU4AAAAsAAAABQEAAAArAAAAAAAQAAABAAEAAAAqAAAALQAAAAYAAAAAKwEAAAAADQAAAQUAAAAAKgAAAC0AAAAOAAAAACsBAAAAAA0AAAEAAQAAACoAAAAtAAAACwAAAAArAQAAAAABAAAALwAAAAFAMAAAAAAAAAEAAAAPAAAAACsAAAAwAAAAMQAAABAAAAAAKwEAAAAADQAAAQUAAQAAADIAAAARAQAAACsAAAAAAQAAADMQAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAACQAAABIA#####wEAAAAAEAAAAQABAAAALQAAAC4AAAASAP####8BAAAAABAAAAEAAQAAACoAAAAuAAAACwD#####AQAAAAABAAAALQAAAAwAAAAKAAAAAAsA#####wEAAAAAAQAAACoAAAAMAAAACgAAAAAPAP####8AAAA1AAAANwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAA5AAAAEAD#####AAAAAAAQAAFGAEAAAAAAAAAAwDgAAAAAAAAFAAIAAAA5AAAADwD#####AAAANgAAADgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAPAAAABAA#####wAAAAAAEAABRwDALgAAAAAAAMA2AAAAAAAABQACAAAAPAAAAAUA#####wAAAAAAEAAAAQABAAAALQAAADsAAAAFAP####8AAAAAABAAAAEAAQAAADsAAAA+AAAABQD#####AAAAAAAQAAABAAEAAAA+AAAAKgAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAALQAAADsAAAADAAAAAEIAAAAAABAAAAEAAQAAAC0BP#AAAAAAAAAAAAAEAAAAAEIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAEP#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAABCAAJhbgAAAEQAAAAtAAAAOwAAAAgBAAAAQgAAAC0AAAA7AAAABgAAAABCAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAADv#####AAAAAQANQ1BvaW50UHJvamV0ZQAAAABCAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAQwAAABYAAAAAQgACbWEAAABEAAAALQAAAEj#####AAAAAQAOQ1Rlc3RFeGlzdGVuY2UAAAAAQgADdG1hAAAASQAAABEBAAAAQgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAEcQAAAAAAABAAAAAv####8AAAABAA1DRm9uY3Rpb24zVmFyAAAAAAwAAABK#####wAAAAEACkNPcGVyYXRpb24AAAAADAAAAEUAAAAMAAAASQAAAAwAAABFAAAAAyBjbQEAAABGAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAALQAAADsAAAA+AAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAOwAAAD4AAAAqAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAPgAAACoAAAAtAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAKgAAAC0AAAA7AAAAAgD#####AAAAAAAQAAFJAEAIAAAAAAAAAAAAAAAAAAAFAAFAbkAAAAAAAEB5kAAAAAAAAAAACgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAUAAAAAsAAAAAUQEAAAAAAQAAAFAAAAAMAAAADAAAAAANAQAAAFEAAAAAABAAAUoAwAgAAAAAAADAOgAAAAAAAAUAAT##e1lPr88TAAAAUgAAAAUBAAAAUQAAAAAAEAAAAQABAAAAUAAAAFMAAAASAP####8BAAAAABAAAAEAAQAAAFMAAABUAAAACwD#####AQAAAAABAAAAUwAAAAwAAAALAAAAAA8A#####wAAAFUAAABWAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFcAAAAQAP####8AAAAAABAAAUsAwDIAAAAAAADACAAAAAAAAAUAAgAAAFcAAAAFAP####8AAAAAABAAAAEAAQAAAFMAAABZAAAABQD#####AAAAAAAQAAABAAEAAABZAAAAUAAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUwAAAFkAAAADAAAAAFwAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAFwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAF0AAAAWAAAAAFwAAmFuAAAAXgAAAFMAAABZAAAACAEAAABcAAAAUwAAAFkAAAAGAAAAAFwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAWQAAABcAAAAAXAAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAF0AAAAWAAAAAFwAAm1hAAAAXgAAAFMAAABiAAAAGAAAAABcAAN0bWEAAABjAAAAEQEAAABcAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAYRAAAAAAAAEAAAACAAAAGQAAAAAMAAAAZAAAABoAAAAADAAAAF8AAAAMAAAAYwAAAAwAAABfAAAAAyBjbQEAAABgAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAUAAAAAMAAAAAZgAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAZgAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAZwAAABYAAAAAZgACYW4AAABoAAAAWQAAAFAAAAAIAQAAAGYAAABZAAAAUAAAAAYAAAAAZgAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABQAAAAFwAAAABmAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAAZwAAABYAAAAAZgACbWEAAABoAAAAWQAAAGwAAAAYAAAAAGYAA3RtYQAAAG0AAAARAQAAAGYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABrEAAAAAAAAQAAAAIAAAAZAAAAAAwAAABuAAAAGgAAAAAMAAAAaQAAAAwAAABtAAAADAAAAGkAAAADIGNtAQAAAGoAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAABQAAAAUwAAAFn#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAARAAAAGwD#####AAAA#wACAQAAACMAAAAbAP####8AAAD#AAIBAAAAJAAAABsA#####wAAAP8AAgEAAAAlAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABQAAAAUwAAAAMAAAAAdQAAAAAAEAAAAQABAAAAUAE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABYAAAAAdQACYW4AAAB3AAAAUAAAAFMAAAAIAQAAAHUAAABQAAAAUwAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFAAAABTAAAAFwAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAdgAAABYAAAAAdQACbWEAAAB3AAAAUAAAAHsAAAAYAAAAAHUAA3RtYQAAAHwAAAARAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAZAAAAAAwAAAB9AAAAGgAAAAAMAAAAeAAAAAwAAAB8AAAADAAAAHgAAAADIGNtAQAAAHkAAAAH##########8=";
    let c2 = Math.sqrt(a * a + b * b);
    let pIJK = Algebrite.eval(a + b + c2).d.toFixed(1);

    texte_corr = `$\\mathcal{P}_{ABCD}=${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}=${
      4 * c
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{ABCD}=${c}~\\text{cm}\\times${c}~\\text{cm}=${
      c * c
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{EFGH}=${L}~\\text{cm}+${l}~\\text{cm}+${L}~\\text{cm}+${l}~\\text{cm}=${
      2 * L + 2 * l
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{EFGH}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
      L * l
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{IJK}=${a}~\\text{cm}+${b}~\\text{cm}+${tex_nombre(
      c2.toFixed(1)
    )}~\\text{cm}=${tex_nombre(pIJK)}~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{IJK}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${tex_nombre(
      Algebrite.eval((a * b) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L", "${L}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l", "${l}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "a", "${a}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "b", "${b}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  // 	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Périmètres\n\
  // 2 : Aires\n3 : Périmètres et aires"];
}

/**
 * Deux figures composés de rectangles et de triangles sont tracés.
 *
 * Il faut calculer le périmètre et l'aire par addition ou soustraction d'aires
 *
 * Pas de version LaTeX
 *
 * Un seul type de figure pour l'instant.
 * @Auteur Rémi Angot
 * Référence 6M11-2
 */
function Perimetre_ou_aire_de_figures_composees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de figures composées";
  this.consigne = "Calculer le périmètre et l'aire des 2 figures suivantes";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let L1 = randint(4, 7);
    let l1 = randint(2, 4);
    let L2 = randint(2, 4);
    if (L1 == l1) {
      l1--;
    } // pour que le rectangle ne soit pas un carré
    let c = randint(4, 7);
    let h = randint(2, c - 1);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAAKj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACTDEAATUAAAABQBQAAAAAAAAAAAAJAP####8AAmwxAAEzAAAAAUAIAAAAAAAAAAAACQD#####AAJMMgABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAABEAABQwBACAAAAAAAAAAAAAAAAAAABQABQFKgAAAAAABAaW4UeuFHrv####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAAC#####8AAAACAAlDQ2VyY2xlT1IAAAAADAEAAAAAAQAAAAv#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAAwAAAAAARAAAUQAQAgAAAAAAAAAAAAAAAAAAAUAAT++v3IzOUsjAAAADQAAAAUBAAAADAAAAAAAEAAAAQABAAAACwAAAA4AAAAGAAAAAAwBAAAAABAAAAEFAAAAAAsAAAAO#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAAwBAAAAABAAAAEAAQAAAAsAAAAOAAAACwAAAAAMAQAAAAABAAAAEAAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAMAAAAEQAAABL#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAMAQAAAAAQAAABBQABAAAAE#####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADAAAAAABAAAAFBAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAACwAAAA8AAAASAP####8BAAAAABAAAAEAAQAAAA4AAAAPAAAACwD#####AQAAAAABAAAACwAAAAwAAAAJAAAAAAsA#####wEAAAAAAQAAAA4AAAAMAAAACQAAAAAPAP####8AAAAWAAAAGAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAaAAAAEAD#####AQAAAAAQAAFCAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAaAAAADwD#####AAAAFwAAABkAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAHQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAdAAAACwD#####AQAAAAABAAAAHwAAAAwAAAAKAP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAHAAAAB8AAAAPAP####8AAAAhAAAAIAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAiAAAAEAD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAi#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABgAAAA4AAAALAAAAHAAAAB8AAAAkAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAJAAAABwAAAAOAAAAACYBAAAAABAAAAEAAQAAACQAAAAcAAAABgAAAAAmAQAAAAAQAAABBQAAAAAkAAAAHAAAAAsAAAAAJgEAAAAAAQAAACgAAAABQDAAAAAAAAABAAAADwAAAAAmAAAAJwAAACkAAAAQAAAAACYBAAAAABAAAAEFAAEAAAAqAAAACAEAAAAmAAAAJAAAABwAAAARAQAAACYAAAAAAQAAACsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAALAAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAHAAAAAsAAAAOAAAAAC4BAAAAABAAAAEAAQAAABwAAAALAAAABgAAAAAuAQAAAAAQAAABBQAAAAAcAAAACwAAAAsAAAAALgEAAAAAAQAAADAAAAABQDAAAAAAAAABAAAADwAAAAAuAAAALwAAADEAAAAQAAAAAC4BAAAAABAAAAEFAAEAAAAyAAAACAEAAAAuAAAAHAAAAAsAAAARAQAAAC4AAAAAAQAAADMRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAANP####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAADgAAAAsAAAAcAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAABwAAAAkAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAHAAAAB8AAAAOAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAAA4AAAAfAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAADgAAACQAAAAOAAAAADsBAAAAABAAAAEAAQAAAA4AAAAkAAAABgAAAAA7AQAAAAAQAAABBQAAAAAOAAAAJAAAAAsAAAAAOwEAAAAAAQAAAD0AAAABQDAAAAAAAAABAAAADwAAAAA7AAAAPAAAAD4AAAAQAAAAADsBAAAAABAAAAEFAAEAAAA#AAAACAEAAAA7AAAADgAAACQAAAAJAP####8AAWMAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAABACAAAAAAAAAAAAAAAAAAABQABQGlwAAAAAABAfecKPXCj1wAAAAoA#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAABgAAAAMAAAACAAAAQgAAAEMAAAALAAAAAEQBAAAAAAEAAABDAAAADAAAAEIAAAAADQEAAABEAAAAAAAQAAAAQAgAAAAAAAAAAAAAAAAAAAUAAT#LiKDqIUKnAAAARQAAAAUBAAAARAAAAAAAEAAAAQEBAAAAQwAAAEYAAAAGAAAAAEQBAAAAABAAAAEFAAAAAEMAAABGAAAADgAAAABEAQAAAAAQAAABAAEAAABDAAAARgAAAAsAAAAARAEAAAAAAQAAAEgAAAABQDAAAAAAAAABAAAADwAAAABEAAAASQAAAEoAAAAQAAAAAEQBAAAAABAAAAEFAAEAAABLAAAAEQEAAABEAAAAAAEAAABMEAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAQAAAEIAAAAKAP####8ADUNhcnLDqSBkaXJlY3QAAAAFAAAAAgAAAAIAAABDAAAARgAAAAUAAAAATgEAAAAAEAAAAQABAAAAQwAAAEYAAAASAAAAAE4AAAAAABAAAAEBAQAAAEMAAABP#####wAAAAEACUNDZXJjbGVPQQAAAABOAAAAAAEBAAAAQwAAAEYAAAAPAAAAAE4AAABQAAAAUQAAABABAAAATgEAAAAAEAABSAEFAAIAAABS#####wAAAAEADENUcmFuc2xhdGlvbgAAAABOAAAAQwAAAEb#####AAAAAQALQ1BvaW50SW1hZ2UBAAAATgEAAAAAEAABRwEFAAAAAFMAAABUAAAABQD#####AAAAAAAQAAABAQEAAABGAAAAVQAAAAUA#####wAAAAAAEAAAAQEBAAAAVQAAAFMAAAAFAP####8AAAAAABAAAAEBAQAAAFMAAABDAAAAFAD#####AQAAAAEBAAAABQAAAEMAAABGAAAAVQAAAFMAAABDAAAACQD#####AAFyAAEyAAAAAUAAAAAAAAAAAAAACwD#####AQAAAAEBAAAAUwAAAAwAAABaAAAAAA8A#####wAAAFcAAABbAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFwAAAAQAP####8BAAAAABAAAUYAAAAAAAAAAABACAAAAAAAAAUAAgAAAFwAAAASAP####8BAAAAABAAAAEBAQAAAF4AAABXAAAACQD#####AAFoAAE0AAAAAUAQAAAAAAAAAAAACwD#####AQAAAAEBAAAAXgAAAAwAAABgAAAAAA8A#####wAAAF8AAABhAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAGIAAAAQAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAUAAgAAAGIAAAAUAP####8AAAAAAAEAAAAGAAAAVQAAAEYAAABDAAAAUwAAAGQAAABVAAAABQD#####AAAAAAAQAAABAQEAAABeAAAAZP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAAAAABAQAAAFYAAAAZAP####8AAAAAAAEBAAAARwAAABkA#####wAAAAAAAQEAAABYAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAEYAAABDAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAARgAAAEMAAABTAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAUwAAAFUAAABGAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAFMAAABDAAAACgD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAABkAAAAXgAAAA4AAAAAbgEAAAAAEAAAAQABAAAAZAAAAF4AAAAGAAAAAG4BAAAAABAAAAEFAAAAAGQAAABeAAAACwAAAABuAQAAAAABAAAAcAAAAAFAMAAAAAAAAAEAAAAPAAAAAG4AAABvAAAAcQAAABAAAAAAbgEAAAAAEAAAAQUAAQAAAHIAAAAIAQAAAG4AAABkAAAAXgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAAVQAAAGQAAAAOAAAAAHUBAAAAABAAAAEAAQAAAFUAAABkAAAABgAAAAB1AQAAAAAQAAABBQAAAABVAAAAZAAAAAsAAAAAdQEAAAAAAQAAAHcAAAABQDAAAAAAAAABAAAADwAAAAB1AAAAdgAAAHgAAAAQAAAAAHUBAAAAABAAAAEFAAEAAAB5AAAACAEAAAB1AAAAVQAAAGQAAAAKAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAFMAAABkAAAADgAAAAB8AQAAAAAQAAABAAEAAABTAAAAZAAAAAYAAAAAfAEAAAAAEAAAAQUAAAAAUwAAAGQAAAALAAAAAHwBAAAAAAEAAAB+AAAAAUAwAAAAAAAAAQAAAA8AAAAAfAAAAH0AAAB#AAAAEAAAAAB8AQAAAAAQAAABBQABAAAAgAAAAAgBAAAAfAAAAFMAAABkAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAACCAAAAUwAAAGQAAAADAAAAAIMAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAIMAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIT#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAACDAAJhbgAAAIUAAABTAAAAZAAAAAYAAAAAgwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFMAAABk#####wAAAAEADUNQb2ludFByb2pldGUAAAAAgwAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAZAAAAIQAAAAaAAAAAIMAAm1hAAAAhQAAAFMAAACI#####wAAAAEADkNUZXN0RXhpc3RlbmNlAAAAAIMAA3RtYQAAAIkAAAARAQAAAIMAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACHEAAAAAAAAQAAAAL#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAMAAAAiv####8AAAABAApDT3BlcmF0aW9uAAAAAAwAAACGAAAADAAAAIkAAAAMAAAAhgAAAAABAAAAggAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAEAAAADAAAAewAAAGQAAABVAAAAAwAAAACMAAAAAAAQAAABAAEAAABkAT#wAAAAAAAAAAAABAAAAACMAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAACNAAAAGgAAAACMAAJhbgAAAI4AAABkAAAAVQAAAAYAAAAAjAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGQAAABVAAAAGwAAAACMAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABVAAAAjQAAABoAAAAAjAACbWEAAACOAAAAZAAAAJEAAAAcAAAAAIwAA3RtYQAAAJIAAAARAQAAAIwAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACQEAAAAAAAAQAAAAIAAAAdAAAAAAwAAACTAAAAHgAAAAAMAAAAjwAAAAwAAACSAAAADAAAAI8AAAAAAQAAAHsAAAAKAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAABAAAAAwAAAHQAAABkAAAAXgAAAAMAAAAAlQAAAAAAEAAAAQABAAAAZAE#8AAAAAAAAAAAAAQAAAAAlQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAlgAAABoAAAAAlQACYW4AAACXAAAAZAAAAF4AAAAGAAAAAJUAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABkAAAAXgAAABsAAAAAlQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAXgAAAJYAAAAaAAAAAJUAAm1hAAAAlwAAAGQAAACaAAAAHAAAAACVAAN0bWEAAACbAAAAEQEAAACVAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAmRAAAAAAAAEAAAACAAAAHQAAAAAMAAAAnAAAAB4AAAAADAAAAJgAAAAMAAAAmwAAAAwAAACYAAAAAAEAAAB0AAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAABBAAAADgAAACQAAAADAAAAAJ4AAAAAABAAAAEAAQAAAA4BP#AAAAAAAAAAAAAEAAAAAJ4AAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ8AAAAaAAAAAJ4AAmFuAAAAoAAAAA4AAAAkAAAABgAAAACeAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAACQAAAAbAAAAAJ4AAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAACfAAAAGgAAAACeAAJtYQAAAKAAAAAOAAAAowAAABwAAAAAngADdG1hAAAApAAAABEBAAAAngAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAB0AAAAADAAAAKUAAAAeAAAAAAwAAAChAAAADAAAAKQAAAAMAAAAoQAAAAABAAAAQQAAABkA#####wAAAAAAAQEAAABXAAAAB###########";
    let DA = arrondi(Math.sqrt(L2 ** 2 + l1 ** 2), 1);
    let t1 = arrondi(Math.sqrt(4 + h ** 2), 1); // longueur d'un côté du triangle
    let t2 = arrondi(Math.sqrt((c - 2) ** 2 + h ** 2), 1); // longueur de l'autre côté d'un triangle
    let texte_corr = "";
    texte_corr += `La première figure est composée d'un rectangle de ${L1} cm par ${l1} cm`;
    texte_corr += ` et d'un triangle rectangle dont les côtés de l'angle droit mesurent ${L2} cm et ${l1} cm.<br>`;
    texte_corr += `$\\mathcal{P}_{1}=${L1 + L2}+${tex_nombre(
      DA
    )}+${L1}+${l1}=${tex_nombrec(L1 + L2 + DA + L1 + l1)}$ cm.<br>`;
    texte_corr += `$\\mathcal{A}_{1}=${L1}\\times${l1}+${L2}\\times${l1}\\div2=${
      L1 * l1
    }+${calcul((L2 * l1) / 2)}=${calcul(L1 * l1 + (L2 * l1) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;
    texte_corr += "<br><br>";
    texte_corr += `La deuxième figure est un carré de côté ${c} cm auquel il faut enlever un triangle de ${c} cm de base et ${h} cm de hauteur.<br>`;
    texte_corr += `$\\mathcal{P}_{2}=${c}+${c}+${c}+${tex_nombre(
      t1
    )}+${tex_nombre(t2)}=${tex_nombrec(3 * c + t1 + t2)}$ cm<br>`;
    texte_corr += `$\\mathcal{A}_{2}=${c}\\times${c}-${c}\\times${h}\\div2=${
      c * c
    }-${(c * h) / 2}=${tex_nombrec(c ** 2 - (c * h) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L1", "${L1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l1", "${l1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L2", "${L2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h", "${h}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Citer des formules de périmètre, des formules d'aire ou la définition de π
 * @Auteur Rémi Angot
 * Référence 6M25
 */
function Connaitre_formules_de_perimetre_et_aires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Connaitre le cours sur le périmètre et l'aire";
  this.consigne = "Calculer";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_type_de_questions = combinaison_listes(
      [
        "pi",
        "prectangle",
        "pcarre",
        "acarre",
        "arectangle",
        "pcercle",
        "acercle",
        "atrianglerectangle",
        "atriangle",
      ],
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case "pi":
          texte = "Rappeler la définition du nombre $\\pi$.";
          texte_corr = "$\\pi$ est la longueur d'un cercle de diamètre 1.";
          break;
        case "prectangle":
          texte = "Donner une formule du périmètre du rectangle.";
          texte_corr =
            "$\\mathcal{P}_{\\text{rectangle}}=(L+l)\\times2=L\\times2+l\\times2=L+l+L=l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "pcarre":
          texte = "Donner une formule du périmètre du carré.";
          texte_corr =
            "$\\mathcal{P}_{\\text{carré}}=c\\times4=c+c+c+c$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "arectangle":
          texte = "Donner une formule de l'aire du rectangle.";
          texte_corr = "$\\mathcal{A}_{\\text{rectangle}}=L\\times l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "acarre":
          texte = "Donner une formule de l'aire du carré.";
          texte_corr = "$\\mathcal{A}_{\\text{carré}}=c\\times c=c^2$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "atrianglerectangle":
          texte = "Donner une formule de l'aire du triangle rectangle.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=a\\times b \\div2=\\dfrac{a\\times b}{2}$<br><br>";
          texte_corr +=
            "Avec $a$ et $b$ les longueurs des côtés de l'angle droit.";
          break;
        case "atriangle":
          texte = "Donner une formule de l'aire d'un triangle quelconque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=b\\times h \\div2=\\dfrac{b\\times h}{2}$<br><br>";
          texte_corr +=
            "Avec $b$ la longueur d'un côté et $h$ la longueur de la hauteur relative à ce côté.";
          break;
        case "pcercle":
          texte =
            "Donner une formule de la longueur d'un cercle (aussi appelée circonférence).";
          texte_corr =
            "$\\mathcal{P}_{\\text{cercle}}=D\\times \\pi = 2\\times R \\times \\pi = 2\\pi{}R$<br><br>";
          texte_corr += "Avec $D$ le diamètre et $R$ le rayon de ce cercle.";
          break;
        case "acercle":
          texte = "Donner une formule de l'aire d'un disque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{disque}}=R\\times R\\times\\pi=\\pi R^2$<br><br>";
          texte_corr += "Avec $R$ le rayon de ce disque.";
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Compléter des égalités sur les nombres décimaux
 * * n/100 = .../10 + .../100
 * * n/100 = .../100 + .../10
 * * .../100 = u+ d/10 + c/100
 * * u = .../10
 * * u = .../100
 * * n/10 = ... + .../10 + .../100
 * @Auteur Rémi Angot
 * 6N23-1
 */
function Exercice_differentes_ecritures_nombres_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Différentes écritures des nombres décimaux";
  this.consigne = "Compléter l'égalité puis donner l'écriture décimale.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      let u = randint(2, 9); //chiffre des unités
      let d = randint(1, 9); //chiffre des dixièmes
      let c = randint(1, 9); //chiffre des centièmes
      let n = 100 * u + 10 * d + c;
      let ecriture_decimale;
      switch (type_de_questions) {
        case 1: // n/100 = .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;

          break;
        case 2: // n/100 = .../100 + .../10
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            100
          )}+${tex_fraction("", 10)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            c,
            100
          )}+${tex_fraction(d, 10)}=${ecriture_decimale}$`;
          break;
        case 3: // .../100 = u+ d/10 + c/100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction("", "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;
          break;
        case 4: // u = .../10
          texte = `$${u}=${tex_fraction("", "10")}$`;
          texte_corr = `$${u}=${tex_fraction(10 * u, "10")}$`;
          break;
        case 5: // u = .../100
          texte = `$${u}=${tex_fraction("", "100")}$`;
          texte_corr = `$${u}=${tex_fraction(100 * u, "10")}$`;
          break;
        case 6: // n/10 = ... + .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(n / 10));
          texte = `$${tex_fraction(n, 10)}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, 10)}=${u * 10 + d}+${tex_fraction(
            c,
            10
          )}+${tex_fraction(0, 100)}=${ecriture_decimale}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions, soustractions et multiplications posées de nombres entiers
 *
 * * abcd +efg
 * * abc0-efg
 * * 1abc-def
 * * abc*d0e tables de 2 à 5
 * * abc*de tables de 5 à 9
 * @Auteur Rémi Angot
 * Référence 6C10 
 */
function Additions_soustractions_multiplications_posees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Additions, soustractions et multiplications posées de nombres entiers";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 5;
  // this.pas_de_version_HMTL=true;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5];
    let liste_type_de_questions = combinaison_listes_sans_changer_ordre(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    if (this.nb_questions == 3) {
      liste_type_de_questions = [1, 2, 5];
    }
    if (this.nb_questions == 4) {
      liste_type_de_questions = [1, 2, 4, 5];
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // abcd +efg
          a =
            randint(1, 9) * 10000 +
            randint(5, 9) * 1000 +
            randint(5, 9) * 100 +
            randint(7, 9) * 10 +
            randint(1, 9);
          b = randint(5, 9) * 100 + randint(7, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${b}$`;
          !sortie_html
            ? (texte_corr = `$\\opadd{${a}}{${b}}$`)
            : (texte_corr = `$${tex_nombre(a)}+${b}=${tex_nombre(a + b)}$`);
          break;
        case 2: // abc0-efg
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          e = randint(b, 9);
          f = randint(c, 9);
          g = randint(2, 9);
          x = a * 1000 + b * 100 + c * 10;
          y = e * 100 + f * 10 + g;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}+${y}=${tex_nombre(x + y)}$`);
          break;
        case 3: // 1abc-def
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          d = randint(a, 9);
          e = randint(1, 9);
          f = randint(c, 9);
          x = 1000 + a * 100 + b * 10 + c;
          y = d * 100 + e * 10 + f;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}-${y}=${tex_nombre(x - y)}$`);
          break;
        case 4: // abc*d0e tables de 2 à 5
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, 5);
          e = randint(2, 5);
          x = 100 * a + 10 * b + c;
          y = d * 100 + e;
          texte = `$${tex_nombre(x)}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
        case 5: // abc*de tables de 5 à 9
          a = randint(5, 9);
          b = randint(5, 9);
          c = randint(5, 9);
          d = randint(5, 9);
          e = randint(5, 9);
          x = 100 * a + 10 * b + c;
          y = 10 * d + e;
          texte = `$${x}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        if (!sortie_html && i == 0) {
          texte_corr = `\\setlength\\itemsep{2em}` + texte_corr;
        } // espacement entre les questions
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions et soustractions de nombres décimaux
 * * xxx-xx,x
 * * xxx-xx,xx
 * * xxx,x-xxx
 * * x0x-xx9,x
 * * xxx+xx,x
 * * xxx+xx,xx
 * * xxx,x+xxx
 * * x0x+xx9,x
 * @Auteur Rémi Angot
 * Référence 6C20
 */
function Additionner_soustraires_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additions et soustractions de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_de_type_d_additions = combinaison_listes(
      [5, 6, 7, 8],
      this.nb_questions
    );
    let liste_de_type_de_soustractions = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_type_de_questions = [];
    for (let i = 0; i < this.nb_questions; i++) {
      if (i + 1 < this.nb_questions / 2) {
        // première moitié sont des additions mais si c'est impair on prendra plus de soustractions
        liste_type_de_questions.push(liste_de_type_d_additions[i]);
      } else {
        liste_type_de_questions.push(liste_de_type_de_soustractions[i]);
      }
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx-xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 2: // xxx-xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 3: // xxx,x-xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 4: // x0x-xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 5: // xxx+xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 6: // xxx+xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 7: // xxx,x+xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 8: // x0x+xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.
 *
 * Niveau de difficulté 1 :
 * * division par 2, 3 , 4 ou 5
 * * division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 :
 * * division par 11, 12, 15, 25
 * * division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
 * * division par un multiple de 10 et un 0 dans le quotient
 * @Auteur Rémi Angot
 * Référence 6C11
 */
function Divisions_euclidiennes() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions euclidiennes";
  this.consigne =
    "Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opidiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup==0) type_de_questions_disponibles=[1,1,1,1]
    else if (this.sup ==1)  type_de_questions_disponibles = [1, 2, 2, 3]
    else if  (this.sup==2) type_de_questions_disponibles = [4, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // division par 2, 3 , 4 ou 5
          q = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = randint(2, 5);
          break;
        case 2: // division par 6 à 9
          q = randint(5, 9) * 100 + randint(2, 5) * 10 + randint(5, 9);
          b = randint(6, 9);
          break;
        case 3: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            q = randint(2, 9) * 1000 + randint(2, 9) * 100 + randint(2, 9);
          } else {
            q = randint(2, 9) * 1000 + randint(2, 9) * 10 + randint(2, 9);
          }
          b = randint(7, 9);
          break;
        case 4: // division par 11, 12, 15, 25
          q = randint(1, 5) * 100 + randint(1, 5) * 10 + randint(1, 5);
          b = choice([11, 12, 15, 25]);
          break;
        case 5: // division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
          q = randint(1, 5) * 1000 + randint(6, 9) * 100 + randint(1, 5);
          b = choice([11, 12, 13, 14, 21, 22, 23, 24]);
          break;
        case 6: // division par un multiple de 10 et un 0 dans le quotient
          q = randint(6, 9) * 1000 + randint(6, 9) * 10 + randint(1, 5);
          b = randint(2, 9) * 10;
          break;
      }
      r = randint(0, b - 1); //reste inférieur au diviseur
      a = b * q + r;
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (r == 0) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${q}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${q}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}=${b}\\times${q}+${r}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}=${b}\\times${q}+${r}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Quotient inférieur à 10\n2: Quotient à 2 chiffres",
  ];
}

/**
 * Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.
 *
 * Niveau de difficulté 1 :
 * * entier divisé par 4 quotient : xx,25 ou xx,75
 * * entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
 * * entier divisé par 6 quotient : xxx,5
 * * quotient xx,xx division par 2, 3 , 4 ou 5
 * * quotient x,xxx division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 : division par 3, 7 ou 9
 * @Auteur Rémi Angot
 * Référence 6C31
 */
function Division_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions décimales";
  this.consigne =
    "Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opdiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    this.sup == 1
      ? (type_de_questions_disponibles = [choice([1, 2, 3]), 4, 5, 6])
      : (type_de_questions_disponibles = [7, 8, 9]);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // entier divisé par 4 quotient : xx,25 ou xx,75
          b = 4;
          a = (randint(2, 9) * 10 + randint(2, 9)) * 4 + choice([1, 3]);
          q = calcul(a / b);
          break;
        case 2: // entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
          b = 8;
          a = randint(2, 9) * 8 + choice([1, 3, 5, 7]);
          q = calcul(a / b);
          break;
        case 3: // entier divisé par 6 quotient : xxx,5
          b = 6;
          q = calcul(
            randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) + 0.5
          );
          a = q * 6;
          break;
        case 4: // quotient xx,xx division par 2, 3 , 4 ou 5
          q = calcul(
            randint(2, 5) * 10 +
              randint(2, 5) +
              randint(2, 5) / 10 +
              randint(2, 5) / 100
          );
          b = randint(2, 5);
          a = calcul(b * q);
          break;
        case 5: // quotient x,xxx division par 6 à 9
          q = calcul(
            randint(6, 9) +
              randint(5, 9) / 10 +
              randint(6, 9) / 100 +
              randint(6, 9) / 1000
          );
          b = randint(6, 9);
          a = calcul(b * q);
          break;
        case 6: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            //x0x,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) + randint(2, 9) / 10
            );
          } else {
            //xx0,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) / 10
            );
          }
          b = randint(7, 9);
          a = calcul(b * q);
          break;
        case 7: // division par 7
          a = randint(2, 9) * 7 + randint(1, 6);
          b = 7;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 8: // division par 9
          a = calcul((randint(11, 19) * 9) / 10 + randint(1, 8) / 10);
          b = 9;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 9: //division par 3
          a = calcul((randint(11, 99) * 3) / 100 + randint(1, 2) / 100);
          b = 3;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
      }
      if (this.sup == 2) {
        this.consigne =
          "Effectuer les divisions décimales suivantes et donner une valeur approchée de leur quotient au millième près.";
      }
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (this.sup == 1) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${tex_nombre(q)}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}\\approx${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}\\approx${tex_nombre(q)}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    2,
    "1 : Déterminer le quotient exact\n2: Déterminer un quotient approché au millième près",
  ];
}

/**
 * Multiplication de deux nombres décimaux
 *
 * * xxx * xx,x chiffres inférieurs à 5
 * * xx,x * x,x
 * * x,xx * x0x
 * * 0,xx * x,x
 * @Auteur Rémi Angot
 * Référence 6C30
 */
function Multiplier_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications posées de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  this.spacing_corr = 1; //Important sinon le calcul posé ne fonctionne pas avec opmul et spacing
  this.nb_questions = 4;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx * xx,x chiffres inférieurs à 5
          a = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = calcul(randint(2, 5) * 10 + randint(2, 5) + randint(2, 5) / 10);
          break;
        case 2: // xx,x * x,x
          a = calcul(randint(2, 9) * 10 + randint(2, 9) + randint(2, 9) / 10);
          b = calcul(randint(6, 9) + randint(6, 9) / 10);
          break;
        case 3: // x,xx * x0x
          a = calcul(randint(2, 9) + randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) * 100 + randint(2, 9));
          break;
        case 4: // 0,xx * x,x
          a = calcul(randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) + randint(2, 9) / 10);
          break;
      }

      texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
      sortie_html
        ? (texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombrec(
            a * b
          )}$`)
        : (texte_corr = `$\\opmul[decimalsepsymbol={,}]{${a}}{${b}}$`);

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplication d'un nombre décimal dans différentes écritures par 10, 100, 1000
 *
 *  * Type 1 : écriture décimale
 *  * Type 2 : écriture fractionnaire
 *  * Type 3 : écritures fractionnaires et décimales
 *
 *
 *  * Sup2 : avec ou sans calculs à trous
 * @Auteur Rémi Angot
* Référence 6C30-1
  *
 */
function Multiplier_decimaux_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications d'un nombre décimal par 10, 100 ou 1 000.";
  this.consigne = "Calculer.";
  this.sup = 3;
  this.sup2 = false;
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [];
    if (this.sup == 1 && !this.sup2) type_de_questions_disponibles = [1, 2];
    if (this.sup == 1 && this.sup2)
      type_de_questions_disponibles = [1, 2, 5, 6];
    if (this.sup == 2 && !this.sup2) type_de_questions_disponibles = [3, 4];
    if (this.sup == 2 && this.sup2)
      type_de_questions_disponibles = [3, 4, 3, 4, 7, 8, 9, 10];
    if (this.sup == 3 && !this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4];
    if (this.sup == 3 && this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    if (this.sup2) this.consigne = "Calculer et compléter.";

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_facteurs = combinaison_listes(
      [10, 100, 1000],
      this.nb_questions
    );

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, den;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // a,abcd × 10
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 2: // 10 × a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 3: // abcd/10 × 10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${tex_nombre(
            b
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 4: // 10 × abcd/10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(a, den)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            den
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 5: // .... × 10 = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$\\ldots \\times${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(a)
          )} \\times ${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          break;
        case 6: // 10 × .... = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)} \\times \\ldots = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${mise_en_evidence(
            tex_nombre(a)
          )}  = ${tex_nombrec(a * b)}$`;
          break;
        case 7: // case 3 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times \\ldots = ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${mise_en_evidence(
            tex_nombre(b)
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 8: // case 4 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$ \\ldots \\times${tex_fraction(a, den)}= ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(b)
          )} \\times ${tex_fraction(a, den)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 9: // case 3 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, "\\ldots")}\\times${tex_nombre(
            b
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} \\times ${tex_nombre(b)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 10: // case 4 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(
            a,
            "\\ldots"
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Types de calculs",
    3,
    "1 : Écriture décimale\n2 : Écriture fractionnaire\n3 : Écritures décimales et fractionnaires",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des calculs à trous"];
}

/**
 * Plusieurs type de calcul avec des entiers.
 *
 * Sans parenthèses :
 * * a+b*c
 * * a+b÷c
 * * a÷b*c
 * * a-b*c
 * * a*b÷c
 * * a*b+c
 * * a-b+c
 * * a+b+c*d
 * * a*b+c*d
 * * a*b*c-d
 * * a*b-c÷d
 * * a*b+c÷d
 *
 * Avec parenthèses :
 * * a*(b-c)
 * * (a-b)*c
 * * (a-b)÷c
 * * a÷(b+c)
 * * (a-b)÷c
 * * a*(b-c)*d
 * * a*b*(c-d)
 * * a*(b-c*d)
 * * (a+b*c)÷d
 * * a*(b-c*d)
 * * a*b÷(c+d)
 * * a*(b÷c+d)
 * @Auteur Rémi Angot
 * Référence 6C33
 */
function Priorites() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer en utilisant les priorités opératoires";
  this.consigne = "Calculer";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_questions_disponibles = []; //
    if (this.sup == 1) {
      liste_questions_disponibles = range1(12);
    } else if (this.sup == 2) {
      liste_questions_disponibles = range1(22, range1(12));
    } else {
      liste_questions_disponibles = range1(22);
    }
    let liste_type_de_questions = combinaison_listes(
      liste_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, a, b, c, d, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}+${b}\\times${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\times" + c)}=${a}+${
            b * c
          }=${a + b * c}$`;
          break;
        case 2:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 11);
          texte = `$${a}+${b}\\div${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\div" + c)}=${a}+${
            b / c
          }=${a + b / c}$`;
          break;
        case 3:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * randint(2, 11);
          texte = `$${a}\\div${b}\\times${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\div" + b)}\\times${c}=${
            a / b
          }\\times${c}=${(a / b) * c}$`;
          break;
        case 4:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * c + randint(2, 11);
          texte = `$${a}-${b}\\times${c}$`;
          texte_corr = `$${a}-${mise_en_evidence(b + "\\times" + c)}=${a}-${
            b * c
          }=${a - b * c}$`;
          break;
        case 5:
          if (choice([true, false])) {
            //a est un multiple de c
            c = randint(2, 6);
            a = c * randint(2, 5);
            b = randint(2, 6);
          } else {
            // b est un multiple de c
            c = randint(2, 6);
            b = c * randint(2, 5);
            a = randint(2, 6);
          }
          texte = `$${a}\\times${b}\\div${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}\\div${c}=${
            a * b
          }\\div${c}=${(a * b) / c}$`;
          break;
        case 6:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}\\times${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}+${c}=${
            a * b
          }+${c}=${a * b + c}$`;
          break;
        case 7:
          b = randint(20, 59);
          a = b + randint(11, 29);
          c = randint(11, 29);
          texte = `$${a}-${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "-" + b)}+${c}=${a - b}+${c}=${
            a - b + c
          }$`;
          break;
        case 8:
          a = randint(2, 20);
          b = randint(2, 20);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}+${b}+${c}\\times${d}$`;
          texte_corr = `$${a}+${b}+${mise_en_evidence(
            c + "\\times" + d
          )}=${a}+${b}+${c * d}=${a + b + c * d}$`;
          break;
        case 9:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}\\times${b}+${c}\\times${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\times" + d)}=${a * b}+${c * d}=${
            a * b + c * d
          }$`;
          break;
        case 10:
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, a * b * c - 1);
          texte = `$${a}\\times${b}\\times${c}-${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}\\times${c}-${d}=${mise_en_evidence(a * b + "\\times" + c)}-${d}=${
            a * b * c - d
          }$`;
          break;
        case 11:
          a = randint(3, 11);
          b = randint(3, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}-${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}-${mise_en_evidence(c + "\\div" + d)}=${a * b}-${c / d}=${
            a * b - c / d
          }$`;
          break;
        case 12:
          a = randint(2, 11);
          b = randint(2, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}+${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\div" + d)}=${a * b}+${c / d}=${
            a * b + c / d
          }$`;
          break;
        case 13:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c + randint(2, 11);
          texte = `$${a}\\times(${b}-${c})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})=${a}\\times${b - c}=${a * (b - c)}$`;
          break;
        case 14:
          b = randint(11, 39);
          a = b + randint(2, 11);
          c = randint(2, 11);
          texte = `$(${a}-${b})\\times${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\times${c}=${
            a - b
          }\\times${c}=${(a - b) * c}$`;
          break;
        case 15:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 16:
          b = randint(2, 5);
          c = randint(2, 6);
          a = (b + c) * randint(2, 9);
          texte = `$${a}\\div(${b}+${c})$`;
          texte_corr = `$${a}\\div(${mise_en_evidence(b + `+` + c)})=${a}\\div${
            b + c
          }=${a / (b + c)}$`;
          break;
        case 17:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 18:
          c = randint(11, 39);
          b = c + randint(2, 5);
          a = randint(2, 5);
          d = randint(2, 5);
          texte = `$${a}\\times(${b}-${c})\\times${d}$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})\\times${d}=${a}\\times${b - c}\\times${d}=${a * (b - c) * d}$`;
          break;
        case 19:
          d = randint(11, 39);
          c = d + randint(2, 5);
          a = randint(2, 5);
          b = randint(2, 5);
          texte = `$${a}\\times${b}\\times(${c}-${d})$`;
          texte_corr = `$${a}\\times${b}\\times(${mise_en_evidence(
            c + `-` + d
          )})=${a}\\times${b}\\times${c - d}=${a * b * (c - d)}$`;
          break;
        case 20:
          a = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          b = c * d + randint(2, 11);
          texte = `$${a}\\times(${b}-${c}\\times${d})$`;
          texte_corr = `$${a}\\times(${b}-${mise_en_evidence(
            c + `\\times` + d
          )})=${a}\\times(${mise_en_evidence(b + `-` + c * d)})=${a}\\times${
            b - c * d
          }=${a * (b - c * d)}$`;
          break;
        case 21:
          a = randint(2, 11);
          b = randint(2, 11);
          if (liste_des_diviseurs(a * b).length <= 2) {
          }
          let liste = liste_des_diviseurs(a * b);
          if (liste.length > 2) {
            liste.pop(); //on supprime le plus grand diviseur qui est le produit
          }
          if (liste.length > 2) {
            enleve_element(liste, liste[1]); //on supprime le plus petit diviseur (autre que 1)
          }

          let somme = choice(liste, [1]); // la somme doit être un diviseur différent de 1
          c = randint(1, somme - 1);
          d = somme - c;
          texte = `$${a}\\times${b}\\div(${c}+${d})$`;
          texte_corr = `$${a}\\times${b}\\div(${mise_en_evidence(
            c + `+` + d
          )})=${mise_en_evidence(a + "\\times" + b)}\\div${c + d}=${
            a * b
          }\\div${c + d}=${(a * b) / (c + d)}$`;
          break;
        case 22:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 5);
          d = randint(2, 6);
          texte = `$${a}\\times(${b}\\div${c}+${d})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `\\div` + c
          )}+${d})=${a}\\times(${mise_en_evidence(
            b / c + `+` + d
          )})=${a}\\times${b / c + d}=${a * (b / c + d)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de calculs",
    3,
    "1 : Sans parenthèses\n2: Avec parenthèses\n3: Avec ou sans parenthèses",
  ];
}

/**
 * @Auteur Rémi Angot
 */
function Code_LaTeX_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Code LaTeX personnalisé";
  this.pas_de_version_HMTL = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "%Votre code LaTeX";
  this.sup2 = "%Votre code LaTeX pour le corrigé";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "Code LaTeX énoncé",
    "Par exemple : \\input{mon_fichier}",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = [
    "Code LaTeX correction",
    "Par exemple : \\input{mon_fichier_corr}",
  ];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * @Auteur Rémi Angot
 */
function HTML_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Exercice personnalisé";
  this.pas_de_version_HMTL = false;
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Énoncé de l'exercice";
  this.sup2 = "Énoncé de la correction";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_long_texte = ["Exercice"]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = ["Correction"];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * Pavages et symétrie axiale.
 * Pas de version LaTeX
 * référence 6G25-1
 */
function Pavages_et_reflexion() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage triangulaire";
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAIP#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAAjQwAAAAAUBEAAAAAAAAAAAABQD#####AAN5TTEAATAAAAABAAAAAAAAAAAAAAANAP####8BAAAAABAAAk0xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAEAAAAAgAAAARAAAADQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAP####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAABMAAAABAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAABYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAFv####8AAAABAAlDUG9seWdvbmUA#####wAAfwAAAQAAAAQAAAAXAAAAGAAAABkAAAAX#####wAAAAEAEENTdXJmYWNlUG9seWdvbmUA#####wAAfwAAAAAFAAAAGgAAAAUA#####wACbngAATcAAAABQBwAAAAAAAAAAAAFAP####8AAm55AAE3AAAAAUAcAAAAAAAAAAAADAD#####AObm5gABAAAAAQAAAAwAAAAPAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAADQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAAgAAAAcAAAACAAAAB3#####AAAAAQAHQ01pbGlldQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAB8AAAAFAP####8AA3hOMwABOAAAAAFAIAAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAATQAAAABQBAAAAAAAAAAAAAFAP####8AA3lNMwACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAD#ABAAAk4zAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAIQAAAAgAAAAiAAAADQD#####AQAA#wAQAAJNMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACMAAAAIAAAAJP####8AAAABAAtDTWVkaWF0cmljZQD#####AAAA#wAQAAABAAIAAAAlAAAAJgAAAAUA#####wADeE4yAAEwAAAAAQAAAAAAAAAAAAAABQD#####AAN5TjIAATYAAAABQBgAAAAAAAAAAAAFAP####8AA3lNMgABNgAAAAFAGAAAAAAAAAAAAAUA#####wADeE0yAAEwAAAAAQAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACNDIAAAABQEUAAAAAAAAAAAAFAP####8AA3lOMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTjEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAuAAAACAAAAC8AAAASAP####8AAH8AARAABChkMSkBAAI#7MzMzMzMzQAAADAAAAAS#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADAAAAAcBAAAACAAAABwAAAABP#AAAAAAAAD#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQABAAAAAQAAADIAAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADwAAAAcBAAAACAAAAB0AAAABP#AAAAAAAAAAAAAEAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAAAAAAAAAAAAzAAAADgD#####AAAAAQAAADQAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAANgAAABQA#####wEAAAAAEAAAAQABAAAANQAAADcAAAAEAP####8BAAAAARAAAVUAAAAAAAAAAABACAAAAAAAAAUAAT#Q3iTV#EVNAAAAOP####8AAAACAA1DTWVzdXJlQWZmaXhlAP####8AAXoAAAAeAAAAOf####8AAAABAA1DRm9uY0NvbXBsZXhlAP####8AA251bQASMipyZSh6KSsyKm54KmltKHopAAAABwAAAAAHAgAAAAFAAAAAAAAAAP####8AAAACAAlDRm9uY3Rpb25M#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAcCAAAABwIAAAABQAAAAAAAAAD#####AAAAAQAXQ1Jlc3VsdGF0VmFsZXVyQ29tcGxleGUAAAAcAAAAF00AAAAYAAAAAAABegAAAA8A#####wH#AP8AAQAAAAQAAAABAAAADAAAAA8AAAAB#####wAAAAIACENNZXN1cmVZAP####8AAnlVAAAACQAAADn#####AAAAAgAIQ01lc3VyZVgA#####wACeFUAAAAJAAAAOQAAAA4A#####wAAAAEAAAA5AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAPwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAA#AAAADwD#####AQAAAAABAAAABAAAAEAAAABBAAAAQgAAAED#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8AAAAAAAAAQwAAAAgAAAAdAAAAOQAAAAYAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAAAcAP####8AAAAAAAAARAAAAAgAAAAcAAAANQAAAAoAAAA1AAAANwAAADgAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAACgD#####AAAADAAAAAFATgAAAAAAAAAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAEYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAARgAAAA8A#####wH#AP8ABAAAAAQAAABHAAAASAAAAEkAAABHAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAPwAAAAkA#####wEAAAAAEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABLAAAATAAAAE0AAABLAAAAHAD#####AQAAAAAAAE4AAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAAHAD#####AAAAAAAAAE8AAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAATwAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#VVUdaMaS+AAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAOQAAAE0AAAABP+VVR1oxpL4AAAAFAP####8AA3hVJwAbaW50KHhVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPgAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAAAAAAUA#####wADeVUnABtpbnQoeVUqMTAwMDAwMCswLjUpLzEwMDAwMDAAAAAHAwAAABcCAAAABwAAAAAHAgAAAAgAAAA9AAAAAUEuhIAAAAAAAAAAAT#gAAAAAAAAAAAAAUEuhIAAAAAA#####wAAAAEAD0NDYWxjdWxDb21wbGV4ZQD#####AAJ6VQAJeFUnK2kqeVUnAAAABwAAAAAZAAAAUwAAAAcC#####wAAAAEAC0NDb25zdGFudGVpAAAAGQAAAFQAAAAdAP####8ABG51bVUABm51bSh6Kf####8AAAABABZDQXBwZWxGb25jdGlvbkNvbXBsZXhlAAAAOwAAABkAAAA6#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAMQAAAAAAAMAkAAAAAAAAAAAAURAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABWAAAAHQD#####AAVudW1VMQAGbnVtVSsxAAAABwAAAAAZAAAAVgAAAAE#8AAAAAAAAAAAACAA#####wEAAAAAwC4AAAAAAADAIAAAAAAAAAAAAFIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAWAAAABwA#####wAAAAAAAABXAAAACAAAAB0AAAA5AAAABwAAADkAAAA6AAAAPwAAAE0AAABRAAAAVgAAAFcAAAAcAP####8AAAAAAAAAWgAAAAgAAAAcAAAANQAAAAsAAAA1AAAANwAAADgAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAWgAAABwA#####wAAAAAAAABZAAAACAAAAB0AAAA5AAAACAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAHAD#####AAAAAAAAAFwAAAAIAAAAHAAAADUAAAAMAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFIAAABWAAAAWAAAAFkAAABcAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAABQAAAAOAP####8AAAABAAAAXgAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABfAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAF8AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAXwAAAA8A#####wD#AAAAAgAAAAQAAABgAAAAYQAAAGIAAABgAAAAEAD#####AP8AAAAAAAUAAABjAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAZQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABmAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAZgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAUAAAADgD#####AAAAAQAAABMAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAawAAAA4A#####wAAAGwAAAAmAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAG0AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABtAAAADwD#####AAAA#wABAAAABAAAAG4AAABvAAAAcAAAAG4AAAAQAP####8AAAD#AAAABQAAAHEAAAAOAP####8AAAABAAAADwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADQAAABzAAAAFAD#####AAAAAAAQAAABAAEAAAB0AAAAH#####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAM#####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAfwAAQDUAAAAAAADARQAAAAAAAQAAAHYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAAUAP####8AAAD#ABAAAAEAAQAAAAEAAAA0AAAAIQD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAeAAAACcAAAAiAP####8AAAD#AMBAAAAAAAAAwAgAAAAAAAAAAAB5EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMykpAAAAIQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAHUAAAAiAP####8AAH8AAMBEgAAAAAAAP#AAAAAAAAAAAAB7EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMSkpAAAAEQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAACz#####AAAAAQAJQ0Ryb2l0ZU9tAP####8A#wAAABAAAAEAAgAAAAkAAAB9AAAAAT#wAAAAAAAAAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAADMAAAAiAP####8A#wAAAMA1AAAAAAAAwEKAAAAAAAAAAAB#EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikpAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAAHUAAAAiAP####8A#wAAAMAUAAAAAAAAQCYAAAAAAAAAAACBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikp################";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAMz#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAATgAAAABQCAAAAAAAAAAAAAFAP####8AA3lNMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTTEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAQAAAACAAAABEAAAANAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAEwAAAAEAAAAJAP####8BAAAAABAAAVcAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAFYAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAAAWAAAACQD#####AQAAAAAQAAFZAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAAW#####wAAAAEACUNQb2x5Z29uZQD#####AQB#AAABAAAABAAAABcAAAAYAAAAGQAAABf#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAAAaAAAABQD#####AAJueAABNwAAAAFAHAAAAAAAAAAAAAUA#####wACbnkAATcAAAABQBwAAAAAAAAAAAAMAP####8A5ubmAAEAAAABAAAADAAAAA8AAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAANAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAACAAAABwAAAAIAAAAHf####8AAAABAAdDTWlsaWV1AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAHwAAAAUA#####wADeE4zAAIyNgAAAAFAOgAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAAjE2AAAAAUAwAAAAAAAAAAAABQD#####AAN5TTMAAjIyAAAAAUA2AAAAAAAAAAAADQD#####AQAA#wAQAAJOMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACEAAAAIAAAAIgAAAA0A#####wEAAP8AEAACTTMAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAjAAAACAAAACT#####AAAAAQALQ01lZGlhdHJpY2UA#####wEAAP8AEAAAAQACAAAAJQAAACYAAAAFAP####8AA3hOMgACMTQAAAABQCwAAAAAAAAAAAAFAP####8AA3lOMgABMgAAAAFAAAAAAAAAAAAAAAUA#####wADeU0yAAIxNAAAAAFALAAAAAAAAAAAAAUA#####wADeE0yAAEyAAAAAUAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACMTYAAAABQDAAAAAAAAAAAAAFAP####8AA3lOMQACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAAAABAAAk4xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAALgAAAAgAAAAvAAAAEgD#####AQB#AAEQAAQoZDEpAQACP+zMzMzMzM0AAAAwAAAAEv####8AAAABABFDUG9pbnRQYXJBYnNjaXNzZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAAwAAAAHAQAAAAgAAAAcAAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8AAAAAABAAAAEAAQAAAAEAAAAyAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAA8AAAAHAQAAAAgAAAAdAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAAAAAAAAAAAMwAAAA4A#####wAAAAEAAAA0AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANQAAADYAAAAUAP####8BAAAAABAAAAEAAQAAADUAAAA3AAAABAD#####AQAAAAEQAAFVAAAAAAAAAAAAQAgAAAAAAAAFAAE#0N4k1fxFTQAAADj#####AAAAAgANQ01lc3VyZUFmZml4ZQD#####AAF6AAAAHgAAADn#####AAAAAQANQ0ZvbmNDb21wbGV4ZQD#####AANudW0AEjIqcmUoeikrMipueCppbSh6KQAAAAcAAAAABwIAAAABQAAAAAAAAAD#####AAAAAgAJQ0ZvbmN0aW9uTP####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAAHAgAAAAcCAAAAAUAAAAAAAAAA#####wAAAAEAF0NSZXN1bHRhdFZhbGV1ckNvbXBsZXhlAAAAHAAAABdNAAAAGAAAAAAAAXoAAAAPAP####8B#wD#AAEAAAAEAAAAAQAAAAwAAAAPAAAAAf####8AAAACAAhDTWVzdXJlWQD#####AAJ5VQAAAAkAAAA5#####wAAAAIACENNZXN1cmVYAP####8AAnhVAAAACQAAADkAAAAOAP####8AAAABAAAAOQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABAAAAAQQAAAEIAAABA#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AAAAAAAAAEMAAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAAHAD#####AAAAAAAAAEQAAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAAoA#####wAAAAwAAAABQE4AAAAAAAAAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAARgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADwAAAEYAAAAPAP####8B#wD#AAQAAAAEAAAARwAAAEgAAABJAAAARwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAD8AAAAJAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAD8AAAAPAP####8BAAAAAAEAAAAEAAAASwAAAEwAAABNAAAASwAAABwA#####wEAAAAAAABOAAAACAAAAB0AAAA5AAAABgAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAABwA#####wAAAAAAAABPAAAACAAAABwAAAA1AAAACgAAADUAAAA3AAAAOAAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAAE8AAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAATQAAAAE#1VVHWjGkvgAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#lVUdaMaS+AAAABQD#####AAN4VScAG2ludCh4VSoxMDAwMDAwKzAuNSkvMTAwMDAwMAAAAAcDAAAAFwIAAAAHAAAAAAcCAAAACAAAAD4AAAABQS6EgAAAAAAAAAABP+AAAAAAAAAAAAABQS6EgAAAAAAAAAAFAP####8AA3lVJwAbaW50KHlVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPQAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAP####8AAAABAA9DQ2FsY3VsQ29tcGxleGUA#####wACelUACXhVJytpKnlVJwAAAAcAAAAAGQAAAFMAAAAHAv####8AAAABAAtDQ29uc3RhbnRlaQAAABkAAABUAAAAHQD#####AARudW1VAAZudW0oein#####AAAAAQAWQ0FwcGVsRm9uY3Rpb25Db21wbGV4ZQAAADsAAAAZAAAAOv####8AAAABAA9DVmFsZXVyQWZmaWNoZWUA#####wEAAAAAwDEAAAAAAADAJAAAAAAAAAAAAFEQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAVgAAAB0A#####wAFbnVtVTEABm51bVUrMQAAAAcAAAAAGQAAAFYAAAABP#AAAAAAAAAAAAAgAP####8BAAAAAMAuAAAAAAAAwCAAAAAAAAAAAABSEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAFgAAAAcAP####8AAAAAAAAAVwAAAAgAAAAdAAAAOQAAAAcAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAHAD#####AAAAAAAAAFoAAAAIAAAAHAAAADUAAAALAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFEAAABWAAAAVwAAAFoAAAAcAP####8AAAAAAAAAWQAAAAgAAAAdAAAAOQAAAAgAAAA5AAAAOgAAAD8AAABNAAAAUgAAAFYAAABYAAAAWQAAABwA#####wAAAAAAAABcAAAACAAAABwAAAA1AAAADAAAADUAAAA3AAAAOAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAXAAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAUAAAADgD#####AAAAAQAAAF4AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAXwAAAAkA#####wH#AP8AEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAXwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABfAAAADwD#####Af8AAAACAAAABAAAAGAAAABhAAAAYgAAAGAAAAAQAP####8B#wAAAAAABQAAAGMAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAFAAAAA4A#####wAAAAEAAABlAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAZgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABmAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAEwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABMAAABrAAAADgD#####AAAAbAAAACYAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABHAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAABtAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAG0AAAAPAP####8BAAD#AAEAAAAEAAAAbgAAAG8AAABwAAAAbgAAABAA#####wEAAP8AAAAFAAAAcQAAAA4A#####wAAAAEAAAAPAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAAHMAAAAUAP####8AAAAAABAAAAEAAQAAAHQAAAAf#####wAAAAEAEENJbnREcm9pdGVEcm9pdGUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAz#####wAAAAIADENDb21tZW50YWlyZQD#####AQB#AABANQAAAAAAAMBFAAAAAAABAAAAdhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAABQA#####wAAAP8AEAAAAQABAAAAAQAAADQAAAAhAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAB4AAAAJwAAACIA#####wEAAP8AwEAAAAAAAADACAAAAAAAAAAAAHkQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAhAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAdQAAACIA#####wAAfwAAwESAAAAAAAA#8AAAAAAAAAAAAHsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAARAP####8BAH8AABAAAkgyAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAs#####wAAAAEACUNEcm9pdGVPbQD#####Af8AAAAQAAABAAIAAAAJAAAAfQAAAAE#8AAAAAAAAAAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAAzAAAAIgD#####Af8AAADANQAAAAAAAMBCgAAAAAAAAAAAfxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAB1AAAAIgD#####Af8AAADAFAAAAAAAAEAmAAAAAAAAAAAAgRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAABEA#####wEAfwAAEAACSDEAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAADAAAAAUAP####8BAH8AABAAAAEAAgAAABIAAAAwAAAABAD#####AQB#AAEQAANNJzEAAAAAAAAAAABACAAAAAAAAAUAAT#YiIhSPtDkAAAAhP####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAM#####wAAAAIAD0NNZXN1cmVBYnNjaXNzZQD#####AAJrMQAAAIMAAAASAAAAhQAAAAYA#####wAAAIMAAAAIAAAAhwAAAAkA#####wEAfwAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAAIj#####AAAAAQANQ1BvaW50UHJvamV0ZQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGAAAADEAAAAGAP####8AAACKAAAACAAAAIcAAAAJAP####8BAH8AABAAAlgnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABgAAACLAAAAJgD#####AQB#AAAQAAJZJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAAMQAAAAYA#####wAAAI0AAAAIAAAAhwAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACOAAAADwD#####AQB#AAACAAAABAAAAIkAAACMAAAAjwAAAIkAAAAQAP####8BAH8AAAAABQAAAJD#####AAAAAQAPQ1N5bWV0cmllQXhpYWxlAP####8AAAAxAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAFwAAAJIAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAYAAAAkgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACSAAAADwD#####AQB#AAACAAAABAAAAJMAAACUAAAAlQAAAJMAAAAQAP####8BAH8AAAAABQAAAJb#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####wpAi1QAAAAAAEA#hR64UeuGAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTEAAAAAAAAUAAAAZAAAADwAAACFAAEA#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQIs8AAAAAABAT8KPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAgAAACRAAAAkAAAABsAAAAaAAAAMQAAAHcAAACXAAAAlv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8AAH8AAf####8KQItEAAAAAABAV+FHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MQAAAAAACAAAAJEAAACQAAAAGwAAABoAAAAxAAAAdwAAAJcAAACWAP####8AAAABAAtDTWFjcm9QYXVzZQD#####AAB#AAH#####EECN1AAAAAAAQEJCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AAB#AAH#####EEBTYAAAAAAAQCMKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGEAAAAAAAQAAACaAAAAmAAAAJkAAACbAAAAFAD#####AQB#AAAQAAABAAIAAAAtAAAALAAAAAQA#####wEAfwAAEAADTScyAAAAAAAAAAAAQAgAAAAAAAAFAAE#089zR#b9RQAAAJ0AAAAlAP####8AAmsyAAAAfQAAAC0AAACeAAAAJgD#####AAB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAH4AAAAGAP####8AAACgAAAACAAAAJ8AAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAoQAAACYA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAAB+AAAABgD#####AAAAowAAAAgAAACfAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAKQAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAApAAAAA8A#####wH#AAAAAgAAAAQAAACiAAAApQAAAKYAAACiAAAAEAD#####Af8AAAAAAAUAAACnAAAAKAD#####AP8AAAH#####CkCLlAAAAAAAQGKQo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMgAAAAAAABQAAABkAAAAPAAAAJ4AAQAAAAAnAP####8AAAB+AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAKoAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAAqgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAACqAAAADwD#####Af8AAAACAAAABAAAAKsAAACsAAAArQAAAKsAAAAQAP####8B#wAAAAAABQAAAK4AAAApAP####8A#wAAAf####8KQIu0AAAAAABAZpCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAkAAABkAAAAYwAAAKgAAACnAAAArwAAAK4AAAB+AAAAggAAAIAAAAAqAP####8A#wAAAf####8KQIvMAAAAAABAahCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MgAAAAAACQAAAGQAAABjAAAAqAAAAKcAAACvAAAArgAAAH4AAACCAAAAgAAAAAAsAP####8A#wAAAf####8QQGhwAAAAAABAIwo9cKPXDAIAAAAAAAAAAAAAAAABAAAAAAAAAAAADENvcnJlY3Rpb24gYgAAAAAABAAAALEAAACpAAAAsAAAAJsAAAARAP####8B#wAAABAAAkgzAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAlAAAAFAD#####Af8AAAAQAAABAAIAAAAmAAAAJQAAAAQA#####wH#AAAAEAADTSczAAAAAAAAAAAAQAgAAAAAAAAFAAE#0spidDyBMgAAALQAAAAlAP####8AAmszAAAAswAAACYAAAC1AAAAJgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbgAAACcAAAAmAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAJwAAAAYA#####wAAALcAAAAIAAAAtgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAAC5AAAABgD#####AAAAuAAAAAgAAAC2AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAcAAAALsAAAAGAP####8AAACzAAAACAAAALYAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABvAAAAvQAAAA8A#####wEAAP8AAgAAAAQAAAC6AAAAvgAAALwAAAC6AAAAJwD#####AAAAJwAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAADAAAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbwAAAMAAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAwAAAAA8A#####wEAAP8AAgAAAAQAAADBAAAAwgAAAMMAAADBAAAAEAD#####AQAA#wAAAAUAAADEAAAAEAD#####AQAA#wAAAAUAAAC#AAAAKAD#####AAAA#wH#####CkCL9AAAAAAAQHAoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMwAAAAAAABQAAABkAAAAPAAAALUAAQAAAAApAP####8AAAD#Af####8KQIwEAAAAAABAcjhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAgAAAByAAAAcQAAAMYAAAC#AAAAxQAAAMQAAAAnAAAAegAAACoA#####wAAAP8B#####wpAjAwAAAAAAEB0CFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQzAAAAAAAIAAAAcgAAAHEAAADGAAAAvwAAAMUAAADEAAAAJwAAAHoAAAAALAD#####AAAA#wH#####EEBzWAAAAAAAQCUKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAQAAADJAAAAxwAAAJsAAADIAAAALAD#####AAAA#wH#####EECMdAAAAAAAQHb4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApDb3JyZWN0aW9uAAAAAAADAAAAnAAAALIAAADKAAAAhv##########";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées

    let texte = ``,
      texte_corr = ``;
    let tabfigA = [],
      tabfigB = [];
    let nx = 7,
      ny = 7,
      xB = 6,
      yB = 0,
      xC = 0,
      yC = 6,
      zoom = 8;
    let xM1, yM1, xN1, yN1, xM2, yM2, xN2, yN2, xM3, yM3, xN3, yN3;
    let trouver = false,
      indexa,
      numa,
      anum,
      indexaxe1,
      xmil1,
      ymil1,
      indexb,
      numb,
      bnum,
      indexaxe2,
      xmil2,
      ymil2,
      indexc,
      numc,
      cnum,
      indexaxe3,
      xmil3,
      ymil3;
    let point = [0, 0, 0];

    for (let y = 0; y < ny; y++) {
      // On initialise les tableaux avec les coordonnées des points de référence (A,B,C et D) de chaque translaté et son numéro dans le pavage.
      for (let x = 0; x < nx; x++) {
        tabfigA.push([2 + x * 6, 2 + y * 6, 2 * x + 2 * y * nx]);
        tabfigB.push([4 + x * 6, 4 + y * 6, 2 * x + 2 * y * nx + 1]);
      }
    }

    // Première question : une figure dans tabfigA, une symétrie par rapport à une droite parallèle à y=-x, l'image est dans tabfigB	 !
    // L'axe de symétrie est la médiatrice du segment d'extrémités les centres de gravités des figures A et B.

    indexa = randint(0, nx * ny - 1);
    numa = tabfigA[indexa][2];
    indexaxe1 = randint(0, nx * ny - 1); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    //on calcule les coordonnées du milieu de [BC] on ajoute aux coordonnées du milieu de [BC] celles du vecteur BB'. (j'aurais pu réduire mais cela aurait rendu le calcul plus opaque)
    xmil1 = tabfigA[indexaxe1][0] - 2;
    ymil1 = tabfigA[indexaxe1][1] - 2;
    point = [tabfigA[indexa][0], tabfigA[indexa][1]];
    point = image_point_par_transformation(2, point, [xmil1, ymil1]);

    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
          trouver = true;
          anum = tabfigB[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexa = randint(0, nx * ny - 1);
        numa = tabfigA[indexa][2];
        indexaxe1 = randint(0, nx * ny - 1);
        xmil1 = tabfigA[indexaxe1][0] - 2;
        ymil1 = tabfigA[indexaxe1][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = image_point_par_transformation(2, point, [xmil1, ymil1]);
      }
    }
    xM1 = tabfigA[indexa][0];
    yM1 = tabfigA[indexa][1];
    xN1 = point[0];
    yN1 = point[1];

    texte = `Le point O peut être déplacé pour recadrer éventuellement le pavage.<br>`;
    texte +=
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ ?<br>`,
        `green`
      );
    texte_corr =
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ porte le numéro ${anum}.<br>`,
        `green`
      );
    // Deuxième question : une figure dans tabfigA, une symétrie par rapport à une parallèle à y=x ql'image est une figure dans tabfigA
    // On tracera la médiatrice du segment d'extrémité les 2 centres de gravités symétriques.
    indexb = randint(0, nx * ny - 1);
    numb = tabfigA[indexb][2];
    indexaxe2 = randint(0, nx * ny - 1, [indexb]); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil2 = tabfigA[indexaxe2][0] - 2;
    ymil2 = tabfigA[indexaxe2][1] - 2;
    point = image_point_par_transformation(
      1,
      [tabfigA[indexb][0], tabfigA[indexb][1]],
      [xmil2, ymil2]
    );
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          bnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexb = randint(0, nx * ny - 1);
        numb = tabfigA[indexb][2];
        indexaxe2 = randint(0, nx * ny - 1);
        xmil2 = tabfigA[indexaxe2][0] - 2;
        ymil2 = tabfigA[indexaxe2][1] - 2;
        point = image_point_par_transformation(
          1,
          [tabfigA[indexb][0], tabfigA[indexb][1]],
          [xmil2, ymil2]
        );
      }
    }
    xM2 = tabfigA[indexb][0];
    yM2 = tabfigA[indexb][1];
    xN2 = point[0];
    yN2 = point[1];

    texte +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(d_2)$ ?<br>`,
        `red`
      );
    texte_corr +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(2)$ porte le numéro ${bnum}.<br>`,
        `red`
      );

    // troisième question : une figure dans tabfigB, une symétrie par rapport à une parallèle à y=0, l'image est dans tabfigA
    indexc = 3; //randint(0,nx*ny-1)
    numc = tabfigB[indexc][2];
    indexaxe3 = 14; //randint(0,nx*ny-1) // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil3 = tabfigA[indexaxe3][0] - 2;
    ymil3 = tabfigA[indexaxe3][1] - 2;
    point = [tabfigB[indexc][0], tabfigB[indexc][1]];
    point = changement_de_base_ortho_tri(
      image_point_par_transformation(
        3,
        changement_de_base_tri_ortho(point),
        changement_de_base_tri_ortho([xmil3, ymil3])
      )
    );
    point[0] = arrondi(point[0], 1); // Les coordonnées sont censées être entières mais les calculs JS laissent toujours de cent-milliardièmes indésirables.
    point[1] = arrondi(point[1], 1);
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          cnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexc = randint(0, nx * ny - 1);
        numc = tabfigB[indexc][2];
        indexaxe3 = randint(0, nx * ny - 1);
        xmil3 = tabfigA[indexaxe3][0] - 2;
        ymil3 = tabfigA[indexaxe3][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = changement_de_base_ortho_tri(
          image_point_par_transformation(
            3,
            changement_de_base_tri_ortho(point),
            [xmil3, ymil3]
          )
        );
        point[0] = arrondi(point[0], 1);
        point[1] = arrondi(point[1], 1);
      }
    }

    xM3 = tabfigB[indexc][0];
    yM3 = tabfigB[indexc][1];
    xN3 = point[0];
    yN3 = point[1];

    texte +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ ?<br>`,
        `blue`
      );
    texte_corr +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ porte le numéro ${cnum}.<br>`,
        `blue`
      );

    if (sortie_html) {
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.executeMacro("MG32svgcorr${numero_de_l_exercice}","Correction")
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_cor = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

/**
 * Calcul de volumes (cube et pavé droit).
 * @Auteur Jean-Claude Lhote
 * référence 6M30
 */

function Calcul_de_volumes() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculs de volumes";
  this.consigne = "Calculer en détaillant le volume des solides donnés";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) type_de_questions_disponibles = [1, 2];
    // sixième : cube et pavé droit
    else if (this.classe == 5) type_de_questions_disponibles = [1, 2, 3, 4];
    // cinquième : on ajoute les prismes et le cylindre
    else if (this.classe == 4)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    // Quatrième : on ajoute pyramides et cones
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7]; // Troisième : on ajoute les boules.
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_unites = [
      [`~\\text{m}`, `~\\text{m}^3`],
      [`~\\text{dm}`, `~\\text{dm}^3`],
      [`~\\text{cm}`, `~\\text{cm}^3`],
      [`~\\text{mm}`, `~\\text{mm}^3`],
    ];
    for (
      let i = 0, texte, texte_corr, L, l, h, c, r, A, j, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // cube
          c = randint(2, 10);
          j = randint(0, 3); // pour le choix de l'unité
          texte = `Un cube de $${c} ${liste_unites[j][0]}$ d'arête.`;
          texte_corr = `$\\mathcal{V}= c^3 =c \\times c \\times c = ${c}${
            liste_unites[j][0]
          }\\times${c}${liste_unites[j][0]}\\times${c}${
            liste_unites[j][0]
          }=${tex_nombrec(c * c * c)}${liste_unites[j][1]}$`;
          break;
        case 2: // pavé droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            l = randint(2, 5);
            h = randint(3, 6);
            L = randint(6, 10);
            texte = `Un pavé droit de $${l}${liste_unites[j][0]}$ de largeur, de $${L}${liste_unites[j][0]}$ de longueur et de $${h}${liste_unites[j][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${L}${liste_unites[j][0]}\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(l * L * h)}${liste_unites[j][1]}$`;
          } else {
            // avec conversion
            j = randint(1, 2); // pour le choix de l'unité	centrale
            l = randint(2, 5);
            h = randint(3, 6) * 10;
            L = arrondi(randint(6, 10) / 10, 1);
            texte = `Un pavé droit de $${l}${
              liste_unites[j][0]
            }$ de largeur, de $${tex_nombre(L)}${
              liste_unites[j - 1][0]
            }$ de longueur et de $${h}${liste_unites[j + 1][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${tex_nombre(L)}${liste_unites[j - 1][0]}\\times${h}${
              liste_unites[j + 1][0]
            }=${l}${liste_unites[j][0]}\\times${L * 10}${
              liste_unites[j][0]
            }\\times${h / 10}${liste_unites[j][0]}=${tex_nombrec(
              arrondi(l * L * h)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 3: // Cylindre
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_nombrec(
              r * r * h
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi(r * r * h * Math.PI, 1)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\pi\\times${r * r}${liste_unites[j][0]}^2\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(r * r * h)}\\pi${
              liste_unites[j][1]
            }\\approx${tex_nombrec(calcul(r * r * h * Math.PI, 1))}${
              liste_unites[j][1]
            }$`;
          }
          break;
        case 4: // prisme droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Un prisme droit de hauteur $${l}${liste_unites[j][0]}$ et dont les bases sont des triangles de base $${c}${liste_unites[j][0]}$ et de hauteur correspondante $${h}${liste_unites[j][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j][0]}}{2}\\times${l}${
              liste_unites[j][0]
            }=${tex_nombrec(arrondi(calcul((c * h * l) / 2), 1))}${
              liste_unites[j][1]
            }$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Un prisme droit de hauteur $${l}${
              liste_unites[j - 1][0]
            }$ et dont les bases sont des triangles de base $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j + 1][0]}}{2}\\times${tex_nombrec(l)}${
              liste_unites[j - 1][0]
            }=\\dfrac{${c}${liste_unites[j][0]}\\times${tex_nombrec(
              calcul(h / 10)
            )}${liste_unites[j][0]}}{2}\\times${l * 10}${
              liste_unites[j][0]
            }=${tex_nombrec(calcul((c * h * l) / 2))}${liste_unites[j][1]}$`;
          }
          break;
        case 5: // cone
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_fraction(
              r * r * h,
              3
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi((r * r * h * Math.PI) / 3)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(calcul(h / 10))}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h)}${
              liste_unites[j][0]
            }=${tex_fraction(r * r * h, 3)}\\pi\\approx${tex_nombrec(
              calcul((r * r * h * Math.PI) / 3, 1)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 6: // pyramide
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Une pyramide de hauteur $${h}${liste_unites[j][0]}$ et dont la base  est un carré de $${c}${liste_unites[j][0]}$ de côté.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${liste_unites[j][0]}\\right)^2\\times${h}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Une pyramide de hauteur $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ et dont la base  est un carré de $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times${c * c}${
              liste_unites[j][0]
            }^2\\times${tex_nombrec(h)}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
          }
          break;
        case 7: // boule
          j = randint(0, 3); // pour le choix de l'unité
          r = randint(2, 10);
          texte = `Une boule de $${r}${liste_unites[j][0]}$ de rayon.`;
          texte_corr = `$\\mathcal{V}=\\dfrac{4}{3} \\times \\pi \\times R^3=\\dfrac{4}{3}\\times\\pi\\times\\left(${r}${
            liste_unites[j][0]
          }\\right)^3=${tex_fraction(calcul(4 * r * r * r), 3)}\\pi${
            liste_unites[j][1]
          }\\approx${tex_nombrec(
            arrondi(calcul((4 * Math.PI * r * r * r) / 3), 1)
          )}${liste_unites[j][1]}$`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : pas de conversion\n2 : avec conversion",
  ];
}

/**
 * Transformations : trouvers un point numéroté par une des transformations du plan. Fonction générale utilisée sur tous les niveaux
 * @Auteur Jean-Claude Lhote
 * Pas de version LaTeX
 */
function Transformations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  // this.titre = "Trouver l'image d'un point par une transformation du plan";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.pas_de_version_LaTeX = true;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAAAAAAEAAABt#####wAAAAEACkNDYWxjQ29uc3QA#####wACcGkAFjMuMTQxNTkyNjUzNTg5NzkzMjM4NDb#####AAAAAQAKQ0NvbnN0YW50ZUAJIftURC0Y#####wAAAAEAB0NDYWxjdWwA#####wACeU8AATQAAAABQBAAAAAAAAAAAAACAP####8AAnhPAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wEAAAAADgABRwDAKAAAAAAAAAAAAAAAAAAABQABQEnAAAAAAABAhAQo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####ANjY2AAQAAABAQEAAAADAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAOAAFJAMAcAAAAAAAAQDQAAAAAAAAFAAFAUIAAAAAAAAAAAAT#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAAAMAAAAF#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wDY2NgAEAAAAQEBAAAAAwAAAAb#####AAAAAQAJQ0NlcmNsZU9BAP####8BAAAAAAEAAAADAAAABf####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAHAAAACP####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAAA4AAUoAwC4AAAAAAABAGAAAAAAAAAUAAgAAAAn#####AAAAAgAHQ1JlcGVyZQD#####AObm5gEBAAAAAwAAAAUAAAAKAQEBAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAALAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAAwAAAAX#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAANAP####8AAAADAAAACgAAAA4A#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAABQCIAAAAAAAAAAAAOAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAADgD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEf####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAAMAAAAEgAAAAUA#####wEAAAAADgACUjEAAAAAAAAAAABACAAAAAAAAAUAAT#uZmZmZmZmAAAAFAAAAA0A#####wAAAAwAAAATAAAADgD#####AQAAAAAOAAJSMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAVAAAAFgAAABAA#####wEAAAAAEAAAAQABAAAAFQAAABcAAAAFAP####8Bf39#AA4AAlMxAAAAAAAAAAAAQAgAAAAAAAADAAE#u38NRim38QAAABgAAAALAP####8A5ubmAAEAAAAMAAAADgAAABAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAgAIQ01lc3VyZVgA#####wADeFMxAAAAGgAAABn#####AAAAAgAIQ01lc3VyZVkA#####wADeVMxAAAAGgAAABkAAAACAP####8ACE5vbVBvaW50AAoxMCp5UzEreFMx#####wAAAAEACkNPcGVyYXRpb24AAAAAEwIAAAABQCQAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAHAAAABQAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAUBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAABQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAFgD#####AAAAAAAAAB8AAAABQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAABYA#####wEAAAAAAAAZAAAAAUAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAABYA#####wCkpKQAAAAhAAAAAUAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAAoA#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAAkAAAADgD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAADAD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAAL#####wAAAAIACUNGb25jdGlvbgAAAAAUAAAAAgAAABkAAAAAFAAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMxAAExAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAgD#####AAN4eCcAATEAAAABP#AAAAAAAAAAAAAPAP####8AAAAoAAAAFAAAACwAAAAEAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAACAP####8AA3l5JwABMQAAAAE#8AAAAAAAAAAAAA8A#####wAAACgAAAAUAAAALwAAABoA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMyAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAKAAAABQAAAAyAAAADwD#####AAAAAwAAAAE#8AAAAAAAAAAAAA4A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAFAHmZmZmZmZgAAAAIA#####wACeE4AATMAAAABQAgAAAAAAAAAAAAMAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAFAGAAAAAAAAAAAAAFAFAAAAAAAAAAAAAIA#####wACeU4AAi0xAAAAGwAAAAE#8AAAAAAAAAAAAAwA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAAEwAAAAABQBgAAAAAAAAAAAAUAAAANwAAABMAAAAAAUAUAAAAAAAAAAAAFAAAADkAAAACAP####8ACEFmZmljaGVOAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAhBZmZpY2hlTQABMAAAAAEAAAAAAAAAAAAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAA7AAAADgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAPAP####8AAAADAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAPAAAAA4A#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAADsAAAAOAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTQAAAB0A#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTgAAAAIA#####wAEbnVtMAACMjMAAAABQDcAAAAAAAAAAAACAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAAZAgAAABMDAAAAFAAAAEUAAAABQCQAAAAAAAAAAAACAP####8AAngwAAxtb2QobnVtMCwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAUAAAARQAAAAFAJAAAAAAAAAAAAAwA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAUAAAARwAAABQAAABGAAAAAgD#####AARudW0yAAIyNwAAAAFAOwAAAAAAAAAAAAIA#####wACeTIADGludChudW0yLzEwKQAAABkCAAAAEwMAAAAUAAAASQAAAAFAJAAAAAAAAAAAAAIA#####wACeDIADG1vZChudW0yLDEwKQAAAB4GAAAAFAAAAEkAAAABQCQAAAAAAAAAAAAMAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAFAAAAEsAAAAUAAAASgAAAAIA#####wAEbnVtMQACNTEAAAABQEmAAAAAAAAAAAACAP####8AAnkxAAxpbnQobnVtMS8xMCkAAAAZAgAAABMDAAAAFAAAAE0AAAABQCQAAAAAAAAAAAACAP####8AAngxAAxtb2QobnVtMSwxMCkAAAAeBgAAABQAAABNAAAAAUAkAAAAAAAAAAAADAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAABQAAABPAAAAFAAAAE4AAAACAP####8ACEFmZmljaGVPAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAAFEAAAAOAP####8AAAAAABIAAU8AwDEAAAAAAADAQgAAAAAAAAkAAAAAKAAAAFIAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAKv####8AAAABAAxDRHJvaXRlSW1hZ2UA#####wAAAAAAEAAAAQACAAAAKQAAAFQAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAMgAAAB8A#####wAAAAAAEAAAAQACAAAAMQAAAFYAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALAAAAB8A#####wAAAAAAEAAAAQADAAAAKwAAAFgAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALwAAAB8A#####wAAAAAAEAAAAQADAAAALgAAAFr#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAMAAAAoAAAAAUAUAAAAAAAAAAAAAAkA#####wAAAFcAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAF0AAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAXQAAAAkA#####wAAAFsAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAGAAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYAAAAAkA#####wAAAFUAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYwAAAAkA#####wAAAFkAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGYAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAZgAAAB0A#####wAAAAAAwDYAAAAAAADARoAAAAAAAAAAAF8QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAdAP####8AAAAAAMA9AAAAAAAAwD8AAAAAAAAAAABiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woNCkpAAAAHQD#####AAAAAADAAAAAAAAAAMBHAAAAAAAAAAAAZRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAAB0A#####wAAAAAAQBwAAAAAAADAPQAAAAAAAAAAAGgQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAn##########8=";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAQAAAAYACFN5bWV0cmllAClDbHF1ZXIgc3VyIGxlIHBvaW50CkNsaXF1ZXIgc3VyIGxhIGRyb2l0ZQAAAAIAAAAGAAAAABr#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAAAAAAT#####AAAAAAAAAAAACf##########AAAAAQAHQ0NhbGN1bAD#####AAJ5TwABNP####8AAAABAApDQ29uc3RhbnRlQBAAAAAAAAAAAAABAP####8AAnhPAAE0AAAAAkAQAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKf####8AAAACAAlDRm9uY3Rpb24C#####wAAAAEACkNPcGVyYXRpb24D#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAACQCQAAAAAAAAAAAABAP####8AAngxAAxtb2QobnVtMSwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAFAAAABQAAAAJAJAAAAAAAAP####8AAAABAA9DU3ltZXRyaWVBeGlhbGUA#####wAAAAH#####AAAAAQALQ1BvaW50SW1hZ2UB#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAI#####wAAAAEAB0NNaWxpZXUA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAJ#####wAAAAEACENTZWdtZW50Af####8AAAD#ABAAAAEAAgAAAAAAAAAKAAAACgH#####AAAA#wAQAAABAAIAAAAKAAAACf####8AAAACAAlDQ2VyY2xlT1IA#####wEAAP8AAgAAAAoAAAACP9MzMzMzMzMA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAN#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAHAAIAAAAOAAAACgD#####AQAAAAAQAAABAAEAAAAKAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8AAAAAAA0AAAEBAQAAAAoAAAAQ#####wAAAAEACUNDZXJjbGVPQQD#####AAAAAAEBAAAACgAAAA8AAAAMAP####8AAAARAAAAEgAAAA0A#####wAAAP8AEgAAAQcAAgAAABP#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAAKAAAADwAAAAgA#####wAAAP8AEgAAAQcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAf####8AAAD#AAIAAAAFAAAACgAAAA8AAAAWAAAAFAAAAAr#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQB#####wAAAP8AAgAAAAALAAAAEgH#####AAAA#wACAAAAAAwAAAABAAABNP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2AAAAAkAJIftURC0YAAAAAQD#####AAJ5TwABNAAAAAJAEAAAAAAAAAAAAAEA#####wACeE8AATQAAAACQBAAAAAAAAD#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFHAMAoAAAAAAAAAAAAAAAAAAAFAAFAScAAAAAAAECEBCj1wo9c#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8A2NjYABAAAAEBAQAAAAMBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBwAAAAAAABANAAAAAAAAAUAAUBQgAAAAAAAAAAABP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAwAAAAUAAAAOAP####8A2NjYABAAAAEBAQAAAAMAAAAGAAAADwD#####AQAAAAABAAAAAwAAAAUAAAAMAP####8AAAAHAAAACAAAAA0A#####wEAAAAADgABSgDALgAAAAAAAEAYAAAAAAAABQACAAAACf####8AAAACAAdDUmVwZXJlAP####8A5ubmAQEAAAADAAAABQAAAAoBAQEAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACP#AAAAAAAAAAAAACP#AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAQAAFRAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAsAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAQAP####8AAAADAAAABQAAAAgA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAAQAP####8AAAADAAAACgAAAAgA#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAACQCIAAAAAAAAAAAAIAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAACAD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEQAAAAoA#####wEAAAAAEAAAAQABAAAADAAAABIAAAAWAP####8BAAAAAA4AAlIxAAAAAAAAAAAAQAgAAAAAAAAFAAE#7mZmZmZmZgAAABQAAAAQAP####8AAAAMAAAAEwAAAAgA#####wEAAAAADgACUjIAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAABYAAAAKAP####8BAAAAABAAAAEAAQAAABUAAAAXAAAAFgD#####AX9#fwAOAAJTMQAAAAAAAAAAAEAIAAAAAAAAAwABP7t#DUYpt#EAAAAYAAAAGAD#####AObm5gABAAAADAAAAA4AAAAQAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAj#wAAAAAAAAAAAAAj#wAAAAAAAA#####wAAAAIACENNZXN1cmVYAP####8AA3hTMQAAABoAAAAZ#####wAAAAIACENNZXN1cmVZAP####8AA3lTMQAAABoAAAAZAAAAAQD#####AAhOb21Qb2ludAAKMTAqeVMxK3hTMQAAAAQAAAAABAIAAAACQCQAAAAAAAAAAAAFAAAAHAAAAAUAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAkBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAACQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHgD#####AAAAAAAAAB8AAAACQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAB4A#####wEAAAAAAAAZAAAAAkAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAAB4A#####wCkpKQAAAAhAAAAAkAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAA0A#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAkAAAACAD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAAGQD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAALAAAAAwAAAAAFAAAAAgAAAAMAAAAABQAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMxAAExAAAAAj#wAAAAAAAAAAAAFQD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAQD#####AAN4eCcAATEAAAACP#AAAAAAAAAAAAAaAP####8AAAAoAAAABQAAACwAAAAVAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAABAP####8AA3l5JwABMQAAAAI#8AAAAAAAAAAAABoA#####wAAACgAAAAFAAAALwAAACEA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAAyAAAAGgD#####AAAAAwAAAAI#8AAAAAAAAAAAAAgA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAJAHmZmZmZmZgAAAAEA#####wACeE4AATMAAAACQAgAAAAAAAAAAAAZAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAJAGAAAAAAAAAAAAAJAFAAAAAAAAAAAAAEA#####wACeU4AAi0xAAAAIgAAAAI#8AAAAAAAAAAAABkA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAABAAAAAACQBgAAAAAAAAAAAAFAAAANwAAAAQAAAAAAkAUAAAAAAAAAAAABQAAADkAAAABAP####8ACEFmZmljaGVOAAExAAAAAj#wAAAAAAAAAAAAAQD#####AAhBZmZpY2hlTQABMQAAAAI#8AAAAAAAAAAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAA7AAAACAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAPAAAAAgA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAAGgD#####AAAAAwAAAAQDAAAAAj#wAAAAAAAAAAAABQAAADsAAAAIAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTQAAACQA#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTgAAAAEA#####wAEbnVtMAACMjMAAAACQDcAAAAAAAAAAAABAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAADAgAAAAQDAAAABQAAAEUAAAACQCQAAAAAAAAAAAABAP####8AAngwAAxtb2QobnVtMCwxMCkAAAAGBgAAAAUAAABFAAAAAkAkAAAAAAAAAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAAAUAAABHAAAABQAAAEYAAAABAP####8ABG51bTIAAjI3AAAAAkA7AAAAAAAAAAAAAQD#####AAJ5MgAMaW50KG51bTIvMTApAAAAAwIAAAAEAwAAAAUAAABJAAAAAkAkAAAAAAAAAAAAAQD#####AAJ4MgAMbW9kKG51bTIsMTApAAAABgYAAAAFAAAASQAAAAJAJAAAAAAAAAAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAFAAAASwAAAAUAAABKAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKQAAAAMCAAAABAMAAAAFAAAATQAAAAJAJAAAAAAAAAAAAAEA#####wACeDEADG1vZChudW0xLDEwKQAAAAYGAAAABQAAAE0AAAACQCQAAAAAAAAAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAABQAAAE8AAAAFAAAATgAAAAEA#####wAIQWZmaWNoZU8AATEAAAACP#AAAAAAAAAAAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAUQAAAAgA#####wEAAAAAEgABTwDAMQAAAAAAAMBCAAAAAAAACQAAAAAoAAAAUgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAq#####wAAAAEADENEcm9pdGVJbWFnZQD#####AAAAAAAQAAABAAIAAAApAAAAVAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAyAAAAJQD#####AAAAAAAQAAABAAIAAAAxAAAAVgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAsAAAAJQD#####AAAAAAAQAAABAAMAAAArAAAAWAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAvAAAAJQD#####AAAAAAAQAAABAAMAAAAuAAAAWgAAAAsA#####wEAAAAAAwAAACgAAAACQBAAAAAAAAAAAAAADAD#####AAAAVwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAXQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABdAAAADAD#####AAAAWwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYAAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABgAAAADAD#####AAAAVQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABjAAAADAD#####AAAAWQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAZgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABmAAAAJAD#####AAAAAADANgAAAAAAAMBGgAAAAAAAAAAAXxAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDIpKQAAACQA#####wAAAAAAwD0AAAAAAADAPwAAAAAAAAAAAGIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAIKGQjTCg0KSkAAAAkAP####8AAAAAAMAAAAAAAAAAwEcAAAAAAAAAAABlEAAAAAAAAAAAAAAAAAACAAAAAAAAAAAACChkI0woMSkpAAAAJAD#####AAAAAABAHAAAAAAAAMA9AAAAAAAAAAAAaBAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDMpKf####8AAAABAAVDRm9uYwD#####AARhYnNuAAltb2QoeCwxMCkAAAAGBv####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAACQCQAAAAAAAAAAXgAAAAmAP####8ABG9yZG4ACWludCh4LzEwKQAAAAMCAAAABAMAAAAnAAAAAAAAAAJAJAAAAAAAAAABeAAAAAEA#####wACbjEAATEAAAACP#AAAAAAAAAAAAABAP####8AAm4yAAEyAAAAAkAAAAAAAAAAAAAAAQD#####AAJuMwACNzcAAAACQFNAAAAAAAAAAAABAP####8AAm40AAE1AAAAAkAUAAAAAAAAAAAAAQD#####AAJuNQACNTYAAAACQEwAAAAAAAAAAAABAP####8AAm42AAE2AAAAAkAYAAAAAAAAAAAAAQD#####AAJuNwABNwAAAAJAHAAAAAAAAAAAAAEA#####wACbjgAAjg1AAAAAkBVQAAAAAAAAAAAAQD#####AAJuOQACNTMAAAACQEqAAAAAAAAAAAAZAP####8BAAD#ABIAAlAxAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAv#####AAAAAQAOQ0FwcGVsRm9uY3Rpb24AAABtAAAABQAAAG8AAAAoAAAAbgAAAAUAAABvAAAAGQD#####AQAA#wASAAJQMgAAAAAAAAAAAEAIAAAAAAAABwAAAAALAAAAKAAAAG0AAAAFAAAAcAAAACgAAABuAAAABQAAAHAAAAAZAP####8BAAD#ABIAAnAzAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAsAAAAoAAAAbQAAAAUAAABxAAAAKAAAAG4AAAAFAAAAcQAAABkA#####wEAAP8AEgACUDQAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHIAAAAoAAAAbgAAAAUAAAByAAAAGQD#####AQAA#wASAAJQNQAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAcwAAACgAAABuAAAABQAAAHMAAAAZAP####8BAAD#ABIAAlA2AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB0AAAAKAAAAG4AAAAFAAAAdAAAABkA#####wEAAP8AEgACUDcAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHUAAAAoAAAAbgAAAAUAAAB1AAAAGQD#####AQAA#wASAAJQOAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAdgAAACgAAABuAAAABQAAAHYAAAAZAP####8BAAD#ABIAAlA5AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB3AAAAKAAAAG4AAAAFAAAAdwAAACYA#####wAFdGVzdG4ABzEtKHg8MCkAAAAEAQAAAAI#8AAAAAAAAAAAAAQEAAAAJwAAAAAAAAACAAAAAAAAAAAAAXgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABvAAAACAD#####AAAA#wESAANQJzEAAAAAAAAAAABACAAAAAAAAAkAAAAAeAAAAIIAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABwAAAACAD#####AAAA#wESAANQJzIAAAAAAAAAAABACAAAAAAAAAkAAAAAeQAAAIQAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABxAAAACAD#####AAAA#wESAANQJzMAAAAAAAAAAABACAAAAAAAAAkAAAAAegAAAIYAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAByAAAACAD#####AAAA#wESAANQJzQAAAAAAAAAAABACAAAAAAAAAkAAAAAewAAAIgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABzAAAACAD#####AAAA#wESAANQJzUAAAAAAAAAAABACAAAAAAAAAkAAAAAfAAAAIoAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB0AAAACAD#####AAAA#wESAANQJzYAAAAAAAAAAABACAAAAAAAAAkAAAAAfQAAAIwAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB1AAAACAD#####AAAA#wESAANQJzcAAAAAAAAAAABACAAAAAAAAAkAAAAAfgAAAI4AAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB2AAAACAD#####AAAA#wESAANQJzgAAAAAAAAAAABACAAAAAAAAAkAAAAAfwAAAJAAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB3AAAACAD#####AAAA#wESAANQJzkAAAAAAAAAAABACAAAAAAAAAkAAAAAgAAAAJL#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACDAAAAVQAAAAEAAAAAlAADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACUAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAJQAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAlAADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAlAABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAJgAAAACQCQAAAAAAAAAAAABAAAAAJQAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAmAAAAAJAJAAAAAAAAAAAAAcAAAAAlAAAAFUAAAAIAQAAAJQAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACDAAAAmwAAAAkAAAAAlAAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIMAAACcAAAACgEAAACUAAAA#wAQAAABAAIAAACDAAAAnQAAAAoBAAAAlAAAAP8AEAAAAQACAAAAnQAAAJwAAAALAAAAAJQBAAD#AAIAAACdAAAAAj#TMzMzMzMzAAAAAAwAAAAAlAAAAJ4AAACgAAAADQAAAACUAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAKEAAAAKAAAAAJQBAAAAABAAAAEAAQAAAJ0AAACiAAAADgAAAACUAAAAAAAQAAABAQEAAACdAAAAowAAAA8AAAAAlAAAAAABAQAAAJ0AAACiAAAADAAAAACUAAAApAAAAKUAAAANAAAAAJQAAAD#ABAAAAEHAAIAAACmAAAAEAAAAACUAAAAnQAAAKIAAAAIAAAAAJQAAAD#ABAAAAEHAAAAAKcAAACoAAAAEQEAAACUAAAA#wACAAAABQAAAJ0AAACiAAAAqQAAAKcAAACdAAAAEgEAAACUAP8AAAEBAAAAAJ4AAAASAQAAAJQA#wAAAQEAAAAAnwAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACFAAAAVwAAAAEAAAAArQADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACtAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAK0AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAArQADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAArQABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAALEAAAACQCQAAAAAAAAAAAABAAAAAK0AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAsQAAAAJAJAAAAAAAAAAAAAcAAAAArQAAAFcAAAAIAQAAAK0AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACFAAAAtAAAAAkAAAAArQAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIUAAAC1AAAACgEAAACtAAAA#wAQAAABAAIAAACFAAAAtgAAAAoBAAAArQAAAP8AEAAAAQACAAAAtgAAALUAAAALAAAAAK0BAAD#AAIAAAC2AAAAAj#TMzMzMzMzAAAAAAwAAAAArQAAALcAAAC5AAAADQAAAACtAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAALoAAAAKAAAAAK0BAAAAABAAAAEAAQAAALYAAAC7AAAADgAAAACtAAAAAAAQAAABAQEAAAC2AAAAvAAAAA8AAAAArQAAAAABAQAAALYAAAC7AAAADAAAAACtAAAAvQAAAL4AAAANAAAAAK0AAAD#ABAAAAEHAAIAAAC#AAAAEAAAAACtAAAAtgAAALsAAAAIAAAAAK0AAAD#ABAAAAEHAAAAAMAAAADBAAAAEQEAAACtAAAA#wACAAAABQAAALYAAAC7AAAAwgAAAMAAAAC2AAAAEgEAAACtAP8AAAEBAQAAALcAAAASAQAAAK0A#wAAAQEBAAAAuAAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACHAAAAWQAAAAEAAAAAxgADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADGAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAMYAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAxgADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAxgABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAMoAAAACQCQAAAAAAAAAAAABAAAAAMYAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAygAAAAJAJAAAAAAAAAAAAAcAAAAAxgAAAFkAAAAIAQAAAMYAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACHAAAAzQAAAAkAAAAAxgAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIcAAADOAAAACgEAAADGAAAA#wAQAAABAAIAAACHAAAAzwAAAAoBAAAAxgAAAP8AEAAAAQACAAAAzwAAAM4AAAALAAAAAMYBAAD#AAIAAADPAAAAAj#TMzMzMzMzAAAAAAwAAAAAxgAAANAAAADSAAAADQAAAADGAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAANMAAAAKAAAAAMYBAAAAABAAAAEAAQAAAM8AAADUAAAADgAAAADGAAAAAAAQAAABAQEAAADPAAAA1QAAAA8AAAAAxgAAAAABAQAAAM8AAADUAAAADAAAAADGAAAA1gAAANcAAAANAAAAAMYAAAD#ABAAAAEHAAIAAADYAAAAEAAAAADGAAAAzwAAANQAAAAIAAAAAMYAAAD#ABAAAAEHAAAAANkAAADaAAAAEQEAAADGAAAA#wACAAAABQAAAM8AAADUAAAA2wAAANkAAADPAAAAEgEAAADGAP8AAAEBAgAAANAAAAASAQAAAMYA#wAAAQECAAAA0QAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACJAAAAWwAAAAEAAAAA3wADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADfAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAN8AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAA3wADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAA3wABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAOMAAAACQCQAAAAAAAAAAAABAAAAAN8AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAA4wAAAAJAJAAAAAAAAAAAAAcAAAAA3wAAAFsAAAAIAQAAAN8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACJAAAA5gAAAAkAAAAA3wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIkAAADnAAAACgEAAADfAAAA#wAQAAABAAIAAACJAAAA6AAAAAoBAAAA3wAAAP8AEAAAAQACAAAA6AAAAOcAAAALAAAAAN8BAAD#AAIAAADoAAAAAj#TMzMzMzMzAAAAAAwAAAAA3wAAAOkAAADrAAAADQAAAADfAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAOwAAAAKAAAAAN8BAAAAABAAAAEAAQAAAOgAAADtAAAADgAAAADfAAAAAAAQAAABAQEAAADoAAAA7gAAAA8AAAAA3wAAAAABAQAAAOgAAADtAAAADAAAAADfAAAA7wAAAPAAAAANAAAAAN8AAAD#ABAAAAEHAAIAAADxAAAAEAAAAADfAAAA6AAAAO0AAAAIAAAAAN8AAAD#ABAAAAEHAAAAAPIAAADzAAAAEQEAAADfAAAA#wACAAAABQAAAOgAAADtAAAA9AAAAPIAAADoAAAAEgEAAADfAP8AAAEBAwAAAOkAAAASAQAAAN8A#wAAAQEDAAAA6v####8AAAABAAlDUm90YXRpb24A#####wAAACgAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACLAAAA+AAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAIsAAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAD5#####wAAAAIAE0NNYXJxdWVBbmdsZU9yaWVudGUA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAIsAAAAoAAAA+QAAAAASAP####8A#wAAAAEBAAAA+gAAABIA#####wD#AAAAAQEAAAD7#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AP8AAAABAAAAKAAAAIsAAAD5AAAAKgD#####AAAAKAAAACIAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACNAAABAAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAI0AAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAEBAAAAEgD#####AP8AAAABAQAAAQMAAAASAP####8A#wAAAAEBAAABAgAAACsA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAI0AAAAoAAABAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wD#AAAAAQAAACgAAACNAAABAf####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAKAAAAAgA#####wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAI8AAAEIAAAACgD#####AAAA#wAQAAABAAEAAACPAAAAKAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAQkAAAASAP####8A#wAAAAECAAABCwAAABIA#####wD#AAAAAQIAAAEKAAAAEAD#####AAAAQAAAAEIAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACRAAABDv####8AAAABAAhDVmVjdGV1cgD#####AP8AAAAQAAABAAEAAACRAAABDwAAAAAvAP####8A#wAAABAAAAEAAQAAAEAAAABCAAAAAAoA#####wD#AAAAEAAAAQEBAAAAQAAAAJEAAAAKAP####8A#wAAABAAAAEBAQAAAEIAAAEPAAAAAQD#####AAFrAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAEUAAAACAD#####AAAA#wESAAFBAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJMAAAEVAAAACgD#####AAAA#wAQAAABAQEAAAAoAAAAkwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAARYAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAACT#####wAAAAEAC0NNZWRpYXRyaWNlAAAAARkBAAAAABAAAAEAAQAAACgAAACTAAAACQAAAAEZAQAAAAAQAAABBQAAAAAoAAAAkwAAAAsAAAABGQEAAAAAAQAAARsAAAACQDAAAAAAAAABAAAADAAAAAEZAAABGgAAARwAAAANAAAAARkBAAAAABAAAAEFAAEAAAEdAAAAIAEAAAEZAAAAKAAAAJMAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAAEWAAAAMAAAAAEgAQAAAAAQAAABAAEAAAAoAAABFgAAAAkAAAABIAEAAAAAEAAAAQUAAAAAKAAAARYAAAALAAAAASABAAAAAAEAAAEiAAAAAkAwAAAAAAAAAQAAAAwAAAABIAAAASEAAAEjAAAADQAAAAEgAQAAAAAQAAABBQABAAABJAAAACABAAABIAAAACgAAAEWAAAAFgD#####Af8AAAASAAFGAAAAAAAAAAAAQAgAAAAAAAAFAAE#585Z#OWfzwAAARgAAAAeAP####8A#wAAAAABJwAAAAQAAAAABQAAARQAAAACP#AAAAAAAAAAAAEnAAAAAgAAAScAAAEnAAAAAQD#####AANuMTAAAjE5AAAAAkAzAAAAAAAAAAAAGQD#####Af8AAAASAANQMTAAAAAAAAAAAABACAAAAAAAAAUAAAAACwAAACgAAABtAAAABQAAASkAAAAoAAAAbgAAAAUAAAEpAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAAKAAAAIEAAAAFAAABKQAAAAgA#####wAAAP8BEgAEUCcxMAAAAAAAAAAAAEAIAAAAAAAACQAAAAEqAAABKwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAASwAAAABAP####8AAmsyAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAABQAAAS4AAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAEsAAABLwAAABYA#####wEAAP8AEgABRQAAAAAAAAAAAEAIAAAAAAAABQABP+MmybJsmyQAAAEtAAAAHgD#####AP8AAAAAATEAAAAEAAAAAAMAAAAABQAAAS4AAAACP#AAAAAAAAAAAAExAAAAAgAAATEAAAExAAAACgD#####AAAA#wAQAAABAQEAAAAoAAABMAAAACf##########w==";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let antecedents = [0, 0, 0],
      images = [0, 0, 0],
      k = [1, 1, 1],
      k1,
      k2,
      xO = 4,
      yO = 4,
      xu,
      yu,
      point_reseau; // k : rapports d'homothéties, (xO,yO) point de rencontre des droites et centre, les composantes du vecteur de translation : (xu,yu)
    let bis1 = 0,
      bis2 = 0,
      xx = 0,
      yy = 0,
      AfficheO = 1,
      AfficheN = 0,
      AfficheM = 0;
    let n = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
    let texte = ``,
      texte_corr = ``;
    let point = [[]];
    let transformation = parseInt(this.sup) - 1;
    let liste_type_de_questions = [
      [1, 2, 3, 4],
      [1, 2, 3, 4, 7],
      [1, 2, 3, 4, 7, 8],
      [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
    ];
    let choix_transformation = combinaison_listes(
      liste_type_de_questions[transformation],
      3
    );
    xu = randint(-3, 3);
    if (xu == 0) yu = randint(-3, 3, [0]);
    // pas de vecteur nul de translation.
    else yu = randint(-3, 3);
    for (let j = 0; j < 3; j++) {
      if (choix_transformation[j] == 10) {
        k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
        k2 = k[j];
      } else if (choix_transformation[j] == 9) {
        k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
        k1 = k[j];
      }
      antecedents[j] = randint(0, 99);
      point[j] = image_point_par_transformation(
        choix_transformation[j],
        [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
        [xO, yO],
        [xu, yu],
        k[j]
      );
      images[j] = point[j][0] + point[j][1] * 10;
      // Limitation des points invariants
      if (choix_transformation[j] == 1 && images[j] % 11 == 0) point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
      if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
        point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
      if (choix_transformation[j] == 4 && images[j] % 10 == 4) point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
      if (
        (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
        antecedents[j] == 44
      )
        point[j][0] = -1; // point O impossible pour rotation
      if (choix_transformation[j] == 10 && antecedents[j] == 44)
        point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2
      // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
      if (
        point[j][0] - Math.floor(point[j][0]) == 0 &&
        point[j][1] - Math.floor(point[j][1]) == 0
      )
        point_reseau = true;
      else point_reseau = false;
      // On vérifie que l'image est bien un point du réseau sinon, on change.
      while (
        point[j][0] < 0 ||
        point[j][0] > 9 ||
        point[j][1] < 0 ||
        point[j][1] > 9 ||
        point_reseau == false
      ) {
        if (choix_transformation[j] == 10) {
          k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
          k2 = k[j];
        } else if (choix_transformation[j] == 9) {
          k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
          k1 = k[j];
        }
        antecedents[j] = randint(0, 99);
        point[j] = image_point_par_transformation(
          choix_transformation[j],
          [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
          [xO, yO],
          [xu, yu],
          k[j]
        );
        images[j] = point[j][0] + point[j][1] * 10;
        // Limitation des points invariants
        if (choix_transformation[j] == 1 && images[j] % 11 == 0)
          point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
        if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
          point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
        if (choix_transformation[j] == 4 && images[j] % 10 == 4)
          point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
        if (
          (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
          antecedents[j] == 44
        )
          point[j][0] = -1; // point O impossible pour rotation
        if (choix_transformation[j] == 10 && antecedents[j] == 44)
          point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2

        // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
        if (
          point[j][0] - Math.floor(point[j][0]) == 0 &&
          point[j][1] - Math.floor(point[j][1]) == 0
        )
          point_reseau = true;
        else point_reseau = false;
      }
    }
    // n[i] est un tableau contenant -1 pour la transformation d'indice i si elle n'est pas utilisée, et contenant le numéro du point concerné si la transformation i est utilisée pour ce point.
    // Je l'utilise pour faire apparaître la correction liée au point et à la transformation.
    for (let j = 0; j < 3; j++) {
      n[choix_transformation[j] - 1] = antecedents[j];
    }
    for (let i = 0; i < 3; i++) {
      switch (choix_transformation[i]) {
        case 1:
          bis1 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_1)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_1)$ est le point ${images[i]}.<br>`;
          break;

        case 2:
          bis2 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_2)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_2)$ est le point ${images[i]}.<br>`;
          break;

        case 3:
          xx = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_3)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_3)$ est le point ${images[i]}.<br>`;
          break;

        case 4:
          yy = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_4)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_4)$ est le point ${images[i]}.<br>`;
          break;

        case 5:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 6:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 7:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la symétrie de centre O.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la symétrie de centre O est le point ${images[i]}.<br>`;
          break;

        case 11:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 12:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 13:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 14:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 8:
          AfficheN = 1;
          AfficheM = 1;
          // AfficheOO=1
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la translation qui transforme M en N.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la translation qui transforme M en N est le point ${images[i]}.<br>`;
          break;

        case 9:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1}.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1} est le point ${images[i]}.<br>`;
          break;

        case 10:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$ est le point ${images[i]}.<br>`;
          break;
      }
    }
    if (sortie_html) {
      /*
			booléens permettant l'affichage des éléments si =1 et le masquage si =0
			bis1 affiche la droite de coefficient directeur 1 passant par O'
			bis2 affiche la droite de coefficient directeur -1 passant par O'
			xx' affiche la droite horizontale passant par O'
			yy' affiche la droite verticale passant par O'
			AfficheO' affiche O' comme son nom l'indique.
			AfficheN, AffichM pour afficher les points M et N définissant la translation.
			
			*/
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t0", "${choix_transformation[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t1", "${choix_transformation[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t2", "${choix_transformation[2]}");						
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheN", "${AfficheN}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k", "${k1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k2", "${k2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n1", "${n[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n2", "${n[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n3", "${n[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n4", "${n[3]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n5", "${n[4]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n6", "${n[5]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n7", "${n[6]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n8", "${n[7]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n9", "${n[8]}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n10", "${n[9]}");									
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheN", "${AfficheN}");	

			
			
			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_corr = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

// Exercices paramétrés pour correspondre au référentiel
// Référence 5P10
//function Proportionnalite_pas_proportionnalite_5e(){
//  Proportionnalite_pas_proportionnalite.call(this)
  // Pas de paramètres Sup
//}

// Référence 6C23
function Exercice_additionner_des_fractions_6e() {
  Exercice_additionner_des_fractions_5e.call(this);
  this.level=6
  this.titre= "Additionner des fractions de même dénominateur"
}
/**
 * @Auteur Jean-Claude Lhote
 * vocabulaire arête, face, perpendicularité dans l'espace, parallélisme dans l'espace
 * référence : 6G43
 */
function Utiliser_vocabulaire_pave() {
  Solide_6e.call(this);
  this.titre = "Utiliser le vocabulaire associé au pavé droit"
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G11
 */
function Tracer_des_perpendiculaires() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires";
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12
 */
function Tracer_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des parallèles";
  this.sup = 2;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12-1
 */
function Tracer_des_perpendiculaires_et_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires et des parallèles";
  this.sup = 3;
  this.besoin_formulaire_numerique = false;
}
/**
 * Exercice en html seulement. Symétrie centrale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 5G12
 */
function Pavages_et_demi_tour() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie centrale dans un pavage";
  this.sup = 2;
}
/**
 * Exercice en html seulement. Symétrie axiale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 6G25-2
 */
function Pavages_et_symetries() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage carré";
  this.sup = 1;
}
/**
 * Exercice en html seulement. Translations dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 4G11
 */
function Pavages_et_translation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une translation dans un pavage";
  this.sup = 3;
}
/**
 * Exercice en html seulement. Rotationss dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 3G12
 */
function Pavages_et_rotation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une rotation de 90 degrés dans un pavage";
  this.sup = 4;
}

/**
 * Lire les coordonnées d'un point du quart de plan positif avec une précision allant de l'unité à 0,25.
 * @Auteur Jean-Claude Lhote
 * référence 6N33
 */
function Reperage_point_du_quart_de_plan() {
  Reperage_point_du_plan.call(this);
  this.titre = "Déterminer les coordonnées (positives) d'un point";
  this.quart_de_plan = true;
}
// 3F21
function Lecture_expression_fonctions_lineaires() {
  Lecture_expression_fonctions_affines.call(this);
  this.titre = "Déterminer une fonction linéaire";
  this.lineaire = true;
}
// 3L14-1
function Resoudre_une_equation_produit_nul_niv2() {
  Resoudre_une_equation_produit_nul.call(this);
  this.titre = "Résoudre une équation produit nul (niveau 2)";
  this.sup = 2;
}
// Référence 6C21

function Divisions_euclidiennes_niv2() {
  Divisions_euclidiennes.call(this);
  this.sup = 2;
  this.titre = "Divisions euclidiennes - Niveau 2";
}
//4G40
function Exercice_Trigo_longueurs_4e() {
  Exercice_Trigo_longueurs.call(this);
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
  this.titre =
    "Utiliser le cosinus pour calculer une longueur dans un triangle rectangle";
}
// 4G41
function Exercice_Trigo_angles_4e() {
  this.sup = 1;
  this.quatrieme = true;
  this.titre =
    "Utiliser le cosinus pour calculer la mesure d'un angle dans un triangle rectangle";
  Exercice_Trigo_angles.call(this);
}
// référence 6G24
function Transformations_6e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}

// 5G10
function Symetrie_axiale_5e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}
// 5G11
function Transformations_5e() {
  Transformations.call(this);
  this.sup = 2;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale`;
  this.pas_de_version_LaTeX = true;
}
// 4G40
function Transformations_4e() {
  Transformations.call(this);
  this.sup = 3;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale ou par une translation`;
  this.pas_de_version_LaTeX = true;
}
// 3G10-2
function Transformations_3e() {
  Transformations.call(this);
  this.sup = 4;
  this.titre = `Trouver l'image d'un point par une transformation choisie aléatoirement`;
  this.pas_de_version_LaTeX = true;
}
// Référence 6M30
function Calcul_de_volumes_6e() {
  this.sup = 1;
  this.classe = 6;
  Calcul_de_volumes.call(this);
}

// 5M20
function Calcul_de_volumes_5e() {
  this.sup = 1;
  this.classe = 5;
  Calcul_de_volumes.call(this);
}
// 4G53
function Calcul_de_volumes_4e() {
  this.sup = 1;
  this.classe = 4;
  Calcul_de_volumes.call(this);
}
// 3G43
function Calcul_de_volumes_3e() {
  this.sup = 1;
  this.classe = 3;
  Calcul_de_volumes.call(this);
}


function Exercice_6N13() {
  this.sup = 1;
  this.titre = "Utiliser les préfixes multiplicateurs (déca à kilo)";
  Exercice_conversions.call(this);
}
// 6N24
function Exercice_6N24() {
  Exercice_conversions.call(this);
  this.sup = 3;
  this.titre =
    "Utiliser les préfixes multiplicateurs et diviseurs (milli à kilo)";
  this.correction_avec_des_fractions = true;
  this.spacing_corr = 2;
}
// Référence 6M12
function Reglages_6M12() {
  Exercice_conversions_de_longueurs.call(this);
  this.sup = 3;
  this.nb_questions = 8;
}

function Reglages_6M23() {
  Exercice_conversions_aires.call(this);
  this.sup = 3;
  this.nb_cols_corr = 1;
}
// Référence 6M10
function Reglages_6M10() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 1;
}
// Référence 6M22
function Reglages_6M22() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 2;
  this.titre = "Périmètres et aires de disques (à partir d'un texte).";
}

function Reglages_6N34() {
  Exercice_conversions.call(this);
  this.sup = 5;
  this.titre = "Conversions avec tous les préfixes de milli à tera.";
}

// 4G30
function Thales_4eme() {
  //Dans cette version, pas de configuration papillon reservée aux 3èmes.
  Exercice_Thales.call(this);
  this.quatrieme = true;
  sortie_html? this.spacing = 1.5 : this.spacing = 1; 
}
// 4G31
function Reciproque_Thales_4eme() {
  Reciproque_Thales.call(this);
  this.quatrieme = true;
}

/**
 * Vocabulaire des triangles
 * 6G20-2 ; 5G20-1
 * @author Sébastien Lozano
 */

function Vocabulaire_des_triangles() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.consigne = "Donner la nature des triangles en justifiant.";
  this.sup = 1;
  this.titre = "Vocabulaire des triangles";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;

  this.liste_packages = `bclogo`;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) {
      if (this.sup == 1) {
        this.nb_questions = 4;
      } else {
        //this.nb_questions = 9;
        this.nb_questions = 5;
      }
    } else if (this.classe == 5) {
      //this.nb_questions = 11;
      this.nb_questions = 5;
    }

    let texte_intro = ``;
    if (sortie_html) {
      if (this.classe == 6) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      } else if (this.classe == 5) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés ou deux angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés ou trois angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      }
      // this.introduction = lampe_message({
      // 	titre : `Quelques définitions`,
      // 	texte : texte_intro,
      // 	couleur : `nombres`
      // });

      this.bouton_aide = modal_texte_long(
        numero_de_l_exercice,
        //`<i class="lightbulb outline icon"></i> Quelques définitions`,
        `<i class="info circle icon"></i> Quelques définitions`,
        texte_intro,
        "Aide",
        "info circle"
      );
    } else {
      if (this.classe == 6) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés de même longueur.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés de même longueur.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      } else if (this.classe == 5) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés ou deux angles de même mesure.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés ou trois angles de même mesure.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      }

      this.introduction = lampe_message({
        titre: `Quelques définitions`,
        texte: texte_intro,
        couleur: `nombres`,
      });
    }

    if (this.classe == 6) {
      if (this.sup == 1) {
        type_de_questions_disponibles = [1, 3, 5, 7]; //6e facile isocèle, équilatéral et rectangle.
      } else if (this.sup == 2) {
        //type_de_questions_disponibles = [1,3,4,5,6,7,8,9]; //6e tout sauf par les angles
        type_de_questions_disponibles = [1, 4, 6, 8, 9]; //6e les autres cas sauf par les angles
      }
    } else if (this.classe == 5) {
      // type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10,11]; // 5e : on ajoute la caractéisation par les angles
      type_de_questions_disponibles = [
        choice([1, 2]),
        choice([3, 4, 10]),
        choice([5, 6, 11]),
        7,
        choice([8, 9]),
      ]; // 5e : tout sauf les basiques de 6e, on ajoute la caractéisation par les angles
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    //let liste_type_de_questions = type_de_questions_disponibles // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, l1, l2, l3, a1, a2, a3, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on fixe longueur min et max en cm
      let l_min = 2;
      let l_max = 20;
      // on fixe angle min et max en degré
      let a_min = 30;
      let a_max = 100;

      // on crée les triangles
      let triangle_quelconque = new Triangles();
      let triangle_isocele = new Triangles();
      let triangle_equilateral = new Triangles();
      let triangle_rectangle = new Triangles();
      let triangle_isocele_rectangle = new Triangles();

      switch (liste_type_de_questions[i]) {
        case 1: // triangle quelconque par les longueurs sans conversion
          while (!triangle_quelconque.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            l3 = randint(l_min, l_max, [l1, l2]);
            triangle_quelconque.l1 = l1;
            triangle_quelconque.l2 = l2;
            triangle_quelconque.l3 = l3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getLongueurs()[0]
          } $= ${triangle_quelconque.l1}$ cm ; `;
          texte += `${triangle_quelconque.getLongueurs()[1]} $= ${
            triangle_quelconque.l2
          }$ cm et ${triangle_quelconque.getLongueurs()[2]} $= ${
            triangle_quelconque.l3
          }$ cm.`;
          texte_corr = `Les 3 côtés du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;
        case 2: // triangle quelconque par les angles
          while (!triangle_quelconque.isTrueTriangleAngles()) {
            a1 = randint(a_min, a_max);
            a2 = randint(a_min, a_max, a1);
            a3 = randint(a_min, a_max, [a1, a2]);
            triangle_quelconque.a1 = a1;
            triangle_quelconque.a2 = a2;
            triangle_quelconque.a3 = a3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getAngles()[0]
          } $= ${triangle_quelconque.a1}\\degree$ ; `;
          texte += ` ${triangle_quelconque.getAngles()[1]} $= ${
            triangle_quelconque.a2
          }\\degree$ et  ${triangle_quelconque.getAngles()[2]} $= ${
            triangle_quelconque.a3
          }\\degree$ .`;
          texte_corr = `Les 3 angles du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;

        case 3: // triangle isocèle sans conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1}$ cm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `Les longueurs des côtés ${
            triangle_isocele.getCotes()[0]
          } et ${
            triangle_isocele.getCotes()[1]
          } du triangle ${triangle_isocele.getNom()} valent toutes les deux $${
            triangle_isocele.l1
          }$ cm donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 4: // triangle isocèle avec conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `${triangle_isocele.getLongueurs()[0]} $= ${
            triangle_isocele.l1 * 10
          }$ mm $= ${triangle_isocele.l1}$ cm = ${
            triangle_isocele.getLongueurs()[1]
          }, ${triangle_isocele.getNom()} a donc deux côtés égaux, c'est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 5: // triangle équilatéral sans conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2
          }$ cm et ${triangle_equilateral.getLongueurs()[2]} $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr = `Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 6: // triangle équilatéral avec conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm et ${triangle_equilateral.getLongueurs()[2]} $= ${tex_nombre(
            triangle_equilateral.l3 / 10
          )}$ dm.`;
          texte_corr = `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm $= ${triangle_equilateral.l2}$ cm.`;
          texte_corr += `<br> ${
            triangle_equilateral.getLongueurs()[2]
          } $= ${tex_nombre(triangle_equilateral.l3 / 10)}$ dm $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr += `<br> ${triangle_equilateral.getLongueurs()[0]} $= ${
            triangle_equilateral.l1
          }$ cm.`;
          texte_corr += `<br> Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 7: // triangle rectangle pas de conversion necessaire
          triangle_rectangle.l1 = randint(l_min, l_max);
          triangle_rectangle.l2 = randint(l_min, l_max, l1);
          triangle_rectangle.a1 = 90;

          texte = `${triangle_rectangle.getNom()} est un triangle tel que ${
            triangle_rectangle.getLongueurs()[0]
          } $= ${triangle_rectangle.l1}$ cm ; `;
          texte += `${triangle_rectangle.getLongueurs()[1]} $= ${
            triangle_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += ` qui a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_rectangle.getNom()} a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            } donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_rectangle.getAngles()[0]} $= ${
              triangle_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_rectangle.getAngles()[0]
            } du triangle ${triangle_rectangle.getNom()} est un angle droit donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          }

          break;
        case 8: // triangle isocèle rectangle sans conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          }$= ${triangle_isocele_rectangle.l1}$ cm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 9: // triangle isocèle rectangle avec conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          } $= ${triangle_isocele_rectangle.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm`;
          texte += ` et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 10: // triangle isocèle par les angles
          a3 = -1;
          while (a3 < 0) {
            triangle_isocele.a1 = randint(a_min, a_max);
            triangle_isocele.a2 = triangle_isocele.a1;
            a3 = 180 - 2 * triangle_isocele.a1;
            triangle_isocele.a3 = a3;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getAngles()[0]
          } $= ${triangle_isocele.a1}\\degree$ ; `;
          texte += ` ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a2
          }\\degree$ et  ${triangle_isocele.getAngles()[2]} $= ${
            triangle_isocele.a3
          }\\degree$ .`;
          texte_corr = `Le triangle ${triangle_isocele.getNom()} a deux angles égaux, ${
            triangle_isocele.getAngles()[0]
          } = ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a1
          }\\degree$ donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[0]
          }.`;
          break;
        case 11: // triangle équilatéral par les angles
          triangle_equilateral.a1 = 60;
          triangle_equilateral.a2 = 60;
          triangle_equilateral.a3 = 60;

          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getAngles()[0]
          } $= ${triangle_equilateral.a1}\\degree$ ; `;
          texte += ` ${triangle_equilateral.getAngles()[1]} $= ${
            triangle_equilateral.a2
          }\\degree$ et  ${triangle_equilateral.getAngles()[2]} $= ${
            triangle_equilateral.a3
          }\\degree$.`;
          texte_corr = `Le triangle ${triangle_equilateral.getNom()} a trois angles égaux, ${
            triangle_equilateral.getAngles()[0]
          } = ${triangle_equilateral.getAngles()[1]} = ${
            triangle_equilateral.getAngles()[2]
          } $= ${
            triangle_equilateral.a1
          }\\degree$ donc ${triangle_equilateral.getNom()} est un triangle équilateral.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };

  if (this.classe == 6) {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      2,
      "1 : sans conversions de longueurs\n2 : avec conversions de longueurs",
    ];
  }
}

/**
 * @Auteur Jean-Claude Lhote
 * Placer les sommets et les égalités de longueur...
 * Référence 6G20
 */
function Nommer_et_coder_des_polygones() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Nommer et coder des polygones";
  this.consigne =
    "Nommer les figures en fonction de l'énoncé puis ajouter le codage.";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.4
      }

    let params 
    
    let liste = combinaison_listes([1, 2, 3, 4, 5, 6, 7, 8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let pol, polcode, polsom, polnom
      function choisir_polygone(n) { // n compris entre 1 et 8 (1 à 4 pour un triangle, 5 à 8 pour une quadrilatère)
        let A, B, C, D
        let nom = creerNomDePolygone(4, "PQ"), pnom, q, p, pcode, enonce
        switch (n) {
          case 1: // triangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, randint(25, 80), nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est isocèle en $${nom[0]}$.<br>`
            break
          case 2: // triangle équilatéral
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 60, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C, B, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est équilatéral.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 3: // triangle rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = similitude(B, A, 90, randint(30, 100) / 100, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = codageAngleDroit(B, A, C)
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle en $${nom[0]}$.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 4: // triangle rectangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 90, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C), codageAngleDroit(B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle et isocèle en $${nom[0]}$.`
            break
          //on choisit un quadrilatère 
          case 5: // carré
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            q = carre(A, B)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, B, C, C, D, D, A), codageAngleDroit(B, A, D), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un carré.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 6: // rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = similitude(A, B, -90, randint(30, 80) / 100, nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, C, D), codeSegments('|', 'red', C, B, A, D), codageAngleDroit(B, A, C), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un rectangle et $${nom[0] + nom[1]}$ est sa longueur.`
            break
          case 7: // losange
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = rotation(A, B, randint(100, 150), nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('O', 'blue', A, B, B, C, C, D, D, A),codeAngle(C,D,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(C,B,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(B,C,D,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(D,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un losange et [$${nom[0] + nom[2]}$] est sa plus grande diagonale.`
            break
          case 8: // trapèze rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            D = similitude(B, A, 90, randint(30, 80) / 100, nom[3])
            C = translation(D, homothetie(vecteur(A, B), A, randint(30, 80) / 100), nom[2])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codageAngleDroit(B, A, D), codageAngleDroit(C, D, A)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un trapèze rectangle de grande base $${nom[0] + nom[1]}$ de hauteur $${nom[0] + nom[3]}$.`
            break
        }
        return [p, nom, pcode, pnom, enonce]
      }
      [pol, polnom, polcode, polsom, texte] = choisir_polygone(liste[i]);
      if (pol.listePoints.length==4){
      Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)-1)
      Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)-1)
      Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)+1)
      Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)+1)
      }
      else{
        Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)-1)
        Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)-1)
        Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)+1)
        Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)+1)
   
      }
      params = {
        xmin: Xmin,
        ymin: Ymin,
        xmax: Xmax,
        ymax: Ymax,
        pixelsParCm: ppc,
        scale: sc,
      }
      if (this.sup < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
    else g = ''
    if (this.sup == 2) {
      k = 0.8;
      carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
    } else {
      k = 0.5;
      carreaux = "";
    }

      pol.epaisseur=2
      texte += `<br>` + mathalea2d(params, pol, polnom,g,carreaux)
      texte_corr = mathalea2d(params, pol, polnom, polcode, polsom,g,carreaux)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
    pixelsParCm=20
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Représenter une somme de fracions de même dénominateur sur un segment gradué de façon adaptée.
 * @Auteur Jean-Claude Lhote
 * 6N14-2
 */
function Ajouter_des_fractions_d_unite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "mettre bout à bout des segments";
  this.consigne = "";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.3
      }

    let params,den,num=[0,0,0,0],f=[]
    
    let liste = combinaison_listes([5,6,7,8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
      objets=[]
      den=liste[i]
      num[0]=randint(1,den-1)
      num[1]=randint(1,den-1,num[0])
      num[2]=randint(1,den-1,num[1])
      num[3]=randint(1,den-1,[num[2],num[0]])
      for (let j=0;j<4;j++)
        f[j]=fraction(num[j],den)

           
      texte=`On place bout à bout 4 segments de longueurs respectives$ ${f[0].texFraction()}$, $${f[1].texFraction()}$, $${f[2].texFraction()}$ et $${f[3].texFraction()}$.<br>`
      texte+=`Quelle est la longueur du segment obtenu ?`
      texte_corr =`Voici sur ces dessins, coloriés en rouge, les différents segments :<br>`
      for (let j=0;j<4;j++) 
        objets.push(f[j].representation(0,5-j*1.25,5,0,'segment','red',0,1,1))
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 6,
        ymax: 6,
        pixelsParCm: ppc,
        scale: 0.5,
      }
      texte_corr += mathalea2d(params,...objets)
      texte_corr+=`<br>Ce qui donne en les mettant bout à bout :<br>`
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 20,
        ymax: 1,
        pixelsParCm: ppc,
        scale: sc,
      }
      texte_corr+=mathalea2d(params,fraction(num[0]+num[1]+num[2]+num[3],den).representation(0,0,5,0,'segment','red',0,1,0.6))
      texte_corr+=`<br>La longueur du segment ainsi obtenu est : $${fraction(num[0]+num[1]+num[2]+num[3],den).texFraction()}$`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10
 */
function Notation_segment_droite_demi_droite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Notation des droites, segments et demi-droites";
  this.consigne =
    "Compléter les programmes de constructions qui ont permis d'obtenir ces figures.";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(3, "PQ");
      let A = point(0, 0, p[0], "above left");
      let B = point(1, 1.2, p[1], "above");
      let C = point(2.2, -0.3, p[2], "above right");
      let dAB, dAC, dBC, dABCorr, dACCorr, dBCCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, notation;
        switch (randint(1, 4)) {
          case 1:
            trait = droite(A, B);
            notation = `$(${A.nom}${B.nom})$`;
            break;
          case 2:
            trait = demiDroite(A, B);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 3:
            trait = demiDroite(B, A);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 4:
            trait = segment(A, B);
            notation = `$[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, notation];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      [dAC, dACCorr] = creerDroiteDemiSegment(A, C);
      [dBC, dBCCorr] = creerDroiteDemiSegment(B, C);
      let labels = labelPoint(A, B, C);

      texte = `Placer 3 points $${p[0]}$, $${p[1]}$ et $${p[2]}$ non alignés puis tracer... <br><br>`;
      texte += mathalea2d(
        { xmin: -1, ymin: -1, xmax: 3, ymax: 2.5, pixelsParCm: 40, scale: 1 },
        dAB,
        dBC,
        dAC,
        labels
      );
      texte_corr = `...tracer ${dABCorr}, ${dBCCorr}, ${dACCorr}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10-1
 */
function Description_segment_droite_demi_droite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Description et notation des droites, segments et demi-droites";
  this.consigne =
    "Faire une phrase pour décrire le plus précisemment possible la figure et donner sa notation mathématique";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1, 4, choice([2, 3])];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(2, "P");
      let A = point(0, calcul(randint(0, 20) / 10), p[0]);
      let B = point(4, calcul(randint(0, 20) / 10), p[1]);
      let t1 = tracePointSurDroite(A, B);
      let t2 = tracePointSurDroite(B, A);
      let dAB, dABCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, correction;
        switch (liste_type_de_questions[i]) {
          case 1:
            trait = droite(A, B);
            correction = `La droite qui passe par les points $${A.nom}$ et $${B.nom}$ notée $(${A.nom}${B.nom})$.`;
            break;
          case 2:
            trait = demiDroite(A, B);
            correction = `La demi-droite d'origine $${A.nom}$ passant par $${B.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 3:
            trait = demiDroite(B, A);
            correction = `La demi-droite d'origine $${B.nom}$ passant par $${A.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 4:
            trait = segment(A, B);
            correction = `Le segment d'extrémités $${A.nom}$ et $${B.nom}$ noté $[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, correction];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      let labels = labelPoint(A, B);
      texte = mathalea2d(
        { xmin: -2, ymin: -1, xmax: 7, ymax: 3, pixelsParCm: 40, scale: 0.6 },
        dAB,
        t1,
        t2,
        labels
      );
      texte_corr = dABCorr;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Vocabulaire des triangles
 * 6G20-2
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_6e() {
  this.classe = 6;
  Vocabulaire_des_triangles.call(this);
}

/**
 * Vocabulaire des triangles
 * 5G20-1
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_5e() {
  this.classe = 5;
  Vocabulaire_des_triangles.call(this);
}
// Référence 6G21
function Construire_un_triangle_6e() {
  Construire_un_triangle.call(this)
  this.classe=6
}
/**
 * 
 * 
 * Réfrence 6G21 et ... (exercice en 5e ? pas encore fait)
 */
function Construire_un_triangle() {
  "use strict"
  Exercice.call(this)
  this.titre = "Construire un triangle aux instruments";
  this.nb_questions = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []
    this.liste_corrections = []
    let type_de_questions_disponibles,A,B,C,lAB,lBC,lAC,cA,cB,T,dBC,dAB,objets_enonce,objets_correction,params_enonce,params_correction,nom,sommets
    if (this.classe == 6) type_de_questions_disponibles = [1,2]
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6]
    let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles, this.nb_questions)
    for (let i = 0, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt < 50;) {
      objets_enonce=[]
      objets_correction=[]
      texte =`Le triangle ci-dessous a été réalisé à main levée.<br>Construire ce triangle avec les instruments de géométrie en respectant les mesures indiquées.<br>`
      texte_corr=`Voici la construction que tu devais réaliser.<br>`
      nom=creerNomDePolygone(3,"PQ")
      sommets=[]
      for(let i=0;i<3;i++) sommets.push(nom[i])
      sommets=shuffle(sommets)
      A=point(0,0,sommets[0])
      switch (liste_type_de_questions[i]) {
        case 1:
          lAC=randint(35,45)
          lBC=calcul(randint(35,45,lAC)/10)
          lAB=calcul(randint(46,60)/10)
          lAC=calcul(lAC/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          cB=cercle(B,lBC)
          C=pointIntersectionCC(cA,cB,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),traceCompas(B,C,30,'gray',1,2),afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          texte_corr+=`Pour cette construction, nous avons utilisé le compas et la règle graduée.<br>`
          break;

        case 2:
          lAC=randint(70,80)/10
          lAB=calcul(randint(46,60)/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          dAB=droite(A,B)
          dBC=droiteParPointEtPerpendiculaire(B,dAB)
          C=pointIntersectionLC(dBC,cA,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,A),codageAngleDroit(A,B,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),codageAngleDroit(A,B,C),afficheLongueurSegment(B,A),afficheLongueurSegment(C,A))
          texte_corr+=`Pour cette construction, nous avons utilisé la règle graduée, l'équerre et le compas.<br>`
          break

        case 3:

          break
      }
      T=polygoneAvecNom(A,B,C)
      objets_enonce.push(T[0],T[1])
      objets_correction.push(T[0],T[1])
      params_enonce={xmin : Math.min(A.x-1,B.x-1,C.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1),xmax : Math.max(A.x+1,B.x+1,C.x+1),ymax : Math.max(A.y+1,B.y+1,C.y+1),pixelsParCm : 30, scale : 1,mainlevee : true,amplitude : 1}
      params_correction={xmin : Math.min(A.x-1,B.x-1,C.x-2),ymin : Math.min(A.y-1,B.y-1,C.y-2),xmax : Math.max(A.x+1,B.x+1,C.x+2),ymax : Math.max(A.y+1,B.y+1,C.y+2),pixelsParCm : 30, scale : 1}
      texte+=mathalea2d(params_enonce,objets_enonce)
      texte_corr+=mathalea2d(params_correction,objets_correction)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

function Test_main_levee() {
  "use strict";
  Exercice.call(this);

  this.titre = "Test de main levée";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions=[]
    this.liste_corrections=[]
    let A=point(5,5)
    let B=point(10,5)
    let D=point(10,10)
//    let a=codeAngle(B,A,D,4)
    let C=cercleCentrePoint(A,B,'green')
    C.epaisseur=2
    C.opacite=0.5
    let E=cercleCentrePoint(B,A,'red')
    E.epaisseur=2
    E.opacite=0.5
    let s=segment(A,B,'red')
    s.epaisseur=5
    s.opacite=0.4
    pixelsParCm=20
    scale=3
    let cote=afficheCoteSegment(s)
    let crochD=crochetD(B)
    let crochG=crochetG(A)

 //   let m=mediatrice(A,B,'d','purple')
    let cons=constructionMediatrice(A,B,true,'orange','//','O','black',2)

    let texte=mathalea2d({xmin:-1,ymin:0,xmax:16,ymax:11,pixelsParCm:20,scale:3,mainlevee:this.sup,amplitude:1},[cote,crochD,crochG,codeAngle(A,B,-90,3,'||','black',2,1,'yellow',0.5),C,s,E,tracePoint(A,B,D)])
    pixelsParCm=20
    let texte_corr=""
    this.liste_questions.push(texte );
    this.liste_corrections.push(texte_corr );
   liste_de_question_to_contenu(this)  
  }

  this.besoin_formulaire_case_a_cocher = ["main levee"];	
}

/**
 * Exercice du test de positionnement 5e
 * Variantes à venir...
 * @Auteur Jean-Claude Lhote
 * Référence 6G10-2
 */
function Utiliser_le_codage_pour_decrire_6e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=6
}
// 5G30
function Utiliser_le_codage_pour_decrire_5e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=5
}
function Utiliser_le_codage_pour_decrire(){
  "use strict"
  Exercice.call(this);
  this.titre = "Utiliser le codage pour décrire une figure";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc,nom,sommets=[],params_enonce,params_correction,objets_enonce,objets_correction
    let A,B,C,D,E,F,s1,s2,s3,s4,s5,s6,s7,s8,medAC,medBC,dBD,dBC,dAC,dAF
    if (this.classe==6) type_de_questions_disponibles=[1,2,3]
    else type_de_questions_disponibles=[1,2,3,4]
    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce=[]
      objets_correction=[]
      params_enonce={}
      params_correction={}
/*      nom=creerNomDePolygone(6,"PQ")
      for (let i=0;i<6;i++) 
        sommets.push(nom[i])
      sommets=shuffle(sommets)
*/
      sommets.push('A','B','C','D','E','F')
      A=point(0,0,sommets[0],'left')
      switch (liste_type_de_questions[i]){
      case 1 :
      C=pointAdistance(A,randint(5,7),randint(-45,45),sommets[2],'right')
      s2=segment(A,C)
      B=similitude(C,A,-85,randint(5,7)/10,sommets[1],'below')
      s1=segment(A,B)
      E=pointSurSegment(A,hC,longueur(A,C)/2.2,sommets[4],'below')
      medBC=mediatrice(C,B)
      medAC=mediatrice(A,C)
      dBC=droite(C,B)
      dBD=rotation(dBC,B,randint(-40,-20))
      dAC=droite(A,C)
      dAF=rotation(dAC,A,randint(30,40))
      D=pointIntersectionDD(dBD,medBC,sommets[3],'below')
      D.x+=randint(-2,2,0)/5
      F=pointIntersectionDD(dAF,medAC,sommets[5],'above')
      F.x+=randint(-2,2,0)/5
      s5=segment(B,D)
      s6=segment(C,D)
      s3=segment(A,F)
      s7=segment(C,F)
      s8=segment(E,F)
      s4=segment(B,C)
        params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_enonce.push(s1,s2,s4,s8,s7,s3,s6,s5,codageAngleDroit(B,A,C),codeSegments('//','black',A,F,F,C),codeSegments('|||','black',A,E,E,C),codeSegments('O','black',B,D,D,C),labelPoint(A,B,C,D,E,F),codageAngleDroit(A,E,F))
        texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- deux segments de même longueur ;<br>`
        texte+=`- le milieu d'un segment ;<br>`
        texte+=`- un triangle rectangle ;<br>`
        texte+=`- un triangle isocèle ;<br>`
        texte_corr=`- Deux segments de même mesure : [$${sommets[0]+sommets[4]}$] et $[${sommets[4]+sommets[2]}]$ ou $[${sommets[0]+sommets[5]}]$ et $[${sommets[5]+sommets[2]}]$`
        texte_corr+=` ou $[${sommets[1]+sommets[3]}]$ et $[${sommets[3]+sommets[2]}]$.<br>`
        texte_corr+=`- $E$ est le milieu du segment $[${sommets[0]+sommets[2]}]$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[1]+sommets[2]}$ est un triangle rectangle en $${sommets[0]}$, $${sommets[0]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$ et $${sommets[2]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[5]+sommets[2]}$ est un triangle isocèle en $${sommets[5]}$ et $${sommets[1]+sommets[3]+sommets[2]}$ est un triangle isocèle en $${sommets[3]}$.<br>`
        break
        case 2 : 
        B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
        C=similitude(A,B,randint(85,90),0.95,sommets[2],'below')
        D=similitude(B,A,randint(-93,-87),1,sommets[3],'below')
        F=similitude(B,C,-55,0.8,sommets[5],'right')
        E=similitude(C,D,57,randint(85,115)/100,sommets[4],'right')
        s1=segment(D,E)
        s2=segment(C,E)
        s4=segment(C,F)
        s5=segment(B,F)
        s6=polygone(A,B,C,D)
        params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s4,s5,s6)
        objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
        objets_correction.push(codeSegments('||','black',D,E,C,E),codeSegments('O','black',A,B,B,C,C,D,D,A),codeSegments('|||','black',F,C,B,F))
        texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un carré et $${sommets[3]+sommets[2]+sommets[4]}$ est un triangle équilatéral ($${sommets[4]}$ est à l'intérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=` $${sommets[1]+sommets[2]+sommets[5]}$ est un triangle isocèle en $${sommets[5]}$ ($${sommets[5]}$ est à l'extérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
        texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 3:
          B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
          C=similitude(A,B,randint(85,90),0.5,sommets[2],'below')
          D=similitude(B,A,randint(-93,-87),0.53,sommets[3],'below')
          s1=segment(D,B)
          s2=segment(A,C)
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above')
          F=affiniteOrtho(E,droite(B,C),-1.1,sommets[5],'right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(C,F)
          params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
          objets_correction.push(codeSegments('||','black',D,E,E,B,A,E,E,C,F,C,B,F),codeSegments('O','black',A,B,D,C),codeSegments('/','black',A,D,B,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
          texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 4 :
          B=pointAdistance(A,randint(6,7),randint(-30,30),sommets[1],'above right')
          F=similitude(A,B,randint(-70,-50),randint(80,90)/100,sommets[5],'left')
          D=similitude(B,A,angleOriente(A,B,F)+randint (3,5),randint(15,20)/10,sommets[3],'below')
          C=translation2Points(point(B.x+1,B.y+1),A,D,sommets[2],'below right')
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(A,F)
          s1=segment(B,D)
          s2=segment(A,C)
          params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_enonce.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_enonce.push(codeAngle(D,A,B,2,'|','red',2),codeAngle(B,C,D,2,'|','red',2),codeAngle(A,B,F,2,'|','red',2))
          objets_enonce.push(codeAngle(A,B,C,2,'||','blue',2),codeAngle(A,D,C,2,'||','blue',2))
          objets_enonce.push(codeAngle(B,A,F,2,'','green',3),codeAngle(B,F,A,2,'','green',3))
          
          objets_enonce.push(codeSegments('||','black',B,E,E,D),codeSegments('O','black',A,E,E,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- la nature du triangle $${sommets[0]+sommets[1]+sommets[5]}$ ;<br>`
        texte+=`- la nature du quadrilatère $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ ;<br>`
        texte+=`- la nature de l'angle $\\widehat{FBC}$ ;<br>`
          texte_corr=`Le triangle $${sommets[0]+sommets[1]+sommets[5]}$ a deux angles de même mesure, c'est donc un triangle isocèle en $${sommets[1]}$.<br>`
          texte_corr+=`Le quadrilatère  $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ a des diagonales qui se coupent en leur milieu, c'est donc un parallélogramme.<br>`
          texte_corr+=`Dans un parallélogramme, les angles consécutifs sont supplémentaires (leur somme vaut 180°).<br`
          texte_corr+=` D'après le codage, l'angle \\widehat{${sommets[2]+sommets[1]+sommets[5]}$} est la somme de deux angles supplémentaires. C'est donc un angle plat.<br>`
          
         
        break
      }
        if (objets_enonce.length>0) texte+=mathalea2d(params_enonce,objets_enonce)
        if (objets_correction.length>0) texte_corr+=mathalea2d(params_correction,objets_correction)
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
   };
}


/**
 * Fonction générale pour exercices de constructions de parallèles et perpendiculaires
 * références 6G11, 6G12 et 6G12-1
 */
function Parallele_et_Perpendiculaires() {
  "use strict";
  Exercice.call(this);
  this.titre = "Tracer des parallèles et des perpendiculaires";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  type_de_questions_disponibles = [parseInt(this.sup)]; // Le choix 1 ou 2 ou 3 : 1=perpendiculaires, 2=parallèles, 3=des perpendiculaires et des paralèlles
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc;
   
    let A,
      B,
      C,
      D,
      xE,
      E,
      F,
      CC,
      DD,
      EE,
      d,
      s1,
      s2,
      enonce,
      correction,
      dB,
      dC,
      dD,
      dE,
      g,
      lC,
      lD,
      lE,
      cB,
      cC,
      cD,
      cE,
      cF,
      cG,
      FF,
      BB,
      carreaux,
      k,
      objets_enonce = [],
      objets_correction = [],
      
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce.splice(0)
      objets_correction.splice(0)
      if (this.sup2 == 2) 
        k = 0.8;
      else 
        k = 0.5;
      switch (liste_type_de_questions[i]) {
        case 1:
          A = point(0, 0, "A", "above left");
          B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
          d = droite(A, B);
          d.isVisible = true;
          C = point(randint(2, 3), randint(3, 4), "C", "above left");
          D = point(randint(7, 8), randint(-7, -6), "D");
          dB = droiteParPointEtPerpendiculaire(B, d);
          xE = 11;
          E = pointSurDroite(dB, 11, "E", "left");
          while (!Number.isInteger(E.y)) {
            xE++;
            E = pointSurDroite(dB, xE, "E", "left");
          }
          F = point(E.x, B.y);
          s1 = segment(B, F, "red");
          s1.epaisseur = 2;
          s1.pointilles = true;
          s2 = segment(F, E, "blue");
          s2.epaisseur = 2;
          s2.pointilles = true;
          dC = droiteParPointEtPerpendiculaire(C, d);
          dD = droiteParPointEtPerpendiculaire(D, d);
          BB = rotation(A, B, 90);
          CC = pointIntersectionDD(dC, d, "M", "below right");
          DD = pointIntersectionDD(dD, d, "N", "above left");
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          cB = codageAngleDroit(A, B, BB);
          cC = codageAngleDroit(C, CC, B);
          cD = codageAngleDroit(D, DD, B);
          objets_correction.push(s1,
            s2,
            dC,
            dD,
            dB,
            cB,
            cC,
            cD,
            d,
            tracePoint(A, B, C, D, E, CC, DD),
            labelPoint(A, B, C, D, E, CC, DD),
            afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              -0.5,
              "red",
              1,
              -0.5,
              "red"
            )
          );
          objets_enonce.push(
            tracePoint(A, B, C, D),
            labelPoint(A, B, C, D),
            d,
          );
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=
            num_alpha(1) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=
            num_alpha(2) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nommer $M$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(3) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $D$ et nommer $N$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(4) +
            ` Mesurer ensuite les distances $AM$ et $AN$.<br> Pour l'auto-correction comparer ces mesures avec celles données dans la correction<br>`;
               correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm et $AN \\approx ${tex_nombre(lD)}$ cm.<br>`;
          correction += `Pour la perpendiculaire en $B$, contrôle la position du point $E$.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)+1)
          break;
        case 2:
          A = point(2, 0, "A",'below left');
          B = point(12, randint(-4, 4, 0), "B");
          d = droite(A, B);
          d.isVisible = true;
          C = point(0, randint(3, 4), "C",'above');
          D = point(randint(7, 8), randint(-7, -6), "D",'below right');
          E = point(randint(4, 5), randint(5,6), "E",'below right');
          F = point(2, -3, "F", "left");
 
          dE = droiteParPointEtParallele(E, d);
          dC = droiteParPointEtParallele(C, d);
          dD = droiteParPointEtParallele(D, d);
          p = droite(A, F);
          p.isVisible = true;
          CC = pointIntersectionDD(dC, p,'M','above left');
          DD = pointIntersectionDD(dD, p,'N','above left');
          EE = pointIntersectionDD(dE, p,'O','above left');
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          lE = arrondi(longueur(EE, A) * k, 1);
          objets_correction.push(dC,dD,dE,d,p,tracePoint(A, B, C, D, E,F),labelPoint(A, B, C, D, E,F,CC,DD,EE),afficheCoteSegment(segment(A,CC),`${tex_nombre(lC)} cm`,.2,'red',1,0.5,'red'),afficheCoteSegment(segment(DD,A),`${tex_nombre(lD)} cm`,-0.2,'green',1,-0.5,'green'),afficheCoteSegment(segment(A,EE),`${tex_nombre(lE)} cm`,-0.2,'blue',1,-0.5,'blue'))
          objets_enonce.push(tracePoint(A, B, C, D,E,F),labelPoint(A, B, C, D,E,F),d,p);
        
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=num_alpha(1)+` Tracer la droite parallèle à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce += num_alpha(4)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)
          break;
          case 3:
            A = point(0, 0, "A", "above left");
            B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
            d = droite(A, B);
            d.isVisible = true;
            C = point(randint(2, 3), randint(3, 4), "C", "above left");
            D = point(randint(7, 8), randint(-7, -6), "D");
            dB = droiteParPointEtPerpendiculaire(B, d);
            xE = 11;
            E = pointSurDroite(dB, 11, "E", "left");
            while (!Number.isInteger(E.y)) {
              xE++;
              E = pointSurDroite(dB, xE, "E", "left");
            }
            F = point(E.x, B.y);
            dE = droiteParPointEtParallele(E, d);
            dD = droiteParPointEtParallele(D, d);
            dC = droiteParPointEtPerpendiculaire(C,d)
            BB = rotation(A, B, 90);
            CC = pointIntersectionDD(dC, d, "M", "below right");
            DD = pointIntersectionDD(dD, dB, "N", "above left");
            EE = pointIntersectionDD(dC,dE ,'O','above left');
            FF = pointIntersectionDD(dD,dC)

            lC = arrondi(longueur(CC, A) * k, 1);
            lD = arrondi(longueur(DD, A) * k, 1);
            lE = arrondi(longueur(EE, A) * k, 1);
            cB = codageAngleDroit(A, B, BB);
            cC = codageAngleDroit(C, CC, B);
            cD = codageAngleDroit(D, DD, B,'red');
            cE = codageAngleDroit(B,E,EE,'red')
            cF = codageAngleDroit(C,EE,E,'red')
            cG = codageAngleDroit(C,FF,D,'red')

            objets_correction.push(dC,dD,dB,dE,cB,cC,cD,cE,cF,cG,d,tracePoint(A, B, C, D, E, CC, DD,EE),labelPoint(A, B, C, D, E, CC, DD,EE),afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              0,
              "blue",
              1,
              -0.5,
              "blue"
            ),
            afficheCoteSegment(
              segment(A, EE),
              `${tex_nombre(lE)} cm`,
              0,
              "green",
              1,
              -0.5,
              "green"
            ));
            objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
            if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
            else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
             enonce +=num_alpha(1)+` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AB)$.<br>`
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(BE)$.<br>`;
          enonce += num_alpha(4)+ ` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(CM)$.<br>`
          enonce += num_alpha(5)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          correction+=`Les angle droits en rouge se justifient par la propriété :<br> ${texte_en_couleur(`Si deux droites sont parallèles, toutes droite perpendiculaire à l'une est aussi perpendiculaire à l'autre`,'red')}.<br>`
          correction +=`Vérifier les angles droits à l'équerre.<br>`
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)

          break
      }
      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.8;
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
      } else {
        sc = 0.5;
        carreaux = "";
      }
      objets_enonce.push(g,carreaux)
      objets_correction.push(g,carreaux)
      
      enonce += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
       objets_enonce
      );
      correction += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
        objets_correction
      );
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}


/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue
 * * 6P11-1
 * @author Sébastien Lozano
 */
function Proportionnalite_par_linearite_bis(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème relevant de la proportionnalité avec les propriétés de linéarité.";
  this.consigne = "";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1;
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles=[1];			
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// une fonction pour gérer le pluriel 
			function pluriel(n,obj) {
				if (n>1) {
					return obj.achat_plur
				} else {
					return obj.achat_sing
				};
			};
			
			// une fonction pour gérer la chaine de sortie et supprimer le coeff 1 !
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
      };
      
      //une fonction pour calculer la différence positive entre deux entiers
      function diffInt(n,p) {
        if (n>p) {
          return calcul(n-p);
        } else if (n<p) {
          return calcul(p-n);
        } else {
          return 0;
        }
      };

      // un compteur pour les sous-questions
      let k=0;
      let k_corr=0;
      // on crée un tableau d'objets pour les situations possibles
      let n1,n2,n3,n4,n_max;
      do {
        n1 = randint(1,9);
        n2 = randint(1,9,[n1]);
        n3 = n1+n2;
        n4 = diffInt(n1,n2);
        n_max=randint(10,19,[n3]);
      }	while (n4==1);
      //n1 sera toujours le plus grand sinon on intervertit les deux
      let temp;
      if (n1<n2) {
        temp = n1;
        n1 = n2;
        n2 = temp;
      };	
			let situations = [
        {lieu:`la boulangerie "Au bon pain"`,achat_sing:`pain au chocolat`,achat_plur:`pains au chocolat`,prenom1:prenom(),prenom2:prenom(),prenom3:prenom(),prenom4:prenom(),prenom_max:prenom(),n1:n1,n2:n2,n3:n3,n4:n4,n_max:n_max,pu:0.9}
			]
			let enonces = [];
      let situation = situations[randint(0,situations.length-1)];
      
			enonces.push({
        enonce:`
          Dans ${situation.lieu}, ${situation.prenom1} achète $${situation.n1}$ ${pluriel(situation.n1,situation)} et paie $${tex_prix(situation.pu*situation.n1)}$ €.
          <br>${situation.prenom2} achète $${situation.n2}$ ${pluriel(situation.n2,situation)} et paie $${tex_prix(situation.pu*situation.n2)}$ €.
          <br>
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom3} pour $${situation.n3}$ ${pluriel(situation.n3,situation)} ?
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom4} pour $${situation.n4}$ ${pluriel(situation.n4,situation)} ?
          <br>${num_alpha(k++)} Quel est le nombre maximum de ${situation.achat_plur} que ${situation.prenom_max} peut acheter avec $${tex_prix(situation.pu*situation.n_max)}$ € ?
          `,
				question:``,
        correction:`
        C'est une situation de proportionnalité. Nous pouvons donc utiliser les propriétés de linéarité de la proportionnalité.
        <br>C'est ce que nous allons faire pour les deux premières questions.
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}+${situation.n2}$ ${pluriel(situation.n3,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € + $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom3} paiera donc $${tex_prix(situation.pu*situation.n3)}$ € pour $${situation.n3}$ ${pluriel(situation.n3,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}-${situation.n2}$ ${pluriel(situation.n4,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € - $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom4} paiera donc $${tex_prix(situation.pu*situation.n4)}$ € pour $${situation.n4}$ ${pluriel(situation.n4,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} On peut utiliser l'une ou l'autre des informations de l'énoncé pour répondre en revenant à l'unité.
        <br> Par exemple pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Donc $1$ ${situation.achat_sing} coûte $${tex_prix(situation.pu*situation.n1)}\\div ${situation.n1} = ${tex_prix(situation.pu)}$ €.
        <br> Pour $${tex_prix(situation.pu*situation.n_max)}$ € nous aurons donc $${tex_prix(situation.pu*situation.n_max)}\\div ${tex_prix(situation.pu)}$ € $= ${situation.n_max}$ ${pluriel(situation.n_max,situation)}.
        <br> ${texte_en_couleur(`Avec $${tex_prix(situation.pu*situation.n_max)}$ €, ${situation.prenom_max} pourra donc acheter $${situation.n_max}$ ${pluriel(situation.n_max,situation)}.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6G23-2
 */
function Tracer_triangle_2_angles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer un triangle dont on connait une longueur et 2 angles";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let c = calcul(randint(30, 70) / 10);
      let angle1 = randint(20, 70);
      let angle2 = randint(20, 70);
      let p = creerNomDePolygone(3);
      texte = `Tracer un triangle $${p}$ tel que $${p[0] + p[1]}=${tex_nombre(
        c
      )}$ cm, $\\widehat{${
        p[1] + p[0] + p[2]
      }}=${angle1}\\degree$ et $\\widehat{${
        p[0] + p[1] + p[2]
      }}=${angle2}\\degree$.`;
      texte += `<br> Mesurer $${p[0] + p[2]}$ et $${p[1] + p[2]}$.`;
      let A0 = point(0, 0, p[0], "left");
      let B0 = point(c, 0, p[1], "right");
      let s0 = segmentAvecExtremites(A0, B0);
      let t1 = afficheLongueurSegment(B0, A0);

      let A1 = point(B0.x + 4, 0, p[0], "left");
      let B1 = point(A1.x + c, 0, p[1], "right");
      let s1 = segment(A1, B1);
      s1.styleExtremites = "-|";
      let c1 = rotation(B1, A1, angle1);
      let C1 = pointSurSegment(c1, A1, -3);
      let s2 = segment(A1, C1);
      let t2 = afficheMesureAngle(B1, A1, C1);

      let A2 = point(B1.x + 4, 0, p[0], "left");
      let B2 = point(A2.x + c, 0, p[1], "right");
      let s3 = segment(A2, B2);
      let c2 = rotation(B2, A2, angle1);
      let C2 = pointSurSegment(c2, A2, -3);
      let s4 = segment(A2, C2);
      let c3 = rotation(A2, B2, -angle2);
      let C3 = pointSurSegment(c3, B2, -3);
      let t3 = afficheMesureAngle(A2, B2, C3);
      let s5 = segment(B2, C3);
      let d1 = droite(A2, C2);
      d1.isVisible = false;
      let d2 = droite(B2, C3);
      d2.isVisible = false;
      let C = pointIntersectionDD(d1, d2, p[2]);
      let l = labelPoint(A0, B0, A1, B1, A2, B2, C);

      if (sortie_html) {
        texte_corr = mathalea2d(
          { xmin: -1, xmax: 3 * c + 10, ymin: -1, ymax: 10 },
          s0,
          s1,
          s2,
          s3,
          s4,
          s5,
          t1,
          t2,
          t3,
          l
        );
        texte_corr += '<br><br>'
      } else {
        texte_corr = "";
      }
      texte_corr += `$${p[0] + p[2]}\\approx${tex_nombre(
        longueur(A2, C, 1)
      )}$ cm et $${p[1] + p[2]}\\approx${tex_nombre(longueur(B2, C, 1))}$ cm.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * fonction servant à plusieurs exercice autour du cube et du pavé droit
 * références : 6G42 et 6G43
 * @Auteur Jean-Claude Lhote
 */
function Solide_6e() {
  "use strict";
  Exercice.call(this);
  this.titre = "Connaître les propriétés du cube et du pavé droit";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  if (this.sup==3) type_de_questions_disponibles=[1,2]
 else type_de_questions_disponibles = [parseInt(this.sup)]; 
 if (this.titre=="Utiliser le vocabulaire associé au pavé droit") 
    for (let n=0;n<type_de_questions_disponibles.length;n++)
      type_de_questions_disponibles[n]+=2
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc;
 
    if (this.sup2 == 1) sc = 0.5;
    else sc = 0.8;

    let A,B,C,D,E,F,G,H,
      AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,
      lAB,lBC,lAE,anglepersp,coeffpersp,
      codesseg=[],
      enonce,
      correction,
      carreaux,g,
      objets_enonce = [],
      objets_correction = [],
     k,
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
     let nom = creerNomDePolygone(8, "PQ"),
     anglepersp=choice([30,45,-30,-45,150,135,-150,-135])
      if (anglepersp%10==0) coeffpersp=0.6
      else coeffpersp=0.4
      objets_correction=[]
      objets_enonce=[]
      switch (liste_type_de_questions[i]) {
        case 1: //cube
          enonce=`${nom} est un cube.<br>`
          if (sortie_html) enonce +=` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le cube ${nom}.<br>`

          break;
        case 2:

          enonce=`${nom} est un pavé droit.<br>`
          if (sortie_html) enonce += ` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le pavé droit ${nom}.<br>`

           break;
        case 3 :
          enonce=`${nom} est un cube.<br>`
          break;
 
        case 4 :
          enonce=`${nom} est un pavé droit.<br>`
          break;
      }
      let aretes_paralleles=[[[0,1],[3,2],[4,5],[7,6]],[[0,3],[1,2],[4,7],[5,6]],[[0,4],[1,5],[2,6],[3,7]]]
      let faces_paralleles=[[[0,1,2,3],[4,5,6,7]],[[0,4,7,3],[1,5,6,2]],[[0,1,5,4],[3,2,6,7]]]
      let aretes_perp=[[[0,1],[0,4],[0,3],[1,5],[1,2]],[[0,4],[0,1],[0,3],[4,5],[4,7]],[[0,3],[0,1],[0,4],[3,2],[3,7]],[[1,2],[1,0],[1,5],[2,3],[2,6]],[[1,5],[1,0],[1,2],
      [5,4],[5,6]],[[5,4],[5,1],[5,6],[4,0],[4,7]],[[5,6],[5,1],[5,4],[6,2],[6,7]]
      ,[[6,2],[6,5],[6,7],[2,1],[2,3]],[[2,3],[2,1],[2,6],[3,0],[3,7]],[[3,7],[3,2],[3,0],[7,4],[7,6]],[[7,4],[4,0],[4,5],[7,3],[7,6]],[[7,6],[6,2],[6,5],[7,3],[7,4]]]
      let faces_perp=[[[0,1,2,3],[1,5,6,2],[2,6,7,3],[3,7,4,0],[0,1,5,4]],[[1,5,6,2],[0,1,2,3],[2,6,7,3],[5,6,7,4],[1,5,4,0]],[[0,1,5,4],[1,5,6,2],[4,5,6,7],[0,4,7,3],[0,1,2,3]],
      [[4,5,6,7],[0,1,5,4],[1,5,6,2],[2,6,7,3],[0,4,7,3]],[[0,4,7,3],[0,1,2,3],[0,1,5,4],[4,5,6,7],[3,2,6,7]],[[3,2,6,7],[0,1,2,3],[1,5,6,2],[4,5,6,7],[0,4,7,3]]]
      let k,l,s
      switch (randint(1,4)) {
        case 1 : // citer les arêtes parallèles à une arrête donnée
        [k,l,s]=[randint(0,2),randint(0,3),randint(0,1)]
          enonce+=`Citer toutes les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$].<br>`
        correction = `Les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$] sont [$${nom[aretes_paralleles[k][(l+1)%4][s]]+nom[aretes_paralleles[k][(l+1)%4][(s+1)%2]]}$], [$${nom[aretes_paralleles[k][(l+2)%4][s]]+nom[aretes_paralleles[k][(l+2)%4][(s+1)%2]]}$] et [$${nom[aretes_paralleles[k][(l+3)%4][s]]+nom[aretes_paralleles[k][(l+3)%4][(s+1)%2]]}$].<br>`
      break;
      case 2: // coter la face parallèle à une face donnée
       [k,l,s]=[randint(0,2),randint(0,1),randint(0,3)]
       enonce+=`Quelle est la face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ ?<br>`
       correction = `La face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ est la face $${nom[faces_paralleles[k][(l+1)%2][s]]+nom[faces_paralleles[k][(l+1)%2][(s+1)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+2)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+3)%4]]}$.<br>`
      break;
      case 3: // citer les arêtes perpendiculaires à une arête donnée
        [k,l,s]=[randint(0,11),0,randint(0,1)]
        enonce+=`Quelles sont les arêtes peprendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] ?<br>`
        correction = `Les arêtes perpendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] sont [$${nom[aretes_perp[k][1][s]]+nom[aretes_perp[k][1][(s+1)%2]]}$], [$${nom[aretes_perp[k][2][s]]+nom[aretes_perp[k][2][(s+1)%2]]}$], [$${nom[aretes_perp[k][3][s]]+nom[aretes_perp[k][3][(s+1)%2]]}$] et [$${nom[aretes_perp[k][4][s]]+nom[aretes_perp[k][4][(s+1)%2]]}$].`
      break;
      case 4 : // citer les faces perpendiculaires à une face donnée
        [k,l,s]=[randint(0,5),0,randint(0,3)]
        enonce+=`Quelles sont les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ ?<br>` 
        correction =`Les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ `
        correction +=`sont les faces $${nom[faces_perp[k][l+1][s]]+nom[faces_perp[k][l+1][(s+1)%4]]+nom[faces_perp[k][l+1][(s+2)%4]]+nom[faces_perp[k][l+1][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+2][s]]+nom[faces_perp[k][l+2][(s+1)%4]]+nom[faces_perp[k][l+2][(s+2)%4]]+nom[faces_perp[k][l+2][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+3][s]]+nom[faces_perp[k][l+3][(s+1)%4]]+nom[faces_perp[k][l+3][(s+2)%4]]+nom[faces_perp[k][l+3][(s+3)%4]]}$ et `
        correction+=`$${nom[faces_perp[k][l+4][s]]+nom[faces_perp[k][l+4][(s+1)%4]]+nom[faces_perp[k][l+4][(s+2)%4]]+nom[faces_perp[k][l+4][(s+3)%4]]}$.`
    
        break;
      }

        switch (liste_type_de_questions[i]%2) {
          case 1 :
      A = point(6, 0, nom[0], "left");
      B = point(11, 0, nom[1], "right");
      C = point(11,5, nom[2], "right");
      D = point(6,5, nom[3],"left");
      p=polygone(A,B,C,D)
      E = similitude(B,A,anglepersp,coeffpersp,nom[4],'left')
      E.x=Math.round(E.x)
      E.y=Math.round(E.y)
          break;
          case 0:
            A = point(5, 0, nom[0], "left");
            B = point(9+randint(1,3), 0, nom[1], "right");
            C = point(B.x,randint(3,7), nom[2], "right");
            D = point(A.x,C.y, nom[3],"left");
            p=polygone(A,B,C,D)
            E = similitude(B,A,anglepersp,coeffpersp*randint(5,12)/10,nom[4],'left')
            E.x=Math.round(E.x)
            E.y=Math.round(E.y)
            break ;
        }  
      p=polygone(A,B,C,D)
      F = translation2Points(E,A,B,nom[5],'right')
      G = translation2Points(F,B,C,nom[6],'right')
      H = translation2Points(G,C,D,nom[7],'left')
      AB=segment(A,B)
      BC=segment(B,C)
      CD=segment(C,D)
      DA=segment(D,A)
      EF=segment(E,F)
      FG=segment(F,G)
      GH=segment(G,H)
      HE=segment(H,E)
      AE=segment(A,E)
      BF=segment(B,F)
      CG=segment(C,G)
      DH=segment(D,H)
      AB.epaisseur=2
      BC.epaisseur=2
      CD.epaisseur=2
      DA.epaisseur=2
      EF.epaisseur=2
      FG.epaisseur=2
      GH.epaisseur=2
      HE.epaisseur=2
      AE.epaisseur=2
      BF.epaisseur=2
      CG.epaisseur=2
      DH.epaisseur=2
      AB.color='black'
      BC.color='black'
      CD.color='black'
      DA.color='black'
      EF.color='black'
      FG.color='black'
      GH.color='black'
      HE.color='black'
      AE.color='black'
      BF.color='black'
      CG.color='black'
      DH.color='black'
      if (G.y<C.y&&G.x<C.x) {
        CG.pointilles=true
        CG.color='gray'
        CG.opacite=0.7
        GH.pointilles=true
        GH.color='gray'
        GH.opacite=0.7
        FG.pointilles=true
        FG.color='gray'
        FG.opacite=0.7
      }
      else if (E.y>A.y&&E.x>A.x) {
        AE.pointilles=true
        EF.pointilles=true
        HE.pointilles=true
        AE.color='gray'
        EF.color='gray'
        HE.color='gray'
        AE.opacite=0.7
        EF.opacite=0.7
        HE.opacite=0.7
      }
      else if (F.x<B.x&&F.y>B.y) {
        BF.pointilles=true
        FG.pointilles=true
        EF.pointilles=true
        BF.color='gray'
        FG.color='gray'
        EF.color='gray'
        BF.opacite=0.7
        FG.opacite=0.7
        EF.opacite=0.7
      }
      else if (H.x>D.x&&H.y<D.y) {
        DH.pointilles=true
        GH.pointilles=true
        HE.pointilles=true
        DH.color='gray'
        GH.color='gray'
        HE.color='gray'
        DH.opacite=0.7
        GH.opacite=0.7
        HE.opacite=0.7
      }
      Xmin = Math.min(A.x,E.x)-1;
      Ymin = Math.min(A.y,E.y)-1;
      Xmax = Math.max(B.x,F.x)+2;
      Ymax = Math.max(D.y,H.y)+1;
      ppc = 20;

      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
        sc=0.8
      }
      else {
        carreaux = "";
        sc=0.5
      }
      objets_enonce.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),p,
        g,
        carreaux
      );
     
    let  params = {
      xmin: Xmin,
      ymin: Ymin,
      xmax: Xmax,
      ymax: Ymax,
      pixelsParCm: ppc,
      scale: sc,
    }
  
   
        enonce += mathalea2d(params, objets_enonce);
      if (liste_type_de_questions[i]==1) {
        codesseg=[codeSegments('||','green',[A,B,C,D,A,E,F,G,H,E]),codeSegments('||','green',B,F,C,G,D,H)]
        AB.color='green'
        BC.color='green'
        CD.color='green'
        DA.color='green'
        EF.color='green'
        FG.color='green'
        GH.color='green'
        HE.color='green'
        AE.color='green'
        BF.color='green'
        CG.color='green'
        DH.color='green'
      }
      else {
        codesseg=[codeSegments('||','green',A,B,C,D,E,F,G,H),codeSegments('O','red',A,E,B,F,C,G,D,H),codeSegments('×','blue',D,A,B,C,F,G,H,E)]
        AB.color='green'
        BC.color='blue'
        CD.color='green'
        DA.color='blue'
        EF.color='green'
        FG.color='blue'
        GH.color='green'
        HE.color='blue'
        AE.color='red'
        BF.color='red'
        CG.color='red'
        DH.color='red'
      }
    objets_correction.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),
        g,
        carreaux
      );
      if (liste_type_de_questions[i]<3) correction += mathalea2d(params, objets_correction,codesseg);
    
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type de solides', 3, `1 : Cubes\n 2 : Pavés droits\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/** 
 * * Calculer le produit de deux décimaux à partir d'un produit de deux entiers
 * * 6C30-2
 * @author Sébastien Lozano
 */

function Produit_de_decimaux_a_partir_d_un_produit_connu(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Calculer le produit de deux décimaux connaissant le produit de deux entiers";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      // pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> (d1u1xp1)xd2u2
          d1:randint(1,9),
          u1:randint(1,9),
          d2:randint(1,9),
          u2:randint(1,9),
          p1:randint(-3,3,[0]),
          p2:randint(-3,3,[0]),
				},	
			];      
			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)} =  ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1))}$
					`
        });
        enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p2))}$
					`
				});
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1)*calcul(10**situations[0].p2))}$
					`
				});

			//};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
     			break;	
     		case 1 : 
          texte = `${enonces[1].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[1].correction}`;
          };
          break;
     		case 2 : 
          texte = `${enonces[2].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[2].correction}`;
          };
          break;							
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};


/** 
 * * Encadrer_un_decimal_par_deux_entiers_consecutifs
 * * 6N31-1
 * @author Sébastien Lozano
 */

function Encadrer_un_decimal_par_deux_entiers_consecutifs(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Encadrer un décimal par deux entiers consécutifs";	
	this.consigne = `Encadrer chaque nombre proposé par deux nombres entiers consécutifs.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let m=randint(1,9),
      c=randint(1,9),
      d=randint(1,9),
      u=randint(1,9),
      di=randint(1,9),
      ci=randint(1,9),
      mi=randint(1,9);

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
				},		
			];

			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});

        //};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
        	break;				
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};

/** 
 * * Ordre de grandeur d'une opération entre décimaux
 * * 6N31-2
 * @author Sébastien Lozano
 */

function Ordre_de_grandeur_operations_decimaux(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Ordre de grandeur et opérations sur les décimaux";	
	this.consigne = `Pour chaque opération proposée dans la première colonne, cocher la case correspondant à l'ordre de grandeur du résultat.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0]);
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      let ligne_entete = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];
      let ligne_entete_corr = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];

      let m=randint(1,9,[4,5,6]),
      c=randint(1,9),
      c1=randint(1,9),
      c2=randint(1,9),
      c3=randint(1,9,[4,5,6]),
      c4=randint(1,4),
      d=randint(1,9),
      d1=randint(1,9),
      d2=randint(1,9),
      d3=randint(1,9),
      u=randint(1,9),
      u1=randint(1,9),
      u2=randint(1,9),
      u3=randint(1,9);

      let cbis,d1bis;
      do {
        cbis = randint(2,9);
        d1bis = randint(2,9);
      } while (cbis*d1bis>3 && cbis*d1bis<7);

      let div_aleatoire_ope_3 = choice([10,100]);
      let div_aleatoire_ope_5 = choice([1,10,100,1000]);
      let mult_aleatoire_ope_4 = choice([0.1,0.01,0.001]);

      // une fonction pour ordre de grandeur en fonction de ... opération 1
      function myOrdreOpe1(c,d) {
        if (c*d>=60) {
          return ['','','','','',mise_en_evidence(`X`)]; 
        } else {
          return ['','','','',mise_en_evidence(`X`),'']; 
        };
      };
      
      // une fonction pour ordre de grandeur en fonction de ... opération 2
      function myOrdreOpe2(c1,c2) {
        if (c1+c2/10>=600) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 3
      function myOrdreOpe3(n) {
        if (n>=7) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 4
      function myOrdreOpe4(d,n) {
        let sortie;
        switch (d) {
          case 0.1:
            if (n>=7) {
              sortie = ['','','',mise_en_evidence(`X`),'',''];
            } else {
              sortie = ['','',mise_en_evidence(`X`),'','',''];
            };            
            break;
          case 0.01: 
            if (n>=7) {
              sortie = ['','',mise_en_evidence(`X`),'','',''];              
            } else {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            };            
            break;
          case 0.001: 
            if (n>=7) {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            } else {
              sortie = [mise_en_evidence(`X`),'','','','',''];
            };       
            break;            
        }
        return sortie;
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 5
      function myOrdreOpe5(mult) {
        let sortie;
        switch (mult) {
          case 1:
            return sortie = ['','','',mise_en_evidence(`X`),'','']; 
            break;
          case 10:
            return sortie = ['','',mise_en_evidence(`X`),'','','']; 
            break;
          case 100:
            return sortie = ['',mise_en_evidence(`X`),'','','','']; 
            break;
          case 1000:
            return sortie = [mise_en_evidence(`X`),'','','','','']; 
            break;        
        };
        return sortie;
      };

      let situations = [
        {
          operation:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1}`,
          operation_corr:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1} \\simeq  ${(cbis*100)}\\times ${(d1bis*10)} \\text{ soit } ${tex_nombre((cbis*100)*(d1bis*10))}`,
          operation_coche:myOrdreOpe1(cbis,d1bis),
        },
        {
          operation:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1}`,
          operation_corr:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1} \\simeq ${c2*100/10}+${c1*100} \\text{ soit } ${c2*100/10 + c1*100}`,
          operation_coche:myOrdreOpe2(c1*100,c2*100),
        },
        {
          operation:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)}`,
          operation_corr:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)} \\simeq ${c3*100+d3*10}-${tex_nombre((c2*100)/div_aleatoire_ope_3)} \\text{ soit } ${c3*100+d3*10-(c2*100)/div_aleatoire_ope_3}`,
          operation_coche:myOrdreOpe3(c3),
        },
        {
          operation:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)}`,
          operation_corr:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\simeq ${tex_nombre(m*1000)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\text{ soit } ${tex_nombre(m*1000*mult_aleatoire_ope_4)}`,
          operation_coche:myOrdreOpe4(mult_aleatoire_ope_4,m),
        },
        {
          operation:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m}`,
          operation_corr:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m} \\simeq ${tex_nombre((m*1000)/div_aleatoire_ope_5)}\\div ${m} \\text{ soit } ${tex_nombre((m*1000)/div_aleatoire_ope_5/m)}`,
          operation_coche:myOrdreOpe5(div_aleatoire_ope_5),
        },

      ];

      situations = shuffle(situations);
            
			let enonces = [];
			for (let k=0;k<1;k++) {
				enonces.push({
          enonce:`
          ${tab_C_L(ligne_entete,[situations[0].operation,situations[1].operation,situations[2].operation,situations[3].operation,situations[4].operation],
          [            
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
          ]
          )}
          `,
          question:``,
          correction:`
          Commençons par calculer un ordre de grandeur du résultat de chaque opération dans la première colonne du tableau.
          <br>
          ${tab_C_L(ligne_entete_corr,[situations[0].operation_corr,situations[1].operation_corr,situations[2].operation_corr,situations[3].operation_corr,situations[4].operation_corr,],
          [            
            situations[0].operation_coche[0],situations[0].operation_coche[1],situations[0].operation_coche[2],situations[0].operation_coche[3],situations[0].operation_coche[4],situations[0].operation_coche[5],
            situations[1].operation_coche[0],situations[1].operation_coche[1],situations[1].operation_coche[2],situations[1].operation_coche[3],situations[1].operation_coche[4],situations[1].operation_coche[5],
            situations[2].operation_coche[0],situations[2].operation_coche[1],situations[2].operation_coche[2],situations[2].operation_coche[3],situations[2].operation_coche[4],situations[2].operation_coche[5],
            situations[3].operation_coche[0],situations[3].operation_coche[1],situations[3].operation_coche[2],situations[3].operation_coche[3],situations[3].operation_coche[4],situations[3].operation_coche[5],
            situations[4].operation_coche[0],situations[4].operation_coche[1],situations[4].operation_coche[2],situations[4].operation_coche[3],situations[4].operation_coche[4],situations[4].operation_coche[5],
          ]
          )}				
          `
          });
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
};

/** 
 * * Donner le chiffre des ... le nombre de ...
 * * 6N10-3
 * @author Sébastien Lozano
 */

function chiffre_nombre_de(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 6;
	};	

	this.titre = "Chiffre des ... Nombre de ...";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = shuffle([0,1,2,3,4,5]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let u,d,c,mu,md,mc,mmu,mmd,mmc;
      mmc = randint(0,9,[0]);
      mmd = randint(0,9,[mmc]);
      mmu = randint(0,9,[mmc,mmd]);
      mc = randint(0,9,[mmu,mmd,mmc]);
      md = randint(0,9,[mmu,mmd,mmc,mc]);
      mu = randint(0,9,[mmu,mmd,mmc,mc,md]);
      c = randint(0,9,[mmu,mmd,mmc,mu,md,mc]);
      d = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c]);
      u = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c,d]);
      //let nb = randint(100000000,999999999);
      //let nb_str = nb.toString();
      let nb_str = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
      let nb = Number(nb_str);
      let tranches = ['unites','milliers','millions'];
      let cdu = ['unites','dizaines','centaines'];
      let chiffre_nombre = {
        chiffre:{
          unites:{
            unites:{determinant:`des`,cdu:['unités',''],rangs:[8]},
            dizaines:{determinant:`des`,cdu:['dizaines',''],rangs:[7]},
            centaines:{determinant:`des`,cdu:['centaines',''],rangs:[6]},
          },
          milliers:{
            unites:{determinant:`des`,cdu:['unités de milliers',''],rangs:[5]},
            dizaines:{determinant:`des`,cdu:['dizaines de milliers',''],rangs:[4]},
            centaines:{determinant:`des`,cdu:['centaines de milliers',''],rangs:[3]},
          },
          millions:{
            unites:{determinant:`des`,cdu:['unités de millions',''],rangs:[2]},
            dizaines:{determinant:`des`,cdu:['dizaines de millions',''],rangs:[1]},
            centaines:{determinant:`des`,cdu:['centaines de millions',''],rangs:[0]},
          },  
        },
        nombre:{
          unites:{
            unites:{determinant:`d'`,cdu:['unités',1],rangs:[0,1,2,3,4,5,6,7,8]},
            dizaines:{determinant:`de`,cdu:['dizaines',10],rangs:[0,1,2,3,4,5,6,7]},
            centaines:{determinant:`de`,cdu:['centaines',100],rangs:[0,1,2,3,4,5,6]},
          },
          milliers:{
            unites:{determinant:`d'`,cdu:['unités de milliers',1000],rangs:[0,1,2,3,4,5]},
            dizaines:{determinant:`de`,cdu:['dizaines de milliers',10000],rangs:[0,1,2,3,4]},
            centaines:{determinant:`de`,cdu:['centaines de milliers',100000],rangs:[0,1,2,3]},
          },
          millions:{
            unites:{determinant:`d'`,cdu:['unités de millions',1000000],rangs:[0,1,2]},
            dizaines:{determinant:`de`,cdu:['dizaines de millions',10000000],rangs:[0,1]},
            centaines:{determinant:`de`,cdu:['centaines de millions',100000000],rangs:[0]},
          },
        },
      };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> chiffre des
          type:'chiffre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 1 --> chiffre des
          type:'chiffre',
          tranche:'milliers',
          cdu:choice(cdu),              
				},
        {//case 2 --> chiffre des
          type:'chiffre',
          tranche:'millions',
          cdu:choice(cdu),                  
				},
        {//case 3 --> nombre de
          type:'nombre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 4 --> nombre de
          type:'nombre',
          tranche:'milliers',
          cdu:choice(cdu),         
        },
        {//case 5 --> nombre de
          type:'nombre',
          tranche:'millions',
          cdu:choice(cdu),         
        },		
      ];
      
      //une fonction pour la correction selon le type de question
      function chiffre_nombre_corr(type,str,rang) {
        let sortie;
        if (type == 'chiffre') {
          sortie = str.split('')[rang[0]];
        };
        if (type == 'nombre') {
          sortie=str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            sortie+=str.split('')[rang[k]]
          };
        };
        return sortie;
      };

      // une fonction pour la justification supplémentaire dans le cas nombre de ...
      function nombre_de_justif(type,str,rang,cdu_num) {
        let sortie;
        if (type == 'chiffre') {
          sortie = '';
        };
        if (type == 'nombre') {
          let nb_de = str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            nb_de+=str.split('')[rang[k]]
          };
          let j = rang[rang.length-1];
          j++;
          let nb_de_reste = '';
          while (j != 9) {            
            nb_de_reste += str.split('')[j];
            j++;
          };
          sortie = `comme $${tex_nombre(str)} = ${tex_nombre(nb_de)}\\times ${tex_nombre(cdu_num)}+${tex_nombre(nb_de_reste)}$ alors `;
        };
        return sortie;
      };

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
          enonce:`
          Dans $${tex_nombre(nb)}$, quel est le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} ?					
					`,
					question:``,
          correction:`
          Dans $${tex_nombre(nb)}$,           
          ${nombre_de_justif(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[1])}          
          le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant}  ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} est 
          $${mise_en_evidence(tex_nombre(chiffre_nombre_corr(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs)))}$					
					`
				});
			};
            
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
     		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
     		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
     		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
     		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;	
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
					break;			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
* * Encadrer un nombre entier par deux entier consécutifs
* * 6N11-3
* @author Sébastien Lozano
*/

function Encadrer_un_entier_par_deux_entiers_consecutifs(){
  'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 3;
	};	

  this.titre = "Encadrer un entier entre deux entiers consécutifs";	
  this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
      type_de_questions_disponibles = shuffle([choice([0,1]),choice([2,3]),choice([4,5])]);      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
        // on déclare des variables pour avoir des nombres entre 1000 et 9999 puis 10000 et 99999 etc ...
        let m,dm,cm,mi,dmi,cmi;
        //pour la précision d'encadrement
        let precision;

        //selon la precision on veut certains chiffres plus souvant que d'autres ...
        function myNombres(nb_chiffres) {
          let sortie = '';
          // on fabrique le nombre à partir de ses chiffres et on veut des cas limites
          let u,d,c,mu,md,mc,mmu,mmd,mmc;
          let N = choice([[randint(0,9,[0]),0,0,0,0,0,0,0,0],[randint(0,9,[0]),9,9,9,9,9,9,9,9],[randint(0,9,[0]),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9)]]);
          mmc = N[0];
          mmd = N[1];
          mmu = N[2];
          mc = N[3];
          md = N[4];
          mu = N[5];
          c = N[6];
          d = N[7];
          u = N[8];
          switch (nb_chiffres) {
            case 4:
              mu = randint(0,9,[0]);
              sortie = mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 5:
              md = randint(0,9,[0]);
              sortie = md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 6:
              mc = randint(0,9,[0]);
              sortie = mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 7:
              mmu = randint(0,9,[0]);
              sortie = mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 8:
              mmd = randint(0,9,[0]);
              sortie = mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 9:
              mmc = randint(0,9,[0]);
              sortie = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
                
          };
          return sortie;
        };

        this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !
        switch (this.sup) {
          case 1:
            this.consigne = `Compléter avec le nombre entier qui précède et le nombre entier qui suit.`;
            precision=1;
            break;
          case 2:
            this.consigne = `Compléter avec le multiple de 10 qui précède et le multiple de 10 qui suit.`;
            precision=10;
            break;
          case 3:
            this.consigne = `Compléter avec le multiple de 100 qui précède et le multiple de 100 qui suit.`;
            precision=100;
            break;
        };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
          nombre: Number(myNombres(4)),
        },
        {//case 1 -->
          nombre: Number(myNombres(5)),
        },
        {//case 2 -->
          nombre: Number(myNombres(6)),
        },
        {//case 3 -->
          nombre: Number(myNombres(7)),
        },
        {//case 4 -->
          nombre: Number(myNombres(8)),
        },
        {//case 5 -->
          nombre: Number(myNombres(9)),
        },
      ];
      
      // une fonction pour les correction à la precision près
      function encadrement_corr(nb,precision) {
          if (precision == 1) {
            return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
          } else if(precision == 10 || precision == 100) {
            if (nb%precision == 0) {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            } else {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            };
          };       
      };

      let enonces = [];
      for (let k=0;k<situations.length;k++) {
        enonces.push({
          enonce:`
          $\\ldots < ${tex_nombre(situations[k].nombre)} < \\ldots$		
          `,
          question:``,
          correction:`
          ${encadrement_corr(situations[k].nombre,precision)}
          `
        });
      };
          
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          break;	
        case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
          break;	
        case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
        	break;			
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Encadrer entre deux entiers consécutifs\n2 : Encadrer entre deux multiples consécutifs de dix\n3 : Encadrer entre deux multiples consécutifs de cent"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	

};

/** 
* * Ranger une liste de nombres dans l'odre croissant ou décroissant
* * 6N11-4
* @author Sébastien Lozano
*/

function Ranger_ordre_croissant_decroissant(){
 'use strict';
 Exercice.call(this); // Héritage de la classe Exercice()
 this.beta = false;	
 this.sup=1;
 if (this.beta) {
   this.nb_questions = 2;
 } else {
   this.nb_questions = 2;
 };	

 this.titre = "Ranger une liste de nombres entiers dans l'ordre croissant ou décroissant";	
 //this.consigne = `Classer les nombres suivants dans l'ordre indiqué.`;	
 
 this.nb_cols = 1;
 this.nb_cols_corr = 1;
 //this.nb_questions_modifiable = false;
 sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
 sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

 let type_de_questions_disponibles;	

 this.nouvelle_version = function(numero_de_l_exercice){
   if (this.beta) {
     type_de_questions_disponibles = [0,1];			
   } else {
         //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
         type_de_questions_disponibles = [0,1];			
   };

   this.liste_questions = []; // Liste de questions
   this.liste_corrections = []; // Liste de questions corrigées
   
   //let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
   let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
   
   for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
     // les chiffres
     let c1 = randint(1,9);
     let c2 = randint(1,9,[c1]);
     let c3 = randint(1,9,[c1,c2]);
     let c4 = randint(1,9,[c1,c2,c3]);
     let c5 = randint(1,9,[c1,c2,c3,c4]);

     // pour les situations, autant de situations que de cas dans le switch !
     let situations = [
       {//case 0 -->
        ordre:'croissant',
        symbole: `$${mise_en_evidence('<')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },
       {//case 1 -->
        ordre:'décroissant',
        symbole: `$${mise_en_evidence('>')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },   
     ];

     // une fonction pour gérer l'ordre
     function myOrdre(ordre,tab) {
      tab.sort((a,b) => a - b);          
      switch (ordre) {
        case 'croissant':
          return tab;
        case 'décroissant':
          return tab.reverse();          
      };
     };

     let enonces = [];
     let nombres = [];
     let nombres_ranges = [];
     for (let k=0;k<situations.length;k++) {
      nombres = shuffle([situations[k].n1,situations[k].n2,situations[k].n3,situations[k].n4,situations[k].n5,situations[k].n6]);
      nombres_ranges = [];
      nombres.forEach(element => {
        nombres_ranges.push(element);        
      });           
      myOrdre(situations[k].ordre,nombres_ranges);         
      enonces.push({
        enonce:`Classer les nombres suivants dans l'ordre ${situations[k].ordre} :<br>
        $${tex_nombre(nombres[0])}$   ;   $${tex_nombre(nombres[1])}$   ;   $${tex_nombre(nombres[2])}$   ;   $${tex_nombre(nombres[3])}$   ;   $${tex_nombre(nombres[4])}$   ;   $${tex_nombre(nombres[5])}$          
        `,
        question:``,
        correction:`Les nombres rangés dans l'ordre ${texte_en_couleur_et_gras(situations[k].ordre)} :<br>
        $${tex_nombre(nombres_ranges[0])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[1])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[2])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[3])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[4])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[5])}$
        `
      });
     };
           
           // autant de case que d'elements dans le tableau des situations
     switch (liste_type_de_questions[i]){
      case 0 : 
        texte = `${enonces[0].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
          texte += `             `
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[0].correction}`;
        };
        break;	
      case 1 : 
        texte = `${enonces[1].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[1].correction}`;
        };
        break;			
     };			
     
     if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
       this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
       i++;
     }
     cpt++;	
   }
   liste_de_question_to_contenu(this);
 }
 //this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
 //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/** 
 * * Exo test pour quand j'en ai besoin
 * * pas de numéro
 * * Tests
 * @author Sébastien Lozano
 */

function Tests_du_Seb(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = true;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Exo test pour quand j'en ai besoin";	
	this.consigne = `Consigne `;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = [0,1];	
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
				},
				{//case 1 -->
				},
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Type ${k}<br>	
          ${JSON.stringify(decomp_fact_prem_array(238))}<br>			
          ${typeof decomp_fact_prem_array(238)}<br>
          ${JSON.stringify(obtenir_liste_facteurs_premiers(238))}<br>
          ${typeof obtenir_liste_facteurs_premiers(238)}<br>
					`,
					question:``,
					correction:`
					Correction type ${k}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
 * * Exprimer un rapport de longueurs sur un segment
 * * 6N22-1
 * @author Sébastien Lozano
 */

function Rapports_sur_un_segment(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
  this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Rapport de deux longueurs sur un segment";	
	this.consigne = `Sur tous les axes, les graduations sont régulières.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
       //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
       type_de_questions_disponibles = [0,1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // une fonction pour le singulier pluriel
      function sing_plur(nombre,singulier,pluriel) {
        if (nombre>1) {
          return pluriel
        } else {
          return singulier
        };
      };

      // on choisit deux entiers pour former les fractions
      let entier_max = 9;
      let m = randint(1,entier_max);
      let n = randint(1,entier_max,m); // on évite l'autre pour éviter la fraction 1
      let params = {
        xmin: -0.4,
        ymin: -2,
        xmax: 15*entier_max,// pour éviter un cadrage trop large
        ymax: 1,
        pixelsParCm: 20,
        scale: 1,
      }
      // on colle la figure à l'énoncé
      let y_enonce = -1.2;

      // on a parfois des figure trop petites ou trop grandes
      //
      let rayon;
      rayon = 5;
      // if (m<n) {
      //   rayon = 15
      // } else {
      //   rayon = 15/Math.ceil(m/n)
      // };

      //on choisit de façon aléatoire un triplet de noms pour les points
      let noms_choix = [['A','B','C'],['D','E','F'],['I','J','K'],['L','M','N']]
      let noms = noms_choix[randint(0,noms_choix.length-1)];

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> m < n
          m:Math.min(m,n),
          n:Math.max(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.min(m,n),Math.max(m,n)).representation(0,0,rayon,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.min(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.max(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,rayon,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,(Math.min(m,n)/Math.max(m,n))*rayon,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
        {//case 1 --> m > n
          m:Math.max(m,n),
          n:Math.min(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.max(m,n),Math.min(m,n)).representation(0,0,5,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.max(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.min(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,5,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,(Math.max(m,n)/Math.min(m,n))*5,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
		
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Exprimer les rapports suivants $${situations[k].rapport}$ et $${situations[k].rapport_inverse}$.
          <br>
          ${situations[k].fig}     			
					`,
					question:``,
          correction:`
          Les graduations étant régulières, comptons le nombre de graduations pour chaque segment :<br>
          ${situations[k].fig_corr1}<br>
          Le segment $${situations[k].segment_corr1}$ compte $${situations[k].m_color_corr}$ ${sing_plur(situations[k].m,'graduation','graduations')}.<br>
          ${situations[k].fig_corr2}<br>
          Le segment $${situations[k].segment_corr2}$ compte $${situations[k].n_color_corr}$ ${sing_plur(situations[k].n,'graduation','graduations')}.<br><br>
          Donc $\\dfrac{${situations[k].longueur_corr2}}{${situations[k].longueur_corr1}}=\\dfrac{${situations[k].n_color_corr}}{${situations[k].m_color_corr}}$
          et $\\dfrac{${situations[k].longueur_corr1}}{${situations[k].longueur_corr2}}=\\dfrac{${situations[k].m_color_corr}}{${situations[k].n_color_corr}}$<br><br>
          $\\textbf{D'où $\\mathbf{${situations[k].rapport}=}${fraction(situations[k].n,situations[k].m).texFractionSimplifiee()}$ et $\\mathbf{${situations[k].rapport_inverse}=}${fraction(situations[k].m,situations[k].n).texFractionSimplifiee()}$}$<br>

					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
        		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
        		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
        		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
         		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;				
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/**
 * @Auteur Rémi Angot
 */
function LaTeX_static() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Fichier statique";
  this.pas_de_version_HMTL = false;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Nom du fichier";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "url du fichier",
    "nom du fichier sans l'extension",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  //this.besoin_formulaire2_texte = ['Code LaTeX correction','Par exemple : \\input{mon_fichier_corr}'];

  this.nouvelle_version = function (numero_de_l_exercice) {
    //this.contenu_correction = '%£tex/probleme_altitude_corr£'
    //this.contenu = '%£tex/probleme_altitude£'
    this.contenu = "%£" + this.sup + "£";
    this.contenu_correction = "%£" + this.sup + "_corr£";
    //liste_des_exercices_statiques.push(this.sup)
  };
}

// FIN DES EXERCICES
// Gestion des listes d'exercices

jQuery(document).ready(function () {
  // Ne se fait qu'après que le DOM soit entièrement défini

  // Trie par ordre alphabétique les exercices disponibles
  liste_des_exercices_disponibles = tridictionnaire(
    liste_des_exercices_disponibles
  );

  // Détermine le nombre d'exercices par niveaux
  let nombre_d_exercices_disponibles_c3 = 0;
  let nombre_d_exercices_disponibles_6 = 0;
  let nombre_d_exercices_disponibles_5 = 0;
  let nombre_d_exercices_disponibles_4 = 0;
  let nombre_d_exercices_disponibles_3 = 0;
  let nombre_d_exercices_disponibles_2 = 0;
  let nombre_d_exercices_disponibles_1 = 0;
  let nombre_d_exercices_disponibles_T = 0;
  let nombre_d_exercices_disponibles_CM = 0;
  let nombre_d_exercices_disponibles_prof = 0;
  let nombre_d_exercices_disponibles_PE = 0;
  let nombre_d_exercices_disponibles_beta = 0;
  for (var id in liste_des_exercices_disponibles) {
    if (id[0] == "c" && id[1] == "3") {
      nombre_d_exercices_disponibles_c3 += 1;
    }
    if (id[0] == 6) {
      nombre_d_exercices_disponibles_6 += 1;
    }
    if (id[0] == 5) {
      nombre_d_exercices_disponibles_5 += 1;
    }
    if (id[0] == 4) {
      nombre_d_exercices_disponibles_4 += 1;
    }
    if (id[0] == 3) {
      nombre_d_exercices_disponibles_3 += 1;
    }
    if (id[0] == 2) {
      nombre_d_exercices_disponibles_2 += 1;
    }
    if (id[0] == 1) {
      nombre_d_exercices_disponibles_1 += 1;
    }
    if (id[0] == "T") {
      nombre_d_exercices_disponibles_T += 1;
    }
    if (id[0] == "C") {
      nombre_d_exercices_disponibles_CM += 1;
    }
    if (id[0] == "P" && id[1] == "0") {
      nombre_d_exercices_disponibles_prof += 1;
    }
    if (id[0] == "P" && id[1] == "E") {
      nombre_d_exercices_disponibles_PE += 1;
    }
    if (id[0] == "b" && id[1] == "e") {
      nombre_d_exercices_disponibles_beta += 1;
    }
  }

  //
  let liste_html_des_exercices_c3 =[];
  let liste_html_des_exercices_6 = [];
  let liste_html_des_exercices_5 = [];
  let liste_html_des_exercices_4 = [];
  let liste_html_des_exercices_3 = [];
  let liste_html_des_exercices_2 = [];
  let liste_html_des_exercices_1 = [];
  let liste_html_des_exercices_T = [];
  let liste_html_des_exercices_CM = [];
  let liste_html_des_exercices_prof = [];
  let liste_html_des_exercices_PE = [];
  let liste_html_des_exercices_beta = [];

  // Affiche de la liste des exercices disponibles
  let liste_html_des_exercices =
    '<h3 class="ui block header">Exercices disponibles</h3>\n\n';

  function liste_html_des_exercices_d_un_theme(theme){
    let liste = '';
    let dictionnaire = filtreDictionnaire(liste_des_exercices_disponibles,theme);
    for (let id in dictionnaire) {
      let exercice_tmp = new dictionnaire[id]();
      liste +=
        `<span class="id_exercice">${id}</span> - <a class="lien_id_exercice" numero="${id}">${exercice_tmp.titre}</a></br>\n`;
    }
    return liste;
  }

  function liste_html_des_exercices_d_un_niveau(liste_de_themes){ // liste_de_themes = [['6N1','6N1 - Numérations et fractions niveau 1'] , [' ',' '] ]
    let liste = '';
    for (let theme of liste_de_themes){
      liste += `<h3>${theme[1]}</h3>`;
      liste += liste_html_des_exercices_d_un_theme(theme[0]);
    }
    return liste;
  }

  liste_html_des_exercices_c3 = liste_html_des_exercices_d_un_niveau([
    ['c3C1','c3C1 - Calculs niveau 1'],['c3N1','c3N1 - Numération Niveau 1']])
  
  liste_html_des_exercices_6 = liste_html_des_exercices_d_un_niveau([
    ['6C1','6C1 - Calculs niveau 1'],['6C2','6C2 - Calculs niveau 2'],['6C3','6C3 - Calculs niveau 3'],
    ['6M1','6M1 - Grandeurs et mesures niveau 1'],['6M2','6M2 - Grandeurs et mesures niveau 2'],['6M3', '6M3 - Volumes'],['6P1','6P1 - Proportionnalité'],
    ['6G1','6G1 - Géométrie niveau 1'],['6G2','6G2 - Géométrie niveau 2'],['6G3','6G3 - Géométrie niveau 3'],['6G4','6G4 - Géométrie niveau 4'],
    ['6D1','6D1 - Les durées'],
    ['6N1','6N1 - Numération et fractions niveau 1'],['6N2','6N2 - Numération et fractions niveau 2'],['6N3','6N3 - Numération et fractions niveau 3'],['6N4','6N4 - Numération et fractions niveau 4']])
    liste_html_des_exercices_5 = liste_html_des_exercices_d_un_niveau([
      ['5A1','5A1 - Arithmetique'],['5C1','5C1 - Calculs'],
      ['5G1','5G1 - Symétries'],['5G2','5G2 - Triangles'],['5G3','5G3 - Angles'],['5G4','5G4 - Parallélogrammes'],['5G5','5G5 - Espace'],
      ['5L1','5L1 - Calcul littéral'],
      ['5M1','5M1 - Périmètres et aires'],['5M2','5M2 - Volumes'],['5M3','5M3 - Durées'],
      ['5N1','5N1 - Numération et fractions niveau 1'],['5N2','5N2 - Calculs avec les fractions'],
      ['5P1','5P1 - Proportionnalité'],['5R1','5R1 - Relatifs niveau 1'],['5R2','5R2 - Relatifs niveau 2'],
      ['5S1','5S1 - Statistiques'],['5S2','5S2 - Probabilités']
    ])
    liste_html_des_exercices_4 = liste_html_des_exercices_d_un_niveau([
      ['4C1','4C1 - Relatifs'],['4C2','4C2 - Fractions'],['4C3','4C3 - Puissances'],
      ['4F1','4F1 - Notion de fonction'],
      ['4G1','4G1 - Translation et rotation'],['4G2','4G2 - Théorème de Pythagore'],['4G3','4G3 - Théorème de Thalès'],['4G4',"4G4 - Cosinus d'un angle"],['4G5',"4G5 - Espace"],
      ['4L1','4L1 - Calcul littéral'],['4L2','4L2 - Équation'],['4P1','4P1 - Proportionnalité'],['4S1','4S1 - Statistiques'],['4S2','4S2 - Probabilités'],
      ['4Algo1','4Algo1 - Algorithmique']
    ])
    liste_html_des_exercices_3 = liste_html_des_exercices_d_un_niveau([
      ['3A1','3A1 - Arithmetique'],
      ['3F1','3F1 - Généralités sur les fonctions'],['3F2','3F2 - Fonctions affines et linéaires'],
      ['3G1','3G1 - Homothétie et rotation'],['3G2','3G2 - Théorème de Thalès'],['3G3','3G3 - Trigonométrie'],['3G4',"3G4 - Espace"],
      ['3L1','3L1 - Calcul littéral'],['3P1','3P1 - Proportionnalité'],['3S1','3S1 - Statistiques'],['3S2','3S2 - Probabilités']
    ])

  for (var id in liste_des_exercices_disponibles) {
    let exercice_tmp = new liste_des_exercices_disponibles[id]();
    
    if (id[0] == 2) {
      liste_html_des_exercices_2 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 1) {
      liste_html_des_exercices_1 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 'T') {
      liste_html_des_exercices_T +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "E") {
      liste_html_des_exercices_PE +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "C") {
      liste_html_des_exercices_CM +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "0") {
      liste_html_des_exercices_prof +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "b" && id[1] == "e") {
      liste_html_des_exercices_beta +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
  }

  // Change l'ordre des exercices suivant l'URL
  if (window.location.href.indexOf("beta") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Beta (${nombre_d_exercices_disponibles_beta})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_beta;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else if (window.location.href.indexOf("cm.html") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cours Moyen(${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else {
    liste_html_des_exercices += `<div class="ui accordion"><div class="title"><i class="dropdown icon"></i>Cours Moyen (${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    // Ajoute les outils prof sur mathalealatex
    if (window.location.href.indexOf("mathalealatex.html") > 0) {
      liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Outils pour le professeur (${nombre_d_exercices_disponibles_prof})</div><div class="content">`;
      liste_html_des_exercices += liste_html_des_exercices_prof;
      liste_html_des_exercices += `</div>`;
    }
    liste_html_des_exercices += `</div>`;
  }

  $("#liste_des_exercices").html(liste_html_des_exercices);

  // Gère le clic sur un exercice de la liste
  $(".lien_id_exercice").click(function () {
    let numero = $(this).attr("numero");
    if ($("#choix_des_exercices").val() == "") {
      $("#choix_des_exercices").val($("#choix_des_exercices").val() + numero);
    } else {
      $("#choix_des_exercices").val(
        $("#choix_des_exercices").val() + "," + numero
      );
    }
    liste_des_exercices = $("#choix_des_exercices")
      .val()
      .replace(/\s/g, "")
      .replace(";", ",")
      .split(",");
    mise_a_jour_de_la_liste_d_exercice();

    // Actualise KaTeX pour les titres d'exercices utilisant LaTeX
    renderMathInElement(document.body, {
      delimiters: [
        { left: "\\[", right: "\\]", display: true },
        { left: "$", right: "$", display: false },
      ],
      throwOnError: true,
      errorColor: "#CC0000",
      strict: "warn",
      trust: false,
    });
  });
});

// Exercices de 6ème déclinés en cycle3
function Ecrire_entiers_cycle3(){
    Ecrire_nombres_entiers.call(this)
    this.sup=1
    this.sup2=0
}
function Division_cycle3(){
    Divisions_euclidiennes.call(this)
    this.sup=0
}
function Exercice_tables_d_additions_cycle3() {
    Exercice_tables_d_additions.call(this,10)
}
/**
* Décomposer en produit de facteurs premiers un nombre (la décomposition aura 3, 4 ou 5 facteurs premiers)
* @Auteur Rémi Angot
5A13
*/
function Exercice_decomposer_en_facteurs_premiers(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = '' ;
	this.sup2 = '' ; 
	this.titre = "Décomposition en facteurs premiers";
	this.consigne = "Écrire les nombres suivants sous la forme d'un produit de facteurs premiers.";
	this.spacing = 2;
	this.nb_questions = 6;


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		for (let i = 0, n, facteurs=[], nb_facteurs, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			facteurs = [];
			nb_facteurs = randint(3,5);
			for (var k = 0; k < nb_facteurs; k++) {
				if (k<nb_facteurs-1) {
					if (nb_facteurs>3 && k==0){facteurs.push(2)}
					else if (nb_facteurs>4 && k==1){facteurs.push(2)}
					else{
						facteurs.push(choice([2,3,5]));
					}
					
				}
				else {facteurs.push(choice([2,5,7,11]))}
			}

			if (randint(1,4)==1) { //Une fois sur 4 on multilie le nombre par 100
				facteurs.push(2,2,5,5)
			} 
			n = 1
			for (var k = 0; k < facteurs.length; k++) {
				facteurs[k]
				n = n * facteurs[k]
			}
			texte = '$ '+ tex_nombre(n) + ' = \\dotfill $';
			texte_corr = '$ '+ tex_nombre(n) + ' = ' 
			facteurs.sort(compare_nombres); //classe les facteurs dans l'ordre croissant
			for (var k = 0; k < facteurs.length-1; k++) {
				facteurs[k]
				texte_corr += facteurs[k] + ' \\times  '
			}
			texte_corr += facteurs[facteurs.length-1] + ' $';	
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;

		}
		liste_de_question_to_contenu(this);
	}
	
}

/**
* Additionner deux relatifs inférieurs à la valeur maximale en paramètre qui est par défaut à 20.
*
* Paramètre supplémentaire ; utilisation des écritures simplifiées
* @Auteur Rémi Angot
* 5R20
*/
function Exercice_additions_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Addition de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = `$ ${tex_nombre(a)}${ecriture_algebrique(b)} = \\dotfill $`;
				texte_corr = `$ ${a}${ecriture_algebrique(b)} = ${a+b} $`;
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a + b) +' $';	
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}

/**
* Compléter une addition à trou entre 2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 5R20-2
*/
function Exercice_additions_relatifs_a_trou(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Addition à trou de deux entiers relatifs"
	this.consigne = 'Compléter'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = '$ '+ a + ' + ' + '\\ldots\\ldots\\ldots' + ' = ' + (a + b) + ' $';
				texte_corr = '$ '+ a + ecriture_algebrique(b) + ' = ' + (a + b) +' $';
			} else{
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + '\\ldots\\ldots\\ldots' + ' = ' + ecriture_nombre_relatif(a + b) + ' $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a + b) +' $';	
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];	
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}

/**
* Effectuer la soustraction de  2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 5R21
*/
function Exercice_soustractions_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Soustraction de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = \\dotfill $';
				if (b>0){
					texte_corr = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = ' + (a - b) +' $';
				} else {
					texte_corr = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = ' + a + ecriture_algebrique(-1*b) + ' = ' + (a - b) +' $';
				}
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = ' + ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(-1*b) + ' = ' + ecriture_nombre_relatifc(a - b) +' $';
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];			
}

/**
* Effectuer une multiplication entre 2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 4C10-3
*/
function Exercice_multiplications_relatifs(max=10){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Multiplication de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (a==1){
				a=-1
			}
			if (b==1){
				b=-1
			}
			if (this.sup2){
				texte = '$ '+ a + ' \\times  ' + ecriture_parenthese_si_negatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ a + ' \\times  ' + ecriture_parenthese_si_negatif(b) + ' = ' + (a * b) +' $';
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' \\times  ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' \\times  ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a * b) +' $';
			}
				
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];		
}
/**
* Comparer deux fractions dont les dénominateurs sont multiples (avec un coefficient paramétrable qui est par défaut inférieur à 11)
* @Auteur Rémi Angot
* 5N14
*/
function Exercice_comparer_deux_fractions (max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.titre = "Comparer des fractions (dénominateurs multiples)"
	this.consigne = 'Comparer les fractions suivantes.'
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		liste_fractions = obtenir_liste_fractions_irreductibles();
		for (let i = 0, fraction, a, b, texte, texte_corr, signe, signe2, cpt=0; i < this.nb_questions;i++) {
			fraction = choice(liste_fractions); //
			a = fraction[0];
			b = fraction[1];
			k = randint(2,this.sup);
			ecart = choice([-4,-3,-2,-1,1,2,3,4]);
			if (k*a+ecart<=0){
				ecart=ecart*(-1)
			}
			if (ecart>0) {
				signe = `<`
				signe2 = `>`
			} else {
				signe = `>`
				signe2=`<`
			}
			enleve_element(liste_fractions,fraction); // Il n'y aura pas 2 fois la même réponse

			ordre_des_fractions = randint(1,2)
			if (ordre_des_fractions==1) {
				texte = `$${tex_fraction(a,b)} \\quad$ et $\\quad ${tex_fraction(k*a+ecart,k*b)}$`;
			} else {
				texte = `$${tex_fraction(k*a+ecart,k*b)} \\quad$ et $\\quad ${tex_fraction(a,b)}$`;
			}
			if (!sortie_html) {
				texte=texte.replace('\\quad$ et $\\quad','\\ldots\\ldots\\ldots')
			}
			texte_corr = `$${tex_fraction(a,b)}=${tex_fraction(a+mise_en_evidence('\\times  '+k),b+mise_en_evidence('\\times  '+k))}=${tex_fraction(a*k,b*k)}\\quad$`
			if (ordre_des_fractions==1) {
				texte_corr += `  et   $\\quad${tex_fraction(a*k,b*k)} ${signe} ${tex_fraction(a*k+ecart,b*k)}\\quad$ donc $\\quad${tex_fraction(a,b)} ${signe} ${tex_fraction(a*k+ecart,b*k)}$ `;
			} else {
				texte_corr += `  et   $\\quad${tex_fraction(a*k+ecart,b*k)} ${signe2} ${tex_fraction(a*k,b*k)} \\quad$ donc $\\quad ${tex_fraction(a*k+ecart,b*k)} ${signe2} ${tex_fraction(a,b)} $ `;
			}			
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];		
}


/**
* 4 fractions aux dénominateurs multiples et un nombre entier sont donnés, il faut les classer dans l'ordre croissant ou décroissant
* 
* Pour la correction, les fractions sont toute écrites avec un dénominateur commun avant d'être classées
* @Auteur Rémi Angot
* 5N14-2
*/
function Exercice_comparer_quatre_fractions (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Comparer quatre fractions (dénominateurs multiples) et un nombre entier"
	this.consigne = "Ranger les nombres suivants dans l'ordre croissant."
	this.spacing = 2;
	sortie_html ? this.spacing_corr = 4 : this.spacing_corr = 2.5 ;
	this.nb_questions = 2;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, denominateurs, n1, d1, n2, d2, n3, d3, n4, d4, k, texte="", texte_corr="", cpt=0; i < this.nb_questions;i++) {
			liste_denominateurs = [[12,2,3,4,6],[16,2,4,8],[18,2,3,6,9],[20,2,4,5,10],[24,2,3,4,8,12],[30,2,3,5,6]]
			denominateurs = choice(liste_denominateurs);
			d1 = denominateurs[0];
			enleve_element(denominateurs,d1);
			d2 = choice(denominateurs);
			enleve_element(denominateurs,d2);
			d3 = choice(denominateurs);
			d4 = choice(denominateurs);
			k = randint(1,3);
			n1 = randint(1,10);
			n2 = randint(1,10);
			n3 = randint(1,10);
			n4 = choice([d4+randint(1,3),d4*2+randint(1,2)],randint(1,10));
			// [num,den,calcul de mise au même dénominateur, num qui correspond au denominateur commun]
			
			while (((n1/d1-n2/d2)*(n1/d1-n3/d3)*(n1/d1-n4/d4)*(n2/d2-n3/d3)*(n2/d3-n4/d4)*(n3/d3-n4/d4)<0.1) || (n1%d1==0) || (n2%d2==0) || (n3%d3==0) || (n4%d4==0) ){
				n1 = randint(1,11);
				n2 = randint(1,11);
				n3 = randint(1,11);
				n4 = randint(1,11);
			}
			let tableau_fractions=[[n1,d1,`$${tex_fraction(n1,d1)}$`,`$${tex_fraction(n1,d1)}$`]]
			tableau_fractions.push([n2,d2,`$${tex_fraction(n2,d2)}=${tex_fraction(n2+mise_en_evidence("\\times "+Algebrite.eval(d1/d2)),d2+mise_en_evidence("\\times "+Algebrite.eval(d1/d2)))}=${tex_fraction(Algebrite.eval(n2*d1/d2),d1)}$`,`$${tex_fraction(Algebrite.eval(n2*d1/d2),d1)}$`])
			tableau_fractions.push([n3,d3,`$${tex_fraction(n3,d3)}=${tex_fraction(n3+mise_en_evidence("\\times "+Algebrite.eval(d1/d3)),d3+mise_en_evidence("\\times "+Algebrite.eval(d1/d3)))}=${tex_fraction(Algebrite.eval(n3*d1/d3),d1)}$`,`$${tex_fraction(Algebrite.eval(n3*d1/d3),d1)}$`])
			tableau_fractions.push([n4,d4,`$${tex_fraction(n4,d4)}=${tex_fraction(n4+mise_en_evidence("\\times "+Algebrite.eval(d1/d4)),d4+mise_en_evidence("\\times "+Algebrite.eval(d1/d4)))}=${tex_fraction(Algebrite.eval(n4*d1/d4),d1)}$`,`$${tex_fraction(Algebrite.eval(n4*d1/d4),d1)}$`])
			tableau_fractions.push([k,1,`$${k}=${tex_fraction(d1*k,d1)}$`,`$${tex_fraction(k*d1,d1)}$`])
			tableau_fractions.sort(compare_fractions)
			let tableau_fractions_enonce=shuffle(tableau_fractions)
			texte = "";
			for (var j = 0; j < tableau_fractions_enonce.length; j++) {
				if (tableau_fractions_enonce[j][1]==1)
					texte+=`$${tableau_fractions_enonce[j][0]}\\quad\\text{;}\\quad$`
				else
					texte+=`$${tex_fraction(tableau_fractions_enonce[j][0],tableau_fractions_enonce[j][1])}\\quad\\text{;}\\quad$`
			}
			texte = texte.substring(0,texte.length-19)+"$" // Enlève les 21 derniers caractères (pour le ; de la fin)
			tableau_fractions.sort(compare_fractions)
			texte_corr ="";
			for (var j = 0; j < tableau_fractions_enonce.length; j++) {
				texte_corr+=tableau_fractions_enonce[j][2]
				texte_corr+="<br>"
			}
			for (var j = 0; j < tableau_fractions.length; j++) {
				texte_corr+=tableau_fractions[j][3]
				if (j<tableau_fractions.length-1)
					texte_corr+=`$\\quad<\\quad$`
			}
			texte_corr+="<br>"
			let texte_conclusion = ""
			for (var j = 0; j < tableau_fractions.length; j++) {
				if (tableau_fractions[j][1]==1)
					texte_conclusion+=`$${tableau_fractions[j][0]}\\quad<\\quad$`
				else
					texte_conclusion+=`$${tex_fraction(tableau_fractions[j][0],tableau_fractions[j][1])}\\quad<\\quad$`
			}
			texte_corr += "Finalement : $\\quad$ "+texte_conclusion.substring(0,texte_conclusion.length-12)+"$"

			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
}

/**
* Effectuer l'addition de deux fractions dont un dénominateur est un multiple de l'autre.
*
* Le coefficient est paramétrable, par défaut il est inférieur à 11.
* @Auteur Rémi Angot
* 5N20
*/
function Exercice_additionner_des_fractions_5e(max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.titre = "Additionner deux fractions (dénominateurs multiples)"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, c, d,texte, texte_corr, cpt=0; i < this.nb_questions;i++) {
			// les numérateurs
			a = randint (1,9);
			c = randint (1,9);
			// les dénominateurs
			if (this.level!=6) b = randint(2,9);
			else b = randint(2,5)
			while (b==a){
				if (this.level!=6) b = randint(2,9); // pas de fraction avec numérateur et dénominateur égaux
				else b = randint(2,5)
			}
			if (this.level!=6) k = randint(2,this.sup);
			else k=1
			d = b*k
			ordre_des_fractions = randint(1,2)
			if (ordre_des_fractions==1) {
				texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
			} else {
				texte = texte = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=$`;
			}
			if (ordre_des_fractions==1) {
				if (this.level!=6) texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
				else texte_corr =`$`
				texte_corr += `=${tex_fraction(a*k,b*k)}+${tex_fraction(c,d)}=${tex_fraction(a*k+`+`+c,d)}=${tex_fraction(a*k+c,d)}$`;
			} else {
				if (this.level!=6) texte_corr = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=${tex_fraction(c,d)}+${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
				else texte_corr =`$`
				texte_corr += `=${tex_fraction(c,d)}+${tex_fraction(a*k,b*k)}=${tex_fraction(c+'+'+a*k,d)}=${tex_fraction(a*k+c,d)}$`;
			}
			// Est-ce que le résultat est simplifiable ?
			let s = pgcd(a*k+c,d);
			if ((a*k+c)%d==0) { // si le résultat est un entier
				texte_corr +=`$=${Algebrite.eval((a*k+c)/d)}$`
			} else if (s!=1) {
				texte_corr +=`$=${tex_fraction(Algebrite.eval((a*k+c)/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((a*k+c)/s),Algebrite.eval(d/s))}$`
			}
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];		
}

/**
* Effectuer l'addition ou la soustraction de deux fractions dont un dénominateur est un multiple de l'autre.
*
* Le résultat de la soustraction sera toujours positif.
*
* Le coefficient est paramétrable, par défaut il est inférieur à 11.
*
* On peut paramétrer de n'avoir que des soustractions.
* @Auteur Rémi Angot
* 5N20-2
*/
function Exercice_additionner_ou_soustraire_des_fractions_5e(max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.sup2 = false // Si true alors il n'y aura que des soustractions
	this.titre = "Additionner ou soustraire deux fractions (dénominateurs multiples)"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, c, d,texte, texte_corr, cpt=0; i < this.nb_questions;i++) {
			// les numérateurs
			a = randint (1,9);
			c = randint (1,9);
			// les dénominateurs
			b = randint(2,9);
			while (b==a){
				b = randint(2,9); // pas de fraction avec numérateur et dénominateur égaux
			}
			k = randint(2,this.sup);
			d = b*k
			if (randint(1,2)==1 && !this.sup2) { //une addition
				ordre_des_fractions = randint(1,2)
				if (ordre_des_fractions==1) {
					texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
				} else {
					texte = texte = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=$`;
				}
				if (ordre_des_fractions==1) {
					texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
					texte_corr += `=${tex_fraction(a*k,b*k)}+${tex_fraction(c,d)}=${tex_fraction(a*k+`+`+c,d)}=${tex_fraction(a*k+c,d)}$`;
				} else {
					texte_corr = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=${tex_fraction(c,d)}+${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
					texte_corr += `=${tex_fraction(c,d)}+${tex_fraction(a*k,b*k)}=${tex_fraction(c+'+'+a*k,d)}=${tex_fraction(a*k+c,d)}$`;
				}
				// Est-ce que le résultat est simplifiable ?
				let s = pgcd(a*k+c,d);
				if (s!=1) {
					texte_corr +=`$=${tex_fraction(Algebrite.eval((a*k+c)/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((a*k+c)/s),Algebrite.eval(d/s))}$`
				}
			} else{ //une soustraction
				if ((a/b)>(c/d)) {
					texte = `$${tex_fraction(a,b)}-${tex_fraction(c,d)}=$`;
				} else {
					texte = texte = `$${tex_fraction(c,d)}-${tex_fraction(a,b)}=$`;
				}
				if ((a/b)>(c/d)) {
					texte_corr = `$${tex_fraction(a,b)}-${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}-${tex_fraction(c,d)}`
					texte_corr += `=${tex_fraction(a*k,b*k)}-${tex_fraction(c,d)}=${tex_fraction(a*k+`-`+c,d)}=${tex_fraction(a*k-c,d)}$`;
				} else {
					texte_corr = `$${tex_fraction(c,d)}-${tex_fraction(a,b)}=${tex_fraction(c,d)}-${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
					texte_corr += `=${tex_fraction(c,d)}-${tex_fraction(a*k,b*k)}=${tex_fraction(c+'-'+a*k,d)}=${tex_fraction(c-a*k,d)}$`;
				}
				// Est-ce que le résultat est simplifiable ?
				let s = pgcd(a*k-c,d);
				if (abs(a*k-c)%d==0){ //si la fraction peut-être un nombre entier
					texte_corr += `$=${Algebrite.eval((abs(a*k-c))/d)}$`
				} else if (s!=1) {
					texte_corr +=`$=${tex_fraction(Algebrite.eval((abs(a*k-c))/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((abs(a*k-c))/s),Algebrite.eval(d/s))}$`
				}
			}
				
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];	
	this.besoin_formulaire2_case_a_cocher = ['Uniquement des soustractions'];	
}


/**
* Effectuer la somme de deux fractions
*
* * Niveau 1 : 4 fois sur 5 un dénominateur est un multiple de l'autre et une fois sur 5 il faut additionner une fraction et un entier
* * Niveau 2 : 2 fois sur 5, il faut trouver le ppcm, 1 fois sur 5 le ppcm correspond à leur produit, 1 fois sur 5 un dénominateur est multiple de l'autre, 1 fois sur 5 il faut additionner une fraction et un entier
* * Paramètre supplémentaire : utiliser des nommbres relatifs (par défaut tous les nombres sont positifs)
* @Auteur Rémi Angot
* 4C21-1
*/
function Exercice_additionner_des_fractions(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 2; // Niveau de difficulté
	this.sup2 = false; // Avec ou sans relatifs
	this.titre = "Additionner deux fractions"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let type_de_questions_disponibles
		if (this.sup==1) {
			type_de_questions_disponibles = ['b_multiple_de_d','d_multiple_de_b','b_multiple_de_d','d_multiple_de_b','entier']
		}
		if (this.sup==2) {
			type_de_questions_disponibles = ['ppcm','ppcm','premiers_entre_eux',choice(['b_multiple_de_d','d_multiple_de_b']),'entier']
		}
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		for (let i = 0, a, b, c, d, k, k1, k2, num, den, texte, texte_corr, type_de_questions, cpt=0; i < this.nb_questions;i++) {
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 'ppcm' :
					let liste_couples_de_denominateurs = [[6,9],[4,6],[8,12],[9,12],[10,15],[10,25],[6,21],[12,30],[6,8],[50,75],]
					let couples_de_denominateurs = choice(liste_couples_de_denominateurs)
					if (choice([true,false])) {
						b = couples_de_denominateurs[0];
						d = couples_de_denominateurs[1];
					} else {
						b = couples_de_denominateurs[1];
						d = couples_de_denominateurs[0];
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'premiers_entre_eux' :
					b = randint(2,9)
					d = randint(2,9)
					while (pgcd(b,d)!=1) {
						b = randint(2,9)
						d = randint(2,9)
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'd_multiple_de_b':
					b = randint(2,9);
					k = randint(2,11);
					d = b*k;
				break

				case 'b_multiple_de_d':
					d = randint(2,9);
					k = randint(2,11);
					b = d*k;
				break
			}

			
			a = randint (1,9,[b]);
			c = randint (1,9,[d]);
			if (this.sup2) { //si les numérateurs sont relatifs
				a = a * choice([-1,1]);
				c = c * choice([-1,1]);
			}
			texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
			texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}`

			// a/b+c/d = num/den (résultat non simplifié)

			if (type_de_questions=='ppcm' || type_de_questions=='premiers_entre_eux') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k1),b+mise_en_evidence('\\times '+k1))}+${tex_fraction(c+mise_en_evidence('\\times '+k2),d+mise_en_evidence('\\times '+k2))}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a*k1+c*k2;
				den = b*k1
				texte_corr += `=${tex_fraction(a*k1+`+`+ecriture_parenthese_si_negatif(c*k2),den)}`

			} 

			if (type_de_questions=='d_multiple_de_b') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a*k+c;
				den = b*k
				texte_corr += `=${tex_fraction(a*k+`+`+ecriture_parenthese_si_negatif(c),den)}`
			}

			if (type_de_questions=='b_multiple_de_d') {
				texte_corr += `=${tex_fraction(a,b)}+${tex_fraction(c+mise_en_evidence('\\times '+k),d+mise_en_evidence('\\times '+k))}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a+c*k;
				den = b
				texte_corr += `=${tex_fraction(a+`+`+ecriture_parenthese_si_negatif(c*k),den)}`
			}

			if (type_de_questions=="entier") {
				a = randint(1,9);
				b = randint(2,9,[a]);
				let n = randint(1,9);
				if (this.sup2) {
					a = a * choice([-1,1]);
					n = n * choice([-1,1]);
				}
				if (choice([true,false])) {
					texte = `$${n}+${tex_fraction(a,b)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(n+'\\times '+b,b)}+${tex_fraction(a,b)}`;
					texte_corr += `=${tex_fraction(n*b+'+'+ecriture_parenthese_si_negatif(a),b)}`;
				} else {
					texte = `$${tex_fraction(a,b)}+${ecriture_parenthese_si_negatif(n)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(a,b)}+${tex_fraction(n+'\\times '+b,b)}`;
					texte_corr += `=${tex_fraction(a+'+'+ecriture_parenthese_si_negatif(n*b),b)}`
				}
				num = n*b+a
				den = b 
			}
			texte_corr += `=${tex_fraction(num,den)}`;
			texte_corr += simplification_de_fraction_avec_etapes(num,den)+'$';
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Un dénominateur multiple de l'autre\n\
2 : Cas général"]
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres relatifs'];

}


/**
* Effectuer la somme ou la différence de deux fractions
*
* * Niveau 1 : 4 fois sur 5 un dénominateur est un multiple de l'autre et une fois sur 5 il faut additionner une fraction et un entier
* * Niveau 2 : 2 fois sur 5, il faut trouver le ppcm, 1 fois sur 5 le ppcm correspond à leur produit, 1 fois sur 5 un dénominateur est multiple de l'autre, 1 fois sur 5 il faut additionner une fraction et un entier
* * Paramètre supplémentaire : utiliser des nommbres relatifs (par défaut tous les nombres sont positifs)
* * 2 fois sur 4 il faut faire une soustraction
* @Auteur Rémi Angot
* 4C21
*/
function Exercice_additionner_ou_soustraire_des_fractions(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 2; // Niveau de difficulté
	this.sup2 = false; // Avec ou sans relatifs
	this.titre = "Additionner ou soustraire deux fractions"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée."
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let type_de_questions_disponibles
		if (this.sup==1) {
			type_de_questions_disponibles = ['b_multiple_de_d','d_multiple_de_b','b_multiple_de_d','d_multiple_de_b','entier']
		}
		if (this.sup==2) {
			type_de_questions_disponibles = ['ppcm','ppcm','premiers_entre_eux',choice(['b_multiple_de_d','d_multiple_de_b']),'entier']
		}
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_de_plus_ou_moins = combinaison_listes(['-','-','+','+'],this.nb_questions)
		for (let i = 0, a, b, c, d, k, k1, k2, num, den, texte, texte_corr, type_de_questions, cpt=0; i < this.nb_questions;i++) {
			let plus_ou_moins = liste_de_plus_ou_moins[i]
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 'ppcm' :
					let liste_couples_de_denominateurs = [[6,9],[4,6],[8,12],[9,12],[10,15],[10,25],[6,21],[12,30],[6,8],[50,75],]
					let couples_de_denominateurs = choice(liste_couples_de_denominateurs)
					if (choice([true,false])) {
						b = couples_de_denominateurs[0];
						d = couples_de_denominateurs[1];
					} else {
						b = couples_de_denominateurs[1];
						d = couples_de_denominateurs[0];
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'premiers_entre_eux' :
					b = randint(2,9)
					d = randint(2,9)
					while (pgcd(b,d)!=1) {
						b = randint(2,9)
						d = randint(2,9)
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'd_multiple_de_b':
					b = randint(2,9);
					k = randint(2,11);
					d = b*k;
				break

				case 'b_multiple_de_d':
					d = randint(2,9);
					k = randint(2,11);
					b = d*k;
				break
			}

			a = randint (1,9,[b]);
			c = randint (1,9,[d]);
			if (this.sup2) { //si les numérateurs sont relatifs
				a = a * choice([-1,1]);
				c = c * choice([-1,1]);

			}
			if (!this.sup2 && plus_ou_moins=='-' && a/b<c/d) { //s'il n'y a pas de relatifs, il faut s'assurer que la soustraction soit positive
				[a,b,c,d]=[c,d,a,b] // on échange les 2 fractions
				k1 = ppcm(b,d)/b;
				k2 = ppcm(b,d)/d;
				if (type_de_questions=='d_multiple_de_b') {
					type_de_questions='b_multiple_de_d'; //comme on a échangé les 2 fractions, le type de la question change
					k = b/d;
				} else if (type_de_questions=='b_multiple_de_d') {
					type_de_questions='d_multiple_de_b'; //comme on a échangé les 2 fractions, le type de la question change
					k = d/b;
				}
				echange = true;
			}
			texte = `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c,d)}=$`;
			texte_corr = `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c,d)}`

			// a/b(+ou-)c/d = num/den (résultat non simplifié)

			if (type_de_questions=='ppcm' || type_de_questions=='premiers_entre_eux') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k1),b+mise_en_evidence('\\times '+k1))}${plus_ou_moins}${tex_fraction(c+mise_en_evidence('\\times '+k2),d+mise_en_evidence('\\times '+k2))}`
				num = calcul(a*k1+plus_ou_moins+ecriture_nombre_relatif(c*k2));
				den = b*k1
				texte_corr += `=${tex_fraction(a*k1+plus_ou_moins+ecriture_parenthese_si_negatif(c*k2),den)}`

			} 

			if (type_de_questions=='d_multiple_de_b') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}${plus_ou_moins}${tex_fraction(c,d)}`
				num = calcul(a*k+plus_ou_moins+ecriture_nombre_relatif(c));
				den = b*k
				texte_corr += `=${tex_fraction(a*k+plus_ou_moins+ecriture_parenthese_si_negatif(c),den)}`
			}

			if (type_de_questions=='b_multiple_de_d') {
				texte_corr += `=${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c+mise_en_evidence('\\times '+k),d+mise_en_evidence('\\times '+k))}`
				num = calcul(a+plus_ou_moins+ecriture_nombre_relatif(c*k));
				den = b
				texte_corr += `=${tex_fraction(a+plus_ou_moins+ecriture_parenthese_si_negatif(c*k),den)}`
			}

			if (type_de_questions=="entier") {
				a = randint(1,9);
				b = randint(2,9,[a]);
				let n = randint(1,9);
				if (this.sup2) {
					a = a * choice([-1,1]);
					n = n * choice([-1,1]);
				}
				if (choice([true,false])) {
					// n+-a/b
					if (!this.sup2 && plus_ou_moins=="-" && n<a/b) {
						n = randint(5,9) // max(a/b)=9/2
					}
					texte = `$${n}${plus_ou_moins}${tex_fraction(a,b)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(n+mise_en_evidence('\\times '+b),mise_en_evidence(b))}${plus_ou_moins}${tex_fraction(a,b)}`;
					texte_corr += `=${tex_fraction(n*b+plus_ou_moins+ecriture_parenthese_si_negatif(a),b)}`;
				} else {
					// a/b +-n
					if (!this.sup2 && plus_ou_moins=="-" && n>a/b) {
						n = randint(1,4) // 
						a = n*b+randint(1,9) //(n*b+?)/b-n>0
					}
					texte = `$${tex_fraction(a,b)}${plus_ou_moins}${ecriture_parenthese_si_negatif(n)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(n+mise_en_evidence('\\times '+b),mise_en_evidence(b))}`;
					texte_corr += `=${tex_fraction(a+'+'+ecriture_parenthese_si_negatif(n*b),b)}`
				}
				num = calcul(n*b+plus_ou_moins+ecriture_parenthese_si_negatif(a))
				den = b 
			}
			texte_corr += `=${tex_fraction(num,den)}`
			texte_corr += simplification_de_fraction_avec_etapes(num,den)+'$';
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Un dénominateur multiple de l'autre\n\
2 : Cas général"]
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres relatifs'];

}

/**
* Simplifier l'écriture d'une somme de 2 relatifs et calculer
*
* On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* @Auteur Rémi Angot
* 5R22-2
*/
function Exercice_simplification_somme_algebrique(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max;
	this.titre = "Simplifier l'écriture d'une somme de 2 relatifs et calculer"
	this.consigne = 'Simplifier puis calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, s, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			s = choice([-1,1]) // + ou -
			
			if (s==1){
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = ' + a + ecriture_algebrique(s*b) +' = ' + (a+b) + ' $';	
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = ' + a + ecriture_algebrique(s*b) +' = ' + (a-b) + ' $';	
			}
						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
}

/**
* Effectuer la somme ou la différence de deux nombres relatifs
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot
*/
/*function Exercice_additions_et_soustraction_de_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions et soustractions de nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			if (a==1 & b==1) { // On s'assure que les 3 premières termes n'ont pas le même signe
				c = -1
			} else if (a==-1 & b==-1) {
				c = 1
			}
			else {
				c = randint(1,this.sup)*choice([-1,1]);	
			}
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = choice([-1,1])
			s2 = choice([-1,1])
			if (s1==1 & s2==1){ // On s'assure que les 3 premières opérations ne sont pas identiques
				s3=-1
			} else if (s1==-1 & s2==-1){
				s3=1
			} else {
				s3 = choice([-1,1])	
			}
			s4 = choice([-1,1])
			if (this.sup2){
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = ${somme_des_termes_par_signe([a,b,c,d,e])[0]}${ecriture_algebrique(somme_des_termes_par_signe([a,b,c,d,e])[1])} = ${a+b+c+d+e} $`;		
			} else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `\\\\\n$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} $`;
				texte_corr += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = ${ecriture_nombre_relatif(a)}+${ecriture_nombre_relatif(s1*b)}+${ecriture_nombre_relatif(s2*c)}+${ecriture_nombre_relatif(s3*d)}+${ecriture_nombre_relatif(s4*e)} $`;
				texte_corr += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = ${a+s1*b+s2*c+s3*d+s4*e} $`;
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}
*/

/**
* Effectuer la somme ou la différence de deux nombres relatifs
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot modifications par Jean-Claude Lhote
* Référence 5R22
*/
function Exercice_additions_et_soustraction_de_relatifsV2(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions et soustractions de nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.spacing_corr = 1;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.nb_questions = 5;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let relatifs
		let sommes_signees
		for (let i = 0, a, b, c , d , e ,texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			relatifs=[]
			sommes_signees=[]
			a = -1;
			b = choice([-1,1]);
			if (a==-1 & b==-1)  c = 1;// On s'assure que les 3 premières termes n'ont pas le même signe
			else c=choice([-1,1]);
			a=randint(1,this.sup)*a
			b=randint(1,this.sup)*b
			c=randint(1,this.sup)*c
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = choice([-1,1])
			s2 = choice([-1,1])
			if (s1==1 & s2==1){ // On s'assure que les 3 premières opérations ne sont pas identiques
				s3=-1
			} else if (s1==-1 & s2==-1){
				s3=1
			} else {
				s3 = choice([-1,1])	
			}
			s4 = choice([-1,1])
			if (this.sup2){		
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				relatifs=trie_positifs_negatifs([a,b,c,d,e])
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)}\\textbf{=}~${tex_nombrecoul(a)}${ecriture_algebriquec(b)}${ecriture_algebriquec(c)}${ecriture_algebriquec(d)}${ecriture_algebriquec(e)}\\\\\\phantom{A }\\textbf{=}~`;
				if (somme_des_termes_par_signe([a,b,c,d,e])[0]!=0&&somme_des_termes_par_signe([a,b,c,d,e])[1]!=0) {
					texte_corr +=`${tex_nombrecoul(relatifs[0])}${ecriture_algebriquec(relatifs[1])}${ecriture_algebriquec(relatifs[2])}${ecriture_algebriquec(relatifs[3])}${ecriture_algebriquec(relatifs[4])}\\\\\\phantom{A }\\textbf{=}~`
					texte_corr +=`${tex_nombrecoul(somme_des_termes_par_signe([a,b,c,d,e])[0])}${ecriture_algebriquec(somme_des_termes_par_signe([a,b,c,d,e])[1])}\\\\\\phantom{A }\\textbf{=}~`
					texte_corr +=`${tex_nombrecoul(a+b+c+d+e)} $`;
				}
				else
					if (somme_des_termes_par_signe([a,b,c,d,e])[0]!=0) texte_corr +=`${tex_nombrecoul(somme_des_termes_par_signe([a,b,c,d,e])[0])}$`
					else  texte_corr +=`${ecriture_algebriquec(somme_des_termes_par_signe([a,b,c,d,e])[1])}$`
			} 
			else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)}$`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(a)}+${ecriture_nombre_relatifc(s1*b)}+${ecriture_nombre_relatifc(s2*c)}+${ecriture_nombre_relatifc(s3*d)}+${ecriture_nombre_relatifc(s4*e)} $`;

				relatifs=trie_positifs_negatifs([a,s1*b,s2*c,s3*d,s4*e])		

				if (relatifs[0]>0&relatifs[4]<0) {
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(relatifs[0])}+${ecriture_nombre_relatifc(relatifs[1])}+${ecriture_nombre_relatifc(relatifs[2])}+${ecriture_nombre_relatifc(relatifs[3])}+${ecriture_nombre_relatifc(relatifs[4])} $`;
				}
				sommes_signees=somme_des_termes_par_signe([relatifs[0],relatifs[1],relatifs[2],relatifs[3],relatifs[4]])
				if (sommes_signees[0]!=0&&sommes_signees[1]!=0) {					
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(sommes_signees[0])}+${ecriture_nombre_relatifc(sommes_signees[1])} $`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_algebriquec(a+s1*b+s2*c+s3*d+s4*e)} $<br>`;
				}
				else
					if (sommes_signees[0]!=0) texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[0])}$`
					else  texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[1])}$<br>`
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}



/**
* Effectuer la somme de 5 nombres relatifs.
*
* Pour la correction, on commence par effectuer la somme des termes de même signe
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot
* 5R20-3
*/
function Exercice_additions_de_5_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions de 5 nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b,relatifs, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			if (a==1 & b==1) { // On s'assure que les 3 premières termes n'ont pas le même signe
				c = -1
			} else if (a==-1 & b==-1) {
				c = 1
			}
			else {
				c = randint(1,this.sup)*choice([-1,1]);	
			}
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = 1; // Que des additions
			s2 = 1;
			s3 = 1;
			s4 = 1;
			if (this.sup2){
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = ${somme_des_termes_par_signe([a,b,c,d,e])[0]}${ecriture_algebrique(somme_des_termes_par_signe([a,b,c,d,e])[1])} = ${a+b+c+d+e} $`;		
			} else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} $`;
				relatifs=trie_positifs_negatifs([a,s1*b,s2*c,s3*d,s4*e])		

				if (relatifs[0]>0&relatifs[4]<0) {
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(relatifs[0])}+${ecriture_nombre_relatifc(relatifs[1])}+${ecriture_nombre_relatifc(relatifs[2])}+${ecriture_nombre_relatifc(relatifs[3])}+${ecriture_nombre_relatifc(relatifs[4])} $`;
				}
				sommes_signees=somme_des_termes_par_signe([relatifs[0],relatifs[1],relatifs[2],relatifs[3],relatifs[4]])
				if (sommes_signees[0]!=0&&sommes_signees[1]!=0) {					
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(sommes_signees[0])}+${ecriture_nombre_relatifc(sommes_signees[1])} $`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_algebriquec(a+s1*b+s2*c+s3*d+s4*e)}$<br>`;
				}
				else
					if (sommes_signees[0]!=0) texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[0])}$`
					else  texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[1])}$<br>`
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}
/**
* x, y, z étant 3 entiers compris entre 2 et 9, calculer : 
* * kx
* * kx-y
* * xy
* * x+y
* * x+y+z
* * x(y+z)
* * x^2
* * x^2+ky
* * x^2+y^2
* * ax^2+y^2
* * ax^2+bx+c
* @Auteur Rémi Angot
* 5L13-2
*/
function Exercice_substituer(difficulte=1){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = difficulte ;
	this.titre = "Substitution";
	this.consigne = 'Calculer';
	this.spacing = 1;
	this.consigne_modifiable = false;


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		let type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10]
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let k = randint(2,9);
		let k2 = randint(2,9);
		let k3 = randint(2,9);
		if (this.sup>1){ // si difficulté 2, k, k2 et k3 peuvent être négatifs !!! La correction est à faire. Exercice non fini
			k = k*choice([-1,1]);
			k2 = k2*choice([-1,1]);
			k3 = k3*choice([-1,1]);
		}
		let valeurs_possibles = range(9,[0,1]) // Toutes les valeurs de 2 à 9
		let x = choice(valeurs_possibles);
		enleve_element(valeurs_possibles,x);
		let y = choice(valeurs_possibles);
		enleve_element(valeurs_possibles,y);
		let z = choice(valeurs_possibles);
		// x, y et z sont différents
		this.consigne = `Calculer pour $x=${x}$, $y=${y}$ et $z=${z}$.`
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 1 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x=${k}\\times  ${x}=${k*x}$`;
					break ;
				case 2 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x-y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x-y=${k}\\times  ${x}-${y}=${k*x-y}$`;
					break ;
				case 3 :
					texte = `$${lettre_depuis_chiffre(i+1)}=xy$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=xy=${x}\\times  ${y}=${x*y}$`;
					break ;
				case 4 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x+y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x+y=${x}+${y}=${x+y}$`;
					break ;
				case 5 :
					texte = `$${lettre_depuis_chiffre(i+1)}=xy+z$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=xy+z=${x}\\times  ${y}+${z}=${x*y+z}$`;
					break ;
				case 6 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x(y+z)$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x(y+z)=${x}\\times (${y}+${z})=${x*(y+z)}$`;
					break ;
				case 7 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x^2+${ecriture_parenthese_si_negatif(k)}y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x^2+${ecriture_parenthese_si_negatif(k)}y=${x}^2+${ecriture_parenthese_si_negatif(k)}\\times  ${y}=${x*x}+${ecriture_parenthese_si_negatif(k)}\\times  ${y}=${x*x+k*y}$`;
					break ;
				case 8 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x^2+y^2$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x^2+y^2=${x}^2+${y}^2=${x*x}+${y*y}=${x*x+y*y}$`;
					break ;
				case 9 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+y^2$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+y^2=${k}\\times  ${x}^2+${y}^2=${k}\\times  ${x*x}+${y*y}=${k*x*x+y*y}$`;
					break ;
				case 10 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+${ecriture_parenthese_si_negatif(k2)}x+${ecriture_parenthese_si_negatif(k3)}$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+${ecriture_parenthese_si_negatif(k2)}x+${ecriture_parenthese_si_negatif(k3)}=${k}\\times  ${x}^2+${ecriture_parenthese_si_negatif(k2)}\\times  ${ecriture_parenthese_si_negatif(x)}+${ecriture_parenthese_si_negatif(k3)}=${k}\\times  ${x*x}+${ecriture_parenthese_si_negatif(k2)}\\times  ${x}+${ecriture_parenthese_si_negatif(k3)}=${k*x*x+k2*x+k3}$`;
					break ;
				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif'] 
}

/**
* Déterminer la valeur d'un angle dans un triangle.
*
* Correction avec détails ou pas. 9 cas différents
* * On connait 2 angles sur 3.
* * Dans un triangle rectangle, on connait un angle aigu.
* * Dans un triangle isocèle, on connait un angle à la base.
* * Dans un triangle isocèle, on connait l'angle au sommet principal.
* * Quelle est la mesure d'un angle aigu dans un triangle rectangle qui a 2 angles égaux ?
* * Dans un triangle rectangle, un angle aigu mesure le double de l'autre.
* * Dans un triangle rectangle, un angle aigu mesure le quart de l'autre.
* * Dans un triangle rectangle, un angle aigu mesure 5 fois l'autre.
* * Un triangle a 3 angles égaux.
* * Dans un triangle rectangle, un angle mesure le tiers de l'autre.
* @Auteur Jean-Claude Lhote
* Référence 5G31
*/
function Exercice_angles_triangles(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 1 ;
	this.titre = "Somme des angles dans un triangle";
	this.consigne = '';
	sortie_html ? this.spacing_corr = 2 : this.spacing_corr = 1.5;
	sortie_html ? this.spacing = 2 : this.spacing = 1.5;
	this.nb_questions=5;
	this.consigne_modifiable = false;
	this.correction_detaillee_disponible = true;
	this.nb_cols=1;
	this.nb_cols_corr=1;

	let type_de_questions_disponibles
	let troisieme_angle = function(a1,a2) {
		if (a1+a2<=180)  return 180-(a1+a2)
		else return -1;
	}

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (this.sup==1) type_de_questions_disponibles = [1,2,4,5,9]
		else
			if (this.sup==2) type_de_questions_disponibles = [3,6,7,8,10,11,12]
			else type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10,11,12]
		
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		this.consigne=`Calculer l'angle demandé dans les triangles suivants :`
		let lettre1,lettre2,lettre3,s1,s2,s3
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			type_de_questions = liste_type_de_questions[i];
			lettre1 = randint(1,26)	// aleatoirisation du nom des points
			lettre2 = randint(1, 26, [lettre1])
			s1 = lettre_depuis_chiffre(lettre1)
			s2 = lettre_depuis_chiffre(lettre2)
			lettre3 = randint(1, 24, [lettre1, lettre2])
			s3 = lettre_depuis_chiffre(lettre3)
			if (this.correction_detaillee) texte_corr = `Dans un triangle, la somme des angles est égale à $180\\degree$.<br>`;
			else texte_corr=``;
			switch (type_de_questions){
				case 1 :  // triangle quelconque 2 angles connus
					angle1=randint(10,40);
					angle2=randint(20,100);
					texte = `$${s1+s2+s3}$ est un triangle quelconque. L'angle $\\widehat{${s1+s2+s3}}$ mesure $${angle1}\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr+=`$\\widehat{${s1+s2+s3}} + \\widehat{${s2+s3+s1}} + \\widehat{${s2+s1+s3}}=180\\degree$<br>`;
						texte_corr+=`Donc $\\widehat{${s2+s3+s1}}=180- \\left(\\widehat{${s1+s2+s3}} + \\widehat{${s2+s1+s3}}\\right)$.<br>D'où `
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}$= $180\\degree-\\left(${angle1}\\degree+${angle2}\\degree\\right)=180\\degree-${angle1+angle2}\\degree=${troisieme_angle(angle1,angle2)}\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${troisieme_angle(angle1,angle2)}\\degree$.`
					break ;
				case 2 : // Triangle rectangle Un angle aigu connu 
					angle1=90;
					angle2=randint(5,85);
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s2}$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme l'angle $\\widehat{${s1+s2+s3}}$ est droit, les angles $\\widehat{${s2+s3+s1}}$ et $\\widehat{${s2+s1+s3}}$ sont complémentaires.<br>`
						texte_corr +=`On a donc : $\\widehat{${s2+s3+s1}}+ \\widehat{${s2+s1+s3}}=90\\degree$<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}=90\\degree-${angle2}\\degree=${90-angle2}\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${90-angle2}\\degree$.`;
					break ;
				case 3 : // triangle isocèle, angle au sommet principal connu
					angle1=randint(10,170);
					angle2=(180-angle1)/2;
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle1}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					
					if (this.correction_detaillee) {
						texte_corr += `Les angles à la base d'un triangle isocèle sont de même mesure.<br>`
						texte_corr +=`D'où $\\widehat{${s1+s2+s3}}=\\widehat{${s2+s3+s1}}$.<br>`
						texte_corr +=`On a donc : $\\widehat{${s2+s1+s3}}+2\\times  \\widehat{${s2+s3+s1}}=180\\degree$.<br>`;
						texte_corr +=`Soit  $${angle1}\\degree+2\\times  \\widehat{${s2+s3+s1}}=180\\degree$.<br>`;
						texte_corr +=`D'où $2\\times  \\widehat{${s2+s3+s1}}=180\\degree-${angle1}\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}=\\left(180\\degree-${angle1}\\degree\\right)\\div  2=${180-angle1}\\degree\\div  2=${tex_nombrec((180-angle1)/2)}\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${tex_nombrec((180-angle1)/2)}\\degree$.`;
					break ;
				case 4 : // triangle isocèle, angle à la base connu
					angle2=randint(10,80);
					angle1=180-angle2*2;
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s1+s3}}$ ?`;

					if (this.correction_detaillee) {
					texte_corr+=`Les deux angles à la base d'un triangle isocèle sont égaux.<br>`;
					texte_corr += `Donc $\\widehat{${s1+s2+s3}}=\\widehat{${s2+s3+s1}}=${angle2}\\degree$.<br>D'où `
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree-2\\times ${angle2}\\degree=180\\degree-${2*angle2}\\degree=${180-2*angle2}\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s1+s3}}$ mesure $${180-2*angle2}\\degree$.`;
					break ;
				case 5 :  // cas non aléatoires triangle rectangle isocèle
					angle1=90;
					angle2=45;
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s2}$ et $\\widehat{${s2+s1+s3}}=\\widehat{${s2+s3+s1}}$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;

					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s2+s1+s3}}=\\widehat{${s2+s3+s1}}$,<br>`;
						texte_corr += `on a : $2 \\times  \\widehat{${s2+s1+s3}} + 90\\degree=180\\degree$.<br>D'où `;
						texte_corr += ` $2 \\times  \\widehat{${s2+s1+s3}}=180\\degree-90\\degree=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=90\\degree \\div  2=45\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s1+s3}}$ mesure $45\\degree$.`;
				
					break ;
				case 6 : // cas non aléatoires triangle rectangle 30,60,90
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure le double de l'angle $\\widehat{${s1+s3+s2}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s1+s2+s3}}=2\\times \\widehat{${s1+s3+s2}}$ et comme $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires,<br>`;
						texte_corr += `on a : $2 \\times  \\widehat{${s1+s3+s2}} + \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
						texte_corr += ` $3 \\times  \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s1+s3+s2}}=90\\degree \\div  3=30\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s2+s3}}=2\\times \\widehat{${s1+s3+s2}}=2\\times  30\\degree=60\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $30\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $60\\degree$.`;
				
					break ;
				case 7 :// cas non aléatoires triangle rectangle 18,72,90
				texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s3+s2}}$ mesure le quart de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
				if (this.correction_detaillee) {
					texte_corr += `Comme $\\widehat{${s1+s2+s3}}=\\dfrac{\\widehat{${s1+s3+s2}}}{4}$, on a $\\widehat{${s1+s3+s2}}=4\\times \\widehat{${s1+s2+s3}}$.<br>`;
					texte_corr += `De plus $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires.<br>`;
					texte_corr += `D'où : $4 \\times  \\widehat{${s1+s2+s3}} + \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
					texte_corr += ` $5 \\times  \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
				}
				texte_corr += `$\\widehat{${s1+s2+s3}}=90\\degree \\div  5=18\\degree$.<br>`;
				texte_corr += `$\\widehat{${s1+s3+s2}}=4\\times \\widehat{${s1+s2+s3}}=4\\times  18\\degree=72\\degree$.<br>`;
				texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $72\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $18\\degree$.`;
					break ;
				case 8 :// cas non aléatoires triangle rectangle 15,75,90
				texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ est cinq fois plus grand que l'angle $\\widehat{${s1+s3+s2}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
				if (this.correction_detaillee) {
					texte_corr += `$\\widehat{${s1+s2+s3}}=5\\times \\widehat{${s1+s3+s2}}$ et comme $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires,<br>`;
					texte_corr += ` on a : $5 \\times  \\widehat{${s1+s3+s2}} + \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
					texte_corr += ` $6 \\times  \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
				}
				texte_corr += `$\\widehat{${s1+s3+s2}}=90\\degree \\div  6=15\\degree$<br>`;
				texte_corr += `$\\widehat{${s1+s2+s3}}=5\\times \\widehat{${s1+s3+s2}}=5\\times  15\\degree=75\\degree$<br>`;
				texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $15\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $75\\degree$.`;
				break ;
				case 9 : //cas non aléatoire triangle équilatéral
					texte = `$${s1+s2+s3}$ est un triangle dont les trois angles sont égaux. Quelles sont les mesures de ses angles ?`;
					if (this.correction_detaillee) {
						texte_corr += `De plus, $\\widehat{${s1+s2+s3}}=\\widehat{${s1+s3+s2}}=\\widehat{${s2+s1+s3}}$<br>`
						texte_corr += `D'où $3\\times \\widehat{${s1+s2+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $\\widehat{${s1+s2+s3}}=180\\degree\\div  3=60\\degree$.<br>`;
					}	
					texte_corr += `On a donc $\\widehat{${s1+s2+s3}}=\\widehat{${s1+s3+s2}}=\\widehat{${s2+s1+s3}}=60\\degree$.<br>`;
					texte_corr += `Le triangle $${s1+s2+s3}$ est un triangle équilatéral.`
					break ;
				case 10 : //cas non aléatoire triangle rectangle 22.5, 67.5,90
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s3+s2}}$ mesure le tiers de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s1+s2+s3}}=\\dfrac{\\widehat{${s1+s3+s2}}}{3}$, on a $\\widehat{${s1+s3+s2}}=3\\times \\widehat{${s1+s2+s3}}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires.<br>`;
						texte_corr += `D'où : $3 \\times  \\widehat{${s1+s2+s3}} + \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
						texte_corr += ` $4 \\times  \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s1+s2+s3}}=90\\degree \\div  4=22,5\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=3\\times \\widehat{${s1+s2+s3}}=3\\times  22,5\\degree=67,5\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $67,5\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $22,5\\degree$.`;
					break ;
				case 11 : //cas non aléatoire triangle 67.5 , 67.5 , 45.
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s2+s1+s3}}$ mesure les deux tiers de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$, $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s2+s1+s3}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s2+s1+s3}}=\\dfrac{2\\times  \\widehat{${s1+s3+s2}}}{3}$, on a $\\widehat{${s1+s3+s2}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s1+s2+s3}}$ sont égaux, alors $\\widehat{${s1+s2+s3}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}$.<br>`;
						texte_corr += `D'où : $\\dfrac{3 \\times  \\widehat{${s2+s1+s3}}}{2}\\times  2 + \\widehat{${s2+s1+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $3 \\times  \\widehat{${s2+s1+s3}} + \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
						texte_corr += ` $4 \\times  \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree \\div  4=45\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}=\\dfrac{3\\times  45\\degree}{2}=\\dfrac{135\\degree}{2}=67,5\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $67,5\\degree$, l'angle $\\widehat{${s1+s2+s3}}$ mesure $67,5\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $45\\degree$`;
					break;
					case 12 : //cas non aléatoire triangle 72 , 72 , 36.
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure le double de l'angle $\\widehat{${s2+s1+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$, $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s2+s1+s3}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `On a $\\widehat{${s1+s2+s3}}=2\\times  \\widehat{${s2+s1+s3}}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s1+s2+s3}}$ sont égaux, alors $\\widehat{${s1+s3+s2}}=2\\times \\widehat{${s2+s1+s3}}$.<br>`;
						texte_corr += `D'où : $2 \\times  \\widehat{${s2+s1+s3}}\\times  2 + \\widehat{${s2+s1+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $4 \\times  \\widehat{${s2+s1+s3}} + \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
						texte_corr += ` $5 \\times  \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree \\div  5=36\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=2\\times \\widehat{${s2+s1+s3}}=2\\times  36\\degree=72\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $72\\degree$, l'angle $\\widehat{${s1+s2+s3}}$ mesure $72\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $36\\degree$`;
					break;
				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Niveau de difficuté',3,"1 : Facile \n 2 : Difficile \n 3 : Mélange des deux niveaux"]
}

/**
 * Calculs de fréquences dans des séries statistiques
* @auteur Jean-Claude Lhote
* Référence 5S13
*/
 function Calculer_des_frequences(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des fréquences";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;	 
	this.sup=1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_des, nombre_faces, nombre_tirages,index_valeur,frequence,tirages, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on lance des dés
			nombre_des=randint(1,2);
			nombre_faces=choice([4,6,8,10]);
			nombre_tirages=choice([50,100,200,500,1000]);
			tirages=tirer_les_des(nombre_tirages,nombre_faces,nombre_des); // on récupère une série rangée dans l'ordre croissant avec les effectifs correspondants
			do index_valeur=randint(0,tirages.length-1);
			while (tirages[index_valeur][1]==0) // on choisi au hasard l'index d'une valeur dont l'effectif est différent de 0.
			if (nombre_des>1) {
				texte=`On a réalisé $${nombre_tirages}$ lancers de $${nombre_des}$ dés à $${nombre_faces}$ faces.<br>`;
			}
			else {
				texte=`On a réalisé $${nombre_tirages}$ lancers d'un dé à $${nombre_faces}$ faces.<br>`;
			}
			texte+='Les résultats sont inscrits dans le tableau ci-dessous :<br><br>'
			if (tirages.length>12) {
				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs 1/2
				for (let j=0;j<=Math.round(tirages.length/2);j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=0;j<Math.round(tirages.length/2);j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=0;j<Math.round(tirages.length/2);j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$<br><br>'

				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs 2/2
				for (let j=Math.round(tirages.length/2);j<=tirages.length;j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=Math.round(tirages.length/2);j<tirages.length;j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=Math.round(tirages.length/2);j<tirages.length;j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$'
			}
			else {
				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs en un seul morceau
				for (let j=0;j<=tirages.length;j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=0;j<tirages.length;j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=0;j<tirages.length;j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$'
			}

			texte+='<br><br> Calculer la fréquence de la valeur '+`$${calcul(nombre_des+index_valeur)}$.`
			texte_corr='La valeur '+`$${calcul(nombre_des+index_valeur)}$ apparaît `+`$${tirages[index_valeur][1]}$ fois.<br>Le nombre total de lancers est $${tex_nombre(nombre_tirages)}$.<br>`;
			texte_corr+='La fréquence de la valeur '+`$${calcul(nombre_des+index_valeur)}$`+' est '+`$${tex_fraction(tirages[index_valeur][1],tex_nombre(nombre_tirages))}=${tex_nombre(calcul(tirages[index_valeur][1]/nombre_tirages))}$<br>`;
			texte_corr+='Soit '+`$${tex_nombre(calcul(tirages[index_valeur][1]*100/nombre_tirages))}\\thickspace\\%$.`
		}
		else if (this.sup==2) { // ici on trie des notes
			nombre_notes=choice([8,10,12]);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20));  // on récupère une liste de notes (série brute)
			index_valeur=randint(0,notes.length-1);  // on choisi une des notes au hasard
			frequence=0;
			for(j=0;j<notes.length;j++) {   // frequence va contenir l'effectif de la note choisie
				if (notes[j]==notes[index_valeur]) frequence++;
			}
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes (série brute)
			texte+=`et $${notes[nombre_notes-1]}$.`;

			texte+=`<br><br>Calculer la fréquence de la note $${notes[index_valeur]}$.`
			texte_corr=`La note $${notes[index_valeur]}$ a été obtenue $${frequence}$ fois.<br> Il y a $${nombre_notes}$ notes<br>`;
			texte_corr+=`Donc la fréquence de la note $${notes[index_valeur]}$ est : `+`$${tex_fraction(tex_nombre(frequence),tex_nombre(nombre_notes))}$`;
			if (arrondi(frequence/nombre_notes,3)==frequence/nombre_notes) {  // valeurs exactes
				texte_corr+=`$=${arrondi_virgule(frequence/nombre_notes,3)}$<br>`;	// fréquence à 3 chiffres significatifs
				texte_corr+='Soit '+`$${tex_nombre(calcul(frequence*100/nombre_notes))}\\thickspace\\%$.` // fréquence en pourcentage avec 1 décimale
			}
			else {
				texte_corr+=`$\\approx${arrondi_virgule(frequence/nombre_notes,3)}$`  // valeurs arrondies
				texte_corr+='Soit environ '+`$${arrondi_virgule(calcul(frequence*100/nombre_notes),1)}\\thickspace\\%$.`		
			}
			
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // on récupère une série de température correspondant à 1 mois d'une année (série brute)
			index_valeur=randint(0,temperatures.length-1);  // on choisi l'index d'une valeur au hasard
			frequence=0;
			for(j=0;j<temperatures.length;j++) {
				if (temperatures[j]==temperatures[index_valeur]) frequence++;  // frequence contient l'effectif de cette valeur
			}
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;

			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // On construit le tableau des températures
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  texte+='&'+tex_nombre(j+1);
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}';
			for (j=0;j<Math.round(temperatures.length/2);j++) 	texte+='&'+temperatures[j];
			texte+='\\\\\\hline\\end{array}$<br><br>';
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // On construit le tableau des températures
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  texte+='&'+tex_nombre(j+1);
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}';
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	texte+='&'+temperatures[j];
			texte+='\\\\\\hline\\end{array}$';
			

			texte+='<br><br>Calculer la fréquence de la température '+`$${temperatures[index_valeur]}^\\circ\\text{C}$.`;
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, la température $${temperatures[index_valeur]}^\\circ\\text{C}$ a été relevée $${frequence}$ fois.<br>`;
			texte_corr+=`Il y a $${jours_par_mois(mois)}$ jours ce mois-ci.<br> La fréquence de la température $${temperatures[index_valeur]}^\\circ\\text{C}$ est :<br>`;
			texte_corr+=`$${tex_fraction(tex_nombre(frequence),tex_nombre(jours_par_mois(mois)))}$`;
			if (arrondi(frequence/nombre_temperatures,3)==frequence/nombre_temperatures) {	// valeurs exactes
				texte_corr+=`$=${arrondi_virgule(frequence/nombre_temperatures,3)}$<br>`;
				texte_corr+='Soit '+`$${tex_nombre(calcul(frequence*100/nombre_temperatures))}\\thickspace\\%$.`

			}
			else {
				texte_corr+=`$\\approx${arrondi_virgule(frequence/nombre_temperatures,3)}$<br>`; // valeurs arrondies
				texte_corr+='Soit environ '+`$${arrondi_virgule(calcul(frequence*100/nombre_temperatures),1)}\\thickspace\\%$.`
			}
		}			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',3,"1 : Lancers de dés \n 2 : Liste de notes\n 3 : Un mois de températures"];
}
 /**
  * Calcul de moyennes de série statistiques
* @auteur Jean-Claude Lhote
* Référence 5S14
*/
function Calculer_des_moyennes(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des moyennes";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols_corr = 1;	
	this.nb_cols=1;  
	this.sup = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_notes,notes,somme,nombre_temperatures,temperatures, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on trie des notes
			nombre_notes=choice([8,10,12]);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20)); // on récupère une série de notes (série brute)
			for (somme=0,j=0;j<nombre_notes;j++) somme+=notes[j];
		
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes
			texte+=`et $${notes[nombre_notes-1]}$.<br>`;
			texte+=`Calculer la moyenne de cet élève en mathématiques.`
			texte_corr=`La somme des notes est : $${somme}$.<br> Il y a $${nombre_notes}$ notes<br>`;
			texte_corr+='Donc la moyenne de cet élève est : '+`$${tex_fraction(tex_nombre(somme),tex_nombre(nombre_notes))}$`;
			if (arrondi(somme/nombre_notes,2)==somme/nombre_notes) texte_corr+=`$=${arrondi_virgule(somme/nombre_notes,2)}$<br>`; // moyenne exacte
			else texte_corr+=`$\\approx${arrondi_virgule(somme/nombre_notes,2)}$`	// moyenne arrondie
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // série brute de un mois de température
			somme=0;
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 1/2
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=0;j<Math.round(temperatures.length/2);j++) 	{
				texte+='&'+temperatures[j];
				somme+=temperatures[j];
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 2/2
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	{
				texte+='&'+temperatures[j];
				somme+=temperatures[j];
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';
			

			texte+='Calculer la température moyenne de ce mois.';
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, la somme des températures est `+`$${somme}^\\circ\\text{C}$.<br> Il y a $${temperatures.length}$ jours ce mois-ci.<br> La température moyenne est :<br>`;
			texte_corr+=`$${tex_fraction(tex_nombre(somme)+`^\\circ\\text{C}`,tex_nombre(nombre_temperatures))}$`
		
			if (arrondi(somme/nombre_temperatures,2)==somme/nombre_temperatures)  
				texte_corr+=`$=${arrondi_virgule(somme/nombre_temperatures,2)}^\\circ\\text{C}$`; // moyenne exacte
			else 				texte_corr+=`$\\approx${arrondi_virgule(somme/nombre_temperatures,2)}^\\circ\\text{C}$`;  // moyenne arrondie
		}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',2,"1 : Série de notes\n 2 : Série de températures"];
}

 /**
  * Calculer des étendues de séries statistiques
* @auteur Jean-Claude Lhote
* Référence 3S15
*/
function Calculer_des_etendues(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des étendues";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1;
	this.nb_cols_corr = 1;	
	this.nb_cols=1; 
	this.sup = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_notes,notes,min,max,temperatures,nombre_temperatures, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on trie des notes
			nombre_notes=randint(8,12);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20)); // on récupère une série de notes (série brute)
			for (min=20,max=0,j=0;j<nombre_notes;j++) {  // On cherche la note minimum et la note maximum
				min=Math.min(notes[j],min);
				max=Math.max(notes[j],max);
			}
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes
			texte+=`et $${notes[nombre_notes-1]}$.<br>`;
			texte+=`Calculer l\'étendue de cette série de notes.`
			texte_corr=`La note la plus basse est : $${min}$.<br>La note la plus haute est $${max}$<br>`;
			texte_corr+='Donc l\'étendue de cette série est : '+`$${tex_nombre(max)}-${tex_nombre(min)}=${tex_nombre(max-min)}$`;
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // série brute de un mois de température
			max=0;
			min=20;
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;
			
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 1/2
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  	texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=0;j<Math.round(temperatures.length/2);j++) 	{  // on cherche le minimum et le maximum
				texte+='&'+temperatures[j];
				min=Math.min(temperatures[j],min);
				max=Math.max(temperatures[j],max);
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';

			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 2/2
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  	texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	{  // on cherche le minimum et le maximum
				texte+='&'+temperatures[j];
				min=Math.min(temperatures[j],min);
				max=Math.max(temperatures[j],max);
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';

			texte+='Calculer l\'amplitude thermique de ce mois (l\'étendue de la série).';
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, la température minimale est `+`$${min}^\\circ\\text{C}$.<br>La température maximale est $${max}^\\circ\\text{C}$.<br> L\'amplitude thermique est :<br>`;
			texte_corr+=`$${tex_nombre(max)}-${ecriture_parenthese_si_negatif(min)}$`
			if (min<0) 	texte_corr+=`$\\thickspace~=${tex_nombre(max)}+${tex_nombre(-min)}$`;
			texte_corr+=`$\\thickspace=${tex_nombre(max-min)}^\\circ\\text{C}$`;

		}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',2,"1 : Série de notes\n 2 : Série de températures"];
}

/**
* Calculer +/- 20, 30, 40 ou 60 %
* @Auteur Rémi Angot
* 5N110
*/
function Variation_en_pourcentages(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Variation en pourcentages";
	this.consigne = "Calculer le nouveau prix";
	this.nb_questions = 5;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols_corr = 1;
	this.nb_cols = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, prix, taux, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
			prix = choice([randint(2,9),randint(1,9)*10,randint(1,9)*100,Algebrite.eval(randint(11,99)/10)]);
			// X | X0 | X00 | X,X0
			taux = choice([20,30,40,60]);
			if (choice([true,false])) {
				if (sortie_html) {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix diminue de ${taux} \%.`	
				} else {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix diminue de ${taux}~\\%.`	
				}
				
				texte_corr = `$\\text{Diminution : }${tex_fraction(taux,100)}\\times  ${tex_prix(prix)} = ${tex_prix(Algebrite.eval(prix*taux))}\\div 100=${tex_prix(Algebrite.eval(prix*taux/100))}$ €`
				texte_corr += `<br>`
				texte_corr += `$\\text{Nouveau prix : }${tex_prix(prix)}-${tex_prix(Algebrite.eval(prix*taux/100))}=${tex_prix(Algebrite.eval(prix-prix*taux/100))}$ €`
			} else {
				if (sortie_html) {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix augmente de ${taux} \%.`
				} else {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix augmente de ${taux}~\\%.`

				}
				texte_corr = `$\\text{Augmentation : }${tex_fraction(taux,100)}\\times  ${tex_prix(prix)}= ${tex_prix(Algebrite.eval(prix*taux))}\\div 100=${tex_prix(Algebrite.eval(prix*taux/100))}$ €`
				texte_corr += `<br>`
				texte_corr += `$\\text{Nouveau prix : }${tex_prix(prix)}+${tex_prix(Algebrite.eval(prix*taux/100))}=${tex_prix(Algebrite.eval(prix*(1+taux/100)))}$ €`
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
}
/**
* Écrire une expression littérale à partir d'une phrase : 
* * Double, triple, moitié, tiers, quart
* * Successeur, prédécesseur
* * Carré, cube, opposé, inverse
* * Somme, produit, quotient
* * Nombre pair, nombre impair, multiple d'un nombre donné
* @Auteur Rémi Angot
* 5L10
*/
function Ecrire_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Écrire une expression littérale";
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = range1(17)
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let lettres_disponibles = ['x','y','z','t','a','b','c','n','m']
			let x = choice(lettres_disponibles)
			enleve_element(lettres_disponibles,x)
			let y = choice(lettres_disponibles)
			let k = randint(2,10)
			switch (liste_type_de_questions[i]){
				case 1 : // 2x
					texte = `Exprimer le double de $${x}$ en fonction de $${x}$.`
					texte_corr = `Le double de $${x}$ se note : $2${x}$.`
					break ;
				case 2 : // 3x
					texte = `Exprimer le triple de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le triple de $${x}$  se note : $3${x}$.`
					break ;
				case 3 : // x/2
					texte = `Exprimer la moitié de $${x}$ en fonction de $${x}$.`
					texte_corr = `La moitié de $${x}$  se note :  $${tex_fraction(x,2)}=${x}\\div 2=0,5${x}$.`
					break ;
				case 4 : // x/4
					texte = `Exprimer le quart de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le quart de $${x}$  se note :  $${tex_fraction(x,4)}=${x}\\div 4=0,25${x}$.`
					break ;
				case 5 : // x+1
					texte = `$${x}$ étant un nombre entier, exprimer l'entier suivant en fonction de $${x}$.`
					texte_corr = `Le successeur de $${x}$ se note :  $${x}+1$.`
					break ;
				case 6 : // x-1
					texte = `$${x}$ étant un nombre entier, exprimer l'entier précédent en fonction de $${x}$.`
					texte_corr = `Le prédecesseur de $${x}$  se note :  $${x}-1$.`
					break ;
				case 6 : // x^2
					texte = `Exprimer le carré de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le carré de $${x}$  se note : $${x}^2$.`
					break ;
				case 7 : // x^3
					texte = `Exprimer le cube de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le cube de $${x}$  se note : $${x}^3$.`
					break ;
				case 8 : // -x
					texte = `Exprimer l'opposé de $${x}$  en fonction de $${x}$.`
					texte_corr = `L'opposé de $${x}$  se note : $-${x}$.`
					break ;
				case 9 : // 1/x
					texte = `Exprimer l'inverse de $${x}$  en fonction de $${x}$.`
					texte_corr = `L'inverse de $${x}$ se note : $${tex_fraction(1,x)}$.`
					break ;
				case 10 : // x+k
					texte = `Exprimer la somme de $${x}$ et ${k} en fonction de $${x}$.`
					texte_corr = `La somme de $${x}$ et ${k} se note : $${x}+${k}$.`
					break ;
				case 11 : // kx
					texte = `Exprimer le produit de $${x}$  par ${k} en fonction de $${x}$.`
					texte_corr = `Le produit de $${x}$ par ${k} se note : $${k}${x}$.`
					break ;
				case 12 : // x/k
					texte = `Exprimer le quotient de $${x}$ par ${k} en fonction de $${x}$.`
					texte_corr = `Le quotient de $${x}$ par ${k} se note : $${tex_fraction(x,k)}$.`
					break ;
				case 13 : // k/x
					texte = `Exprimer le quotient de ${k} par $${x}$ en fonction de $${x}$.`
					texte_corr = `Le quotient de ${k} par $${x}$ se note : $${tex_fraction(k,x)}$.`
					break ;
				case 14 : //xy
					texte = `Comment se note le produit de $${x}$ par $${y}$ ?`
					texte_corr = `Le produit de $${x}$ par $${y}$ se note $${x}${y}$.`
					break ;
				case 15 : //pair
					texte = `Écrire une expression littérale qui permet de représenter un nombre pair.`
					texte_corr = `Un nombre pair peut s'écrire sous la forme $2n$ avec $n$ un entier naturel.`
					break ; 
				case 16 : //impair
					texte = `Écrire une expression littérale qui permet de représenter un nombre impair.`
					texte_corr = `Un nombre impair peut s'écrire sous la forme $2n+1$ avec $n$ un entier naturel.`
					break ;
				case 17 : //multiple de k
					texte = `Écrire une expression littérale qui permet de représenter un multiple de ${k}.`
					texte_corr = `Un multiple de ${k} peut s'écrire sous la forme $${k}n$ avec $n$ un entier naturel.`
					break ; 

			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = ["Uniquement la lettre $n$."]

}

/**
* Traduire un programme de calcul par une expression littérale de la forme ax+b après simplification
* @Auteur Rémi Angot
* 5L10-2
*/
function Traduire_un_programme_de_calcul(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Traduire un programme de calcul par une expression littérale";
	this.consigne = "";
	this.nb_questions = 2;
	this.nb_cols = 2;
	this.nb_cols_corr = 1;
	this.spacing_corr = 1;
	this.spacing = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,2,3,4,5,6]
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a = randint(4,11)
			let b = randint(2,11)
			let c = randint(2,11)
			let d = randint(2,5)
			switch (liste_type_de_questions[i]){
				case 1 : // (x+a)*b+c
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Ajoute ${a}`,`Multiplie par ${b}`,`Ajoute ${c}`])
					texte += `Si on note $x$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$x\\xrightarrow{+${a}} x+${a}\\xrightarrow{\\times  ${b}}(x+${a})\\times  ${b}=${b}x+${a*b}\\xrightarrow{+${c}}${b}x+${a*b+c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${b}x+${a*b+c}$.`
					break ;
				case 2 : // (ax+b)*c
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Multiplie par ${c}`])
					texte += `Si on note $y$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$y\\xrightarrow{\\times  ${a}} ${a}y\\xrightarrow{+${b}}${a}y+${b} \\xrightarrow{\\times  ${c}}(${a}y+${b})\\times ${c}=${a*c}y+${b*c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c}y+${b*c}$.`
					break ;
				case 3 : // ax+b-2x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Enlève le double du nombre de départ`])
					texte += `Si on note $a$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$a\\xrightarrow{\\times  ${a}} ${a}a\\xrightarrow{+${b}}${a}a+${b} \\xrightarrow{-2a}${a}a+${b}-2a=${a-2}a+${b}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a-2}a+${b}$.`
					break ;
				case 4 : // ax+b+3x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Ajoute le triple du nombre de départ`])
					texte += `Si on note $t$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$t\\xrightarrow{\\times  ${a}} ${a}t\\xrightarrow{+${b}}${a}t+${b} \\xrightarrow{+3t}${a}t+${b}+3t=${a+3}t+${b}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a+3}t+${b}$.`
					break ;
				case 5 : // (ax+b)*c-d
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Multiplie par ${c}`,`Enlève ${d}`])
					texte += `Si on note $x$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$x\\xrightarrow{\\times  ${a}} ${a}x\\xrightarrow{+${b}}${a}x+${b} \\xrightarrow{\\times  ${c}}(${a}x+${b})\\times  ${c}=${a*c}x+${b*c}\\xrightarrow{-${d}}${a*c}x+${b*c-d}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c}x+${b*c-d}$.`
					break ;
				case 6 : // (ax+b)*c+x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`, `Multiplie par ${c}`,`Ajoute le nombre de départ`])
					texte += `Si on note $y$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$y\\xrightarrow{\\times  ${a}} ${a}y\\xrightarrow{+${b}}${a}y+${b} \\xrightarrow{\\times  ${c}}(${a}y+${b})\\times  ${c}=${a*c}y+${b*c}\\rightarrow ${a*c}y+${b*c}+y=${a*c+1}y+${b*c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c+1}y+${b*c}$.`
					break ;
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				if (est_diaporama) {
					texte = texte.replace(', quel est le résultat du programme de calcul ?',',<br> quel est le résultat de ce programme ?')
				}
				if (!sortie_html && i==0) {texte = `\\setlength\\itemsep{1em}` + texte}; // espacement entre les questions
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = true;
}


/**
* Calculer la valeur d'une expression littérale
* 
* * ax+b
* * a(x+b)
* * x^2+y^2
* * x^2-y^2
* * ax^2+b(x-1)+cy^3
* * ax^2+bx+c
* * ax^2+bx-c
* * ax^2-bx+c
* * axy+x+y
* * (ax+b)(cy-d)
* @Auteur Rémi Angot
* 5L13
*/
function Calculer_la_valeur_d_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer la valeur d'une expression littérale";
	this.consigne = "";
	this.nb_questions = 5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		//let type_de_questions_disponibles = range1(10)
		let type_de_questions_disponibles;
		
		if (this.version=="5L13-5") {
			type_de_questions_disponibles = range1(2)
		} else {
			type_de_questions_disponibles = range1(10)			
		};

		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, c, d, x, y
			switch (liste_type_de_questions[i]){
				case 1 : // ax+b
					a = randint(2,10)
					x = randint(2,10,a)
					b = randint(1,10,[a,x])
					texte = `Calculer $${a}x+${b}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x+${b}=${a}\\times ${x}+${b}=${a*x}+${b}=${a*x+b}$`
					break ;
				case 2 : // a(x+b)
					a = randint(2,10)
					x = randint(2,10,a)
					b = randint(1,10,[a,x])
					texte = `Calculer $${a}(x+${b})$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}(x+${b})=${a}\\times (${x}+${b})=${a}\\times ${x+b}=${a*(x+b)}$`
					break ;
				case 3 : // x^2+y^2
					x = randint(2,10)
					y = randint(2,10)
					texte = `Calculer $x^2+y^2$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$x^2+y^2=${x}^2+${y}^2=${x**2}+${y**2}=${x**2+y**2}$`
					break ;
				case 4 : // x^2-y^2
					x = randint(2,10)
					y = randint(1,x-1)
					texte = `Calculer $x^2-y^2$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$x^2-y^2=${x}^2-${y}^2=${x**2}-${y**2}=${x**2-y**2}$`
					break ;
				case 5 : // ax^2+b(x-1)+cy^3
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					y = choice([1,2,3,5,10])
					texte = `Calculer $${a}x^2+${b}(x-1)+${c}y^3$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$${a}x^2+${b}(x-1)+${c}y^3=${a}\\times ${x}^2+${b}(${x}-1)+${c}\\times ${y}^3=${a}\\times ${x**2}+${b}\\times ${x-1}+${c}\\times ${y**3}=${a*x**2+b*(x-1)+c*y**3}$.`
					break ;
				case 6 : // ax^2+bx+c
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2+${b}x+${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2+${b}x+${c}=${a}\\times ${x}^2+${b}\\times ${x}+${c}=${a}\\times ${x**2}+${b*x}+${c}=${a*x**2+b*x+c}$`
					break ;
				case 7 : // ax^2+bx-c
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2+${b}x-${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2+${b}x-${c}=${a}\\times ${x}^2+${b}\\times ${x}-${c}=${a}\\times ${x**2}+${b*x}-${c}=${a*x**2+b*x-c}$`
					break ;
				case 8 : // ax^2-bx+c
					a = randint(2,5)
					b = randint(2,a)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2-${b}x+${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2-${b}x+${c}=${a}\\times ${x}^2-${b}\\times ${x}+${c}=${a}\\times ${x**2}-${b*x}+${c}=${a*x**2-b*x+c}$`
					break ;
				
				case 9 : // axy+x+y
					a = randint(2,10)
					x = randint(2,10)
					y = randint(2,10,x)
					texte = `Calculer $${a}xy+x+y$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$${a}xy+x+y=${a}\\times ${x}\\times ${y}+${x}+${y}=${a*x*y}+${x}+${y}=${a*x*y+x+y}$`
					break ;
				case 10 : // (ax+b)(cy-d)
					a = randint(2,10)
					x = randint(2,10)
					b = randint(1,10)
					y = randint(2,10,x)
					c = randint(2,10)
					d = randint(1,Math.min(10,c*y))
					texte = `Calculer $(${a}x+${b})(${c}y-${d})$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$(${a}x+${b})(${c}y-${d})=(${a}\\times ${x}+${b})(${c}\\times ${y}-${d})=${a*x+b}\\times ${c*y-d}=${(a*x+b)*(c*y-d)}$`
					break ;
				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = true;
}


/**
* Tester une égalité pour 2 valeurs données (une vraie et une fausse)
*
* * 3x-a=2x+b
* * 3x+a=5x-b
* * ax+b=(a+1)x-c
* * a-2x=b+2x
* @Auteur Rémi Angot
* 5L14
*/
function Tester_une_egalite(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Tester une égalité";
	this.consigne = "";
	this.nb_questions = 3;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup=1;
	this.sup2=false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles // = range1(5)
	//	let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		if (this.sup2==false) type_de_questions_disponibles=[1,2,3,4,5]
		else type_de_questions_disponibles=[6,7,3]
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, x1, x2
			switch (liste_type_de_questions[i]){
				case 1 : // 3x-a=2x+b   x=a+b  
					if (this.sup==1) {
					a = randint(1,6)
					b = randint(1,6,[a])
					x2 = a + b
					x1 = randint(2,10,[x2])
	
					}
					else {
						a = randint(-6,6,[0])
						b = randint(-6,6,[a,0])	
						x2 = a + b
						x1 = randint(-10,10,[0,x2])
						
					}

					texte = `Tester l'égalité $3x-${ecriture_parenthese_si_negatif(a)}=2x+${ecriture_parenthese_si_negatif(b)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$3x-${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a)}=${3*x1-a}$ <br> $2x+${ecriture_parenthese_si_negatif(b)}=2\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)}=${2*x1+b}$<br>`
					texte_corr += `$${3*x1-a}\\not=${2*x1+b}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${ecriture_parenthese_si_negatif(x2)}$ : <br>`
					texte_corr += `$3x-${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a)}=${3*x2-a}$ <br> $2x+${ecriture_parenthese_si_negatif(b)}=2\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)}=${2*x2+b}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.`
					break ;
				case 2 : // 3x+a=5x-b   x=(a+b)/2 donc a et b impairs pour une solution entière  
					if (this.sup==1) {
					a = randint(1,9)
					b = randint(0,4)*2+a%2;
					x1 = parseInt(Algebrite.eval((a+b)/2))
					x2 = randint(1,9,x1)
					}
					else {
						a = randint(-9,9,[0])
						b = randint(-4,4,[a,0])*2+a%2
						x1 = parseInt(Algebrite.eval((a+b)/2))
						x2 = randint(-9,9,[0,x1])	
					}

					texte = `Tester l'égalité $3x+${ecriture_parenthese_si_negatif(a)}=5x-${ecriture_parenthese_si_negatif(b)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$3x+${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(a)}=${3*x1+a}$ <br> $5x-${ecriture_parenthese_si_negatif(b)}=5\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(b)}=${5*x1-b}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$3x+${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(a)}=${3*x2+a}$ <br> $5x-${ecriture_parenthese_si_negatif(b)}=5\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(b)}=${5*x2-b}$<br>`
					texte_corr += `$${3*x2+a}\\not=${5*x2-b}$ donc l'égalité n'est pas vraie.`
					break ;
				case 3 : // 10(x-a)=4(2x+b) x=(10a+4b)/2
					if (this.sup==1) {
					a = randint(1,3)
					b = randint(1,3)
					x2 = parseInt(Algebrite.eval((10*a+4*b)/2))
					x1 = randint(1,9,x2)
					}
					else {
						a = randint(-3,3,[0])
						b = randint(-3,3,[0])	
						x2 = parseInt(Algebrite.eval((10*a+4*b)/2))
						x1 = randint(-9,9,[0,x2])
					}

					texte = `Tester l'égalité $10(x-${ecriture_parenthese_si_negatif(a)})=4(2x+${ecriture_parenthese_si_negatif(b)})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$10(x-${ecriture_parenthese_si_negatif(a)})=10\\times (${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x1-a}=${10*(x1-a)}$ <br> $4(2x+${ecriture_parenthese_si_negatif(b)})=4\\times (2\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2*x1+b}=${4*(2*x1+b)}$<br>`
					texte_corr += `$${10*(x1-a)}\\not=${4*(2*x1+b)}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$10(x-${ecriture_parenthese_si_negatif(a)})=10\\times (${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x2-a}=${10*(x2-a)}$ <br> $4(2x+${ecriture_parenthese_si_negatif(b)})=4\\times (2\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2*x2+b}=${4*(2*x2+b)}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.`
					break ;
				case 4 : // ax+b=(a+1)x-c x=b+c
					if (this.sup==1) {
					a = randint(2,9)
					b = randint(2,9)
					c = randint(1,3)
					x1 = b + c
					x2 = randint(2,10,x1)
					}
					else {
						a = randint(2,9)
						b = randint(2,9)*randint(-1,1,0)
						c = randint(1,3)*randint(-1,1,0)
						x1 = b + c
						x2 = randint(2,10,x1)*randint(-1,1,0)
					}

					texte = `Tester l'égalité $${ecriture_parenthese_si_negatif(a)}x+${ecriture_parenthese_si_negatif(b)}=${a+1}x-${ecriture_parenthese_si_negatif(c)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(b)}=${ecriture_parenthese_si_negatif(a)}\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)}=${a*x1+b}$ <br> $${a+1}x-${ecriture_parenthese_si_negatif(c)}=${a+1}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(c)}=${(a+1)*x1-c}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(b)}=${ecriture_parenthese_si_negatif(a)}\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)}=${a*x2+b}$ <br> $${a+1}x-${ecriture_parenthese_si_negatif(c)}=${a+1}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(c)}=${(a+1)*x2-c}$<br>`
					texte_corr += `$${a*x2+b}\\not=${(a+1)*x2-c}$ donc l'égalité n'est pas vraie.`
					break ;
				case 5 : // a-2x=b+2x x=(a-b)/4
					if (this.sup==1) {
					x1 = randint(1,9)
					b = randint(1,9)
					a = b+4*x1
					x2 = randint(1,11,x1)
					}
					else {
						x1 = randint(-9,9)
						b = randint(-9,9,0)
						a = b+4*x1
						x2 = randint(1,11,x1)
					}

					texte = `Tester l'égalité $${a}-2x=${b}+2x~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(x1)}=${a-2*x1}$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(x1)}=${b+2*x1}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(x2)}=${a-2*x2}$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(x2)}=${b+2*x2}$<br>`
					texte_corr += `$${a-2*x2}\\not=${b+2*x2}$ donc l'égalité n'est pas vraie.`
					break ;
				case 6 : // ax-ab=x²-bx (a-x)(x-b)=0 solutions a et b.
					if (this.sup==1) {
					b = randint(2,9)
					a = randint(2,9)
					x3 = b
					x1 = a
					x2 = randint(1,9,[x1,x3])
					}
					else {
						a = randint(-9,9,[0,1])
						b = randint(-9,9,[0,a])
						x1 = a
						x3 = b
						x2 = randint(-9,9,[x1,x3])
					}
					texte = `Tester l'égalité $${a}x-${ecriture_parenthese_si_negatif(a*b)}=x^2-${ecriture_parenthese_si_negatif(b)}x~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x1-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x1)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x1)}=${x1*x1}-${ecriture_parenthese_si_negatif(b*x1)}=${x1*x1-b*x1}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x2-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x2)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x2)}=${x2*x2}-${ecriture_parenthese_si_negatif(b*x2)}=${x2*x2-b*x2}$<br>`
					texte_corr += `$${a*x2-a*b}\\not=${x2*x2-b*x2}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x3}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x3)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x3-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x3)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x3)}=${x3*x3}-${ecriture_parenthese_si_negatif(b*x3)}=${x3*x3-b*x3}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					break ;
				case 7 : // adx-bd=acx²-bcx  --- (ax-b)(d-cx)=0 solutions b/a et d/c.
					if (this.sup==1) {
						c = randint(2,5)
						a = randint(2,5)
						x2 = randint(2,6)
						x3 = randint(2,6,x2)
						x1 = randint(1,7,[x2,x3])
						b = a*x2
						d = c*x3
					}
					else {
						c = randint(2,5)*randint(-1,1,0)
						a = randint(2,5)*randint(-1,1,0)
						x2 = randint(1,6)*randint(-1,1,0)
						x3 = randint(1,6,x2)*randint(-1,1,0)
						x1 = randint(1,7,[x2,x3])*randint(-1,1,0)
						b = a*x2
						d = c*x3
					}
					texte = `Tester l'égalité $${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x~$ pour $~x=${x1}~$, pour $~x=${x2}~$ puis pour $~x=${x3}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x1-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x1)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x1)}=${a*c*x1*x1}-${ecriture_parenthese_si_negatif(b*c*x1)}=${a*c*x1*x1-b*c*x1}$<br>`
					texte_corr += `$${a*d*x1-d*b}\\not=${a*c*x1*x1-b*c*x1}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x2-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x2)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x2)}=${a*c*x2*x2}-${ecriture_parenthese_si_negatif(b*c*x2)}=${a*c*x2*x2-b*c*x2}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x3}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x3)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x3-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x3)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x3)}=${a*c*x3*x3}-${ecriture_parenthese_si_negatif(b*c*x3)}=${a*c*x3*x3-b*c*x3}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					break ;
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
* Réduire une expression
*
* * ax+bx+c	
* * ax+b+x+c
* * ax^2+bx+c+dx^2+x
* * a+x+b+c+dx
* * ax+y+bx+c+dy
* * ax+b-cx
* @Auteur Rémi Angot
* 5L12
*/
function Reduire_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Réduire une expression littérale";
	this.consigne = "Réduire les expressions suivantes";
	this.nb_questions = 5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup = 9; // valeur maximale des coefficients
	this.sup2 = false; // avec des nombres décimaux

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = range1(7)
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, c, d
			if (this.sup2) {
						a = calcul(randint(2,this.sup)+randint(1,9)/10)
						b = choice([calcul(randint(2,9)+randint(1,9)/10),calcul(randint(2,9)+randint(1,9)/10+randint(1,9)/100)])
						c = calcul(randint(2,this.sup)+randint(1,9)/10)
						d = choice([calcul(randint(2,9)+randint(1,9)/10),calcul(randint(2,9)+randint(1,9)/10+randint(1,9)/100)])
					} else {
						a = randint(2,this.sup)
						b = randint(2,this.sup)
						c = randint(2,this.sup)
						d = randint(2,this.sup)
					}
			switch (liste_type_de_questions[i]){
				case 1: // ax+bx+c	
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}x+${tex_nombre(c)}$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}x+${tex_nombre(c)}=${tex_nombre(calcul(a+b))}x+${tex_nombre(c)}$`
					break;
				case 2: // ax+b+x+c
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}+x+${tex_nombre(c)}$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}+x+${tex_nombre(c)}=${tex_nombre(calcul(a+1))}x+${tex_nombre(calcul(b+c))}$`
					break;
				case 3: // ax^2+bx+c+dx^2+x
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x^2+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}x^2+x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x^2+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}x^2+x=${tex_nombre(calcul(a+d))}x^2+${tex_nombre(calcul(b+1))}x+${tex_nombre(c)}$`
					break;
				case 4: // a+x+b+c+dx
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}+x+${tex_nombre(b)}+${tex_nombre(c)}+${tex_nombre(d)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}+x+${tex_nombre(b)}+${tex_nombre(c)}+${tex_nombre(d)}x=${tex_nombrec(1+d)}x+${tex_nombrec(a+b+c)}$`
					break;
				case 5: // ax+y+bx+c+dy
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+y+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}y$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+y+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}y=${tex_nombrec(a+b)}x+${tex_nombrec(1+d)}y+${tex_nombre(c)}$`
					break;
				case 6: // ax+b-cx
					if (c > a) {
						[a, c] = [c, a] //pour s'assurer que a-c est positif
					}
					if (c==a){
						a++
					}
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}-${tex_nombre(c)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}-${tex_nombre(c)}x=${tex_nombrec(a-c)}x+${tex_nombre(b)}$`
					break;
				case 7: // ax-cx
					if (c > a) {
						[a, c] = [c, a] //pour s'assurer que a-c est positif
					}
					if (c==a){
						a++
					}
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x-${tex_nombre(c)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x-${tex_nombre(c)}x=${rien_si_1(tex_nombrec(a-c))}x$`
					break;

				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale des coefficients',999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres décimaux']
}

/**
* Lire l'abscisse décimale d'un point
* @Auteur Jean-Claude Lhote et Rémi Angot
* Référence 5R11
*/
function Lire_abscisse_relative(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Lire l'abscisse relative d'un point";
	this.consigne = "Lire l'abscisse de chacun des points suivants.";
	this.nb_questions = 3;
	this.nb_questions_modifiable = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=4;
	this.liste_packages = 'tkz-euclide'

	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
		let type_de_questions;
		this.liste_questions=[];
		this.liste_corrections=[];
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées
		if (this.sup==4) 	type_de_questions=combinaison_listes([1,2,3],this.nb_questions);
		else 				type_de_questions=combinaison_listes([parseInt(this.sup)],this.nb_questions);
		

		this.contenu = html_consigne(this.consigne)
		for (let i = 0,abs0,l1,l2,l3,x1,x2,x3,x11,x22,x33, pas1,pas2, id_unique, texte, texte_corr; i < this.nb_questions;i++) {
			l1=lettre_depuis_chiffre(i*3+1)
			l2=lettre_depuis_chiffre(i*3+2)
			l3=lettre_depuis_chiffre(i*3+3)
			switch (type_de_questions[i]) {
				case 1: // Placer des décimaux relatifs sur un axe (1 décimale)
					abs0 = randint(-6, -3);
					pas1 = 1;
					pas2 = 10;
					break;

				case 2: // Placer des décimaux relatifs sur un axe (2 décimales)
					abs0 = randint(-4, -2) / 10;
					pas1 = 10;
					pas2 = 10;
					break;

				case 3: // Placer des décimaux relatifs sur un axe (3 décimales)
					abs0 = randint(-6, -2) / 100;
					pas1 = 100;
					pas2 = 10;
					break;
			}
			x1 = randint(0, 2); x2 = randint(3, 4); x3 = randint(5, 6);
			x11 = randint(1, 9); x22 = randint(1, 9); x33 = randint(1, 3)
			if (sortie_html) {
				id_unique = `${i}_${Date.now()}`
				this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11], [l2, x2, x22], [l3, x3, x33]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
				this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg_corr${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11, true], [l2, x2, x22, true], [l3, x3, x33, true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
			}
			else { //sortie Latex 
				texte=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11], [l2, x2, x22], [l3, x3, x33]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				texte_corr=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11,true], [l2, x2, x22,true], [l3, x3, x33,true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				this.liste_questions.push(texte)
				this.liste_corrections.push(texte_corr);
			}
		
		}
		if (!sortie_html) liste_de_question_to_contenu(this); 
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : Nombre relatif à une décimale\n2 : Nombre relatif à deux décimales\n3 : Nombre relatif à trois décimales\n4 : Mélange"];
}

/**
* Placer un point d'abscisse un nombre relatif
* @Auteur Jean-Claude Lhote et Rémi Angot
* Référence 5R11-2
*/
function Placer_points_sur_axe_relatifs(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Placer un point d'abscisse un nombre relatif";
	this.consigne = " Placer trois points sur un axe gradué.";
	this.nb_questions = 5;
	this.nb_questions_modifiable = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=1;
	this.type_exercice = 'SVGJS';
	
	this.liste_packages = 'tkz-euclide'


	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
		let type_de_questions;
		this.liste_questions=[];
		this.liste_corrections=[];
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées
		if (this.sup==4) 	type_de_questions=combinaison_listes([1,2,3],this.nb_questions);
		else 				type_de_questions=combinaison_listes([parseInt(this.sup)],this.nb_questions);
		

		this.contenu = html_consigne(this.consigne)
		for (let i = 0,abs0,abs1,abs2,abs3,l1,l2,l3,x1,x2,x3,x11,x22,x33, pas1,pas2, id_unique, texte, texte_corr; i < this.nb_questions;i++) {
			l1=lettre_depuis_chiffre(i*3+1)
			l2=lettre_depuis_chiffre(i*3+2)
			l3=lettre_depuis_chiffre(i*3+3)

			switch (type_de_questions[i]) {
				case 1: // Placer des décimaux relatifs sur un axe (1 décimale)
					abs0 = randint(-7, -3);
					pas1 = 1;
					pas2 = 10;
					break;

				case 2: // Placer des décimaux relatifs sur un axe (2 décimales)
					abs0 = randint(-4, -2) / 10;
					pas1 = 10;
					pas2 = 10;
					break;

				case 3: // Placer des décimaux relatifs sur un axe (3 décimales)
					abs0 = randint(-10, -2) / 100;
					pas1 = 100;
					pas2 = 10;
					break;
			}
			x1 = randint(0, 2); x2 = randint(3, 4); x3 = randint(5, 6);
			x11 = randint(1, 9); x22 = randint(1, 9); x33 = randint(1, 3);
			abs1 = arrondi(abs0 + x1/pas1 + x11 / pas1/pas2, type_de_questions[i]);  // le type de questions est égal au nombre de décimales.
			abs2 = arrondi(abs0 + x2/pas1 + x22 / pas1/pas2, type_de_questions[i]);
			abs3 = arrondi(abs0 + x3/pas1 + x33 / pas1/pas2, type_de_questions[i]);

			texte=`Placer les points : {\\small $${l1}$(${tex_nombrec(abs1)}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})}<br>`
			if (sortie_html) {
				texte_corr=''
				id_unique = `${i}_${Date.now()}`
				this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 110px;  "></div>`
				this.contenu +=`Placer les points : ${l1}(${tex_nombrec(abs1)}), ${l2}(${tex_nombrec(abs2)}), ${l3}(${tex_nombrec(abs3)})`
				SVG_reperage_sur_un_axe(`div_svg${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
				this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg_corr${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11, true], [l2, x2, x22, true], [l3, x3, x33, true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
			}
			else { //sortie Latex 
				texte+=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				texte_corr=`Les points {\\small $${l1}$(${tex_nombrec(abs1)}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})} sont placés ci dessous<br>`;
				texte_corr+=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11,true], [l2, x2, x22,true], [l3, x3, x33,true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				this.liste_questions.push(texte)
				this.liste_corrections.push(texte_corr);
			}

		}
		if (!sortie_html) liste_de_question_to_contenu(this); 

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : Nombre relatif à une décimale\n2 : Nombre relatif à deux décimales\n3 : Nombre relatif à trois décimales\n4 : Mélange"];
}

/**
 * Lire les coordonnées d'un point du plan avec une précision allant de l'unité à 0,25.
 * @Auteur Jean-Claude Lhote
 * Références 5R12-2 6N33
 */
function Reperage_point_du_plan(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Déterminer les coordonnées (relatives) d'un point";
	this.consigne = "Donner les coordonnées des points représentés";
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=1;
	this.sup2=true;
	this.quart_de_plan=false;
	this.liste_packages = 'tkz-euclide';

	
	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
	this.liste_questions=[];
	this.liste_corrections=[];
	let texte,texte_corr;
	this.contenu = ''; // Liste de questions
	this.contenu_correction = ''; // Liste de questions corrigées
	let liste_points=[],points=[];
	let grille,w,h,k,xmin,xmax,ymin,ymax,shiftxnom,shiftynom;
	h=Math.round(window.innerHeight*0.7)
	w=h;
	k=Math.pow(2,parseInt(this.sup)-1);
	let nom=[];
	grille=this.sup2;
	if (this.quart_de_plan) {
		xmin=0;ymin=0;xmax=10;ymax=10;
	}
	else	{
		xmin=-5;ymin=-5;xmax=5;ymax=5;	
	}
	let liste_abs=[],liste_ord=[];
	for (let i=calcul(xmin+1/k);i<calcul(xmax-(parseInt(this.sup)-1)/k);i=calcul(i+1/k)) {
		liste_abs.push(i)
	}
	for (let i=calcul(ymin+1/k);i<calcul(ymax-(parseInt(this.sup)-1)/k);i=calcul(i+1/k)) {
		liste_ord.push(i)
	}
	let X0=false,Y0=false;
	liste_points=creer_couples(liste_abs,liste_ord,10*k);
	for (let j=0;j<5;j++) {
		points.push(liste_points[j]);
		if (points[j][0]==0) X0=true;
		if (points[j][1]==0) Y0=true;
	}
	if (!X0) points[0][0]=0;
	if (!Y0) points[1][1]=0;
	points=shuffle(points);

	for (let l=0,lettre=randint(1,20);l<5;l++) nom.push(lettre_depuis_chiffre(l+lettre));
	if (sortie_html) {
		let id_unique = `${Date.now()}`
		let id_du_div = `div_svg${numero_de_l_exercice}${id_unique}`;
		this.consigne = `<div id="${id_du_div}" style="height: ${h}px"></div>`;
		if (!window.SVGExist) {window.SVGExist = {}} // Si SVGExist n'existe pas on le créé
		// SVGExist est un dictionnaire dans lequel on stocke les listenner sur la création des div
		window.SVGExist[id_du_div] = setInterval(function() {
			if ($(`#${id_du_div}`).length ) {
				$(`#${id_du_div}`).html("");//Vide le div pour éviter les SVG en doublon
				const mon_svg = SVG().addTo(`#${id_du_div}`).viewbox(0, 0, 520, 520).size('100%','100%')
			let AxesXY=SVG_repere(mon_svg,xmin,xmax,ymin,ymax,k,k,500,500,grille);
			for (let i=0;i<5;i++)	{
				if (points[i][0]==0||points[i][0]==0.25) shiftxnom=20;
				else shiftxnom=0;
				shiftynom=0;
				if (points[i][1]==-0.5) shiftynom=10;	
				if (points[i][1]==-0.25) shiftynom=20;
				SVG_tracer_point(mon_svg,calcul(20+(points[i][0]-xmin)*480/(xmax-xmin)),calcul(480-(points[i][1]-ymin)*480/(ymax-ymin)),nom[i],'blue',-10+shiftxnom,10+shiftynom,[true,AxesXY[0],AxesXY[1]])
			}
			clearInterval(SVGExist[id_du_div]);//Arrête le timer
			}

		}, 100); // Vérifie toutes les 100ms



	}
	else { //sortie Latex 
		texte =`\\begin{tikzpicture}`;
		texte += Latex_repere(xmin,xmax,ymin,ymax,k,k,grille);
		for (let i=0;i<5;i++)	{
		texte += `\n\t \\tkzDefPoint(${points[i][0]},${points[i][1]}){A}`
		texte +=`\n\t \\tkzDrawPoint[shape=cross out,color=blue,size=6](A)`
		texte +=`\n\t \\tkzLabelPoint[above right=3pt,fill=white,fill opacity=0.7,text opacity=1,inner sep=0](A){$${nom[i]}$}`
		}
		texte +=`\n\t \\end{tikzpicture}`;
		this.liste_questions.push(texte);
		
		texte_corr =`\\begin{tikzpicture}`;
		texte_corr += Latex_repere(xmin,xmax,ymin,ymax,k,k,grille);
		for (let i=0;i<5;i++)	{
		texte_corr += `\n\t \\tkzDefPoint(${points[i][0]},${points[i][1]}){A}`
		texte_corr +=`\n\t \\tkzDrawPoint[shape=cross out,color=blue,size=6](A)`
		texte_corr +=`\n\t \\tkzLabelPoint[above right=3pt,fill=white,fill opacity=0.7,text opacity=1,inner sep=0](A){$${nom[i]}$}`
		texte_corr +=`\n\t \\tkzPointShowCoord(A)`
		}
		texte_corr +=`\n\t \\end{tikzpicture}`;
		this.liste_corrections.push(texte_corr);
	}

	texte=`Déterminer les coordonnées des points`;
	texte_corr=`Les coordonnées des points sont :<br>`
	for (i=0;i<4;i++) {
	texte+=` $${nom[i]}$,`;
	texte_corr+=` $${nom[i]}(${tex_nombre(points[i][0])};${tex_nombre(points[i][1])})$, `;
	}
	texte+=` $${nom[i]}$.`
	texte_corr+=` $${nom[i]}(${tex_nombre(points[i][0])};${tex_nombre(points[i][1])})$.`;	
	this.liste_questions.push(texte)
	this.liste_corrections.push(texte_corr);
	liste_de_question_to_contenu_sans_numero(this); 
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Coordonnées entières\n2 : Coordonnées 'en demis'\n3 : Coordonnées 'en quarts'"];
	this.besoin_formulaire2_case_a_cocher = ['Grille de lecture'];
}
/**
 * Calculs de probabilités sur une expérience aléatoire à une épreuve.
 * @Auteur Jean-Claude Lhote
 * Référence 5S21
 */
function fonctions_probabilite1(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des probabilités dans une expérience aléatoire à une épreuve";
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	sortie_html? this.spacing = 2 : this.spacing = 1; 
	sortie_html? this.spacing_corr = 3 : this.spacing_corr = 1;
	this.sup=1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let liste_index_disponibles=[0,1,2,3,4,5,6];
		let liste_index=combinaison_listes(liste_index_disponibles,this.nb_questions)
		let liste_de_lieux_choses=[['le frigo','yaourts'],['le frigo','desserts lactés'],['une urne','boules'],['une urne','jetons'],['un paquet de bonbons','nounours'],['un tiroir de la commode','t-shirts'],['un tas de jetons de poker','jetons']]
		let qualites=[[]]
		qualites[0]=['à la fraise','à la vanille','à l\'abricot','à l\'ananas','à la cerise'];
		qualites[1]=['au chocolat','à la vanille','au café','à la pistache','au caramel'];
		qualites[2]=['rouges','vertes','bleues','noires','blanches'];
		qualites[3]=['gris','cyans','roses','jaunes','violets'];
		qualites[4]=['rouges','verts','bleus','noirs','jaunes'];
		qualites[5]=['rouges','verts','bleus','noirs','blancs'];
		qualites[6]=['rouges','verts','bleus','noirs','jaunes'];
		for (let i = 0,p,m,q,somme,quidam,index1,lieu,objet,article,pronom,n=[], texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) {
			index1=liste_index[i];
			if (index1==2) {article=`une`;pronom=`elles`}
			else {article=`un`;pronom=`eux`;}
			quidam=prenom();
			lieu=liste_de_lieux_choses[index1][0];
			objet=liste_de_lieux_choses[index1][1];
			n[0]=randint(2,5);
			n[1]=randint(1,6)+1;
			n[2]=randint(1,3)*2;
			n[3]=randint(1,4)+2;
			n[4]=randint(2,5);

			somme=n[0]+n[1]+n[2]+n[3]+n[4];
			m=randint(0,4);
			p=randint(0,4,[m]);
			q=randint(0,4,[p,m]);
	
			texte = `Dans ${lieu} il y a ${somme} ${objet}. ${n[0]} sont ${qualites[index1][0]}, ${n[1]} sont ${qualites[index1][1]}, ${n[2]} sont ${qualites[index1][2]}, ${n[3]} sont ${qualites[index1][3]} et ${n[4]} sont ${qualites[index1][4]}.<br> `;
			texte+= `${quidam} choisit au hasard l'${article} d'entre ${pronom}.<br> `;
			texte +=num_alpha(0)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ?<br>`;
			texte +=num_alpha(1)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][p]} ?<br>`;			
			texte +=num_alpha(2)+` Quelle est la probabilité que son choix ne tombe pas sur l'${article} des ${objet} ${qualites[index1][q]} ?<br>`;
			texte +=num_alpha(3)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ou ${qualites[index1][p]}?<br>`;
			texte_corr =`On est dans une situation d’équiprobabilité donc la probabilité est donnée par le quotient du nombre de cas favorables par le nombre de cas au total.<br>`
			texte_corr += num_alpha(0)+` Il y a ${n[m]} ${objet} ${qualites[index1][m]} et il y a ${somme} ${objet} possibles. La probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} est :<br> $${tex_fraction(n[m],somme)}${simplification_de_fraction_avec_etapes(n[m],somme)}$.<br>`;
			texte_corr +=num_alpha(1)+` Il y a ${n[p]} ${objet} ${qualites[index1][p]} et il y a ${somme} ${objet} possibles. La probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][p]} est :<br> $${tex_fraction(n[p],somme)}${simplification_de_fraction_avec_etapes(n[p],somme)}$.<br>`;
			texte_corr +=num_alpha(2)+` Il y a ${n[q]} ${objet} ${qualites[index1][q]}, donc il y a ${somme} $-$ ${n[q]} $=$ ${somme-n[q]} autres ${objet} et il y a ${somme} ${objet} possibles. La probabilité que son choix ne tombe pas sur l'${article} des ${objet} ${qualites[index1][q]} est :<br> $${tex_fraction(somme-n[q],somme)}${simplification_de_fraction_avec_etapes(somme-n[q],somme)}$.<br>`;
			texte_corr +=num_alpha(3)+` La probabilité d'un événement est la somme des probabilités des issues qui le composent. Donc la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ou ${qualites[index1][p]} est :<br> $${tex_fraction(n[m],somme)}+${tex_fraction(n[p],somme)}=${tex_fraction(n[p]+n[m],somme)}${simplification_de_fraction_avec_etapes(n[p]+n[m],somme)}$.<br>`;
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}	
};

/**
* Deux parallélogrammes sont tracés, on connait les 2 côté et une hauteur.
*
* Il faut calculer leurs aires.
*
* Pas de version LaTeX
* @Auteur Rémi Angot
* 5M10
*/
function Aire_du_parallelogramme(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.pas_de_version_LaTeX = true ;
	this.titre = "Aire du parallélogramme"
	this.consigne = "Calculer l'aire des 3 parallélogrammes suivants (les longueurs sont données en cm)."
	this.spacing = 2;
	this.spacing_corr = 2 ;
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.type_exercice = 'MG32';
	this.taille_div_MG32 = [800,600];


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_corrections = []; // Liste de questions corrigées
		let c1 = randint(3,7)
		let h1 = randint(2,4)
		let c2 = randint(3,7)
		let h2 = randint(2,7)
		let c3 = randint(3,10)
		let h3 = randint(2,4)
		let fig1 ="TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAAC4QAAAQEAAAAAAAAAAQAAAMH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAUEAwBQAAAAAAADAOAAAAAAAAAUAAUA5gAAAAAAAQEO4UeuFHrgAAAADAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAgA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAoAAAAL#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAMAAAADQD#####AAAAAAAQAAFCAMAYAAAAAAAAwDgAAAAAAAAFAAEAAAAMAAAACQD#####AAJoMQABNAAAAAFAEAAAAAAAAP####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAKAAAACgD#####AQAAAAABAAAACf####8AAAABAApDT3BlcmF0aW9uAwAAAAsAAAAIAAAAAUAIAAAAAAAAAAAAAAwA#####wAAAAoAAAARAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABIAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAEgAAAA4A#####wEAAAAAEAAAAQABAAAAFAAAAAoAAAAKAP####8BAAAAAAEAAAAUAAAACwAAAA8AAAAADAD#####AAAAFQAAABYAAAANAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAFwAAAA0A#####wAAAAAAEAABRADAFAAAAAAAAEAAAAAAAAAABQABAAAAF#####8AAAABABBDRHJvaXRlUGFyYWxsZWxlAP####8BAAAAABAAAAEAAQAAABkAAAAKAAAACgD#####AQAAAAABAAAAGQAAAAsAAAAIAAAAAAwA#####wAAABoAAAAbAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABwAAAANAP####8AAAAAABAAAUMAwBAAAAAAAABAAAAAAAAAAAUAAQAAABwAAAAGAP####8BAAAAARAAAVoAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAA4AAAAFAP####8AAAAAABAAAAEAAQAAAAkAAAAOAAAABQD#####AAAAAAAQAAABAAEAAAAOAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAABkAAAAFAP####8AAAAAABAAAAEAAQAAABkAAAAJAAAADgD#####AQAAAAAQAAABAAEAAAAfAAAAIP####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8BAAAAARAAAloyAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAAAiAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAAJf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAfAAAAJQAAAAMAAAAAJwAAAAAAEAAAAQABAAAAHwE#8AAAAAAAAAAAAAQAAAAAJwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAKP####8AAAACABNDTWVzdXJlQW5nbGVPcmllbnRlAAAAACcAAmFuAAAAKQAAAB8AAAAlAAAACAEAAAAnAAAAHwAAACUAAAAGAAAAACcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAfAAAAJf####8AAAABAA1DUG9pbnRQcm9qZXRlAAAAACcAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACUAAAAoAAAAEwAAAAAnAAJtYQAAACkAAAAfAAAALf####8AAAABAA5DVGVzdEV4aXN0ZW5jZQAAAAAnAAN0bWEAAAAu#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAnAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAALBAAAAAAAAEAAAAC#####wAAAAEADUNGb25jdGlvbjNWYXIAAAAACwAAAC8AAAAPAAAAAAsAAAAqAAAACwAAAC4AAAALAAAAKgAAAAABAAAAKwAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAACQAAAA4AAAADAAAAADEAAAAAABAAAAEAAQAAAAkBP#AAAAAAAAAAAAAEAAAAADEAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAADIAAAATAAAAADEAAmFuAAAAMwAAAAkAAAAOAAAACAEAAAAxAAAACQAAAA4AAAAGAAAAADEAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAADgAAABQAAAAAMQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAADIAAAATAAAAADEAAm1hAAAAMwAAAAkAAAA3AAAAFQAAAAAxAAN0bWEAAAA4AAAAFgEAAAAxAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAANhAAAAAAAAEAAAACAAAAFwAAAAALAAAAOQAAAA8AAAAACwAAADQAAAALAAAAOAAAAAsAAAA0AAAAAAEAAAA1AAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAOAAAAHgAAAAMAAAAAOwAAAAAAEAAAAQABAAAADgE#8AAAAAAAAAAAAAQAAAAAOwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAPAAAABMAAAAAOwACYW4AAAA9AAAADgAAAB4AAAAIAQAAADsAAAAOAAAAHgAAAAYAAAAAOwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAeAAAAFAAAAAA7AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAPAAAABMAAAAAOwACbWEAAAA9AAAADgAAAEEAAAAVAAAAADsAA3RtYQAAAEIAAAAWAQAAADsAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABAEAAAAAAAAQAAAAIAAAAXAAAAAAsAAABDAAAADwAAAAALAAAAPgAAAAsAAABCAAAACwAAAD4AAAAAAQAAAD8AAAACAP####8AAAAAABAAAUUAwBQAAAAAAADANgAAAAAAAAUAAUA#gAAAAAAAQHH3Cj1wo9cAAAAJAP####8AAmMyAAE3AAAAAUAcAAAAAAAAAAAACQD#####AAJoMgABNwAAAAFAHAAAAAAAAAAAAAoA#####wEAAAAAAQAAAEUAAAALAAAARgD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAUYAwBAAAAAAAADAOgAAAAAAAAUAAT#PhK2tCtK0AAAASAAAAAUA#####wAAAAAAEAAAAQABAAAARQAAAEkAAAAGAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAEkAAAAOAP####8BAAAAABAAAAEAAQAAAEsAAABKAAAACgD#####AQAAAAABAAAASwAAAAsAAABHAAAAAAwA#####wAAAEwAAABNAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAE4AAAANAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAQAAAE4AAAAKAP####8BAAAAAAEAAABFAAAADwIAAAABP9mZmZmZmZoAAAALAAAARgAAAAAMAP####8AAABKAAAAUQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAABSAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFIAAAAOAP####8BAAAAABAAAAEAAQAAAFMAAABKAAAACgD#####AQAAAAABAAAAUwAAAAsAAABHAAAAAAwA#####wAAAFUAAABWAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFcAAAANAP####8AAAAAABAAAUgAwCQAAAAAAABAAAAAAAAAAAUAAQAAAFcAAAAQAP####8BAAAAABAAAAEAAQAAAFkAAABKAAAABQD#####AAAAAAAQAAABAAEAAABFAAAAWQAAABAA#####wEAAAAAEAAAAQABAAAASQAAAFsAAAARAP####8AAAAAABAAAUcAwCAAAAAAAABAAAAAAAAAAAUAAAAAWgAAAFwAAAAFAP####8AAAAAABAAAAEAAQAAAFkAAABdAAAABQD#####AAAAAAAQAAABAAEAAABdAAAASQAAAAUA#####wAAAAAAEAAAAQEBAAAASwAAAFAAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAFkAAABFAAAAAwAAAABhAAAAAAAQAAABAAEAAABZAT#wAAAAAAAAAAAABAAAAABhAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABiAAAAEwAAAABhAAJhbgAAAGMAAABZAAAARQAAAAgBAAAAYQAAAFkAAABFAAAABgAAAABhAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAEUAAAAUAAAAAGEAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABiAAAAEwAAAABhAAJtYQAAAGMAAABZAAAAZwAAABUAAAAAYQADdG1hAAAAaAAAABYBAAAAYQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGYQAAAAAAABAAAAAgAAABcAAAAACwAAAGkAAAAPAAAAAAsAAABkAAAACwAAAGgAAAALAAAAZAAAAAABAAAAZQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUAAAAEsAAAADAAAAAGsAAAAAABAAAAEAAQAAAFABP#AAAAAAAAAAAAAEAAAAAGsAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGwAAAATAAAAAGsAAmFuAAAAbQAAAFAAAABLAAAACAEAAABrAAAAUAAAAEsAAAAGAAAAAGsAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAASwAAABQAAAAAawAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAAGwAAAATAAAAAGsAAm1hAAAAbQAAAFAAAABxAAAAFQAAAABrAAN0bWEAAAByAAAAFgEAAABrAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAcBAAAAAAAAEAAAACAAAAFwAAAAALAAAAcwAAAA8AAAAACwAAAG4AAAALAAAAcgAAAAsAAABuAAAAAAEAAABvAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAXQAAAAMAAAAAdQAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABMAAAAAdQACYW4AAAB3AAAAWQAAAF0AAAAIAQAAAHUAAABZAAAAXQAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABdAAAAFAAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAdgAAABMAAAAAdQACbWEAAAB3AAAAWQAAAHsAAAAVAAAAAHUAA3RtYQAAAHwAAAAWAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAXAAAAAAsAAAB9AAAADwAAAAALAAAAeAAAAAsAAAB8AAAACwAAAHgAAAAAAQAAAHn#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAAAAAQAAAAFAI7YIdN7bnAAAACUAAAAfAAAADgAAABkA#####wAAAAAAAQAAAAFAJLeGyzdqwwAAAB8AAAAlAAAAHgAAABkA#####wAAAAAAAQAAAAFAJ52vyk47vQAAAFAAAABLAAAASQAAABkA#####wAAAAAAAQAAAAFAJtJ6XCnohwAAAEsAAABQAAAAXQAAAAkA#####wACYzMAATcAAAABQBwAAAAAAAAAAAAJAP####8AAmgzAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAAAAAAQAAFNAMA1AAAAAAAAwCoAAAAAAAAFAAFAf3gAAAAAAEBnLhR64UeuAAAAAwD#####AQAAAAEQAAABAAEAAACFAD#wAAAAAAAAAAAACgD#####AQAAAAABAAAAhQAAAAsAAACDAAAAAAwA#####wAAAIYAAACHAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIgAAAANAP####8AAAAAABAAAU4AwDEAAAAAAADAJAAAAAAAAAUAAQAAAIgAAAAKAP####8BAAAAAAEAAACKAAAADwMAAAALAAAAgwAAAAFACAAAAAAAAAAAAAAMAP####8AAACGAAAAiwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACMAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIwAAAAOAP####8BAAAAABAAAAEAAQAAAI4AAACGAAAACgD#####AQAAAAABAAAAjgAAAAsAAACEAAAAAAwA#####wAAAI8AAACQAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAJEAAAANAP####8AAAAAABAAAU8AQBgAAAAAAADAKAAAAAAAAAUAAgAAAJEAAAAFAP####8AAAAAABAAAAEAAQAAAIoAAACTAAAABQD#####AAAAAAAQAAABAAEAAACFAAAAigAAAAoA#####wEAAAAAAQAAAJMAAAALAAAAgwAAAAADAP####8BAAAAARAAAAEAAQAAAJMAP#AAAAAAAAAAAAAMAP####8AAACXAAAAlgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACYAAAADQD#####AAAAAAAQAAFQAEAUAAAAAAAAwCgAAAAAAAAFAAIAAACYAAAABQD#####AAAAAAAQAAABAAEAAACTAAAAmgAAAAUA#####wAAAAAAEAAAAQABAAAAmgAAAIUAAAAGAP####8BAAAAARAAAUsAAAAAAAAAAABACAAAAAAAAAUAAAAAigAAAIUAAAADAP####8BAAAAARAAAAEAAQAAAJ0BP#AAAAAAAAAAAAARAP####8BAAAAARAAAUwAAAAAAAAAAABACAAAAAAAAAUAAAAAngAAAJsAAAAFAP####8AAAAAABAAAAEBAQAAAJ0AAACfAAAAGQD#####AAAAAAABAAAAAUAlhyjGBrH8AAAAhQAAAJ0AAACfAAAAGQD#####AAAAAAABAAAAAUAiIExpX47ZAAAAnQAAAJ8AAACaAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAACKAAAAkwAAAAMAAAAAowAAAAAAEAAAAQABAAAAigE#8AAAAAAAAAAAAAQAAAAAowAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAApAAAABMAAAAAowACYW4AAAClAAAAigAAAJMAAAAIAQAAAKMAAACKAAAAkwAAAAYAAAAAowAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAIoAAACTAAAAFAAAAACjAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAACTAAAApAAAABMAAAAAowACbWEAAAClAAAAigAAAKkAAAAVAAAAAKMAA3RtYQAAAKoAAAAWAQAAAKMAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACoEAAAAAAAAQAAAAIAAAAXAAAAAAsAAACrAAAADwAAAAALAAAApgAAAAsAAACqAAAACwAAAKYAAAAAAQAAAKcAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAJ0AAACfAAAAAwAAAACtAAAAAAAQAAABAAEAAACdAT#wAAAAAAAAAAAABAAAAACtAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAACuAAAAEwAAAACtAAJhbgAAAK8AAACdAAAAnwAAAAgBAAAArQAAAJ0AAACfAAAABgAAAACtAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnQAAAJ8AAAAUAAAAAK0AAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJ8AAACuAAAAEwAAAACtAAJtYQAAAK8AAACdAAAAswAAABUAAAAArQADdG1hAAAAtAAAABYBAAAArQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAALIQAAAAAAABAAAAAgAAABcAAAAACwAAALUAAAAPAAAAAAsAAACwAAAACwAAALQAAAALAAAAsAAAAAABAAAAsQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAigAAAIUAAAADAAAAALcAAAAAABAAAAEAAQAAAIoBP#AAAAAAAAAAAAAEAAAAALcAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAALgAAAATAAAAALcAAmFuAAAAuQAAAIoAAACFAAAACAEAAAC3AAAAigAAAIUAAAAGAAAAALcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACKAAAAhQAAABQAAAAAtwAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAhQAAALgAAAATAAAAALcAAm1hAAAAuQAAAIoAAAC9AAAAFQAAAAC3AAN0bWEAAAC+AAAAFgEAAAC3AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAvBAAAAAAAAEAAAACAAAAFwAAAAALAAAAvwAAAA8AAAAACwAAALoAAAALAAAAvgAAAAsAAAC6AAAAAAEAAAC7AAAAB###########"
		let fig2 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAAC4QAAAQEAAAAAAAAAAQAAAL7#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAUEAwBQAAAAAAADAOAAAAAAAAAUAAUA5gAAAAAAAQEO4UeuFHrgAAAADAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAgA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAoAAAAL#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAMAAAADQD#####AAAAAAAQAAFCAMAYAAAAAAAAwDgAAAAAAAAFAAEAAAAMAAAACQD#####AAJoMQABNAAAAAFAEAAAAAAAAP####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAKAAAACgD#####AQAAAAABAAAACf####8AAAABAApDT3BlcmF0aW9uAwAAAAsAAAAIAAAAAUAIAAAAAAAAAAAAAAwA#####wAAAAoAAAARAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABIAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAEgAAAA4A#####wEAAAAAEAAAAQABAAAAFAAAAAoAAAAKAP####8BAAAAAAEAAAAUAAAACwAAAA8AAAAADAD#####AAAAFQAAABYAAAANAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAFwAAAA0A#####wAAAAAAEAABRADAFAAAAAAAAEAAAAAAAAAABQABAAAAF#####8AAAABABBDRHJvaXRlUGFyYWxsZWxlAP####8BAAAAABAAAAEAAQAAABkAAAAKAAAACgD#####AQAAAAABAAAAGQAAAAsAAAAIAAAAAAwA#####wAAABoAAAAbAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABwAAAANAP####8AAAAAABAAAUMAwBAAAAAAAABAAAAAAAAAAAUAAQAAABwAAAAGAP####8BAAAAARAAAVoAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAA4AAAAFAP####8AAAAAABAAAAEAAQAAAAkAAAAOAAAABQD#####AAAAAAAQAAABAAEAAAAOAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAABkAAAAFAP####8AAAAAABAAAAEAAQAAABkAAAAJAAAADgD#####AQAAAAAQAAABAAEAAAAfAAAAIP####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8BAAAAARAAAloyAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAAAiAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAAJf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAfAAAAJQAAAAMAAAAAJwAAAAAAEAAAAQABAAAAHwE#8AAAAAAAAAAAAAQAAAAAJwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAKP####8AAAACABNDTWVzdXJlQW5nbGVPcmllbnRlAAAAACcAAmFuAAAAKQAAAB8AAAAlAAAACAEAAAAnAAAAHwAAACUAAAAGAAAAACcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAfAAAAJf####8AAAABAA1DUG9pbnRQcm9qZXRlAAAAACcAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACUAAAAoAAAAEwAAAAAnAAJtYQAAACkAAAAfAAAALf####8AAAABAA5DVGVzdEV4aXN0ZW5jZQAAAAAnAAN0bWEAAAAu#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAnAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAALBAAAAAAAAEAAAAC#####wAAAAEADUNGb25jdGlvbjNWYXIAAAAACwAAAC8AAAAPAAAAAAsAAAAqAAAACwAAAC4AAAALAAAAKgAAAAABAAAAKwAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAACQAAAA4AAAADAAAAADEAAAAAABAAAAEAAQAAAAkBP#AAAAAAAAAAAAAEAAAAADEAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAADIAAAATAAAAADEAAmFuAAAAMwAAAAkAAAAOAAAACAEAAAAxAAAACQAAAA4AAAAGAAAAADEAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAADgAAABQAAAAAMQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAADIAAAATAAAAADEAAm1hAAAAMwAAAAkAAAA3AAAAFQAAAAAxAAN0bWEAAAA4AAAAFgEAAAAxAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAANhAAAAAAAAEAAAACAAAAFwAAAAALAAAAOQAAAA8AAAAACwAAADQAAAALAAAAOAAAAAsAAAA0AAAAAAEAAAA1AAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAOAAAAHgAAAAMAAAAAOwAAAAAAEAAAAQABAAAADgE#8AAAAAAAAAAAAAQAAAAAOwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAPAAAABMAAAAAOwACYW4AAAA9AAAADgAAAB4AAAAIAQAAADsAAAAOAAAAHgAAAAYAAAAAOwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAeAAAAFAAAAAA7AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAPAAAABMAAAAAOwACbWEAAAA9AAAADgAAAEEAAAAVAAAAADsAA3RtYQAAAEIAAAAWAQAAADsAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABAEAAAAAAAAQAAAAIAAAAXAAAAAAsAAABDAAAADwAAAAALAAAAPgAAAAsAAABCAAAACwAAAD4AAAAAAQAAAD8AAAACAP####8AAAAAABAAAUUAwBQAAAAAAADANgAAAAAAAAUAAUCHhAAAAAAAQGGuFHrhR64AAAAJAP####8AAmMyAAE3AAAAAUAcAAAAAAAAAAAACQD#####AAJoMgABNwAAAAFAHAAAAAAAAAAAAAoA#####wEAAAAAAQAAAEUAAAALAAAARgD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAUYAwBAAAAAAAABAEAAAAAAAAAUAAUAQpTrvfJtJAAAASAAAAAUA#####wAAAAAAEAAAAQABAAAARQAAAEkAAAAGAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAEkAAAAOAP####8BAAAAABAAAAEAAQAAAEsAAABKAAAACgD#####AQAAAAABAAAASwAAAAsAAABHAAAAAAwA#####wAAAEwAAABNAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAE4AAAANAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAQAAAE4AAAAKAP####8BAAAAAAEAAABFAAAADwIAAAABP9mZmZmZmZoAAAALAAAARgAAAAAMAP####8AAABKAAAAUQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAABSAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFIAAAAOAP####8BAAAAABAAAAEAAQAAAFMAAABKAAAACgD#####AQAAAAABAAAAUwAAAAsAAABHAAAAAAwA#####wAAAFUAAABWAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFcAAAANAP####8AAAAAABAAAUgAwBQAAAAAAADAOQAAAAAAAAUAAQAAAFcAAAAQAP####8BAAAAABAAAAEAAQAAAFkAAABKAAAABQD#####AAAAAAAQAAABAAEAAABFAAAAWQAAABAA#####wEAAAAAEAAAAQABAAAASQAAAFsAAAARAP####8AAAAAABAAAUcAwCAAAAAAAABAAAAAAAAAAAUAAAAAWgAAAFwAAAAFAP####8AAAAAABAAAAEAAQAAAFkAAABdAAAABQD#####AAAAAAAQAAABAAEAAABdAAAASQAAAAUA#####wAAAAAAEAAAAQEBAAAASwAAAFAAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAFkAAABFAAAAAwAAAABhAAAAAAAQAAABAAEAAABZAT#wAAAAAAAAAAAABAAAAABhAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABiAAAAEwAAAABhAAJhbgAAAGMAAABZAAAARQAAAAgBAAAAYQAAAFkAAABFAAAABgAAAABhAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAEUAAAAUAAAAAGEAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABiAAAAEwAAAABhAAJtYQAAAGMAAABZAAAAZwAAABUAAAAAYQADdG1hAAAAaAAAABYBAAAAYQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGYQAAAAAAABAAAAAgAAABcAAAAACwAAAGkAAAAPAAAAAAsAAABkAAAACwAAAGgAAAALAAAAZAAAAAABAAAAZQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUAAAAEsAAAADAAAAAGsAAAAAABAAAAEAAQAAAFABP#AAAAAAAAAAAAAEAAAAAGsAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGwAAAATAAAAAGsAAmFuAAAAbQAAAFAAAABLAAAACAEAAABrAAAAUAAAAEsAAAAGAAAAAGsAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAASwAAABQAAAAAawAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAAGwAAAATAAAAAGsAAm1hAAAAbQAAAFAAAABxAAAAFQAAAABrAAN0bWEAAAByAAAAFgEAAABrAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAcBAAAAAAAAEAAAACAAAAFwAAAAALAAAAcwAAAA8AAAAACwAAAG4AAAALAAAAcgAAAAsAAABuAAAAAAEAAABvAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAXQAAAAMAAAAAdQAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABMAAAAAdQACYW4AAAB3AAAAWQAAAF0AAAAIAQAAAHUAAABZAAAAXQAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABdAAAAFAAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAdgAAABMAAAAAdQACbWEAAAB3AAAAWQAAAHsAAAAVAAAAAHUAA3RtYQAAAHwAAAAWAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAXAAAAAAsAAAB9AAAADwAAAAALAAAAeAAAAAsAAAB8AAAACwAAAHgAAAAAAQAAAHn#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAAAAAQAAAAFAH79o6Vd44QAAAFAAAABLAAAARQAAABkA#####wAAAAAAAQAAAAFAHogkhw7PmgAAAEsAAABQAAAAWQAAABkA#####wAAAAAAAQAAAAFAIGGDLk4E3QAAACUAAAAfAAAADgAAABkA#####wAAAAAAAQAAAAFAIG#NSbOaeQAAAB8AAAAlAAAAHgAAAAkA#####wACYzMAAjEwAAAAAUAkAAAAAAAAAAAACQD#####AAJoMwABNQAAAAFAFAAAAAAAAAAAAAIA#####wAAAAAAEAABTQDAMgAAAAAAAMAuAAAAAAAABQABQFAgAAAAAABAdRcKPXCj1wAAAAoA#####wEAAAAAAQAAAIUAAAALAAAAgwAAAAAYAP####8AAAAAABAAAU4AQBAAAAAAAADAKAAAAAAAAAUAAUAYdXZyBbfYAAAAhgAAAAUA#####wAAAAAAEAAAAQABAAAAhQAAAIcAAAAKAP####8BAAAAAAEAAACFAAAADwMAAAALAAAAgwAAAAFAFAAAAAAAAAAAAAAMAP####8AAACIAAAAiQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACKAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIoAAAAOAP####8BAAAAABAAAAEAAQAAAIsAAACIAAAACgD#####AQAAAAABAAAAiwAAAAsAAACEAAAAAAwA#####wAAAI0AAACOAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAI8AAAANAP####8AAAAAABAAAVAAwDAAAAAAAADAGAAAAAAAAAUAAQAAAI8AAAAFAP####8AAAAAABAAAAEAAQAAAIUAAACRAAAACgD#####AQAAAAABAAAAkQAAAAsAAACDAAAAABAA#####wEAAAAAEAAAAQABAAAAkQAAAIgAAAAMAP####8AAACUAAAAkwAAAA0A#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAACVAAAADQD#####AAAAAAAQAAFPAEAUAAAAAAAAwCIAAAAAAAAFAAEAAACVAAAABQD#####AAAAAAAQAAABAAEAAACRAAAAlwAAAAUA#####wAAAAAAEAAAAQABAAAAlwAAAIcAAAAGAP####8BAAAAABAAAUsAAAAAAAAAAABACAAAAAAAAAUAAAAAhQAAAIcAAAAOAP####8BAAAAABAAAAEAAQAAAJoAAACIAAAAEQD#####AQAAAAAQAAFMAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJsAAACUAAAAGQD#####AAAAAAABAAAAAUAkP+hrfTwUAAAAnAAAAJoAAACHAAAAGQD#####AAAAAAABAAAAAUAk8wqocINWAAAAmgAAAJwAAACXAAAABQD#####AAAAAAAQAAABAQEAAACcAAAAmgAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAhQAAAIcAAAADAAAAAKAAAAAAABAAAAEAAQAAAIUBP#AAAAAAAAAAAAAEAAAAAKAAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAKEAAAATAAAAAKAAAmFuAAAAogAAAIUAAACHAAAACAEAAACgAAAAhQAAAIcAAAAGAAAAAKAAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACFAAAAhwAAABQAAAAAoAAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAhwAAAKEAAAATAAAAAKAAAm1hAAAAogAAAIUAAACmAAAAFQAAAACgAAN0bWEAAACnAAAAFgEAAACgAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAApRAAAAAAAAEAAAACAAAAFwAAAAALAAAAqAAAAA8AAAAACwAAAKMAAAALAAAApwAAAAsAAACjAAAAAAEAAACkAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAACFAAAAkQAAAAMAAAAAqgAAAAAAEAAAAQABAAAAhQE#8AAAAAAAAAAAAAQAAAAAqgAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAqwAAABMAAAAAqgACYW4AAACsAAAAhQAAAJEAAAAIAQAAAKoAAACFAAAAkQAAAAYAAAAAqgAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAIUAAACRAAAAFAAAAACqAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAACRAAAAqwAAABMAAAAAqgACbWEAAACsAAAAhQAAALAAAAAVAAAAAKoAA3RtYQAAALEAAAAWAQAAAKoAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACvEAAAAAAAAQAAAAIAAAAXAAAAAAsAAACyAAAADwAAAAALAAAArQAAAAsAAACxAAAACwAAAK0AAAAAAQAAAK4AAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAJoAAACcAAAAAwAAAAC0AAAAAAAQAAABAAEAAACaAT#wAAAAAAAAAAAABAAAAAC0AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAC1AAAAEwAAAAC0AAJhbgAAALYAAACaAAAAnAAAAAgBAAAAtAAAAJoAAACcAAAABgAAAAC0AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAmgAAAJwAAAAUAAAAALQAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJwAAAC1AAAAEwAAAAC0AAJtYQAAALYAAACaAAAAugAAABUAAAAAtAADdG1hAAAAuwAAABYBAAAAtAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAALkQAAAAAAABAAAAAgAAABcAAAAACwAAALwAAAAPAAAAAAsAAAC3AAAACwAAALsAAAALAAAAtwAAAAABAAAAuAAAAAf##########w=="
		let codeBase64 = choice([fig1,fig2])

		texte_corr = `Dans chaque parallélogramme, le segment en pointillés est ${texte_en_couleur_et_gras("perpendiculaire")} à deux côtés opposés, c'est donc une ${texte_en_couleur_et_gras("hauteur")}.<br>`
		texte_corr += `Pour obtenir l'aire, il faut multiplier cette ${texte_en_couleur_et_gras("hauteur")} par la longueur de la ${texte_en_couleur_et_gras("base")} correspondante.`
		texte_corr += "<br><br>"
		texte_corr += `$\\mathcal{A}_{ABCD}=${c1}~\\text{cm}\\times  ${h1}~\\text{cm}=${c1*h1}~\\text{cm}^2$`
		texte_corr += `<br>$\\mathcal{A}_{EFGH}=${c2}~\\text{cm}\\times  ${h2}~\\text{cm}=${c2*h2}~\\text{cm}^2$`
		texte_corr += `<br>$\\mathcal{A}_{MNOP}=${c3}~\\text{cm}\\times  ${h3}~\\text{cm}=${c3*h3}~\\text{cm}^2$`
		

		this.MG32codeBase64 = codeBase64
		this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c1", "${c1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h1", "${h1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c2", "${c2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h2", "${h2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c3", "${c3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h3", "${h3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      ` 	
		
			
		this.liste_corrections.push(texte_corr);
		liste_de_question_to_contenu_sans_numero(this);		
	}

// 	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Périmètres\n\
// 2 : Aires\n3 : Périmètres et aires"];

};

/**
 * 5A10 - Division Euclidienne; diviseurs, multiples, critères de divisibilité
 * Exercice bilan
 * @author Sébastien Lozano
 */
 
function Liste_des_diviseurs_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 1 ; 
	this.titre = "Écrire la liste de tous les diviseurs d'un entier."; 
	// pas de différence entre la version html et la version latex pour la consigne
	//this.consigne =`Écrire la liste de tous les diviseurs d'un entier.`;
	this.consigne =``;
	//this.consigne += `<br>`;
	sortie_html ? this.spacing = 2 : this.spacing = 1;
	sortie_html ? this.spacing_corr = 2: this.spacing_corr = 1;
	this.nb_questions = 3;
	//this.correction_detaillee_disponible = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions;
		if (sortie_html) { // les boutons d'aide uniquement pour la version html
			//this.bouton_aide = '';
			//this.bouton_aide = modal_pdf(numero_de_l_exercice,"pdf/FicheArithmetique-3A10.pdf","Aide mémoire sur la division euclidienne (Sébastien Lozano)","Aide mémoire")		
			//this.bouton_aide += modal_video('conteMathsNombresPremiers','videos/LesNombresPremiers.mp4','Petit conte mathématique','Intro Vidéo');
		} else { // sortie LaTeX
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,1,2];
		//let type_de_questions_disponibles = [1];
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions);

			for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions&&cpt<50;) {
				type_de_questions = liste_type_de_questions[i];

				switch (type_de_questions) {
					case 1 : // Compléter un tableau pour trouver la liste de tous les diviseurs d'un entier
						// on choisit un entier non premier inférieur à 99
						let M = randint(2,99,crible_eratosthene_n(99));
						// on calcule le nombre de diviseur de M pour prévoir le nombre de lignes du tableau
						let nbre_diviseurs_M = liste_diviseurs(M).length;
						
						texte = `Compléter le tableau suivant et faire la liste de tous les diviseurs de ${M}`;										
						if (!sortie_html) {
							texte += `$\\medskip$`;
						};
						texte += `<br>`;						
						if (sortie_html) {
							texte += `$\\def\\arraystretch{2.5}\\begin{array}{|c|c|c|}\n`
						} else {
							
							texte += `$\\begin{array}{|c|c|c|}\n`
						};						
						texte += `\\hline\n`
						texte += `\\text{Facteur n°1} & \\text{Facteur n°2} & \\text{Produit donnant } ${M} \\\\\n`
						texte += `\\hline\n`

						if (nbre_diviseurs_M%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(M).length/2); m++){
								texte += texte_ou_pas(liste_diviseurs(M)[m])+` & `+texte_ou_pas(liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)])+`& ${texte_ou_pas(M)} \\\\\n`;
								texte += `\\hline\n`;
							};
						} else { // sinon il est impair, cela n'arrive qu'avvec les carrés parfaits
							for (let m = 0; m<((liste_diviseurs(M).length-1)/2); m++){
								texte += texte_ou_pas(liste_diviseurs(M)[m])+` & `+texte_ou_pas(liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)])+`& ${texte_ou_pas(M)} \\\\\n`;
							};
							texte += texte_ou_pas(liste_diviseurs(M)[(nbre_diviseurs_M-1)/2])+` & `+texte_ou_pas(liste_diviseurs(M)[(nbre_diviseurs_M-1)/2])+`& ${texte_ou_pas(M)} \\\\\n`;							
							texte += `\\hline\n`;
						};			
						texte += `\\end{array}\n$`

						// correction

						texte_corr = `Le tableau suivant contient tous les couples de facteurs dont le produit vaut ${M}`;
						if (!sortie_html) {
							texte_corr += `$\\medskip$`;
						};
						texte_corr += `<br>`;						
						if (sortie_html) {
							texte_corr += `$\\def\\arraystretch{2.5}\\begin{array}{|c|c|c|}\n`
						} else {
							texte_corr += `$\\begin{array}{|c|c|c|}\n`
						};						
						texte_corr += `\\hline\n`
						texte_corr += `\\text{Facteur n°1} & \\text{Facteur n°2} & \\text{Produit donnant } ${M} \\\\\n`
						texte_corr += `\\hline\n`

						if (nbre_diviseurs_M%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(M).length/2); m++){
								texte_corr += liste_diviseurs(M)[m]+` & `+liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)]+`& ${M} \\\\\n`;
								texte_corr += `\\hline\n`;
							};
						} else { // sinon il est impair, cela n'arrive qu'avvec les carrés parfaits
							for (let m = 0; m<((liste_diviseurs(M).length-1)/2); m++){
								texte_corr += liste_diviseurs(M)[m]+` & `+liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)]+`& ${M} \\\\\n`;
							};
							texte_corr += liste_diviseurs(M)[(nbre_diviseurs_M-1)/2]+` & `+liste_diviseurs(M)[(nbre_diviseurs_M-1)/2]+`& ${M} \\\\\n`;							
							texte_corr += `\\hline\n`;
						};		
						texte_corr += `\\end{array}\n$`
						if (!sortie_html) {
							texte_corr += `$\\medskip$`;
						};
						texte_corr += `<br>`;
						texte_corr += `${M} a donc ${nbre_diviseurs_M} diviseurs qui sont : `;
						texte_corr += `1`;
						for (let w = 1; w<liste_diviseurs(M).length; w++) {
							texte_corr += ` ; `+liste_diviseurs(M)[w];
						};
						texte_corr += `.`;					
						break;
					case 2 : // liste des diviseurs
						// on définit un tableau pour les choix du nombre dont on veut les diviseurs
						// 3 parmis 2,99 y compris les premiers et 1 parmis les entiers à 3 chiffres ayant au moins 8 diviseurs, il y en a 223 !
						let tableau_de_choix = [];
						tableau_de_choix =[randint(2,99),randint(2,99,[tableau_de_choix[0]]),randint(2,99,[tableau_de_choix[0],tableau_de_choix[1]]),randint(2,99,[tableau_de_choix[0],tableau_de_choix[1],tableau_de_choix[2]])];
						let tableau_de_choix_3chiffres =[];
						for (let m=101; m<999; m++) {
							if (liste_diviseurs(m).length>8) {
								tableau_de_choix_3chiffres.push(m);
							};
						};
						// on ajoute un nombre à trois chiffre avec au moins 8 diviseurs dans les choix possibles
						let rg_Nb_3chiffres = randint(0,(tableau_de_choix_3chiffres.length-1));
						tableau_de_choix.push(tableau_de_choix_3chiffres[rg_Nb_3chiffres]);
										
						let N; // on déclare le nombre dont on va chercher les diviseurs
						let rg_N; // pour tirer le rang du nombre dans le tableau des choix
						rg_N = randint(0,(tableau_de_choix.length-1));
						N = tableau_de_choix[rg_N];
						texte = `Écrire la liste de tous les diviseurs de ${N}.`;
						texte_corr = `Pour trouver la liste des diviseurs de ${N} on cherche tous les produits de deux facteurs qui donnent ${N}. En écrivant toujours le plus petit facteur en premier.<br>`;
						texte_corr += `Il est suffisant de chercher des diviseurs inférieurs au plus grand nombre dont le carré vaut ${N}, par exemple ici, ${Math.trunc(Math.sqrt(N))}$\\times $${Math.trunc(Math.sqrt(N))} = ${Math.trunc(Math.sqrt(N))*Math.trunc(Math.sqrt(N))}<${N}`;
						texte_corr += ` et ${Math.trunc(Math.sqrt(N))+1}$\\times $${Math.trunc(Math.sqrt(N))+1} = ${(Math.trunc(Math.sqrt(N))+1)*(Math.trunc(Math.sqrt(N))+1)}>${N} donc il suffit d'arrêter la recherche de facteur à ${Math.trunc(Math.sqrt(N))}.`;
						texte_corr += ` En effet, si ${N} est le produit de deux entiers p$\\times $q avec p < q alors si p$\\times $p > ${N} c'est que q$\\times $q < ${N} mais dans ce cas p serait supérieur à q sinon p$\\times $q serait inférieur à ${N} ce qui ne doit pas être le cas.<br>`
						if (liste_diviseurs(N).length%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(N).length/2); m++){
								texte_corr += ``+liste_diviseurs(N)[m]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-m-1)]+` = ${N}<br>`;
							};
						} else {
							for (let m = 0; m<((liste_diviseurs(N).length-1)/2); m++){
								texte_corr += ``+liste_diviseurs(N)[m]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-m-1)]+`<br>`;
							};
							texte_corr += ``+liste_diviseurs(N)[(liste_diviseurs(N).length-1)/2]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-1)/2]+` = ${N}<br>`;
						};
						texte_corr += `Chacun des facteurs de la liste ci-dessus est un diviseur de ${N}.<br>`;
						texte_corr += `La liste des diviseurs de ${N} est donc `;
						texte_corr += `1`;
						for (let w = 1; w<liste_diviseurs(N).length; w++) {
							texte_corr += ` ; `+liste_diviseurs(N)[w];
						};
						texte_corr += `.`;
						break;							
				};
			
				if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
					this.liste_questions.push(texte);
					this.liste_corrections.push(texte_corr);
					i++;
				}
				cpt++
			}	
	
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_numerique = ['Règle à travailler',5,"1 : Produit de deux puissances de même base\n2 : Quotient de deux puissances de même base\n3 : Puissance de puissance\n4 : Produit de puissances de même exposant\n5 : Mélange"]; 
};


/**
 * 5A11 justifier la non primalité réinvestissement des critères de divisibilité
 * Nombres à 3 ou 4 chiffres, un multiple de 2, de 3, de 5, de 7, de 9, de 10, sous forme d'un produit de deux nombres premiers inférieurs à 30
 * et un nombre premier inferieur à 529 
 * @author Sébastien Lozano
 */
function Premier_ou_pas_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Primalité ou pas"; 
	// pas de différence entre la version html et la version latex pour la consigne
	this.consigne =`Justifier que les nombres suivants sont premiers ou pas.`;
	//this.consigne += `<br>`;	
	sortie_html ? this.spacing = 3 : this.spacing = 2;
	sortie_html ? this.spacing_corr = 2: this.spacing_corr = 1;
	this.nb_questions = 7;
	//this.correction_detaillee_disponible = true;
	this.nb_cols = 2;
	this.nb_cols_corr = 1;
	this.sup = 1;
	this.liste_packages = `bclogo`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions;
		if (sortie_html) { // les boutons d'aide uniquement pour la version html
			//this.bouton_aide = '';
			this.bouton_aide = modal_pdf(numero_de_l_exercice,"pdf/FicheArithmetique-5A11.pdf","Aide mémoire sur les nombres premiers (Sébastien Lozano)","Aide mémoire")		
			this.bouton_aide += modal_video('conteMathsNombresPremiers','videos/LesNombresPremiers.mp4','Petit conte mathématique - Les Nombres Premiers','Intro Vidéo');
		} else { // sortie LaTeX
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,2,3,4,5,6,7];
		type_de_questions_disponibles=shuffle(type_de_questions_disponibles); // on mélange l'ordre des questions
		//let type_de_questions_disponibles = [1];
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions);
		
		let string_rappel = `Cette liste des nombres premiers inférieurs à 30 pourra être utile : <br>`+crible_eratosthene_n(100)[0];
		for (let k=1;k<crible_eratosthene_n(30).length;k++) {
			string_rappel +=`, `+crible_eratosthene_n(30)[k];
		};
		string_rappel +=`.`;
		this.introduction = warn_message(string_rappel,`nombres`,`Coup de pouce`);

			for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions&&cpt<50;) {

				type_de_questions = liste_type_de_questions[i];
				
				var N; // le nombre de la question
	
				switch (type_de_questions) {
					case 1 : // nombre pair
						N=2*randint(51,4999);
						texte = nombre_avec_espace(N);						
						texte_corr = `Comme ${nombre_avec_espace(N)} est pair, il admet donc au moins trois diviseurs qui sont 1, 2 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;		
					case 2 : // Multiple de 3
						let sum3=0; // pour la valeur de la somme;
						N=3*randint(34,3333);// on initialise avant la boucle car on a peut être de la chance
						while ( (N % 2 == 0) || (N % 5 == 0)) {
							N = 3 * randint(34, 3333);
						};
						texte = nombre_avec_espace(N);
						texte_corr = `Comme `+ N.toString().charAt(0);
						sum3 = Number(N.toString().charAt(0));
						for (let k=1; k<N.toString().length; k++) {
							texte_corr += ` + `+N.toString().charAt(k);
							sum3 +=Number(N.toString().charAt(k));
						};					
						texte_corr += ` = ${sum3} est un multiple de 3 donc ${nombre_avec_espace(N)} aussi, il admet donc au moins trois diviseurs qui sont 1, 3 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 3 : // Multiple de 5
						N=5*randint(20,1999);
						texte = nombre_avec_espace(N);
						texte_corr = `Comme le dernier chiffre de ${nombre_avec_espace(N)} est un ${N.toString().charAt(N.toString().length-1)} alors ${nombre_avec_espace(N)} est divisible par 5, `;
						texte_corr += `il admet donc au moins trois diviseurs qui sont 1, 5 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 4 : // Multiple de 9
						let sum9=0; // pour la valeur de la somme;
						N=9*randint(12,1111);// on initialise avant la boucle car on a peut être de la chance
						while ( (N % 2 == 0) || (N % 5 == 0)) {
							N = 9 * randint(34, 3333);
						};
						texte = nombre_avec_espace(N);
						texte_corr = `Comme `+ N.toString().charAt(0);
						sum9 = Number(N.toString().charAt(0));
						for (let k=1; k<N.toString().length; k++) {
							texte_corr += ` + `+N.toString().charAt(k);
							sum9 +=Number(N.toString().charAt(k));
						};					
						texte_corr += ` = ${sum9} est un multiple de 9 donc ${nombre_avec_espace(N)} aussi, il admet donc au moins trois diviseurs qui sont 1, 9 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 5 : // multiple de 10
						N=10*randint(10,999);
						texte = nombre_avec_espace(N);
						texte_corr = `Comme le nombre ${nombre_avec_espace(N)} se termine par un ${N.toString().charAt(N.toString().length-1)} alors ${nombre_avec_espace(N)} est un multiple de 10, `;
						texte_corr += `il admet donc au moins trois diviseurs qui sont 1, 10 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 6 : // produit de deux nombres premiers inférieurs à 30
						// rang du premier facteur premier
						let r1 = randint(0,crible_eratosthene_n(30).length-1);
						// rang du second facteur premier
						let r2 = randint(0,crible_eratosthene_n(30).length-1);
						let prime1 = crible_eratosthene_n(100)[r1]; // on tire un nombre premier inférieur à 100, il n'y en a que 25!
						let prime2 = crible_eratosthene_n(100)[r2]; // on tire un autre nombre premier inférieur à 100, ça peut être le même qu'avant!
						N=prime1+`$\\times $`+prime2;
						texte = N;
						texte_corr = `${N} est le produit de ${prime1} et de ${prime2}, il admet donc au moins `;
						if (prime1==prime2) {
							texte_corr += `trois divisieurs qui sont 1, ${prime1} et lui-même ${N}=${nombre_avec_espace(prime1*prime2)} `;
						} else {
							texte_corr += `quatre diviseurs qui sont 1, ${prime1}, ${prime2} et lui-même ${N}=${nombre_avec_espace(prime1*prime2)}, `;
						};						
						texte_corr += texte_en_couleur_et_gras(`${N} = `+nombre_avec_espace(prime1*prime2)+` n'est donc pas premier.`);
						break;
					case 7 : // nombre premier inférieur à 29
						// rang du nombre premier choisi
						let r = randint(0,crible_eratosthene_n(29).length-1);
						N=crible_eratosthene_n(29)[r]; //on choisit un nombre premier inférieur à 529
						texte = N+``;
						let tab_premiers_a_tester = crible_eratosthene_n(N);
						//texte_corr = `Testons la divisibilité de ${N} par tous les nombres premiers inférieurs à $\\sqrt{${N}}$, c'est à dire par les nombres `;
						texte_corr = `En effectuant la division euclidienne de ${N} par tous les nombres premiers inférieurs à $\\sqrt{${N}}$, c'est à dire par les nombres `;						
						texte_corr += tab_premiers_a_tester[0];
						for (let k=1;k<tab_premiers_a_tester.length;k++) {
							texte_corr += `, `+tab_premiers_a_tester[k];
						};
						//texte_corr += `.`;
						// texte_corr += `<br> Aucun de ces nombres premiers ne divise ${N}, `;
						texte_corr += `, le reste n'est jamais nul.`;
						// texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N) + ` est donc un nombre premier.`);
						texte_corr += `<br>`+texte_en_couleur_et_gras(nombre_avec_espace(N) + ` est donc un nombre premier.`);
						break;								
				};
			
				if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
					this.liste_questions.push(texte);
					this.liste_corrections.push(texte_corr);
					i++;
				}
				cpt++
			}	
	
		liste_de_question_to_contenu(this);
	}
	
};

/**
 * Trouver l'image d'une figure par une symétrie centrale dans un pavage (7 motifs différents)
 * @Auteur Jean-Claude Lhote
 * fonction servant à tous les niveaux
 * Références 5G12, 6G25-2, 4G11, 3G12
 */
function Pavages_et_transformations() {
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
//	this.titre = "Trouver l'image d'une figure par une symétrie centrale";
	this.pas_de_version_LaTeX=true;
	this.consigne = "";
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
//	this.sup = 1; // 1 pour symétrie axiale, 2 pour symétrie centrale, 3 pour translations, et 4 pour rotations ; paramètre fixé par les variantes respectives.
	sortie_html ? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;
	this.liste_packages = 'tkz-euclide';
	this.nouvelle_version = function (numero_de_l_exercice) {
	this.type_exercice = 'MG32';
	this.MG32editable=false;
	this.taille_div_MG32 = [700, 700];
	this.liste_questions = [];
	this.liste_corrections = []; // Liste de questions corrigées
	//listes de pavages [nx,ny,xB,yB,xC,yC,xD,yD,zoom,anngle]  : 0=carrés, 1=cerf-volant 2=quadri concave 3=quadri quelconque 4=parallélogrammes 5=triangles rectangles isocèles 6=triangles équilatéraux 7=losanges
	let paves=[[5,5,4,0,4,4,0,4,22,0],[5,5,6,0,8,8,0,6,40,-9],[5,5,8,0,4,4,2,8,30,-10],[5,5,4,0,6,4,0,6,28,-15],[4,6,8,0,7,4,-1,4,32,0],[5,5,8,0,4,4,0,8,40,0],[5,5,4,0,3,2*Math.sin(Math.PI/3),2,4*Math.sin(Math.PI/3),15,0],[4,4,3,1,4,4,1,3,20,0]]

	let texte,texte_corr
	let tabfigA=[], tabfigB=[],tabfigC=[],tabfigD=[]
	let pave=[]
	switch (parseInt(this.sup)) {
		case 1:
			pave=paves[0] // pavages adaptés à symétrie axiale (carrés)
			break
		case 2:
			pave=paves[randint(0,7)] // pavages adaptés à symétrie centrale (tous)
			break
		case 3:
			pave=paves[randint(0,7)] //pavages adaptés à translation (tous)
			break
		case 4:
			pave=paves[0] // pavages adaptés à rotation (carrés  )
	}
	let nx=pave[0],ny=pave[1],xB=pave[2],yB=pave[3],xC=pave[4],yC=pave[5],xD=pave[6],yD=pave[7],Zoom=pave[8],Angle=pave[9]
	let xAI=xB+xC-xD
	let yAI=yB+yC-yD
	let xAJ=xC+xD-xB
	let yAJ=yC+yD-yB
	let xAxy,yAxy,numAxy
	let point=[0,0,0]
	let trouver=false,indexA,numA,indexcentre1,numcentre1,xmil1=0,ymil1=0,indexD,numD,indexcentre2,numcentre2,xmil2=0,ymil2=0,indexC,numC,indexcentre3,numcentre3,xmil3=0,ymil3=0,num1,num2,num3
	let xc=0,yc=0,xb=0,yb=0,xa=0,ya=0,xV1=0,yV1=0,xV2=0,yV2=0,xV3=0,yV3=0
	let s0 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`])
	let s1 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`],[s0])
	let s2 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`],[s0,s1])


	for (let y=0;y<ny;y++) {  // On initialise les tableaux avec les coordonnées des points de référence (A,B,C et D) de chaque translaté et son numéro dans le pavage.
		for (let x=0;x<nx;x++) {
			xAxy=x*xAI+y*xAJ
			yAxy=x*yAI+y*yAJ
			numAxy=2*x+4*y*nx
			tabfigA.push([xAxy,yAxy,numAxy]) 
			tabfigB.push([xAxy+xB,yAxy+yB,numAxy+1])
			tabfigD.push([xAxy+xD,yAxy+yD,numAxy+2*nx])
			tabfigC.push([xAxy+xC,yAxy+yC,numAxy+2*nx+1])
		}
	}
	
	texte = `Le point O peut être déplacé pour recadrer éventuellement le pavage.<br>` // La figure énoncé a la même base pour toutes les transformations.
	
	switch (parseInt(this.sup)) {
		case 1 : //symétrie axiale
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAQL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEXAAAAAAABASkKPXCj1w#####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ5YQABOAAAAAFAIAAAAAAAAAAAAAIA#####wAEbnVtYQABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeGMAAjE4AAAAAUAyAAAAAAAAAAAAAgD#####AAJ5YwACMTIAAAABQCgAAAAAAAAAAAAYAP####8BAAAAABAAAWEAQBAAAAAAAADAMwAAAAAAAAUAAAAAHAAAAAgAAAAjAAAACAAAACQAAAAYAP####8BAAAAABAAAWMAQAgAAAAAAADAMQAAAAAAAAUAAAAAHAAAAAgAAAAmAAAACAAAACcAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAACr#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACsAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALAAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAtAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAvAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAPwAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABAAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEMAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARAAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABH#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABBAAAAQgAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAARQAAAEYAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEgAAABLAAAASQAAAEoAAABIAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAARgAAAEEAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARgAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAHAQAAAAgAAAA0AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABSAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAUwAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVAAAABkA#####wAAAA0AAABTAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABWAAAAVwAAACAA#####wEAAAAAEAAAAQABAAAAVgAAAFgAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFkAAAAZAP####8AAAANAAAAWgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABbAAAAHgD#####AQAAAAABAAAABQAAAFwAAABdAAAAXgAAAF8AAABcAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABfAAAAXgAAAGEAAABiAAAAXwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEEAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXQAAAGQAAABlAAAAXgAAAF0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABnAAAAaAAAAGkAAABqAAAAZ#####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAUQAAAFr#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFEAAABaAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABsAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABtAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAbgAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAABvAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAF7#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAABxEgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHAAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcAAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABwAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHQAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAZQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF4AAABpAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXwAAAGEAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB4EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB2EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHQAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB3EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHX#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYAAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAJAD#####AQAAAAAAAGYAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABdAAAAXgAAAGQAAABlAAAAZgAAACQA#####wEAAAAAAABrAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAZwAAAGgAAABpAAAAagAAAGsAAAAkAP####8BAAAAAAAAYwAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAF4AAABfAAAAYQAAAGIAAABjAAAAJAD#####AAAAAAAAAHwAAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAHwAAAAkAP####8AAAAAAAAAfwAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABfAAAAYQAAAGIAAABjAAAAfwAAACQA#####wAAAAAAAAB+AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAZwAAAGgAAABpAAAAagAAAGsAAAB+AAAAJAD#####AAAAAAAAAH0AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABdAAAAXgAAAGQAAABlAAAAZgAAAH0AAAAkAP####8BAAAAAAAAcgAAAAgAAAA0AAAAWgAAAAoAAABaAAAAWwAAAF4AAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAJAD#####AAAAAAAAAIQAAAAIAAAAAwAAAFYAAAAOAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAIQAAAAkAP####8BAAAAAAAAeQAAAAgAAAA0AAAAWgAAAAwAAABaAAAAWwAAAF8AAABhAAAAbAAAAG0AAABuAAAAbwAAAHAAAABzAAAAeAAAAHkAAAAkAP####8AAAAAAAAAhgAAAAgAAAADAAAAVgAAABAAAABWAAAAWAAAAFkAAABaAAAAWwAAAF8AAABhAAAAbAAAAG0AAABuAAAAbwAAAHAAAABzAAAAeAAAAHkAAACGAAAAJAD#####AQAAAAAAAHsAAAAIAAAANAAAAFoAAAANAAAAWgAAAFsAAABeAAAAaQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHUAAAB3AAAAewAAACQA#####wAAAAAAAACIAAAACAAAAAMAAABWAAAAEQAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAACIAAAAJAD#####AQAAAAAAAHoAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABdAAAAZQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHYAAAB6AAAAJAD#####AAAAAAAAAIoAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABdAAAAZQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHYAAAB6AAAAiv####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABGAAAAIQAAAACMAAJ4MgAAABwAAABGAAAAIgAAAACMAAJ5MgAAABwAAABGAAAAGgEAAACMAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAARhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAQQAAACEAAAAAkAACeDIAAAAcAAAAQQAAACIAAAAAkAACeTIAAAAcAAAAQQAAABoBAAAAkAH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEEQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJQAAngyAAAAHAAAACAAAAAiAAAAAJQAAnkyAAAAHAAAACAAAAAaAQAAAJQB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACYAAJ4MgAAABwAAAAeAAAAIgAAAACYAAJ5MgAAABwAAAAeAAAAGgEAAACYAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnAACeDIAAAAcAAAAIgAAACIAAAAAnAACeTIAAAAcAAAAIgAAABoBAAAAnAH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABHAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACgAAAAIQAAAAChAAJ4MgAAABwAAACgAAAAIgAAAAChAAJ5MgAAABwAAACgAAAAGgEAAAChAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACMTAAAAABQCQAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAGAD#####AQAAAAAQAAFiAEAIAAAAAAAAwDL#######gFAAAAABwAAAAIAAAApQAAAAgAAACmAAAAHgD#####AAAAAAABAAAABQAAACsAAAAsAAAALQAAAC4AAAArAAAAHgD#####ACy4LAABAAAABQAAADAAAAAxAAAAMgAAADMAAAAw#####wAAAAEAEENTdXJmYWNlUG9seWdvbmUA#####wAAfwAAAAAFAAAAqwAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA2AAAACAAAAKcAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAAgAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAEEAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQgAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAAiAAAArQAAAB4A#####wAAAAAAAQAAAAUAAACuAAAArwAAALAAAACxAAAArgAAABkA#####wAAAA0AAACpAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAArgAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACvAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAALAAAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsQAAALMAAAAeAP####8A#wAAAAEAAAAFAAAAtAAAALUAAAC2AAAAtwAAALQAAAAmAP####8A#wAAAAAABQAAALgAAAAZAP####8AAAANAAAAKf####8AAAABAAtDTWFjcm9QYXVzZQD#####AAAAAAH#####EECO9AAAAAAAQEHCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAgAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA1AAAACAAAAKgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAAvAAAAB4A#####wH#AAAAAQAAAAUAAAC9AAAAvgAAAL8AAADAAAAAvQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL0AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvgAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC#AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMAAAAC6AAAAHgD#####AAAAfwABAAAABQAAAMIAAADDAAAAxAAAAMUAAADCAAAAJgD#####AAAA#wAAAAUAAADGAAAAAgD#####AAN4YzEAAjMyAAAAAUBAAAAAAAAAAAAAAgD#####AAN5YzEAAjIwAAAAAUA0AAAAAAAAAAAAGAD#####AQB#AAAQAAJjMQBAAAAAAAAAAMA5AAAAAAAABQAAAAAcAAAACAAAAMgAAAAIAAAAyf####8AAAABAAlDRHJvaXRlT20A#####wAAfwAAEAAAAQACAAAAHAAAAMoAAAAbAAAAAT#wAAAAAAAA#####wAAAAEAD0NTeW1ldHJpZUF4aWFsZQD#####AAAAywAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAADMAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAMwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAyAAAAzAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAADMAAAAHgD#####AQB#AAABAAAABQAAAM0AAADOAAAAzwAAANAAAADNAAAAJgD#####AQB#AAAAAAUAAADRAAAADwD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAcAnnHHHHHHHAAAADgAAABkA#####wAAAA0AAABGAAAAGQD#####AAAADQAAAFIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADTAAAA1QAAACAA#####wH#AAAAEAAAAQACAAAA0wAAANYAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADTAAAA1AAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANYAAADUAAAAIAD#####AQB#AAAQAAABAAIAAADYAAAA2f####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADLAAAA2gAAABoA#####wAAfwAAwDoAAAAAAADAPgAAAAAAAAAAANsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAACAP####8AA3hjMgABNAAAAAFAEAAAAAAAAAAAAAIA#####wADeWMyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN4YzMAATgAAAABQCAAAAAAAAAAAAACAP####8AA3ljMwABNAAAAAFAEAAAAAAAAAAAABgA#####wH#AAAAEAACYzIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAADdAAAACAAAAN4AAAAYAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAN0AAAAIAAAA3gAAABgA#####wH#AAAAEAACYzMAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAADfAAAACAAAAOAAAAACAP####8AAnhWAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAJ5VgABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeFYyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN5VjIAATAAAAABAAAAAAAAAAAAAAACAP####8AA3hWMwABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeVYzAAEwAAAAAQAAAAAAAAAAAAAAKAD#####AP8AAAAQAAABAAIAAAAcAAAA4QAAAAE#8AAAAAAAAAAAACkA#####wAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC0AAAA6wAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALUAAADrAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtgAAAOsAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC3AAAA6wAAAB4A#####wH#AAAAAQAAAAUAAADsAAAA7QAAAO4AAADvAAAA7AAAACYA#####wH#AAAAAAAFAAAA8P####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8AAAD#ABAAAAEAAgAAAOMAAAAOAAAAGQD#####AAAA0wAAANkAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADqAAAA1wAAABoA#####wD#AAAAwEYAAAAAAADAPAAAAAAAAAAAAPQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAOAAAA8gAAABoA#####wAAAP8AwD0AAAAAAADACAAAAAAAAAAAAPYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAfAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAHwAAAAcAAAAABwIAAAAIAAAANAAAAAFAAAAAAAAAAAAAAAE#8AAAAAAAAAAAABEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAD5AAAA1AAAABAA#####wEAAP8AEAABWQAAAAAAAAAAAEAIAAAAAAAABQAAAAD6AAAA8wAAACAA#####wH#AAAAEAAAAQABAAAA+gAAAPsAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADqAAAA#AAAABoA#####wD#AAAAwDUAAAAAAADAAAAAAAAAAAAAAP0QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAgAP####8BAH8AABAAAAEAAQAAAPgAAAD7AAAAKgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAywAAAP8AAAAaAP####8AAH8AAL#wAAAAAAAAP#AAAAAAAAAAAAEAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMSkp################"
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAT7#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAAAAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEbAAAAAAABAU2FHrhR64v####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAAKAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAACgAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAACv####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAP####8AAAABAA9DUmVzdWx0YXRWYWxldXIAAAAC#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAUBngAAAAAAAAAAACwAAAAUA#####wAAAAoAAAAIAAAAAf####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAAA######AAAAAQAOQ1BvaW50TGllUG9pbnQA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABD#####AAAAAQAJQ0NlcmNsZU9BAP####8B#wAAAAIAAAAKAAAAEf####8AAAABAA1DRGVtaURyb2l0ZU9BAP####8B#wAAAA0AAAEAAgAAAAoAAAAR#####wAAAAEAEENEZW1pRHJvaXRlSW1hZ2UA#####wH#AAAADQAAAQACAAAAEwAAAAz#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAAFAAAABL#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAABUAAAAKAP####8B#wAAABAAAkonAAAAAAAAAAAAQAgAAAAAAAAFAAAAABEAAAANAAAACgD#####Af8AAAAQAAJJJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAWAAAADf####8AAAACAAdDUmVwZXJlAP####8A5ubmAQEAAAAKAAAAGAAAABcAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####Af8AAAEQAAJCJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAkAAAAIAAAACAAAAAsA#####wEAAAAAEAABQgBAAAAAAAAAAMA3AAAAAAAABQAAAAAaAAAAEgD#####Af8AAAEQAAJEJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAUAAAAIAAAABAAAAAsA#####wEAAAAAEAABRADAMQAAAAAAAMAqAAAAAAAABQAAAAAcAAAAEgD#####Af8AAAEQAAJDJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAcAAAAIAAAABgAAAAsA#####wEAAAAAEAABQwBACAAAAAAAAL#wAAAAAAAABQAAAAAeAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAP####8AAAABAAdDTWlsaWV1AP####8BAAAAARAAAkkxAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAb#####wAAAAEAEUNTeW1ldHJpZUNlbnRyYWxlAP####8AAAAhAAAACgD#####AQAAAAEQAAFJAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAAAi#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAACMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAcAnnHHHHHHHAAAAC#####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAAoAAAAjAAAAFgD#####AAAACgAAACQAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAlAAAAJwAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAAmAAAAFgD#####AAAAJQAAACkAAAAVAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAHAAAAAcAAAAABwIAAAAIAAAAIAAAAAFAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAsA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACsAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAsAAAAJgAAAAoA#####wEAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAqAAAAAgD#####AAN4YzIAATAAAAABAAAAAAAAAAAAAAACAP####8AA3ljMgABMAAAAAEAAAAAAAAAAAAAABIA#####wH#AAAAEAACYzIAAAAAAAAAAABACAAAAAAAAAUAAAAAGQAAAAgAAAAvAAAACAAAADD#####AAAAAQAJQ0Ryb2l0ZU9tAP####8B#wAAABAAAAEAAgAAABkAAAAxAAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8B#wAAABAAAAEAAQAAAC0AAAAu#####wAAAAEAEENJbnREcm9pdGVEcm9pdGUA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADIAAAAz#####wAAAAIADENDb21tZW50YWlyZQD#####Af8AAADANQAAAAAAAMAAAAAAAAAAAAAANBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAAAIA#####wADeGMxAAIyNgAAAAFAOgAAAAAAAAAAAAIA#####wADeWMxAAIyNgAAAAFAOgAAAAAAAAAAABIA#####wEAfwAAEAACYzEAQAAAAAAAAADAOQAAAAAAAAUAAAAAGQAAAAgAAAA2AAAACAAAADcAAAAXAP####8BAH8AABAAAAEAAgAAABkAAAA4#####wAAAAEADENNb2luc1VuYWlyZQAAAAE#8AAAAAAAAAAAABgA#####wEAAP8AEAAAAQABAAAALAAAAC4AAAAZAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAAOgAAABoA#####wEAfwABAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKf####8AAAABAAVDRm9uYwD#####AAdtb2R1bG94AAhtb2QoeCwyKf####8AAAABAA1DRm9uY3Rpb24yVmFyBv####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAABQAAAAAAAAAAAAXgAAAAcAP####8AB21vZHVsb3kAEm1vZChpbnQoeS9ueC8yKSwyKQAAAB0G#####wAAAAIACUNGb25jdGlvbgIAAAAHAwAAAAcDAAAAHgAAAAAAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAABwA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAAPQAAAB4AAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAhAAAAPgAAAB4AAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ4YQACMjAAAAABQDQAAAAAAAAAAAACAP####8AAnlhAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wAEbnVtYQABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeGMAAjE4AAAAAUAyAAAAAAAAAAAAAgD#####AAJ5YwACMTIAAAABQCgAAAAAAAAAAAASAP####8BAAAAABAAAWEAQBAAAAAAAADAMwAAAAAAAAUAAAAAGQAAAAgAAABAAAAACAAAAEEAAAASAP####8BAAAAABAAAWMAQAgAAAAAAADAMQAAAAAAAAUAAAAAGQAAAAgAAABDAAAACAAAAEQAAAAGAP####8AAAAKAAAABwMAAAABP#AAAAAAAAAAAAAhAAAAPwAAAAgAAABCAAAACgD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAEcAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAdAAAARwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAABHAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGwAAAEcAAAAWAP####8AAAAKAAAARQAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAABMAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAEwAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAATAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAABMAAAAHAD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAACAAAAAABwIAAAAHCAAAACEAAAA9AAAAHgAAAAAAAAABP#AAAAAAAAAAAAAHCAAAACEAAAA+AAAAHgAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAAcAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAAIAAAAAAHAgAAAAcIAAAAIQAAAD0AAAAeAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAAIQAAAD4AAAAeAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAABwA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAgAAAAAAcCAAAABwgAAAAhAAAAPQAAAB4AAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAhAAAAPgAAAB4AAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAVtaW5pMQACMTAAAAABQCQAAAAAAAAAAAACAP####8ABW1heGkxAAI0MAAAAAFARAAAAAAAAAAAAAIA#####wAEcGFzMQABMQAAAAE#8AAAAAAAAAAAABoA#####wEAAAAAwDEAAAAAAADALgAAAAAAAAAAAAoQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABQQAAAAIA#####wAFbWluaTIAAy0zMAAAABsAAAABQD4AAAAAAAAAAAACAP####8ABW1heGkyAAIzMAAAAAFAPgAAAAAAAAAAAAIA#####wAEcGFzMgABMQAAAAE#8AAAAAAAAAAAABMA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAHQAAAB8AAAAUAP####8AAABbAAAACgD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAABsAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAFwAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAIgAAABYA#####wAAAAoAAAAfAAAACgD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAoAAABgAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAAGAAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAbAAAAYAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAABg#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAAB0AAABdAAAAXgAAAB8AAAAdAAAAIgD#####AAAAAAABAAAABQAAABsAAAAfAAAAXwAAACMAAAAbAAAAIgD#####AAAAAAABAAAABQAAAGEAAABkAAAAYgAAAGMAAABhAAAAIgD#####AAAAAAABAAAABQAAAAoAAAAdAAAAHwAAABsAAAAKAAAAEAD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABUAAAARAP####8A5ubmAAEAAAAKAAAAIwAAAF0AAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAAVAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAF0AAAAHAQAAAAgAAAAgAAAAAT#wAAAAAAAAAAAAGAD#####AQAAAAAQAAABAAEAAAAKAAAAJAAAABgA#####wEAAAAAEAAAAQABAAAACgAAAGsAAAAJAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAGwAAAAWAP####8AAAAKAAAAawAAAAoA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAbgAAAG8AAAAYAP####8BAAAAABAAAAEAAQAAAG4AAABwAAAACQD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABxAAAAFgD#####AAAACgAAAHIAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAAHMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAbAAAAcwAAACIA#####wEAAAAAAQAAAAUAAAB0AAAAdQAAAHYAAAB3AAAAdAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIwAAAHMAAAAiAP####8BAAAAAAEAAAAFAAAAdwAAAHYAAAB5AAAAegAAAHcAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF4AAABzAAAAIgD#####AQAAAAABAAAABQAAAHUAAAB8AAAAfQAAAHYAAAB1AAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYQAAAHMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABkAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYwAAAHMAAAAiAP####8BAAAAAAEAAAAFAAAAfwAAAIAAAACBAAAAggAAAH######AAAAAgAIQ01lc3VyZVgA#####wABeAAAAGoAAABy#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABqAAAAcgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAB8CAAAABwAAAAAIAAAAhAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAB8CAAAABwAAAAAIAAAAhQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAIYAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAhwAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAHIAAAB2#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAiRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACIAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAIgAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAiAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAACMAAAAAT#wAAAAAAAAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAdQAAAH0AAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAB2AAAAgQAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAHcAAAB5AAAAJQD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAkBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACLAAAAJQD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAjhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACMAAAAJQD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAjxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACN#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAHgAAAAIAAAAIAAAAHIAAAAHAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAACYA#####wEAAAAAAAB+AAAACAAAACAAAAByAAAABwAAAHIAAABzAAAAdQAAAHYAAAB8AAAAfQAAAH4AAAAmAP####8BAAAAAAAAgwAAAAgAAAAgAAAAcgAAAAcAAAByAAAAcwAAAH8AAACAAAAAgQAAAIIAAACDAAAAJgD#####AQAAAAAAAHsAAAAIAAAAIAAAAHIAAAAHAAAAcgAAAHMAAAB2AAAAdwAAAHkAAAB6AAAAewAAACYA#####wAAAAAAAACUAAAACAAAAAMAAABuAAAACwAAAG4AAABwAAAAcQAAAHIAAABzAAAAdAAAAHUAAAB2AAAAdwAAAHgAAACUAAAAJgD#####AAAAAAAAAJcAAAAIAAAAAwAAAG4AAAALAAAAbgAAAHAAAABxAAAAcgAAAHMAAAB2AAAAdwAAAHkAAAB6AAAAewAAAJcAAAAmAP####8AAAAAAAAAlgAAAAgAAAADAAAAbgAAAAsAAABuAAAAcAAAAHEAAAByAAAAcwAAAH8AAACAAAAAgQAAAIIAAACDAAAAlgAAACYA#####wAAAAAAAACVAAAACAAAAAMAAABuAAAACwAAAG4AAABwAAAAcQAAAHIAAABzAAAAdQAAAHYAAAB8AAAAfQAAAH4AAACVAAAAJgD#####AQAAAAAAAIoAAAAIAAAAIAAAAHIAAAAKAAAAcgAAAHMAAAB2AAAAhAAAAIUAAACGAAAAhwAAAIgAAACJAAAAigAAACYA#####wAAAAAAAACcAAAACAAAAAMAAABuAAAADgAAAG4AAABwAAAAcQAAAHIAAABzAAAAdgAAAIQAAACFAAAAhgAAAIcAAACIAAAAiQAAAIoAAACcAAAAJgD#####AQAAAAAAAJEAAAAIAAAAIAAAAHIAAAAMAAAAcgAAAHMAAAB3AAAAeQAAAIQAAACFAAAAhgAAAIcAAACIAAAAiwAAAJAAAACRAAAAJgD#####AAAAAAAAAJ4AAAAIAAAAAwAAAG4AAAAQAAAAbgAAAHAAAABxAAAAcgAAAHMAAAB3AAAAeQAAAIQAAACFAAAAhgAAAIcAAACIAAAAiwAAAJAAAACRAAAAngAAACYA#####wEAAAAAAACTAAAACAAAACAAAAByAAAADQAAAHIAAABzAAAAdgAAAIEAAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACNAAAAjwAAAJMAAAAmAP####8AAAAAAAAAoAAAAAgAAAADAAAAbgAAABEAAABuAAAAcAAAAHEAAAByAAAAcwAAAHYAAACBAAAAhAAAAIUAAACGAAAAhwAAAIgAAACMAAAAjQAAAI8AAACTAAAAoAAAACYA#####wEAAAAAAACSAAAACAAAACAAAAByAAAADAAAAHIAAABzAAAAdQAAAH0AAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACOAAAAkgAAACYA#####wAAAAAAAACiAAAACAAAAAMAAABuAAAAEAAAAG4AAABwAAAAcQAAAHIAAABzAAAAdQAAAH0AAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACOAAAAkgAAAKL#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAIwAAACMAAAAApAACeDIAAAAZAAAAIwAAACQAAAAApAACeTIAAAAZAAAAIwAAABoBAAAApAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAACMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAnAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAGQAAAF0AAAAjAAAAAKgAAngyAAAAGQAAAF0AAAAkAAAAAKgAAnkyAAAAGQAAAF0AAAAaAQAAAKgB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABdEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABkAAAAdAAAAIwAAAACsAAJ4MgAAABkAAAAdAAAAJAAAAACsAAJ5MgAAABkAAAAdAAAAGgEAAACsAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAHRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACcA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAGwAAACMAAAAAsAACeDIAAAAZAAAAGwAAACQAAAAAsAACeTIAAAAZAAAAGwAAABoBAAAAsAH#AAAAv#AAAAAAAAA#########4AAAABsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAnAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAGQAAAB8AAAAjAAAAALQAAngyAAAAGQAAAB8AAAAkAAAAALQAAnkyAAAAGQAAAB8AAAAaAQAAALQB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAfEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAACgD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAfAAAAYAAAACcA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAuAAAACMAAAAAuQACeDIAAAAZAAAAuAAAACQAAAAAuQACeTIAAAAZAAAAuAAAABoBAAAAuQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAALgQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAABIA#####wEAAAAAEAABYgBACAAAAAAAAMAy#######4BQAAAAAZAAAACAAAAL0AAAAIAAAAvgAAACIA#####wAAAAAAAQAAAAUAAABIAAAASQAAAEoAAABLAAAASAAAACIA#####wEsuCwAAQAAAAUAAABNAAAATgAAAE8AAABQAAAATf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAH8AAAAABQAAAMMAAAAGAP####8AAAAKAAAABwMAAAABP#AAAAAAAAAAAAAhAAAAUgAAAAgAAAC#AAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAHQAAAMUAAAAKAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABdAAAAxQAAAAoA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAF4AAADFAAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAHwAAAMUAAAAiAP####8AAAAAAAEAAAAFAAAAxgAAAMcAAADIAAAAyQAAAMYAAAAWAP####8AAAAKAAAAwQAAAAoA#####wEA#wAAEAABSAAAAAAAAAAAAEAIAAAAAAAACQAAAADGAAAAywAAAAoA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMcAAADLAAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAyAAAAMsAAAAKAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADJAAAAywAAACIA#####wH#AAAAAQAAAAUAAADMAAAAzQAAAM4AAADPAAAAzAAAACgA#####wH#AAAAAAAFAAAA0AAAABYA#####wAAAAoAAABG#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI7sAAAAAABAIwo9cKPXDAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAABgD#####AAAACgAAAAcDAAAAAT#wAAAAAAAAAAAAIQAAAFEAAAAIAAAAwAAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAADUAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAZAAAANQAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABiAAAA1AAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGMAAADUAAAAIgD#####Af8AAAABAAAABQAAANUAAADWAAAA1wAAANgAAADVAAAACgD#####Af8AAAAQAAFNAAAAAAAAAAAAQAgAAAAAAAAFAAAAANUAAADSAAAACgD#####Af8AAAAQAAFOAAAAAAAAAAAAQAgAAAAAAAAFAAAAANYAAADSAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA1wAAANIAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADYAAAA0gAAACIA#####wEAAH8AAQAAAAUAAADaAAAA2wAAANwAAADdAAAA2gAAACgA#####wEAAP8AAAAFAAAA3v####8AAAABAA9DU3ltZXRyaWVBeGlhbGUA#####wAAADkAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAA4AAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAADgAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATwAAAOAAAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAA4AAAACIA#####wEAfwAAAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACgA#####wEAfwAAAAAFAAAA5QAAABgA#####wH#AAAAEAAAAQACAAAAJQAAACgAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAlAAAAJgAAABgA#####wEAfwAAEAAAAQACAAAA6AAAACkAAAAZAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAA6QAAABoA#####wEAfwAAwDoAAAAAAADAPgAAAAAAAAAAAOoQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAACAP####8AA3hjMwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeWMzAAE0AAAAAUAQAAAAAAAAAAAAEgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGQAAAAgAAAAvAAAACAAAADAAAAASAP####8B#wAAABAAAmMzAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAIAAAA7AAAAAgAAADtAAAAAgD#####AAJ4VgABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeVYAATAAAAABAAAAAAAAAAAAAAACAP####8AA3hWMgABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeVYyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN4VjMAATAAAAABAAAAAAAAAAAAAAACAP####8AA3lWMwABMAAAAAEAAAAAAAAAAAAAACoA#####wAAADIAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADMAAAA9gAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAM0AAAD2AAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzgAAAPYAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADPAAAA9gAAACIA#####wH#AAAAAQAAAAUAAAD3AAAA+AAAAPkAAAD6AAAA9wAAACgA#####wH#AAAAAAAFAAAA+#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAD#ABAAAAEAAgAAAO8AAAALAAAAGQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMgAAAOcAAAAaAP####8B#wAAAMBGAAAAAAAAwDwAAAAAAAAAAAD+EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikpAAAAGQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACwAAAP0AAAAaAP####8BAAD#AMA9AAAAAAAAwAgAAAAAAAAAAAEAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMykp#####wAAAAEADUNQb2ludFByb2pldGUA#####wEAfwAAEAABRQAAAAAAAAAAAEAIAAAAAAAABQAAAABFAAAAOQAAABgA#####wEAfwAAEAAAAQABAAAA4QAAAEUAAAAJAP####8BAH8AABAAAUYAAAAAAAAAAABACAAAAAAAAAUAAT#wAAAAAAAAAAABA#####8AAAACAA9DTWVzdXJlQWJzY2lzc2UA#####wACazEAAAECAAAARQAAAQQAAAAsAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAAOQAAACwA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAAA5AAAABgD#####AAABBgAAAAgAAAEFAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAUAAAAQgAAAAGAP####8AAAEHAAAACAAAAQUAAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABOAAABCgAAAAYA#####wAAAQIAAAAIAAABBQAAAAoA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE8AAAEMAAAAIgD#####AQB#AAABAAAABQAAAQsAAAEEAAABCQAAAQ0AAAELAAAAKAD#####AQB#AAAAAAUAAAEO#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQI0UAAAAAABAScKPXCj1xAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAkAAADDAAAAxAAAAQ4AAAEPAAAA5QAAAOYAAAA8AAAAOQAAAOv#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AAB#AAH#####CkCNDAAAAAAAQFLhR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAlhcHBhcmFpdDEAAAAAAAkAAADDAAAAxAAAAQ4AAAEPAAAA5QAAAOYAAAA8AAAAOQAAAOsA#####wAAAAIAF0NNYWNyb0FuaW1hdGlvblBvaW50TGllAP####8AAH8AAf####8KQI0MAAAAAABAWeFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0xAAAAAAAAFAAAAGQAAAA8AAABBAABAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AAB#AAH#####CkA0gAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGEAAAAAAAQAAAERAAABEgAAARAAAADTAAAALAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAOAAAADIAAAAsAP####8BAH8AABAAAUcAAAAAAAAAAABACAAAAAAAAAUAAAAAzAAAADIAAAAYAP####8BAH8AABAAAAEAAQAAAMwAAAD3AAAACQD#####AQB#AAAQAAFLAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAARYAAAAtAP####8AAmsyAAABFQAAAMwAAAEXAAAALAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzwAAADIAAAAsAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADOAAAAMgAAAAYA#####wAAARoAAAAIAAABGAAAAAoA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAM4AAAEbAAAABgD#####AAABGQAAAAgAAAEYAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzwAAAR0AAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADNAAABHQAAACIA#####wH#AAAAAQAAAAUAAAEXAAABHgAAARwAAAEfAAABFwAAACgA#####wH#AAAAAAAFAAABIAAAAC4A#####wD#AAAB#####wpAjUwAAAAAAEBhcKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAACQAAANAAAADRAAAA+wAAASAAAAEhAAAA#AAAAP8AAAAyAAAANQAAAC8A#####wD#AAAB#####wpAjUwAAAAAAEBlcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQyAAAAAAAJAAAA0AAAANEAAAD7AAABIAAAASEAAAD8AAAA#wAAADIAAAA1AAAAADAA#####wD#AAAB#####wpAjWQAAAAAAEBpcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTIAAAAAAAAUAAAAZAAAADwAAAEXAAEAAAAAMQD#####AP8AAAH#####CkBYIAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGIAAAAAAAQAAAEjAAABJAAAASIAAADTAAAAKgD#####AAAA#QAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANoAAAEmAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA2wAAASYAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADcAAABJgAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAN0AAAEmAAAAIgD#####AQAA#wABAAAABQAAAScAAAEoAAABKQAAASoAAAEnAAAAKAD#####AQAA#wAAAAUAAAErAAAALAD#####AQAA#wAQAAFMAAAAAAAAAAAAQAgAAAAAAAAFAAAAANoAAAD9AAAALAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA3QAAAP0AAAAYAP####8B#wAAABAAAAEAAQAAANsAAAEoAAAACQD#####Af8AAAAQAAFQAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAAS8AAAAtAP####8AAmszAAABLQAAANsAAAEwAAAABgD#####AAABLQAAAAgAAAExAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA2gAAATIAAAAGAP####8AAAEuAAAACAAAATEAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADdAAABNAAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANwAAAE0AAAAIgD#####AQAA#wABAAAABQAAATMAAAEwAAABNgAAATUAAAEzAAAAKAD#####AQAA#wAAAAUAAAE3AAAALgD#####AAAA#wH#####CkCNZAAAAAAAQG2Qo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUzAAAAAAAIAAAA3gAAAN8AAAE3AAABOAAAAQEAAAD9AAABKwAAASwAAAAvAP####8AAAD#Af####8QQI2MAAAAAABAcJhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAACAAAAN4AAADfAAABNwAAATgAAAEBAAAA#QAAASsAAAEsAAAAADAA#####wAAAP8B#####wpAjcwAAAAAAEBy2FHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTMAAAAAAAAUAAAAZAAAADwAAAEwAAEAAAAAMQD#####AAAA#wH#####CkBlUAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAMAAAE6AAABOwAAATkAAAAxAP####8AAAD#Af####8QQI28AAAAAABAdNhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAQAAADTAAABEwAAASUAAAE8################"
		// Première question : une figure type A par symétrie d'axe // à [BD] est une figure type A. le symétrique du sommet A est le sommet C
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			let indexsym1 = randint(0, nx * ny - 1, [indexA]) // sert à choisir un axe [BD]. 
			xmil1=tabfigD[indexsym1][0] // sert pour faire passer l'axe de symétrie.
			ymil1=tabfigD[indexsym1][1]
			point = image_point_par_transformation(2, [tabfigA[indexA][0], tabfigA[indexA][1]], [xmil1, ymil1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num1=tabfigA[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexsym1 = randint(0, nx * ny - 1, [indexA]) 
					xmil1=tabfigD[indexsym1][0] 
					ymil1=tabfigD[indexsym1][1]
					point = image_point_par_transformation(2, [tabfigA[indexA][0], tabfigA[indexA][1]], [xmil1, ymil1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numA} dans la symétrie par rapport à $(d_1)$ ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numA} dans la symétrie par rapport à $(d_1)$ porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure type D par symétrie d'axe // à [AC] est une figure type B. le symétrique du sommet B est le sommet D
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			let indexsym2 = randint(0, nx * ny - 1, [indexD]) // sert à choisir un axe [AC]. 
			xmil2=tabfigA[indexsym2][0] // sert pour faire passer l'axe de symétrie.
			ymil2=tabfigA[indexsym2][1]
			point = image_point_par_transformation(1, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num2=tabfigB[j][2]
						xb=tabfigD[indexD][0]
						yb=tabfigD[indexD][1]-4
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexsym2 = randint(0, nx * ny - 1, [indexD]) // sert à choisir un axe [AC]. 
					xmil2=tabfigA[indexsym2][0] // sert pour faire passer l'axe de symétrie.
					ymil2=tabfigA[indexsym2][1]
					point = image_point_par_transformation(1, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numD} dans la symétrie par rapport à $(d_2)$ ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numD} dans la symétrie par rapport à $(d_2)$ porte le numéro ${num2}.<br>`, `red`)
			// troisième question : une figure type C par symétrie d'axe // à [DC] est une figure type B. le symétrique du sommet C est le sommet C'
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			let indexsym3 = randint(0, nx * ny - 1, [indexC]) // sert à choisir un axe [AC]. 
			xmil3=tabfigC[indexsym3][0] // sert pour faire passer l'axe de symétrie.
			ymil3=tabfigC[indexsym3][1]
			point = image_point_par_transformation(3, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num3=tabfigC[j][2]
						xc=tabfigC[indexC][0]-4
						yc=tabfigC[indexC][1]-4
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					let indexsym3 = randint(0, nx * ny - 1, [indexC]) // sert à choisir un axe [AC]. 
					xmil3=tabfigC[indexsym3][0] // sert pour faire passer l'axe de symétrie.
					ymil3=tabfigC[indexsym3][1]
					point = image_point_par_transformation(3, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numC} dans la symétrie par rapport à $(d_3)$ ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numC} dans la symétrie par rapport à $(d_3)$ porte le numéro ${num3}.<br>`, `blue`)

			break
		case 2 : // symétrie centrale
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAST#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN4YzEAATUAAAABQBQAAAAAAAAAAAACAP####8AA3ljMQABMgAAAAFAAAAAAAAAAAAAABgA#####wEAAAAAEAABYQAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACMAAAAIAAAAJAAAABgA#####wEAAAAAEAABYwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACYAAAAIAAAAJwAAABgA#####wAJzAkAEAACYzEAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAAAoAAAACAAAACkAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAC3#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALwAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAyAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAQgAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABDAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARwAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABKAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAASgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABK#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABEAAAARQAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAASAAAAEkAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEsAAABOAAAATAAAAE0AAABLAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAASQAAAEQAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAASQAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAHAQAAAAgAAAA3AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABVAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAVgAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVwAAABkA#####wAAAA0AAABWAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABZAAAAWgAAACAA#####wEAAAAAEAAAAQABAAAAWQAAAFsAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFwAAAAZAP####8AAAANAAAAXQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABeAAAAHgD#####AQAAAAABAAAABQAAAF8AAABgAAAAYQAAAGIAAABfAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABiAAAAYQAAAGQAAABlAAAAYgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEQAAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAF4AAAAeAP####8BAAAAAAEAAAAFAAAAYAAAAGcAAABoAAAAYQAAAGAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABqAAAAawAAAGwAAABtAAAAav####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAVAAAAF3#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFQAAABdAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABvAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABwAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAcQAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAAByAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAAB0EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcwAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABzAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHcAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAaAAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAABsAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAGQAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB7EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHYAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB5EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHcAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB6EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHj#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYwAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAJAD#####AQAAAAAAAGkAAAAIAAAANwAAAF0AAAAHAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAACQA#####wEAAAAAAABuAAAACAAAADcAAABdAAAABwAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAAAkAP####8BAAAAAAAAZgAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAggAAAAgAAAADAAAAWQAAAAsAAABZAAAAWwAAAFwAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAggAAACQA#####wAAAAAAAACBAAAACAAAAAMAAABZAAAACwAAAFkAAABbAAAAXAAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAACBAAAAJAD#####AAAAAAAAAIAAAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAAIAAAAAkAP####8BAAAAAAAAdQAAAAgAAAA3AAAAXQAAAAoAAABdAAAAXgAAAGEAAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAJAD#####AAAAAAAAAIcAAAAIAAAAAwAAAFkAAAAOAAAAWQAAAFsAAABcAAAAXQAAAF4AAABhAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAIcAAAAkAP####8BAAAAAAAAfAAAAAgAAAA3AAAAXQAAAAwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAAAkAP####8AAAAAAAAAiQAAAAgAAAADAAAAWQAAABAAAABZAAAAWwAAAFwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAACJAAAAJAD#####AQAAAAAAAH4AAAAIAAAANwAAAF0AAAANAAAAXQAAAF4AAABhAAAAbAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHgAAAB6AAAAfgAAACQA#####wAAAAAAAACLAAAACAAAAAMAAABZAAAAEQAAAFkAAABbAAAAXAAAAF0AAABeAAAAYQAAAGwAAABvAAAAcAAAAHEAAAByAAAAcwAAAHcAAAB4AAAAegAAAH4AAACLAAAAJAD#####AQAAAAAAAH0AAAAIAAAANwAAAF0AAAAMAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAJAD#####AAAAAAAAAI0AAAAIAAAAAwAAAFkAAAAQAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAjf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABJAAAAIQAAAACPAAJ4MgAAABwAAABJAAAAIgAAAACPAAJ5MgAAABwAAABJAAAAGgEAAACPAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAASRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARAAAACEAAAAAkwACeDIAAAAcAAAARAAAACIAAAAAkwACeTIAAAAcAAAARAAAABoBAAAAkwH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJcAAngyAAAAHAAAACAAAAAiAAAAAJcAAnkyAAAAHAAAACAAAAAaAQAAAJcB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACbAAJ4MgAAABwAAAAeAAAAIgAAAACbAAJ5MgAAABwAAAAeAAAAGgEAAACbAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnwACeDIAAAAcAAAAIgAAACIAAAAAnwACeTIAAAAcAAAAIgAAABoBAAAAnwH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABKAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACjAAAAIQAAAACkAAJ4MgAAABwAAACjAAAAIgAAAACkAAJ5MgAAABwAAACjAAAAGgEAAACkAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAAjI0AAAAAUA4AAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAAAIA#####wADeGMyAAEzAAAAAUAIAAAAAAAAAAAAAgD#####AAN5YzIAATUAAAABQBQAAAAAAAAAAAACAP####8AA3hjMwABNgAAAAFAGAAAAAAAAAAAAAIA#####wADeWMzAAE3AAAAAUAcAAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAqAAAAAgAAACpAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAKwAAAAIAAAArQAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACuAAAACAAAAK8AAAAeAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAeAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAAC0AAAAHQD#####AAAALAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC2AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC2AAAAHgD#####ASy4LAABAAAABQAAALcAAAC4AAAAuQAAALoAAAC3AAAAJgD#####AQB#AAAAAAUAAAC7AAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAqgAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAAC9AAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAARAAAAL0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABFAAAAvQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAAC9AAAAHgD#####AAAAAAABAAAABQAAAL4AAAC#AAAAwAAAAMEAAAC+AAAAGQD#####AAAADQAAALAAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAC+AAAAwwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAL8AAADDAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAwAAAAMMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADBAAAAwwAAAB4A#####wD#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACYA#####wD#AAAAAAAFAAAAyAAAAB0A#####wAAALEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADEAAAAygAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMUAAADKAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAxgAAAMoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADHAAAAygAAAB4A#####wH#AAAAAQAAAAUAAADLAAAAzAAAAM0AAADOAAAAywAAACYA#####wH#AAAAAAAFAAAAzwAAABkA#####wAAAA0AAAArAAAAHQD#####AAAAsv####8AAAABABJDTWFjcm9DbGlnbm90ZW1lbnQA#####wAA#wAB#####wpAi8QAAAAAAEBSoUeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUxAAAAAAACAAAAuwAAALwAAAAU#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAC#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AQD#AAABAAAALAAAACv#####AAAAAUBmgAAAAAAAAAAAKQD#####AQAAAAABAAAAsQAAAMX#####AAAAAUBmgAAAAAAA#####wAAAAEAD0NQb2ludExpZUNlcmNsZQD#####Af8AAAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9Q#XA667psAAAA1gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADFAAAAsQAAANf#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAANgBAAAAABAAAAEAAQAAANcAAACxAAAAxQAAAA8AAAAA2AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAANn#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADYAAZhbmdsZTIAAADFAAAAsQAAANcAAAAjAQAAANgBAAAAAEAIAAAAAAAAP#AAAAAAAAAAAADaDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA2#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAANgBAAAAAAEAAAABQEJbiQkrj78AAADFAAAAsQAAANcAAAAADQD#####AAAAsQAAAAgAAADbAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAN4AAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA3gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMYAAADeAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxwAAAN4AAAAeAP####8B#wAAAAEAAAAFAAAA3wAAAOAAAADhAAAA4gAAAN8AAAAmAP####8B#wAAAAAABQAAAOP#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####CkCMxAAAAAAAQHsoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####wpAjPQAAAAAAEB9aFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AAAACcA#####wD#AAAB#####wpAjQwAAAAAAEB#eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUyAAAAAAACAAAAzwAAANAAAAAU#####wAAAAIAGENNYWNyb0FuaW1hdGlvbkF2ZWNUcmFjZQD#####AP8AAAH#####CkCNXAAAAAAAQIC8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUyAAAAAAABAAAA1wABAAAAAAoAAAAyAAAAAAAAANcBAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####CkCQTgAAAAAAQHs4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVDb3JyMgAAAAAABQAAAOcAAADUAAAA5QAAAOgAAADmAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAqwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAADqAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATgAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABMAAAA6gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE0AAADqAAAAHgD#####Af8AAAABAAAABQAAAOsAAADsAAAA7QAAAO4AAADrAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA6wAAANEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADsAAAA0QAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAO0AAADRAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA7gAAANEAAAAeAP####8AAAB#AAEAAAAFAAAA8AAAAPEAAADyAAAA8wAAAPAAAAAmAP####8AAAB#AAAABQAAAPQAAAApAP####8B##8AAAEAAACyAAAA8P####8AAAABQGaAAAAAAAAAAAAqAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABPyl3lSGrWUIAAAD2AAAAJQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAPAAAACyAAAA9wAAACsAAAAA+AEAAAAAEAAAAQABAAAA9wAAALIAAADwAAAADwAAAAD4AQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA+QAAACwBAAAA+AAGYW5nbGUzAAAA8AAAALIAAAD3AAAAIwEAAAD4Af##AABACAAAAAAAAD#wAAAAAAAAAAAA+g8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAPsAAAAtAQAAAPgB##8AAAEAAAABQEJbiQkrj78AAADwAAAAsgAAAPcAAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8AAAANIAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADxAAAA0gAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPIAAADSAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8wAAANIAAAAeAP####8BAAB#AAEAAAAFAAAA#gAAAP8AAAEAAAABAQAAAP4AAAAmAP####8BAAB#AAAABQAAAQIAAAANAP####8AAACyAAAACAAAAPsAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADwAAABBAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPEAAAEEAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8gAAAQQAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADzAAABBAAAAB4A#####wEAAH8AAQAAAAUAAAEFAAABBgAAAQcAAAEIAAABBQAAACYA#####wEAAH8AAAAFAAABCQAAAC4A#####wAAAH8B#####wpAjLQAAAAAAEBkMKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALQXBwYXJpdGlvbjMAAAAAAAUAAAECAAABAwAAAQkAAAEKAAAA9wAAAAAvAP####8AAAB#Af####8KQIzUAAAAAABAaFCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAUAAAECAAABAwAAAQkAAAEKAAAA9wAAACcA#####wAAAH8B#####wpAjOwAAAAAAEBr0KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUzAAAAAAACAAABAgAAAQMAAAAUAAAAMAD#####AAAAfwH#####CkCNLAAAAAAAQG+wo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUzAAAAAAABAAAA9wABAAAAAAoAAAAyAAAAAAAAAPcBAAAAADEA#####wAAAH8B#####xBAkB4AAAAAAEBkkKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQ29ycjMAAAAAAAUAAAENAAAA1AAAAQsAAAEOAAABDAAAACkA#####wEAAH8AAQAAACwAAAAq#####wAAAAFAZoAAAAAAAAAAACoA#####wEAfwABEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#bzDaInuZNgAAARAAAAAlAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAAKgAAACwAAAERAAAAKwAAAAESAQAAAAAQAAABAAEAAAERAAAALAAAACoAAAAPAAAAARIBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAAETAAAALAEAAAESAAZhbmdsZTEAAAAqAAAALAAAAREAAAAjAQAAARIBAAB#AEAIAAAAAAAAP#AAAAAAAAAAAAEUDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAABFQAAAC0BAAABEgEAAH8AAQAAAAFAQluJCSuPvwAAACoAAAAsAAABEQAAAAANAP####8AAAAsAAAACAAAARUAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAzAAABGAAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADQAAAEYAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANQAAARgAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA2AAABGAAAAB4A#####wEAfwAAAQAAAAUAAAEZAAABGgAAARsAAAEcAAABGQAAACYA#####wEAfwAAAAAFAAABHQAAAC4A#####wAAfwAB#####xBAihQAAAAAAEBBQo9cKPXDAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALQXBwYXJpdGlvbjEAAAAAAAUAAAC7AAAAvAAAAR0AAAEeAAABEQAAAAAvAP####8AAH8AAf####8KQIpMAAAAAABAWeFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAUAAAC7AAAAvAAAAR0AAAEeAAABEQAAADAA#####wAAfwAB#####wpAinQAAAAAAEBf4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAAAAAQAAAREAAQAAAAAKAAAAMgAAAAAAAAERAQAAAAAxAP####8AAH8AAf####8KQI6cAAAAAABAV+FHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUNvcnIxAAAAAAAFAAAA0wAAANQAAAEfAAABIQAAASAAAAAxAP####8AAH8AAf####8KQIyEAAAAAABAcfhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAMAAAEiAAAA6QAAAQ################8="
			this.MG32codeBase64corr =  "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAST#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN4YzEAATUAAAABQBQAAAAAAAAAAAACAP####8AA3ljMQABMgAAAAFAAAAAAAAAAAAAABgA#####wEAAAAAEAABYQAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACMAAAAIAAAAJAAAABgA#####wEAAAAAEAABYwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACYAAAAIAAAAJwAAABgA#####wAJzAkAEAACYzEAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAAAoAAAACAAAACkAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAC3#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALwAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAyAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAQgAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABDAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARwAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABKAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAASgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABK#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABEAAAARQAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAASAAAAEkAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEsAAABOAAAATAAAAE0AAABLAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAASQAAAEQAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAASQAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAHAQAAAAgAAAA3AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABVAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAVgAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVwAAABkA#####wAAAA0AAABWAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABZAAAAWgAAACAA#####wEAAAAAEAAAAQABAAAAWQAAAFsAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFwAAAAZAP####8AAAANAAAAXQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABeAAAAHgD#####AQAAAAABAAAABQAAAF8AAABgAAAAYQAAAGIAAABfAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABiAAAAYQAAAGQAAABlAAAAYgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEQAAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAF4AAAAeAP####8BAAAAAAEAAAAFAAAAYAAAAGcAAABoAAAAYQAAAGAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABqAAAAawAAAGwAAABtAAAAav####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAVAAAAF3#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFQAAABdAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABvAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABwAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAcQAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAAByAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAAB0EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcwAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABzAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHcAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAaAAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAABsAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAGQAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB7EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHYAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB5EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHcAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB6EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHj#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYwAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAJAD#####AQAAAAAAAGkAAAAIAAAANwAAAF0AAAAHAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAACQA#####wEAAAAAAABuAAAACAAAADcAAABdAAAABwAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAAAkAP####8BAAAAAAAAZgAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAggAAAAgAAAADAAAAWQAAAAsAAABZAAAAWwAAAFwAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAggAAACQA#####wAAAAAAAACBAAAACAAAAAMAAABZAAAACwAAAFkAAABbAAAAXAAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAACBAAAAJAD#####AAAAAAAAAIAAAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAAIAAAAAkAP####8BAAAAAAAAdQAAAAgAAAA3AAAAXQAAAAoAAABdAAAAXgAAAGEAAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAJAD#####AAAAAAAAAIcAAAAIAAAAAwAAAFkAAAAOAAAAWQAAAFsAAABcAAAAXQAAAF4AAABhAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAIcAAAAkAP####8BAAAAAAAAfAAAAAgAAAA3AAAAXQAAAAwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAAAkAP####8AAAAAAAAAiQAAAAgAAAADAAAAWQAAABAAAABZAAAAWwAAAFwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAACJAAAAJAD#####AQAAAAAAAH4AAAAIAAAANwAAAF0AAAANAAAAXQAAAF4AAABhAAAAbAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHgAAAB6AAAAfgAAACQA#####wAAAAAAAACLAAAACAAAAAMAAABZAAAAEQAAAFkAAABbAAAAXAAAAF0AAABeAAAAYQAAAGwAAABvAAAAcAAAAHEAAAByAAAAcwAAAHcAAAB4AAAAegAAAH4AAACLAAAAJAD#####AQAAAAAAAH0AAAAIAAAANwAAAF0AAAAMAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAJAD#####AAAAAAAAAI0AAAAIAAAAAwAAAFkAAAAQAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAjf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABJAAAAIQAAAACPAAJ4MgAAABwAAABJAAAAIgAAAACPAAJ5MgAAABwAAABJAAAAGgEAAACPAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAASRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARAAAACEAAAAAkwACeDIAAAAcAAAARAAAACIAAAAAkwACeTIAAAAcAAAARAAAABoBAAAAkwH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJcAAngyAAAAHAAAACAAAAAiAAAAAJcAAnkyAAAAHAAAACAAAAAaAQAAAJcB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACbAAJ4MgAAABwAAAAeAAAAIgAAAACbAAJ5MgAAABwAAAAeAAAAGgEAAACbAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnwACeDIAAAAcAAAAIgAAACIAAAAAnwACeTIAAAAcAAAAIgAAABoBAAAAnwH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABKAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACjAAAAIQAAAACkAAJ4MgAAABwAAACjAAAAIgAAAACkAAJ5MgAAABwAAACjAAAAGgEAAACkAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAAjI0AAAAAUA4AAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAAAIA#####wADeGMyAAEzAAAAAUAIAAAAAAAAAAAAAgD#####AAN5YzIAATUAAAABQBQAAAAAAAAAAAACAP####8AA3hjMwABNgAAAAFAGAAAAAAAAAAAAAIA#####wADeWMzAAE3AAAAAUAcAAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAqAAAAAgAAACpAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAKwAAAAIAAAArQAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACuAAAACAAAAK8AAAAeAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAeAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAAC0AAAAHQD#####AAAALAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC2AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC2AAAAHgD#####ASy4LAABAAAABQAAALcAAAC4AAAAuQAAALoAAAC3AAAAJgD#####AQB#AAAAAAUAAAC7AAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAqgAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAAC9AAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAARAAAAL0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABFAAAAvQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAAC9AAAAHgD#####AAAAAAABAAAABQAAAL4AAAC#AAAAwAAAAMEAAAC+AAAAGQD#####AAAADQAAALAAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAC+AAAAwwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAL8AAADDAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAwAAAAMMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADBAAAAwwAAAB4A#####wD#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACYA#####wD#AAAAAAAFAAAAyAAAAB0A#####wAAALEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADEAAAAygAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMUAAADKAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAxgAAAMoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADHAAAAygAAAB4A#####wH#AAAAAQAAAAUAAADLAAAAzAAAAM0AAADOAAAAywAAACYA#####wH#AAAAAAAFAAAAzwAAABkA#####wAAAA0AAAArAAAAHQD#####AAAAsv####8AAAABABJDTWFjcm9DbGlnbm90ZW1lbnQA#####wAA#wAB#####wpAi8QAAAAAAEBSoUeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUxAAAAAAACAAAAuwAAALwAAAAU#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAC#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AQD#AAABAAAALAAAACv#####AAAAAUBmgAAAAAAAAAAAKQD#####AQAAAAABAAAAsQAAAMX#####AAAAAUBmgAAAAAAA#####wAAAAEAD0NQb2ludExpZUNlcmNsZQD#####Af8AAAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9Q#XA667psAAAA1gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADFAAAAsQAAANf#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAANgBAAAAABAAAAEAAQAAANcAAACxAAAAxQAAAA8AAAAA2AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAANn#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADYAAZhbmdsZTIAAADFAAAAsQAAANcAAAAjAQAAANgBAAAAAEAIAAAAAAAAP#AAAAAAAAAAAADaDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA2#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAANgBAAAAAAEAAAABQEJbiQkrj78AAADFAAAAsQAAANcAAAAADQD#####AAAAsQAAAAgAAADbAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAN4AAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA3gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMYAAADeAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxwAAAN4AAAAeAP####8B#wAAAAEAAAAFAAAA3wAAAOAAAADhAAAA4gAAAN8AAAAmAP####8B#wAAAAAABQAAAOP#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####CkCMxAAAAAAAQHsoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####wpAjPQAAAAAAEB9aFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AAAACcA#####wD#AAAB#####wpAjQwAAAAAAEB#eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUyAAAAAAACAAAAzwAAANAAAAAU#####wAAAAIAGENNYWNyb0FuaW1hdGlvbkF2ZWNUcmFjZQD#####AP8AAAH#####CkCNXAAAAAAAQIC8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUyAAAAAAABAAAA1wABAAAAABQAAABkAAAAUAAAANcBAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####CkBbIAAAAAAAQDOFHrhR64ACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGIAAAAAAAUAAADnAAAA1AAAAOUAAADoAAAA5gAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA4AAAACAAAAKsAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAA6gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAADqAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAA6gAAAB4A#####wH#AAAAAQAAAAUAAADrAAAA7AAAAO0AAADuAAAA6wAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAOsAAADRAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA7AAAANEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADtAAAA0QAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAO4AAADRAAAAHgD#####AAAAfwABAAAABQAAAPAAAADxAAAA8gAAAPMAAADwAAAAJgD#####AAAAfwAAAAUAAAD0AAAAKQD#####Af##AAABAAAAsgAAAPD#####AAAAAUBmgAAAAAAAAAAAKgD#####AQAAfwEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT8pd5Uhq1lCAAAA9gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADwAAAAsgAAAPcAAAArAAAAAPgBAAAAABAAAAEAAQAAAPcAAACyAAAA8AAAAA8AAAAA+AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAPkAAAAsAQAAAPgABmFuZ2xlMwAAAPAAAACyAAAA9wAAACMBAAAA+AH##wAAQAgAAAAAAAA#8AAAAAAAAAAAAPoPAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAALCsAAAAAD7AAAALQEAAAD4Af##AAABAAAAAUBCW4kJK4+#AAAA8AAAALIAAAD3AAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPAAAADSAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8QAAANIAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADyAAAA0gAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPMAAADSAAAAHgD#####AQAAfwABAAAABQAAAP4AAAD#AAABAAAAAQEAAAD+AAAAJgD#####AQAAfwAAAAUAAAECAAAADQD#####AAAAsgAAAAgAAAD7AAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8AAAAQQAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADxAAABBAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPIAAAEEAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8wAAAQQAAAAeAP####8BAAB#AAEAAAAFAAABBQAAAQYAAAEHAAABCAAAAQUAAAAmAP####8BAAB#AAAABQAAAQkAAAAuAP####8AAAB#Af####8KQIy0AAAAAABAZDCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC0FwcGFyaXRpb24zAAAAAAAFAAABAgAAAQMAAAEJAAABCgAAAPcAAAAALwD#####AAAAfwH#####CkCM1AAAAAAAQGhQo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUzAAAAAAAFAAABAgAAAQMAAAEJAAABCgAAAPcAAAAnAP####8AAAB#Af####8KQIzsAAAAAABAa9Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUNsaWdub3RlMwAAAAAAAgAAAQIAAAEDAAAAFAAAADAA#####wAAAH8B#####wpAjSwAAAAAAEBvsKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAAAAAQAAAPcAAQAAAAAUAAAAZAAAAFAAAAD3AQAAAAAxAP####8AAAB#Af####8KQGbwAAAAAABAM4UeuFHriAIAAAAAAAAAAAAAAAABAAAAAAAAAAAADENvcnJlY3Rpb24gYwAAAAAABQAAAQ0AAADUAAABCwAAAQ4AAAEMAAAAKQD#####AQAAfwABAAAALAAAACr#####AAAAAUBmgAAAAAAAAAAAKgD#####AQB#AAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9vMNoie5k2AAABEAAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAREAAAArAAAAARIBAAAAABAAAAEAAQAAAREAAAAsAAAAKgAAAA8AAAABEgEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAARMAAAAsAQAAARIABmFuZ2xlMQAAACoAAAAsAAABEQAAACMBAAABEgEAAH8AQAgAAAAAAAA#8AAAAAAAAAAAARQPAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAALCsAAAAAEVAAAALQEAAAESAQAAfwABAAAAAUBCW4kJK4+#AAAAKgAAACwAAAERAAAAAA0A#####wAAACwAAAAIAAABFQAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAEYAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAARgAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAABGAAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAEYAAAAHgD#####AQB#AAABAAAABQAAARkAAAEaAAABGwAAARwAAAEZAAAAJgD#####AQB#AAAAAAUAAAEdAAAALgD#####AAB#AAH#####EECKFAAAAAAAQEFCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMQAAAAAABQAAALsAAAC8AAABHQAAAR4AAAERAAAAAC8A#####wAAfwAB#####wpAikwAAAAAAEBZ4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMQAAAAAABQAAALsAAAC8AAABHQAAAR4AAAERAAAAMAD#####AAB#AAH#####CkCKdAAAAAAAQF#hR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUxAAAAAAABAAABEQABAAAAABQAAABkAAAAUAAAAREBAAAAADEA#####wAAfwAB#####wpAQEAAAAAAAEAzhR64UeuIAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBhAAAAAAAFAAAA0wAAANQAAAEfAAABIQAAASAAAAAxAP####8AAH8AAf####8KQI9MAAAAAABAcFhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAMAAAEiAAAA6QAAAQ################8="
			// Première question : une figure dans tabfigA, une symétrie par rapport au milieu d'un [B'C'], logiquement : l'image est dans tabfigB et B' est l'image de C !
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			indexcentre1 = randint(0, nx * ny - 1, [indexA]) // indexcentre1 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre1 = tabfigA[indexcentre1][2] // [B'C'] est le segment commun à une figA et à une FigB. ici on prend le N° de la figure A, la figure B est la suivante.
			//on calcule les coordonnées du milieu de [BC] on ajoute aux coordonnées du milieu de [BC] celles du vecteur BB'. (j'aurais pu réduire mais cela aurait rendu le calcul plus opaque)
			xmil1 = (xB + xC) / 2 + tabfigB[indexcentre1][0] - xB
			ymil1 = (yB + yC) / 2 + tabfigB[indexcentre1][1] - yB
			point = image_point_par_transformation(7, [tabfigC[indexA][0], tabfigC[indexA][1]], [xmil1, ymil1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num1=tabfigB[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexcentre1 = randint(0, nx * ny - 1)
					numcentre1 = tabfigA[indexcentre1][2]
					xmil1 = (xB + xC) / 2 + tabfigB[indexcentre1][0] - xB
					ymil1 = (yB + yC) / 2 + tabfigB[indexcentre1][1] - yB
					point = image_point_par_transformation(7, [tabfigC[indexA][0], tabfigC[indexA][1]], [xmil1, ymil1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numA} dans la symétrie par rapport à ${s0} ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numA} dans la symétrie par rapport à ${s0} porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure dans tabfigD, une symétrie par rapport au milieu d'un [C'D'], le résultat est une figure dans tabfigA et C' est l'image de D !
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			indexcentre2 = randint(0, nx * ny - 1, [indexD]) // indexcentre2 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre2 = tabfigA[indexcentre2][2] // [D'C'] est le segment commun à une figA et à une FigD. ici on prend le N° de la figure A, la figure D est 2*nx+N°figA.
			//on calcule les coordonnées du milieu de [DC] on ajoute aux coordonnées du milieu de [DC] celles du vecteur DD'.
			xmil2 = (xD + xC) / 2 + tabfigD[indexcentre2][0] - xD
			ymil2 = (yD + yC) / 2 + tabfigD[indexcentre2][1] - yD
			point = image_point_par_transformation(7, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num2=tabfigC[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexcentre2 = randint(0, nx * ny - 1, [indexD])
					numcentre2 = tabfigA[indexcentre2][2]
					xmil2 = (xD + xC) / 2 + tabfigD[indexcentre2][0] - xD
					ymil2 = (yD + yC) / 2 + tabfigD[indexcentre2][1] - yD
					point = image_point_par_transformation(7, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
				}
			}

			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numD} dans la symétrie par rapport à ${s1} ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numD} dans la symétrie par rapport à ${s1} porte le numéro ${num2}.<br>`, `red`)
			// troisième question : une figure dans tabfigC, une symétrie par rapport au symétrique du milieu de [A'D'] par rapport au milieu de [C'D']... pas très clair
			// le résultat est une figure dans tabfigD et le point (C'+ vecteur AC) a pour image D' !
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			indexcentre3 = randint(0, nx * ny - 1, [indexC]) // indexcentre2 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre3 = tabfigD[indexcentre3][2] // le centre de symétrie est le milieu du segment commun à une figC et à une FigD. ici on prend le N° de la figure D, la figure C est la suivante.
			//on calcule les coordonnées du milieu du centre de symétrie : (C' + D + AC)/2=AC+AD/2 que l'on translate de CC' donc ça fait AC' + AD/2
			xmil3 = xD / 2 + tabfigC[indexcentre3][0]
			ymil3 = yD / 2 + tabfigC[indexcentre3][1]
			point = image_point_par_transformation(7, [tabfigC[indexC][0] + xC, tabfigC[indexC][1] + yC], [xmil3, ymil3]) // c'est le sommet C + AC qui a pour image D.
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == tabfigD[j][1]) {
						trouver = true
						num3=tabfigD[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					indexcentre3 = randint(0, nx * ny - 1, [indexC])
					numcentre3 = tabfigD[indexcentre3][2]
					xmil3 = xD / 2 + tabfigC[indexcentre3][0]
					ymil3 = yD / 2 + tabfigC[indexcentre3][1]
					point = image_point_par_transformation(7, [tabfigC[indexC][0] + xC, tabfigC[indexC][1] + yC], [xmil3, ymil3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numC} dans la symétrie par rapport à ${s2} ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numC} dans la symétrie par rapport à ${s2} porte le numéro ${num3}.<br>`, `blue`)
			break

		case 3 : //translations
			let iB1,iB2,iB3,iC1,iA1,iD1
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAMj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAAAYAAAAIAAAAJQAAABAA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAAAq#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAADQAAACgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAArAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACwAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAuAAAALwAAAAIA#####wACbnkAATUAAAABQBQAAAAAAAAAAAADAP####8AAnIzACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjIAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMQAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MCksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAACAP####8ABW1pbmkxAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAFbWF4aTEAAjQwAAAAAUBEAAAAAAAAAAAAAgD#####AARwYXMxAAExAAAAAT#wAAAAAAAA#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFBAAAAAgD#####AAVtaW5pMgADLTMw#####wAAAAEADENNb2luc1VuYWlyZQAAAAFAPgAAAAAAAAAAAAIA#####wAFbWF4aTIAAjMwAAAAAUA+AAAAAAAAAAAAAgD#####AARwYXMyAAExAAAAAT#wAAAAAAAA#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAAD8AAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAQAAAABwA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAdAP####8AAABDAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEQAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAR#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAQQAAAEIAAAAiAAAAIAAAAB4A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEUAAABGAAAAHgAAAB4A#####wAAAAAAAQAAAAUAAABIAAAASwAAAEkAAABKAAAASAAAAB4A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEYAAABBAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEYAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHwD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABBAAAABwEAAAAIAAAANAAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAAUgAAACAA#####wEAAAAAEAAAAQABAAAADQAAAFMAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFQAAAAZAP####8AAAANAAAAUwAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAVgAAAFcAAAAgAP####8BAAAAABAAAAEAAQAAAFYAAABYAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABZAAAAGQD#####AAAADQAAAFoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABcAAAAXQAAAF4AAABfAAAAXAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXwAAAF4AAABhAAAAYgAAAF8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABBAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABbAAAAHgD#####AQAAAAABAAAABQAAAF0AAABkAAAAZQAAAF4AAABdAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAZwAAAGgAAABpAAAAagAAAGf#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAFEAAABa#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABRAAAAWgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAG4AAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbwAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFoAAABe#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAcRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAHAAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAcAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAAB0AAAAAT#wAAAAAAAAAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGUAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABeAAAAaQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABhAAAAIwD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAeBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABzAAAAIwD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAdhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB0AAAAIwD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB1#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAGAAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAACQA#####wEAAAAAAABmAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAAkAP####8BAAAAAAAAawAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAJAD#####AQAAAAAAAGMAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAACQA#####wAAAAAAAAB8AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAAB8AAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAfgAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAfgAAACQA#####wAAAAAAAAB9AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAB9AAAAJAD#####AQAAAAAAAHIAAAAIAAAANAAAAFoAAAAKAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAACQA#####wAAAAAAAACEAAAACAAAAAMAAABWAAAADgAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGwAAABtAAAAbgAAAG8AAABwAAAAcQAAAHIAAACEAAAAJAD#####AQAAAAAAAHkAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAJAD#####AAAAAAAAAIYAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAhgAAACQA#####wEAAAAAAAB7AAAACAAAADQAAABaAAAADQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAAAkAP####8AAAAAAAAAiAAAAAgAAAADAAAAVgAAABEAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABpAAAAbAAAAG0AAABuAAAAbwAAAHAAAAB0AAAAdQAAAHcAAAB7AAAAiAAAACQA#####wEAAAAAAAB6AAAACAAAADQAAABaAAAADAAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAACQA#####wAAAAAAAACKAAAACAAAAAMAAABWAAAAEAAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAAIr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARgAAACEAAAAAjAACeDIAAAAcAAAARgAAACIAAAAAjAACeTIAAAAcAAAARgAAABoBAAAAjAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAAEEAAAAhAAAAAJAAAngyAAAAHAAAAEEAAAAiAAAAAJAAAnkyAAAAHAAAAEEAAAAaAQAAAJAB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAgAAAAIQAAAACUAAJ4MgAAABwAAAAgAAAAIgAAAACUAAJ5MgAAABwAAAAgAAAAGgEAAACUAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAHgAAACEAAAAAmAACeDIAAAAcAAAAHgAAACIAAAAAmAACeTIAAAAcAAAAHgAAABoBAAAAmAH#AAAAv#AAAAAAAAA#########4AAAAB4QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACIAAAAhAAAAAJwAAngyAAAAHAAAACIAAAAiAAAAAJwAAnkyAAAAHAAAACIAAAAaAQAAAJwB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAEAD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAiAAAARwAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAoAAAACEAAAAAoQACeDIAAAAcAAAAoAAAACIAAAAAoQACeTIAAAAcAAAAoAAAABoBAAAAoQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAAKAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wACeWIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AARudW1iAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAEbnVtYwACMzMAAAABQECAAAAAAAAAAAAYAP####8BAAAAABAAAWIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAAClAAAACAAAAKYAAAAeAP####8AAAAAAAEAAAAFAAAAKwAAACwAAAAtAAAALgAAACsAAAAeAP####8ALLgsAAEAAAAFAAAAMAAAADEAAAAyAAAAMwAAADD#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAACrAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADYAAAAIAAAApwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQQAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABCAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACtAAAAHgD#####AAAAAAABAAAABQAAAK4AAACvAAAAsAAAALEAAACuAAAAGQD#####AAAADQAAAKkAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACuAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAK8AAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsAAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACxAAAAswAAAB4A#####wD#AAAAAQAAAAUAAAC0AAAAtQAAALYAAAC3AAAAtAAAACYA#####wD#AAAAAAAFAAAAuAAAABkA#####wAAAA0AAAAp#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADUAAAAIAAAAqAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEoAAAC8AAAAHgD#####Af8AAAABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvQAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC+AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL8AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwAAAALoAAAAeAP####8AAAB#AAEAAAAFAAAAwgAAAMMAAADEAAAAxQAAAMIAAAAmAP####8AAAB#AAAABQAAAMb###############8="
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAART#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAAAYAAAAIAAAAJQAAABAA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAAAq#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAADQAAACgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAArAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACwAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAuAAAALwAAAAIA#####wACbnkAATUAAAABQBQAAAAAAAAAAAADAP####8AAnIzACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjIAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMQAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MCksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAACAP####8ABW1pbmkxAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAFbWF4aTEAAjQwAAAAAUBEAAAAAAAAAAAAAgD#####AARwYXMxAAExAAAAAT#wAAAAAAAA#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFBAAAAAgD#####AAVtaW5pMgADLTMw#####wAAAAEADENNb2luc1VuYWlyZQAAAAFAPgAAAAAAAAAAAAIA#####wAFbWF4aTIAAjMwAAAAAUA+AAAAAAAAAAAAAgD#####AARwYXMyAAExAAAAAT#wAAAAAAAA#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAAD8AAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAQAAAABwA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAdAP####8AAABDAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEQAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAR#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAQQAAAEIAAAAiAAAAIAAAAB4A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEUAAABGAAAAHgAAAB4A#####wAAAAAAAQAAAAUAAABIAAAASwAAAEkAAABKAAAASAAAAB4A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEYAAABBAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEYAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHwD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABBAAAABwEAAAAIAAAANAAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAAUgAAACAA#####wEAAAAAEAAAAQABAAAADQAAAFMAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFQAAAAZAP####8AAAANAAAAUwAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAVgAAAFcAAAAgAP####8BAAAAABAAAAEAAQAAAFYAAABYAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABZAAAAGQD#####AAAADQAAAFoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABcAAAAXQAAAF4AAABfAAAAXAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXwAAAF4AAABhAAAAYgAAAF8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABBAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABbAAAAHgD#####AQAAAAABAAAABQAAAF0AAABkAAAAZQAAAF4AAABdAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAZwAAAGgAAABpAAAAagAAAGf#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAFEAAABa#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABRAAAAWgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAG4AAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbwAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFoAAABe#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAcRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAHAAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAcAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAAB0AAAAAT#wAAAAAAAAAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGUAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABeAAAAaQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABhAAAAIwD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAeBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABzAAAAIwD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAdhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB0AAAAIwD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB1#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAGAAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAACQA#####wEAAAAAAABmAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAAkAP####8BAAAAAAAAawAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAJAD#####AQAAAAAAAGMAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAACQA#####wAAAAAAAAB8AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAAB8AAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAfgAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAfgAAACQA#####wAAAAAAAAB9AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAB9AAAAJAD#####AQAAAAAAAHIAAAAIAAAANAAAAFoAAAAKAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAACQA#####wAAAAAAAACEAAAACAAAAAMAAABWAAAADgAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGwAAABtAAAAbgAAAG8AAABwAAAAcQAAAHIAAACEAAAAJAD#####AQAAAAAAAHkAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAJAD#####AAAAAAAAAIYAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAhgAAACQA#####wEAAAAAAAB7AAAACAAAADQAAABaAAAADQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAAAkAP####8AAAAAAAAAiAAAAAgAAAADAAAAVgAAABEAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABpAAAAbAAAAG0AAABuAAAAbwAAAHAAAAB0AAAAdQAAAHcAAAB7AAAAiAAAACQA#####wEAAAAAAAB6AAAACAAAADQAAABaAAAADAAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAACQA#####wAAAAAAAACKAAAACAAAAAMAAABWAAAAEAAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAAIr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARgAAACEAAAAAjAACeDIAAAAcAAAARgAAACIAAAAAjAACeTIAAAAcAAAARgAAABoBAAAAjAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAAEEAAAAhAAAAAJAAAngyAAAAHAAAAEEAAAAiAAAAAJAAAnkyAAAAHAAAAEEAAAAaAQAAAJAB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAgAAAAIQAAAACUAAJ4MgAAABwAAAAgAAAAIgAAAACUAAJ5MgAAABwAAAAgAAAAGgEAAACUAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAHgAAACEAAAAAmAACeDIAAAAcAAAAHgAAACIAAAAAmAACeTIAAAAcAAAAHgAAABoBAAAAmAH#AAAAv#AAAAAAAAA#########4AAAAB4QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACIAAAAhAAAAAJwAAngyAAAAHAAAACIAAAAiAAAAAJwAAnkyAAAAHAAAACIAAAAaAQAAAJwB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAEAD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAiAAAARwAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAoAAAACEAAAAAoQACeDIAAAAcAAAAoAAAACIAAAAAoQACeTIAAAAcAAAAoAAAABoBAAAAoQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAAKAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wACeWIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AARudW1iAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAEbnVtYwACMzMAAAABQECAAAAAAAAAAAAYAP####8BAAAAABAAAWIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAAClAAAACAAAAKYAAAAeAP####8AAAAAAAEAAAAFAAAAKwAAACwAAAAtAAAALgAAACsAAAAeAP####8BLLgsAAEAAAAFAAAAMAAAADEAAAAyAAAAMwAAADD#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAACrAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADYAAAAIAAAApwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQQAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABCAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACtAAAAHgD#####AAAAAAABAAAABQAAAK4AAACvAAAAsAAAALEAAACuAAAAGQD#####AAAADQAAAKkAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACuAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAK8AAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsAAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACxAAAAswAAAB4A#####wH#AAAAAQAAAAUAAAC0AAAAtQAAALYAAAC3AAAAtAAAACYA#####wH#AAAAAAAFAAAAuAAAABkA#####wAAAA0AAAAp#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADUAAAAIAAAAqAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEoAAAC8AAAAHgD#####Af8AAAABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvQAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC+AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL8AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwAAAALoAAAAeAP####8BAAB#AAEAAAAFAAAAwgAAAMMAAADEAAAAxQAAAMIAAAAmAP####8BAAB#AAAABQAAAMYAAAACAP####8AAnhWAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ5VgABNAAAAAFAEAAAAAAAAAAAABgA#####wEAAAAAEAABdgAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAMgAAAAIAAAAyQAAABkA#####wAAAA0AAADKAAAAEAD#####AQAAAAAQAAJhJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAoAAAAywAAACAA#####wEAAAAAEAAAAQABAAAAKAAAAMwAAAAPAP####8BAAAAABAAAm0xAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAAM0AAAAZAP####8AAAAoAAAAzAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAADPAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAM8AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAyAAAAzwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAADPAAAAHgD#####AQB#AAABAAAABQAAANAAAADRAAAA0gAAANMAAADQAAAAJgD#####AQB#AAAAAAUAAADUAAAAGQD#####AAAAKAAAAM4AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAA1gAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAADWAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMgAAANYAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAzAAAA1gAAAB4A#####wEAfwAAAQAAAAUAAADXAAAA2AAAANkAAADaAAAA1wAAACYA#####wEAfwAAAAAFAAAA2#####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AAB#AAH#####CkCHFAAAAAAAQEjCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUxAAAAAAAGAAAA1AAAANUAAADcAAAA2wAAAKsAAACs#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wAAfwAB#####wpAhyQAAAAAAEBU4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQxAAAAAAAGAAAA1AAAANUAAADcAAAA2wAAAKsAAACsAP####8AAAACABdDTWFjcm9BbmltYXRpb25Qb2ludExpZQD#####AAB#AAH#####CkCHVAAAAAAAQF3hR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMQAAAQAAABQAAABkAAAAPAAAAM4AAQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAfwAB#####wpATMAAAAAAAEA#hR64UeuGAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBhAAAAAAAEAAAA3gAAAN8AAADdAAAAuwAAAAIA#####wADeFYyAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wADeVYyAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAN4VjMAATQAAAABQBAAAAAAAAAAAAACAP####8AA3lWMwACMTAAAAABQCQAAAAAAAAAAAAYAP####8BAH8AABAAAnYyAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAA4QAAAAgAAADiAAAAGAD#####AQB#AAAQAAJ2MwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAOMAAAAIAAAA5AAAABkA#####wAAAA0AAADlAAAAEAD#####AQB#AAAQAAJiJwAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAA5wAAABkA#####wAAAA0AAADmAAAAEAD#####AQB#AAAQAAJjJwAAAAAAAAAAAEAIAAAAAAAABQAAAAApAAAA6QAAACAA#####wEAfwAAEAAAAQABAAAAKQAAAOoAAAAgAP####8BAH8AABAAAAEAAQAAAKkAAADoAAAADwD#####AQB#AAAQAAJtMwAAAAAAAAAAAEAIAAAAAAAABQABP5EDcYGouj8AAADrAAAADwD#####AQB#AAAQAAJtMgAAAAAAAAAAAEAIAAAAAAAABQABAAAAAAAAAAAAAADsAAAAGQD#####AAAAKQAAAOoAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADCAAAA7wAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMMAAADvAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAO8AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA7wAAAB4A#####wEAAP8AAQAAAAUAAADwAAAA8QAAAPIAAADzAAAA8AAAACYA#####wEAAP8AAAAFAAAA9AAAABkA#####wAAACkAAADtAAAAEAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwgAAAPYAAAAQAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADDAAAA9gAAABAA#####wEAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMQAAAD2AAAAEAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxQAAAPYAAAAeAP####8BAAD#AAEAAAAFAAAA9wAAAPgAAAD5AAAA+gAAAPcAAAAmAP####8BAAD#AAAABQAAAPsAAAAoAP####8AAAD#Af####8KQIekAAAAAABAYzCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAYAAAD0AAAA9QAAAPwAAAD7AAAAxwAAAMYAAAApAP####8AAAD#Af####8KQIe8AAAAAABAZ1Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAABgAAAPQAAAD1AAAA#AAAAPsAAADHAAAAxgAAAAAqAP####8AAAD#Af####8KQIfUAAAAAABAa1Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0zAAABAAAAFAAAAGQAAAA8AAAA7QABAAAAACsA#####wAAAP8B#####wpAbLAAAAAAAEBAQo9cKPXDAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBjAAAAAAADAAAA#gAAAP8AAAD9AAAAGQD#####AAAAqQAAAOgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC0AAABAQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALUAAAEBAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtgAAAQEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC3AAABAQAAAB4A#####wH#AAAAAQAAAAUAAAECAAABAwAAAQQAAAEFAAABAgAAACYA#####wH#AAAAAAAFAAABBgAAABkA#####wAAAKkAAADuAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtAAAAQgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC1AAABCAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALYAAAEIAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtwAAAQgAAAAeAP####8B#wAAAAEAAAAFAAABCQAAAQoAAAELAAABDAAAAQkAAAAmAP####8B#wAAAAAABQAAAQ0AAAAoAP####8A#wAAAf####8KQIgkAAAAAABAb3Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAYAAAEGAAABBwAAAQ0AAAEOAAAAuAAAALkAAAApAP####8A#wAAAf####8KQIgsAAAAAABAcfhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MgAAAAAABgAAAQYAAAEHAAABDQAAAQ4AAAC4AAAAuQAAAAAqAP####8A#wAAAf####8KQIg8AAAAAABAc9hR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0yAAABAAAAFAAAAGQAAAA8AAAA7gABAAAAACsA#####wD#AAAB#####wpAYdAAAAAAAEBAQo9cKPXAAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBiAAAAAAAEAAABEAAAAREAAAEPAAAAuwAAACsA#####wD#AAAB#####xBAiFQAAAAAAEB2eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKQ29ycmVjdGlvbgAAAAAABAAAALsAAADgAAABEgAAAQD###############8="
		
			// Première question : une figure dans tabfigA, l'image dans tabfigA... 
			// On choisit deux figures de type B pour définir le vecteur de translation.
			
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			iB1=randint(0,nx*ny-1)
			iB2=randint(0,nx*ny-1,[iB1])
			xV1=tabfigB[iB2][0]-tabfigB[iB1][0]
			yV1=tabfigB[iB2][1]-tabfigB[iB1][1]
			point = image_point_par_transformation(8, [tabfigA[indexA][0], tabfigA[indexA][1]], [0,0],[xV1,yV1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
						trouver = true
						num1=tabfigA[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					iB1=randint(0,nx*ny-1)
					iB2=randint(0,nx*ny-1,[iB1])
					xV1=tabfigB[iB2][0]-tabfigB[iB1][0]
					yV1=tabfigB[iB2][1]-tabfigB[iB1][1]
					point = image_point_par_transformation(8, [tabfigA[indexA][0], tabfigA[indexA][1]], [0,0],[xV1,yV1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigB[iB1][2]} en la figure ${tabfigB[iB2][2]} quelle est le numéro de l'image de la figure ${numA} ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure image de la figure ${numA}  dans la translation qui transforme la figure ${tabfigB[iB1][2]} en la figure ${tabfigB[iB2][2]} porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure dans tabfigD, l'image dans tabfigB... 
			// On choisit une figure C et une figure A pour définir le vecteur de translation.
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			iC1=randint(0,nx*ny-1)
			iA1=randint(0,nx*ny-1,[iC1])
			xV2=tabfigA[iA1][0]-tabfigC[iC1][0]
			yV2=tabfigA[iA1][1]-tabfigC[iC1][1]
			point = image_point_par_transformation(8, [tabfigD[indexD][0], tabfigD[indexD][1]], [0,0],[xV2,yV2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num2=tabfigB[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					iC1=randint(0,nx*ny-1)
					iA1=randint(0,nx*ny-1,[iC1])
					xV2=tabfigA[iA1][0]-tabfigC[iC1][0]
					yV2=tabfigA[iA1][1]-tabfigC[iC1][1]
					point = image_point_par_transformation(8, [tabfigD[indexD][0], tabfigD[indexD][1]], [0,0],[xV2,yV2])
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigC[iC1][2]} en la figure ${tabfigA[iA1][2]} quelle est le numéro de l'image de la figure ${numD} ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure image de la figure ${numD}  dans la translation qui transforme la figure ${tabfigC[iC1][2]} en la figure ${tabfigA[iA1][2]} porte le numéro ${num2}.<br>`, `red`)

		
			// troisième question : une figure dans tabfigC, l'image dans tabfigA... 
			// On choisit une figure D et une figure B pour définir le vecteur de translation.
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			iD1=randint(0,nx*ny-1)
			iB3=randint(0,nx*ny-1,[iD1])
			xV3=tabfigA[iB3][0]-tabfigC[iD1][0]
			yV3=tabfigA[iB3][1]-tabfigC[iD1][1]
			point = image_point_par_transformation(8, [tabfigC[indexC][0], tabfigC[indexC][1]], [0,0],[xV3,yV3])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
						trouver = true
						num3=tabfigA[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					iD1=randint(0,nx*ny-1)
					iB3=randint(0,nx*ny-1,[iD1])
					xV3=tabfigA[iB3][0]-tabfigC[iD1][0]
					yV3=tabfigA[iB3][1]-tabfigC[iD1][1]
					point = image_point_par_transformation(8, [tabfigC[indexC][0], tabfigC[indexC][1]], [0,0],[xV3,yV3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigC[iD1][2]} en la figure ${tabfigA[iB3][2]} quelle est le numéro de l'image de la figure ${numC} ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure image de la figure ${numC}  dans la translation qui transforme la figure ${tabfigC[iD1][2]} en la figure ${tabfigA[iB3][2]} porte le numéro ${num3}.<br>`, `blue`)
	

			break

		case 4 : //rotations
			
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAPj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEdAAAAAAABAO4UeuFHrhv####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAJ5YwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeGMxAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAN5YzEAAjE2AAAAAUAwAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAAGAD#####AAnMCQAQAAJjMQAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAACgAAAAIAAAAKQAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAAGAAAACAAAACUAAAAQAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAALf####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALgAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAvAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAADIAAAACAP####8AAm55AAE1AAAAAUAUAAAAAAAAAAAAAwD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFB#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAADwAAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAD0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAPQAAABsA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAcAP####8AAABAAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEEAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABEAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEQAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARP####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAPgAAAD8AAAAiAAAAIAAAAB0A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEIAAABDAAAAHgAAAB0A#####wAAAAAAAQAAAAUAAABFAAAASAAAAEYAAABHAAAARQAAAB0A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEMAAAA+AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHgD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAA+AAAABwEAAAAIAAAANwAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAATwAAAB8A#####wEAAAAAEAAAAQABAAAADQAAAFAAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFEAAAAZAP####8AAAANAAAAUAAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAUwAAAFQAAAAfAP####8BAAAAABAAAAEAAQAAAFMAAABVAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABWAAAAGQD#####AAAADQAAAFcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWAAAAB0A#####wEAAAAAAQAAAAUAAABZAAAAWgAAAFsAAABcAAAAWQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAXAAAAFsAAABeAAAAXwAAAFwAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA+AAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD8AAABYAAAAHQD#####AQAAAAABAAAABQAAAFoAAABhAAAAYgAAAFsAAABaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEYAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAZAAAAGUAAABmAAAAZwAAAGT#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAE4AAABX#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABOAAAAVwAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAaQAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAagAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAGsAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbAAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFcAAABb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAbhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABtAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAG0AAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAbQAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAABxAAAAAT#wAAAAAAAAAAAAGwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAGIAAAAbAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABbAAAAZgAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFwAAABeAAAAIgD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAdRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAIgD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAcxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABxAAAAIgD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABy#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAF0AAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAACMA#####wEAAAAAAABjAAAACAAAADcAAABXAAAABwAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAAjAP####8BAAAAAAAAaAAAAAgAAAA3AAAAVwAAAAcAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAIwD#####AQAAAAAAAGAAAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAACMA#####wAAAAAAAAB5AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAAB5AAAAIwD#####AAAAAAAAAHwAAAAIAAAAAwAAAFMAAAALAAAAUwAAAFUAAABWAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAAHwAAAAjAP####8AAAAAAAAAewAAAAgAAAADAAAAUwAAAAsAAABTAAAAVQAAAFYAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAewAAACMA#####wAAAAAAAAB6AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAB6AAAAIwD#####AQAAAAAAAG8AAAAIAAAANwAAAFcAAAAKAAAAVwAAAFgAAABbAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAACMA#####wAAAAAAAACBAAAACAAAAAMAAABTAAAADgAAAFMAAABVAAAAVgAAAFcAAABYAAAAWwAAAGkAAABqAAAAawAAAGwAAABtAAAAbgAAAG8AAACBAAAAIwD#####AQAAAAAAAHYAAAAIAAAANwAAAFcAAAAMAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAIwD#####AAAAAAAAAIMAAAAIAAAAAwAAAFMAAAAQAAAAUwAAAFUAAABWAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAgwAAACMA#####wEAAAAAAAB4AAAACAAAADcAAABXAAAADQAAAFcAAABYAAAAWwAAAGYAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAAByAAAAdAAAAHgAAAAjAP####8AAAAAAAAAhQAAAAgAAAADAAAAUwAAABEAAABTAAAAVQAAAFYAAABXAAAAWAAAAFsAAABmAAAAaQAAAGoAAABrAAAAbAAAAG0AAABxAAAAcgAAAHQAAAB4AAAAhQAAACMA#####wEAAAAAAAB3AAAACAAAADcAAABXAAAADAAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAACMA#####wAAAAAAAACHAAAACAAAAAMAAABTAAAAEAAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAAIcAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABEAAAAAgD#####AAJ4YgACMjQAAAABQDgAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACNTYAAAABQEwAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAAgD#####AAN4YzIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AAN5YzIAAjIwAAAAAUA0AAAAAAAAAAAAAgD#####AAN4YzMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN5YzMAAjI0AAAAAUA4AAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAigAAAAgAAACLAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAI4AAAAIAAAAjwAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACQAAAACAAAAJEAAAAdAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAdAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAACWAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAjAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACYAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAPgAAAJgAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA#AAAAmAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACYAAAAHQD#####AAAAAAABAAAABQAAAJkAAACaAAAAmwAAAJwAAACZAAAAGQD#####AAAADQAAAJIAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACZAAAAngAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJoAAACeAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAmwAAAJ4AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACcAAAAngAAAB0A#####wD#AAAAAQAAAAUAAACfAAAAoAAAAKEAAACiAAAAnwAAACQA#####wD#AAAAAAAFAAAAowAAABkA#####wAAAA0AAAAr#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAjQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAACnAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAKcAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAApwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAACnAAAAHQD#####Af8AAAABAAAABQAAAKgAAACpAAAAqgAAAKsAAACoAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqAAAAKUAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAApQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKoAAAClAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqwAAAKUAAAAdAP####8AAAB#AAEAAAAFAAAArQAAAK4AAACvAAAAsAAAAK0AAAAkAP####8AAAB#AAAABQAAALH#####AAAAAQASQ0FyY0RlQ2VyY2xlRGlyZWN0AP####8B##8AAAEAAACUAAAArf####8AAAABQFaAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABP10AlhldV+MAAACzAAAADQD#####AAAALAAAAAFAVoAAAAAAAAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC1AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALUAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC1AAAAHQD#####AQB#AAABAAAABQAAALYAAAC3AAAAuAAAALkAAAC2AAAAJAD#####AQB#AAAAAAUAAAC6AAAADQD#####AAAAlAAAAAFAVoAAAAAAAAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK0AAAC8AAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArgAAALwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACvAAAAvAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALAAAAC8AAAAHQD#####AQAAfwABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAJAD#####AQAAfwAAAAUAAADBAAAADQD#####AAAAk#####8AAAABAAxDTW9pbnNVbmFpcmUAAAABQFaAAAAAAAAAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACfAAAAwwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKAAAADDAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAoQAAAMMAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACiAAAAwwAAAB0A#####wH#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACQA#####wH#AAAAAAAFAAAAyAAAACYA#####wH#AAAAAQAAACwAAAAq#####wAAAAFAVoAAAAAAAAAAACcA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#Zs#fPkSCoAAAAMr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAMv#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAAMwBAAAAABAAAAEAAQAAAMsAAAAsAAAAKgAAAA8AAAAAzAEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAM3#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADMAAZhbmdsZTEAAAAqAAAALAAAAMsAAAAiAQAAAMwB#wAAAEAIAAAAAAAAP#AAAAAAAAAAAADODwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAAz#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAAMwB#wAAAAEAAAABQEJbiQkrj78AAAAqAAAALAAAAMsAAAAADQD#####AAAALAAAAAgAAADPAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMwAAANIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA0AAAA0gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADUAAADSAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANgAAANIAAAAdAP####8BAH8AAAEAAAAFAAAA0wAAANQAAADVAAAA1gAAANMAAAAkAP####8BAH8AAAAABQAAANf#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####xBAjwQAAAAAAEBi8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAAAAABQAAABkAAAAAAAAAMsAAQAAAAApAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAArQAAAJQAAAC0AAAAKgAAAADaAQAAAAAQAAABAAEAAAC0AAAAlAAAAK0AAAAPAAAAANoBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAADbAAAAKwEAAADaAAZhbmdsZTMAAACtAAAAlAAAALQAAAAiAQAAANoBAH8AAEAIAAAAAAAAP#AAAAAAAAAAAADcDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA3QAAACwBAAAA2gEAfwAAAQAAAAFAQluJCSuPvwAAAK0AAACUAAAAtAAAAAANAP####8AAACUAAAACAAAAN0AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACtAAAA4AAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK4AAADgAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArwAAAOAAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACwAAAA4AAAAB0A#####wEAAH8AAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACQA#####wEAAH8AAAAFAAAA5QAAAC0A#####wAAAH8B#####wpAj1wAAAAAAEBo8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAAAAABQAAABkAAAAPAAAALQAAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wEAAH8AAQAAAJMAAACf#####wAAACgAAAABQFaAAAAAAAAAAAAnAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQABP+#fkVF76cAAAADoAAAAKQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAJ8AAACTAAAA6QAAACoAAAAA6gEAAAAAEAAAAQABAAAA6QAAAJMAAACfAAAADwAAAADqAQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA6wAAACsBAAAA6gAGYW5nbGUyAAAAnwAAAJMAAADpAAAAIgEAAADqAQAAfwBACAAAAAAAAD#wAAAAAAAAAAAA7A8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAO0AAAAsAQAAAOoBAAB#AAEAAAABQEJbiQkrj78AAACfAAAAkwAAAOkAAAAADQD#####AAAAkwAAAAgAAADtAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnwAAAPAAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACgAAAA8AAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKEAAADwAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAogAAAPAAAAAdAP####8B#wAAAAEAAAAFAAAA8QAAAPIAAADzAAAA9AAAAPEAAAAkAP####8B#wAAAAAABQAAAPUAAAAtAP####8A#wAAAf####8KQI7sAAAAAABAXGFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB3RvdXJuZTIAAAAAAAAUAAAAZAAAADwAAADpAAEA################"
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAQL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEtAAAAAAABAUSFHrhR64v####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAJ5YwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeGMxAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAN5YzEAAjE2AAAAAUAwAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAAGAD#####AQnMCQAQAAJjMQAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAACgAAAAIAAAAKQAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAAGAAAACAAAACUAAAAQAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAALf####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALgAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAvAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAADIAAAACAP####8AAm55AAE1AAAAAUAUAAAAAAAAAAAAAwD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFB#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAADwAAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAD0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAPQAAABsA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAcAP####8AAABAAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEEAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABEAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEQAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARP####8AAAABAAlDUG9seWdvbmUA#####wEAAAAAAQAAAAUAAAAgAAAAPgAAAD8AAAAiAAAAIAAAAB0A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEIAAABDAAAAHgAAAB0A#####wAAAAAAAQAAAAUAAABFAAAASAAAAEYAAABHAAAARQAAAB0A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEMAAAA+AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHgD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAA+AAAABwEAAAAIAAAANwAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAATwAAAB8A#####wEAAAAAEAAAAQABAAAADQAAAFAAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFEAAAAZAP####8AAAANAAAAUAAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAUwAAAFQAAAAfAP####8BAAAAABAAAAEAAQAAAFMAAABVAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABWAAAAGQD#####AAAADQAAAFcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWAAAAB0A#####wEAAAAAAQAAAAUAAABZAAAAWgAAAFsAAABcAAAAWQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAXAAAAFsAAABeAAAAXwAAAFwAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA+AAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD8AAABYAAAAHQD#####AQAAAAABAAAABQAAAFoAAABhAAAAYgAAAFsAAABaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEYAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAZAAAAGUAAABmAAAAZwAAAGT#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAE4AAABX#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABOAAAAVwAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAaQAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAagAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAGsAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbAAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFcAAABb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAbhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABtAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAG0AAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAbQAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAABxAAAAAT#wAAAAAAAAAAAAGwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAGIAAAAbAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABbAAAAZgAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFwAAABeAAAAIgD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAdRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAIgD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAcxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABxAAAAIgD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABy#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAF0AAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAACMA#####wEAAAAAAABjAAAACAAAADcAAABXAAAABwAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAAjAP####8BAAAAAAAAaAAAAAgAAAA3AAAAVwAAAAcAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAIwD#####AQAAAAAAAGAAAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAACMA#####wAAAAAAAAB5AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAAB5AAAAIwD#####AAAAAAAAAHwAAAAIAAAAAwAAAFMAAAALAAAAUwAAAFUAAABWAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAAHwAAAAjAP####8AAAAAAAAAewAAAAgAAAADAAAAUwAAAAsAAABTAAAAVQAAAFYAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAewAAACMA#####wAAAAAAAAB6AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAB6AAAAIwD#####AQAAAAAAAG8AAAAIAAAANwAAAFcAAAAKAAAAVwAAAFgAAABbAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAACMA#####wAAAAAAAACBAAAACAAAAAMAAABTAAAADgAAAFMAAABVAAAAVgAAAFcAAABYAAAAWwAAAGkAAABqAAAAawAAAGwAAABtAAAAbgAAAG8AAACBAAAAIwD#####AQAAAAAAAHYAAAAIAAAANwAAAFcAAAAMAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAIwD#####AAAAAAAAAIMAAAAIAAAAAwAAAFMAAAAQAAAAUwAAAFUAAABWAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAgwAAACMA#####wEAAAAAAAB4AAAACAAAADcAAABXAAAADQAAAFcAAABYAAAAWwAAAGYAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAAByAAAAdAAAAHgAAAAjAP####8AAAAAAAAAhQAAAAgAAAADAAAAUwAAABEAAABTAAAAVQAAAFYAAABXAAAAWAAAAFsAAABmAAAAaQAAAGoAAABrAAAAbAAAAG0AAABxAAAAcgAAAHQAAAB4AAAAhQAAACMA#####wEAAAAAAAB3AAAACAAAADcAAABXAAAADAAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAACMA#####wAAAAAAAACHAAAACAAAAAMAAABTAAAAEAAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAAIcAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABEAAAAAgD#####AAJ4YgACMjQAAAABQDgAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACNTYAAAABQEwAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAAgD#####AAN4YzIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AAN5YzIAAjIwAAAAAUA0AAAAAAAAAAAAAgD#####AAN4YzMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN5YzMAAjI0AAAAAUA4AAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAigAAAAgAAACLAAAAGAD#####AX8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAI4AAAAIAAAAjwAAABgA#####wEAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACQAAAACAAAAJEAAAAdAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAdAP####8BLLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAACWAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAjAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACYAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAPgAAAJgAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA#AAAAmAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACYAAAAHQD#####AAAAAAABAAAABQAAAJkAAACaAAAAmwAAAJwAAACZAAAAGQD#####AAAADQAAAJIAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACZAAAAngAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJoAAACeAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAmwAAAJ4AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACcAAAAngAAAB0A#####wH#AAAAAQAAAAUAAACfAAAAoAAAAKEAAACiAAAAnwAAACQA#####wH#AAAAAAAFAAAAowAAABkA#####wAAAA0AAAAr#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAjQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAACnAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAKcAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAApwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAACnAAAAHQD#####Af8AAAABAAAABQAAAKgAAACpAAAAqgAAAKsAAACoAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqAAAAKUAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAApQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKoAAAClAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqwAAAKUAAAAdAP####8BAAB#AAEAAAAFAAAArQAAAK4AAACvAAAAsAAAAK0AAAAkAP####8BAAB#AAAABQAAALH#####AAAAAQASQ0FyY0RlQ2VyY2xlRGlyZWN0AP####8B##8AAAEAAACUAAAArf####8AAAABQFaAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABP10AlhldV+MAAACzAAAADQD#####AAAALAAAAAFAVoAAAAAAAAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC1AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALUAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC1AAAAHQD#####AAB#AAABAAAABQAAALYAAAC3AAAAuAAAALkAAAC2AAAAJAD#####AQB#AAAAAAUAAAC6AAAADQD#####AAAAlAAAAAFAVoAAAAAAAAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK0AAAC8AAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArgAAALwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACvAAAAvAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALAAAAC8AAAAHQD#####AQAAfwABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAJAD#####AQAAfwAAAAUAAADBAAAADQD#####AAAAk#####8AAAABAAxDTW9pbnNVbmFpcmUAAAABQFaAAAAAAAAAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACfAAAAwwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKAAAADDAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAoQAAAMMAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACiAAAAwwAAAB0A#####wH#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACQA#####wH#AAAAAAAFAAAAyAAAACYA#####wH#AAAAAQAAACwAAAAq#####wAAAAFAVoAAAAAAAAAAACcA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#Zs#fPkSCoAAAAMr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAMv#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAAMwBAAAAABAAAAEAAQAAAMsAAAAsAAAAKgAAAA8AAAAAzAEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAM3#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADMAAZhbmdsZTEAAAAqAAAALAAAAMsAAAAiAQAAAMwB#wAAAEAIAAAAAAAAP#AAAAAAAAAAAADODwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAAz#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAAMwB#wAAAAEAAAABQEJbiQkrj78AAAAqAAAALAAAAMsAAAAADQD#####AAAALAAAAAgAAADPAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMwAAANIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA0AAAA0gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADUAAADSAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANgAAANIAAAAdAP####8BAH8AAAEAAAAFAAAA0wAAANQAAADVAAAA1gAAANMAAAAkAP####8BAH8AAAAABQAAANf#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####xBAjwQAAAAAAEBi8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAQAAAB4AAABkAAAAPAAAAMsAAQAAAAApAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAArQAAAJQAAAC0AAAAKgAAAADaAQAAAAAQAAABAAEAAAC0AAAAlAAAAK0AAAAPAAAAANoBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAADbAAAAKwEAAADaAAZhbmdsZTMAAACtAAAAlAAAALQAAAAiAQAAANoBAH8AAEAIAAAAAAAAP#AAAAAAAAAAAADcDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA3QAAACwBAAAA2gEAfwAAAQAAAAFAQluJCSuPvwAAAK0AAACUAAAAtAAAAAANAP####8AAACUAAAACAAAAN0AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACtAAAA4AAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK4AAADgAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArwAAAOAAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACwAAAA4AAAAB0A#####wEAAH8AAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACQA#####wEAAH8AAAAFAAAA5QAAAC0A#####wAAAH8B#####wpAj1wAAAAAAEBo8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAQAAAB4AAABkAAAAPAAAALQAAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wEAAH8AAQAAAJMAAACf#####wAAACgAAAABQFaAAAAAAAAAAAAnAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQABP+#fkVF76cAAAADoAAAAKQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAJ8AAACTAAAA6QAAACoAAAAA6gEAAAAAEAAAAQABAAAA6QAAAJMAAACfAAAADwAAAADqAQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA6wAAACsBAAAA6gAGYW5nbGUyAAAAnwAAAJMAAADpAAAAIgEAAADqAQAAfwBACAAAAAAAAD#wAAAAAAAAAAAA7A8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAO0AAAAsAQAAAOoBAAB#AAEAAAABQEJbiQkrj78AAACfAAAAkwAAAOkAAAAADQD#####AAAAkwAAAAgAAADtAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnwAAAPAAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACgAAAA8AAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKEAAADwAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAogAAAPAAAAAdAP####8B#wAAAAEAAAAFAAAA8QAAAPIAAADzAAAA9AAAAPEAAAAkAP####8B#wAAAAAABQAAAPUAAAAtAP####8A#wAAAf####8KQI7sAAAAAABAXGFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB3RvdXJuZTIAAAEAAAAeAAAAZAAAADwAAADpAAEA#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQIe0AAAAAABAcLhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAcAAACWAAAAlwAAAEkAAAC7AAAALAAAANcAAADY#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wAAfwAB#####wpAiCQAAAAAAEByuFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQxAAAAAAAHAAAAlgAAAJcAAABJAAAAuwAAACwAAADXAAAA2AD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAfwAB#####wpAQ8AAAAAAAEApCj1wo9cMAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBhAAAAAAAEAAAA+QAAANkAAAD4AAAApgAAAC8A#####wAAAH8B#####xBAj5QAAAAAAEBs8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMwAAAAAABwAAAMEAAADCAAAAsQAAAOUAAACyAAAA5gAAAJQAAAAwAP####8AAAB#Af####8KQI+0AAAAAABAcLhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAABwAAAMEAAADCAAAAsQAAAOUAAACyAAAA5gAAAJQAAAAAMQD#####AAAAfwH#####CkBo8AAAAAAAQCkKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAMAAAD8AAAA5wAAAPsAAAAvAP####8A#wAAAf####8QQI+8AAAAAABAczhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAcAAADIAAAAyQAAAKMAAAD1AAAApAAAAPYAAACTAAAAMAD#####AAAAAAH#####CkCPxAAAAAAAQHZ4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAlhcHBhcmFpdDIAAAAAAAcAAADIAAAAyQAAAKMAAAD1AAAApAAAAPYAAACTAAAAADEA#####wD#AAAB#####wpAXaAAAAAAAEApCj1wo9cMAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBiAAAAAAAEAAAA#wAAAPcAAAD+AAAApgAAADEA#####wAAAAAB#####xBAcigAAAAAAEAeFHrhR634AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKQ29ycmVjdGlvbgAAAAAABAAAAKYAAAD6AAABAAAAAP3###############8="
			//première question : centre A, rotation de 90° sens anti-horaire, une figure de tabfigA donne une figure de tabfigD, le point B donne le point D.
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			indexcentre1 = randint(0, nx * ny - 1, [indexA])
			xmil1 = tabfigA[indexcentre1][0]
			ymil1 = tabfigA[indexcentre1][1]
			point = image_point_par_transformation(6, [tabfigB[indexA][0], tabfigB[indexA][1]], [xmil1, ymil1]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == tabfigD[j][1]) {
						trouver = true
						num1=tabfigD[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexcentre1 = randint(0, nx * ny - 1, [indexA])
					xmil1 = tabfigA[indexcentre1][0]
					ymil1 = tabfigA[indexcentre1][1]
					point = image_point_par_transformation(6, [tabfigB[indexA][0], tabfigB[indexA][1]], [xmil1, ymil1]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numA} dans la rotation de centre ${s0} et d'angle 90° dans le sens inverse des aiguilles d'une montre ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure image de la figure ${numA} dans la rotation de centre ${s0} et d'angle 90° dans le sens inverse des aiguilles d'une montre porte le numéro ${num1}.<br>`, `green`)

			//deuxième question : centre B, rotation 90° sens horaire, une figure de tabfigD donne une figure de tabfigC
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			indexcentre2 = randint(0, nx * ny - 1, [indexD])
			xmil2 = tabfigB[indexcentre2][0]
			ymil2 = tabfigB[indexcentre2][1]
			point = image_point_par_transformation(5, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == 4+tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num2=tabfigC[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexcentre2 = randint(0, nx * ny - 1, [indexD])
					xmil2 = tabfigB[indexcentre2][0]
					ymil2 = tabfigB[indexcentre2][1]
					point = image_point_par_transformation(5, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numD} dans la rotation de centre ${s1} et d'angle 90° dans le sens des aiguilles d'une montre ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure image de la figure ${numD} dans la rotation de centre ${s1} et d'angle 90° dans le sens des aiguilles d'une montre porte le numéro ${num2}.<br>`, `red`)

			//troisième question : centre B, rotation 90° sens anti-horaire, une figure de tabfigC donne une figure de tabfigD
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			indexcentre3 = randint(0, nx * ny - 1, [indexC])
			xmil3 = tabfigB[indexcentre3][0]
			ymil3 = tabfigB[indexcentre3][1]
			point = image_point_par_transformation(6, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == 4+tabfigD[j][1]) {
						trouver = true
						num3=tabfigD[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					indexcentre3 = randint(0, nx * ny - 1, [indexC])
					xmil3 = tabfigB[indexcentre3][0]
					ymil3 = tabfigB[indexcentre3][1]
					point = image_point_par_transformation(6, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numC} dans la rotation de centre ${s2} et d'angle 90° dans le sens inverse des aiguilles d'une montre ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure image de la figure ${numC} dans la rotation de centre ${s2} et d'angle 90° dans le sens inverse des aiguilles d'une montre porte le numéro ${num3}.<br>`, `blue`)


			break

	}
	if (sortie_html) {

			this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xD", "${xD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yD", "${yD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numa", "${numA}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numb", "${numD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numc", "${numC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc3", "${xmil3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc3", "${ymil3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc", "${xc}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc", "${yc}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc2", "${xmil2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc2", "${ymil2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xb", "${xb}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yb", "${yb}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc1", "${xmil1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc1", "${ymil1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xa", "${xa}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ya", "${ya}");	
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "Zoom", "${Zoom}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "Angle", "${Angle}");	
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c1", "${s0}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c2", "${s1}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c3", "${s2}");

			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV", "${xV1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV", "${yV1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV2", "${xV2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV2", "${yV2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV3", "${xV3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV3", "${yV3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xD", "${xD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yD", "${yD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numa", "${numA}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numb", "${numD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numc", "${numC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc3", "${xmil3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc3", "${ymil3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc", "${xc}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc", "${yc}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc2", "${xmil2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc2", "${ymil2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xb", "${xb}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yb", "${yb}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc1", "${xmil1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc1", "${ymil1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xa", "${xa}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ya", "${ya}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "Zoom", "${Zoom}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "Angle", "${Angle}");	
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c1", "${s0}");
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c2", "${s1}");
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c3", "${s2}");

			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.executeMacro("MG32svgcorr${numero_de_l_exercice}","Correction")
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`
		
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			liste_de_question_to_contenu_sans_numero(this)

		}
		else {
			texte = ``
			texte_cor=``
			this.liste_questions.push(texte) // on envoie la question
			this.liste_corrections.push(texte_corr)
			liste_de_question_to_contenu_sans_numero(this);
		}
		


	}
	this.besoin_formulaire_numerique = ['Transformations',4, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Translations\n 4 : Translations\n 5 : Homothéties\n'];
}
/**
 * Transformer un programme de calcul avec les 4 opérations dans un ordre aléatoire en un seul calcul.
 * @Auteur Jean-Claude Lhote
 * Référence 5C11-2
 */
function Ecrire_une_expression_mathador(){
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Traduire une succession d\'opérations par une expression"
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let expression,calculs_successifs,tirage,cible,solution_mathador,quidam
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
 			// traduire un calcul mathador
			solution_mathador=Trouver_solution_mathador(30,90)
			tirage=solution_mathador[0]
			cible=solution_mathador[1]
			calculs_successifs=solution_mathador[2]
			expression=solution_mathador[3]
			quidam=prenom()
			texte = `${quidam} a trouvé une solution mathador pour le tirage suivant $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${cible}$, voici ses calculs :<br>`
			for (let j=0;j<4;j++) {
				texte+=`$${calculs_successifs[j]}$<br>`
			}
			texte+=`Écris cette succession d'opérations en une seule expression.`
			texte_corr = `L'expression correspondante au calcul de ${quidam} est<br>$${expression}$ ou $${solution_mathador[4]}$.`
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
}

/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C11
 */
function Traduire_une_phrase_par_une_expression() {
	Ecrire_une_expression_numerique.call(this)
	this.version=1
	this.titre="Traduire une phrase par une expression"
	this.sup=false
	this.sup2=false
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L10-1
 */
function Traduire_une_phrase_par_une_expression_litterale() {
	Ecrire_une_expression_numerique.call(this)
	this.version=1
	this.titre="Traduire une phrase par une expression"
	this.sup=false
	this.sup2=false
	this.litteral=true
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C11-1
 */
function Traduire_une_expression_par_une_phrase() {
	Ecrire_une_expression_numerique.call(this)
	this.version=2
	this.titre="Traduire une expression par une phrase"
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L10-3
 */
function Traduire_une_expression_litterale_par_une_phrase() {
	Ecrire_une_expression_numerique.call(this)
	this.version=2
	this.titre="Traduire une expression par une phrase"
	this.litteral=true
}

/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C12-1
 */
function Traduire_une_phrase_par_une_expression_et_calculer() {
	Ecrire_une_expression_numerique.call(this)
	this.version=3
	this.titre="Traduire une phrase par une expression et la calculer"
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L13-3
 */
function Traduire_une_phrase_par_une_expression_litterale_et_calculer() {
	Ecrire_une_expression_numerique.call(this)
	this.version=3
	this.titre="Traduire une phrase par une expression et la calculer"
	this.litteral=true
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C12
 */
function Calculer_une_expression_numerique() {
	Ecrire_une_expression_numerique.call(this)
	this.version=4
	this.titre="Calculer une expression numérique en détaillant les calculs"
}
/**
 * @Auteur Jean-Claude Lhote
  * Référence 5L13-1
*/
function Calculer_une_expression_litterale() {
	Ecrire_une_expression_numerique.call(this)
	this.version=4
	this.titre="Calculer une expression littérale pour les valeurs données en détaillant les calculs"
	this.litteral=true
}



/**
 * 5L12-1
 * Distinction entre la réduction d'un produit et la réduction d'une somme, on garde les même coeffs
 * @author Sébastien Lozano 
 */
function Reduire_dinstinction_somme_produit() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;
	if (this.beta) {
		this.nb_questions = 4;
	} else {
		this.nb_questions = 2;
	};	
	this.consigne = "";
	//this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Réduire un produit et une somme à partir des mêmes éléments algébriques pour distinguer la différence`;	
	let type_de_questions_disponibles
	this.nouvelle_version = function(numero_de_l_exercice){
		//let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3]; 
		} else {
			type_de_questions_disponibles = [choice([0,2]),choice([1,3])];
		}
		
		//let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) 
		
		//if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// deux fonctions pour gérer la chaine de sortie et supprimer le coeff 1 !
			function isUn(n) {
				if (n==1) {
					return true;
				} else {
					return false;
				};
			};
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
			};
			let variables = ['x','y','z','t'];
			let enonces = [];
			let n = randint(1,6);
			let p = randint(1,6);
			let inc = variables[randint(0,variables.length-1)];
			//===== 0 le produit puis la somme
			enonces.push({
				enonce:`Simplifier le plus possible le produit puis la somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`Le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`La somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[0].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[0].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[0].correction_somme += `${texte_en_couleur(` $${n+p}${inc}=${inc}$`)}`;
			} else {
				enonces[0].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[0].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 1 le produit puis la somme
			enonces.push({
				enonce:`Simplifier le plus possible l'expression $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc}$ puis l'expression $${sliceUn(n)}${inc}+${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`$${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`$${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});

			if (isUn(n*p)) {
				enonces[1].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[1].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[1].correction_somme += `${texte_en_couleur(` $${n+p}${inc}=${inc}$`)}`;
			} else {
				enonces[1].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[1].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 2 la somme puis le produit 
			enonces.push({
				enonce:`Simplifier le plus possible la somme puis le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`Le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`La somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[2].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[2].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[2].correction_somme += `${texte_en_couleur(` $${inc}$`)}`;
			} else {
				enonces[2].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[2].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 3 la somme puis le produit 
			enonces.push({
				enonce:`Simplifier le plus possible l'expression $${sliceUn(n)}${inc}+${sliceUn(p)}${inc}$ puis l'expression $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`$${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`$${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[3].correction_produit += `${texte_en_couleur(`$${inc}^2$`)}`;
			} else {
				enonces[3].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[3].correction_somme += `${texte_en_couleur(` $${inc}$`)}`;
			} else {
				enonces[3].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[3].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			};

			switch (liste_type_de_questions[i]) {
				case 0:	// produit puis somme 				
					texte =`${enonces[0].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[0].correction_produit;
						texte += `<br>`;
						texte += enonces[0].correction_somme;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[0].correction_produit;
						texte_corr += `<br>`;
						texte_corr += enonces[0].correction_somme;
					};
					break;
				case 1:	// x puis +				
					texte =`${enonces[1].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[1].correction_produit;
						texte += `<br>`;
						texte += enonces[1].correction_somme;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[1].correction_produit;
						texte_corr += `<br>`;
						texte_corr += enonces[1].correction_somme;
					};
					break;
				case 2:	// somme puis produit				
					texte =`${enonces[2].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[2].correction_somme;
						texte += `<br>`;
						texte += enonces[2].correction_produit;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[2].correction_somme;
						texte_corr += `<br>`;
						texte_corr += enonces[2].correction_produit;
					};
					break;
				case 3:	// + puis x				
					texte =`${enonces[3].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[3].correction_somme;
						texte += `<br>`;
						texte += enonces[3].correction_produit;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[3].correction_somme;
						texte_corr += `<br>`;
						texte_corr += enonces[3].correction_produit;
					};
					break;

 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	//this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}


/**
 * Référence 5L13-4
 * Déterminer la dernière opération à effectuer dans une expression littérale
 * @author Sébastien Lozano fork Jean-Claude Lhote
 */
function Calculer_une_expression_litteraleBis() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Déterminer la dernière opération à effectuer dans une expression littérale`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles = [5] //expressions complexes
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats,last_op
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			//resultats=Choisir_expression_litteraleBis(nb_operations,decimal,val1,val2)
			resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			last_op=resultats[4];

			switch (liste_type_de_questions[i]) {
				case 5:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Déterminer la dernière opération à effectuer s'il fallait faire le calcul pour des valeurs données de $x$ et de $y$.`
					texte =`${expn}.`
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += `Pour fixer les idées, choissions des valeurs pour $x$ et $y$, par exemple $x=${val1}$ et $y=${val2}$.`
						texte += `<br>Le calcul serait le suivant :<br> ${expc}.`;
						texte += `<br>Pour n'importe quelles valeurs de $x$ et de $y$ choisies, les étapes sont les mêmes, elles respectent les priorités opératoires.`
						texte += texte_en_couleur(`<br>La dernière opération dans ${expn} est donc une ${last_op}.`);
						texte_corr = ``;	
					} else {
						texte_corr = `Pour fixer les idées, choissions des valeurs pour $x$ et $y$, par exemple $x=${val1}$ et $y=${val2}$.`
						texte_corr += `<br>Le calcul serait le suivant : ${expc}.`;
						texte_corr += `<br>Pour n'importe quelles valeurs de $x$ et de $y$ choisies, les étapes sont les mêmes, elles respectent les priorités opératoires.`
						texte_corr += texte_en_couleur(`<br>La dernière opération dans ${expn} est donc une ${last_op}.`);
					};

					break;
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Référence 5L13-6
 * Déterminer la dernière opération à effectuer dans une expression numérique
 * @author Sébastien Lozano 
 */
function Determiner_derniere_operation_exp_num() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Déterminer la dernière opération à effectuer dans une expression numérique`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles = [5] //expressions complexes
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats,last_op
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			//resultats=Choisir_expression_litteraleBis(nb_operations,decimal,val1,val2)
			resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			last_op=resultats[4];
			let str = expc.split('=');

			switch (liste_type_de_questions[i]) {
				case 5:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Déterminer la dernière opération à effectuer .`
					texte =`$${str[1]}$`
					//texte=`${expn}`
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte+=`$`
						for (l=1;l<str.length-1;l++) {
							texte+= `${str[l]}=`
						};
						texte+=`${str[str.length-1]}`						
						texte += `<br>$\\textbf{La dernière opération dans $${str[1]}$ est donc une ${last_op}.}$`;
						texte_corr = ``;	
					} else {
						texte_corr=`$`
						for (l=1;l<str.length-1;l++) {
							texte_corr+= `${str[l]}=`
						};
						texte_corr+=`${str[str.length-1]}`						
						texte_corr+= `<br>$\\textbf{La dernière opération dans $${str[1]}$ est donc une ${last_op}.}$`;						
					};

					break;
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Fork de la fonction de JC avec ajout de la dernière opération dans le tableau de sortie
 * @param {number} nb_operations 
 * @param {number} decimal 
 * @param {number} val1 
 * @param {number} val2 
 * @returns [expf,expl,expc,nbval,last_op]
 * @author Jean Claude Lhote forked by Sébastien LOZANO
 * Référence 5C11,5C11-1, 5C11-2, 5L13, 5L13-1, 5L13-2, 5L13-3
 */
//function Choisir_expression_litteraleBis(nb_operations,decimal,val1=1,val2=2) {
function Choisir_expression_litterale(nb_operations,decimal,val1=1,val2=2) {
	let expf,expl,expc,arrondir=Math.log10(decimal)
	let a=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let b=arrondi(randint(2*decimal,10*decimal,[a*decimal])/decimal,arrondir)
	let c=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let d=arrondi(randint(2*decimal,10*decimal,[c*decimal])/decimal,arrondir)
	let e=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)  
	let f=arrondi(randint(2*decimal,10*decimal,[e*decimal])/decimal,arrondir)
    let souscas
    let l1 = 'x'
	let l2 = 'y'
	let nbval
	switch (nb_operations){
		case 1 : // expressions de base (1 opération)
			nbval=1
			souscas=randint(0,3)
			switch (souscas) {
				case 0 : //somme de deux nombres
					expf=`La somme de ${nombre_avec_espace(a)} et ${l1}`
					expl=`$${tex_nombre(a)}+${l1}$`
					expc=`$${tex_nombre(a)}+${l1}=${tex_nombre(a)}+${tex_nombre(val1)}=${tex_nombre(a+val1)}$`
					last_op = 'addition';
					break
				case 1 : // différence de deux nombres
					if (val1>b) {
					expf=`La différence de ${l1} et ${nombre_avec_espace(b)}`
					expl=`$${l1}-${tex_nombre(b)}$`
					expc=`$${l1}-${tex_nombre(b)}=${tex_nombre(val1)}-${tex_nombre(b)}=${tex_nombre(val1-b)}$`
					}
					else {
					expf=`La différence de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(b)}-${l1}$`
					expc=`$${tex_nombre(b)}-${l1}=${tex_nombre(b)}-${tex_nombre(val1)}=${tex_nombre(b-val1)}$`
					}
					last_op = 'soustraction';
					break
				case 2 : // produit de deux nombres
					expf=`Le produit de ${l1} par ${nombre_avec_espace(b)}`
					expl=`$${l1}\\times ${tex_nombre(b)} = ${tex_nombrec(b)}${l1}$`
					expc=`$${tex_nombrec(b)}${l1} = ${tex_nombrec(b)}\\times ${val1}=${tex_nombre(b*val1)}$`
					last_op = 'multiplication';
					break
				case 3 : // quotient de deux nombres

					expf=`Le quotient de ${l1} par ${nombre_avec_espace(b)}`
					expl=`$${l1}\\div ${tex_nombre(b)}$`
					if (estentier(val1/b*1000))	expc=`$${l1}\\div ${tex_nombre(b)} = ${val1}\\div ${tex_nombre(b)} = ${tex_nombrec(val1/b)}$`
					else expc=`$${l1}\\div ${tex_nombre(b)} = ${val1}\\div ${tex_nombre(b)}=${tex_fraction(val1,tex_nombre(b))}${simplification_de_fraction_avec_etapes(val1,tex_nombre(b))}$`
					last_op = 'division';
					break
			}
			break
		case 2 : // expressions de niveau 1 (2 opérations)
			souscas=randint(0,5)
			nbval=1
			switch (souscas) {
				case 0 : //a(b+c)
					expf=`Le produit de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(a)}(${tex_nombre(b)}+${l1})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}+${l1})=${tex_nombre(a)}(${tex_nombre(b)}+${val1})=${tex_nombre(a)}\\times ${tex_nombre(b+val1)} = ${tex_nombre(a*(b+val1))}$`
					last_op = 'multiplication';
					break
				case 1 : // a(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
					expf=`Le produit de ${l1} par la différence de ${b} et ${nombre_avec_espace(c)}`
					expl=`$${l1}(${tex_nombre(b)}-${tex_nombre(c)})=${l1}\\times ${tex_nombrec(b-c)}=${tex_nombrec(b-c)}${l1}$`
					expc=`$${l1}(${tex_nombre(b)}-${tex_nombre(c)}) = ${tex_nombre(val1)}(${tex_nombre(b)}-${tex_nombre(c)})=${tex_nombre(val1)}\\times ${tex_nombrec(b-c)}=${tex_nombrec(val1*(b-c))}$`
					last_op = 'multiplication';
					break
				case 2 : // a/(b+c)
					a=calcul(a*(val1+c)) // on s'assure que le quotient tombe juste...
					expf=`Le quotient de ${nombre_avec_espace(a)} par la somme de ${l1} et ${nombre_avec_espace(c)}`
					expl=`$${tex_nombre(a)}\\div (${l1}+${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${l1}+${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${l1}+${tex_nombre(c)})=${tex_nombre(a)}\\div (${tex_nombre(val1)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(val1+c)}=${tex_nombrec(a/(val1+c))}$`
					last_op = 'division';
					break
				case 3 : // a/(b-c)
					if (b<=val1) b=calcul(b+val1) // b-c positif
 					a=calcul(a*(b-val1)) // on s'assure que le quotient tombe juste
					expf=`Le quotient de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(a)}\\div (${b}-${l1})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}-${l1}}$`
					expc=`$${tex_nombre(a)}\\div (${b}-${l1})=${tex_nombre(a)}\\div (${b}-${val1})=${tex_nombre(a)}\\div ${tex_nombrec(b-val1)}=${tex_nombrec(a/(b-val1))}$`
					last_op = 'division';
					break			
				case 4 : // (a+b)/c
					a=calcul(a*val1)
					b=calcul(b*val1) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${l1}`
					expl=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div  ${l1}$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${l1}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div  ${l1}=(${tex_nombre(a)}+${tex_nombre(b)})\\div ${val1}= ${tex_nombrec(a+b)}\\div ${val1}=${tex_nombrec((a+b)/val1)}$`
					last_op = 'division';
					break
				case 5 : // (a-b)/c
					a=calcul(a*c)+val1 // on s'assure que le quotient tombe juste et que a-b>0
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l1} par ${nombre_avec_espace(c)}`
					expl=`$(${tex_nombre(a)}-${l1})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div ${tex_nombre(c)}=(${tex_nombre(a)}-${val1})\\div ${tex_nombre(c)}= ${tex_nombrec(a-val1)}\\div ${tex_nombre(c)}=${tex_nombrec((a-val1)/c)}$`
					last_op = 'division';
					break			
							
			}
			break
		case 3 : // expressions de niveau 2 (3 opérations)
			souscas=randint(0,13)
			nbval=2
			switch (souscas) {
				case 0 : // (a+b)(c+d)
					a=val1
					d=val2
					expf=`Le produit de la somme de ${l1} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${l1}+${tex_nombre(b)})(${tex_nombre(c)}+${l2})$`
					expc=`$(${l1}+${tex_nombre(b)})(${tex_nombre(c)}+${l2})=(${a}+${tex_nombre(b)})(${tex_nombre(c)}+${d})= ${tex_nombrec(a+b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)*(c+d))}$`
					last_op = 'multiplication';
					break
				case 1 : // (a+b)(c-d)
					d=val2
					b=val1
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})(${tex_nombre(c)}-${l2})$`
					expc=`$(${tex_nombre(a)}+${l1})(${tex_nombre(c)}-${l2})=(${tex_nombre(a)}+${b})(${tex_nombre(c)}-${d})= ${tex_nombrec(a+b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)*(c-d))}$`
					last_op = 'multiplication';
					break
				case 2 : // (a-b)(c+d)
				b=val2
				c=val1
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${l1} et ${nombre_avec_espace(d)}`
					expl=`$(${tex_nombre(a)}-${l2})(${l1}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${l2})(${l1}+${tex_nombre(d)})=(${tex_nombre(a)}-${b})(${c}+${tex_nombre(d)})=${tex_nombrec(a-b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)*(c+d))}$`
					last_op = 'multiplication';
					break
				case 3 : // (a-b)(c-d)
					b=val1
					d=val2
					if (a<=b) a=calcul(a+b)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}-${l1})(${tex_nombre(c)}-${l2})$`
					expc=`$(${tex_nombre(a)}-${l1})(${tex_nombre(c)}-${l2})=(${tex_nombre(a)}-${b})(${tex_nombre(c)}-${d})= ${tex_nombrec(a-b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)*(c-d))}$`
					last_op = 'multiplication';
					break			
				case 4 : // (a+b)/(c+d)
					d=val2
					b=val1
					if (!estentier((a+b)/(c+d))) a=calcul(a*(c+d)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}+${l2})$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}+${l2}}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}+${l2})=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)/(c+d))}$`
					last_op = 'division';
					break
				case 5 : // (a-b)/(c+d)
					d=val1
					b=val2
					if (a-b<=0||!estentier((a-b)/(c+d))) a=calcul(a*(c+d)+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${nombre_avec_espace(c)} et ${l1}`
					expl=`$(${tex_nombre(a)}-${l2})\\div (${tex_nombre(c)}+${l1})$ ou $\\dfrac{${tex_nombre(a)}-${l2}}{${tex_nombre(c)}+${l1}}$`
					expc=`$(${tex_nombre(a)}-${l2})\\div (${tex_nombre(c)}+${l1})=(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/(c+d))}$`
					last_op = 'division';
					break			
				case 6 : // (a+b)/(c-d)
					b=val1
					d=val2
					if (c<=d) c=calcul(c+d)
					if (!estentier((a+b)/(c-d))) 
						if (a*(c-d)>b ) a=calcul(a*(c-d)-b)
						else a=calcul((a+b)*(c-d)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}-${l2})$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}-${l2}}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}-${l2})=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)/(c-d))}$`
					last_op = 'division';
					break
				case 7 : // (a-b)/(c-d)
					d=val2;
					b=val1;
					if (c<=d) c=calcul(c+d)
					if (a<=b) a=calcul(a+b)
					if (!estentier((a-b)/(c-d))) a=calcul(a*(c-d)+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}-${l1})\\div (${tex_nombre(c)}-${l2})$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{${tex_nombre(c)}-${l2}}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div (${tex_nombre(c)}-${l2})=(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)/(c-d))}$`
					last_op = 'division';
					break			
				case 8 : // ab+cd
					b=val1;
					d=val2;
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l1} et du produit de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}$`
					expc=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c*d)} = ${tex_nombrec(a*b+c*d)}$`
					last_op = 'addition';
					break
				case 9 : // ab-cd
				d=val2
				b=val1
					if (a*b<d*c) a=calcul(a+c)
					while (a*b<d*c) a=calcul(a+c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${l1} et du produit de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}${l2}$`
					expc=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c*d)} = ${tex_nombrec(a*b-c*d)}$`
					last_op = 'soustraction';
					break			
				case 10 : // ab+c/d
					d=val1
					b=val2
					if (!estentier(c/d)) c=calcul(c*d)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l2} et du quotient de ${nombre_avec_espace(c)} par ${l1}`
					expl=`$${tex_nombre(a)}${l2}+${tex_nombre(c)}\\div ${l1}$ ou $${tex_nombre(a)}${l2}+\\dfrac{${tex_nombre(c)}}{${l1}}$`
					expc=`$${tex_nombre(a)}${l2}+${tex_nombre(c)}\\div ${l1}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a*b+c/d)}$`
					last_op = 'addition';
					break
				case 11 : // ab-c/d
					d=val2
					b=val1
					if (!estentier(c/d)) c=calcul(c*d)
					while (a*b<c/d) a=calcul(a*c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${l1} et du quotient de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}\\div ${l2}$ ou $${tex_nombre(a)}\\times ${l1}-\\dfrac{${tex_nombre(c)}}{${l2}}$`
					expc=`${tex_nombre(a)}${l1}-${tex_nombre(c)}\\div ${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a*b-c/d)}$`
					last_op = 'soustraction';
					break	
				case 12 : // a/b+c/d
					d=val1
					b=val2
					if(!estentier(a/b)) a=calcul(a*b)
					if (!estentier(c/d)) c=calcul(c*d)
					expf=`La somme du quotient de ${nombre_avec_espace(a)} par ${l2} et du quotient de ${nombre_avec_espace(c)} par ${l1}`
					expl=`$${tex_nombre(a)}\\div ${l2}+${tex_nombre(c)}\\div ${l1}$ ou $\\dfrac{${tex_nombre(a)}}{${l2}}+\\dfrac{${tex_nombre(c)}}{${l1}}$`
					expc=`$${tex_nombre(a)}\\div ${l2}+${tex_nombre(c)}\\div ${l1}=${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a/b+c/d)}$`
					break	
				case 13 : // a/b-c/d
					d=val2
					b=val1		
					if(!estentier(a/b)) a=calcul(a*b)
					if (!estentier(c/d)) c=calcul(c*d)
					while (a/b<c/d) a=calcul(a*c)
					expf=`La différence du quotient de ${nombre_avec_espace(a)} par ${l1} et du quotient de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}\\div ${l1}-${tex_nombre(c)}\\div ${l2}$ ou $\\dfrac{${tex_nombre(a)}}{${l1}}-\\dfrac{${tex_nombre(c)}}{${l2}}$`
					expc=`$${tex_nombre(a)}\\div ${l1}-${tex_nombre(c)}\\div ${l2}=${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a/b-c/d)}$`
					last_op = 'soustraction';
					break	
			}
			break ;
		case 5 : // expressions complexes
		souscas=randint(0,5)
		nbval=2
			switch (souscas) {
				case 0 : // 2(a+bc)
					a=val1
					c=val2
					expf=`Le double de la somme de ${l1} et du produit de ${nombre_avec_espace(b)} par ${l2}`
					expl=`$2(${l1}+${tex_nombre(b)}${l2})$`
					expc=`$2(${l1}+${tex_nombre(b)}${l2})=2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)}) = 2(${tex_nombre(a)}+${tex_nombrec(b*c)}) = 2\\times ${tex_nombrec(a+b*c)}=${tex_nombrec(2*(a+b*c))}$`
					last_op = 'multiplication';
					break
				case 1 : // 3(a+b)/c
					b=val1
					c=val2
					if (!estentier(3*(a+b)/c)) a=calcul(a*c-b)
					while (a<b) a=calcul(a*c-b)
					expf=`Le triple du quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par ${l2}`
					expl=`$3(${tex_nombre(a)}+${l1})\\div ${l2}$ ou $3\\times \\dfrac{${tex_nombre(a)}+${l1}}{${l2}}$`
					expc=`$3(${tex_nombre(a)}+${l1})\\div ${l2}=3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = 3\\times  ${tex_nombre(a+b)}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b))}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b)/c)}$`
					last_op = 'division';
					break
				case 2 : // (a-b)/3
					nbval=1
					b=val1
					if (!estentier((a-b)/3)) a=calcul(3*a+b)
					expf=`Le tiers de la différence de ${nombre_avec_espace(a)} et ${l1}`
					expl=`$(${tex_nombre(a)}-${l1})\\div  3$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{3}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div  3=(${tex_nombre(a)}-${tex_nombre(b)})\\div  3 = ${tex_nombrec(a-b)}\\div  3 = ${tex_nombrec((a-b)/3)}$`
					last_op = 'division';
					break
				case 3 : // (a-b)/3*2(c+d)
					c=val1
					b=val2
					if (a<=b) a=calcul(a+b)
					if (!estentier((a-b)/3)) a=calcul(3*a+b)
					expf=`Le produit du tiers de la différence de ${nombre_avec_espace(a)} et ${l2} par le double de la somme de ${l1} et ${nombre_avec_espace(d)}`
					expl=`$\\left((${tex_nombre(a)}-${l2})\\div  3\\right)\\times  2(${l1}+${tex_nombre(d)})$`
					expc=`$\\left((${tex_nombre(a)}-${l2})\\div  3\\right)\\times  2(${l1}+${tex_nombre(d)})=\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div  3 \\times  2 \\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/3)} \\times  2 \\times  ${tex_nombrec(c+d)} =  ${tex_nombrec(2*(a-b)/3)} \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(c+d)*(a-b)/3)}$`
					last_op = 'multiplication';
					break			
				case 4 : // 3(a+b)-2(c+d)
					b=val1
					c=val2
					if (3*(a+b)<2*(c+d)) a=calcul(a+c+d)
					expf=`La différence du triple de la somme de ${nombre_avec_espace(a)} et ${l1} et du double de la somme de ${l2} et ${nombre_avec_espace(d)}`
					expl=`$3(${tex_nombre(a)}+${l1})-2(${l2}+${tex_nombre(d)})$`
					expc=`$3(${tex_nombre(a)}+${l1})-2(${l2}+${tex_nombre(d)})=3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)}) = 3 \\times  ${tex_nombrec(a+b)} - 2 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(3*(a+b))} - ${tex_nombrec(2*(c+d))} = ${tex_nombrec(3*(a+b)-2*(c+d))}$`
					last_op = 'soustraction';
					break
				case 5 : // 2(a-b)+3(c+d)
					d=val2
					b=val1
					if (a<=b) a=calcul(a+b)
					expf=`La somme du double de la différence de ${nombre_avec_espace(a)} et ${l1} et du triple de la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$2(${tex_nombre(a)}-${l1})+3(${tex_nombre(c)}+${l2})$`
					expc=`$2(${tex_nombre(a)}-${l1})+3(${tex_nombre(c)}+${l2})=2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)}) = 2 \\times  ${tex_nombrec(a-b)} + 3 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(a-b))} + ${tex_nombrec(3*(c+d))} = ${tex_nombrec(2*(a-b)+3*(c+d))}$`
					last_op = 'addition';
					break	
			}		
			break ;
		case 4 : // 4 opérations
		souscas=randint(1,3)
		nbval=2
			switch (souscas) {
				case 1 : // (a+b)/(c(d+e))
					b=val1
					e=val2
					if (!estentier((a+b)/(c*(d+e)))) a=calcul(a*c*(d+e)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par le produit de ${nombre_avec_espace(c)} par la somme de ${nombre_avec_espace(d)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${l2}))$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}(${tex_nombre(d)}+${l2})}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${l2}))=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})) = ${tex_nombrec(a+b)} \\div  (${tex_nombre(c)} \\times  ${tex_nombrec(d+e)}) = ${tex_nombrec(a+b)} \\div  ${tex_nombre(c*(d+e))} = ${tex_nombrec((a+b)/(c*(d+e)))}$`
					last_op = 'division';
					break
				case 2 : //(a-b)*(c+de)
					e=val1
					b=val2
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${nombre_avec_espace(c)} et du produit de ${nombre_avec_espace(d)} par ${l1}`
					expl=`$(${tex_nombre(a)}-${l2})(${tex_nombre(c)}+${tex_nombre(d)}${l1})$`
					expc=`$(${tex_nombre(a)}-${l2})(${tex_nombre(c)}+${tex_nombre(d)}${l1})=(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)}) = ${tex_nombrec(a-b)}(${tex_nombre(c)}+${tex_nombrec(d*e)}) = ${tex_nombrec(a-b)} \\times  ${tex_nombre(c+d*e)} = ${tex_nombrec((a-b)*(c+d*e))}$`
					last_op = 'multiplication';
					break
				case 3 : // ab+cd/e
					d=val2
					b=val1
					if (!estentier(c*d/e)) c=calcul(c*e)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l1} et du quotient du produit de ${nombre_avec_espace(c)} et ${l2} par ${nombre_avec_espace(e)}`
					expl=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}\\div ${tex_nombre(e)}$ ou $${tex_nombre(a)}${l1}+\\dfrac{${tex_nombre(c)}${l2}}{${tex_nombre(e)}}$`
					expc=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}\\div ${tex_nombre(e)}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d)} \\div  ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d/e)} = ${tex_nombrec(a*b+c*d/e)}$`
					last_op = 'addition';
					break
			}
			break
		}
		let pos1=0
		for (;pos1<expc.length;pos1++)
			if (expc[pos1]=='=') break
		let pos2=pos1+1
		for (;pos2<expc.length;pos2++)
			if (expc[pos2]=='=') break
		let expn='$'+expc.substring(pos1+1,pos2-1)+'$'
		return [expf,expl,expc,nbval,last_op,expn]
}


/**
* Fonction noyau pour 7 fonctions qui utilisent les mêmes variables et la fonction Choisir_expression_numerique
* @Auteur Jean-Claude Lhote
* Référence 5C11,5C11-1, 5C11-2, 5C12, 5C12-1, 5L13, 5L13-1, 5L13-2, 5L13-3
*/
function Ecrire_une_expression_numerique(){
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.sup=false
	this.version=1 // 1 pour ecrire une expression, 2 pour écrire la phrase, 3 pour écrire l'expression et la calculer, 4 pour calculer une expression numérique

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (!this.sup) { // Si aucune liste n'est saisie
		type_de_questions_disponibles = [1,2,3,4,5]
		}
		else {
			if (typeof(this.sup)=='number'){ // Si c'est un nombre c'est qu'il y a qu'une expression
			type_de_questions_disponibles[0] = this.sup
				this.nb_questions=1
			} else {
				type_de_questions_disponibles = this.sup.split("-");// Sinon on créé un tableau à partir des valeurs séparées par des -
				this.nb_questions=type_de_questions_disponibles.length
			}	
		}
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			if (this.version>2&&nb_operations==1&&!this.litteral) nb_operations++
			if (!this.litteral)
				resultats=Choisir_expression_numerique(nb_operations,decimal)
			else 
				resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			switch (this.version) {
				case 1:
					this.consigne=`Traduire la phrase par un calcul (il n’est pas demandé d’effectuer ce calcul).`
					texte= `${expf}.`
					texte_corr=`${expf} s'écrit<br>${expn}.`
					break
				case 2:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Traduire le calcul par une phrase en français.`
					texte=`${expn}`
					expf=`l`+expf.substring(1);
					texte_corr=`${expn} est ${expf}.`
					break
				case 3:
					this.consigne=`Traduire la phrase par un calcul et effectuer ce calcul en respectant les priorités opératoires.`
					if (!this.litteral) texte=`${expf}.`
					else if (nbval==2) texte=`${expf} puis calculer pour $x=${val1}$ et $y=${val2}$.` //nbval contient le nombre de valeurs en cas de calcul littéral
					else texte =`${expf} puis calculer pour $x=${val1}$.`
					texte_corr=`${expf} s'écrit ${expn}.<br>`
					if (!this.litteral) texte_corr=`${expc}.`
					else if (nbval==2) texte_corr+=`Pour $x=${val1}$ et $y=${val2}$ :<br> ${expc}.`
					else texte_corr +=`Pour $x=${val1}$ :<br>${expc}.`
					break
				case 4:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Calculer en respectant les priorités opératoires.`
					if (!this.litteral) texte=`${expn}.`
					else if (nbval==2) texte=`Pour $x=${val1}$ et $y=${val2}$, calculer ${expn}.`
					else texte =`Pour $x=${val1}$, calculer ${expn}.`
					if (!this.litteral) texte_corr=`${expc}.`
					else if (nbval==2) texte_corr=`Pour $x=${val1}$ et $y=${val2}$ :<br>${expc}.`
					else texte_corr=`Pour $x=${val1}$ :<br>${expc}.`
					break
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_texte = ['Choix des expressions','Nombres séparés par des tirets\n 1 : Expressions de base à une opération\n2 : Expressions à deux opérations\n3 : Expressions à 3 opérations\n4 : Expressions à 4 opérations\n5 : Expressions complexes'] // Texte, tooltip
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Chosis aléatoirement une expressions numérique parmi de nombreuses variantes.
 * @param {number} nb_operations fixe la complexité de l'expression à retourner
 * @param {number} decimal 1 si on veut des entiers, 10, 100, 1000 selon le nombre de chiffres après la virgule qu'on veut
 * retourne
 * * l'expression en français commençant par une majuscule sans point final
 * * l'expression en mode maths LaTex
 * * Le détaillé du calcul en mode maths LaTex 
 * @Auteur Jean-Claude Lhote
 * Fonction utilisée dans plusieurs exercices.
 */
function Choisir_expression_numerique(nb_operations,decimal) {
	let expf,expn,expc,arrondir=Math.log10(decimal)
	let a=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let b=arrondi(randint(2*decimal,10*decimal,[a*decimal])/decimal,arrondir)
	let c=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let d=arrondi(randint(2*decimal,10*decimal,[c*decimal])/decimal,arrondir)
	let e=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)  
	let f=arrondi(randint(2*decimal,10*decimal,[e*decimal])/decimal,arrondir)
	let souscas
	switch (nb_operations){
		case 1 : // expressions de base (1 opération)
			souscas=randint(0,3)
			switch (souscas) {
				case 0 : //somme de deux nombres
					expf=`La somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}+${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}+${tex_nombre(b)} = ${tex_nombre(a+b)}$`
					break
				case 1 : // différence de deux nombres
					if(a<b) a=a+b
					expf=`La différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}-${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}-${tex_nombre(b)} = ${tex_nombre(a-b)}$`
					break
				case 2 : // produit de deux nombres
					expf=`Le produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)} = ${tex_nombrec(a*b)}$`
					break
				case 3 : // quotient de deux nombres
					a=calcul(Math.round(a)*b)
					expf=`Le quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)} = ${tex_nombrec(a)}$`
					break
			}
			break
		case 2 : // expressions de niveau 1 (2 opérations)
			souscas=randint(0,5)
			switch (souscas) {
				case 0 : //a(b+c)
					expf=`Le produit de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}(${tex_nombre(b)}+${tex_nombre(c)})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\times ${tex_nombrec(b+c)}=${tex_nombrec(a*(b+c))}$`
					break
				case 1 : // a(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
					expf=`Le produit de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}(${tex_nombre(b)}-${tex_nombre(c)})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}-${tex_nombre(c)}) = ${tex_nombre(a)}\\times ${tex_nombrec(b-c)}=${tex_nombrec(a*(b-c))}$`
					break
				case 2 : // a/(b+c)
					a=calcul(a*(b+c)) // on s'assure que le quotient tombe juste...
					expf=`Le quotient de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}\\div (${tex_nombre(b)}+${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}+${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${tex_nombre(b)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(b+c)}=${tex_nombrec(a/(b+c))}$`
					break
				case 3 : // a/(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
 					a=calcul(a*(b-c)) // on s'assure que le quotient tombe juste
					expf=`Le quotient de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}\\div (${b}-${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}-${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${b}-${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(b-c)}=${tex_nombrec(a/(b-c))}$`
					break			
				case 4 : // (a+b)/c
					a=calcul(a*c)
					b=calcul(b*c) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = ${tex_nombrec(a+b)}\\div ${tex_nombre(c)}=${tex_nombrec((a+b)/c)}$`
					break
				case 5 : // (a-b)/c
					if (a<=b) a=calcul(a+b) // a-b positif
					a=calcul(a*c)
					b=calcul(b*c) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div ${tex_nombre(c)} = ${tex_nombrec(a-b)}\\div ${tex_nombre(c)}=${tex_nombrec((a-b)/c)}$`
					break			
							
			}
			break
		case 3 : // expressions de niveau 2 (3 opérations)
			souscas=randint(0,13)
			switch (souscas) {
				case 0 : // (a+b)(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)*(c+d))}$`
					break
				case 1 : // (a+b)(c-d)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)*(c-d))}$`
					break
				case 2 : // (a-b)(c+d)
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)*(c+d))}$`
					break
				case 3 : // (a-b)(c-d)
					if (a<=b) a=calcul(a+b)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)*(c-d))}$`
					break			
				case 4 : // (a+b)/(c+d)
					a=calcul(a*(c+d))
					b=calcul(b*(c+d))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}+${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)/(c+d))}$`
					break
				case 5 : // (a-b)/(c+d)
					a=calcul(a*(c+d))
					b=calcul(b*(c+d))
					if (a<=b) a=calcul(a+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}+${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/(c+d))}$`
					break			
				case 6 : // (a+b)/(c-d)
					if (c<=d) c=calcul(c+d)
					a=calcul(a*(c-d))
					b=calcul(b*(c-d))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}-${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)/(c-d))}$`
					break
				case 7 : // (a-b)/(c-d)
					if (c<=d) c=calcul(c+d)
					if (a<=b) a=calcul(a+b)
					a=calcul(a*(c-d))
					b=calcul(b*(c-d))
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}-${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)/(c-d))}$`
					break			
				case 8 : // ab+cd
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du produit de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c*d)} = ${tex_nombrec(a*b+c*d)}$`
					break
				case 9 : // ab-cd
					if (a*b<d*c) a=calcul(a+c)
					if (a*b<d*c) b=calcul(b+d)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du produit de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c*d)} = ${tex_nombrec(a*b-c*d)}$`
					break			
				case 10 : // ab+c/d
					c=calcul(c*d)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}+\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a*b+c/d)}$`
					break
				case 11 : // ab-c/d
					c=c*d
					if (a*b<c/d) a=calcul(a*c)
					if (a*b<c/d) b=calcul(b*c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}-\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a*b-c/d)}$`
					break	
				case 12 : // a/b+c/d
					a=calcul(a*b)
					c=calcul(c*d)
					expf=`La somme du quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}}+\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a/b+c/d)}$`
					break	
				case 13 : // a/b-c/d		
					a=calcul(a*b)
					c=calcul(c*d)
					if (a/b<c/d) a=calcul(a*c)
					if (a/c<c/d) a=calcul(a*d)
					expf=`La différence du quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}}-\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a/b-c/d)}$`
					break	
			}
			break ;
		case 5 : // expressions complexes
		souscas=randint(0,5)
			switch (souscas) {
				case 0 : // 2(a+bc)
					expf=`Le double de la somme de ${nombre_avec_espace(a)} et du produit de ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)})$`
					expc=`$2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)}) = 2(${tex_nombre(a)}+${tex_nombrec(b*c)}) = 2\\times  ${tex_nombrec(a+b*c)}$`
					break
				case 1 : // 3(a+b)/c
					a=calcul(a*c)
					b=calcul(b*c)
					expf=`Le triple du quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $3\\times \\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = 3\\times  ${tex_nombre(a+b)}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b))}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b)/c)}$`
					break
				case 2 : // (a-b)/3
					if (a<=b) a=calcul(a+b)
					a=calcul(3*a)
					b=calcul(3*b)
					expf=`Le tiers de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div  3$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{3}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div  3 = ${tex_nombrec(a-b)}\\div  3 = ${tex_nombrec((a-b)/3)}$`
					break
				case 3 : // (a-b)/3*2(c+d)
					if (a<=b) a=calcul(a+b)
					a=calcul(3*a)
					b=calcul(3*b)
					expf=`Le produit du tiers de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par le double de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div  3 \\times  2 \\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/3)} \\times  2 \\times  ${tex_nombrec(c+d)} =  ${tex_nombrec(2*(a-b)/3)} \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(c+d)*(a-b)/3)}$`
					break			
				case 4 : // 3(a+b)-2(c+d)
					if (3*(a+b)<2*(c+d)) a=calcul(a+c+d)
					expf=`La différence du triple de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} et du double de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)}) = 3 \\times  ${tex_nombrec(a+b)} - 2 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(3*(a+b))} - ${tex_nombrec(2*(c+d))} = ${tex_nombrec(3*(a+b)-2*(c+d))}$`
					break
				case 5 : // 2(a-b)+3(c+d)
					if (a<=b) a=calcul(a+b)
					expf=`La somme du double de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} et du triple de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)}) = 2 \\times  ${tex_nombrec(a-b)} + 3 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(a-b))} + ${tex_nombrec(3*(c+d))} = ${tex_nombrec(2*(a-b)+3*(c+d))}$`
					break	
			}		
			break ;
		case 4 : // 4 opérations
		souscas=randint(1,3)
			switch (souscas) {
				case 1 : // (a+b)/(c(d+e))
					a=calcul(a*c*(d+e))
					b=calcul(b*c*(d+e))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par le produit de ${nombre_avec_espace(c)} par la somme de ${nombre_avec_espace(d)} et ${nombre_avec_espace(e)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)}))$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})) = ${tex_nombrec(a+b)} \\div  (${tex_nombre(c)} \\times  ${tex_nombrec(d+e)}) = ${tex_nombrec(a+b)} \\div  ${tex_nombre(c*(d+e))} = ${tex_nombrec((a+b)/(c*(d+e)))}$`
					break
				case 2 : //(a-b)*(c+de)
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et du produit de ${nombre_avec_espace(d)} par ${nombre_avec_espace(e)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)}) = ${tex_nombrec(a-b)}(${tex_nombre(c)}+${tex_nombrec(d*e)}) = ${tex_nombrec(a-b)} \\times  ${tex_nombre(c+d*e)} = ${tex_nombrec((a-b)*(c+d*e))}$`
					break
				case 3 : // ab+cd/e
					c=calcul(c*e)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient du produit de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)} par ${nombre_avec_espace(e)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}+\\dfrac{${tex_nombre(c)}\\times ${tex_nombre(d)}}{${tex_nombre(e)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d)} \\div  ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d/e)} = ${tex_nombrec(a*b+c*d/e)}$`
					break
			}
			break
		}
		return [expf,expn,expc,souscas]
}

/**
 * Constructibilité des triangles
 * Préciser ici les numéros des exos 
 * 5G2 exercice parent il faudra supprimmer la version beta5G2 de la liste des choix du fichier mathalea_exercices.js
 * 5G21-1
 * 5G31-1
 * beta5G2,beta5G21-1,beta5G31-1
 * @author Sébastien Lozano
 */

function Constructibilite_des_triangles(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()	
	this.sup=1;
	if (this.exo == this.beta+'5G21-1') { // via longueurs
		this.titre = `Constructibilité des triangles via les longueurs`;
		//this.consigne = `Justifier si les longueurs données permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les longueurs données permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`
		
	} else if (this.exo == this.beta+'5G31-1') {//via angles
		this.titre = `Constructibilité des triangles via les angles`;
		//this.consigne = `Justifier si les angles donnés permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les angles donnés permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`
	} else {			
		this.titre = "Constructibilité des triangles";	
		//this.consigne = `Justifier si les longueurs ou les angles donnés permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les longueurs ou les angles donnés permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`

	};
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.nb_questions_modifiable = false;

	this.liste_packages = `bclogo`;
	
	let type_de_questions_disponibles;
	
	this.nouvelle_version = function(numero_de_l_exercice){
		// this.introduction=info_message({
		// 	titre : "Exercice BETA",
		// 	texte: "En cours de réalisation <br>Est-il préférable de mettre du conditionnel dans les corrections?"

		// });

		if (this.exo == this.beta+'5G21-1') { // via longueurs
			if (this.sup ==1) {
				type_de_questions_disponibles = shuffle([1,2,3]);
				this.nb_questions = type_de_questions_disponibles.length;	
			} else if (this.sup ==2) {
				type_de_questions_disponibles = [choice([1,2,3]),4];
				this.nb_questions = type_de_questions_disponibles.length;	
			};
		} else if (this.exo == this.beta+'5G31-1') {//via angles
			if (this.sup ==1) {
				type_de_questions_disponibles = shuffle([5,6,7]);
				this.nb_questions = type_de_questions_disponibles.length;	
			} else if (this.sup ==2) {
				type_de_questions_disponibles = [choice([5,6,7]),8];
				this.nb_questions = type_de_questions_disponibles.length;	
			};
		} else {			
			type_de_questions_disponibles = [1,2,3,4,5,6,7,8];
			this.nb_questions = type_de_questions_disponibles.length;
		};

		//let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = type_de_questions_disponibles // Tous les types de questions sont posées --> à remettre comme ci dessus

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		for (let i = 0, texte, texte_corr,l1,l2,l3,a1,a2,a3, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// on fixe longueur min et max en cm
			let l_min = 2;
			let l_max = 20;
			// on fixe angle min et max en degré
			let a_min = 0;
			let a_max = 180;

			// on crée un objet triangle 
			let triangle = new Triangles();
			// on crée un tableau pour le triangle courant
			let current_triangle = [];
			
			switch (liste_type_de_questions[i]) {
				case 1 : // 3 longueurs constructible
					while (!triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					  });
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} > ${current_triangle[2].longueur}.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('plusieurs tels triangles existent')}.`;
					texte_corr += `<br> Ils sont obtenus les uns à partir des autres par symétire axiale par rapport à un des côtés.`;
					break;
				case 2 : // 3 longueurs plat
					while (!triangle.isPlatTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = calcul(l1+l2);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${current_triangle[2].valeur}$ cm aussi.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom()+' c\'est un triangle plat')}.`;
					texte_corr += `<br><br>${texte_en_couleur('Un seul triangle de ce type existe')}, il s'agit du segment ${current_triangle[2].cote} sur lequel on place le point ${current_triangle[0].longueur.split('')[2]}.`;				
					break;
				case 3 : // 3 longueurs non constructible
				  	// on initialise les longueurs sinon la méthode isTrueTriangleLongueurs() renvoie false!
					l1 = randint(l_min,l_max);
					l2 = randint(l_min,l_max);
					l3 = randint(l_min,l_max);
					triangle.l1 = l1;
					triangle.l2 = l2;
					triangle.l3 = l3;	

					while (triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} < ${current_triangle[2].longueur}, les longueurs données ne permettent donc pas de satisfaire à l'inégalité triangulaire.`;
					texte_corr += `<br> ${texte_en_couleur('On ne peut donc pas construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Aucun triangle de ce type n\'existe')}.`;
					break;
				case 4 : // 2 longueurs et le périmètre
					// on utilise la méthode isTrueTriangleLongueurs(), le triangle ne sera pas plat.
					while (!triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et dont le périmètre vaut $${triangle.getPerimetre()}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Puisque le périmètre vaut $${triangle.getPerimetre()}$ cm alors la troisième longueur vaut ${triangle.getLongueurs()[2]} = $${triangle.getPerimetre()}$ cm - $${triangle.l1}$ cm - $${triangle.l2}$ cm = $${triangle.l3}$ cm.`
					texte_corr += `<br> Donc dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} > ${current_triangle[2].longueur}`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					// texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('deux tels triangles existent')}.`;
					// texte_corr += `<br> Les deux étant obtenus l'un à partir de l'autre par symétire axiale.`;
					texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('plusieurs tels triangles existent')}.`;
					texte_corr += `<br> Ils sont obtenus les uns à partir des autres par symétire axiale par rapport à un des côtés.`;
					break;
				case 5 : //3 angles constructible
					while (!triangle.isTrueTriangleAngles()) {	
						a1 = randint(a_min,a_max,[0,180]);
						a2 = randint(a_min,a_max,[0,180]);
						a3 = calcul(180-a1-a2);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = ``;
					texte_corr = ``;
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					  });
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient les uns à partir des autres par un agrandissement ou une réduction.`;
					break;
				case 6 : // 3 angles plat
					while (!triangle.isPlatTriangleAngles()) {	
						a1 = randint(a_min,a_max);
						a2 = randint(a_min,a_max);
						a3 = calcul(180-a1-a2);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = ``;
					texte_corr = ``;
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i] , valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br> Deux des trois angles du triangle valent $0\\degree$, ${texte_en_couleur(triangle.getNom()+' est donc un triangle plat')}.`
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient en traçant des segments et en plaçant le troisième sommet sur ce segment, les longueurs n'ayant aucune importance.`;
					texte_corr += `<br> Dans le cas présent, il s'agit d'un segment $[${current_triangle[2].angle.split('')[12]}${current_triangle[2].angle.split('')[14]}]$ sur lequel on place un point ${current_triangle[2].angle.split('')[13]}.`;
					//texte_corr += `<br> ${JSON.stringify(current_triangle)}`;
					break;
				case 7 : // 3 angles non constructible
					// on initialise les angles sinon la méthode isTrueTriangleAngles() renvoie false!
					a1 = randint(a_min,a_max);
					a2 = randint(a_min,a_max);
					a3 = randint(a_min,a_max);
					triangle.a1 = a1;
					triangle.a2 = a2;
					triangle.a3 = a3;	
					while (triangle.isTrueTriangleAngles()) {	
						a1 = randint(a_min,a_max);
						a2 = randint(a_min,a_max);
						a3 = randint(a_min,a_max);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> Si le triangle était constructible, la somme des trois angles vaudrait $180\\degree$,`;
					texte_corr += ` or ce n'est pas le cas.`
					texte_corr += `<br> ${texte_en_couleur('On ne peut donc pas construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Aucun triangle de ce type n\'existe')}.`;
					break;				
				case 8 : // 2 angles et le 3e fonction du 1er ou du 2eme
					let angle_rg = randint(0,1);
					let operations_possibles = ['triple','quadruple','quart'];
					let operation = '';					
					texte = ``;
					texte_corr = ``;
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					switch (angle_rg) {
						case 0 :
							a1 = randint(a_min,a_max);
							triangle.a1 = a1;
							operation = operations_possibles[randint(0,2)];
							texte += `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${tex_nombre(triangle.a1)}\\degree$ ; `;						
							switch (operation) {
								case 'triple' :
									a2 = calcul((180-a1)/4);
									a3 = calcul(3*a2);				
									break;
								case 'quadruple' :
									a2 = calcul((180-a1)/5);
									a3 = calcul(4*a2);
									break;
								case 'quart' :
									a2 = calcul(4*(180-a1)/5);
									a3 = calcul(a2/4);
									break;
							};
							triangle.a2 = a2;
							triangle.a3 = a3;
							texte += `${triangle.getAngles()[1]} $= ${tex_nombre(triangle.a2)}\\degree$ et ${triangle.getAngles()[2]} est le ${operation} de ${triangle.getAngles()[1]}.`;
							// on crée l'objet longueurs + valeurs des côtés du triangle
							for (let i=0;i<3;i++) {
								current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
							};								
							texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].angle} est le ${operation} de ${current_triangle[1].angle} = $${tex_nombre(current_triangle[1].valeur)}\\degree$  d'où ${current_triangle[2].angle} = $${tex_nombre(current_triangle[2].valeur)}\\degree$.`;
							break;
						case 1 : 
							a2 = randint(a_min,a_max);
							triangle.a2 = a2;
							operation = operations_possibles[randint(0,2)];
							texte += `${triangle.getNom()} tel que ${triangle.getAngles()[1]} $= ${tex_nombre(triangle.a2)}\\degree$ ; `;							
							switch (operation) {
								case 'triple' :
									a1 = calcul((180-a2)/4);
									a3 = calcul(3*a1);
									break;
								case 'quadruple' :
									a1 = calcul((180-a2)/5);
									a3 = calcul(4*a1);
									break;
								case 'quart' :
									a1 = calcul(4*(180-a2)/5);
									a3 = calcul(a1/4);
									break;
							};
							triangle.a1 = a1;
							triangle.a3 = a3;
							texte += `${triangle.getAngles()[0]} $= ${tex_nombre(triangle.a1)}\\degree$ et ${triangle.getAngles()[2]} est le ${operation} de ${triangle.getAngles()[0]}.`;
							// on crée l'objet longueurs + valeurs des côtés du triangle
							for (let i=0;i<3;i++) {
								current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
							};
							texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].angle} est le ${operation} de ${current_triangle[0].angle} = $${tex_nombre(current_triangle[0].valeur)}\\degree$  d'où ${current_triangle[2].angle} = $${tex_nombre(current_triangle[2].valeur)}\\degree$.`;
							break;
					};
					texte_corr += `<br>Donc ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${tex_nombre(current_triangle[0].valeur)}\\degree + ${tex_nombre(current_triangle[1].valeur)}\\degree + ${tex_nombre(current_triangle[2].valeur)}\\degree = ${tex_nombrec(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;							
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient les uns à partir des autres par un agrandissement ou une réduction.`;
					break;
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}	
			cpt++;	
		}
	liste_de_question_to_contenu(this);
	}
		if (this.exo == this.beta+'5G21-1') {
			this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : 3 longueurs\n2 : 2 longueurs et le périmètre"];
		} else if (this.exo == this.beta+'5G31-1') {
			this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : 3 angles\n2 : 2 angles et le 3e en fonction du 1er ou du 2eme"];
		} else {
			//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : sans conversions de longueurs\n2 : avec conversions de longueurs"];
		};
}

/**
 * Vocabulaire des triangles 
 * beta5G21-1
 * @author Sébastien Lozano
 */
function Constructibilite_des_triangles_longueurs(){
	this.beta = ``;
	this.exo = this.beta+`5G21-1`;
	//this.titre = `Constructibilité des triangles via les longueurs`;
	Constructibilite_des_triangles.call(this);
};

/**
 * Vocabulaire des triangles 
 * beta5G31-1
 * @author Sébastien Lozano
 */
function Constructibilite_des_triangles_angles(){
	this.beta = ``;
	this.exo = this.beta+`5G31-1`;
	//this.titre = `Constructibilité des triangles via les angles`;
	Constructibilite_des_triangles.call(this);
};

/**
 * 5G22
 * @Auteur Jean-Claude Lhote
 * Les droites remarquables du triangle : hauteurs médiatrices....médianes et bissectrices
 */
function DroiteRemarquableDuTriangle(){
	Exercice.call(this); // Héritage de la classe Exercice()

	this.titre = "Déterminer la nature d'une droite remarquable"
	this.consigne = 'Définir'
	this.spacing = 2;
	this.nb_questions=1
	this.nb_cols=1
	this.nb_cols_corr=1
	this.sup=1

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let triangles=[],sommets=[[]],A=[],B=[],C=[],t=[],d=[],n=[],c=[],objets=[],A0,B0,C0,tri,G
		let type_de_questions_disponibles,liste_type_de_questions
		if (this.sup==1) type_de_questions_disponibles=[1,2]
		if (this.sup==2) type_de_questions_disponibles=[3,4]
		if (this.sup==3) type_de_questions_disponibles=[1,2,3,4]
		liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions)
		for (let i = 0, a, angle,rapport, texte, texte_corr, cpt=0; i < this.nb_questions;i++) {// this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			triangles[i] = new Triangles();
			sommets[i]= triangles[i].getSommets(false);

			A0 = point(3,randint(1,2))
			B0 = point(6,randint(1,2))
			angle = choice([50,60,70,75,80,100,110,120])
			rapport=randint(7,13)/10
			C0 = similitude(B0,A0,angle,rapport)
			tri = polygone(A0,B0,C0)
			G = centreGraviteTriangle(A0,B0,C0)
			a=randint(0,30)*12-180
			A[i] =rotation(A0,G,a,sommets[i][0],'below left')
			B[i] = rotation(B0,G,a,sommets[i][1],'below right')
			C[i] = rotation(C0,G,a,sommets[i][2],'above')
			t[i] = polygone(A[i],B[i],C[i])
			n[i] = nommePolygone(t[i],`${sommets[i][0]}${sommets[i][1]}${sommets[i][2]}`)
			switch (liste_type_de_questions[i]) {
				case 1 :
					d[i] = hauteurTriangle(C[i],B[i],A[i],'blue')
					d[i].epaisseur=1
					c[i] = codageHauteurTriangle(C[i],B[i],A[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la hauteur issue de $${sommets[i][0]}$ dans le triangle ${triangles[i].getNom()}.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])
					break
				case 2 :
					d[i] = mediatrice(A[i],B[i],true,'blue')
					d[i].epaisseur=1
					c[i] = codageMediatrice(A[i],B[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la médiatrice du segment [$${sommets[i][0]}${sommets[i][1]}]$.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i],constructionMediatrice(A[i],B[i],true,color='gray', markmilieu='×', markrayons='||',couleurMediatrice = 'blue', epaisseurMediatrice = 1))
					break
				case 3 :
					d[i] = medianeTriangle(C[i],B[i],A[i],'blue')
					d[i].epaisseur=1
					c[i] = codageMedianeTriangle(C[i],B[i],A[i],color='black',mark='//')
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la médiane issue de $${sommets[i][0]}$ dans le triangle ${triangles[i].getNom()}.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])
					break
				case 4 :
					d[i] = bissectrice(A[i],B[i],C[i],'blue')
					d[i].epaisseur=1
					c[i] = codageBissectrice(A[i],B[i],C[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la bissectrice de l'angle $\\widehat{${sommets[i][0]}${sommets[i][1]}${sommets[i][2]}}$.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i],constructionBissectrice(A[i],B[i],C[i],detail = false, color='red', mark='×',tailleLosange = 3,couleurBissectrice = 'blue', epaiseurBissectrice = 1))
					break

			}

			texte = `Quelle est la nature de la droite tracée en bleu pour le triangle ${triangles[i].getNom()} ?<br>` + mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])

			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
			}
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de droites',3,"1 : Hauteurs et Médiatrices\n2 : Médianes et Bissectrices\n3 : Toutes les droites"]
}
/**
 * Référence 6G24-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_point_6e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à une droite (cas simples)'
	this.figure=false
	this.sup=0
}
/**
 * Référence 6G24-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_figure_6e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à une droite (cas simples)'
	this.figure=true
	this.sup=0
}
/**
 * Référence 6G10-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_point_5e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à une droite'
	this.figure=false
	this.sup=1
}
/**
 * Référence 6G10-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_figure_5e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à une droite'
	this.figure=true
	this.sup=1
}
/**
 * Référence 6G11-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_centrale_point() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à un point'
	this.figure=false
	this.sup=2
}
/**
 * Référence 6G11-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_centrale_figure() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à un point'
	this.figure=true
	this.sup=2
}
/**
 * @Auteur Jean-Claude Lhote
 * Fonction générale pour les exercices de construction de symétriques (centrale/axiale et points/triangles)
 * références  6G24-1, 6G24-2, 5G10-1, 5G10-2, 5G11-1 et 5G11-2
 * Permet une sortie html/pdf sur petits carreaux/gros carreaux/papier blanc
 */

function Construire_par_Symetrie() {
	"use strict";
	Exercice.call(this);
	this.titre = "Construire par Symétrie...";
	this.nb_questions = 1;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup = 1;
	this.sup2 = 1;
	this.figure = false
	this.nouvelle_version = function (numero_de_l_exercice) {
	  let type_de_questions_disponibles;
	  if (this.sup == 3) 	  //Symétrie axiale ou centrale
		  if (this.figure==false) type_de_questions_disponibles = [0,1, 2]; // points
		  else type_de_questions_disponibles = [3,4,5] // triangle

	  else 
		  if (this.figure==false) type_de_questions_disponibles = [parseInt(this.sup)]; // Le choix 1 ou 2 : points
		  else type_de_questions_disponibles = [parseInt(this.sup)+3] //figures

	  let liste_type_de_questions = combinaison_listes(
		type_de_questions_disponibles,
		this.nb_questions
	  );
	  this.liste_questions = []; // Liste de questions
	  this.liste_corrections = []; // Liste de questions corrigées
	  let Xmin, Xmax, Ymin, Ymax, sc;
	  if (this.sup2 == 2) sc = 0.8;
	  else sc = 0.5;
  
	  let A,AA,cA,sA,
		B,
		C,CC,cC,sC,sCE,
		D,DD,cD,sD,sDE,
		xE,
		E,EE,cE,sE,sED,
		sEC,
		d,
		dB,
		enonce,
		correction,
		g,
		carreaux,
		k,
		objets_enonce=[],
		objets_correction=[],
		p1,p2,p1nom,p2nom;
	  for (
		let i = 0, texte, texte_corr, cpt = 0;
		i < this.nb_questions && cpt < 50;
  
	  ) {
		
		switch (liste_type_de_questions[i]) {
			case 0 : // 3 symétries axiales simples de points (6ème)
			p1nom=creerNomDePolygone(5,"PQ")
			A = point(0, 0, `${p1nom[0]}`,'above');
			k=choice([-1,0,1,2])

			if (k<2) d = droiteParPointEtPente(A,k);
			else d=droiteVerticaleParPoint(A)
			B = pointSurDroite(d,6,`${p1nom[1]}`,'above');
			d.isVisible = true;
			d.epaisseur=1
			if (k==2) {
				A.positionLabel='left'
				B.positionLabel='left'
			}
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(3, 5), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,7),randint(5,6), `${p1nom[4]}`, "left");
			//F = point(E.x+1,5-B.y,'F','above left');
			CC=symetrieAxiale(C,d,`${p1nom[2]}\'`,'below left')
			DD=symetrieAxiale(D,d,`${p1nom[3]}\'`,'above right')
			EE=symetrieAxiale(E,d,`${p1nom[4]}\'`,'left')
			//FF=symetrieAxiale(F,d,'F\'','below left')
			cC=codageMediatrice(C,CC,'red','|')
			cD=codageMediatrice(D,DD,'blue','X')
			cE=codageMediatrice(E,EE,'green','O')
			//cF=codageMediatrice(F,FF,'purple','V')
			sC=segment(C,CC)
			sD=segment(D,DD)
			sE=segment(E,EE)
			//sF=segment(F,FF)
			sCE=droite(CC,EE,'','gray')
			sCE.pointilles=true
			sED=droite(EE,D,'','gray')
			sED.pointilles=true
			sDE=droite(DD,E,'','gray')
			sDE.pointilles=true
			sEC=droite(C,E,'','gray')
			sEC.pointilles=true



			objets_correction.push(d,tracePoint(A, B, C, D, E,CC,DD,EE),labelPoint(A, B, C, D, E,CC,DD,EE),cC,cD,cE,sC,sD,sE,sED,sDE,sCE,sEC)
			objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[4]}\'$ symétrique de $${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(5)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)+1)
		
			
			correction=`Contrôler la figure en vérifiant que les segments en pointillés se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`

			break;
		  case 1: // 3 symétries axiales de points
			p1nom=creerNomDePolygone(5)
			A = point(0, randint(-1,1), `${p1nom[0]}`,'above');
			B = point(6, randint(-1,1,A.y), `${p1nom[1]}`,'above');
			d = droite(A, B);
			d.isVisible = true;
			d.epaisseur=1
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(10, 13), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,8),randint(-8,-5), `${p1nom[4]}`, "left");
			//F = point(E.x+1,5-B.y,'F','above left');
			CC=symetrieAxiale(C,d,`${p1nom[2]}\'`,'below left')
			DD=symetrieAxiale(D,d,`${p1nom[3]}\'`,'above right')
			EE=symetrieAxiale(E,d,`${p1nom[4]}\'`,'left')
			//FF=symetrieAxiale(F,d,'F\'','below left')
			cC=codageMediatrice(C,CC,'red','|')
			cD=codageMediatrice(D,DD,'blue','X')
			cE=codageMediatrice(E,EE,'green','O')
			//cF=codageMediatrice(F,FF,'purple','V')
			sC=segment(C,CC)
			sD=segment(D,DD)
			sE=segment(E,EE)
			//sF=segment(F,FF)
			sCE=segment(CC,EE,'gray')
			sCE.pointilles=true
			sED=segment(EE,D,'gray')
			sED.pointilles=true
			sDE=segment(DD,E,'gray')
			sDE.pointilles=true
			sEC=segment(C,E,'gray')
			sEC.pointilles=true



			objets_correction.push(d,tracePoint(A, B, C, D, E,CC,DD,EE),labelPoint(A, B, C, D, E,CC,DD,EE),cC,cD,cE,sC,sD,sE,sED,sDE,sCE,sEC)
			objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[4]}\'$ symétrique de $${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(5)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)+1)
		
			
			correction=`Contrôler la figure en vérifiant que les segments en pointillés se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`
			break;
		  case 2: // 3 symétries centrales de points
			p1nom=creerNomDePolygone(4)
			A = point(0, randint(-1,4), `${p1nom[0]}`,'left');
			B = point(7, randint(-1,1,A.y), `${p1nom[1]}`,'above');
			C = point(randint(2, 3), randint(-4, -2), `${p1nom[2]}`,'left');
			D = point(randint(10, 13), randint(-6, -5), `${p1nom[3]}`,'below right');
			CC=rotation(C,B,180,`${p1nom[2]}\'`,'right')
			DD=rotation(D,B,180,`${p1nom[3]}\'`,'above left')
			AA=rotation(A,B,180,`${p1nom[0]}\'`,'right')
			cC=codageMilieu(C,CC,'red','|',false)
			cD=codageMilieu(D,DD,'blue','||' ,false)
			cA=codageMilieu(A,AA,'green','|||',false)
			sC=segment(C,CC)
			sD=segment(D,DD)
			sA=segment(A,AA)
			
		objets_correction.push(tracePoint(A, C, D,CC,DD,AA),labelPoint(A, B, C, D,CC,DD,AA),cC,cD,cA,sC,sD,sA)
			objets_enonce.push(tracePoint(A, B, C, D),labelPoint(A, B, C, D));
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[0]}\'$ symétrique de $${p1nom[0]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(4)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,AA.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,AA.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,AA.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,AA.y,CC.y,DD.y)+1)
			correction=''
			break;

			case 3 : // symétrie axiale simple d'un triangle
			p1nom=creerNomDePolygone(5,"PQ")
			A = point(0, 0, `${p1nom[0]}`,'above');
			k=choice([-1,0,1,2])

			if (k<2) d = droiteParPointEtPente(A,k);
			else d=droiteVerticaleParPoint(A)
			B = pointSurDroite(d,6,`${p1nom[1]}`,'above');
			d.isVisible = true;
			d.epaisseur=1
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(3, 5), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,7),randint(5,6), `${p1nom[4]}`, "left");
			p1=polygone(C,D,E)
			p2=symetrieAxiale(p1,d)
			p2.listePoints[0].nom=`${p1nom[2]}\'`
			p2.listePoints[1].nom=`${p1nom[3]}\'`
			p2.listePoints[2].nom=`${p1nom[4]}\'`
			//CC=nommePolygone(p1)
			//DD=nommePolygone(p2)
			cC=codageMediatrice(p1.listePoints[0],p2.listePoints[0],'red','|')
			cD=codageMediatrice(p1.listePoints[1],p2.listePoints[1],'blue','X')
			cE=codageMediatrice(p1.listePoints[2],p2.listePoints[2],'green','O')			
			sC=segment(p1.listePoints[0],p2.listePoints[0],'red')
			sD=segment(p1.listePoints[1],p2.listePoints[1],'blue')
			sE=segment(p1.listePoints[2],p2.listePoints[2],'green')	
			sCE=droite(p1.listePoints[2],p1.listePoints[1],'','gray')
			sCE.pointilles=true
			sED=droite(p2.listePoints[2],p2.listePoints[1],'','gray')
			sED.pointilles=true
			objets_correction.push(d,tracePoint(A,B),labelPoint(A,B),cC,cD,cE,sC,sD,sE,CC,DD,p1,p1.sommets,p2,p2.sommets,sCE,sED)
			objets_enonce.push(d,tracePoint(A,B),labelPoint(A,B),CC,p1);
			enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le triangle  $${p1nom[2]}\'${p1nom[3]}\'${p1nom[4]}\'$ symétrique de $${p1nom[2]}${p1nom[3]}${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)
			correction=''
	
			break
			case 4: // symetrie axiale d'un triangle
				p1nom=creerNomDePolygone(5)


				A = point(0, randint(-1,1), `${p1nom[0]}`,'above');
				B = point(6, randint(-1,1,A.y), `${p1nom[1]}`,'above');
				d = droite(A, B);
				d.isVisible = true;
				d.epaisseur=1
				C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
				D = point(randint(10, 13), randint(-4, -2), `${p1nom[3]}`,'below right');
				dB = droiteParPointEtPerpendiculaire(B, d);
				E=point(randint(6,8),randint(-8,-6), `${p1nom[4]}`, "left");
				p1=polygone(C,D,E)
				p2=symetrieAxiale(p1,d)
				p2.listePoints[0].nom=`${p1nom[2]}\'`
				p2.listePoints[1].nom=`${p1nom[3]}\'`
				p2.listePoints[2].nom=`${p1nom[4]}\'`
				//CC=nommePolygone(p1)
				//DD=nommePolygone(p2)
				cC=codageMediatrice(p1.listePoints[0],p2.listePoints[0],'red','|')
				cD=codageMediatrice(p1.listePoints[1],p2.listePoints[1],'blue','X')
				cE=codageMediatrice(p1.listePoints[2],p2.listePoints[2],'green','O')			
				sC=segment(p1.listePoints[0],p2.listePoints[0],'red')
				sD=segment(p1.listePoints[1],p2.listePoints[1],'blue')
				sE=segment(p1.listePoints[2],p2.listePoints[2],'green')	
				sCE=droite(p1.listePoints[2],p1.listePoints[1],'','gray')
				sCE.pointilles=true
				sED=droite(p2.listePoints[2],p2.listePoints[1],'','gray')
				sED.pointilles=true
				objets_correction.push(d,tracePoint(A,B),labelPoint(A,B),cC,cD,cE,sC,sD,sE,CC,DD,p1,p1.sommets,p2,p2.sommets,sCE,sED)
				objets_enonce.push(d,tracePoint(A,B),labelPoint(A,B),CC,p1);
				enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
				enonce += num_alpha(1)+` Construire le triangle  $${p1nom[2]}\'${p1nom[3]}\'${p1nom[4]}\'$ symétrique de $${p1nom[2]}${p1nom[3]}${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
				enonce += num_alpha(2)+` Coder la figure.<br>`;
				Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
				Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
				Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
				Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)

				correction=`Contrôler la figure en vérifiant que les côtés des deux triangles se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`
				break;
			  case 5:
				p1nom=creerNomDePolygone(4)

				A = point(0, randint(-1,4), `${p1nom[0]}`,'left');
				B = point(7, randint(-1,1,A.y), `${p1nom[1]}`,'above');
				C = point(randint(2, 3), randint(-6, -4), `${p1nom[2]}`,'left');
				D = point(randint(10, 13), randint(-6, -5), `${p1nom[3]}`,'below right');
				p1=polygone(A,C,D)
				p2=rotation(p1,B,180)
				p2.listePoints[0].nom=`${p1nom[0]}\'`
				p2.listePoints[1].nom=`${p1nom[2]}\'`
				p2.listePoints[2].nom=`${p1nom[3]}\'`
				//CC=nommePolygone(p1)
				//DD=nommePolygone(p2)
				cC=codageMilieu(p1.listePoints[0],p2.listePoints[0],'red','|',false)
				cD=codageMilieu(p1.listePoints[1],p2.listePoints[1],'blue','X' ,false)
				cA=codageMilieu(p1.listePoints[2],p2.listePoints[2],'green','O',false)
				sA=segment(p1.listePoints[0],p2.listePoints[0],'red')
				sC=segment(p1.listePoints[1],p2.listePoints[1],'blue')
				sD=segment(p1.listePoints[2],p2.listePoints[2],'green')	
				
				objets_correction.push(tracePoint(B),labelPoint(B),cC,cD,cA,sC,sD,sA,p1.sommets,p2.sommets,p1,p2)
				objets_enonce.push(tracePoint(B),labelPoint(B),CC,p1);
				enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
				enonce += num_alpha(1)+` Construire le triangle  $${p1nom[0]}\'${p1nom[2]}\'${p1nom[3]}\'$ symétrique de $${p1nom[0]}${p1nom[2]}${p1nom[3]}$ par rapport au point $${p1nom[1]}$.<br>`
				enonce += num_alpha(2)+` Coder la figure.<br>`;
				Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
				Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
				Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
				Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)
				correction=''	
				break;

		}
		
		let params={
			xmin: Xmin,
			ymin: Ymin,
			xmax: Xmax,
			ymax: Ymax,
			pixelsParCm: 20,
			scale: sc,
		  }
		  if (this.sup2<3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
		else g=''
		if (this.sup2 == 2) {
		  k = 0.8;
		  carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
		} else {
		  k = 0.5;
		  carreaux = "";
		}
		objets_enonce.push(g,carreaux)
		objets_correction.push(g,carreaux)
		  enonce += mathalea2d( params
			,
			objets_enonce
		  );
		  correction += mathalea2d(
			params,
		   objets_correction
		  );
		if (this.liste_questions.indexOf(texte) == -1) {
		  // Si la question n'a jamais été posée, on en créé une autre
		  this.liste_questions.push(enonce + "<br>");
		  this.liste_corrections.push(correction + "<br>");
		  i++;
		}
		cpt++;
	  }
  
	  liste_de_question_to_contenu(this);
	};
	this.besoin_formulaire_numerique = ['Type de questions', 4, `0 : symétries axiales simples\n 1 : Symétrie axiale\n 2 : Symétrie centrale\n 3 : Mélange`]
	this.besoin_formulaire2_numerique = [
	  "Type de cahier",
	  3,
	  `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
	];
  }

  
  /** 
 * * Remplir un tableau en utilisant la notion d'opposé
 * * 5R10-0
 * @author Sébastien Lozano
 */
function Trouver_oppose(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Trouver l'opposé d'un nombre relatif";
	this.consigne = "Compléter le tableau suivant.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
  //sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;
  
	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// une fonction pour générer un relatif et son opposé
			function nbRel_et_son_oppose() {
				let nb_num = calcul(randint(-9,9) + calcul(randint(-9,9)/10));
				
				return {
					nb:tex_nombre(nb_num),
					opp:tex_nombre(-nb_num)
				};
			}
			let nb_ligne_nombres = ['\\text{Nombre}'];
			let nb_ligne_nombres_corr = ['\\text{Nombre}'];
			let nb_ligne_nombres_opp = [];
			let nb_ligne_nombres_opp_corr = [];
			let nb;
			for (let k=0;k<6;k++) {
				nb=nbRel_et_son_oppose();
				if (randint(0,1)==1) {
					nb_ligne_nombres[k+1] = '';	
					nb_ligne_nombres_corr[k+1]=mise_en_evidence(nb.nb);
					nb_ligne_nombres_opp.push(nb.opp)
					nb_ligne_nombres_opp_corr.push(nb.opp)
				} else {
					nb_ligne_nombres.push(nb.nb);	
					nb_ligne_nombres_corr.push(nb.nb);	
					nb_ligne_nombres_opp[k] = '';
					nb_ligne_nombres_opp_corr[k]=mise_en_evidence(nb.opp);
				}				
			};
			
			let enonces = [];
			enonces.push({
				enonce:`								
				${tab_C_L(nb_ligne_nombres,['\\text{Opposé du nombre}'],nb_ligne_nombres_opp)}
				`,
				question:``,
				correction:`
				${tab_C_L(nb_ligne_nombres_corr,['\\text{Opposé du nombre}'],nb_ligne_nombres_opp_corr)}				
				`
			  });
			enonces.push({
				enonce:`énoncé type 2`,
				question:``,
				correction:`${texte_en_couleur(`correction type2`)}`
			});

			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[0].correction}`;
          };
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/** 
 * * résoudre un problème additif de fractions niv 5e
 * * 5N20-0
 * @author Sébastien Lozano
 */
function Problemes_additifs_fractions_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème en utilisant des fractions";	
	this.consigne = `Calculatrice autorisée.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  // type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [0];      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées		

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// on définit les fractions pour les vols et les arguments pour le graphique
			let frac_vols = [
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,4,[1.8,' ','black',2,1,'blue',0.4]],
				[1,2,[1.8,' ','black',2,1,'green',0.4]]
			];
			// on mélange pour l'aléatoire tant que les deux premieres fractions sont égales
			do {
				frac_vols = shuffle(frac_vols);
			} while (frac_vols[0][1] == frac_vols[1][1]);
			

			// let q1a = randint(1,5); // indice pour faire varier la 1ere question sur la destination
			// let q1b = randint(1,5,[q1a]); // indice pour faire varier la 2eme question sur la destination
			let nb_vols_total;
			let destinations_vols = [[`l'`,`Afrique`],[`l'`,`Asie`],[`l'`,`Amerique`],[`l'`,`Europe`],[`la`,` France`]];
			destinations_vols = shuffle(destinations_vols);
			do {		
				nb_vols_total = randint(200,600);
			} while (nb_vols_total%2 != 0 || nb_vols_total%3 != 0 || nb_vols_total%4 != 0)

			// pour les situations
			let situations = [
				{//case 0 --> vols
					fin_enonce_situation:`vols d'une compagnie aérienne selon la destination`,
					nom_enonce:`vols`,
					last_question:[`cette compagnie a affrété`,`vols`,`le nombre de vols`,`Le nombre de vols`],
					cat1:{
						destination:destinations_vols[0][0]+destinations_vols[0][1],
						article:destinations_vols[0][0],
						nom: destinations_vols[0][1],
						frac: frac_vols[0],
						angle: calcul(360/frac_vols[0][1]),
						arg_graph: frac_vols[0][2],
					},
					cat2:{
						destination:destinations_vols[1][0]+destinations_vols[1][1],
						article:destinations_vols[1][0],
						nom: destinations_vols[1][1],
						frac: frac_vols[1],
						angle: calcul(360/frac_vols[1][1]),
						arg_graph: frac_vols[1][2],
					},
					cat3:{
						destination:destinations_vols[2][0]+destinations_vols[2][1],
						article:destinations_vols[2][0],
						nom: destinations_vols[2][1],
						frac: frac_vols[2],
						angle: calcul(360/frac_vols[2][1]),
						arg_graph: frac_vols[2][2],
					},
					cat4:{
						destination:destinations_vols[3][0]+destinations_vols[3][1],
						article:destinations_vols[3][0],
						nom: destinations_vols[3][1],
						frac: frac_vols[3],
						angle: calcul(360/frac_vols[3][1]),
						arg_graph: frac_vols[3][2],
					},
					cat5:{
						destination:destinations_vols[4][0]+destinations_vols[4][1],
						article:destinations_vols[4][0],
						nom: destinations_vols[4][1],
						frac: frac_vols[4],
						angle: calcul(360/frac_vols[4][1]),
						arg_graph: frac_vols[4][2],
					},
					// q1a:q1a,
					// q1b:q1b,
					nb_total:nb_vols_total,
					fig:``,
				},
				{//case 1 --> courses
				},
				{//case 2 --> activités sportives
				},
				{//case 3 -->
				},
				{//case 4 -->
				},		
			];
			// une fonction pour gérer le codage des angles
			function myCodageAngle(A,O,B,angle,[...args]) {
				if (angle == 90) {
					return codageAngleDroit(A,O,B);
				} else {
					return codeAngle(A,O,angle,...args)
				};
			};

			// une fonction pour gérer l'affichage correct de la légende
			//param est l'ordonnée du point qui sert à la mediatrice !
			function myLegendeOK(param) {
				if (param<0) {
					return 2;
				} else {
					return 1;
				};
			};

			//une fonction pour positionner le label
			// y est l'ordonnée du point
			function myLabelPosition(y) {
				if (y<0) {
					return 'below';
				} else {
					return 'above';
				};
			};

			// une fonction pour gérer le texte en fonction de l'angle
			function myTexte_vols_corr(angle) {
				switch (angle) {
					case 90:
						return `du secteur est un angle droit, il mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{4}$.`;
					case 30:
						return `rouge apparaît 3 fois, l'angle vert vaut $180\\degree$ et il y a un angle droit.<br>
							L'angle pour un tour complet vaut $360\\degree$, donc l'angle rouge vaut $(360-180-90)\\div 3 = ${angle}\\degree$.<br>
							L'angle rouge mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{12}$.
							`;
					case 180:
						return `du secteur est un angle plat, il mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{2}$.`;
		
				}
			};

			// on prépare la fenetre mathalea2d
			let fenetreMathalea2D = {xmin:-10,ymin:-8,xmax:10,ymax:8,pixelsParCm:20,scale:0.5}
			let O_vols = point(0,0);
			let A_vols = point(fenetreMathalea2D.xmin+6,0);
			let c_vols = cercleCentrePoint(O_vols,A_vols,'blue');
			c_vols.epaisseur = 2;
			// on trace les quartiers
			//cat1
			let B_vols = rotation(A_vols,O_vols,situations[0].cat1.angle);
			let s_OA_vols = segment(O_vols,A_vols);
			let s_OB_vols = segment(O_vols,B_vols);			
			let codage_AOB = myCodageAngle(A_vols,O_vols,B_vols,situations[0].cat1.angle,situations[0].cat1.arg_graph)
			//cat2
			let C_vols = rotation(B_vols,O_vols,situations[0].cat2.angle);			
			let s_OC_vols = segment(O_vols,C_vols);			
			let codage_BOC = myCodageAngle(B_vols,O_vols,C_vols,situations[0].cat2.angle,situations[0].cat2.arg_graph)
			//cat3
			let D_vols = rotation(C_vols,O_vols,situations[0].cat3.angle);			
			let s_OD_vols = segment(O_vols,D_vols);			
			let codage_COD = myCodageAngle(C_vols,O_vols,D_vols,situations[0].cat3.angle,situations[0].cat3.arg_graph)
			//cat4
			let E_vols = rotation(D_vols,O_vols,situations[0].cat4.angle);			
			let s_OE_vols = segment(O_vols,E_vols);			
			let codage_DOE = myCodageAngle(D_vols,O_vols,E_vols,situations[0].cat4.angle,situations[0].cat4.arg_graph)
			//cat5
			let F_vols = rotation(E_vols,O_vols,situations[0].cat5.angle);			
			let s_OF_vols = segment(O_vols,F_vols);			
			let codage_EOF = myCodageAngle(E_vols,O_vols,F_vols,situations[0].cat5.angle,situations[0].cat5.arg_graph)

			// légende 
			let A_legende = point(fenetreMathalea2D.xmin+4,0);
			let L_vols_cat1 = rotation(A_legende,O_vols,situations[0].cat1.angle/2,situations[0].cat1.nom);
			L_vols_cat1.positionLabel = myLabelPosition(L_vols_cat1.y);
			let LL_vols_cat1 = rotation(A_vols,O_vols,situations[0].cat1.angle/2,situations[0].cat1.nom);
			let s_legende_cat1 = segment (L_vols_cat1,LL_vols_cat1);
			s_legende_cat1.styleExtremites = '->';
			s_legende_cat1.pointilles = true;

			let L_vols_cat2 = rotation(L_vols_cat1,O_vols,situations[0].cat1.angle/2+situations[0].cat2.angle/2,situations[0].cat2.nom);
			L_vols_cat2.positionLabel = myLabelPosition(L_vols_cat2.y);
			let LL_vols_cat2 = rotation(B_vols,O_vols,situations[0].cat2.angle/2,situations[0].cat2.nom);
			let s_legende_cat2 = segment (L_vols_cat2,LL_vols_cat2);
			s_legende_cat2.styleExtremites = '->';
			s_legende_cat2.pointilles = true;

			let L_vols_cat3 = rotation(L_vols_cat2,O_vols,situations[0].cat2.angle/2+situations[0].cat3.angle/2,situations[0].cat3.nom);
			L_vols_cat3.positionLabel = myLabelPosition(L_vols_cat3.y);
			let LL_vols_cat3 = rotation(C_vols,O_vols,situations[0].cat3.angle/2,situations[0].cat3.nom);
			let s_legende_cat3 = segment (L_vols_cat3,LL_vols_cat3);
			s_legende_cat3.styleExtremites = '->';
			s_legende_cat3.pointilles = true;

			let L_vols_cat4 = rotation(L_vols_cat3,O_vols,situations[0].cat3.angle/2+situations[0].cat4.angle/2,situations[0].cat4.nom);
			L_vols_cat4.positionLabel = myLabelPosition(L_vols_cat4.y);
			let LL_vols_cat4 = rotation(D_vols,O_vols,situations[0].cat4.angle/2,situations[0].cat4.nom);
			let s_legende_cat4 = segment (L_vols_cat4,LL_vols_cat4);
			s_legende_cat4.styleExtremites = '->';
			s_legende_cat4.pointilles = true;

			let L_vols_cat5 = rotation(L_vols_cat4,O_vols,situations[0].cat4.angle/2+situations[0].cat5.angle/2,situations[0].cat5.nom);
			L_vols_cat5.positionLabel = myLabelPosition(L_vols_cat5.y);
			let LL_vols_cat5 = rotation(E_vols,O_vols,situations[0].cat5.angle/2,situations[0].cat5.nom);
			let s_legende_cat5 = segment (L_vols_cat5,LL_vols_cat5);
			s_legende_cat5.styleExtremites = '->';
			s_legende_cat5.pointilles = true;

			
			let mesAppels = [
				c_vols,
				s_OA_vols,
				s_OB_vols,
				s_OC_vols,
				s_OD_vols,
				s_OE_vols,
				s_OF_vols,
				codage_AOB,
				codage_BOC,				
				codage_COD,				
				codage_DOE,				
				codage_EOF,				
				labelPoint(L_vols_cat1),
				labelPoint(L_vols_cat2),
				labelPoint(L_vols_cat3),
				labelPoint(L_vols_cat4),
				labelPoint(L_vols_cat5),
				s_legende_cat1,
				s_legende_cat2,
				s_legende_cat3,
				s_legende_cat4,
				s_legende_cat5,
			];
			let fig_vols = mathalea2d(
				fenetreMathalea2D,
				mesAppels
			);
			situations[0].fig = fig_vols;

			let enonces = [];			
			let i_sous_question=0;
			let i_sous_question_corr=0;

			for (let k=0;k<1;k++) {
				enonces.push({
					enonce:`
					On a représenté sur le diagramme circulaire ci-contre la répartition des ${situations[k].fin_enonce_situation}.<br>
					${texte_gras(`Les angles de même couleur ont la même mesure.`)}<br>
					${texte_gras(`L'angle vert est un angle plat.`)}<br>
					${situations[k].fig}<br>
					${num_alpha(i_sous_question++)} Quelle fraction représente les ${situations[k].nom_enonce} vers ${situations[k].cat1.destination} ?<br>
					${num_alpha(i_sous_question++)} Quelle fraction représente les ${situations[k].nom_enonce} vers ${situations[k].cat2.destination} ?<br>
					${num_alpha(i_sous_question++)} Sachant que ${situations[k].last_question[0]} ${situations[k].nb_total} ${situations[k].last_question[1]}
					et que les ${situations[k].nom_enonce} vers ${situations[k].cat3.destination} représentent $\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}$ de ce total,
					caluler ${situations[k].last_question[2]} vers ${situations[k].cat3.destination}?
												
					`,
					correction:`
					${num_alpha(i_sous_question_corr++)} Pour ${situations[k].cat1.destination} l'angle ${myTexte_vols_corr(situations[k].cat1.angle)}<br>					
					${texte_en_couleur(`La fraction qui représente les ${situations[k].nom_enonce} vers ${situations[k].cat1.destination} vaut donc $\\dfrac{${situations[k].cat1.frac[0]}}{${situations[k].cat1.frac[1]}}$`)}.<br>
					
					${num_alpha(i_sous_question_corr++)} Pour ${situations[k].cat2.destination} l'angle ${myTexte_vols_corr(situations[k].cat2.angle)}<br>				
					${texte_en_couleur(`La fraction qui représente les ${situations[k].nom_enonce} vers ${situations[k].cat2.destination} vaut donc $\\dfrac{${situations[k].cat2.frac[0]}}{${situations[k].cat2.frac[1]}}$`)}<br>

					${num_alpha(i_sous_question_corr++)} Calculons $\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}$ de ${situations[k].nb_total} :<br> 
					$\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}\\times ${situations[k].nb_total} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${situations[k].nb_total}}{${situations[k].cat3.frac[1]}} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}\\times ${situations[k].cat3.frac[1]}}{${situations[k].cat3.frac[1]}} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}\\times \\cancel{${situations[k].cat3.frac[1]}}}{\\cancel{${situations[k].cat3.frac[1]}}} = ${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])} = ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}$<br>
					${texte_en_couleur(`${situations[k].last_question[3]} vers ${situations[k].cat3.destination} vaut donc ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}.`)}
					`
				});
			};
		
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;		
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};
  

/** 
 * * résoudre un problème additif avec des relatifs
 * * 5R20-4
 * @author Sébastien Lozano
 */

function Problemes_additifs_relatifs_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème en utilisant une somme algébrique de relatifs.";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			//   type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [0];			      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let g_p_u; //pour le gain/perte unitaire
			let g_m; //pour le gain multiple
			// on veut des multiples de 5 pour n'avoir que des demis entiers ou des entiers
			do {
				g_p_u = randint(10,30);
				g_m = randint(10,30);
			} while (g_p_u%5 != 0 || g_m%5 != 0 || g_m <= g_p_u) 

			let n_tot=randint(10,15); // nombre totale de lancers
			let n_g_u; // nb de gains untitaires
			let n_p; // nb de pertes
			do {
				n_g_u = randint(2,10);
				n_p = randint(2,10);
			} while (n_g_u+n_p >= n_tot)

			// on échange parfois le nombre de gain unitaire et le nombre de perte pour avoir un bilan négatif plus souvent
			if (n_p<n_g_u) {
				if (randint(0,1)==0) {
					let temp = n_p;
					n_p=n_g_u;
					n_g_u=temp;
				};
			};

			let prenoms = [[prenomF(),'Elle','elle'],[prenomM(),'Il','il']];
			let currentPrenom = choice(prenoms);

			// une fonction pour écrire les chaine correctives
			function myGainPerteString(nb,type,valeur) {
				let sortie=``;
				switch (type) {
					case 'gain':						
						sortie = `(+${tex_prix(valeur)}$€$)`;
						for (let m=1;m<nb;m++) {
							sortie +=`+(+${tex_prix(valeur)}$€$)`;
						};
						break;
					case 'perte':
						sortie = `(-${tex_prix(valeur)}$€$)`;
						for (let m=1;m<nb;m++) {
							sortie +=`+(-${tex_prix(valeur)}$€$)`;
						};
						break;					
				};
				return sortie;
			}

			// une fonction pour dire si le bilan est positif ou négatif
			function isBilanPositif(tot) {
				if (tot >= 0) {
					return true;
				} else {
					return false;
				};
			};

			let bilan;			
			if ( isBilanPositif( calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10))) ) {
				bilan = [`Globalement, le montant des gains`,`est supérieur au montant des pertes`,`${texte_en_couleur(`Le bilan est donc positif.`)}`,`a gagné`,tex_prix(calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10)))];
			} else {
				bilan = [`Globalement, le montant des gains`,`est inférieur au montant des pertes`,`${texte_en_couleur(`Le bilan est donc négatif.`)}`,`a perdu`,tex_prix((-1)*(calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10))))];
			}
			// pour les situations
			let situations = [
				{//case 0 --> les quilles
					nb_tot_lancers:n_tot,
					nb_gains_unitaires:n_g_u,
					nb_pertes:n_p,
					nb_gains:n_tot-n_g_u-n_p,
					perte:calcul(g_p_u/10),
					gain_unitaire:calcul(g_p_u/10),
					gain_multiple:calcul(g_m/10),
					enonce_1:`lancer une balle sur des quilles.`,
					enonce_2:`- Si la balle touche plusieurs quilles, le joueur gagne `,
					enonce_3:`- Si la balle ne touche qu'une quille, le joueur gagne `,
					enonce_4:`- Si la balle ne touche aucune quille, le joueur perd `,
					enonce_5:`a lancé`,
					enonce_6:`la balle`,
					correction_1:`touché plusieurs quilles`,
					correction_2:`touché qu'une seule quille`,
					prenom:currentPrenom[0],//prenoms[choice([0,1])][0],
					pronomMaj:currentPrenom[1],//prenoms[choice([0,1])][1],
					pronomMin:currentPrenom[2],//prenoms[choice([0,1])][2],
					bilan:bilan,
				},		
			];

			let enonces = [];
			let i_sous_question;
			let i_sous_question_corr;
			for (let k=0;k<situations.length;k++) {
				i_sous_question = 0;
				i_sous_question_corr = 0;
				enonces.push({
					enonce:`
					Un jeu consiste à ${situations[k].enonce_1}
					<br>${situations[0].enonce_2} $${tex_prix(situations[0].gain_multiple)}$€.				
					<br>${situations[0].enonce_3} $${tex_prix(situations[0].gain_unitaire)}$€.
					<br>${situations[0].enonce_4} $${tex_prix(situations[0].perte)}$€.
					<br>${situations[k].prenom} ${situations[k].enonce_5} $${situations[k].nb_tot_lancers}$ fois ${situations[k].enonce_6}.
					${situations[k].pronomMaj} a perdu de l'argent $${situations[k].nb_pertes}$ fois et a gagné $${situations[k].nb_gains_unitaires}$ fois $${tex_prix(situations[k].gain_unitaire)}$€.
					<br> ${num_alpha(i_sous_question++)} A-t-${situations[k].pronomMin} globalement gagné ou perdu de l'argent ?
					<br> ${num_alpha(i_sous_question++)} Combien a-t-${situations[k].pronomMin} globalement gagné ou perdu ?
					`,
					question:``,
					correction:`
					${situations[k].prenom} ${situations[k].enonce_5} $${situations[k].nb_tot_lancers}$ fois ${situations[k].enonce_6},
					sur les $${situations[k].nb_tot_lancers}$ lancers, on sait combien de fois ${situations[k].pronomMin} a perdu de l'argent et combien de fois ${situations[k].pronomMin} a gagné $${tex_prix(situations[k].gain_unitaire)}$€, les autres lancers correspondent donc au nombre de fois où ${situations[k].pronomMin} a ${situations[k].correction_1} et qu'${situations[k].pronomMin} a gagné $${tex_prix(situations[k].gain_multiple)}$€ 
					<br> $${situations[k].nb_tot_lancers}-${situations[k].nb_pertes}-${situations[k].nb_gains_unitaires} = ${situations[k].nb_tot_lancers-situations[k].nb_pertes-situations[k].nb_gains_unitaires}$,
					${situations[k].pronomMin} a donc ${situations[k].correction_1} $${situations[k].nb_gains}$ fois.

					<br>${texte_gras(`Gains lorsqu'${situations[k].pronomMin} a ${situations[k].correction_1} :`)}
					<br>$${myGainPerteString(situations[k].nb_gains,'gain',situations[k].gain_multiple)} = ${situations[k].nb_gains}\\times (+${tex_prix(situations[k].gain_multiple)}$€$) = +${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€

					<br>${texte_gras(`Gains lorsqu'${situations[k].pronomMin} n'a ${situations[k].correction_2} :`)}
					<br>$${myGainPerteString(situations[k].nb_gains_unitaires,'gain',situations[k].gain_unitaire)} = ${situations[k].nb_gains_unitaires}\\times (+${tex_prix(situations[k].gain_unitaire)}$€$) = +${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€

					<br>${texte_gras(`Pertes :`)}
					<br>$${myGainPerteString(situations[k].nb_pertes,'perte',situations[k].perte)} = ${situations[k].nb_pertes}\\times (-${tex_prix(situations[k].perte)}$€$) = -${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€

					<br>${num_alpha(i_sous_question_corr++)} ${situations[k].bilan[0]}, $(+${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€$)$ et $(+${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€$)$, ${situations[k].bilan[1]}, $(-${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€$)$.
					<br> ${situations[k].bilan[2]}   

					<br>${num_alpha(i_sous_question_corr++)} 
					$(+${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€$)+(+${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€$)+(-${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€$) = (${tex_prix(situations[k].nb_gains*situations[k].gain_multiple+situations[k].nb_gains_unitaires*situations[k].gain_unitaire-situations[k].nb_pertes*situations[k].perte)}$€$)$
					<br>${texte_en_couleur(`Globalement ${situations[k].prenom} ${situations[k].bilan[3]} $${situations[k].bilan[4]}$€`)} 

					`
				});
			};
		
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;				
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/**
 * Caculer la valeur d'une expression littérale de degré 1 à une inconnue
 * 5L13-5
 * @author Sébastien Lozano forking 5L13 of Rémi Angot
 */  
function Calculer_la_valeur_d_une_expression_litterale_deg1_inc1() {
	Calculer_la_valeur_d_une_expression_litterale.call(this)
	this.version="5L13-5";	
	this.titre="Calculer la valeur d'une expression littérale de degré 1 à 1 inconnue";
	this.nb_questions=2;

}


/** 
 * * Justifier qu'un tableau est un tableau de proportionnalité ou non
 * * 5P10
 * @author Sébastien Lozano
 */

function Tableaux_et_proportionnalite(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 4;
	};	

	this.titre = "Tableaux et proportionnalité.";	
	this.consigne = `Dire si les tableaux suivants sont de tableaux de proportionnalité. Justifier.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [choice([0,1]),2,choice([3,4]),5];			      			
			  type_de_questions_disponibles = shuffle(type_de_questions_disponibles);
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

			let n1 = randint(5,9);
			let n2 = randint(5,9,[n1]);
			let n3 = randint(5,9,[n1,n2]);
			let coeff = randint(2,9);
			let coeff_soust = randint(2,4);

			// pour les décimaux seulement en demis
			let u1 = randint(1,9);
			let ci1 = choice([0,5]); 					
			let u2 = randint(1,9);
			let ci2 = choice([0,5]); 					
			let u3 = randint(1,9);
			let ci3 = choice([0,5]);
			
			while ( ci1==0 && ci2 == 0 && ci3 == 0) {
				ci1 = choice([0,5]); 					
				ci2 = choice([0,5]); 					
				ci3 = choice([0,5]); 					
			};

			// une fonction pour la justification
			function justifications_OK(n1,n2,n3,coeff,sens) {
				let sortie;
				switch (sens) {
					case 'L1L2':
						sortie = `$\\dfrac{\\textcolor{blue}{${tex_nombre(n1)}}}{\\textcolor{red}{${tex_nombre(n1*coeff)}}} = \\dfrac{\\textcolor{blue}{${tex_nombre(n2)}}}{\\textcolor{red}{${tex_nombre(n2*coeff)}}} = \\dfrac{\\textcolor{blue}{${tex_nombre(n3)}}}{\\textcolor{red}{${tex_nombre(n3*coeff)}}}$`;
						break;
					case 'L2L1':
						sortie = `$\\dfrac{\\textcolor{red}{${tex_nombre(n1*coeff)}}}{\\textcolor{blue}{${tex_nombre(n1)}}} = \\dfrac{\\textcolor{red}{${tex_nombre(n2*coeff)}}}{\\textcolor{blue}{${tex_nombre(n2)}}} = \\dfrac{\\textcolor{red}{${tex_nombre(n3*coeff)}}}{\\textcolor{blue}{${tex_nombre(n3)}}}$`;
						break;
				};
				return sortie;				
			};

			// une fonction pour la justification sens1
			function justifications_KO(n1,n2,n3,coeff,operation,sens) {
				let sortie;
				let isEq = function(n1,n2,coeff) {
					if ( calcul(n1/(n1+coeff)) == calcul(n2/(n2+coeff)) ) {
						return `=`;
					} else {
						return `\\neq`;
					};
				};
				let color1,color2;
				switch (sens) {
					case 'L1L2':
						color1 = 'red';
						color2 = 'blue';
						break;
					case 'L2L1':
						color1 = 'blue';
						color2 = 'red';
						break;				
				};
				switch (operation) {
					case '+':						
						sortie = `$\\dfrac{\\textcolor{${color2}}{${tex_nombre(n1)}}}{\\textcolor{${color1}}{${tex_nombre(n1+coeff)}}}`;
						sortie += isEq(n1,n2,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n2)}}}{\\textcolor{${color1}}{${tex_nombre(n2+coeff)}}}`;	
						sortie += isEq(n2,n3,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n3)}}}{\\textcolor{${color1}}{${tex_nombre(n3+coeff)}}}$`;	
						break;
					case '-':
						sortie = `$\\dfrac{\\textcolor{${color2}}{${tex_nombre(n1)}}}{\\textcolor{${color1}}{${tex_nombre(n1-coeff)}}}`;
						sortie += isEq(n1,n2,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n2)}}}{\\textcolor{${color1}}{${tex_nombre(n2-coeff)}}}`;	
						sortie += isEq(n2,n3,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n3)}}}{\\textcolor{${color1}}{${tex_nombre(n3-coeff)}}}$`;	
						break;
				};
				return sortie;				
			};


			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 --> multiplication ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1*coeff],[n2*coeff,n3*coeff]
						),
					justification_L1_L2:justifications_OK(n1,n2,n3,coeff,'L1L2'),
					justification_L2_L1:justifications_OK(n1,n2,n3,coeff,'L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
					areEgaux:`égaux`,

				},
				{//case 1 --> multiplication ligne1 vers ligne2 Décimaux
					tableau:tab_C_L(
						[`\\phantom{000}`+tex_nombre(u1+ci1/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u2+ci2/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u3+ci3/10)+`\\phantom{000}`],
						[tex_nombre((u1+ci1/10)*coeff)],[tex_nombre((u2+ci2/10)*coeff),tex_nombre((u3+ci3/10)*coeff)]
						),
					justification_L1_L2:justifications_OK(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'L1L2'),
					justification_L2_L1:justifications_OK(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
					areEgaux:`égaux`,

				},
				{//case 2 --> division ligne1 vers ligne2
						tableau:tab_C_L(
							[`\\phantom{000}`+n1*coeff+`\\phantom{000}`,`\\phantom{000}`+n2*coeff+`\\phantom{000}`,`\\phantom{000}`+n3*coeff+`\\phantom{000}`],
							[n1],[n2,n3]
							),
						justification_L1_L2:justifications_OK(n1*coeff,n2*coeff,n3*coeff,1/coeff,'L1L2'),
						justification_L2_L1:justifications_OK(n1*coeff,n2*coeff,n3*coeff,1/coeff,'L2L1'),
						isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
						areEgaux:`égaux`,
							
				},
				{//case 3 --> addition ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1+coeff],[n2+coeff,n3+coeff]
						),
					justification_L1_L2:justifications_KO(n1,n2,n3,coeff,'+','L1L2'),
					justification_L2_L1:justifications_KO(n1+coeff,n2+coeff,n3+coeff,-coeff,'+','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,
				},
				{//case 4 --> addition ligne1 vers ligne2 Décimaux
					tableau:tab_C_L(
						[`\\phantom{000}`+tex_nombre(u1+ci1/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u2+ci2/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u3+ci3/10)+`\\phantom{000}`],
						[tex_nombre((u1+ci1/10)+coeff)],[tex_nombre((u2+ci2/10)+coeff),tex_nombre((u3+ci3/10)+coeff)]
						),
					justification_L1_L2:justifications_KO(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'+','L1L2'),
					justification_L2_L1:justifications_KO(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'+','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,

				},
				{//case 5 --> soustraction ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1-coeff_soust],[n2-coeff_soust,n3-coeff_soust]
						),
					justification_L1_L2:justifications_KO(n1,n2,n3,coeff_soust,'-','L1L2'),
					justification_L2_L1:justifications_KO(n1-coeff_soust,n2-coeff_soust,n3-coeff_soust,-coeff_soust,'-','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,
				},
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`					
					${situations[k].tableau}				
					`,
					question:``,
					correction:`
					Pour déterminer si c'est un tableau de proportionnalité, il suffit de comparer les quotients d'un nombre de la première ligne par le nombre correspondant de la seconde ligne ou inversement.
					<br> Soit ${situations[k].justification_L1_L2}, on constate qu'ils sont ${situations[k].areEgaux}.
					<br>Ou bien ${situations[k].justification_L2_L1}, on constate aussi qu'ils sont ${situations[k].areEgaux}.
					<br>${situations[k].isProportionnel}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
        		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
        		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
        		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;	
				case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;
				case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
					break;					
 			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
 * * Tableaux et pourcentages
 * * 5N11-1
 * @author Sébastien Lozano
 */

function Tableaux_et_pourcentages(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Tableaux et pourcentages";	
	this.consigne = `Compléter le tableau suivant.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	// sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	// sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
			  type_de_questions_disponibles = [0];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let prix,remises;
			do {
				prix = randint(150,300);
			} while (prix%5 != 0)
			
			if (this.sup == 1) {//coeff entier
				remises = choice([
					[{str:'10\\%',nb:10},{str:'20\\%',nb:20},{str:'30\\%',nb:30}],
					[{str:'5\\%',nb:5},{str:'15\\%',nb:10},{str:'35\\%',nb:35}],
					[{str:'10\\%',nb:20},{str:'40\\%',nb:40},{str:'80\\%',nb:80}],
					[{str:'5\\%',nb:5},{str:'25\\%',nb:25},{str:'55\\%',nb:55}],
					//[{str:'10\\%',nb:10},{str:'5\\%',nb:5},{str:'15\\%',nb:15}],
					//[{str:'50\\%',nb:50},{str:'30\\%',nb:30},{str:'10\\%',nb:10}],
				]);	
			};
			if (this.sup == 2) {//coeff décimal
				remises = choice([
					//[{str:'10\\%',nb:10},{str:'20\\%',nb:20},{str:'30\\%',nb:30}],					
					//[{str:'5\\%',nb:5},{str:'10\\%',nb:10},{str:'35\\%',nb:35}],
					[{str:'10\\%',nb:10},{str:'5\\%',nb:5},{str:'15\\%',nb:15}],
					[{str:'50\\%',nb:50},{str:'30\\%',nb:30},{str:'10\\%',nb:10}],
					[{str:'20\\%',nb:20},{str:'10\\%',nb:10},{str:'50\\%',nb:50}],
					[{str:'40\\%',nb:40},{str:'10\\%',nb:10},{str:'5\\%',nb:5}],
				]);	
			}

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
					tableau:tab_C_L([`\\text{Prix en euro}`,tex_prix(prix),tex_prix(prix),tex_prix(prix)],[`\\text{Remise en pourcentage}`,`\\text{Montant de la remise en euro}`,`\\text{Nouveau prix}`],[
						remises[0].str,remises[1].str,remises[2].str,
						tex_prix(prix*remises[0].nb/100),'','',
						tex_prix(prix-prix*remises[0].nb/100),'','',
					]),
					tableau_corr:tab_C_L([`\\text{Prix en euro}`,tex_prix(prix),tex_prix(prix),tex_prix(prix)],[`\\text{Remise en pourcentage}`,`\\text{Montant de la remise en euro}`,`\\text{Nouveau prix}`],[
						remises[0].str,remises[1].str,remises[2].str,
						tex_prix(prix*remises[0].nb/100),mise_en_evidence(`${tex_prix(prix*remises[0].nb/100)} \\times ${tex_nombre(remises[1].nb/remises[0].nb)} = ${tex_prix(prix*remises[1].nb/100)}`),mise_en_evidence(`${tex_prix(prix*remises[0].nb/100)} \\times ${tex_nombre(remises[2].nb/remises[0].nb)} = ${tex_prix(prix*remises[2].nb/100)}`),
						tex_prix(prix-prix*remises[0].nb/100),mise_en_evidence(`${tex_prix(prix)}-${tex_prix(prix*remises[1].nb/100)} = ${tex_prix(prix-prix*remises[1].nb/100)}`),mise_en_evidence(`${tex_prix(prix)}-${tex_prix(prix*remises[2].nb/100)} = ${tex_prix(prix-prix*remises[2].nb/100)}`),
					]),
				},	
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`					
					${situations[k].tableau}	
					`,
					question:``,
					correction:`
					L'énoncé indique le montant pour une remise de $${remises[0].str}$.
					<br>Or $${tex_nombre(remises[1].nb/remises[0].nb)} \\times ${remises[0].str} = ${remises[1].str}$.
					<br>Donc pour $${remises[1].str}$ le montant de la remise sera $${tex_nombre(remises[1].nb/remises[0].nb)}$ fois celui de la remise de $${remises[0].str}$, d'où le calul indiqué dans le tableau.
					<br><br>
					L'énoncé indique le montant pour une remise de $${remises[0].str}$.
					<br>Or $${tex_nombre(remises[2].nb/remises[0].nb)} \\times ${remises[0].str} = ${remises[2].str}$.
					<br>Donc pour $${remises[2].str}$ le montant de la remise sera $${tex_nombre(remises[2].nb/remises[0].nb)}$ fois celui de la remise de $${remises[0].str}$, d'où le calul indiqué dans le tableau.
					<br><br>${situations[k].tableau_corr}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : coefficient enttier\n2 : coefficient décimal"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/** 
 * * Traduire la dépendance entre deux grandeurs par un tableau de valeurs et produire une formule.
 * * 5L10-4
 * @author Sébastien Lozano
 */

function Tableaux_et_fonction(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Produire une formule à partir d'un tableau";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 2; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
			  type_de_questions_disponibles = [0];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let L1 = randint(3,7);
			let L2 = L1+1;
			let L3 = L2*2;
			let L4 = L2*3;

			let cote_inconnu = choice(['L']);	
			let cote_inconnu_corr;		
			let cote_inconnu_corr_num;	
			let cote_connu = randint(3,7);

			let unites;
			let grand_L;
			let grand_L_num;
			let petit_l;
			let petit_l_num;
			let unite_grand_L;
			let unite_petit_l; 
			let txt_corr;			
			if (this.sup == 1) {//même unités
				unites = choice([['cm','cm'],['m','m']]);
				grand_L = [`${L1}`,`${L2}`,`${L3}`,`${L4}`];
				grand_L_num = [`${L1}`,`${L2}`,`${L3}`,`${L4}`]; 
				petit_l = [`${cote_connu}`,``,``,``]; 
				petit_l_num = [`${cote_connu}`,``,``,``];
				unite_grand_L = unites[0];
				unite_petit_l = unites[1];
				cote_inconnu_corr  = cote_inconnu;
				cote_inconnu_corr_num =  `2`+cote_inconnu;
				txt_corr = `Les unités sont les mêmes il n'est donc pas necessaire de convertir.`;
			};
			if (this.sup == 2) {// unités différentes
				unites = choice([['cm','m'],['m','cm']]);
				if (unites[0]=='cm') {
					grand_L =[`${L1}`,`${L2}`,`${L3}`,`${L4}`];
					grand_L_num =[`${L1}`,`${L2}`,`${L3}`,`${L4}`];
					petit_l = [`${cote_connu}\\times 100`,``,``,``];					
					petit_l_num =[`${100*cote_connu}`,``,``,``]; 
					unite_grand_L = unites[0];
					unite_petit_l = unites[0];
					cote_inconnu_corr =  cote_inconnu;
					cote_inconnu_corr_num =  `2`+cote_inconnu;
					txt_corr = `Les unités sont différentes, pour plus de confort, nous pouvons les convertir dans la même unité, ici en cm.`;
				};
				if (unites[0]=='m') {					
					grand_L = [`${L1}\\times 100`,`${L2}\\times 100`,`${L3}\\times 100`,`${L4}\\times 100`];
					grand_L_num = [`${100*L1}`,`${100*L2}`,`${100*L3}`,`${100*L4}`];
					petit_l = [`${cote_connu}`,``,``,``];
					petit_l_num =[`${cote_connu}`,``,``,``]; 					
					unite_grand_L = unites[1];
					unite_petit_l = unites[1];
					cote_inconnu_corr = cote_inconnu+`\\times 100`;
					cote_inconnu_corr_num = `200`+cote_inconnu;
					
					txt_corr = `Les unités sont différentes, pour plus de confort, nous pouvons les convertir dans la même unité, ici en cm.`;
				};

			};			
			
			

			// on prépare la fenetre mathalea2d
			let fenetreMathalea2D = {xmin:-5,ymin:-3,xmax:5,ymax:3,pixelsParCm:20,scale:0.5}
			let A = point(-4,2);
			let B = point(-4,-2);
			let C = point(4,-2);
			let D = point(4,2);
			let mesAppels = [
				polygone(A,B,C,D),		
			];
			let figure = mathalea2d(
				fenetreMathalea2D,
				mesAppels
			);

			// une fonction pour moduler l'affichage d'une étape dans la correction
			function etapeCorrective(str,sup) {
				let sortie;
				if (sup == 1) {
					sortie = ``;
				};
				if (sup == 2) {
					sortie = str;
				};
				return sortie;

			};

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
					unites:unites,
					cote_connu:cote_connu,
					cote_inconnu:cote_inconnu,
					tableau:tab_C_L([`\\text{Longueur $${cote_inconnu}$ du côté (en ${unites[0]})}`,`\\phantom{000}${L1}\\phantom{000}`,`\\phantom{000}${L2}\\phantom{000}`,`\\phantom{000}${L3}\\phantom{000}`,`\\phantom{000}${L4}\\phantom{000}`],[`\\text{Périmètre du rectangle (en $${unites[1]}$)}`],
					['','','','']
					),
					calculL1:`Pour ${L1} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}$.`,
					calculL2:`Pour ${L2} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}$.`,
					calculL3:`Pour ${L3} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}$.`,
					calculL4:`Pour ${L4} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}$.`,
					tableau_corr:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en ${unite_grand_L})}`,`\\phantom{0}${grand_L[0]}\\phantom{0}`,`\\phantom{0}${grand_L[1]}\\phantom{0}`,`\\phantom{0}${grand_L[2]}\\phantom{0}`,`\\phantom{0}${grand_L[3]}\\phantom{0}`],
					[`\\text{Périmètre du rectangle (en ${unite_petit_l})}`],
					[
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}`,
					],
					),
					tableau_corr_p1:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en $${unite_grand_L}$)}`,`\\phantom{000}${grand_L[0]}\\phantom{000}`,`\\phantom{000}${grand_L[1]}\\phantom{000}`],//,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],
					[`\\text{Périmètre du rectangle (en ${unite_petit_l})}`],
					[
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[2]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[3]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} \\color{black}{ = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[3]} \\; \\text{${unite_grand_L}} = \\color{black}{${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}}`,
					],
					),
					tableau_corr_p2:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en $${unite_grand_L}$)}`,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],//,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],
					[`\\text{Périmètre du rectangle (en $${unite_petit_l}$)}`],
					[
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[0]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[1]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,
					],
					),
					secondeQ:`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${cote_inconnu} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${cote_inconnu_corr} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0])} + ${cote_inconnu_corr_num} \\; \\text{exprimé en ${unite_grand_L}}}`,
					intro:txt_corr,
					fig:figure,
				},	
			];

			let enonces = [];
			let i_sous_question=0;
			let i_sous_question_corr=0;

			for (let k=0;k<situations.length;k++) {
				enonces.push({					
					enonce:`
					On considère le rectangle ci-dessous dont l'un des côtés mesure $${situations[k].cote_connu}$ $${unites[1]}$ et l'autre mesure $${situations[k].cote_inconnu}$ $${unites[0]}$.<br>
					${situations[k].fig}<br>
					${num_alpha(i_sous_question++)} Compléter le tableau suivant :<br><br>
					${situations[k].tableau}<br><br>
					${num_alpha(i_sous_question++)} Quelle formule permet de calculer le périmètre de ce rectangle en fonction de $${situations[k].cote_inconnu}$ ?								
					`,
					question:``,
					correction:`
					${num_alpha(i_sous_question_corr++)} ${situations[k].intro}<br>
					Il y a plusieurs façons de calculer le périmètre d'un rectangle, par exemple : <br> $2\\times largeur + 2\\times Longueur$.<br>
					Ici l'un des côtés mesure toujours $\\textcolor{blue}{${petit_l[0]}}$ $${unite_petit_l}$<br>
					Calculons les périmètres pour chacune des valeurs données :<br>
					${situations[k].calculL1}<br>
					${situations[k].calculL2}<br>
					${situations[k].calculL3}<br>
					${situations[k].calculL4}<br>
					Nous pouvons alors remplir le tableau<br>
					${situations[k].tableau_corr}<br><br>
					${num_alpha(i_sous_question_corr++)} On peut généraliser le raisonnement des calculs du périmètre, et ainsi obtenir une formule.<br>
					$${situations[k].secondeQ}$

					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 					
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	

			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : les mêmes unités\n2 : unités différentes"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/**
* Effectuer des additions de relatifs dans un tableau à double entrée
*
* @Auteur Rémi Angot
* 5R20-5
*/
function Exercice_tableau_additions_relatifs (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Additions de deux entiers relatifs dans un tableau à double entrée"
	this.consigne = 'Calculer'
  	this.spacing = 1;
  	this.nb_questions = 1;
  	this.nb_questions_modifiable = false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_signes1 = combinaison_listes([-1,1],4);
    let liste_signes2 = combinaison_listes([-1,1],4);
    let a1 = randint(2,9);
    let a2 = randint(2,9,a1);
    let a3 = randint(2,9,[a1,a2]);
    let a4 = randint(2,9,[a1,a2,a3]);
    let b1 = randint(2,9);
    let b2 = randint(2,9,b1);
    let b3 = randint(2,9,[b1,b2]);
    let b4 = randint(2,9,[b1,b2,b3]);
    a1 *= liste_signes1[0]
    a2 *= liste_signes1[1]
    a3 *= liste_signes1[2]
    a4 *= liste_signes1[3]
    b1 *= liste_signes1[0]
    b2 *= liste_signes1[1]
    b3 *= liste_signes1[2]
    b4 *= liste_signes1[3]

    let texte = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    + & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} &  &  & &  \\\\
    \\hline
    ${ecriture_algebrique(b2)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b3)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b4)} & & & & \\\\
    \\hline
    \\end{array}$`

    let texte_corr = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    + & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} & ${ecriture_algebrique(a1+b1)} & ${ecriture_algebrique(a2+b1)} & ${ecriture_algebrique(a3+b1)} & ${ecriture_algebrique(a4+b1)} \\\\
    \\hline
    ${ecriture_algebrique(b2)} & ${ecriture_algebrique(a1+b2)} & ${ecriture_algebrique(a2+b2)} & ${ecriture_algebrique(a3+b2)} & ${ecriture_algebrique(a4+b2)} \\\\
    \\hline
    ${ecriture_algebrique(b3)} & ${ecriture_algebrique(a1+b3)} & ${ecriture_algebrique(a2+b3)} & ${ecriture_algebrique(a3+b3)} & ${ecriture_algebrique(a4+b3)} \\\\
    \\hline
    ${ecriture_algebrique(b4)} & ${ecriture_algebrique(a1+b4)} & ${ecriture_algebrique(a2+b4)} & ${ecriture_algebrique(a3+b4)} & ${ecriture_algebrique(a4+b4)} \\\\
    \\hline
	\\end{array}$`
	this.liste_questions.push(texte);
	this.liste_corrections.push(texte_corr);
	liste_de_question_to_contenu(this);
	}
}

/**
 * * Calcul de l'inverse d'un nombre.
 *
 * Paramétrages possibles :
 * * 1 : inverse d'un nombre entier
 * * 2 : inverse d'une fraction
 * * 3 : inverse d'un nombre décimal
 * * 4 : mélange des trois autres niveaux
 * @auteur Jean-Claude Lhote
 * 4C22-1
 */
function Exercice_trouver_l_inverse() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Trouver l'inverse d'un nombre";
  this.consigne =
    "Calculer l'inverse et donner la réponse sous forme décimale ou de fraction simplifiée quand c'est impossible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    let liste_entiers = [
      [1, 1],
      [2, 0.5],
      [3, 0],
      [4, 0.25],
      [5, 0.2],
      [6, 0],
      [7, 0],
      [8, 0.125],
      [9, 0],
      [10, 0.1],
      [11, 0],
      [12, 0],
      [13, 0],
      [14, 0],
      [15, 0],
      [20, 0.05],
      [50, 0.02],
      [100, 0.01],
    ];
    // [n,0] si l'inverse de n n'est pas décimal [n,1/n] si il est décimal.
    let liste_decimaux = [
      [0.1, 10, 1],
      [0.2, 5, 1],
      [0.3, 10, 3],
      [0.4, 10, 4],
      [0.5, 2, 1],
      [0.6, 10, 6],
      [0.75, 100, 75],
      [0.8, 10, 8],
      [1.2, 10, 12],
      [1.5, 10, 15],
      [2.5, 10, 25],
      [3.5, 10, 35],
      [4.8, 10, 48],
      [7.5, 10, 75],
    ];
    // [x,n,d] n/d = inverse de x fraction à réduire si besoin ... d=1 si l'inverse de x est entier.
    let liste_fractions = [
      [3, 4, false],
      [5, 2, true],
      [4, 5, true],
      [5, 7, true],
      [7, 3, false],
      [16, 6, true],
      [12, 18, true],
      [9, 4, false],
      [4, 6, true],
      [8, 7, true],
      [5, 9, true],
      [9, 7, false],
      [13, 6, false],
      [7, 2, false],
    ];
    // [n,d,bol] inverse d/n à simplifier si besoin. si bol = true, alors d/n est décimal.
    let liste_couples_d_inverses;
    let couples_d_inverses;
    if (this.sup == 4) {
      type_de_questions_disponibles = [1, 1, 2, 2, 3];
    } // nombre entier,fraction,décimal]
    else {
      type_de_questions_disponibles = [parseInt(this.sup)];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        nombre_choisi,
        nombre_inverse,
        nombre_inverse_num,
        nombre_inverse_den,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: //inverse d'entier
          couples_d_inverses = choice(liste_entiers);
          nombre_choisi = couples_d_inverses[0];
          nombre_inverse = couples_d_inverses[1];
          if (choice([true, false])) {
            // nombre entier positif
            if (nombre_inverse != 0) {
              //inverse décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $${tex_nombrec(
                nombre_inverse
              )} \\:$ car $\\: ${nombre_choisi}   \\times   ${tex_nombrec(
                nombre_inverse
              )} =  1$.`;
            } else {
              //inverse non décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $${tex_fraction(
                1,
                nombre_choisi
              )} \\:$ car $\\: ${nombre_choisi}   \\times   ${tex_fraction(
                1,
                nombre_choisi
              )} =  1$.`;
            }
          } else {
            //nombre entier négatif
            nombre_choisi = -nombre_choisi;
            if (nombre_inverse != 0) {
              //inverse décimal
              texte_corr = `L'inverse de $${nombre_choisi}$ est $${tex_nombrec(
                -nombre_inverse
              )} \\:$`;
              texte_corr += ` car $\\: ${nombre_choisi}  \\times  \\left(-${tex_nombrec(
                nombre_inverse
              )}\\right)  =  1$.`;
            } else {
              //inverse non décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $-${tex_fraction(
                1,
                -nombre_choisi
              )} \\:$ car $\\: ${nombre_choisi}   \\times   \\left(-${tex_fraction(
                1,
                -nombre_choisi
              )}\\right) =  1$.`;
            }
          }
          texte = `Quel est l'inverse de $${tex_nombrec(nombre_choisi)}$ ?`;
          break;
        case 2:
          couples_d_inverses = choice(liste_decimaux);
          nombre_choisi = couples_d_inverses[0];
          nombre_inverse_num = couples_d_inverses[1];
          nombre_inverse_den = couples_d_inverses[2];
          if (choice([true, false])) {
            // nombre positif
            if (pgcd(nombre_inverse_num, nombre_inverse_den) == 1) {
              //non simplifiable après inversion
              texte_corr = `Comme $${tex_nombrec(nombre_choisi)}=${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}   \\times   ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} =  1$.`;
            } else {
              // à simplifier après inversion
              texte_corr = `Comme $${tex_nombrec(nombre_choisi)}=${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}  \\times   ${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} =  1$.`;
            }
          } else {
            // nombre négatif
            nombre_choisi = -nombre_choisi;
            if (pgcd(nombre_inverse_num, nombre_inverse_den) == 1) {
              //non simplifiable après inversion
              texte_corr = `L'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_nombrec(
                nombre_choisi
              )}   \\times   \\left(-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}\\right) =  1$.`;
              texte_corr = `Comme $${tex_nombrec(
                nombre_choisi
              )}=-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}\\right) =  1$.`;
            } else {
              // à simplifier après inversion
              texte_corr = `Comme $${tex_nombrec(
                nombre_choisi
              )}=-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=-${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: -${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}  \\times  \\left(- ${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\right)=  1$.`;
            }
          }
          texte = `Quel est l'inverse de $${tex_nombrec(nombre_choisi)}$ ?`;
          break;
        case 3:
          couples_d_inverses = choice(liste_fractions);
          nombre_inverse_num = couples_d_inverses[0];
          nombre_inverse_den = couples_d_inverses[1];
          if (choice([true, false])) {
            // fraction positive
            if (couples_d_inverses[2] == true) {
              // inverse décimal
              texte_corr = `L'inverse de $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=${tex_nombrec(
                nombre_inverse_den / nombre_inverse_num
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times   ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} =  1$.`;
            } else {
              // inverse non décimal
              texte_corr = `L'inverse de $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times   ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} =  1$.`;
            }
            texte = `Quel est l'inverse de $${tex_fraction(
              nombre_inverse_num,
              nombre_inverse_den
            )}$ ?`;
          } else {
            // fraction négative
            if (couples_d_inverses[2] == true) {
              // inverse décimal
              texte_corr = `L'inverse de $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=-${tex_nombrec(
                nombre_inverse_den / nombre_inverse_num
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}\\right) =  1$.`;
            } else {
              // inverse non décimal
              texte_corr = `L'inverse de $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\right)=  1$.`;
            }
            texte = `Quel est l'inverse de $-${tex_fraction(
              nombre_inverse_num,
              nombre_inverse_den
            )}$ ?`;
          }

          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Nombres entiers\n 2 : Fractions\n 3 : Nombres décimaux\n 4 : Mélange des 3 niveaux",
  ];
}

/**
 * Exercice de calcul de produit de deux fractions.
 *
 * Paramétrages possibles :
 * * 1 : Produits de nombres positifs seulement
 * * 2 : deux questions niveau 1 puis deux questions niveau 3
 * * 3 : Produits de nombres relatifs
 * * Si décomposition cochée : les nombres utilisés sont plus importants.
 * @auteur Jean-Claude Lhote
 * 4C22
 */
function Exercice_multiplier_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Mutliplier des fractions";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;
  this.sup2 = false; //méthode
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    liste_fractions = obtenir_liste_fractions_irreductibles();

    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 2, 2, 2];
    } // 1*nombre entier,3*fraction (pas de négatifs)
    else if (this.sup == 2) {
      type_de_questions_disponibles = [2, 2, 3, 3];
    } // fractions, 2*positifs, 2*relatifs
    else {
      type_de_questions_disponibles = [3];
    }
    let nombre_de_signe_moins;
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        a,
        b,
        c,
        d,
        p,
        aa,
        bb,
        cc,
        dd,
        signe,
        numerateur,
        denominateur,
        index,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];
      if (this.sup2 == false) {
        // methode 1 : simplifications finale
        switch (type_de_questions) {
          case 1: // entier * fraction (tout positif)
            if (a == 1) {
              a = randint(2, 9);
            }
            if (a == c) {
              a = a + 1;
            }
            texte = `$${tex_fraction(a, 1)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, 1)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=\\dfrac{${a}}{1}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              "1\\times" + d
            )}$`;
            texte_corr += `$=${tex_fraction(a * c, d)}$`;
            if (pgcd(a * c, d) != 1) {
              texte_corr += `$=${tex_fraction_reduite(a * c, d)}$`;
            }
            break;

          case 2: // fraction * fraction tout positif
            p = pgcd(a * c, b * d);
            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              b + "\\times" + d
            )}$`;
            texte_corr += `$=${tex_fraction(a * c, b * d)}$`;
            if (p != 1) {
              texte_corr += `$=${tex_fraction(
                (a * c) / p + "\\times\\cancel{" + p + "}",
                (b * d) / p + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${tex_fraction((a * c) / p, (b * d) / p)}$`;
            }
            break;

          case 3:
            a = a * randint(-1, 1, [0]);
            b = b * randint(-1, 1, [0]);
            c = c * randint(-1, 1, [0]);
            d = d * randint(-1, 1, [0]);
            nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
            if (Math.pow(-1, nombre_de_signe_moins) == 1) {
              signe = "";
            } else {
              signe = "-";
            }

            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            aa = abs(a);
            bb = abs(b);
            cc = abs(c);
            dd = abs(d);
            p = pgcd(aa * cc, bb * dd);
            texte_corr += `$=${signe}${tex_fraction(
              aa,
              bb
            )}\\times${tex_fraction(cc, dd)}$`;
            texte_corr += `$=${signe}${tex_fraction(
              aa + "\\times" + cc,
              bb + "\\times" + dd
            )}$`;
            if (p == 1) {
              texte_corr += `$=${signe}${tex_fraction(aa * cc, bb * dd)}$`;
            } else {
              texte_corr += `$=${signe}${tex_fraction(aa * cc, bb * dd)}$`;
              if (aa * cc != bb * dd) {
                texte_corr += `$=${signe}${tex_fraction(
                  (aa * cc) / p + "\\times\\cancel{" + p + "}",
                  (bb * dd) / p + "\\times\\cancel{" + p + "}"
                )}$`;
                texte_corr += `$=${signe}${tex_fraction(
                  (aa * cc) / p,
                  (bb * dd) / p
                )}$`;
              } else {
                texte_corr += `$=${signe}1$`;
              }
            }
            break;
        }
      } else {
        //méthode 2 : décomposition
        if (a == c) {
          a++;
        }
        aa = obtenir_liste_nombres_premiers()[randint(1, 5)];
        bb = obtenir_liste_nombres_premiers()[randint(1, 5, [aa])];
        a = a * aa;
        d = d * aa;
        b = b * bb;
        c = c * bb;

        var listea = obtenir_liste_facteurs_premiers(a);
        var listeb = obtenir_liste_facteurs_premiers(b);
        var listec = obtenir_liste_facteurs_premiers(c);
        var listed = obtenir_liste_facteurs_premiers(d);
        var listeavf, listebvf;

        switch (type_de_questions) {
          case 1: // entier * fraction (tout positif)
            texte = `$${a}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${a}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(a + "\\times" + c, d)}$`;
            texte_corr += `$=${tex_fraction(
              decomposition_facteurs_premiers(a) +
                "\\times" +
                decomposition_facteurs_premiers(c),
              decomposition_facteurs_premiers(d)
            )}$`;
            // texte_corr += `$=${tex_fraction(decomposition_facteurs_premiers(a * c), decomposition_facteurs_premiers(d))}$`
            for (let k in listec) {
              listea.push(listec[k]);
            }
            listeb = listed;
            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${tex_fraction(a, b)}$`;
            break;

          case 2: // fraction * fraction tout positif
            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              b + "\\times" + d
            )}$`;

            for (let k in listec) {
              listea.push(listec[k]);
            }
            for (let k in listed) {
              listeb.push(listed[k]);
            }

            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${tex_fraction(a, b)}$`;
            break;

          case 3:
            a = a * randint(-1, 1, [0]);
            b = b * randint(-1, 1, [0]);
            c = c * randint(-1, 1, [0]);
            d = d * randint(-1, 1, [0]);
            nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
            if (Math.pow(-1, nombre_de_signe_moins) == 1) {
              signe = "";
            } else {
              signe = "-";
            }

            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            aa = abs(a);
            bb = abs(b);
            cc = abs(c);
            dd = abs(d);

            texte_corr += `$=${signe}${tex_fraction(
              aa,
              bb
            )}\\times${tex_fraction(cc, dd)}$`;
            texte_corr += `$=${signe}${tex_fraction(
              aa + "\\times" + cc,
              bb + "\\times" + dd
            )}$`;

            for (let k in listec) {
              listea.push(listec[k]);
            }
            for (let k in listed) {
              listeb.push(listed[k]);
            }

            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=${signe}\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${signe}${tex_fraction(a, b)}$`;
            break;
        }
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Fractions à numérateurs et dénominateurs positifs \n 2 : Type 1 et type 3 pour 50%/50%\n 3 : Ecritures fractionnaires à numérateur et dénominateur entiers relatifs",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec décomposition"];
}

/**
 * Calcul du quotient de deux fractions. Paramétrages possibles :
 * * 1 : Nombres positifs exclusivement
 * * 2 : nombres relatifs
 * @auteur Jean-Claude Lhote
 * 4C22-2
 */
function Exercice_diviser_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Diviser des fractions";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = obtenir_liste_fractions_irreductibles();

    let type_de_questions_disponibles;
    type_de_questions_disponibles = [parseInt(this.sup)];
    let nombre_de_signe_moins;
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        a,
        b,
        c,
        d,
        p,
        signe,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];

      p = pgcd(a * d, b * c);

      switch (type_de_questions) {
        //	case 0 : // entier * fraction (tout positif)
        //		texte=`$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=$`;
        //		if (pgcd(a*d,c)==1) {
        //			texte_corr= `$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=${tex_fraction(a,1)}\\times${tex_fraction(d,c)}=\\dfrac{${a}}{1}\\times${tex_fraction(d,c)}=${tex_fraction(a +'\\times'+d,'1\\times'+c)}=${tex_fraction(a*d,c)}$`
        //		}
        //		else {
        //			texte_corr= `$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=${tex_fraction(a,1)}\\times${tex_fraction(d,c)}=${tex_fraction(a*d,c)}=${tex_fraction_reduite(a*d,c)}$`
        //		}
        //		break
        //
        case 1: // fraction * fraction tout positif
          texte = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}=$`;
          if (p == 1) {
            texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(
              c,
              d
            )}=${tex_fraction(a, b)}\\times${tex_fraction(d, c)}=${tex_fraction(
              a + "\\times" + d,
              b + "\\times" + c
            )}=${tex_fraction(a * d, b * c)}$`;
          } else {
            texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(
              c,
              d
            )}=${tex_fraction(a, b)}\\times${tex_fraction(d, c)}=${tex_fraction(
              a + "\\times" + d,
              b + "\\times" + c
            )}=${tex_fraction(a * d, b * c)}=${tex_fraction(
              (a * d) / p + "\\times\\cancel{" + p + "}",
              (b * c) / p + "\\times\\cancel{" + p + "}"
            )}=${tex_fraction((a * d) / p, (b * c) / p)}$`;
          }
          break;

        case 2:
          a = a * randint(-1, 1, [0]);
          b = b * randint(-1, 1, [0]);
          c = c * randint(-1, 1, [0]);
          d = d * randint(-1, 1, [0]);
          nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
          if (Math.pow(-1, nombre_de_signe_moins) == 1) {
            signe = "";
          } else {
            signe = "-";
          }
          texte = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}=$`;
          texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}$`;
          a = abs(a);
          b = abs(b);
          c = abs(c);
          d = abs(d);
          p = pgcd(a * d, b * c);
          texte_corr += `$=${signe}${tex_fraction(a, b)}\\times${tex_fraction(
            d,
            c
          )}$`;
          texte_corr += `$=${signe}${tex_fraction(
            a + "\\times" + ecriture_parenthese_si_negatif(d),
            b + "\\times" + ecriture_parenthese_si_negatif(c)
          )}$`;
          if (p == 1) {
            texte_corr += `$=${signe}${tex_fraction_signe(a * d, b * c)}$`;
          } else {
            texte_corr += `$=${signe}${tex_fraction(a * d, b * c)}$`;
            if (a * d != b * c) {
              texte_corr += `$=${signe}${tex_fraction(
                (a * d) / p + "\\times\\cancel{" + p + "}",
                (b * c) / p + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${signe}${tex_fraction(
                (a * d) / p,
                (b * c) / p
              )}$`;
            } else {
              texte_corr += `$=${signe}1$`;
            }
          }
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }

      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Fractions à numérateur et dénominateur positifs \n 2 : Fractions à numérateur et dénominateur relatifs",
  ];
}

/**
 * * Calcul fractionnaire : somme d'une fraction et du produit de deux autres fractions. Paramétrages possibles :
 * 1 : Calcul avec nombres positifs sans piège de priorité
 * * 2 : Calcul avec nombres positifs avec piège
 * * 3 : Calcul avec nombres relatifs
 * @auteur Jean-Claude Lhote
 * 4C23
 */
function Exercice_additionner_fraction_produit() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Fractions et priorités opératoires";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    liste_fractions = obtenir_liste_fractions_irreductibles();
    let nombre_de_signe_moins;
    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 1, 2, 2];
    } // 1*nombre entier,3*fraction (pas de négatifs)
    else if (this.sup == 2) {
      type_de_questions_disponibles = [2, 2, 3, 3];
    } // fractions, 2*positifs, 2*relatifs
    else {
      type_de_questions_disponibles = [3];
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        ef,
        a,
        b,
        c,
        d,
        e,
        f,
        p,
        k1,
        k2,
        signe1,
        signe2,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      ef = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];
      e = ef[0];
      f = ef[1];

      switch (type_de_questions) {
        case 1: // sans piège fraction1 + fraction2 x fraction3 (tout positif)
          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          p = pgcd(c * e, d * f);
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c + "\\times" + e,
            d + "\\times" + f
          )}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c * e,
            d * f
          )}$`;
          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(b, d); // p = dénominateur commun
          k1 = p / b;
          k2 = p / d;
          if (k1 != 1) {
            texte_corr += `$=${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}$`;
          } else {
            texte_corr += `$=${tex_fraction(a, b)}$`;
          }
          if (k2 != 1) {
            texte_corr += `$+${tex_fraction(
              c + mise_en_evidence("\\times" + k2),
              d + mise_en_evidence("\\times" + k2)
            )}$`;
          } else {
            texte_corr += `$+${tex_fraction(c, d)}$`;
          }

          texte_corr += `$=${tex_fraction(a * k1, p)}+${tex_fraction(
            c * k2,
            p
          )}$`;
          e = a * k1 + c * k2;
          f = p;
          texte_corr += `$=${tex_fraction(e, f)}$`;
          p = pgcd(e, f);
          // faut-il simplifier e/f
          if (p != 1) {
            texte_corr += `$=${tex_fraction(
              e / p + "\\times\\cancel{" + p + "}",
              f / p + "\\times\\cancel{" + p + "}"
            )}$`;
            texte_corr += `$=${tex_fraction_reduite(e / p, f / p)}$`;
          }

          break;

        case 2: // avec piege addition non prioritaire fraction1 + fraction2 * fraction3 tout positif
          d = b;

          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          p = pgcd(c * e, d * f);
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c + "\\times" + e,
            d + "\\times" + f
          )}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c * e,
            d * f
          )}$`;

          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(b, d); //denominateur commun = p
          k1 = p / b;
          k2 = p / d;
          if (k1 != 1) {
            texte_corr += `$=${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}$`;
          } else {
            texte_corr += `$=${tex_fraction(a, b)}$`;
          }
          if (k2 != 1) {
            texte_corr += `$+${tex_fraction(
              c + "\\times" + k2,
              d + "\\times" + k2
            )}$`;
          } else {
            texte_corr += `$+${tex_fraction(c, d)}$`;
          }
          texte_corr += `$=${tex_fraction(a * k1, b * k1)}+${tex_fraction(
            c * k2,
            d * k2
          )}=${tex_fraction(a * k1 + c * k2, p)}$`;
          e = a * k1 + c * k2;
          f = p;
          texte_corr += `$=${tex_fraction(e, f)}$`;
          p = pgcd(e, f);
          // faut-il simplifier e/f
          if (p != 1) {
            texte_corr += `$=${tex_fraction(
              e / p + "\\times\\cancel{" + p + "}",
              f / p + "\\times\\cancel{" + p + "}"
            )}$`;
            texte_corr += `$=${tex_fraction_reduite(e / p, f / p)}$`;
          }

          break;

        case 3:
          a = a * randint(-1, 1, [0]);
          b = b * randint(-1, 1, [0]);
          c = c * randint(-1, 1, [0]);
          d = d * randint(-1, 1, [0]);
          e = e * randint(-1, 1, [0]);
          f = f * randint(-1, 1, [0]);

          nombre_de_signe_moins = (c < 0) + (d < 0) + (e < 0) + (f < 0);
          if (Math.pow(-1, nombre_de_signe_moins) == 1) {
            signe2 = "+";
          } else {
            signe2 = "-";
          }
          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}=$`;
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          c = abs(c); // gestion du signe du produit avec {signe}
          d = abs(d);
          e = abs(e);
          f = abs(f);

          if (a * b > 0) {
            //suppression des signes - superflus de la première fraction

            signe1 = "";
          } else {
            signe1 = "-";
          }

          a = abs(a);
          b = abs(b);

          texte_corr += `$=${signe1}${tex_fraction(
            a,
            b
          )}${signe2}${tex_fraction(c + "\\times" + e, d + "\\times" + f)}$`;
          texte_corr += `$=${signe1}${tex_fraction(
            a,
            b
          )}${signe2}${tex_fraction(c * e, d * f)}$`;

          p = pgcd(c * e, d * f);
          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${signe1}${tex_fraction(
              a,
              b
            )}${signe2}${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(d, b); // mise au même dénominateur
          if (d % b != 0 && b % d != 0) {
            // dénominateur commun = p
            k1 = p / b;
            k2 = p / d;
            texte_corr += `$=${signe1}${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}${signe2}${tex_fraction(
              c + mise_en_evidence("\\times" + k2),
              d + mise_en_evidence("\\times" + k2)
            )}$`;
            texte_corr += `$=${signe1}${tex_fraction(
              a * k1,
              b * k1
            )}${signe2}${tex_fraction(c * k2, d * k2)}$`;
            texte_corr += `$=${tex_fraction(
              signe1 + a * k1 + signe2 + c * k2,
              b * k1
            )}$`;
            a = a * k1;
            c = c * k2;
            d = p;
          } else {
            if (p == d) {
              k1 = d / b; // d = dénominateur commun
              texte_corr += `$=${signe1}${tex_fraction(
                a + mise_en_evidence("\\times" + k1),
                b + mise_en_evidence("\\times" + k1)
              )}${signe2}${tex_fraction(c, d)}$`;
              texte_corr += `$=${signe1}${tex_fraction(
                a * k1,
                d
              )}${signe2}${tex_fraction(c, d)}$`;
              texte_corr += `$=${tex_fraction(
                signe1 + a * k1 + signe2 + c,
                d
              )}$`;
              a = a * k1;
            } else {
              // b=k2*d
              k2 = b / d; // b= dénominateur commun
              texte_corr += `$=${signe1}${tex_fraction(
                a,
                b
              )}${signe2}${tex_fraction(
                c + mise_en_evidence("\\times" + k2),
                d + mise_en_evidence("\\times" + k2)
              )}$`;
              texte_corr += `$=${signe1}${tex_fraction(
                a,
                b
              )}${signe2}${tex_fraction(c * k2, b)}$`;
              texte_corr += `$=${tex_fraction(
                signe1 + a + signe2 + c * k2,
                b
              )}$`;
              c = c * k2;
              d = d * k2;
            }
          }

          if (a != c) {
            e = 0;
            if (signe1 == "") {
              e = a;
            } else {
              e = -a;
            }
            if (signe2 == "+") {
              e += c;
            } else {
              e = e - c;
            }
          } else {
            if (
              (signe1 == "-" && signe2 == "+") ||
              (signe1 == "" && signe2 == "-")
            ) {
              e = 0;
            } else {
              e = 0;
              if (signe1 == "") {
                e = a + c;
              } else {
                e = -a - c;
              }
            }
          }

          texte_corr += `$=${tex_fraction_signe(e, d)}$`;
          p = pgcd(abs(e), d);
          if (p != 1) {
            f = d / p;
            e = e / p;
            if (e > 0) {
              // fraction positive => pas de signe
              texte_corr += `$=${tex_fraction(
                e + "\\times\\cancel{" + p + "}",
                f + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${tex_fraction(e, f)}$`;
            } else {
              // numérateur négatif => signe - devant les fractions suivantes.
              texte_corr += `$=-${tex_fraction(
                -e + "\\times\\cancel{" + p + "}",
                f + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=-${tex_fraction(-e, f)}$`;
            }
          }

          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : nombres positifs sans piège de priorité\n 2 : 2 calculs avec positifs et piège de priorité et 2 calculs avec relatifs\n 3 : calculs avec relatifs",
  ];
}

/**
 * Donner l'opposé d'une expression.
 *
 *
 * @Auteur Rémi Angot
 * 3L10
 */
function Oppose_expression() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Donner l'opposé d'une expression";
  this.consigne = "Développer et réduire les expressions suivantes.";
  this.spacing = 1;
  this.nb_questions = 6;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = ["-(ax+b)", "-(ax2+bx+c)"];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, c, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      c = randint(-11, 11, 0);
      a = randint(-9, 9, 0);
      b = randint(-9, 9, 0);
      switch (liste_type_de_questions[i]) {
        case "-(ax+b)":
          texte = `$${lettre_depuis_chiffre(i + 1)}=-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = texte;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${-a}*x+(${-b})`)}$`;
          break;
        case "-(ax2+bx+c)":
          texte = `$${lettre_depuis_chiffre(i + 1)}=-(${printlatex(
            `${a}x^2+(${b})x+(${c})`
          )})$`;
          texte_corr = texte;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${-a}x^2+(${-b})x+(${-c})`)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  // this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif']
}

/**
 * Développer et réduire des expressions avec des parenthèses précédées d'un signe + ou -
 *
 *
 * @Auteur Rémi Angot
 * 3L10-1
 */
function Parentheses_precedes_de_moins_ou_plus() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additionner ou soustraire une expression entre parenthèses";
  this.consigne = "Développer et réduire les expressions suivantes.";
  this.spacing = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = ["a-()", "a+()"];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, k, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      k = randint(-11, 11, 0);
      a = randint(-9, 9, 0);
      b = randint(-9, 9, 0);
      switch (liste_type_de_questions[i]) {
        case "a-()":
          // k-(ax+b)
          texte = `$${lettre_depuis_chiffre(i + 1)}=${k}-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = `$${lettre_depuis_chiffre(i + 1)}=${k}-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${k}+(${-a}*x)+(${-b})`)}=${printlatex(
            `${-a}*x+(${k - b})`
          )}$`;
          break;
        case "a+()":
          // k-(ax+b)
          texte = `$${lettre_depuis_chiffre(i + 1)}=${k}+(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = `$${lettre_depuis_chiffre(i + 1)}=${k}+(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${k}+(${a}*x)+(${b})`)}=${printlatex(
            `${a}*x+(${k + b})`
          )}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  // this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif']
}

/**
 * Développer en utilisant la distributivité simple
 *
 * * La lettre peut être x, y, z, t, a, b ou c
 * * 3 fois sur 6 c'est une distributivité simple :  k(ax+b)
 * * 1 fois sur 6 c'est une distributivité simple : (ax+b)×k
 * * 1 fois sur 6, la variable est en facteur : kx(ax+b)
 * * 1 fois sur 6 il faut ensuite réduire : k(ax+b)+c
 *
 * Niveau de difficulté :
 * * 1 : Multiplication par un facteur positif
 * * 2: Multiplication par un facteur relatif
 * @Auteur Rémi Angot
 * 4L10 et 3L11
 */
function Exercice_developper(difficulte = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = difficulte;
  this.titre = "Utiliser la simple distributivité";
  this.consigne = "Développer.";
  this.spacing = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let lettre = ["x", "y", "z", "t", "a", "b", "c"];
    let type_de_questions_disponibles = [
      "simple",
      "simple",
      "simple2",
      "x_en_facteur",
      "developper_et_reduire",
    ];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      let k = randint(2, 11);
      if (this.sup > 1) {
        // si difficulté 2, k peut être négatif
        k = k * choice([-1, 1]);
      }
      let a = randint(1, 9);
      let b = randint(1, 9) * choice([-1, 1]);
      let inconnue = choice(lettre);
      switch (type_de_questions) {
        case "simple":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})=${k}
						\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})=${k}
						\\times ${a}${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          }
          break;
        case "simple2":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${a}${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}=${k}
						\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${a}${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}=${k}
						\\times ${a}${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          }
          break;
        case "x_en_facteur":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${inconnue}${ecriture_algebrique(b)})$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(b)})$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${inconnue}${ecriture_algebrique(
              b
            )})=${k}${inconnue}\\times ${inconnue} ${signe(
              k * b
            )}${k}${inconnue}\\times ${abs(b)}=${
              k * a
            }${inconnue}^2${ecriture_algebrique(k * b)}${inconnue}$`;
          } else {
            if (k > 0) {
              texte_corr = `$${lettre_depuis_chiffre(
                i + 1
              )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(
                b
              )})=${k}${inconnue}\\times ${a}${inconnue} + ${k}${inconnue}\\times ${ecriture_parenthese_si_negatif(
                b
              )}=${k * a}${inconnue}^2${ecriture_algebrique(
                k * b
              )}${inconnue}$`;
            } else {
              texte_corr = `$${lettre_depuis_chiffre(
                i + 1
              )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(
                b
              )})=${k}${inconnue}\\times ${a}${inconnue} + (${k}${inconnue})\\times ${ecriture_parenthese_si_negatif(
                b
              )}=${k * a}${inconnue}^2${ecriture_algebrique(
                k * b
              )}${inconnue}$`;
            }
          }
          break;
        case "developper_et_reduire":
          let c = randint(2, 9);
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})+${c}$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})+${c}$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(
              b
            )})+${c}=${k}\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}+${c}
						=${k * a}${inconnue}${ecriture_algebrique(k * b)}+${c}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b + c)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(
              b
            )})+${c}=${k}\\times${ecriture_parenthese_si_moins(
              a + inconnue
            )}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}+${c}
						=${k * a}${inconnue}${ecriture_algebrique(k * b)}+${c}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b + c)}$`;
          }
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif",
  ];
}

/**
 * Équation du premier degré
 * * Type 1 : x+a=b ou ax=b
 * * Type 2 : ax+b=c
 * * Type 3 : ax+b=cx+d
 * * Tous les types
 * @Auteur Rémi Angot
 * 4L20 et 3L13
 */
function Exercice_equation1() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Équation du premier degré";
  this.consigne = "Résoudre les équations suivantes";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.correction_detaillee_disponible = true;
  if (!sortie_html) {
    this.correction_detaillee = false;
  }
  this.sup = true; // Avec des nombres relatifs
  this.sup2 = 4; // Choix du type d'équation
  this.nb_questions = 6;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    switch (this.sup2.toString()) {
      case "1":
        liste_type_de_questions = ["ax=b", "x+b=c"];
        break;
      case "2":
        liste_type_de_questions = ["ax+b=c"];
        break;
      case "3":
        liste_type_de_questions = ["ax+b=cx+d"];
        break;
      default:
        liste_type_de_questions = [
          "ax+b=0",
          "ax+b=c",
          "ax=b",
          "x+b=c",
          "ax+b=cx+d",
        ];
        break;
    }
    liste_type_de_questions = combinaison_listes(
      liste_type_de_questions,
      this.nb_questions
    );
    for (
      let i = 0, a, b, c, d, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      a = randint(2, 13);
      b = randint(1, 13);
      c = randint(1, 13);
      d = randint(1, 13);
      if (this.sup) {
        a *= choice([-1, 1]);
        b *= choice([-1, 1]);
        c *= choice([-1, 1]);
        d *= choice([-1, 1]);
      }
      if (
        liste_type_de_questions[i] == "ax+b=0" ||
        liste_type_de_questions[i] == "ax+b=c"
      ) {
        if (liste_type_de_questions[i] == "ax+b=0") {
          c = 0;
        }
        if (!this.sup && c < b) {
          b = randint(1, 9);
          c = randint(b, 15); // c sera plus grand que b pour que c-b>0
        }
        texte = `$${a}x${ecriture_algebrique(b)}=${c}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${a}x${ecriture_algebrique(b)}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${c}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$${a}x=${c - b}$<br>`;
        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a}$.<br>`;
        }
        texte_corr += `$${a}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a)
        )}=${
          c - b + mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(c - b, a)}$`;
        if (pgcd(abs(a), abs(c - b)) > 1 || a < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(c - b, a)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(
          c - b,
          a
        )}$.`;
      }
      if (liste_type_de_questions[i] == "x+b=c") {
        if (!this.sup && c < b) {
          b = randint(-9, 9, [0]); // b peut être négatif, ça sera une équation du type x-b=c
          c = abs(randint(b, 15)); // c sera plus grand que b pour que c-b>0
        }
        texte = `$x${ecriture_algebrique(b)}=${c}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$x${ecriture_algebrique(b)}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${c}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$x=${c - b}$`;
        texte_corr += `<br> La solution est $${c - b}$.`;
      }
      if (liste_type_de_questions[i] == "ax=b") {
        texte = `$${a}x=${b}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a}$.<br>`;
        }
        texte_corr += `$${a}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a)
        )}=${
          b + mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(b, a)}$`;
        if (pgcd(abs(a), abs(b)) > 1 || a < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(b, a)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(b, a)}$.`;
      }
      if (liste_type_de_questions[i] == "ax+b=cx+d") {
        if (c == a) {
          c = randint(1, 13, [a]);
        } // sinon on arrive à une division par 0
        if (!this.sup && a < c) {
          c = randint(1, 9);
          a = randint(c + 1, 15); // a sera plus grand que c pour que a-c>0
        }
        if (!this.sup && d < b) {
          b = randint(1, 9);
          d = randint(b + 1, 15); // d sera plus grand que b pour que d-b>0
        }
        texte = `$${rien_si_1(a)}x${ecriture_algebrique(b)}=${rien_si_1(
          c
        )}x${ecriture_algebrique(d)}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (c > 0) {
            texte_corr += `On soustrait $${rien_si_1(
              c
            )}x$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${rien_si_1(
              -1 * c
            )}x$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${rien_si_1(a)}x${ecriture_algebrique(
          b
        )}${mise_en_evidence(
          signe(-1 * c) + rien_si_1(abs(c)) + "x"
        )}=${c}x${ecriture_algebrique(d)}${mise_en_evidence(
          signe(-1 * c) + rien_si_1(abs(c)) + "x"
        )}$<br>`;
        texte_corr += `$${rien_si_1(a - c)}x${ecriture_algebrique(
          b
        )}=${d}$<br>`;
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${rien_si_1(a - c)}x${ecriture_algebrique(
          b
        )}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${d}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$${rien_si_1(a - c)}x=${d - b}$<br>`;

        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a - c}$.<br>`;
        }
        texte_corr += `$${rien_si_1(a - c)}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a - c)
        )}=${
          d -
          b +
          mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a - c))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(d - b, a - c)}$`;
        if (pgcd(abs(d - b), abs(a - c)) > 1 || a - c < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(d - b, a - c)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(
          d - b,
          a - c
        )}$.`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte); //replace(/1x/g,'x')); //remplace 1x par x
        this.liste_corrections.push(texte_corr); //.replace(/1x/g,'x')); //remplace 1x par x
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_case_a_cocher = ["Avec des nombres relatifs"];
  this.besoin_formulaire2_numerique = [
    "Type d'équations",
    4,
    "1 : ax=b ou x+a=b ou x-a=b\n2: ax+b=c\n3: ax+b=cx+d\n4: Les 2 types précédents",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 3G20
 */
function Exercice_Thales() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer une longueur avec la propriété de Thales";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 1);
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.quatrieme = false;
  this.sup = 1; // 1 calcul direct | 2 calcul en deux étapes | 3 version 1&2 sans figure
  this.liste_packages = "tkz-euclide";
  // paramètres communs Html ou Latex

  // let s1='A',s2='B',s3='C',s4='M',s5='N'
  // coefficient de l'homothétie compris entre -0,8 et -0,2 ou entre 0,2 et 0,8 pour éviter les constructions trop serrées
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = [];
    this.liste_corrections = [];
    let lettre1 = randint(1, 26); // aleatoirisation du nom des points
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(1, 26, [lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let lettre3 = randint(1, 26, [lettre1, lettre2]);
    let s3 = lettre_depuis_chiffre(lettre3);
    let lettre4 = randint(1, 26, [lettre1, lettre2, lettre3]);
    let s4 = lettre_depuis_chiffre(lettre4);
    let lettre5 = randint(1, 26, [lettre1, lettre2, lettre3, lettre4]);
    let s5 = lettre_depuis_chiffre(lettre5);
    let x2 = randint(2, 4);
    let y2 = randint(3, 5);
    let x3 = randint(5, 6);
    let y3 = randint(-2, 1);
    let k = (randint(2, 8) * randint(-1, 1, [0])) / 10;
    if (this.quatrieme) {
      k = abs(k);
    }
    let dist23 = arrondi(Math.sqrt((x3 - x2) ** 2 + (y3 - y2) ** 2), 1); //calcul des longueurs du triangle principal
    let dist12 = arrondi(Math.sqrt(x2 ** 2 + y2 ** 2), 1);
    let dist13 = arrondi(Math.sqrt(x3 ** 2 + y3 ** 2), 1);
    let dist15 = arrondi(dist13 * abs(k), 2);
    let dist45 = arrondi(dist23 * abs(k), 2);
    let dist35, texte, texte_corr;
    let dist14 = arrondi(dist12 * abs(k), 2); // calcul des longueurs demandées à partir

    // On ne garde qu'une approximation au dixième pour l'exercice

    let s45 = tex_nombrec(dist45); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s13 = tex_nombrec(dist13);
    let s12 = tex_nombrec(dist12);
    let s15 = tex_nombrec(dist15);
    let s14 = tex_nombrec(dist14);
    let s23 = tex_nombrec(dist23);
    if (k < 0) {
      dist35 = dist13 + dist15;
    } else {
      dist35 = dist13 - dist15;
    } // calcul de la longueur intermédiaire dans un cas classique ou en papillon
    let s35 = tex_nombrec(dist35); // à priori, c'est déjà arrondi au dixième, mais je me méfie des calculs flottants en js
    let niv_diff = randint(1, 2);
    if (sortie_html) {
      this.type_exercice = "MG32";
      this.taille_div_MG32 = [700, 500];
      let codeBase64;

      if (k < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwBANgAAAAAAAEAzAAAAAAAABwABQHYBR64UeuFAcdwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAQAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAQAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAQtMC41AAAAEgAAAAE#4AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABgAAlonAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAATAP####8AAAAAABgAAkInAMAwAAAAAAAAwEOAAAAAAAAHAAAAAAoAAAAOAAAADwAAAA4AAAAQAAAAEwD#####AAAAAAAYAAJDJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAABEAAAAOAAAAEgAAAAwA#####wAAABQAAAAOAAAAEwAAAA8A#####wAAAAAAGAACTScAwCQAAAAAAADAAAAAAAAAAAcAAAAAFQAAABcAAAAPAP####8AAAAAABgAAk4nAMAzAAAAAAAAwEMAAAAAAAAHAAAAABYAAAAX#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABYAAAAVAAAAFAAAABYAAAAUAP####8AAAAAAAIAAAAEAAAAGQAAABQAAAAYAAAAGf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAAD#AAAABQAAABsAAAAVAP####8B#wAAAAAABQAAABr#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####EECIoKPXCj1xQELhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZBcHBBTU4AAAAAAAEAAAAcAAAAABYA#####wD#AAAB#####xBAiLCj1wo9cUBUMKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQUJDAAAAAAABAAAAHQD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####xBAi+Cj1wo9cUBE4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHTWFzcUFNTgAAAAAAAQAAABwAAAAXAP####8A#wAAAf####8QQIvoo9cKPXFAVPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBQkMAAAAAAAEAAAAd#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQIj4o9cKPXFAX3Cj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAB#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8A#wAAAf####8QQFHFHrhR64VAePwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDEAAAAAAAMAAAAfAAAAIgAAACEAAAAZAP####8A#wAAAf####8QQFFFHrhR64VAe3wo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDIAAAAAAAMAAAAeAAAAIgAAACAAAAAO##########8=";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwDAKAAAAAAAAEAiAAAAAAAABwABQHMxR64UeuFAcbwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAOAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAAA4AAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAOAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAMwLjUAAAABP+AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAYAAJaJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AAAAAAAYAAJCJwDAMAAAAAAAAMBDgAAAAAAABwAAAAAKAAAADgAAAA8AAAAOAAAAEAAAABMA#####wAAAAAAGAACQycAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAA4AAAARAAAADgAAABIAAAAMAP####8AAAAUAAAADgAAABMAAAAPAP####8AAAAAABgAAk0nAMA7AAAAAAAAwDcAAAAAAAAHAAAAABUAAAAXAAAADwD#####AAAAAAAYAAJOJwDAKAAAAAAAAEAAAAAAAAAABwAAAAAWAAAAF#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAgAAAAQAAAAWAAAAFQAAABQAAAAWAAAAFAD#####AAAAAAACAAAABAAAABkAAAAUAAAAGAAAABn#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQAA#wAAAAUAAAAbAAAAFQD#####Af8AAAAAAAUAAAAa#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAiKCj1wo9cUBC4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQU1OAAAAAAABAAAAHAAAAAAWAP####8A#wAAAf####8QQIiwo9cKPXFAVDCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABkFwcEFCQwAAAAAAAQAAAB0A#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8A#wAAAf####8QQIvgo9cKPXFAROFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBTU4AAAAAAAEAAAAcAAAAFwD#####AP8AAAH#####EECL6KPXCj1xQFTwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdNYXNxQUJDAAAAAAABAAAAHf####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECI+KPXCj1xQF9wo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####EEBRxR64UeuFQHj8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAxAAAAAAADAAAAHwAAACIAAAAhAAAAGQD#####AP8AAAH#####EEBRRR64UeuFQHt8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAyAAAAAAADAAAAHgAAACIAAAAgAAAADv##########";
      }
      if (this.sup == 1) {
        // calcul direct de AM et BC : pas de calcul intermédiaire de AN
        texte = `Dans la figure ci-dessous, les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            "Les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.";
          texte_corr += `<br>Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
          texte_corr +=
            "<br>D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}$` +
            "<br>";
        }
      } else if (this.sup == 2) {
        // Calcul de AN nécessaire avant de calculer AM et BC
        texte = `Dans la figure ci-dessous, les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s5 + s3}=${s35}$ cm.`;
        texte += `<br>Le point $${s1}$ peut être déplacé.<br>`;
        texte += `Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>` +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        }
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
        }
      } else if (randint(1, 2) == 1) {
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ tel que les droites $(${
          s4 + s5
        })$ et $(${s2 + s3})$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s1 + s5}=${s15}$ cm.`;
        texte += `<br>Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          "Dans le triangle " +
          `$${s1 + s2 + s3}$` +
          ", les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>" +
          " D&rsquo;après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
          "<br>";
      } else {
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
        texte += `<br>Les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s5 + s3}=${s35}$ cm.`;
        texte += `<br>Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>` +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        }
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
        }
      }
      texte_corr += "Avec les données numériques :<br>";
      texte_corr +=
        `$${tex_fraction(s1 + s4, s12)}=${tex_fraction(
          s15,
          s13
        )}=${tex_fraction(s45, s2 + s3)}$` + "<br>";
      texte_corr +=
        `Soit $${s1 + s4}=` +
        quatrieme_proportionnelle(dist13, dist15, dist12, 1) +
        "$ cm";
      texte_corr +=
        ` et $${s2 + s3}=` +
        quatrieme_proportionnelle(dist15, dist13, dist45, 1) +
        "$ cm.";

      if (this.sup < 3) {
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x3", "${x3}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y2", "${y2}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y3", "${y3}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "k", "${k}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A'","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B'","${s2}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C'","${s3}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","M'","${s4}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","N'","${s5}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
        texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s1} peut être déplacé (si la figure est tronquée).}}$<br>`;
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (this.sup < 3) {
        liste_de_question_to_contenu(this);
      } else {
        this.type_exercice = "";
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      // sortie Latex
      texte =
        "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
      texte += `\n\t\\item Les droites $(${s4 + s5})$ et $(${
        s2 + s3
      })$ sont parallèles.`;
      if (this.sup == 1) {
        //niveau 1 : Calcul direct quatrième proportionnelle

        // enoncé  niveau 1

        texte += "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s3 + " = " + s13 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s4 + s5 + " = " + s45 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s5 + " = " + s15 + "~\\text{cm}."}$`;
        texte +=
          "\\end{itemize} \\bigskip  Calculer " +
          `$${s1 + s4}$` +
          " et " +
          `$${s2 + s3}$` +
          " à 0,1 près. \\end{minipage}";
      } else if (this.sup == 2) {
        // niveau 2 : Calcul intermédiaire nécessaire

        // enoncé  niveau 2

        texte += "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s3 + " = " + s13 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s4 + s5 + " = " + s45 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s3 + s5 + " = " + s35 + "~\\text{cm}."}$`;
        texte +=
          "\\end{itemize} \\bigskip  Calculer " +
          `$${s1 + s4}$` +
          " et " +
          `$${s2 + s3}$` +
          " à 0,1 près. \\end{minipage}";
      } // énoncé sans figure
      else if (k > 0) {
        texte =
          `$${s1}$, $${s2}$ et $${s3}$` +
          " sont trois point distincts.<br>\n" +
          `$${s4} \\in [${s1 + s2}]$` +
          " et " +
          `$${s5} \\in [${s1 + s3}]$` +
          " tel que les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>\n";
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s4 + s5
        }=${s45}$ cm et `;
        if (niv_diff == 1) {
          texte += `$${s1 + s5}=${s15}$ cm.`;
        } else {
          texte += `$${s3 + s5}=${s35}$ cm.`;
        }
        texte += `<br>\nCalculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          "Dans le triangle " +
          `$${s1 + s2 + s3}$` +
          ", les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>\n" +
          " D'après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$`;
        if (niv_diff == 2) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            "~;cm.";
        }
      } else {
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
        texte += `<br>\nLes droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br>\n $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et `;
        if (niv_diff == 1) {
          texte += `$${s1 + s5}=${s15}$ cm.`;
        } else {
          texte += `$${s3 + s5}=${s35}$ cm.`;
        }
        texte += `<br>\nCalculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre et les droites $(${
            s4 + s5
          })$ et $(${s2 + s3})$ sont parallèles.<br>\n` +
          " D'après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
          "<br>\n";
        if (niv_diff == 2) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.";
        }
      }
      if (this.sup < 3) {
        // on ne fait la figure que si niveau < 3
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" +
          s1 +
          "," +
          x3 +
          "/" +
          y3 +
          "/" +
          s3 +
          "," +
          x2 +
          "/" +
          y2 +
          "/" +
          s2 +
          "}"; // Placer les points du triangle principal
        texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s2 + "," + s3 + ")"; // Trace le triangle principal
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s2 +
          ")" +
          "\t\\tkzGetPoint{" +
          s4 +
          "}"; // Place le premier point du triangle image
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s3 +
          ")" +
          "\t\\tkzGetPoint{" +
          s5 +
          "}"; // Place le deuxième point du triangle image
        texte += "\n\t \\tkzDrawSegment(" + s4 + "," + s5 + ")"; // Trace le segment
        if (k > 0) {
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above left](" + s2 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s5 + ")"; //nomme les points
          // Nomme les points au dessus avec above, dessous avec below...
        } else {
          // position papillon -> position du nom inversée et nécessité de tracer le triangle secondaire
          texte += "\n\t \\tkzLabelPoints[below](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above](" + s2 + "," + s5 + ")"; //nomme les points
          texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s4 + "," + s5 + ")"; // Trace le triangle secondaire
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      if (this.sup == 2) {
        //niveau 2 : Calcul intermédiaire nécessaire
        texte_corr = `Les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br>\n\t D\'après la propriété de Thales, on a $${tex_fraction(
          s1 + s4,
          s1 + s2
        )}=${tex_fraction(s1 + s5, s1 + s3)}=${tex_fraction(
          s4 + s5,
          s2 + s3
        )}.$<br>\n\t`;
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${
              s5 + s3
            }=${s13}-${s35}=${s15}~\\text{cm}.$`;
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${
              s1 + s3
            }=${s35}-${s13}=${s15}~\\text{cm}.$`;
        }
      } else if (this.sup == 1) {
        if (k > 0) {
          texte_corr = `Dans le triangle $${s1 + s2 + s3}$, les droites $(${
            s4 + s5
          })$ et $(${
            s2 + s3
          })$ sont parallèles.<br>\n D\'après la propriété de Thales, on a $${tex_fraction(
            s1 + s4,
            s1 + s2
          )}=${tex_fraction(s1 + s5, s1 + s3)}=${tex_fraction(
            s4 + s5,
            s2 + s3
          )}.$`;
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>\n` +
            " D'après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>\n";
        }
      }
      texte_corr += `<br>\n On a donc $${tex_fraction(
        s1 + s4,
        s12
      )}=${tex_fraction(s15, s13)}=${tex_fraction(s45, s2 + s3)}$`;
      texte_corr += `<br>\n Soit $${s1 + s4}=${tex_fraction(
        s15 + "\\times" + s12,
        s13
      )}\\approx${s14}~\\text{cm}$.`;
      texte_corr += `<br>\n Et $${s2 + s3}=${tex_fraction(
        s13 + "\\times" + s45,
        s15
      )}\\approx${s23}~\\text{cm}$.`;

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);
    }
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Calcul direct de deux longueurs \n 2 : Avec calcul intermédiaire\n 3 : Sans figure",
  ];
}
/**
 * Reciproque_Thales
 * @Auteur Jean-Claude Lhote
 * 3G21
 */
function Reciproque_Thales() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Contrôler si deux droites sont parallèles";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 1);
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.quatrieme = false;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  // let s1='A',s2='B',s3='C',s4='M',s5='N'
  // coefficient de l'homothétie compris entre -0,8 et -0,2 ou entre 0,2 et 0,8 pour éviter les constructions trop serrées
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = [];
    this.liste_corrections = [];
    let lettre1 = randint(1, 26); // aleatoirisation du nom des points
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(1, 26, [lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let lettre3 = randint(1, 26, [lettre1, lettre2]);
    let s3 = lettre_depuis_chiffre(lettre3);
    let lettre4 = randint(1, 26, [lettre1, lettre2, lettre3]);
    let s4 = lettre_depuis_chiffre(lettre4);
    let lettre5 = randint(1, 26, [lettre1, lettre2, lettre3, lettre4]);
    let s5 = lettre_depuis_chiffre(lettre5);
    let x2 = randint(2, 4);
    let y2 = randint(3, 5);
    let x3 = randint(5, 6);
    let y3 = randint(-2, 1);
    let k = (randint(2, 8) * randint(-1, 1, [0])) / 10;
    let k2 = k * (1 + randint(0, 1) * 0.1);
    if (this.quatrieme) {
      k = abs(k);
      k2 = abs(k2);
    }
    let dist24;
    let dist12 = arrondi(Math.sqrt(x2 * x2 + y2 * y2), 1);
    let dist13 = arrondi(Math.sqrt(x3 * x3 + y3 * y3), 1);
    while (dist12 == dist13) {
      //éviter les triangles isocèles imbriqués qui ne nécéssitent aucun calculs.
      x2 = randint(2, 4);
      y2 = randint(3, 5);
      x3 = randint(5, 6);
      y3 = randint(-2, 1);
      dist12 = arrondi(Math.sqrt(x2 * x2 + y2 * y2), 1);
      dist13 = arrondi(Math.sqrt(x3 * x3 + y3 * y3), 1);
    }
    let dist15 = arrondi(dist13 * abs(k), 2);
    let dist14 = arrondi(dist12 * abs(k2), 2);
    let dist35;

    let num1, num2, den1, den2;
    if (k < 0) {
      dist35 = dist13 + dist15;
      dist24 = dist12 + dist14;
    } else {
      dist35 = dist13 - dist15;
      dist24 = dist12 - dist14;
    }

    let texte, texte_corr;
    // On ne garde qu'une approximation au dixième pour l'exercice

    // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s13 = tex_nombrec(dist13);
    let s12 = tex_nombrec(dist12);
    let s15 = tex_nombrec(dist15);
    let s14 = tex_nombrec(dist14);
    let s24 = tex_nombrec(dist24);
    let s35 = tex_nombrec(dist35);
    num1 = arrondi(dist12 * 100);
    den1 = arrondi(dist14 * 100);
    num2 = arrondi(dist13 * 100);
    den2 = arrondi(dist15 * 100);
    let fraction1 = [],
      fraction2 = [];
    fraction1 = fraction_simplifiee(num1, den1);
    fraction2 = fraction_simplifiee(num2, den2);

    if (sortie_html) {
      this.type_exercice = "MG32";
      this.taille_div_MG32 = [700, 500];
      let codeBase64;

      if (k < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwBANgAAAAAAAEAzAAAAAAAABwABQHYBR64UeuFAcdwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAQAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAQAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAQtMC41AAAAEgAAAAE#4AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABgAAlonAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAATAP####8AAAAAABgAAkInAMAwAAAAAAAAwEOAAAAAAAAHAAAAAAoAAAAOAAAADwAAAA4AAAAQAAAAEwD#####AAAAAAAYAAJDJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAABEAAAAOAAAAEgAAAAwA#####wAAABQAAAAOAAAAEwAAAA8A#####wAAAAAAGAACTScAwCQAAAAAAADAAAAAAAAAAAcAAAAAFQAAABcAAAAPAP####8AAAAAABgAAk4nAMAzAAAAAAAAwEMAAAAAAAAHAAAAABYAAAAX#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABYAAAAVAAAAFAAAABYAAAAUAP####8AAAAAAAIAAAAEAAAAGQAAABQAAAAYAAAAGf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAAD#AAAABQAAABsAAAAVAP####8B#wAAAAAABQAAABr#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####EECIoKPXCj1xQELhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZBcHBBTU4AAAAAAAEAAAAcAAAAABYA#####wD#AAAB#####xBAiLCj1wo9cUBUMKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQUJDAAAAAAABAAAAHQD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####xBAi+Cj1wo9cUBE4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHTWFzcUFNTgAAAAAAAQAAABwAAAAXAP####8A#wAAAf####8QQIvoo9cKPXFAVPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBQkMAAAAAAAEAAAAd#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQIj4o9cKPXFAX3Cj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAB#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8A#wAAAf####8QQFHFHrhR64VAePwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDEAAAAAAAMAAAAfAAAAIgAAACEAAAAZAP####8A#wAAAf####8QQFFFHrhR64VAe3wo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDIAAAAAAAMAAAAeAAAAIgAAACAAAAAO##########8=";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwDAKAAAAAAAAEAiAAAAAAAABwABQHMxR64UeuFAcbwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAOAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAAA4AAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAOAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAMwLjUAAAABP+AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAYAAJaJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AAAAAAAYAAJCJwDAMAAAAAAAAMBDgAAAAAAABwAAAAAKAAAADgAAAA8AAAAOAAAAEAAAABMA#####wAAAAAAGAACQycAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAA4AAAARAAAADgAAABIAAAAMAP####8AAAAUAAAADgAAABMAAAAPAP####8AAAAAABgAAk0nAMA7AAAAAAAAwDcAAAAAAAAHAAAAABUAAAAXAAAADwD#####AAAAAAAYAAJOJwDAKAAAAAAAAEAAAAAAAAAABwAAAAAWAAAAF#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAgAAAAQAAAAWAAAAFQAAABQAAAAWAAAAFAD#####AAAAAAACAAAABAAAABkAAAAUAAAAGAAAABn#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQAA#wAAAAUAAAAbAAAAFQD#####Af8AAAAAAAUAAAAa#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAiKCj1wo9cUBC4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQU1OAAAAAAABAAAAHAAAAAAWAP####8A#wAAAf####8QQIiwo9cKPXFAVDCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABkFwcEFCQwAAAAAAAQAAAB0A#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8A#wAAAf####8QQIvgo9cKPXFAROFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBTU4AAAAAAAEAAAAcAAAAFwD#####AP8AAAH#####EECL6KPXCj1xQFTwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdNYXNxQUJDAAAAAAABAAAAHf####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECI+KPXCj1xQF9wo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####EEBRxR64UeuFQHj8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAxAAAAAAADAAAAHwAAACIAAAAhAAAAGQD#####AP8AAAH#####EEBRRR64UeuFQHt8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAyAAAAAAADAAAAHgAAACIAAAAgAAAADv##########";
      }

      if (this.sup == 1) {
        // AM,AB,AN,AC sont donnés pas de calculs intermédiaires
        texte = `Dans la figure ci-dessous, $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s5}=${s15}$ cm et $${s1 + s4}=${s14}$ cm.<br>`;
        texte_corr = ``;
      } else if (this.sup == 2) {
        // AN n'est pas donné, il faut le calculer avant.
        texte = `Dans la figure ci-dessous, $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s3 + s5}=${s35}$ cm et $${s2 + s4}=${s24}$ cm.<br>`;
        texte_corr = ``;
        if (k > 0) {
          //triangles imbriqués
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s3 + s5}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s1 + s2}-${s2 + s4}=${s12}-${s24}=${s14}$` +
            " cm.<br>";
        } else {
          // papillon
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s2 + s4}-${s1 + s2}=${s24}-${s12}=${s14}$` +
            " cm.<br>";
        }
      } else if (randint(1, 2) == 1) {
        //triangles imbriqués sans figure
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ <br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s4}=${s14}$ cm et $${s1 + s5}=${s15}$ cm.`;
        texte_corr = ``;
      } else {
        // papillon sans figure
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.<br>`;
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s1 + s4
        }=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte_corr = ``;
      }
      texte += `Les droites $(${s2 + s3})$ et $(${
        s4 + s5
      })$ sont-elles parallèles ?<br>`;

      texte_corr += `D'une part on a $\\dfrac{${s1 + s2}}{${
        s1 + s4
      }}=\\dfrac{${s12}}{${s14}}=\\dfrac{${s12}\\times${mise_en_evidence(
        s15
      )}}{${s14}\\times${mise_en_evidence(s15)}}=${tex_fraction(
        tex_nombrec(arrondi(dist12 * dist15, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;
      texte_corr += `<br>D'autre part on a $\\dfrac{${s1 + s3}}{${
        s1 + s5
      }}=\\dfrac{${s13}}{${s15}}=\\dfrac{${s13}\\times${mise_en_evidence(
        s14
      )}}{${s15}\\times${mise_en_evidence(s14)}}=${tex_fraction(
        tex_nombrec(arrondi(dist13 * dist14, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;

      if (k != k2) {
        // droites non parallèles

        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}\\not=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`;
        texte_corr += `Donc d'après le théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ ne sont pas parallèles.<br>`;
      } else {
        // droites parallèles
        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`; //car les produits en croix sont égaux : $${s12}\\times${s15}=${s13}\\times${s14}=${tex_nombre(arrondi(dist12*dist15,3))}$.<br>`;
        if (k > 0)
          texte_corr += `$${s1}$,$${s4}$,$${s2}$ et $${s1}$,$${s5}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        else
          texte_corr += `$${s4}$,$${s1}$,$${s2}$ et $${s5}$,$${s1}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        texte_corr += `Donc d'après la réciproque du théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ sont parallèles.<br>`;
      }

      if (this.sup < 3) {
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x3", "${x3}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y2", "${y2}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y3", "${y3}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "k", "${k}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","A'","${s1}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","B'","${s2}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","C'","${s3}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","M'","${s4}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","N'","${s5}");
					mtg32App.calculate("MG32svg${numero_de_l_exercice}");
					mtg32App.display("MG32svg${numero_de_l_exercice}");
					`;
        texte += `$\\footnotesize{\\textit{Le point \\thickspace ${s1} peut être déplacé (si la figure est tronquée).}}$<br>`;
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (this.sup < 3) {
        liste_de_question_to_contenu(this);
      } else {
        this.type_exercice = "";
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      // sortie Latex
      texte_corr = ``;
      if (this.sup == 1) {
        //niveau 1 : Calcul direct
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte += `\n\t \\item ${s1 + s2}=${s12} cm \n\t \\item ${
          s1 + s3
        }=${s13} cm\n\t \\item ${s1 + s5}=${s15} cm\n\t \\item ${
          s1 + s4
        }=${s14} cm.<br>`;
        texte +=
          `\\end{itemize}  ` +
          `Les droites (${s2 + s3}) et (${
            s4 + s5
          }) sont-elles parallèles ?<br>` +
          ". \\end{minipage}";
      } else if (this.sup == 2) {
        // niveau 2 : Calcul intermédiaire nécessaire
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte += `\n\t \\item ${s1 + s2} = ${s12} cm\n\t \\item ${
          s1 + s3
        } = ${s13} cm\n\t \\item ${s3 + s5} = ${s35} cm\n\t \\item ${
          s2 + s4
        } = ${s24} cm.<br>`;
        texte +=
          "\\end{itemize}  " +
          `Les droites (${s2 + s3}) et (${
            s4 + s5
          }) sont-elles parallèles ?<br>` +
          ". \\end{minipage}";
        if (k > 0) {
          // triangles imbriqués
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s3 + s5}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s1 + s2}-${s2 + s4}=${s12}-${s24}=${s14}$` +
            " cm.<br>";
        } else {
          // papillon
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s2 + s4}-${s1 + s2}=${s24}-${s12}=${s14}$` +
            " cm.<br>";
        }
      }
      // énoncé sans figure
      else if (randint(1, 2) == 1) {
        // triangles imbriqués
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ <br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s4}=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Les droites (${s2 + s3}) et (${
          s4 + s5
        }) sont-elles parallèles ?<br>`;
      } else {
        // papillon
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.<br>`;
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s1 + s4
        }=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Les droites (${s2 + s3}) et (${
          s4 + s5
        }) sont-elles parallèles ?<br>`;
      }

      if (this.sup < 3) {
        // on ne fait la figure que si niveau < 3
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" +
          s1 +
          "," +
          x3 +
          "/" +
          y3 +
          "/" +
          s3 +
          "," +
          x2 +
          "/" +
          y2 +
          "/" +
          s2 +
          "}"; // Placer les points du triangle principal
        texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s2 + "," + s3 + ")"; // Trace le triangle principal
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s2 +
          ")" +
          "\t\\tkzGetPoint{" +
          s4 +
          "}"; // Place le premier point du triangle image
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s3 +
          ")" +
          "\t\\tkzGetPoint{" +
          s5 +
          "}"; // Place le deuxième point du triangle image
        texte += "\n\t \\tkzDrawSegment(" + s4 + "," + s5 + ")"; // Trace le segment
        if (k > 0) {
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above left](" + s2 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s5 + ")"; //nomme les points
          // Nomme les points au dessus avec above, dessous avec below...
        } else {
          // position papillon -> position du nom inversée et nécessité de tracer le triangle secondaire
          texte += "\n\t \\tkzLabelPoints[below](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above](" + s2 + "," + s5 + ")"; //nomme les points
          texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s4 + "," + s5 + ")"; // Trace le triangle secondaire
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      texte_corr += `D'une part on a $\\dfrac{${s1 + s2}}{${
        s1 + s4
      }}=\\dfrac{${s12}}{${s14}}=\\dfrac{${s12}\\times${mise_en_evidence(
        s15
      )}}{${s14}\\times${mise_en_evidence(s15)}}=${tex_fraction(
        tex_nombrec(arrondi(dist12 * dist15, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;
      texte_corr += `<br>D'autre part on a $\\dfrac{${s1 + s3}}{${
        s1 + s5
      }}=\\dfrac{${s13}}{${s15}}=\\dfrac{${s13}\\times${mise_en_evidence(
        s14
      )}}{${s15}\\times${mise_en_evidence(s14)}}=${tex_fraction(
        tex_nombrec(arrondi(dist13 * dist14, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;

      if (k != k2) {
        // droites pas parallèles

        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}\\not=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`;
        texte_corr += `Donc d'après le théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ ne sont pas parallèles.<br>`;
      } else {
        // droites parallèles
        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`; //car les produits en croix sont égaux : $${s12}\\times${s15}=${s13}\\times${s14}=${tex_nombre(arrondi(dist12*dist15,3))}$.<br>`;
        if (k > 0)
          texte_corr += `$${s1}$,$${s4}$,$${s2}$ et $${s1}$,$${s5}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        else
          texte_corr += `$${s4}$,$${s1}$,$${s2}$ et $${s5}$,$${s1}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        texte_corr += `Donc d'après la réciproque du théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ sont parallèles.<br>`;
      }

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);
    }
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Cas simple \n 2 : Complication \n 3 : Sans figure",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 4G20MG32
 */
function Exercice_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer une longueur avec l'égalité de Pythagore (MG32)";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1; // 1 calcul de l'hypoténuse 2 calcul d'un côté de l'angle droit
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let type_de_questions;
    if (this.sup == 1) {
      type_de_questions = 1; //calcul de l'hypoténuse
    }
    if (this.sup == 2) {
      type_de_questions = 2; //calcul d'un côté de l'angle droit
    }
    if (this.sup == 3) {
      type_de_questions = randint(1, 2); //un des deux calculs
    }
    if (this.sup == 4) {
      type_de_questions = randint(3, 4);
    }
    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 3 + 3) * 10) / 10;
    let k2 = Math.round((Math.random() * 3 + 1) * 10) / 10;
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let carre01 = Math.round(k1 * k1 * 100) / 100;
    let carre02 = Math.round(k2 * k2 * 100) / 100;
    let dist12 = Math.sqrt(carre01 + carre02); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    let carre12 = Math.round(dist12 * dist12 * 100) / 100;

    let scarre01 = arrondi_virgule(carre01, 2); // carremn = distance entre (xm;ym) et (xn;yn) au carré avec 2 décimales
    let scarre02 = arrondi_virgule(carre02, 2); // scarremn = chaine de caractère avec 2 décimales après une virgule.
    let scarre12 = arrondi_virgule(carre12, 2);
    if (sortie_html) {
      let codeBase64;
      if (alpha1deg < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAACH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAAA7##########w==";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAACH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAO##########8=";
      }

      if (type_de_questions == 1) {
        // calcul direct de l'hypoténuse
        texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$, $${
          s0 + s1
        }=${s01}$ cm, $${s0 + s2}=${s02}$ cm.`;
        texte += `<br>Le point $${s0}$ peut être déplacé.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
        texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$, d&rsquo;après le théorème de Pythagore, on a : $${
          s1 + s2
        }^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$<br>`;
        texte_corr +=
          "D&rsquo;où " +
          `$${
            s1 + s2
          }^2~=~${s01}^2~+~${s02}^2~=~${scarre01}~+~${scarre02}~=~${arrondi_virgule(
            carre02 + carre01,
            2
          )}.$` +
          "<br>";
        texte_corr +=
          "Soit " +
          `$${s1 + s2}~=~\\sqrt{${arrondi_virgule(
            carre02 + carre01,
            2
          )}}~\\approx${s12}$` +
          " cm.";
      }
      if (type_de_questions == 2) {
        // Calcul d'un côté de l'angle droit
        texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$, $${
          s0 + s1
        }=${s01}$ cm, $${s1 + s2}=${s12}$ cm.`;
        texte += `Calculer $${s0 + s2}$.`;
        texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$, d&rsquo;après le théorème de Pythagore, on a : $${
          s1 + s2
        }^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$<br>`;
        texte_corr +=
          "D&rsquo;où " +
          `$${s0 + s2}^2~=~${s1 + s2}^2~-~${
            s0 + s1
          }^2 = ${s12}^2~-~${s01}^2~=~${scarre12}~-~${scarre01}~=~${arrondi_virgule(
            carre12 - carre01,
            2
          )}.$` +
          "<br>";
        texte_corr +=
          "Soit " +
          `$${s0 + s2}~=~\\sqrt{${arrondi_virgule(
            carre12 - carre01,
            2
          )}}~\\approx${s02}$` +
          " cm.";
      }
      if (type_de_questions < 3) {
        this.type_exercice = "MG32";
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
        texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
      } else {
        this.type_exercice = "";
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (type_de_questions < 3) {
        liste_de_question_to_contenu(this);
      } else {
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      if (type_de_questions < 3) {
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte +=
          "\n\t\\item Le côté " +
          `$[${s0 + s1}]$` +
          " est perpendiculaire au côté " +
          `$[${s0 + s2}]~;$`;
        if (type_de_questions == 1) {
          //niveau 1 : Calcul de l'hypoténuse

          // enoncé  niveau 1

          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s2 + " = " + s02 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip\n\t  Calculer " +
            `$${s1 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        } else {
          // niveau 2 : Calcul d'un côté de l'angle droit
          // enoncé  niveau 2

          texte +=
            "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip  Calculer " +
            `$${s0 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        }
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle " +
          alpha1deg +
          "](B) \\tkzGetPoint{" +
          s1 +
          "}"; // transformer le premier point par rotation
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle " +
          alpha1deg +
          "](C) \\tkzGetPoint{" +
          s2 +
          "}"; // transformer le deuxième point par rotation
        texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
        // marquer l'angle droit
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s0 +
          " ratio 0.1](" +
          s1 +
          ")" +
          "\\tkzGetPoint{B}";
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle 90](B) \\tkzGetPoint{C}";
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s0 +
          " ratio 0.1414](" +
          s1 +
          ")" +
          "\\tkzGetPoint{A}";
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle 45](A) \\tkzGetPoint{A}";
        texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit

        if (alpha1deg > 0) {
          // rotation "angle droit dessous"
          texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[right](" + s1 + ")";
          texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
        } else {
          // rotation "angle droit dessus" position du nom inversée
          texte += "\n\t \\tkzLabelPoints[above](" + s0 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")";
          texte += "\n\t \\tkzLabelPoints[right](" + s2 + ")";
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      } else {
        texte =
          "\\begin{minipage}{.5 \\linewidth} 	\\vspace{0cm} Dans le triangle " +
          `${nom_du_triangle}` +
          " rectangle en " +
          `${s0}` +
          " : \\begin{itemize}";
        // texte += '\n\t\\item Le côté ' + `$[${s0 + s1}]$` + ' est perpendiculaire au côté ' + `$[${s0 + s2}]~;$`
        if (type_de_questions == 1) {
          //niveau 1 : Calcul de l'hypoténuse

          // enoncé  niveau 1

          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s2 + " = " + s02 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip\n\t  Calculer " +
            `$${s1 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        } else {
          // niveau 2 : Calcul d'un côté de l'angle droit
          // enoncé  niveau 2

          texte +=
            "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip  Calculer " +
            `$${s0 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        }
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      if (type_de_questions == 2 || type_de_questions == 4) {
        //niveau 2 : Calcul d'un côté de l'angle droit
        texte_corr =
          "Le triangle " +
          `$${nom_du_triangle}$` +
          " est rectangle en " +
          `$${s0}.$` +
          "<br>\n D'après le théorème de Pythagore, on a :~" +
          `$${s1 + s2}^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$`;
        texte_corr +=
          "<br>\n D'où " +
          `$${s0 + s2}^2~=~${s1 + s2}^2~-~${
            s0 + s1
          }^2 = ${s12}^2~-~${s01}^2~=~${scarre12}~-~${scarre01}~=~${arrondi_virgule(
            carre12 - carre01,
            2
          )}.$`;
        texte_corr +=
          "<br>\n Soit " +
          `$${s0 + s2}~=~\\sqrt{${arrondi_virgule(
            carre12 - carre01,
            2
          )}}~\\approx${s02}~\\text{cm}.$`;
      } else {
        texte_corr =
          "Le triangle " +
          `$${nom_du_triangle}$` +
          " est rectangle en " +
          `$${s0}.$` +
          "<br>\n D'après le théorème de Pythagore, on a " +
          `$${s1 + s2}^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$`;
        texte_corr +=
          "<br>\n D'où " +
          `$${
            s1 + s2
          }^2~=~${s01}^2~+~${s02}^2~=~${scarre01}~+~${scarre02}~=~${arrondi_virgule(
            carre02 + carre01,
            2
          )}.$`;
        texte_corr +=
          "<br>\n Soit " +
          `$${s1 + s2}~=~\\sqrt{${arrondi_virgule(
            carre02 + carre01,
            2
          )}}~\\approx${s12}~\\text{cm}.$`;
      }

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);

      // }end for
    }
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Calcul de l'hypoténuse \n 2 : Calcul d'un côté de l'angle droit\n 3 : Calcul d'un côté quelconque\n 4 : Sans la figure",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 3G30
 */
function Exercice_Trigo_longueurs() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer une longueur grâce à la trigonométrie";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.quatrieme = false;
  this.sup = 1; // 1 utilisation du cosinus exclusivement 2 utilisation des 3 fonctions trigo
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    let lettre1, lettre2, texte, texte_corr;
    this.bouton_aide = modal_youtube(
      numero_de_l_exercice,
      "DYW-BTMFzd4",
      "Trigonométrie (vidéo de digiSchool)"
    );
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let angle1;
    let type_de_questions;
    if (this.sup == 1) type_de_questions = choice([1, 3, 5]); // on multiplie par cos, sin ou tan
    if (this.sup == 2) type_de_questions = choice([2, 4, 6]); // on divise par cos, sin ou tan
    if (this.sup == 3) type_de_questions = randint(1, 6);
    if (this.quatrieme) type_de_questions = ((type_de_questions - 1) % 2) + 1; // on n'utilise que le cosinus.
    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    let k2 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    angle1 = Math.round(Math.degres(Math.atan(k2 / k1)));
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let dist12 = k1 / Math.cos(Math.atan(k2 / k1)); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$ :<br>`;
    if (sortie_html) {
      // sortie html MG32
      let codeBase64;
      if (alpha1deg < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8ABQAAACBAQIGJiJxJngAAAAEAAAAWAAAAFwAAAA7##########w==";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAUAAAAgQEHcp2T0QTQAAAABAAAAFgAAABcAAAAO##########8=";
      }
      texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$.<br>`;

      if (type_de_questions == 1) {
        // calcul du côté adjacent (cosinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s1 + s2}=${s12}$ cm.<br>`;
        texte += `Calculer $${s0 + s1}$.`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'hypoténuse (1/cosinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s1}=${s01}$ cm.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
      }
      if (type_de_questions == 3) {
        // calcul du côté opposé (sinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s1 + s2}=${s12}$ cm.<br>`;
        texte += `Calculer $${s0 + s2}$.`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'hypoténuse (1/sinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s2}=${s02}$ cm.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
      }
      if (type_de_questions == 5) {
        // calcul du côté opposé (tangente)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s1}=${s01}$ cm.<br>`;
        texte += `Calculer $${s0 + s2}$.`;
      }
      if (type_de_questions == 6) {
        // Calcul du côté adjacent (1/tangente)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s2}=${s02}$ cm.<br>`;
        texte += `Calculer $${s0 + s1}$.`;
      }

      this.type_exercice = "MG32";
      this.MG32codeBase64 = codeBase64;
      this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
      texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
    } else {
      //sortie Latex
      texte = `\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}`;
      texte += `\n\t\\item Le triangle $${nom_du_triangle}$ est rectangle en $${s0}$~;`;

      if (type_de_questions == 1) {
        // Calcul du coté adjacent (cosinus)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s1
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'hypoténuse (1/cosinus)
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s1 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 3) {
        // Calcul du coté opposé (sinus)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'hypoténuse (1/sinus)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s1 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 5) {
        // Calcul du côté opposé (tangente)
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 6) {
        // Calcul du côté adjacent (1/tangente)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s1
        }$ à 0,1 près. \\end{minipage}`;
      }
      texte += "\\begin{minipage}{0.3 \\linewidth}";
      // dessin de la figure
      texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
      texte +=
        "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
      // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](B) \\tkzGetPoint{" +
        s1 +
        "}"; // transformer le premier point par rotation
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](C) \\tkzGetPoint{" +
        s2 +
        "}"; // transformer le deuxième point par rotation
      texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
      // marquer l'angle droit
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1](" +
        s1 +
        ")" +
        "\\tkzGetPoint{B}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 90](B) \\tkzGetPoint{C}";
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1414](" +
        s1 +
        ")" +
        "\\tkzGetPoint{A}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 45](A) \\tkzGetPoint{A}";
      texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit
      if (alpha1deg > 0) {
        // rotation "angle droit dessous"
        texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[above right](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
      } else {
        // rotation "angle droit dessus" position du nom inversée
        texte += "\n\t \\tkzLabelPoints[left](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[below left](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[above right](" + s2 + ")";
      }
      texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
      texte += "\\end{minipage}";
    }
    if (type_de_questions == 1) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\cos\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s1,
        s12
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s1}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s12,
        `\\cos\\left(${angle1}\\degree\\right)`
      )}$<br>`; // ${s12}\\times\\cos\\left(${angle1}\\degree\\right)$<br>`;
      texte_corr += `Soit $${s0 + s1}\\approx${s01}$ cm.`;
    }
    if (type_de_questions == 2) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\cos\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s01,
        s1 + s2
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s1 + s2}=${quatrieme_proportionnelle(
        `\\cos\\left(${angle1}\\degree\\right)`,
        s01,
        "\\color{red}{1}"
      )}$<br>`; // ${s01}\\div\\cos\\left(${angle1}\\degree\\right)$<br>`;
      texte_corr += `Soit $${s1 + s2}\\approx${s12}$ cm.`;
    }
    if (type_de_questions == 3) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\sin\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s2,
        s12
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s2}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s12,
        `\\sin\\left(${angle1}\\degree\\right)`
      )}$<br>`;
      texte_corr += `Soit $${s0 + s2}\\approx${s02}$ cm.`;
    }
    if (type_de_questions == 4) {
      texte_corr = `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\sin\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s02,
        s1 + s2
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s1 + s2}=${quatrieme_proportionnelle(
        `\\sin\\left(${angle1}\\degree\\right)`,
        s02,
        "\\color{red}{1}"
      )}$<br>`;
      texte_corr += `Soit $${s1 + s2}\\approx${s12}$ cm.`;
    }
    if (type_de_questions == 5) {
      texte_corr = `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}<br>$`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\tan\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s2,
        s01
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s2}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s01,
        `\\tan\\left(${angle1}\\degree\\right)`
      )}$<br>`;
      texte_corr += `Soit $${s0 + s2}\\approx${s02}$ cm.`;
    }
    if (type_de_questions == 6) {
      texte_corr = `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\tan\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s02,
        s0 + s1
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s1}=${quatrieme_proportionnelle(
        `\\tan\\left(${angle1}\\degree\\right)`,
        s02,
        "\\color{red}{1}"
      )}$<br>`;
      texte_corr += `Soit $${s0 + s1}\\approx${s01}$ cm.`;
    }
    // texte+=href('Comment calculer une longueur avec la trigonométrie','https://www.youtube.com/watch?v=DYW-BTMFzd4')
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Calculs faciles \n 2 : Calculs moins faciles \n 3 : Mélange",
  ];
}
/**
 * @auteur Jean-Claude Lhote
 * 3G31
 * Calcul d'angle dans le triangle rectangle
 * Le niveau 1 se limite à l'utilisation de Arccos
 * Le niveau 2 utilise la fonction trigo la plus pertinente pour un calcul direct
 */
function Exercice_Trigo_angles() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer un angle grâce à la trigonométrie";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1; // 1 calcul avec Arccos
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    let lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let angle1, angle2;
    let type_de_questions;
    if (this.sup == 1) {
      type_de_questions = randint(1, 2); // utilisation de Arccos
    }
    if (this.sup == 2) {
      type_de_questions = randint(1, 6, [2]); // utilisation des 3 fonctions Arccos, Arcsin et Arctan
    }

    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    let k2 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    angle1 = Math.round(Math.degres(Math.atan(k2 / k1)));
    angle2 = 90 - angle1;
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let dist12 = k1 / Math.cos(Math.atan(k2 / k1)); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    let texte;
    let texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$ :<br>`;
    if (sortie_html) {
      // sortie html MG32
      let codeBase64;
      if (type_de_questions % 2 != 0) {
        if (alpha1deg < 0) {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8ABQAAACBAQIGJiJxJngAAAAEAAAAWAAAAFwAAAA7##########w==";
        } else {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAUAAAAgQEHcp2T0QTQAAAABAAAAFgAAABcAAAAO##########8=";
        }
      } else {
        if (alpha1deg < 0) {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8AAwAAACBAQHXBUVjTVQAAAAEAAAAXAAAAFgAAAA7##########w==";
        } else {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAMAAAAgQELJWhOPSZcAAAABAAAAFwAAABYAAAAO##########8=";
        }
      }
      texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$.<br>`;

      if (type_de_questions == 1) {
        // calcul de l'angle 1 (arccos)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'angle 2 (90-arccos)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }
      if (type_de_questions == 3) {
        // calcul de l'angle 1 (arcsin)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'angle 2 (arcsin)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }
      if (type_de_questions == 5) {
        // calcul de l'angle 1 (arctan)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 6) {
        // Calcul de l'angle 2 (arctan)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }

      this.type_exercice = "MG32";
      this.MG32codeBase64 = codeBase64;
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			`;
      texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
    } else {
      //sortie Latex
      texte = `\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}`;
      texte += `\n\t\\item Le triangle $${nom_du_triangle}$ est rectangle en $${s0}$;`;

      if (type_de_questions == 1) {
        // Calcul de l'angle coté adjacent (Arccos)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'angle opposé (90-Arccos)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 3) {
        // Calcul de l'angle 1 (Arcsin)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'angle 2 (Arcsin)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 5) {
        // Calcul de l'angle 1 (Arctan)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 6) {
        // Calcul de l'angle 2 (Arctan)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      texte += "\\begin{minipage}{0.3 \\linewidth}";
      // dessin de la figure
      texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
      texte +=
        "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
      // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](B) \\tkzGetPoint{" +
        s1 +
        "}"; // transformer le premier point par rotation
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](C) \\tkzGetPoint{" +
        s2 +
        "}"; // transformer le deuxième point par rotation
      texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
      // marquer l'angle droit
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1](" +
        s1 +
        ")" +
        "\\tkzGetPoint{B}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 90](B) \\tkzGetPoint{C}";
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1414](" +
        s1 +
        ")" +
        "\\tkzGetPoint{A}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 45](A) \\tkzGetPoint{A}";
      texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit
      if (alpha1deg > 0) {
        // rotation "angle droit dessous"
        texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[above right](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
      } else {
        // rotation "angle droit dessus" position du nom inversée
        texte += "\n\t \\tkzLabelPoints[left](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[below left](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[above right](" + s2 + ")";
      }
      texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
      texte += "\\end{minipage}";
    }
    if (type_de_questions == 1) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\cos\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arccos\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 2) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\cos\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arccos\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$<br>`;
      texte_corr += `Or, dans un triangle rectangle les angles aigus sont complémentaires, donc :<br>`;
      texte_corr += `$\\widehat{${
        s0 + s2 + s1
      }}\\approx90-${angle1}\\approx${angle2}\\degree$`;
    }
    if (type_de_questions == 3) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\sin\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s02, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arcsin\\left(${tex_fraction(s02, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 4) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s2 + s1
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\sin\\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s2 + s1
      }}=\\arcsin\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s2 + s1
      }}\\approx${angle2}\\degree$`;
    }
    if (type_de_questions == 5) {
      texte_corr += `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\tan\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s02, s01)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arctan\\left(${tex_fraction(s02, s01)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 6) {
      texte_corr += `La tangente de l'angle $\\widehat{${
        s0 + s2 + s1
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s0 + s1, s0 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\tan\\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s01, s02)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s2 + s1
      }}=\\arctan\\left(${tex_fraction(s01, s02)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s2 + s1
      }}\\approx${angle2}\\degree$`;
    }
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Calcul de l'angle avec Acos \n 2 : Calcul de l'angle avec Acos, Asin ou Atan",
  ];
}

/**
 * Déterminer la racine carrée d'un carré parfait compris entre 4 et 256
 * @auteur Stéphane Guyon
 * 4G20-2
 */
function Racine_caree_de_carres_parfaits() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Racine carré d'un carré parfait (calcul mental)";
  this.consigne = "Calculer de tête les racines suivantes.";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 16);
      c = a * a;
      texte = `$\\sqrt{${c}}=$`;
      texte_corr = `$\\sqrt{${c}}=${a}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * À partir de la donnée des 3 longueurs d'un triangle, déterminer si il est rectangle ou pas.
 * @Auteur Rémi Angot
 * 4G21
 */
function Reciproque_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer si un triangle est rectangle ou pas.";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = combinaison_listes(
      ["rectangle", "rectangle", "pas_rectangle", "pas_rectangle"],
      this.nb_questions
    );
    let liste_triplets_pythagoriciens = [
      [3, 4, 5],
      [5, 12, 13],
      [6, 8, 10],
      [7, 24, 25],
      [8, 15, 17],
      [9, 12, 15],
      [9, 40, 41],
      [10, 24, 26],
      [11, 60, 61],
      [12, 16, 20],
      [12, 35, 37],
      [13, 84, 85],
      [14, 48, 50],
      [15, 20, 25],
      [15, 36, 39],
      [16, 30, 34],
      [16, 63, 65],
      [18, 24, 30],
      [18, 80, 82],
      [20, 21, 29],
      [20, 48, 52],
      [21, 28, 35],
      [21, 72, 75],
      [24, 32, 40],
      [24, 45, 51],
      [24, 70, 74],
      [25, 60, 65],
      [27, 36, 45],
      [28, 45, 53],
      [28, 96, 100],
      [30, 40, 50],
      [30, 72, 78],
      [32, 60, 68],
      [33, 44, 55],
      [33, 56, 65],
      [35, 84, 91],
      [36, 48, 60],
      [36, 77, 85],
      [39, 52, 65],
      [39, 80, 89],
      [40, 42, 58],
      [40, 75, 85],
      [42, 56, 70],
      [45, 60, 75],
      [48, 55, 73],
      [48, 64, 80],
      [51, 68, 85],
      [54, 72, 90],
      [57, 76, 95],
      [60, 63, 87],
      [60, 80, 100],
      [65, 72, 97],
    ];
    let liste_noms_triangles = []; // on mémorise les noms des triangles pour ne pas les redonner
    for (
      let i = 0,
        texte,
        texte_corr,
        AB,
        BC,
        AC,
        a,
        b,
        c,
        nom_triangle,
        triplet,
        ordre_des_cotes,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      nom_triangle = creerNomDePolygone(3, liste_noms_triangles);
      liste_noms_triangles.push(nom_triangle);
      A = nom_triangle[0];
      B = nom_triangle[1];
      C = nom_triangle[2];
      triplet = choice(liste_triplets_pythagoriciens);
      enleve_element(liste_triplets_pythagoriciens, triplet); // Supprime le triplet pour les prochaines questions
      a = triplet[0];
      b = triplet[1];
      c = triplet[2];
      if (liste_type_de_questions[i] == "pas_rectangle") {
        c += randint(-3, 3, [0]); // on change la valeur de c
        while (a ** 2 + b ** 2 == c ** 2) {
          // si par hasard (est-ce possible ?) on retombe sur un triplet pythagoricien on change les valeurs
          c += randint(-3, 3, [0]); // on change la valeur de c
          b += randint(-3, 3, [0]); // on change la valeur de b
        }
      }
      if (a > 9 && choice([true, true, true, false])) {
        //le plus souvent on utilise des décimaux
        a = calcul(a / 10);
        b = calcul(b / 10);
        c = calcul(c / 10);
      }
      ordre_des_cotes = randint(1, 3);
      switch (ordre_des_cotes) {
        case 1:
          texte = `Le triangle $${nom_triangle}$ est tel que $${
            A + B
          }=${tex_nombre(c)}$ cm, $${A + C}=${tex_nombre(b)}$ cm et $${
            B + C
          }=${tex_nombre(a)}$ cm.`;
          break;
        case 2:
          texte = `Le triangle $${nom_triangle}$ est tel que  $${
            B + C
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(b)}$ cm et $${
            A + B
          }=${tex_nombre(c)}$ cm.`;
          break;
        case 3:
          texte = `Le triangle $${nom_triangle}$ est tel que $${
            A + C
          }=${tex_nombre(b)}$ cm, $${A + B}=${tex_nombre(c)}$ cm,  et $${
            B + C
          }=${tex_nombre(a)}$ cm.`;
          break;
      }
      texte += `<br>Ce triangle est-il rectangle ?`;
      texte_corr = `Dans le triangle $${nom_triangle}$, le plus grand côté est $[${
        A + B
      }]$.`;
      texte_corr += `<br>$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
        c ** 2
      )}$`;
      texte_corr += `<br>$${A + C}^2+${B + C}^2=${tex_nombre(b)}^2+${tex_nombre(
        a
      )}^2=${tex_nombrec(b ** 2 + a ** 2)}$`;
      if (liste_type_de_questions[i] == "rectangle") {
        texte_corr += `<br>On constate que $${A + B}^2=${A + C}^2+${
          B + C
        }^2$, l'égalité de Pythagore est vérifiée donc $${nom_triangle}$ est rectangle en $${C}$.`;
      } else {
        texte_corr += `<br>On constate que $${A + B}^2\\not=${A + C}^2+${
          B + C
        }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${nom_triangle}$ n'est pas rectangle.`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Problèmes utilisant le théorème de Pythagore ou sa réciproque et des propriétés des quadrilatères particuliers.
 *
 * * Dans un losange, on connait la longueur du côté et une diagonale, il faut calculer l'autre.
 * * Dans un rectangle on connait la longueur et une diagonale, il faut calculer la largeur.
 * * Dans un rectangle on connait la longueur et la largeur, il faut calculer la diagonale.
 * * Est-ce qu'un parallélogramme est un losange ? On peut démontrer que les diagonales sont perpendiculaires ou pas.
 * * Est-ce qu'un parallélogramme est un rectangle ? On peut démontrer qu'il possède un angle droit ou pas .
 * @Auteur Rémi Angot
 * 4G22
 */
function Problemes_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes utilisant le théorème de Pythagore";
  this.consigne = "";
  this.nb_questions = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1.5);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [
      "losange",
      "rectangle_diagonale_connue",
      "rectangle_diagonale_a_trouver",
      "parallelogramme_est_losange",
      "parallelogramme_n_est_pas_losange",
      "parallelogramme_est_rectangle",
      "parallelogramme_n_est_pas_rectangle",
    ];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    let liste_triplets_pythagoriciens = [
      [3, 4, 5],
      [5, 12, 13],
      [6, 8, 10],
      [7, 24, 25],
      [8, 15, 17],
      [9, 12, 15],
      [9, 40, 41],
      [10, 24, 26],
      [11, 60, 61],
      [12, 16, 20],
      [12, 35, 37],
      [13, 84, 85],
      [14, 48, 50],
      [15, 20, 25],
      [15, 36, 39],
      [16, 30, 34],
      [16, 63, 65],
      [18, 24, 30],
      [18, 80, 82],
      [20, 21, 29],
      [20, 48, 52],
      [21, 28, 35],
      [21, 72, 75],
      [24, 32, 40],
      [24, 45, 51],
      [24, 70, 74],
      [25, 60, 65],
      [27, 36, 45],
      [28, 45, 53],
      [28, 96, 100],
      [30, 40, 50],
      [30, 72, 78],
      [32, 60, 68],
      [33, 44, 55],
      [33, 56, 65],
      [35, 84, 91],
      [36, 48, 60],
      [36, 77, 85],
      [39, 52, 65],
      [39, 80, 89],
      [40, 42, 58],
      [40, 75, 85],
      [42, 56, 70],
      [45, 60, 75],
      [48, 55, 73],
      [48, 64, 80],
      [51, 68, 85],
      [54, 72, 90],
      [57, 76, 95],
      [60, 63, 87],
      [60, 80, 100],
      [65, 72, 97],
    ];
    let liste_noms_quadrilateres = ["L", "M", "N", "O"]; // pour que le O ne soit pas une des 4 lettres
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let nom_quadrilatere = creerNomDePolygone(4, liste_noms_quadrilateres);
      liste_noms_quadrilateres.push(nom_quadrilatere);
      let A = nom_quadrilatere[0];
      let B = nom_quadrilatere[1];
      let C = nom_quadrilatere[2];
      let D = nom_quadrilatere[3];
      let O = `O`;
      let triplet = choice(liste_triplets_pythagoriciens);
      enleve_element(liste_triplets_pythagoriciens, triplet); // Supprime le triplet pour les prochaines questions
      let a = triplet[0];
      let b = triplet[1];
      let c = triplet[2];
      if (
        liste_type_de_questions[i] == "parallelogramme_n_est_pas_losange" ||
        liste_type_de_questions[i] == "parallelogramme_n_est_pas_rectangle"
      ) {
        c += randint(-3, 3, [0]); // on change la valeur de c
        while (a ** 2 + b ** 2 == c ** 2) {
          // si par hasard (est-ce possible ?) on retombe sur un triplet pythagoricien on change les valeurs
          c += randint(-3, 3, [0]); // on change la valeur de c
          b += randint(-3, 3, [0]); // on change la valeur de b
        }
      }
      if (a > 9 && choice([true, true, true, false])) {
        //le plus souvent on utilise des décimaux
        a = calcul(a / 10);
        b = calcul(b / 10);
        c = calcul(c / 10);
      }

      switch (liste_type_de_questions[i]) {
        case "losange":
          texte = `$${nom_quadrilatere}$ est un losange de centre $O$ tel que $${
            A + B
          }=${tex_nombre(c)}$ cm et $${A + C}=${tex_nombre(2 * a)}$ cm.<br>`;
          texte += `Calculer $${D + B}$.`;

          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="250" viewBox="0 0 400 250"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id="mtg32svg#6"/><text x="185.5" y="32.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><text x="220.5" y="134.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><line x1="190.5" y1="43.44" x2="216.5" y2="129.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="144.54431444308477" y="133.14525664249953" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="190.5" y1="43.44" x2="163.54431444308477" y2="129.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="183.54431444308474" y="234.14525664249953" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><line x1="216.5" y1="129.44" x2="189.54431444308474" y2="215.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="189.54431444308474" y1="215.14525664249953" x2="163.54431444308477" y2="129.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><g  id=""><line x1="208.86483613904568" y1="86.9074753482156" x2="199.2927218660596" y2="89.80137036097884" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="207.7072781339404" y1="83.07862963902116" x2="198.13516386095432" y2="85.9725246517844" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="207.19175809011574" y1="175.70062312711323" x2="197.652449829911" y2="172.70035681946817" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="208.39186461317377" y1="171.88489982303136" x2="198.85255635296903" y2="168.8846335153863" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="171.1794783040391" y1="171.67778129428393" x2="180.75159257702518" y2="168.78388628152072" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="172.33703630914437" y1="175.50662700347834" x2="181.90915058213045" y2="172.61273199071513" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="181.19175809011574" y1="89.70062312711323" x2="171.652449829911" y2="86.7003568194682" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="182.39186461317377" y1="85.88489982303133" x2="172.85255635296903" y2="82.8846335153863" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><text x="176.02215722154236" y="144.29262832124977" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text><g  id=""><line x1="198.79500694133887" y1="129.34145667941502" x2="198.84383529950412" y2="120.56860695961849" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(255,0,0);"/><line x1="190.0709855797076" y1="120.51977860145324" x2="198.84383529950412" y2="120.56860695961849" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(255,0,0);"/></g><line x1="190.5" y1="43.44" x2="190.02215722154236" y2="129.29262832124977" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="189.54431444308474" y2="215.14525664249953" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="163.54431444308477" y2="129.14525664249953" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="216.5" y2="129.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g  id=""><line x1="193.7768798113023" y1="89.9214712483418" x2="186.74527741024002" y2="82.81115707290796" style="stroke-width:1;stroke:rgb(255,0,0);" /><line x1="186.70592152305426" y1="89.88211536115601" x2="193.81623569848807" y2="82.85051296009375" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="193.2990370328447" y1="175.77409956959156" x2="186.2674346317824" y2="168.66378539415774" style="stroke-width:1;stroke:rgb(255,0,0);" /><line x1="186.22807874459664" y1="175.7347436824058" x2="193.33839292003046" y2="168.7031412813435" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="176.75540701760488" y1="134.21886503698207" x2="176.81106464702222" y2="124.21901992676723" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="203.28890742547983" y1="124.36639160551746" x2="203.2332497960625" y2="134.3662367157323" style="stroke-width:1;stroke:rgb(255,0,0);" /></g></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un losange donc ses diagonales se coupent en leur milieu : $${
            A + O
          }=${A + C}\\div2=${tex_nombre(2 * a)}\\div2=${tex_nombre(
            a
          )}$ cm.<br>`;
          texte_corr += `On sait que les diagonales d'un losange se coupent perpendiculairement donc $${
            A + O + C
          }$ est un triangle rectangle en $O$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + O}^2+${
            O + B
          }^2=${A + B}^2$.<br>`;
          texte_corr += `Donc $${O + B}^2=${A + B}^2-${A + O}^2=${tex_nombre(
            c
          )}^2-${tex_nombre(a)}^2=${tex_nombre(b ** 2)}$.<br>`;
          texte_corr += `On a alors $${O + B}=\\sqrt{${tex_nombrec(
            b ** 2
          )}}=${tex_nombre(b)}$ cm.<br>`;
          texte_corr += `Finalement comme $O$ est aussi le milieu de $[${
            D + B
          }]$ : $${D + B}=2\\times ${O + B}=2\\times${tex_nombre(
            b
          )}=${tex_nombre(2 * b)}$ cm.`;
          break;

        case "rectangle_diagonale_connue":
          texte = `$${nom_quadrilatere}$ est un rectangle tel que $${
            A + B
          }=${tex_nombre(a)}$ cm et $${A + C}=${tex_nombre(c)}$ cm.<br>`;
          texte += `Calculer $${B + C}$.`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id=""/><text x="113.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="276.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><g id=""/><g id=""/><text x="276.5" y="138.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><text x="111.5" y="141.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><polygon points="126.500,53.440 272.500,53.440 272.500,124.440 126.500,124.440 " style="stroke-width:1;stroke:rgb(0,0,0);fill:none"  id=""/><g  id=""><line x1="142.5" y1="53.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="126.5" y1="69.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="272.5" y1="69.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="256.5" y1="53.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="256.5" y1="124.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="272.5" y1="108.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="126.5" y1="108.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="142.5" y1="124.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><line x1="126.5" y1="53.44" x2="272.5" y2="124.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/></svg></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un rectangle donc il possède 4 angles droits et $${
            A + B + C
          }$ est un triangle rectangle en $${B}$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + B}^2+${
            B + C
          }^2=${A + C}^2$.<br>`;
          texte_corr += `Donc $${B + C}^2=${A + C}^2-${A + B}^2=${tex_nombre(
            c
          )}^2-${tex_nombre(a)}^2=${tex_nombre(b ** 2)}$.<br>`;
          texte_corr += `Finalement, $${B + C}=\\sqrt{${tex_nombrec(
            b ** 2
          )}}=${tex_nombre(b)}$ cm.`;
          break;

        case "rectangle_diagonale_a_trouver":
          texte = `$${nom_quadrilatere}$ est un rectangle tel que $${
            A + B
          }=${tex_nombre(a)}$ cm et $${B + C}=${tex_nombre(b)}$ cm.<br>`;
          texte += `Calculer $${A + C}$.`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id=""/><text x="113.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="276.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><g id=""/><g id=""/><text x="276.5" y="138.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><text x="111.5" y="141.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><polygon points="126.500,53.440 272.500,53.440 272.500,124.440 126.500,124.440 " style="stroke-width:1;stroke:rgb(0,0,0);fill:none"  id=""/><g  id=""><line x1="142.5" y1="53.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="126.5" y1="69.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="272.5" y1="69.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="256.5" y1="53.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="256.5" y1="124.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="272.5" y1="108.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="126.5" y1="108.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="142.5" y1="124.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><line x1="126.5" y1="53.44" x2="272.5" y2="124.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/></svg></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un rectangle donc il possède 4 angles droits et $${
            A + B + C
          }$ est un triangle rectangle en $${B}$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + C}^2=${
            A + B
          }^2+${B + C}^2=${tex_nombrec(a)}^2+${tex_nombrec(b)}^2=${tex_nombrec(
            c ** 2
          )}$.<br>`;
          texte_corr += `Finalement, $${A + C}=\\sqrt{${tex_nombrec(
            c ** 2
          )}}=${tex_nombre(c)}$ cm.`;
          break;

        case "parallelogramme_est_losange":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + O
          }=${tex_nombre(a)}$ cm, $${A + B}=${tex_nombre(c)}$ cm et $${
            B + O
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un losange ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + O + B
          }$, le plus grand côté est $[${A + B}]$.<br>`;
          texte_corr += `$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + O}^2+${O + B}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + B}^2=${A + O}^2+${
            O + B
          }^2$, l'égalité de Pythagore est vérifiée donc $${
            A + O + B
          }$ est rectangle en $O$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ est un parallélogramme qui a ses diagonales perpendiculaires alors c'est aussi un losange.`;
          break;

        case "parallelogramme_n_est_pas_losange":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + O
          }=${tex_nombre(a)}$ cm, $${A + B}=${tex_nombre(c)}$ cm et $${
            B + O
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un losange ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + O + B
          }$, le plus grand côté est $[${A + B}]$.<br>`;
          texte_corr += `$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + O}^2+${O + B}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + B}^2\\not=${A + O}^2+${
            O + B
          }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${
            A + O + B
          }$ n'est pas un triangle rectangle.<br>`;
          texte_corr += `Si $${nom_quadrilatere}$ était un losange alors ses diagonales devraient être perpendiculaires et $${
            A + O + B
          }$ devrait être un triangle rectangle.<br>`;
          texte_corr += `Finalement comme $${
            A + O + B
          }$ n'est pas un triangle rectangle, $${nom_quadrilatere}$ n'est pas un losange.`;
          break;

        case "parallelogramme_est_rectangle":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + B
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(c)}$ cm et $${
            B + C
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un rectangle ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + B + C
          }$, le plus grand côté est $[${A + C}]$.<br>`;
          texte_corr += `$${A + C}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + B}^2+${B + C}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + C}^2=${A + B}^2+${
            B + C
          }^2$, l'égalité de Pythagore est vérifiée donc $${
            A + B + C
          }$ est rectangle en $${B}$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ est un parallélogramme qui a un angle droit en $${B}$ alors c'est aussi un rectangle.`;
          break;

        case "parallelogramme_n_est_pas_rectangle":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + B
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(c)}$ cm et $${
            B + C
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un rectangle ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + B + C
          }$, le plus grand côté est $[${A + C}]$.<br>`;
          texte_corr += `$${A + C}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + B}^2+${B + C}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + C}^2\\not=${A + B}^2+${
            B + C
          }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${
            A + B + C
          }$ n'est pas rectangle en $${B}$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ n'a pas d'angle droit en $${B}$ ce n'est pas un rectangle.`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Puissances d'un relatif (1)
 * * L’objectif est de travailler le sens des règles de calcul sur les puissances plutôt que les formules magiques
 *
 * Paramétrages possibles :
 * * 1 : produit de puissances de même base
 * * 2 : quotient de puissances de même base
 * * 3 : puissance de puissance
 * * 4 : produit de puissances de même exposant
 * * 5 : mélange des trois autres niveaux
 * @Auteur Sébastien Lozano
 * 4C33-1
 */
function Puissances_d_un_relatif_1() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances : Le sens des règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{a^n}$.")
    : (this.consigne = "Écrire sous la forme $a^n$.");
  sortie_html ? (this.spacing = 3) : (this.spacing = 2);
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);
  this.nb_questions = 5;
  this.correction_detaillee_disponible = true;
  this.nb_cols_corr = 1;
  this.sup = 5;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions;
    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [];
    if (this.sup == 1) {
      type_de_questions_disponibles = [1]; // produit de puissances de même base
    } else if (this.sup == 2) {
      type_de_questions_disponibles = [2]; // quotient de puissances de même base
    } else if (this.sup == 3) {
      type_de_questions_disponibles = [3]; // puissance de puissance
    } else if (this.sup == 4) {
      type_de_questions_disponibles = [4]; // produit de puissances de même exposant
    } else if (this.sup == 5) {
      type_de_questions_disponibles = [1, 2, 3, 4]; // mélange
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    // pour pouvoir adapter les couleurs en cas de besoin
    let coul0 = "red";
    let coul1 = "blue";

    for (
      let i = 0,
        base0,
        base1,
        base,
        base_utile,
        exp0,
        exp1,
        exp,
        coul_exp0,
        coul_exp1,
        lettre,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];

      base = randint(2, 9) * choice([-1, 1]); // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances
      exp0 = randint(1, 9);
      exp1 = randint(1, 9, [exp0]);
      exp = [exp0, exp1]; // on choisit deux exposants différents c'est mieux
      lettre = lettre_depuis_chiffre(i + 1); // on utilise des lettres pour les calculs

      if (base < 0) {
        base_utile = "(" + base + ")"; // on définit une base avec des parenthèses pour l'affichage du cas negatif
      } else {
        base_utile = base;
      }

      switch (type_de_questions) {
        case 1: // produit de puissances de même base
          texte = `$${lettre}=${base_utile}^${exp[0]}\\times ${base_utile}^${exp[1]}$`;

          texte_corr = `$${lettre}=${base_utile}^${exp[0]}\\times ${base_utile}^${exp[1]}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              base_utile,
              exp[0],
              coul0
            )} \\times ${eclatePuissance(base_utile, exp[1], coul1)}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[0]}}~\\color{black}{+}~\\color{${coul1}}{${exp[1]}}}$ facteurs tous égaux à $${base_utile}$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=${base_utile}^{${exp[0]}+${
            exp[1]
          }} = ${base_utile}^{${exp[0] + exp[1]}}`;
          // attention la base_utile est de type str alors que la fonction switch sur un type number
          if (simpNotPuissance(base, exp[0] + exp[1]) != ` `) {
            texte_corr += `=${simpNotPuissance(base, exp[0] + exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 2: // quotient de puissances de même base
          // Pour que la couleur de la base associée à l'exposant max soit toujours rouge.
          if (Math.max(exp[0], exp[1]) == exp[0]) {
            coul_exp0 = coul0;
            coul_exp1 = coul1;
          } else {
            coul_exp0 = coul1;
            coul_exp1 = coul0;
          }

          texte = `$${lettre}=\\dfrac{${base_utile}^${exp[0]}}{${base_utile}^${exp[1]}}$`;

          texte_corr = `$${lettre}=\\dfrac{${base_utile}^${exp[0]}}{${base_utile}^${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
              base_utile,
              exp[0],
              coul_exp0
            )}}{${eclatePuissance(base_utile, exp[1], coul_exp1)}}$`;
          }
          texte_corr += `<br><br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul1}}{${Math.min(
            exp[0],
            exp[1]
          )}}}$ simplifications par $${base_utile}$ possibles.`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
          }
          if (exp[0] - exp[1] == 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=1`;
          } else if (exp[0] - exp[1] < 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp1
              )}\\times${eclatePuissance(
                base_utile,
                exp[1] - exp[0],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{1}{${base_utile}^{${exp[1]}-${
              exp[0]
            }}}=\\dfrac{1}{${base_utile}^{${exp[1] - exp[0]}}}`;
            if (simpNotPuissance(base, exp[1] - exp[0]) != ` `) {
              texte_corr += `=\\dfrac{1}{${simpNotPuissance(
                base,
                exp[1] - exp[0]
              )}}=${simpNotPuissance(base, exp[0] - exp[1])}`;
            } else {
              texte_corr += `=${base_utile}^{${exp[0] - exp[1]}}`;
            }
          } else {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[1],
                coul_exp0
              )}\\times${eclatePuissance(
                base_utile,
                exp[0] - exp[1],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[1],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=${base_utile}^{${exp[0]}-${
              exp[1]
            }}=${base_utile}^{${exp[0] - exp[1]}}`;
            if (simpNotPuissance(base, exp[0] - exp[1]) != ` `) {
              texte_corr += `=${simpNotPuissance(base, exp[0] - exp[1])}`;
            }
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 3: // exponentiation
          exp = [randint(2, 4), randint(2, 4)]; // on redéfinit les deux exposants pour ne pas avoir d'écritures trop longues et pour éviter 1
          texte = `$${lettre}=(${base_utile}^${exp[0]})^{${exp[1]}}$`;

          texte_corr = `$${lettre}=(${base_utile}^${exp[0]})^{${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(${base_utile}^${exp[0]})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\thickspace\\text{facteurs}}}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(\\color{${coul1}}{\\underbrace{${eclatePuissance(
                base_utile,
                exp[0],
                coul1
              )}}_{${exp[0]}\\thickspace\\text{facteurs}}}\\color{${coul0}})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\times\\color{${coul1}}{${
              exp[0]
            }}\\thickspace\\color{black}{\\text{facteurs}}}}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[1]}}~\\color{black}{\\times}~\\color{${coul1}}{${exp[0]}}}$ facteurs tous égaux à $${base_utile}$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=${base_utile}^{${exp[0]}\\times${
            exp[1]
          }} = ${base_utile}^{${exp[0] * exp[1]}}`;
          if (simpNotPuissance(base, exp[0] * exp[1]) != ` `) {
            texte_corr += `= ${simpNotPuissance(base, exp[0] * exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 4: // produit de puissances de même exposant
          base0 = randint(2, 8, [4, 6]);
          base1 = randint(2, 8, [4, 6, base0]);
          base = [base0, base1]; // on choisit 2 bases différentes c'est mieux
          exp = randint(2, 5, 6); // on choisit un exposant
          texte = `$${lettre}=${base[0]}^${exp}\\times ${base[1]}^${exp}$`;
          texte_corr += `<br>`;
          texte_corr = `$${lettre}=${base[0]}^${exp}\\times ${base[1]}^${exp}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              base[0],
              exp,
              coul0
            )} \\times ${eclatePuissance(base[1], exp, coul1)}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${reorganiseProduitPuissance(
              base[0],
              base[1],
              exp,
              coul0,
              coul1
            )}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `$${lettre}= (\\color{${coul0}}{\\mathbf{${
            base[0]
          }}} \\color{black}{\\times} \\color{${coul1}}{\\mathbf{${
            base[1]
          }}}\\color{black}{)^{${exp}}}=${base[0] * base[1]}^${exp}$`;
          texte_corr += `<br>`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Règle à travailler",
    5,
    "1 : Produit de deux puissances de même base\n2 : Quotient de deux puissances de même base\n3 : Puissance de puissance\n4 : Produit de puissances de même exposant\n5 : Mélange",
  ];
}

/**
 * Puissances d'un relatif (2)
 * * Travailler des résultats automatisés
 * * mais aussi d'utiliser les propriétés du produit de puissance, du quotient de puissances et des puissances de puissances
 * @Auteur Sébastien Lozano
 * 4C33-3
 */
function Puissances_d_un_relatif_2() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances : Calculs automatisés et règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{a^n}$.")
    : (this.consigne = "Écrire sous la forme $a^n$.");
  this.spacing = 2;
  this.spacing_corr = 2.5;
  this.nb_questions = 8;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    for (
      let i = 0, base, exp, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let type_de_questions = liste_type_de_questions[i];

      switch (type_de_questions) {
        case 1:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base * base}}{${base}^${
            exp[1]
          } \\times ${base}^${exp[2]}}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${
            base * base
          }}{${base}^${exp[1]} \\times ${base}^${exp[2]}}`;
          texte_corr += ` = \\dfrac{${base}^${exp[0]}\\times ${base}^{2}}{${base}^${exp[1]} \\times ${base}^${exp[2]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0]}+2}}{${base}^{${exp[1]}+${exp[2]}}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0] + 2}}}{${base}^{${
            exp[1] + exp[2]
          }}}`;
          texte_corr += ` = ${base}^{${exp[0] + 2}-${exp[1] + exp[2]}}`;
          texte_corr += ` = ${base}^{${exp[0] + 2 - exp[1] - exp[2]}}`;
          if (
            exp[0] + 2 - exp[1] - exp[2] == 0 ||
            exp[0] + 2 - exp[1] - exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, exp[0] + 2 - exp[1] - exp[2]);
          }
          texte_corr += `$`;
          break;
        case 2:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 2 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base ** 3}}{${base}^${
            exp[1]
          }}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${
            base ** 3
          }}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^${exp[0]}\\times ${base}^3}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0]}+3}}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0] + 3}}}{${base}^${
            exp[1]
          }}`;
          texte_corr += ` = ${base}^{${exp[0] + 3}-${exp[1]}}`;
          texte_corr += ` = ${base}^{${exp[0] + 3 - exp[1]}}`;
          if (exp[0] + 3 - exp[1] == 0 || exp[0] + 3 - exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, exp[0] + 3 - exp[1]);
          }
          texte_corr += `$`;
          break;
        case 3:
          base = 5; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 2)]; // on a besoin de 2 exposants distincts
          // le second exposant ne peut valoir que 1 ou 2 la fonction testExp ne convient pas à l'affichage ici
          if (exp[1] == 2) {
            texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${base ** 2}^${
              exp[1]
            }}$`;
            texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
              base ** 2
            }^${exp[1]}}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{(${base}^2)^${exp[1]}}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^{2 \\times ${exp[1]}}}`;
            texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{${
              2 * exp[1]
            }}}`;
          } else {
            texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${base ** 2}}$`;
            texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
              base ** 2
            }}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^2}`;
          }
          texte_corr += `=${base}^{${1 + exp[0]}-${2 * exp[1]}}`;
          texte_corr += `=${base}^{${1 + exp[0] - 2 * exp[1]}}`;
          if (1 + exp[0] - 2 * exp[1] == 0 || 1 + exp[0] - 2 * exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, 1 + exp[0] - 2 * exp[1]);
          }
          texte_corr += `$`;
          break;
        case 4:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
            base ** 2
          }\\times ${base ** 2}}$`;
          texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
            base ** 2
          }\\times ${base ** 2}}`;
          texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^2\\times ${base}^2}`;
          texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{2+2}}`;
          texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{${2 + 2}}}`;
          texte_corr += `=${base}^{${1 + exp[0]}-${2 + 2}}`;
          texte_corr += `=${base}^{${1 + exp[0] - 2 - 2}}`;
          if (1 + exp[0] - 2 - 2 == 0 || 1 + exp[0] - 2 - 2 == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, 1 + exp[0] - 2 - 2);
          }
          texte_corr += `$`;
          break;
        case 5:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 2}^${exp[0]}}{${base}}$`;
          texte_corr = `$\\dfrac{${base ** 2}^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{(${base}^2)^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{2\\times ${exp[0]}}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{${2 * exp[0]}}}{${base}}`;
          texte_corr += `=${base}^{${2 * exp[0]}-1}`;
          texte_corr += `=${base}^{${2 * exp[0] - 1}}$`;
          // Inutile de tester l'exposant final car il vaut au minimum 3
          break;
        case 6:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 3, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 3}^${exp[0]}}{${base}}$`;
          texte_corr = `$\\dfrac{${base ** 3}^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{(${base}^3)^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{3\\times ${exp[0]}}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{${3 * exp[0]}}}{${base}}`;
          texte_corr += `=${base}^{${3 * exp[0]}-1}`;
          texte_corr += `=${base}^{${3 * exp[0] - 1}}$`;
          // inutile de tester l'exposant final car il vaut au minimum 5
          break;
        case 7:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 4, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base}^${exp[1]}}{${
            base ** 2
          }^${exp[2]}}\\times ${base}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${base}^${exp[1]}}{${
            base ** 2
          }^${exp[2]}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0]}+${exp[1]}}}{(${base}^2)^${exp[2]}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${
            exp[0] + exp[1]
          }}}{${base}^{2\\times ${exp[2]}}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1]}}}{${base}^{${
            2 * exp[2]
          }}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${
            exp[0] + exp[1]
          }}\\times ${base}}{${base}^{${2 * exp[2]}}}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1]}+1}}{${base}^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1] + 1}}}{${base}^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=${base}^{${exp[0] + exp[1] + 1}-${2 * exp[2]}}`;
          texte_corr += `=${base}^{${exp[0] + exp[1] + 1 - 2 * exp[2]}}`;
          if (
            exp[0] + exp[1] + 1 - 2 * exp[2] == 0 ||
            exp[0] + exp[1] + 1 - 2 * exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(base, exp[0] + exp[1] + 1 - 2 * exp[2]);
          }
          texte_corr += `$`;
          break;
        case 8:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 3}\\times ${base}}{${base ** 2}^${
            exp[0]
          }}$`;
          texte_corr = `$\\dfrac{${base ** 3}\\times ${base}}{${base ** 2}^${
            exp[0]
          }}`;
          texte_corr += `=\\dfrac{${base}^3\\times ${base}}{(${base}^2)^${exp[0]}}`;
          texte_corr += `=\\dfrac{${base}^{3+1}}{${base}^{2\\times${exp[0]}}}`;
          texte_corr += `=\\dfrac{${base}^{4}}{${base}^{${2 * exp[0]}}}`;
          texte_corr += `=${base}^{4-${2 * exp[0]}}`;
          texte_corr += `=${base}^{${3 + 1 - 2 * exp[0]}}`;
          if (3 + 1 - 2 * exp[0] == 0 || 3 + 1 - 2 * exp[0] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(base, 3 + 1 - 2 * exp[0]);
          }
          texte_corr += `$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * 4C30 -- Puissances de 10
 * * Travailler des résultats automatisés
 * @author Sébastien Lozano
 */
function Puissances_de_dix() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances de 10 : Le sens des règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{10^n}$.")
    : (this.consigne = "Écrire sous la forme $10^n$.");
  sortie_html ? (this.spacing = 3) : (this.spacing = 2);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 5;
  this.correction_detaillee_disponible = true;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions;
    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [];
    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 2, 3]; // produit, quotient et exponentiation de puissances de 10
    } else if (this.sup == 2) {
      type_de_questions_disponibles = [4, 5, 6, 7, 8, 9, 10, 11]; // calculs première série
    } else if (this.sup == 3) {
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]; // calculs deuxième série
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    // pour pouvoir adapter les couleurs en cas de besoin
    let coul0 = "red";
    let coul1 = "blue";

    for (
      let i = 0,
        exp0,
        exp1,
        exp,
        coul_exp0,
        coul_exp1,
        lettre,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];

      exp0 = randint(1, 9);
      exp1 = randint(1, 9, [exp0]);
      exp = [exp0, exp1]; // on choisit deux exposants différents c'est mieux
      lettre = lettre_depuis_chiffre(i + 1); // on utilise des lettres pour les calculs

      switch (type_de_questions) {
        case 1: // produit de puissances de même base
          texte = `$${lettre}=10^${exp[0]}\\times 10^${exp[1]}$`;

          texte_corr = `$${lettre}=10^${exp[0]}\\times 10^${exp[1]}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              10,
              exp[0],
              coul0
            )} \\times ${eclatePuissance(10, exp[1], coul1)}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[0]}}~\\color{black}{+}~\\color{${coul1}}{${exp[1]}}}$ facteurs tous égaux à $10$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=10^{${exp[0]}+${exp[1]}} = 10^{${
            exp[0] + exp[1]
          }}`;
          // attention la base est de type str alors que la fonction switch sur un type number
          if (simpNotPuissance(10, exp[0] + exp[1]) != ` `) {
            texte_corr += `=${simpNotPuissance(10, exp[0] + exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 2: // quotient de puissances de même base
          // Pour que la couleur de la 10 associée à l'exposant max soit toujours rouge.
          if (Math.max(exp[0], exp[1]) == exp[0]) {
            coul_exp0 = coul0;
            coul_exp1 = coul1;
          } else {
            coul_exp0 = coul1;
            coul_exp1 = coul0;
          }

          texte = `$${lettre}=\\dfrac{10^${exp[0]}}{10^${exp[1]}}$`;

          texte_corr = `$${lettre}=\\dfrac{10^${exp[0]}}{10^${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
              10,
              exp[0],
              coul_exp0
            )}}{${eclatePuissance(10, exp[1], coul_exp1)}}$`;
          }
          texte_corr += `<br><br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul1}}{${Math.min(
            exp[0],
            exp[1]
          )}}}$ simplifications par $10$ possibles.`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
          }
          if (exp[0] - exp[1] == 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(`\\cancel{10}`, exp[0], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=1`;
          } else if (exp[0] - exp[1] < 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp1
              )}\\times${eclatePuissance(10, exp[1] - exp[0], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{1}{10^{${exp[1]}-${
              exp[0]
            }}}=\\dfrac{1}{10^{${exp[1] - exp[0]}}}`;
            if (simpNotPuissance(10, exp[1] - exp[0]) != ` `) {
              texte_corr += `=\\dfrac{1}{${simpNotPuissance(
                10,
                exp[1] - exp[0]
              )}}=${simpNotPuissance(10, exp[0] - exp[1])}`;
            } else {
              texte_corr += `=10^{${exp[0] - exp[1]}}`;
            }
          } else {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[1],
                coul_exp0
              )}\\times${eclatePuissance(
                10,
                exp[0] - exp[1],
                coul_exp0
              )}}{${eclatePuissance(`\\cancel{10}`, exp[1], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=10^{${exp[0]}-${exp[1]}}=10^{${
              exp[0] - exp[1]
            }}`;
            if (simpNotPuissance(10, exp[0] - exp[1]) != ` `) {
              texte_corr += `=${simpNotPuissance(10, exp[0] - exp[1])}`;
            }
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 3: // exponentiation
          exp = [randint(2, 4), randint(2, 4)]; // on redéfinit les deux exposants pour ne pas avoir d'écritures trop longues et pour éviter 1
          texte = `$${lettre}=(10^${exp[0]})^{${exp[1]}}$`;

          texte_corr = `$${lettre}=(10^${exp[0]})^{${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(10^${exp[0]})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\thickspace\\text{facteurs}}}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(\\color{${coul1}}{\\underbrace{${eclatePuissance(
                10,
                exp[0],
                coul1
              )}}_{${exp[0]}\\thickspace\\text{facteurs}}}\\color{${coul0}})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\times\\color{${coul1}}{${
              exp[0]
            }}\\thickspace\\color{black}{\\text{facteurs}}}}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[1]}}~\\color{black}{\\times}~\\color{${coul1}}{${exp[0]}}}$ facteurs tous égaux à $10$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=10^{${exp[0]}\\times${exp[1]}} = 10^{${
            exp[0] * exp[1]
          }}`;
          if (simpNotPuissance(10, exp[0] * exp[1]) != ` `) {
            texte_corr += `= ${simpNotPuissance(10, exp[0] * exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 4:
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 100}{10^${exp[1]} \\times 10^${exp[2]}}$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 100}{10^${exp[1]} \\times 10^${exp[2]}}`;
          texte_corr += ` = \\dfrac{10^${exp[0]}\\times 10^{2}}{10^${exp[1]} \\times 10^${exp[2]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0]}+2}}{10^{${exp[1]}+${exp[2]}}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0] + 2}}}{10^{${
            exp[1] + exp[2]
          }}}`;
          texte_corr += ` = 10^{${exp[0] + 2}-${exp[1] + exp[2]}}`;
          texte_corr += ` = 10^{${exp[0] + 2 - exp[1] - exp[2]}}`;
          if (
            exp[0] + 2 - exp[1] - exp[2] == 0 ||
            exp[0] + 2 - exp[1] - exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, exp[0] + 2 - exp[1] - exp[2]);
          }
          texte_corr += `$`;
          break;
        case 5:
          exp = [randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 2 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 1000}{10^${exp[1]}}$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 1000}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^${exp[0]}\\times 10^3}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0]}+3}}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0] + 3}}}{10^${exp[1]}}`;
          texte_corr += ` = 10^{${exp[0] + 3}-${exp[1]}}`;
          texte_corr += ` = 10^{${exp[0] + 3 - exp[1]}}`;
          if (exp[0] + 3 - exp[1] == 0 || exp[0] + 3 - exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, exp[0] + 3 - exp[1]);
          }
          texte_corr += `$`;
          break;
        case 6:
          exp = [randint(1, 7, [1]), randint(1, 2)]; // on a besoin de 2 exposants distincts
          // le second exposant ne peut valoir que 1 ou 2 la fonction testExp ne convient pas à l'affichage ici
          if (exp[1] == 2) {
            texte = `$\\dfrac{10\\times 10^${exp[0]}}{100^${exp[1]}}$`;
            texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100^${exp[1]}}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{(10^2)^${exp[1]}}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^{2 \\times ${exp[1]}}}`;
            texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{${2 * exp[1]}}}`;
          } else {
            texte = `$\\dfrac{10\\times 10^${exp[0]}}{100}$`;
            texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^2}`;
          }
          texte_corr += `=10^{${1 + exp[0]}-${2 * exp[1]}}`;
          texte_corr += `=10^{${1 + exp[0] - 2 * exp[1]}}`;
          if (1 + exp[0] - 2 * exp[1] == 0 || 1 + exp[0] - 2 * exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, 1 + exp[0] - 2 * exp[1]);
          }
          texte_corr += `$`;
          break;
        case 7:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{10\\times 10^${exp[0]}}{100\\times 100}$`;
          texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100\\times 100}`;
          texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^2\\times 10^2}`;
          texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{2+2}}`;
          texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{${2 + 2}}}`;
          texte_corr += `=10^{${1 + exp[0]}-${2 + 2}}`;
          texte_corr += `=10^{${1 + exp[0] - 2 - 2}}`;
          if (1 + exp[0] - 2 - 2 == 0 || 1 + exp[0] - 2 - 2 == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, 1 + exp[0] - 2 - 2);
          }
          texte_corr += `$`;
          break;
        case 8:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{100^${exp[0]}}{10}$`;
          texte_corr = `$\\dfrac{100^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{(10^2)^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{10^{2\\times ${exp[0]}}}{10}`;
          texte_corr += `=\\dfrac{10^{${2 * exp[0]}}}{10}`;
          texte_corr += `=10^{${2 * exp[0]}-1}`;
          texte_corr += `=10^{${2 * exp[0] - 1}}$`;
          // Inutile de tester l'exposant final car il vaut au minimum 3
          break;
        case 9:
          exp = [randint(1, 3, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{1000^${exp[0]}}{10}$`;
          texte_corr = `$\\dfrac{1000^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{(10^3)^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{10^{3\\times ${exp[0]}}}{10}`;
          texte_corr += `=\\dfrac{10^{${3 * exp[0]}}}{10}`;
          texte_corr += `=10^{${3 * exp[0]}-1}`;
          texte_corr += `=10^{${3 * exp[0] - 1}}$`;
          // inutile de tester l'exposant final car il vaut au minimum 5
          break;
        case 10:
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 4, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 10^${exp[1]}}{100^${exp[2]}}\\times 10$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 10^${exp[1]}}{100^${exp[2]}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0]}+${exp[1]}}}{(10^2)^${exp[2]}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}}{10^{2\\times ${
            exp[2]
          }}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}}{10^{${
            2 * exp[2]
          }}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}\\times 10}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}+1}}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1] + 1}}}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=10^{${exp[0] + exp[1] + 1}-${2 * exp[2]}}`;
          texte_corr += `=10^{${exp[0] + exp[1] + 1 - 2 * exp[2]}}`;
          if (
            exp[0] + exp[1] + 1 - 2 * exp[2] == 0 ||
            exp[0] + exp[1] + 1 - 2 * exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(10, exp[0] + exp[1] + 1 - 2 * exp[2]);
          }
          texte_corr += `$`;
          break;
        case 11:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{1000\\times 10}{100^${exp[0]}}$`;
          texte_corr = `$\\dfrac{1000\\times 10}{100^${exp[0]}}`;
          texte_corr += `=\\dfrac{10^3\\times 10}{(10^2)^${exp[0]}}`;
          texte_corr += `=\\dfrac{10^{3+1}}{10^{2\\times${exp[0]}}}`;
          texte_corr += `=\\dfrac{10^{4}}{10^{${2 * exp[0]}}}`;
          texte_corr += `=10^{4-${2 * exp[0]}}`;
          texte_corr += `=10^{${3 + 1 - 2 * exp[0]}}`;
          if (3 + 1 - 2 * exp[0] == 0 || 3 + 1 - 2 * exp[0] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(10, 3 + 1 - 2 * exp[0]);
          }
          texte_corr += `$`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Règle à travailler",
    3,
    "1 : Calculs de base\n2 : Calculs plus complexes\n3 : Mélange",
  ];
}

/**
 * problèmes de grandeurs composées
 * @Auteur Jean-Claude Lhote
 * Référence : 4P10
 */
function Problemes_grandeurs_composees() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Résoudre des problèmes de grandeurs composées et de conversion d'unités complexes";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  sortie_html ? (this.spacing = 3) : (this.spacing = 1.5);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.sup = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    // let liste_index_disponibles=[1,2,3,4,5,6,7,8,9,10,11,12,13,14];
    // let liste_index=combinaison_listes(liste_index_disponibles,this.nb_questions);
    let grandeurs = [];
    if (!this.sup) {
      // Si aucune grandeur n'est saisie
      grandeurs = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        grandeurs[0] = this.sup;
        this.nb_questions = 1;
      } else {
        grandeurs = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        this.nb_questions = grandeurs.length;
      }
    }

    let liste_index = combinaison_listes(grandeurs, this.nb_questions);
    let monchoix;
    let type_aide = 1;
    if (!sortie_html) type_aide = 0;
    let solutes = [
      [`sel`, `d'eau`, 300],
      [`sucre`, `d'eau`, 2000],
      [`dioxyde de carbone`, `d'eau`, 3],
      [`bicarbonate de sodium`, `d'eau`, 9],
      [`carbonate de sodium`, `d'eau`, 300],
    ]; //soluté, masse maximale en gramme pour saturer 1 L de solvant
    let materiaux = [
      [`Paladium`, 12000],
      [`acier`, 7800],
      [`fonte`, 7100],
      [`aluminium`, 2700],
      [`argent`, 10500],
      [`bronze`, 8800],
      [`cuivre`, 8960],
      [`fer`, 7860],
      [`lithium`, 530],
      [`mercure`, 13545],
      [`nickel`, 8900],
      [`or`, 19300],
      [`platine`, 21450],
      [`titane`, 4500],
      [`zinc`, 7150],
    ];
    let villes = [
      [`Nice`, 342637, 71.9],
      [`Montpellier`, 281613, 56.9],
      [`Rennes`, 216268, 50.4],
      [`Dijon`, 155090, 40.4],
      [`Orléans`, 114782, 27.5],
      [`Clermont-Ferrand`, 142686, 42.7],
      [`Nantes`, 306694, 65.2],
      [`Paris`, 2190327, 105.4],
      [`Lyon`, 515695, 47.9],
      [`Marseille`, 862211, 240.6],
      [`Bordeaux`, 252040, 49.4],
      [`Nancy`, 104592, 15],
      [`Toulouse`, 475438, 118.3],
      [`Lille`, 232440, 34.8],
      [`Strasbourg`, 279284, 78.3],
    ]; //[Ville, population, superfice en ha, année du recensement]
    let locations = [
      [`un vélo`, 1.5, 2, 8],
      [`un canoé`, 10, 2, 4],
      [`des rollers`, 7, 2, 5],
      [`un char à voile`, 12, 2, 4],
    ];
    let cours = [
      [`de piano`, 20],
      [`de maths`, 25],
      [`yoga`, 5],
      [`dessin`, 12],
      [`voile`, 15],
    ];
    let fruits = [
      [`pêches`, 4, 10, 30],
      [`Noix`, 5.4, 4, 13],
      [`cerises`, 5.6, 11, 20],
      [`pommes`, 2.2, 20, 40],
      [`framboises`, 15, 1, 5],
      [`fraises`, 7.5, 5, 10],
      [`citrons`, 1.5, 15, 30],
      [`bananes`, 1.5, 15, 25],
    ];
    let appareils = [
      [`radiateur`, 2000, 20],
      [`téléviseur`, 350, 12],
      [`four électrique`, 2500, 4],
      [`ordinateur`, 450, 8],
    ]; // [appareil,puissance,durée maxi de fonctionnement]
    let liquides = [
      [`de lait entier`, 1.032],
      [`d'essence`, 0.755],
      [`de diesel`, 0.83],
      [`d'huile`, 0.91],
      [`de bière`, 0.9],
      [`de sable`, 1.6],
    ]; // [nom,densité]
    let rivieres = [
      [`Marne`, `Gournay-sur-Marne`, 110, 550, `avril 1983`, `la `, `de la `],
      [`Seine`, `Alfortville`, 218, 2100, `janvier 1982`, `la `, `de la `],
      [`Oise`, `Pont-Sainte-Maxence`, 109, 665, `février 1995`, `l'`, `de l'`],
      [`Loire`, `Saint-Nazaire`, 931, 5350, `décembre 1999`, `la `, `de la`],
      [`Rhin`, `Strasbourg`, 951, 3310, `juin 2016`, `le `, `du `],
      [`Rhône`, `Beaucaire`, 1690, 11500, `décembre 2003`, `le `, `du `],
      [`Meuse`, `Chooz`, 144, 1610, `janvier 1995`, `la `, `de la `],
    ];
    // [Nom de rivière,Lieu de passage,débit moyen annuel, débitmax, date de la crue, article défini, article partitif]
    let vitesses = [
      [`sur un vélo`, 4, 12, 8],
      [`dans un train`, 50, 100, 5],
      [`dans une voiture`, 15, 30, 5],
      [`en avion`, 150, 250, 12],
      [`à pied`, 2, 4, 5],
    ]; // [moyen de transport, vitesse min,vitesse max en m/s,durée max en h]
    for (
      let i = 0,
        j,
        index,
        index1,
        index2,
        duree,
        quidam,
        nbheures,
        nbminutes,
        nbsecondes,
        vitesse_moy,
        distance,
        masse,
        masse2,
        masse3,
        prix1,
        prix2,
        prix3,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (parseInt(liste_index[i])) {
        case 1: // problème de consommation éléctrique
          index = randint(0, 3);
          let appareil = appareils[index][0];
          let puissance = appareils[index][1];
          let duree_max = appareils[index][2];
          let nbquartsdheures = randint(0, 3);
          nbheures = randint(duree_max / 4, duree_max, [1]);
          duree = nbheures + nbquartsdheures * 0.25;
          let prixkwh = calcul(randint(0, 5) / 100 + 0.14);
          texte = `L'étiquette apposée au dos d'un ${appareil} indique une puissance de ${puissance} Watts. On le fait fonctionner pendant ${Math.floor(
            duree
          )} heures `;
          if (nbquartsdheures != 0)
            texte += `et ${nbquartsdheures * 15} minutes`;
          texte += `.<br>Le prix d'un kWh est de ${tex_nombrec(
            prixkwh
          )} €.<br>`;
          if (sortie_html) {
            // les boutons d'aide uniquement pour la version html
          }
          texte +=
            num_alpha(0) +
            ` Exprimer en kWh l' ` +
            katex_Popup2(
              numero_de_l_exercice + i + 1,
              type_aide,
              "énergie",
              `Définition : énergie (grandeur physique)`,
              `C’est le produit de la puissance électrique (Watt) par le temps (s) et se mesure en Joule (J).<br>1 J=1 W × 1 s.<br>Cependant pour mesurer des énergies plus importantes on utilise plutôt le kiloWattheure (kWh).<br>1 kWh=1000 W × 1 h.`
            ) +
            ` consommée.<br>`;
          texte += num_alpha(1) + ` Calculer la dépense correspondante.`;
          texte_corr =
            num_alpha(0) +
            ` Un ${appareil} d'une puissance de ${puissance} Watts qui fonctionne pendant ${Math.floor(
              duree
            )} heures `;
          if (nbquartsdheures != 0)
            texte_corr += `et ${nbquartsdheures * 15} minutes`;
          texte_corr += ` consomme : <br>`;
          if (nbquartsdheures != 0)
            texte_corr += `$${nbheures}\\text{ h } ${
              nbquartsdheures * 15
            } = ${nbheures}\\text{ h} + ${tex_fraction_reduite(
              nbquartsdheures,
              4
            )}\\text{ h} =${tex_nombre(
              nbheures + nbquartsdheures * 0.25
            )}\\text{ h}$<br>`;
          texte_corr += `$${puissance}\\text{ W}\\times${tex_nombre(
            duree
          )}\\text{ h}=${tex_nombre(
            puissance / 1000
          )}\\text{ kW}\\times${tex_nombre(duree)}\\text{ h}=${tex_nombre(
            calcul(puissance * duree * 0.001)
          )}\\text{ kWh}.$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le prix de cette énergie consommée est : $${tex_nombre(
              prixkwh
            )}$ €$\\text{ /kWh} \\times${tex_nombre(
              calcul(puissance * duree * 0.001)
            )}\\text{ kWh}`;
          if (
            !(
              (prixkwh * puissance * duree) / 10 ==
              Math.round((prixkwh * puissance * duree) / 10)
            )
          )
            texte_corr += `\\approx${arrondi_virgule(
              ((prixkwh * puissance) / 1000) * duree,
              2
            )}$ €`;
          else
            texte_corr += `=${arrondi_virgule(
              ((prixkwh * puissance) / 1000) * duree,
              2
            )}$ €`;
          break;
        case 2: // problèmes de volumes
          index1 = randint(0, 1);
          switch (index1) {
            case 0: // Volume d'une piscine
              let h1 = 180 + randint(0, 10) * 10;
              let h2 = 80 + randint(0, 4) * 10;
              let l = 5 + randint(0, 5);
              let L = l * 2 + randint(0, 4) * 2;
              let deltat = randint(2, 5);
              texte = `Une piscine a la forme d'un prisme droit. La profondeur à son extrémité nord est de ${h1} cm et la profondeur à son extrémité sud est de ${h2} cm.<br>`;
              texte += `D\'une extrémité à l\'autre la pente au fond de la piscine est régulière.<br>La largeur de la piscine (Est-Ouest) est de ${l} m et sa longueur (Nord-Sud) est de ${L} m.<br>`;
              texte +=
                num_alpha(0) +
                ` Calculer le ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "volume",
                  `Définition : volume (grandeur physique)`,
                  `C’est le produit de trois longueurs ou le produit d'une aire et d'une longueur.<br>L'unité de mesure du volume est le mètre cube (m${exposant(
                    3
                  )}) mais on peut aussi rencontrer le litre (L) avec comme correspondance 1dm${exposant(
                    3
                  )}=1L`
                ) +
                ` d'eau en m${exposant(
                  3
                )} contenu dans cette piscine quand elle est pleine.<br>`;
              texte +=
                num_alpha(1) +
                ` Sachant que pour élever la température d'un litre d'eau de 1 degré, il faut une énergie de 1,162 Wattheure.<br> Quelle est l'énergie consommée en kWh pour augmenter de ${deltat} degrés ?<br>`;
              texte_corr =
                num_alpha(0) +
                ` La base de ce prisme droit est un trapèze rectangle de petite base ${h2} cm, de grande base ${h1} cm et de hauteur ${L} m.<br>`;
              texte_corr += `$\\mathcal{A}=\\dfrac{\\left(${h1}\\text{ cm}+${h2}\\text{ cm}\\right)}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=\\dfrac{\\left(${arrondi_virgule(
                h1 / 100
              )}\\text{ m}+${arrondi_virgule(
                h2 / 100
              )}\\text{ m}\\right)}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=\\dfrac{${arrondi_virgule(
                (h1 + h2) / 100
              )}\\text{ m}}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                (h1 + h2) / 200
              )}\\text{ m}\\times${L}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                ((h1 + h2) / 200) * L
              )}\\text{ m}$${exposant(2)}<br>`;
              texte_corr += `Le volume de ce prisme et donc par extension le volume d'eau conteu dans la piscine est :<br>`;
              texte_corr += `$\\mathcal{A}\\times\\mathcal{h}=${arrondi_virgule(
                ((h1 + h2) / 200) * L
              )}\\text{ m}^2\\times${l}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                ((h1 + h2) / 200) * L * l
              )}$m${exposant(3)}.<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Convertissons le volume de la piscine en litres : $${arrondi_virgule(
                  ((h1 + h2) / 200) * L * l
                )}\\text{ m}^3=${tex_nombre(
                  (h1 + h2) * L * l * 5
                )}\\text{ dm}^3=${tex_nombre(
                  (h1 + h2) * L * l * 5
                )}\\text{ L}$<br>`;
              texte_corr += ` L'énergie consomée pour élever la température de l'eau de cette piscine de ${deltat} degrés est :<br>`;
              texte_corr += `$\\mathcal{E}=${tex_nombre(
                (h1 + h2) * L * l * 5
              )}\\text{ L}\\times${deltat}\\text{ °C}\\times 1,162 \\dfrac{\\text{Wh}}{\\text{°C}\\times\\text{L}}=${tex_nombre(
                arrondi((h1 + h2) * L * l * 5 * deltat * 1.162, 3)
              )}\\text{ Wh}=${tex_nombre(
                arrondi((((h1 + h2) * L * l) / 200) * deltat * 1.162, 7)
              )}\\text{ kWh}$<br>`;
              break;
            case 1: // Volume d'un tonneau cylindrique
              index2 = randint(0, 5);
              let r = randint(10, 15) * 2;
              let h = randint(0, 10) + r * 4;
              texte = `Un tonneau cylindrique a un rayon de ${r} cm et une hauteur de ${h} cm.<br>`;
              texte +=
                num_alpha(0) +
                ` Calculer le ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "volume",
                  `Définition : volume (grandeur physique)`,
                  `C’est le produit de trois longueurs ou le produit d'une aire et d'une longueur.<br>L'unité de mesure du volume est le mètre cube ($\\text{m}^3$) mais on peut aussi rencontrer le litre (L) avec comme correspondance $\\text{1dm}^3=\\text{1L}$`
                ) +
                ` en dm${exposant(3)} à 0,1 près de ce tonneau.<br>`;
              texte +=
                num_alpha(1) +
                ` Si on le remplit ${liquides[index2][0]} (dont la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "densité",
                  `Définition : densité (grandeur physique)`,
                  `La densité d'une substance est égale à la masse volumique de la substance divisée par la masse volumique du corps de référence à la même température.<br>Pour les liquides et les solides, l'eau est utilisée comme référence (sa masse volumique est de 1kg/dm$^3$), pour les gaz, la mesure s'effectue par rapport à l'air.<br>Donc pour les liquides, la densité est égale à la masse volumique exprimée en kg/dm$^3$.`
                ) +
                ` est de ${tex_nombrec(liquides[index2][1])}), quelle masse ${
                  liquides[index2][0]
                } en kg contiendra-t-il au gramme près ?<br>`;
              texte_corr =
                num_alpha(0) +
                ` Le volume d'un cylindre est donné par la formule $\\mathcal{A}\\text{ire de base}\\times\\mathcal{h}$.<br> Ici la base est un disque de rayon ${r} cm.<br>`;
              texte_corr += `$\\mathcal{A}\\text{ire de base}\\times\\mathcal{h}=\\pi\\times${r}^{2}\\text{ cm}^2\\times${h}\\text{ cm}=${
                r * r * h
              }\\pi\\text{ cm}^3\\approx${tex_nombre(
                arrondi(r * r * h * Math.PI, 1)
              )}\\text{ cm}^3\\approx${tex_nombre(
                arrondi((r * r * h * Math.PI) / 1000, 1)
              )}\\text{ dm}^3$<br>`;
              texte_corr +=
                num_alpha(1) +
                ` La masse de lait contenue dans ce tonneau est :<br>`;
              texte_corr += `$${tex_nombre(
                arrondi((r * r * h * Math.PI) / 1000, 1)
              )}\\text{ dm}^3\\times ${tex_nombrec(
                liquides[index2][1]
              )} \\times 1 \\dfrac{kg}{dm}^3\\approx${tex_nombre(
                arrondi(((r * r * h * Math.PI) / 1000) * liquides[index2][1], 3)
              )}\\text{ kg}$`;
              break;
          }
          break;
        case 3: // Problème de quantité de mouvement et d'énergie cinétique
          quidam = prenom();
          index1 = randint(0, 4);
          masse = randint(50, 80);
          vitesse_moy = randint(vitesses[index1][1], vitesses[index1][2]); // vitesse choisie pour l'exo
          texte =
            `${quidam} se déplace ${vitesses[index1][0]} à la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              type_aide,
              `vitesse`,
              `Définition : Vitesse (grandeur physique)`,
              `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
            ) +
            ` de ${tex_nombrec(vitesse_moy)} m/s.<br>`;
          texte += `Il pèse ${masse} kg.<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer sa ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              "quantité de mouvement",
              `Définition : quantité de mouvement (grandeur physique)`,
              `C’est le produit de la masse d'un corps par sa vitesse.<br>L'unité de mesure de la quantité de mouvement est le ($\\text{kg.m.s}^{-1}$)`
            ) +
            ` en $\\text{kg.m.s}^{-1}$.<br>`;
          texte +=
            num_alpha(1) +
            ` En déduire son ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 2,
              type_aide,
              "énergie cinétique",
              `Définition : énergie cinétique (grandeur physique)`,
              `L'énergie cinétique d'un corps de masse $m$ (en kg) assimilé à un point matériel se déplaçant à la vitesse $v$ (en m/s) est donné par la formule $E=\\dfrac{1}{2}\\times m\\times v^2$.<br>L'unité de mesure de l'énergie cinétique est le Joule (J).<br>$1J=1\\text{ kg.m}^2\\text{s}^{-2}$.`
            ) +
            ` en Joules.`;
          texte_corr =
            num_alpha(0) +
            ` La quantité de mouvement de ${quidam} est : $${masse} \\text{ kg}\\times ${vitesse_moy}\\text{ m/s}=${tex_nombrec(
              masse * vitesse_moy
            )}\\text{ kg.m.s}^{-1}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` L'énergie cinétique de ${quidam} est : $\\dfrac{1}{2}\\times ${masse} \\text{ kg}\\times (${vitesse_moy}\\text{ m/s})^2=\\dfrac{${masse}\\times${vitesse_moy}^2}{2}\\text{ J}=${tex_nombrec(
              (masse * vitesse_moy ** 2) / 2
            )}\\text{ J}$`;
          break;
        case 4: // problème de moment et de couple de forces qui s'annulent.
          quidam = prenom();
          index = randint(60, 90); //masse du père (recyclage de variable)
          masse = randint(20, 30); //masse de l'enfant
          distance = arrondi(randint(25, 35) / 10);
          texte =
            `${quidam} qui pèse ${masse} kg se trouve sur le siège d'une balançoire "` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              2,
              `trébuchet`,
              `Schéma explicatif`,
              `images/trebuchet.png`
            ) +
            `" dans un jardin d'enfant. Le siège est situé à ${tex_nombre(
              distance
            )} m du pivot central de la balançoire (bras de levier).<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer le ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `moment`,
              `Définition : momnent (grandeur physique)`,
              `Le moment d'une force d'intensité F(en Newton ou kg.m.s$^{-2}$) en un point M par rapport à un pivot P est le produit de F par la distance PM (appelée bras de levier) exprimée en mètres (lorsque cette force s'exerce perpendiculairement au bras de levier). Le moment est l'energie permettant de faire tourner l'objet autour du pivot.<br>L'unité de mesure du moment est le Joule (J).<br>$1J=1\\text{ kg.m}^2\\text{s}^{-2}$.`
            ) +
            ` du ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 2,
              type_aide,
              `poids`,
              `Définition : Poids`,
              `Le poids est le produit de la masse d'un objet par l'accélération de la pesanteur terrestre ($9,81\\text{ m.s}^{-2}$).<br>L'unité du poids est le Newton (N) : 1N=1kg.m.s$^{-2}$`
            ) +
            ` de ${quidam} sur son siège par rapport au pivot central du trébuchet en Joules (on admettra que le bras de levier est horizontal).<br>`;
          texte +=
            num_alpha(1) +
            ` Le père de ${quidam} vient s'installer de l'autre côté du pivot central. Il pèse ${index} kg et s'installe de façon à ce que son poids permette d'équilibrer la balançoire à l'horizontale. Quelle doit être la longueur du bras de levier de son côté ( à quelle distance du pivot est-il assis ) ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` Le moment du poids de ${quidam} appliqué sur son siège par rapport au pivot central du trébuchet est :<br>`;
          index1 = arrondi(masse * 9.81 * distance); //pour éviter d'avoir trop de variable, je recycle
          texte_corr += `$${masse}\\text{ kg} \\times 9,81 \\text{m.s}^{-2} \\times ${tex_nombre(
            distance
          )} \\text{ m} = ${tex_nombre(
            index1
          )}\\text{ kg.m}^2\\text{.s}^{-2}=${tex_nombre(
            index1
          )}\\text{ J}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Afin d'équilibrer le trébuchet, le père de ${quidam} doit se placer de façon que le moment de son poids sur son point d'assise par rapport au pivot central du trébuchet soit égal à celui de ${quidam}, on obtient l'équation suivante où $${mise_en_evidence(
              `d`,
              `black`
            )}$ représente sa distance par rapport au pivot central :<br>`;
          texte_corr += `$ ${index}\\text{ kg}\\times 9,81 \\text{m.s}^{-2} \\times ${mise_en_evidence(
            `d`,
            `black`
          )} \\text{ m}=${tex_nombre(index1)}\\text{ J}$<br>`;
          texte_corr += `D'où $${mise_en_evidence(
            `d`,
            `black`
          )}\\text{ m} = \\dfrac{${tex_nombre(
            index1
          )}\\text{ J}}{${index}\\text{ kg}\\times 9,81 \\text{m.s}^{-2}}\\approx${tex_nombrec(
            arrondi(index1 / (9.81 * index))
          )}\\text{ m}.$`;
          break;
        case 5: //problème de trafic de coyageurs.
          let d1 = randint(3, 6);
          let d2 = randint(3, 6, [d1]);
          let k = randint(5, 8);
          let n1 = k * d2;
          let n2 = k * d1;
          texte =
            num_alpha(0) +
            ` Un bus de ville transporte en moyenne ${n1} personnes à la fois.<br> La longueur moyenne de déplacement est de ${d1} km.<br> Calculer le ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              type_aide,
              `trafic`,
              `Définition : Trafic de voyageurs`,
              `Le trafic de voyageurs est le produit du nombre de voyageurs par la distance parcourue. L'unité est le voyageur.km qui correspond au déplacement d'un voyageur sur 1km`
            ) +
            ` moyen de voyageurs en voyageurs.km.<br> `;
          texte +=
            num_alpha(1) +
            ` Un autre bus de ville transporte en moyenne ${n2} personnes à la fois.<br> La longueur moyenne de déplacement est de ${d2} km.<br> Montrer que le trafic de voyageur est le même qu'à la question ` +
            num_alpha(0);
          texte_corr =
            num_alpha(0) +
            ` Le trafic moyen de ce bus de ville est : $${n1}\\text{voyageurs}\\times${d1}\\text{km}=${
              n1 * d1
            }\\text{voyageurs.km}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le trafic moyen de ce bus de ville est : $${n2}\\text{voyageurs}\\times${d2}\\text{km}=${
              n2 * d2
            }\\text{voyageurs.km}$, donc ces deux bus ont le même trafic.`;
          break;
        case 6: //problème de puissance électrique.
          index = randint(0, 3);
          index1 = randint(0, 3, [index]);
          let I1 = arrondi(appareils[index][1] / 230, 0) + 1;
          texte =
            num_alpha(0) +
            ` Un ${appareils[index][0]} est protégé par un fusible de ${I1} ampères, quelle est la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `puissance`,
              `Définition : Puissance (grandeur physique)`,
              `C’est le produit de la force électromotrice (tension) exprimée en Volt (V) par l'intensité du courant électrique exprimée en ampères (A).<br>L'unité de mesure de la puissance est le Watt (W)`
            ) +
            ` maximale de cet appareil si il fonctionne sur le secteur ?<br>`;
          texte +=
            num_alpha(1) +
            ` Un ${appareils[index1][0]} fonctionne à une puissance maximum de ${appareils[index1][1]} W.<br>Quel est l'ampérage minimum nécessaire pour le fusible qui protégera ce ${appareils[index][0]} des court-ciruits ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` La tension du secteur étant de 230V, la puissance maximale de ce ${appareils[index][0]} est de :<br>`;
          texte_corr += `$230\\text{ V}\\times${I1}\\text{ A}=${
            230 * I1
          }\\text{ W}$<br>`;
          let I2 = Math.floor(appareils[index1][1] / 230) + 1;
          texte_corr +=
            num_alpha(1) +
            ` Pour fonctionner à la puissance maximum, cet appareil a besoin d'un courant d'une intensité de :<br>`;
          texte_corr += `$\\dfrac{${
            appareils[index1][1]
          }\\text{ W}}{230 \\text{ V}} \\approx ${tex_nombrec(
            arrondi(appareils[index1][1] / 230)
          )}\\text{ A}$.<br>`;
          texte_corr += `Le fusible nécessaire pour protéger cet appareil des courts-circuits devra avoir une intensité de rupture minimum de ${I2} ampères.`;
          break;
        case 7: // problème de vitesses
          index2 = randint(0, 2);
          quidam = prenom(); //prenom choisi
          switch (index2) {
            case 0: // problème de déplacements
              index1 = randint(0, 4);
              vitesse_moy = randint(vitesses[index1][1], vitesses[index1][2]); // vitesse choisie pour l'exo
              distance = Math.round(
                (vitesse_moy * 3.6 * vitesses[index1][3] * randint(5, 20)) / 10
              ); //distance choisie pour question b
              duree = randint(2, vitesses[index1][3]);
              texte =
                `${quidam} se déplace ${vitesses[index1][0]} à la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` de ${tex_nombrec(vitesse_moy)} m/s.<br>`;
              texte +=
                num_alpha(0) +
                ` En se déplaçant à cette vitesse pendant ${duree} h, quelle est la distance parcourue par ${quidam} en km ?<br>`;
              texte +=
                num_alpha(1) +
                ` Si ${quidam} veut parcourir ${nombre_avec_espace(
                  distance
                )} km à cette vitesse, combien de temps durera le trajet ? Donner le résultat en heures, minutes et secondes.`;
              texte_corr =
                num_alpha(0) +
                ` La distance parcourue par ${quidam} ${
                  vitesses[index1][0]
                } en ${duree} h à la vitesse de ${tex_nombrec(
                  vitesse_moy
                )} m/s est :<br>`;
              texte_corr += `$${tex_nombrec(
                vitesse_moy
              )}\\text{ m/s}\\times${duree}\\text{ h}=\\dfrac{${tex_nombrec(
                vitesse_moy
              )}\\text{ m}}{1 \\text{ s}}\\times ${duree}\\times ${tex_nombre(
                3600
              )}\\text{ s}`;
              texte_corr += `=${tex_nombrec(
                vitesse_moy * 3600 * duree
              )}\\text{ m}=${tex_nombrec(
                vitesse_moy * 3.6 * duree
              )}\\text{ km}$<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Pour parcourir ${nombre_avec_espace(
                  distance
                )} km à cette vitesse, ${quidam} mettra :<br>`;
              texte_corr += ` Partons de la formule $\\mathcal{V}=\\dfrac{\\mathcal{d}}{\\mathcal{t}}$ et remplaçons : $\\dfrac{${vitesse_moy}\\text{ m}}{1 \\text{ s}}=\\dfrac{${tex_nombre(
                distance
              )}\\text{ km}}{\\mathcal{t}\\text{ h}}$<br>`;
              texte_corr += `Rendons les unités homogènes : $\\dfrac{${vitesse_moy}\\text{ m}}{1 \\text{ s}}=\\dfrac{${tex_nombrec(
                distance * 1000
              )}\\text{ m}}{\\mathcal{t}\\text{ h}\\times ${tex_nombre(
                3600
              )}\\text{ s/h}}$<br>`;
              texte_corr += `Appliquons l'égalité des produits en croix : ${produits_en_croix(
                [
                  [`${vitesse_moy}\\text{ m}`, `1 \\text{ s}`],
                  [
                    `${tex_nombrec(distance * 1000)}\\text{ m}`,
                    `\\mathcal{t}\\times ${tex_nombre(3600)}\\text{ s/h}`,
                  ],
                ]
              )}<br>`;
              texte_corr += `D'où : $\\mathcal{t}=\\dfrac{1 \\text{ s}\\times${tex_nombrec(
                distance * 1000
              )}\\text{ m}}{${vitesse_moy}\\text{ m}\\times${tex_nombre(
                3600
              )}\\text{ s}}$ (t est le nombre décimal d'heures : les mètres et les secondes disparaissent car elles sont présentes au numérateur et au dénominateur.)<br>`;
              texte_corr += `Soit : $\\mathcal{t}\\approx${tex_nombrec(
                (distance * 1000) / vitesse_moy / 3600
              )}\\text{ h}\\approx${tex_nombrec(
                arrondi((distance * 1000) / vitesse_moy, 0)
              )}\\text{ s}\\approx`;
              nbheures = Math.floor((distance * 1000) / vitesse_moy / 3600); //conversion en h min s
              nbminutes = Math.floor(
                (Math.floor((distance * 1000) / vitesse_moy) % 3600) / 60
              );
              nbsecondes = arrondi(
                (distance * 1000) / vitesse_moy -
                  3600 * nbheures -
                  60 * nbminutes,
                0
              );
              texte_corr += `(${tex_nombre(nbheures)}\\times ${tex_nombre(
                3600
              )}+${tex_nombre(nbminutes)}\\times 60+${tex_nombre(
                nbsecondes
              )})\\text{ s}\\approx`;
              if (nbheures != 0)
                texte_corr += `${tex_nombre(nbheures)}\\text{ h }`; //affichage de la réponse
              if (nbminutes != 0)
                texte_corr += `${tex_nombre(nbminutes)}\\text{ min }`;
              texte_corr += `${tex_nombre(nbsecondes)}\\text{ s}$`;
              break;
            case 1: // l'orage et la vitesse du son
              duree = randint(2, 15); //durée pour question a)
              distance = randint(5, 15, [duree]) * 340; //distance de l'orage en m pour question b
              texte =
                `Le son se déplace dans l'air à la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` de 340 m/s.<br>`;
              texte +=
                num_alpha(0) +
                ` ${quidam} voit un éclair dans le ciel et compte dans sa tête ${duree} secondes avant d'entendre le tonnerre.<br>`;
              texte += `Quelle est la distance à laquelle l'éclair est tombé ?<br>`;
              texte +=
                num_alpha(1) +
                ` L'éclair suivant tombe sur le paratonnerre situé sur le clocher de l'église du village voisin.<br>`;
              texte += `${quidam} sait que le clocher est situé à ${distance} m de sa position. Combien de temps se passe-t-il avant que ${quidam} n'entende le tonnerre ?`;
              texte_corr =
                num_alpha(0) +
                ` Calculons la distance à laquelle le premier éclair est tombé en utilisant la vitesse du son (on considère que la vitesse de la lumière est telle que l'éclair est visible instantanément) :<br>`;
              texte_corr += `$340\\text{ m/s}=\\dfrac{340\\text{ m}}{1\\text{ s}}=\\dfrac{${mise_en_evidence(
                duree
              )}\\times 340\\text{ m}}{${mise_en_evidence(
                duree
              )}\\times 1\\text{ s}}=\\dfrac{${tex_nombrec(
                duree * 340
              )}}{${duree}\\text{ s}}$<br>`;
              texte_corr += `La distance à laquelle l'éclair est tombé est donc de ${nombre_avec_espace(
                duree * 340
              )} m.<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Avec les données de l'énoncé nous pouvons écrire :<br>`;
              texte_corr += `$\\dfrac{340\\text{ m}}{1\\text{ s}}=\\dfrac{${tex_nombre(
                distance
              )}\\text{ m}}{\\mathcal{T}\\text{ s}}$<br>`;
              texte_corr += `Soit grâce à l'égalité des produits en croix : $\\mathcal{T}\\text{ s}=${quatrieme_proportionnelle(
                `340 \\text{ m}`,
                `1 \\text{ s}`,
                distance + `\\text{ m}`,
                0
              )}=${tex_nombrec(arrondi(distance / 340))}\\text{ s}$<br>`;
              texte_corr += `${quidam} entendra le tonnerre ${tex_nombrec(
                arrondi(distance / 340)
              )} secondes après avoir vu l'éclair tomber sur le clocher.`;
              break;
            case 2: // Le coureur
              vitesse_moy = randint(vitesses[4][1] * 5, vitesses[4][2] * 5) / 5;
              distance = randint(5, 12);
              texte =
                `${quidam} vient de courir ${distance} kilomètres. Sa montre connectée a enregistré l'` +
                katex_Popup2(
                  numero_de_l_exercice + i,
                  type_aide,
                  `allure`,
                  `Définition : allure (grandeur physique)`,
                  `L'allure est le temps exprimé en h,min,s pour parcourir un kilomètre.<br>L'unité est alors h/km ou min/km`
                ) +
                `pour chaque kilomètre parcouru :`;
              let allures = [];
              for (let j = 0; j < distance; j++) {
                duree = Math.round(
                  1000 / (vitesse_moy * (1 + randint(-10, 10) * 0.01))
                );
                nbsecondes = duree % 60;
                nbminutes = (duree - nbsecondes) / 60;
                allures.push([nbminutes, nbsecondes]);
              }
              texte += "$\\def\\arraystretch{1.5}\\begin{array}{|c"; // On construit le tableau des allures
              texte += "|c";
              for (let j = 0; j < allures.length; j++) texte += "|c";
              texte += "}\\hline  \\text{kilomètre}";
              for (let j = 0; j < allures.length; j++)
                texte += "&" + tex_nombre(j + 1);
              texte +=
                "\\\\\\hline \\text{allure en minutes et secondes (par km)}";
              for (j = 0; j < allures.length; j++)
                texte +=
                  "&" +
                  allures[j][0] +
                  `\\text{ min }` +
                  allures[j][1] +
                  `\\text{ s}`;
              texte += "\\\\\\hline\\end{array}$<br>";
              texte +=
                num_alpha(0) +
                ` Calculer la durée totale de la course de ${quidam}.<br>`;
              texte +=
                num_alpha(1) +
                ` En déduire sa	` +
                katex_Popup2(
                  numero_de_l_exercice + i,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` moyenne en km/h sur le trajet total.<br>`;
              texte +=
                num_alpha(2) +
                ` ${quidam} s'entraîne pour un semi-marathon (21,0975 km). En courant à la même vitesse, combien de temps durerait son semi-marathon ?`;
              texte_corr =
                num_alpha(0) +
                ` La durée totale de la course de ${quidam} est :<br>`;
              allures.push([0, 0]);
              duree = 0;

              for (let j = 0; j < distance; j++) {
                allures[distance][1] += allures[j][1];
                if (allures[distance][1] > 59) {
                  allures[distance][0] += 1;
                  allures[distance][1] = allures[distance][1] % 60;
                }
                allures[distance][0] += allures[j][0];
                if (allures[distance][0] > 59) {
                  duree++;
                  allures[distance][0] = allures[distance][0] % 60;
                }
              }
              for (let j = 0; j < distance - 1; j++) {
                texte_corr += `${allures[j][0]} min ${allures[j][1]} s + `;
              }
              texte_corr += `${allures[distance - 1][0]} min ${
                allures[distance - 1][1]
              } s = `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += `${allures[distance][0]} min `;
              if (allures[distance][1] != 0)
                texte_corr += `${allures[distance][1]} s.`;
              texte_corr +=
                `<br>` +
                num_alpha(1) +
                ` ${quidam} a effectué ${distance} km en `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += `${allures[distance][0]} min `;
              if (allures[distance][1] != 0)
                texte_corr += `${allures[distance][1]} s<br>Soit `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += ` $\\dfrac{${allures[distance][0]}}{60}$ h `;
              if (allures[distance][1] != 0)
                texte_corr += ` $\\dfrac{${allures[distance][1]}}{${tex_nombre(
                  3600
                )}}$ h = `;
              texte_corr += `$\\dfrac{`;
              if (duree != 0)
                texte_corr += `${duree}\\times ${tex_nombre(3600)} + `;
              texte_corr += `${allures[distance][0]}\\times 60+${
                allures[distance][1]
              }}{${tex_nombre(3600)}}$ h = `;
              texte_corr += `$\\dfrac{`;
              if (duree != 0) {
                duree =
                  duree * 3600 +
                  allures[distance][0] * 60 +
                  allures[distance][1];
                texte_corr += `${duree}}`;
              } else {
                duree = allures[distance][0] * 60 + allures[distance][1];
                texte_corr += `${duree}}`;
              }
              texte_corr += `{${tex_nombre(3600)}}$ h.<br>`;
              texte_corr += `Sa vitesse en km/h est par conséquent :<br>$${distance} \\text{ km}\\div\\dfrac{${duree}}{${tex_nombre(
                3600
              )}}\\text{ h}=`;
              texte_corr += `${distance} \\text{ km}\\times\\dfrac{${tex_nombre(
                3600
              )}}{${duree}}\\text{ h}^{-1}=\\dfrac{${distance}\\times${tex_nombre(
                3600
              )}}{${duree}}\\text{km.h}^{-1}`;
              vitesse_moy = arrondi((distance * 3600) / duree);
              texte_corr += `\\approx${tex_nombrec(vitesse_moy)}$ km/h<br>`;
              texte_corr +=
                num_alpha(2) +
                ` Si elle court 21,0975 km à cette vitesse de ${tex_nombre(
                  vitesse_moy
                )} km/h, ${quidam} mettra :<br>`;
              duree = arrondi(21.0975 / vitesse_moy, 4);
              texte_corr += `$\\dfrac{${tex_nombre(
                21.0975
              )} \\text{ km}}{${tex_nombre(
                vitesse_moy
              )} \\text{ km.h}^{-1}}\\approx${tex_nombre(duree)}$ h soit `;
              nbheures = Math.floor(duree);
              duree = (duree - nbheures) * 60;
              nbminutes = Math.floor(duree);
              duree = Math.round((duree - nbminutes) * 60);
              texte_corr += ` environ ${nbheures} h ${nbminutes} min ${duree} s.`;
              break;
          }
          break;
        case 8: //problème de prix massique
          index1 = randint(0, 7);
          index2 = randint(0, 5, [index1]);
          index = randint(0, 5, [index1, index2]);
          masse = arrondi(randint(fruits[index1][2], fruits[index1][3]) / 10);
          masse2 = arrondi(randint(fruits[index2][2], fruits[index2][3]) / 10);
          masse3 = arrondi(randint(fruits[index][2], fruits[index][3]) / 10);
          prix1 = arrondi(masse * fruits[index1][1]);
          prix2 = arrondi(masse2 * fruits[index2][1]);
          prix3 = arrondi(masse3 * fruits[index][1]);
          quidam = prenomF();
          texte = `${quidam} se rends à l'épicerie de son quartier. Elle y achète ${tex_nombre(
            masse
          )} kg de ${fruits[index1][0]} à ${tex_prix(
            fruits[index1][1]
          )} €/kg et pour ${tex_prix(prix2)} € de ${
            fruits[index2][0]
          } à ${tex_prix(fruits[index2][1])} €/kg.<br>`;
          texte += `Enfin, elle achète ${tex_nombre(masse3)} kg de ${
            fruits[index][0]
          } pour ${tex_prix(prix3)} €.<br>`;
          texte +=
            num_alpha(0) +
            ` Combien lui coûtent les ${fruits[index1][0]} ?<br>`;
          texte +=
            num_alpha(1) +
            ` Quelle masse de ${fruits[index2][0]} a-t-elle achetée ?<br>`;
          texte +=
            num_alpha(2) +
            ` Quel est le prix au kilogramme des ${fruits[index][0]} ?`;
          texte_corr =
            num_alpha(0) +
            ` ${quidam} dépense pour les ${fruits[index1][0]} : $${tex_nombre(
              masse
            )}\\text{ kg} \\times ${tex_prix(
              fruits[index1][1]
            )}$ €$\\text{/kg} = ${tex_prix(prix1)}$ €.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` La masse de ${
              fruits[index2][0]
            } qu'elle a achetée est : $${tex_prix(prix2)} $ €$ \\div ${tex_prix(
              fruits[index2][1]
            )}$ €$\\text{/kg} = ${tex_nombre(masse2)}\\text{ kg}$.<br>`;
          texte_corr +=
            num_alpha(2) +
            ` Enfin, ${quidam} a acheté des ${
              fruits[index][0]
            } au prix unitaire de : $${tex_prix(prix3)}$ € $\\div ${tex_nombre(
              masse3
            )}\\text{ kg} = ${tex_prix(fruits[index][1])}$ €$\\text{/kg}$.`;
          break;
        case 9: //problème de prix horaire
          index1 = randint(0, 3);
          index2 = randint(0, 4);
          nbheures = randint(locations[index1][1], locations[index1][2]);
          prix1 = locations[index1][1];
          prix2 = cours[index2][1] * randint(2, 6);
          quidam = prenomF();
          texte = `${quidam} a prévu de louer ${
            locations[index1][0]
          } pendant ${tex_nombre(
            nbheures
          )} heures. L'heure de location coûte ${tex_prix(prix1)} €.<br>`;
          texte += num_alpha(0) + ` Combien cette location va lui coûter ?<br>`;
          texte +=
            num_alpha(1) +
            ` ${quidam} a pris des leçons particulières ${
              cours[index2][0]
            }. En tout ce mois-ci elle a eu ${tex_nombrec(
              prix2 / cours[index2][1]
            )} heures de cours pour ${tex_prix(
              prix2
            )} €. Combien demande son professeur pour une heure de cours ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` ${quidam} va dépenser pour sa location : $${tex_nombre(
              nbheures
            )}\\text{ h} \\times ${tex_prix(prix1)}$ €$\\text{/h} = ${tex_prix(
              nbheures * prix1
            )}$ €.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` L'heure de cours ${cours[index2][0]} coûte : $${tex_prix(
              prix2
            )}$ € $ \\div ${tex_nombre(
              prix2 / cours[index2][1]
            )}\\text{ h} = ${tex_prix(cours[index2][1])}$ €$\\text{/h}$.<br>`;
          break;
        case 10: //problème de densité de population
          index1 = randint(0, 14);
          index2 = randint(0, 14, [index1]);
          let ville1 = villes[index1][0];
          let ville2 = villes[index2][0];
          texte =
            num_alpha(0) +
            ` En 2016, à ${villes[index1][0]} il y avait $${tex_nombre(
              villes[index1][1]
            )}$ habitants pour une superficie de $${tex_nombre(
              villes[index1][2] * 100
            )}$ ha.<br> Calculer la densité de population en hab/km$^2$.<br>`;
          texte +=
            num_alpha(1) +
            ` La même année, la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `densité de population`,
              `Définition : Densité de population`,
              `C’est le quotient du nombre d'habitants par la superficie en km$^2$.<br>L'unité de la densité de population est l'habitant par km$^2$ (hab/km$^2$).`
            ) +
            ` de ${villes[index2][0]} était de $${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}$ hab/km$^2$ pour une superficie de $${tex_nombrec(
              villes[index2][2] * 100
            )}$ ha.<br> Calculer le nombre d'habitants de ${
              villes[index2][0]
            } à cette date.<br>`;
          texte_corr =
            num_alpha(0) +
            ` En 2016, la densité de population à ${
              villes[index1][0]
            } était de :<br> $\\dfrac{${tex_nombre(
              villes[index1][1]
            )}\\text{ hab}}{${tex_nombre(
              villes[index1][2] * 100
            )}\\text{ ha}}=\\dfrac{${tex_nombre(
              villes[index1][1]
            )}\\text{ hab}}{${tex_nombre(
              villes[index1][2]
            )}\\text{ km}^2}=${tex_nombrec(
              villes[index1][1] / villes[index1][2]
            )}\\text{ hab/km}^{2}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` A cette date, le nombre d'habitants de ${
              villes[index2][0]
            } était de :<br> $${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}\\text{ hab/km}^2\\times ${tex_nombrec(
              villes[index2][2] * 100
            )}\\text{ ha}=${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}\\text{ hab/km}^2\\times ${tex_nombrec(
              villes[index2][2]
            )}\\text{ km}^{2}=${tex_nombre(villes[index2][1])}\\text{ hab}$.`;
          break;
        case 11: //problème de masse volumique
          index1 = randint(0, 14);
          index2 = randint(0, 14, [index1]);
          let V1 = randint(50, 100);
          masse2 = randint(5, 30);
          masse = arrondi((materiaux[index1][1] * V1) / 1000000);
          let V2 = arrondi(masse2 / materiaux[index2][1], 7);
          texte =
            num_alpha(0) +
            ` La ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `masse volumique`,
              `Définition : Masse volumique (grandeur physique)`,
              `La masse volumique d'un élément est le quotient de la masse de cet élément par le volume qu'il occupe.<br>L'unité de la masse volumique dépend de la nature de l'élément et peut s'exprimer kg/m$^3$ pour les solides g/L pour les gaz par exemple.`
            ) +
            ` du ${materiaux[index1][0]} est de $${tex_nombre(
              materiaux[index1][1]
            )}\\text{ kg/m}^3$.<br>`;
          texte += `Quelle est la masse d'une pièce de ce métal de $${tex_nombre(
            V1
          )}\\text{ cm}^3$ ?<br>`;
          texte +=
            num_alpha(1) +
            ` Quel est le volume d'une pièce de ${materiaux[index2][0]} ayant une masse de `;
          texte += `$${tex_nombre(masse2)}\\text{ kg}$ (la masse volumique du ${
            materiaux[index2][0]
          } est de $${tex_nombre(materiaux[index2][1])}\\text{ kg/m}^3$)<br>`;
          texte_corr =
            num_alpha(0) +
            ` La masse de cette pièce de ${
              materiaux[index1][0]
            } est de :<br>$${tex_nombre(
              materiaux[index1][1]
            )}\\text{ km/m}^3\\times ${tex_nombre(
              V1
            )}\\text{ cm}^3=${tex_nombre(
              materiaux[index1][1]
            )}\\text{ km/m}^3\\times ${tex_nombrec(
              V1 / 1000000
            )}\\text{ m}^3=${tex_nombre(masse)}\\text{ kg}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le volume de cette pièce de ${
              materiaux[index2][0]
            } est de :<br>$${tex_nombre(masse2)}\\text{ kg}\\div ${tex_nombre(
              materiaux[index2][1]
            )}\\text{ kg/m}^3\\approx${tex_nombre(
              V2
            )}\\text{ m}^3\\approx${tex_nombrec(
              V2 * 1000000
            )}\\text{ cm}^3$<br>`;
          break;
        case 12: //problème de concentration massique
          index1 = randint(0, 4);
          index2 = randint(0, 4, [index1]);
          let Volume1 = arrondi(randint(2, 15, [10]) / 10);
          let Volume2 = arrondi(randint(2, 15, [10]) / 10);
          if (solutes[index1][2] < 10)
            masse = arrondi(
              (randint(11, solutes[index1][2] * 10) * Volume1) / 10
            );
          else masse = arrondi(randint(2, solutes[index1][2]) * Volume1);
          let concentration2;
          if (solutes[index2][2] < 10)
            concentration2 = arrondi(randint(11, solutes[index2][2] * 10) / 10);
          //concentration en g/L soluté 2.
          else concentration2 = randint(2, solutes[index2][2]);

          texte =
            num_alpha(0) +
            ` On a dissout $${tex_nombre(masse)}\\text{ g}$ de ${
              solutes[index1][0]
            } dans $${tex_nombre(Volume1)}\\text{ litres}$ ${
              solutes[index1][1]
            }.<br>Calculer la concentration massique de cette solution.<br>`;
          texte +=
            num_alpha(1) +
            ` On dispose de $${tex_nombre(
              Volume2
            )}$ litres de solution aqueuse de ${
              solutes[index2][0]
            } à $${tex_nombre(
              concentration2
            )}\\text{ g/L}$.<br>Quelle masse de ${
              solutes[index2][0]
            } a été dissoute dans l'eau ?`;
          texte_corr =
            num_alpha(0) +
            ` La concentration en ${solutes[index1][0]} de cette solution aqueuse est de :<br>`;
          texte_corr += ` $\\dfrac{${tex_nombre(masse)}\\text{ g}}{${tex_nombre(
            Volume1
          )}\\text{ litres}}=${tex_nombrec(
            arrondi(masse / Volume1)
          )}\\text{ g/L}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` La masse de ${solutes[index2][0]} dissoute est de :<br>`;
          texte_corr += `$${tex_nombre(Volume2)}\\text{ L}\\times ${tex_nombre(
            concentration2
          )}\\text{ g/L}=${tex_nombre(
            arrondi(Volume2 * concentration2)
          )}\\text{ g}$`;
          break;

        case 13: //problème de débit
          index2 = randint(0, 6);
          duree = randint(2, 24);
          let vmax = rivieres[index2][3] * 3600;
          texte =
            `Le ` +
            katex_Popup2(
              numero_de_l_exercice + i,
              type_aide,
              `débit`,
              `Définition : Débit (grandeur physique)`,
              `Le débit est le quotient d'un volume d'eau écoulée dans une section de conduit par le temps d'écoulement.<br>L'unité officielle est le mètre cube par seconde ($\\text{m}^3/\\text{s}$  et dans certains cas on peut utiliser le litre par minute (L/min)`
            ) +
            ` annuel moyen ${rivieres[index2][6]}${
              rivieres[index2][0]
            } mesuré à ${rivieres[index2][1]} est de ${
              rivieres[index2][2]
            } m${exposant(3)}/s.<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer le volume d'eau en m${exposant(
              3
            )} écoulé en ${duree} heures à ce débit.<br>`;
          texte +=
            num_alpha(1) +
            ` En ${rivieres[index2][4]} à ${rivieres[index2][1]}, ${
              rivieres[index2][5]
            }${rivieres[index2][0]} a débité ${nombre_avec_espace(
              vmax
            )} m${exposant(
              3
            )} en une heure. Quel a été alors le débit en m³/s ?`;
          texte_corr =
            num_alpha(0) +
            ` En ${duree} heures il s'écoule en moyenne dans ${rivieres[index2][5]}${rivieres[index2][0]} à ${rivieres[index2][1]} :<br>`;
          texte_corr += `$\\mathcal{V}=${duree}\\text{ h}\\times${
            rivieres[index2][2]
          }\\text{ m}^3\\text{/s}=${duree}\\times 3600\\text{ s}\\times${
            rivieres[index2][2]
          }\\text{ m}^3\\text{/s}=${tex_nombre(
            duree * 3600 * rivieres[index2][2]
          )}\\text{ m}^3$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` En ${rivieres[index2][4]} lors de la crue historique ${rivieres[index2][6]}${rivieres[index2][0]} à ${rivieres[index2][1]} le débit maximal a été de :<br>`;
          texte_corr += `Débit =$${tex_nombre(
            vmax
          )}\\text{ m}^3\\text{/h}=\\dfrac{${tex_nombre(
            vmax
          )}\\text{ m}^3}{1\\text{ h}}=\\dfrac{${tex_nombre(
            vmax
          )}\\text{ m}^3}{${tex_nombre(3600)}\\text{ s}}=${tex_nombrec(
            vmax / 3600
          )}\\text{ m}^3\\text{/s}$<br>`;

          break;
        case 14: // problème de vitesse de téléchargement
          let unites = [`ko`, `Mo`, `Go`];
          index = randint(0, 1);
          if (index == 0) vitesse_moy = randint(200, 999);
          else vitesse_moy = randint(1, 20);
          quidam = prenom();
          nbminutes = randint(3, 10);
          nbsecondes = randint(2, 59);
          masse = arrondi(randint(15, 35) / 10);
          texte =
            num_alpha(0) +
            ` ${quidam} télécharge un fichier depuis un espace de stockage en ligne. Sa ` +
            katex_Popup2(
              numero_de_l_exercice + i,
              type_aide,
              `vitesse de téléchargement`,
              `Définition : Vitesse de téléchargement`,
              `La vitesse de téléchargement est le quotient de la quantité de données téléchargées (en ko,Mo ou Go) par la durée de téléchargement (en seconde).<br>L'unité de cette grandeur quotient est le ko/s (ou Mo/s)`
            ) +
            ` est de ${vitesse_moy} ${unites[index]}/s.<br>`;
          texte += `Le téléchargement dure ${nbminutes} minutes et ${nbsecondes} secondes. Quelle est la taille du fichier téléchargé en ${unites[index]} ?<br>`;
          texte +=
            num_alpha(1) +
            ` ${quidam} veut télécharger un fichier de ${tex_nombre(
              masse
            )} Go. Quelle sera la durée du téléchargement si sa vitesse de téléchargement est de ${vitesse_moy} ${
              unites[index]
            }/s ?<br>`;
          texte_corr =
            num_alpha(0) + ` La taille du fichier téléchargé est :<br>`;
          let taille_fichier = (nbminutes * 60 + nbsecondes) * vitesse_moy;
          texte_corr += `$(${nbminutes}\\times 60 +${nbsecondes})\\text{ s}\\times ${vitesse_moy} \\text{ ${
            unites[index]
          }/s} = ${
            nbminutes * 60 + nbsecondes
          }\\text{ s}\\times ${vitesse_moy} \\text{ ${
            unites[index]
          }/s} = ${taille_fichier} \\text{ ${unites[index]} }$`;
          if (taille_fichier > 1000)
            texte_corr += `$ =${tex_nombrec(taille_fichier / 1000)} \\text{ ${
              unites[index + 1]
            }}.$<br>`;
          texte_corr +=
            num_alpha(1) + ` La durée du téléchargement sera de :<br>`;
          if (index == 0) {
            texte_corr += `$${masse}\\times ${tex_nombrec(
              10 ** 6
            )} \\text{ ko} \\div ${vitesse_moy} \\text{ ${unites[index]}/s}$`;
            taille_fichier = masse * 10 ** 6;
          } else {
            texte_corr += `$${masse}\\times ${tex_nombrec(
              10 ** 3
            )} \\text{ Mo} \\div ${vitesse_moy} \\text{ ${unites[index]}/s}$`;
            taille_fichier = masse * 10 ** 3;
          }
          texte_corr += `$=\\dfrac{${taille_fichier}}{${vitesse_moy}}\\text{ s}`;
          nbheures = Math.floor(taille_fichier / vitesse_moy / 3600);
          nbminutes = Math.floor(
            (taille_fichier / vitesse_moy - 3600 * nbheures) / 60
          );
          nbsecondes = arrondi(
            taille_fichier / vitesse_moy - 3600 * nbheures - 60 * nbminutes,
            0
          );
          if (
            taille_fichier / vitesse_moy ==
            nbsecondes + 60 * nbheures + 3600 * nbheures
          )
            texte_corr += `=`;
          else texte_corr += `\\approx`;
          if (nbheures != 0) texte_corr += `${nbheures} \\text{ h }`;
          if (nbminutes != 0) texte_corr += `${nbminutes} \\text{ min }`;
          if (nbsecondes != 0) texte_corr += `${nbsecondes} \\text { s}`;
          texte_corr += `$`;

          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  //this.besoin_formulaire_case_a_cocher =['Choix des exercices aléatoire'];
  //this.besoin_formulaire2_numerique = ['Type d\'exercice', 14, '1 : Energie consommée\n 2 :  Volumes\n 3 : Quantité de mouvement & Energie cinétique\n 4 : Moment de force\n 5 : Trafic de voyageurs\n 6 : Puissance électrique\n 7 : Vitesses\n 8 : Prix massique\n 9 : Prix horaire\n 10 : Densité de population\n 11 : Masse volumique\n 12 : Concentration massique\n 13 : Débits\n 14 : Transfert de fichiers'];
  this.besoin_formulaire_texte = [
    "Choix des grandeurs",
    "Nombres séparés par des tirets\n 1 : Energie consommée\n 2 :  Volumes\n 3 : Quantité de mouvement & Energie cinétique\n 4 : Moment de force\n 5 : Trafic de voyageurs\n 6 : Puissance électrique\n 7 : Vitesses\n 8 : Prix massique\n 9 : Prix horaire\n 10 : Densité de population\n 11 : Masse volumique\n 12 : Concentration massique\n 13 : Débits\n 14 : Transfert de fichiers",
  ]; // Texte, tooltip
}
/**
 * type 1 : Un nombre est donné par le produit d'un décimal par une puissance de dix, il faut l'écrire en notation scientifique
 * type 2 : On donne la notation scientifique d'un nombre et on doit trouver l'exposant manquant de 10 dans le membre de gauche.
 * @Auteur Jean-Claude Lhote 
 * 4C32-1
 */
function Calculs_avec_puissances_de_dix() {
  "use strict"
  Exercice.call(this)
  this.sup = 1;
  this.sup2 =1;
  this.titre = `Calcul avec les puissances de dix`;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions=5

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 1) this.consigne = `Donner l\'écriture scientifique des nombres suivants.`;
    else this.consigne = `Compléter l'égalité des nombres suivants.`;
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2==1) type_de_questions_disponibles=[0,0,0,1,1];
    else if (this.sup2==2) type_de_questions_disponibles=[0,1,1,2,2];
    else type_de_questions_disponibles=[2,2,3,3,3];

    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions);
    for (let i = 0, texte, texte_corr,nombre,mantisse1,exp1,decalage,mantisse,exp,decimalstring,scientifiquestring, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
//        nombre=calcul(randint(1001,9999)/10**randint(1,6))
//      mantisse=calcul(nombre/10**(Math.floor(Math.log10(nombre))))
//        exp=Math.floor(Math.log10(nombre))
      switch (liste_type_de_questions[i]) {
        case 0 :
          decalage=randint(-1,1,0)
        mantisse = randint(1,9)
        exp=randint(1,5)
        break
        case 1: 
        decalage=randint(-2,2,0)
        mantisse=calcul(randint(11,99)/10)
          exp=randint(1,5)
        break;
        case 2:
          decalage=randint(-3,3,0)
          if (randint(0,1)==1) mantisse=calcul(randint(111,999)/100)
          else mantisse=calcul((randint(1,9)*100+randint(1,9))/100)
          exp=randint(1,7)*choice([-1,1])
        break;
        case 3:
          decalage=randint(-4,4,0)
          if (randint(0,1)==1) mantisse=calcul((randint(1,9)*1000+randint(1,19)*5)/1000)
          else mantisse=calcul(randint(1111,9999)/1000)
          exp=randint(3,7)*choice([-1,1])
        break;
      }
      nombre=calcul(mantisse*10**exp)
      mantisse1=calcul(mantisse*10**decalage)
      exp1=exp-decalage

      decimalstring=`${tex_nombrec(mantisse1)} \\times 10^{${exp1}}`
      scientifiquestring=`${tex_nombre(mantisse)} \\times 10^{${exp}}`
      if (this.sup==1) {
        texte= `$${decimalstring}$`
        texte_corr=`$${mise_en_evidence(`${tex_nombrec(mantisse1)}`,'blue')}\\times ${mise_en_evidence(`10^{${exp1}}`)} = ${mise_en_evidence(`${tex_nombre(mantisse)}\\times 10^{${decalage}}`,'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)} = ${scientifiquestring}$`
      }
      else {
        texte_corr= `$${mise_en_evidence(tex_nombre(mantisse1),'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)}=${mise_en_evidence(tex_nombre(mantisse)+`\\times 10^{${decalage}}`,'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)} =${scientifiquestring}$`
        texte=`$${tex_nombre(mantisse1)}\\times 10^{${mise_en_evidence(`....`)}}=${scientifiquestring}$`

      }
      if (this.liste_questions.indexOf(texte) == -1) {
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Type d\'exercices", 2, "1 : Traduire en notation scientifique\n2 : Exercice à trou"];
  this.besoin_formulaire2_numerique = ["Niveaux de difficulté",3, "1 : Facile\n2 : Moyen\n3 : Difficile"];
}

/**
 * Ecrire un nombre décimal en notation scientifique et inversement
 * @Auteur Jean-Claude Lhote
 * 4C32
 */

function Notation_scientifique() {
  "use strict"
  Exercice.call(this)
  this.sup = 1;
  this.sup2 =1;
  this.titre = `Notation scientifique`;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions=5

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 1) this.consigne = `Donner l\'écriture scientifique des nombres suivants.`;
    else this.consigne = `Donner l\'écriture décimale des nombres suivants.`;
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2==1) type_de_questions_disponibles=[0,0,0,1,1];
    else if (this.sup2==2) type_de_questions_disponibles=[0,1,1,2,2];
    else type_de_questions_disponibles=[2,2,3,3,3];

    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions);
    for (let i = 0, texte, texte_corr,mantisse,exp,decimalstring,scientifiquestring, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
      switch (liste_type_de_questions[i]) {
        case 0 :
        mantisse = randint(1,9)
        exp=randint(1,5)
        break
        case 1: 
          mantisse=calcul(randint(11,99)/10)
          exp=randint(1,5)
        break;
        case 2:
          if (randint(0,1)==1) mantisse=calcul(randint(111,999)/100)
          else mantisse=calcul((randint(1,9)*100+randint(1,9))/100)
          exp=randint(1,7)*choice([-1,1])
        break;
        case 3:
          if (randint(0,1)==1) mantisse=calcul((randint(1,9)*1000+randint(1,19)*5)/1000)
          else mantisse=calcul(randint(1111,9999)/1000)
          exp=randint(3,7)*choice([-1,1])
        break;
      }
      decimalstring=tex_nombrec(mantisse*10**exp)
      scientifiquestring=`${tex_nombre(mantisse)}\\times 10^{${exp}}`
      if (this.sup==1) {
        texte= `$${decimalstring}$`
        texte_corr=`$${decimalstring} = ${scientifiquestring}$`
      }
      else {
        texte_corr= `$${scientifiquestring} = ${decimalstring}$`
        texte=`$${scientifiquestring}$`

      }
      if (this.liste_questions.indexOf(texte) == -1) {
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Type d\'exercices", 2, "1 : Traduire en notation scientifique\n2 : Traduire en notation décimale"];
  this.besoin_formulaire2_numerique = ["Niveaux de difficulté",3, "1 : Facile\n2 : Moyen\n3 : Difficile"];
}
/**
 * À partir d'un triangle rectangle, il faut donner l'égalité de Pythagore ou compléter une égalité.
 * @Auteur Rémi Angot
 * SVG Benjamin Angot
 */
// function Egalite_Pythagore() { // Remplacée par Pythagore2D
//   Exercice.call(this); // Héritage de la classe Exercice()
//   this.titre = "Égalité de Pythagore";
//   this.nb_questions = 4;
//   this.nb_cols = 2;
//   this.nb_cols_corr = 2;
//   this.pas_de_version_LaTeX = true;
//   this.sup = 1;
//   this.sup2 = false;

//   this.nouvelle_version = function (numero_de_l_exercice) {
//     // this.bouton_aide = modal_texte_court(numero_de_l_exercice,"Ajouter 9 revient à ajouter 10 et à soustraire 1.")
//     this.liste_questions = []; // Liste de questions
//     this.liste_corrections = []; // Liste de questions corrigées
//     let liste_type_de_questions = combinaison_listes(
//       range1(6),
//       this.nb_questions
//     );
//     if (this.sup == 1) {
//       this.consigne = "Pour chaque triangle, donner l'égalité de Pythagore.";
//     } else {
//       this.consigne = "Compléter.";
//     }

//     for (
//       let i = 0, texte, texte_corr, a, b, cpt = 0;
//       i < this.nb_questions && cpt < 50;

//     ) {
//       const triangle = new Triangles();

//       let nom = triangle.getNom();
//       let A = nom[1];
//       let B = nom[2];
//       let C = nom[3];
//       let texte_corr1 = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$.`;
//       let texte_corr1AB = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$ d'où $${A}${B}^2=${B}${C}^2-${A}${C}^2$.`;
//       let texte_corr1AC = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$ d'où $${A}${C}^2=${B}${C}^2-${A}${B}^2$.`;
//       let texte_corr2 = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${B}${A}^2$.`;
//       let texte_corr2AB = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${A}${B}^2$ d'où $${A}${B}^2=${A}${C}^2-${B}${C}^2$.`;
//       let texte_corr2BC = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${A}${B}^2$ d'où $${B}${C}^2=${A}${C}^2-${A}${B}^2$.`;
//       let texte_corr3 = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${C}${A}^2+${C}${B}^2$.`;
//       let texte_corr3BC = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${A}${C}^2+${B}${C}^2$ d'où $${B}${C}^2=${A}${B}^2-${A}${C}^2$.`;
//       let texte_corr3AC = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${A}${C}^2+${B}${C}^2$ d'où $${A}${C}^2=${A}${B}^2-${B}${C}^2$.`;

//       switch (liste_type_de_questions[i]) {
//         case 1:
//           texte = `<div><svg width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 240,40 40,140 " fill="none" stroke="black" />
// 			  <polygon points="40,40 50,40 50,50 40,50" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="250" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="30" y="140" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${A}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//           break;
//         case 2:
//           texte = `<div><svg width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 240,40 240,140 " fill="none" stroke="black" />
// 			  <polygon points="240,40 230,40 230,50 240,50" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="250" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="250" y="140" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${B}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr2;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr2AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2BC;
//             }
//           }
//           break;
//         case 3:
//           texte = `<div><svg width="200" height"300" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 140,40 40,240" fill="none" stroke="black" />
// 			  <polygon points="40,40 50,40 50,50 40,50" fill="none" stroke="black" />
// 			  <text x="30" y="240" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="150" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${C}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr3;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr3;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr3AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr3BC;
//             }
//           }
//           break;
//         case 4:
//           texte = `<div><svg width="200" height"300" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 140,40 140,240" fill="none" stroke="black" />
// 			  <polygon points="140,40 140,50 130,50 130,40" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="150" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="150" y="240" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${B}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr2;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr2AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2BC;
//             }
//           }
//           break;
//         case 5:
//           texte = `<div><svg width="400" height"200" viewBox="-40 -40 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="0,0 200,0 40,80.6" fill="none" stroke="black" />
// 			  <polygon points="40,80.6 50,76.2 46,67.2 36,71.8" fill="none" stroke="black" />
// 			  <text x="40" y="90.6" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="210" y="0" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="-10" y="0" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${A}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//           break;
//         case 6:
//           texte = `<div><svg width="400" height"200" viewBox="-40 -140 400 200"  xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="0,0 200,0 40,-80.6" fill="none" stroke="black" />
// 			  <polygon points="40,-80.6 50,-76.2 46,-67.2 36,-71.8" fill="none" stroke="black" />
// 			  <text x="40" y="-90.6" text-anchor="middle" alignment-baseline="central">${C}</text> 
// 			  <text x="210" y="0" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="-10" y="0" text-anchor="middle" alignment-baseline="central">${A}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${C}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//       }
//       if (this.liste_questions.indexOf(texte) == -1) {
//         // Si la question n'a jamais été posée, on en créé une autre
//         this.liste_questions.push(texte);
//         this.liste_corrections.push(texte_corr);
//         i++;
//       }
//       cpt++;
//     }
//     liste_de_question_to_contenu(this);
//   };
//   this.besoin_formulaire_numerique = [
//     "Type de questions",
//     2,
//     "1 : Donner l'égalité\n2 : Compléter une égalité avec une addition ou une soustraction",
//   ];
//   this.besoin_formulaire2_case_a_cocher = ["Sans figures"];
// }

/**
 * Signe d'un produit ou d'on quotient de relatifs
 * Plusieurs niveaux 2, 3 ou 4 factieurs, un quotient de 2 nombres, 1  nombre sur un produit de deux nombres, un prooduit de 2 nombres sur un nombre, un quotient de produit de 2 nombres
 * 4C10-0 exercice parent  ?
 * @author Sébastien Lozano
 */

function Signe_produit_quotient_relatifs() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  if (this.exo == this.beta + "4C10-1") {
    this.sup = 4;
    this.titre = `Signe d'un produit de nombres relatifs`;
  } else if (this.exo == this.beta + "4C10-2") {
    this.sup = 5;
    this.titre = `Signe d'un quotient de nombres relatifs`;
  } else {
    this.titre = `Signe d'un produit ou d'un quotient de nombres relatifs`;
  }

  this.consigne = `Donner le signe des expressions numériques.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !

    if (this.exo == this.beta + "4C10-1") {
      // signe d'un produit
      switch (this.sup) {
        case 1: // 2 facteurs
          type_de_questions_disponibles = [1, 1, 1];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 2: // 3 facteurs
          type_de_questions_disponibles = [2, 2, 2];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 3: // 4 facteurs
          type_de_questions_disponibles = [3, 3, 3];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 4: // Mélange
          type_de_questions_disponibles = [1, 2, 3];
          this.nb_questions = type_de_questions_disponibles.length;
          break;
      }
    } else if (this.exo == this.beta + "4C10-2") {
      // signe d'un quotient
      switch (this.sup) {
        case 1: // quotient de 2 nombres
          type_de_questions_disponibles = [4, 4, 4];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 2: // quotient d'1 nombre sur un produit de 2 nombres
          type_de_questions_disponibles = [5, 5, 5];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 3: // quotient d'1 produit de 2 nombres sur 1 nombre
          type_de_questions_disponibles = [6, 6, 6];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 4: // quotient de 2 produits de 2 nombres
          type_de_questions_disponibles = [7, 7, 7];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 5: // Mélange
          type_de_questions_disponibles = [4, 5, 6, 7];
          this.nb_questions = type_de_questions_disponibles.length;
          break;
      }
    } else {
      // signe d'un produit et/ou d'un quotient
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7];
      this.nb_questions = type_de_questions_disponibles.length;
    }

    //let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_type_de_questions = type_de_questions_disponibles; // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on ne choisit que des nombres compris entre 1 et 20
      let nb_max = 20;
      // Le tableau des relatifs necessaires, il m'en faut max 4 !
      let num = new Relatif(
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max)
      );

      switch (liste_type_de_questions[i]) {
        case 1: // 2 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[1])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          } et $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(num.relatifs[0], num.relatifs[1])
          )}.`;
          break;
        case 2: // 3 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[2])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 3: // 4 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[3])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }, `;
          texte_corr += `$ ${ecriture_nombre_relatif(num.relatifs[2])} $ est ${
            num.getSigneString()[2]
          } et $ ${ecriture_nombre_relatif(num.relatifs[3])} $ est ${
            num.getSigneString()[3]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2],
            num.relatifs[3]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[3]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2],
              num.relatifs[3]
            )
          )}.`;
          break;
        case 4: // quotient de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(num.relatifs[1])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          } et $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(num.relatifs[0], num.relatifs[1])
          )}.`;
          break;
        case 5: // quotient d'1 nombre sur un produit de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[2])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 6: // quotient d'1 produit de 2 nombres sur 1 nombre
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(num.relatifs[2])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 7: // quotient de 2 produits de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[3])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }, `;
          texte_corr += `$ ${ecriture_nombre_relatif(num.relatifs[2])} $ est ${
            num.getSigneString()[2]
          } et $ ${ecriture_nombre_relatif(num.relatifs[3])} $ est ${
            num.getSigneString()[3]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2],
            num.relatifs[3]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[3]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2],
              num.relatifs[3]
            )
          )}.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  if (this.exo == this.beta + "4C10-1") {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      4,
      "1 : deux facteurs\n2 : trois facteurs\n3 : quatre facteurs\n4 : Mélange",
    ];
  } else if (this.exo == this.beta + "4C10-2") {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      5,
      "1 : quotient de deux nombres\n2 : quotient d'un nombre sur un produit de deux facteurs\n3 : quotient d'un produit de deux factueurs sur un nombre\n4 : Quotient de deux produits de deux facteurs\n5 : Mélange",
    ];
  } else {
    //this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : sans conversions de longueurs\n2 : avec conversions de longueurs"];
  }
}

/**
 * Signe du produit de relatifs
 * 4C10-1
 * @author Sébastien Lozano
 */
function Signe_produit_relatifs() {
  this.beta = ``;
  this.exo = this.beta + `4C10-1`;
  Signe_produit_quotient_relatifs.call(this);
}

/**
 * Signe du produit de relatifs
 * 4C10-2
 * @author Sébastien Lozano
 */
function Signe_quotient_relatifs() {
  this.beta = ``;
  this.exo = this.beta + `4C10-2`;
  Signe_produit_quotient_relatifs.call(this);
}

/**
 * Encadrer par des puissances de 10
 * 4C30-1
 * @author Sébastien Lozano
 */
function Puissances_encadrement() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4;
  this.nb_questions = 6;
  this.titre = `Encadrer avec des puissances de 10`;

  this.consigne = `Encadrer les nombres suivants par deux puisances de 10 d'exposants consécutifs.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  //this.nb_questions_modifiable = false;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !

    switch (this.sup) {
      case 1: // nombre enier positif
        type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 2: // nombre décimal positif
        type_de_questions_disponibles = [7, 8, 9, 10];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 3: // nombre décimal positif inférieur à 1
        type_de_questions_disponibles = [11, 12, 13, 14];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 4: // Mélange
        type_de_questions_disponibles = [
          choice([1, 2, 3]),
          choice([4, 5, 6]),
          choice([7, 8]),
          choice([9, 10]),
          choice([11, 12]),
          choice([13, 14]),
        ];
        //this.nb_questions = type_de_questions_disponibles.length;
        break;
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    // let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // nombre entier positif, entre 1 et 10, puis 10 et 100 puis ....100 000 et 1 000 000
      let ent_pos = [];
      for (let i = 0; i < 6; i++) {
        ent_pos.push({
          val: `$${tex_nombre(calcul(randint(10 ** i + 1, 10 ** (i + 1))))}$`,
          puissance_inf: `$10^{${i}}$`,
          puissance_sup: `$10^{${i + 1}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** i))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** (i + 1)))}$`,
        });
      }

      // nombre décimal positif 1 et 10 000 avec 1,2,3 puis 4 décimales
      let dec_pos = [];
      for (let i = 0; i < 4; i++) {
        dec_pos.push({
          val: `$${tex_nombre(calcul(randint(10000, 100000) / 10 ** (4 - i)))}$`,
          puissance_inf: `$10^{${i}}$`,
          puissance_sup: `$10^{${i + 1}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** i))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** (i + 1)))}$`,
        });
      }
      // nombre décimal positif inférieur à 1, entre 0,1 et 1 puis entre 0,01 et 0,1 puis 0,001 et 0,0001
      let dec_pos_inf_un = [];
      for (let i = 0; i < 4; i++) {
        dec_pos_inf_un.push({
          val: `$${tex_nombre(calcul(randint(10 ** (4 - i - 1) + 1, 10 ** (4 - i)) / 10000))}$`,
          puissance_inf: `$10^{${-(i + 1)}}$`,
          puissance_sup: `$10^{${-i}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** -(i + 1)))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** -i))}$`,
        });
      }

      switch (liste_type_de_questions[i]) {
        case 1: // nombre enier positif
          texte = `${ent_pos[0].val}`;
          texte_corr = `${ent_pos[0].puissance_inf} $\\leqslant$ ${ent_pos[0].val} $\\leqslant$ ${ent_pos[0].puissance_sup}`;
          texte_corr += ` car ${ent_pos[0].puissance_inf} = ${ent_pos[0].puissance_inf_num} et ${ent_pos[0].puissance_sup} = ${ent_pos[0].puissance_sup_num}`;
          break;
        case 2: // nombre enier positif
          texte = `${ent_pos[1].val}`;
          texte_corr = `${ent_pos[1].puissance_inf} $\\leqslant$ ${ent_pos[1].val} $\\leqslant$ ${ent_pos[1].puissance_sup}`;
          texte_corr += ` car ${ent_pos[1].puissance_inf} = ${ent_pos[1].puissance_inf_num} et ${ent_pos[1].puissance_sup} = ${ent_pos[1].puissance_sup_num}`;
          break;
        case 3: // nombre enier positif
          texte = `${ent_pos[2].val}`;
          texte_corr = `${ent_pos[2].puissance_inf} $\\leqslant$ ${ent_pos[2].val} $\\leqslant$ ${ent_pos[2].puissance_sup}`;
          texte_corr += ` car ${ent_pos[2].puissance_inf} = ${ent_pos[2].puissance_inf_num} et ${ent_pos[2].puissance_sup} = ${ent_pos[2].puissance_sup_num}`;
          break;
        case 4: // nombre enier positif
          texte = `${ent_pos[3].val}`;
          texte_corr = `${ent_pos[3].puissance_inf} $\\leqslant$ ${ent_pos[3].val} $\\leqslant$ ${ent_pos[3].puissance_sup}`;
          texte_corr += ` car ${ent_pos[3].puissance_inf} = ${ent_pos[3].puissance_inf_num} et ${ent_pos[3].puissance_sup} = ${ent_pos[3].puissance_sup_num}`;
          break;
        case 5: // nombre enier positif
          texte = `${ent_pos[4].val}`;
          texte_corr = `${ent_pos[4].puissance_inf} $\\leqslant$ ${ent_pos[4].val} $\\leqslant$ ${ent_pos[4].puissance_sup}`;
          texte_corr += ` car ${ent_pos[4].puissance_inf} = ${ent_pos[4].puissance_inf_num} et ${ent_pos[4].puissance_sup} = ${ent_pos[4].puissance_sup_num}`;
          break;
        case 6: // nombre enier positif
          texte = `${ent_pos[5].val}`;
          texte_corr = `${ent_pos[5].puissance_inf} $\\leqslant$ ${ent_pos[5].val} $\\leqslant$ ${ent_pos[5].puissance_sup}`;
          texte_corr += ` car ${ent_pos[5].puissance_inf} = ${ent_pos[5].puissance_inf_num} et ${ent_pos[5].puissance_sup} = ${ent_pos[5].puissance_sup_num}`;
          break;
        case 7: // nombre décimal positif
          texte = `${dec_pos[0].val}`;
          texte_corr = `${dec_pos[0].puissance_inf} $\\leqslant$ ${dec_pos[0].val} $\\leqslant$ ${dec_pos[0].puissance_sup}`;
          texte_corr += ` car ${dec_pos[0].puissance_inf} = ${dec_pos[0].puissance_inf_num} et ${dec_pos[0].puissance_sup} = ${dec_pos[0].puissance_sup_num}`;
          break;
        case 8: // nombre décimal positif
          texte = `${dec_pos[1].val}`;
          texte_corr = `${dec_pos[1].puissance_inf} $\\leqslant$ ${dec_pos[1].val} $\\leqslant$ ${dec_pos[1].puissance_sup}`;
          texte_corr += ` car ${dec_pos[1].puissance_inf} = ${dec_pos[1].puissance_inf_num} et ${dec_pos[1].puissance_sup} = ${dec_pos[1].puissance_sup_num}`;
          break;
        case 9: // nombre décimal positif
          texte = `${dec_pos[2].val}`;
          texte_corr = `${dec_pos[2].puissance_inf} $\\leqslant$ ${dec_pos[2].val} $\\leqslant$ ${dec_pos[2].puissance_sup}`;
          texte_corr += ` car ${dec_pos[2].puissance_inf} = ${dec_pos[2].puissance_inf_num} et ${dec_pos[2].puissance_sup} = ${dec_pos[2].puissance_sup_num}`;
          break;
        case 10: // nombre décimal positif
          texte = `${dec_pos[3].val}`;
          texte_corr = `${dec_pos[3].puissance_inf} $\\leqslant$ ${dec_pos[3].val} $\\leqslant$ ${dec_pos[3].puissance_sup}`;
          texte_corr += ` car ${dec_pos[3].puissance_inf} = ${dec_pos[3].puissance_inf_num} et ${dec_pos[3].puissance_sup} = ${dec_pos[3].puissance_sup_num}`;
          break;
        case 11: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[0].val}`;
          texte_corr = `${dec_pos_inf_un[0].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[0].val} $\\leqslant$ ${dec_pos_inf_un[0].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[0].puissance_inf} = ${dec_pos_inf_un[0].puissance_inf_num} et ${dec_pos_inf_un[0].puissance_sup} = ${dec_pos_inf_un[0].puissance_sup_num}`;
          break;
        case 12: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[1].val}`;
          texte_corr = `${dec_pos_inf_un[1].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[1].val} $\\leqslant$ ${dec_pos_inf_un[1].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[1].puissance_inf} = ${dec_pos_inf_un[1].puissance_inf_num} et ${dec_pos_inf_un[1].puissance_sup} = ${dec_pos_inf_un[1].puissance_sup_num}`;
          break;
        case 13: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[2].val}`;
          texte_corr = `${dec_pos_inf_un[2].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[2].val} $\\leqslant$ ${dec_pos_inf_un[2].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[2].puissance_inf} = ${dec_pos_inf_un[2].puissance_inf_num} et ${dec_pos_inf_un[2].puissance_sup} = ${dec_pos_inf_un[2].puissance_sup_num}`;
          break;
        case 14: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[3].val}`;
          texte_corr = `${dec_pos_inf_un[3].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[3].val} $\\leqslant$ ${dec_pos_inf_un[3].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[3].puissance_inf} = ${dec_pos_inf_un[3].puissance_inf_num} et ${dec_pos_inf_un[3].puissance_sup} = ${dec_pos_inf_un[3].puissance_sup_num}`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : nombre entier positif\n2 : nombre décimal positif\n3 : nombre entier positif inférieur à un\n4 : Mélange",
  ];
}

/**
 * Problèmes additifs et de comparaion sur les rationnels
 * 4C25-0
 * @author Sébastien Lozano
 */
function Problemes_additifs_fractions() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.beta = false;
  this.sup = 1;
  if (this.beta) {
    this.nb_questions = 5;
  } else {
    this.nb_questions = 2;
  }
  this.titre = `Problèmes additifs et de comparaison sur les rationnels`;
  this.consigne = `Justifier vos réponses aux problèmes suivants.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  //this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.15);

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.beta) {
      type_de_questions_disponibles = [1, 2, 3, 4, 5];
    } else {
      type_de_questions_disponibles = [choice([1, 2]), choice([3, 4, 5])];
    }

    //let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_type_de_questions = combinaison_listes_sans_changer_ordre(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on aura besoin des méthodes de la classe Fraction()
      let frac = new ListeFraction();
      // on récupère les dénominateurs qui vont bien
      //let denoms_amis = frac.denominateurs_amis;
      //C'est mieux avec ceux là, l'algo trouve plus rapidement une solution avec les contraintes à ajouter dans mathsalea_outils.js quand ça sera possible.
      let denoms_amis = [
        [40, 2, 20, 4, 10, 5, 8],
        [60, 2, 30, 3, 20, 4, 15, 5, 12, 6, 10],
        [80, 2, 40, 4, 20, 5, 16, 8, 10],
      ];
      // on aura besoin de ranger tout ça !
      let frac_rangees, frac_meme_denom_rangees;

      //======================================================
      //======== 		AVEC 3 FRACTIONS			  	========
      //======================================================

      // le tableau d'objets contenant tout le necesssaire, fractions, énoncé, question ... pour les problème avec 3 fractions
      let pb_3_f = [];
      // les numérateurs et dénominateurs des 3 fractions attention les deux premières doivent être inférieures à 1/2 si on veut qu'elles soient toutes positives !
      // et on veut des fractions distinctes !
      let nt1, nt2, nt3, dt1, dt2, dt3;
      let n1, n2, n3, d1, d2, d3;
      // on choisit un tableau de dénominateurs qui vont bien
      let denoms_cool_3 = denoms_amis[randint(0, denoms_amis.length - 1)];
      while (
        nt1 == nt2 ||
        nt1 == nt3 ||
        nt2 == nt3 ||
        nt1 / dt1 >= 1 / 2 ||
        nt2 / dt2 >= 1 / 2
      ) {
        n1 = randint(1, 6);
        d1 = choice(denoms_cool_3);
        n2 = randint(2, 10, [n1]); //on évite n1 pour pouvoir retrouver le texte de la plus grande fraction
        d2 = choice(denoms_cool_3, [d1]);
        n3 = d1 * d2 - n1 * d2 - n2 * d1; //la somme des trois vaut 1 !
        d3 = d1 * d2;

        nt1 = frac.fraction_simplifiee(n1, d1)[0];
        dt1 = frac.fraction_simplifiee(n1, d1)[1];
        nt2 = frac.fraction_simplifiee(n2, d2)[0];
        dt2 = frac.fraction_simplifiee(n2, d2)[1];
        nt3 = frac.fraction_simplifiee(n3, d3)[0];
        dt3 = frac.fraction_simplifiee(n3, d3)[1];
      }

      //======================================================
      //========= indice 0 le triathlon des neiges  ==========
      //======================================================
      pb_3_f.push({
        prenoms: [prenomM()],
        fractionsSimp: [
          nt1,
          dt1,
          "VTT",
          nt2,
          dt2,
          "ski de fond",
          nt3,
          dt3,
          "pied",
        ],
        fractionsB: {
          f1: [nt1, dt1],
          cat1: "VTT",
          f2: [nt2, dt2],
          cat2: "ski de fond",
          f3: [nt3, dt3],
          cat3: "pied",
        },
        enonce: ``,
        question: `Pour quelle discipline, la distance est-elle la plus grande ?`,
        correction: ``,
      });

      // les 3 prénomns doivent être distincts
      let p1, p2, p3; // les 3 prénoms
      while (p1 == p2 || p1 == p3 || p2 == p3) {
        p1 = prenomF();
        p2 = prenomF();
        p3 = prenomF();
      }

      //======================================================
      //=========== 		indice 1 Miss Math		 ===========
      //======================================================
      pb_3_f.push({
        prenoms: [],
        fractionsSimp: [nt1, dt1, p1, nt2, dt2, p2, nt3, dt3, p3],
        fractionsB: {
          f1: [nt1, dt1],
          cat1: p1,
          f2: [nt2, dt2],
          cat2: p2,
          f3: [nt3, dt3],
          cat3: p3,
        },
        enonce: ``,
        question: `Qui a été élue ?`,
        correction: ``,
      });
      let currentDate = new Date();
      let currentAnnee = currentDate.getFullYear();

      //======================================================
      //====== énoncé indice 0 le triathlon des neiges  ======
      //======================================================
      pb_3_f[0].enonce += `Le triathlon des neiges de la vallée des loups comprend trois épreuves qui s'enchaînent : VTT, ski de fond et course à pied.`;
      pb_3_f[0].enonce += `<br>${pb_3_f[0].prenoms[0]}, un passionné de cette épreuve, s'entraîne régulièrement sur le même circuit. `;
      pb_3_f[0].enonce += `<br>À chaque entraînement, il parcourt le circuit de la façon suivante : $\\dfrac{${pb_3_f[0].fractionsB.f1[0]}}{${pb_3_f[0].fractionsB.f1[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].enonce += `$\\dfrac{${pb_3_f[0].fractionsB.f2[0]}}{${pb_3_f[0].fractionsB.f2[1]}}$ à ${pb_3_f[0].fractionsB.cat2} et le reste à ${pb_3_f[0].fractionsB.cat3}.`;

      //======================================================
      //=========== énoncé indice 1 Miss Math		 ===========
      //======================================================
      pb_3_f[1].enonce = `À l'élection de Miss Math ${currentAnnee}, ${pb_3_f[1].fractionsB.cat1} a remporté $\\dfrac{${pb_3_f[1].fractionsB.f1[0]}}{${pb_3_f[1].fractionsB.f1[1]}}$ des suffrages, `;
      pb_3_f[1].enonce += `${pb_3_f[1].fractionsB.cat2} $\\dfrac{${pb_3_f[1].fractionsB.f2[0]}}{${pb_3_f[1].fractionsB.f2[1]}}$ et `;
      pb_3_f[1].enonce += `${pb_3_f[1].fractionsB.cat3} tous les autres.`;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      let frac_meme_denom;
      for (let i = 0; i < 2; i++) {
        pb_3_f[
          i
        ].correction = `Il s'agit d'un problème additif. Il va être necessaire de réduire les fractions au même dénominateur pour les additionner, les soustraire ou les comparer.<br>`;

        if (!(dt1 == dt2)) {
          pb_3_f[
            i
          ].correction += `Réduisons les fractions de l'énoncé au même dénominateur :  `;
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_3_f[i].fractionsB.f1[0],
            pb_3_f[i].fractionsB.f1[1],
            pb_3_f[i].fractionsB.f2[0],
            pb_3_f[i].fractionsB.f2[1],
            pb_3_f[i].fractionsB.f3[0],
            pb_3_f[i].fractionsB.f3[1]
          );
          if (frac_meme_denom[1] == dt1) {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$.<br>`;
          } else if (frac_meme_denom[1] == dt2) {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}}$<br>`;
          } else {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$.<br>`;
          }
        } else {
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_3_f[i].fractionsB.f1[0],
            pb_3_f[i].fractionsB.f1[1],
            pb_3_f[i].fractionsB.f2[0],
            pb_3_f[i].fractionsB.f2[1],
            pb_3_f[i].fractionsB.f3[0],
            pb_3_f[i].fractionsB.f3[1]
          );
          pb_3_f[
            i
          ].correction += `Les fractions de l'énoncé ont déjà le même dénominateur.`;
        }
      }

      //======================================================
      //==== Correction indice 0 le triathlon des neiges  ====
      //======================================================
      pb_3_f[0].correction += `Calculons alors la distance à `;

      //======================================================
      //======== 		Correction indice 1 Miss Math  	========
      //======================================================
      pb_3_f[1].correction += `Calculons d'abord la fraction des suffrages remportés par `;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      for (let i = 0; i < 2; i++) {
        pb_3_f[i].correction += `${pb_3_f[i].fractionsB.cat3} : <br>`;
        pb_3_f[
          i
        ].correction += `$1-\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}}-\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = `;
        pb_3_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}} = `;
        pb_3_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}-${frac_meme_denom[0]}-${frac_meme_denom[2]}}{${frac_meme_denom[3]}} = `;
        pb_3_f[i].correction += `\\dfrac{${
          frac_meme_denom[1] - frac_meme_denom[0] - frac_meme_denom[2]
        }}{${frac_meme_denom[1]}}`;
        if (!(frac_meme_denom[1] == pb_3_f[0].fractionsB.f3[1])) {
          pb_3_f[
            i
          ].correction += ` = \\dfrac{${pb_3_f[i].fractionsB.f3[0]}}{${pb_3_f[i].fractionsB.f3[1]}}$`;
        } else {
          pb_3_f[i].correction += `$`;
        }
      }

      //======================================================
      //==== Conclusion indice 0 le triathlon des neiges  ====
      //======================================================
      pb_3_f[0].correction += `<br>${pb_3_f[0].prenoms[0]} fait donc $\\dfrac{${pb_3_f[0].fractionsB.f1[0]}}{${pb_3_f[0].fractionsB.f1[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].correction += `$\\dfrac{${pb_3_f[0].fractionsB.f2[0]}}{${pb_3_f[0].fractionsB.f2[1]}}$ à ${pb_3_f[0].fractionsB.cat2} et `;
      pb_3_f[0].correction += `$\\dfrac{${pb_3_f[0].fractionsB.f3[0]}}{${pb_3_f[0].fractionsB.f3[1]}}$ à ${pb_3_f[0].fractionsB.cat3}.`;

      pb_3_f[0].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_3_f[0].correction += `${pb_3_f[0].prenoms[0]} fait donc $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ à ${pb_3_f[0].fractionsB.cat2} et `;
      pb_3_f[0].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ à ${pb_3_f[0].fractionsB.cat3}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nt1 / dt1) == calcul(nt2 / dt2) &&
        calcul(nt1 / dt1) == calcul(nt3 / dt3)
      ) {
        pb_3_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `Les trois fractions sont équivalentes, ${pb_3_f[0].prenoms[0]} parcours donc la même distance dans les trois disciplines.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5]
        );
        pb_3_f[0].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_3_f[0].fractionsB.f1[0],
          pb_3_f[0].fractionsB.f1[1],
          pb_3_f[0].fractionsB.f2[0],
          pb_3_f[0].fractionsB.f2[1],
          pb_3_f[0].fractionsB.f3[0],
          pb_3_f[0].fractionsB.f3[1]
        );

        pb_3_f[0].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$.`;

        pb_3_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc à ${
            pb_3_f[0].fractionsSimp[
              pb_3_f[0].fractionsSimp.indexOf(frac_rangees[4]) + 2
            ]
          } que ${pb_3_f[0].prenoms[0]} fait la plus grande distance.`
        )}`;
      }

      //======================================================
      //======== 		Conclusion indice 1 Miss Math  	========
      //======================================================
      pb_3_f[1].correction += `<br>${pb_3_f[1].fractionsB.cat1} a donc remporté $\\dfrac{${pb_3_f[1].fractionsB.f1[0]}}{${pb_3_f[1].fractionsB.f1[1]}}$, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat2} a remporté $\\dfrac{${pb_3_f[1].fractionsB.f2[0]}}{${pb_3_f[1].fractionsB.f2[1]}}$ et `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat3} $\\dfrac{${pb_3_f[1].fractionsB.f3[0]}}{${pb_3_f[1].fractionsB.f3[1]}}$.`;

      pb_3_f[1].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat1} remporte donc $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat2} $\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ et `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat3} $\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$.`;

      if (
        calcul(nt1 / dt1) == calcul(nt2 / dt2) &&
        calcul(nt1 / dt1) == calcul(nt3 / dt3)
      ) {
        pb_3_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `Les trois fractions sont équivalentes, les trois candidates ont donc remporté le même nombre de suffrages.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5]
        );
        pb_3_f[1].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_3_f[1].fractionsB.f1[0],
          pb_3_f[1].fractionsB.f1[1],
          pb_3_f[1].fractionsB.f2[0],
          pb_3_f[1].fractionsB.f2[1],
          pb_3_f[1].fractionsB.f3[0],
          pb_3_f[1].fractionsB.f3[1]
        );

        pb_3_f[1].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$.`;

        pb_3_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc ${
            pb_3_f[1].fractionsSimp[
              pb_3_f[1].fractionsSimp.indexOf(frac_rangees[4]) + 2
            ]
          } qui a été élue.`
        )}`;
      }

      //======================================================
      //======== 		AVEC 4 FRACTIONS			  	========
      //======================================================

      // le tableau d'objets contenant tout le necesssaire, fractions, énoncé, question ... pour les problème avec 4 fractions
      let pb_4_f = [];
      // les numérateurs et dénominateurs des 4 fractions attention les trois premières doivent être inférieures à 1/3 si on veut qu'elles soient toutes positives !
      // et on veut des fractions distinctes
      let nq1, nq2, nq3, nq4, dq1, dq2, dq3, dq4;
      let n4, d4; // en plus parce qu'il y a 4 fractions
      // on choisit un tableau de dénominateurs qui vont bien
      let denoms_cool_4 = denoms_amis[randint(2, denoms_amis.length - 1)];
      while (
        nq1 == nq2 ||
        nq1 == nq3 ||
        nq1 == nq4 ||
        nq2 == nq3 ||
        nq2 == nq4 ||
        nq3 == nq4 ||
        nq1 / dq1 >= 1 / 3 ||
        nq2 / dq2 >= 1 / 3 ||
        nq3 / dq3 >= 1 / 3
      ) {
        n1 = randint(1, 5);
        d1 = choice(denoms_cool_4);
        n2 = randint(1, 11, [n1]); //on évite n1 pour pouvoir retrouver le texte de la plus grande fraction
        d2 = choice(denoms_cool_4);
        n3 = randint(1, 17, [n1, n2]); //on évite n1 et n2 pour pouvoir retrouver le texte de la plus grande fraction
        d3 = choice(denoms_cool_4);
        n4 = d1 * d2 * d3 - n1 * d2 * d3 - n2 * d1 * d3 - n3 * d1 * d2; //la somme des quatre vaut 1 !
        d4 = d1 * d2 * d3;

        nq1 = frac.fraction_simplifiee(n1, d1)[0];
        dq1 = frac.fraction_simplifiee(n1, d1)[1];
        nq2 = frac.fraction_simplifiee(n2, d2)[0];
        dq2 = frac.fraction_simplifiee(n2, d2)[1];
        nq3 = frac.fraction_simplifiee(n3, d3)[0];
        dq3 = frac.fraction_simplifiee(n3, d3)[1];
        nq4 = frac.fraction_simplifiee(n4, d4)[0];
        dq4 = frac.fraction_simplifiee(n4, d4)[1];
      }

      //======================================================
      //=========== 		indice 0 le mandala		 ===========
      //======================================================
      pb_4_f.push({
        //
        prenoms: [prenom()],
        fractionsSimp: [
          nq1,
          dq1,
          "carmin",
          nq2,
          dq2,
          "ocre jaune",
          nq3,
          dq3,
          "turquoise",
          nq4,
          dq4,
          "pourpre",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "carmin",
          f2: [nq2, dq2],
          cat2: "ocre jaune",
          f3: [nq3, dq3],
          cat3: "turquoise",
          f4: [nq4, dq4],
          cat4: "pourpre",
        },
        enonce: ``,
        question: `Quelle est elle la couleur qui recouvre le plus de surface ?`,
        correction: ``,
      });

      //======================================================
      //===========		indice 1 le jardin	 	 ===========
      //======================================================
      pb_4_f.push({
        // indice 1 le jardin
        prenoms: [],
        fractionsSimp: [
          nq1,
          dq1,
          "la culture des légumes",
          nq2,
          dq2,
          "la culture des plantes aromatiques",
          nq3,
          dq3,
          "une serre servant aux semis",
          nq4,
          dq4,
          "la culture des fraisiers",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "la culture des légumes",
          f2: [nq2, dq2],
          cat2: "la culture des plantes aromatiques",
          f3: [nq3, dq3],
          cat3: "une serre servant aux semis",
          f4: [nq4, dq4],
          cat4: "la culture des fraisiers",
        },
        enonce: ``,
        question: `Quelle est la culture qui occupe le plus de surface ?`,
        correction: ``,
      });

      //======================================================
      //===========	indice 2 le stade		 	 ===========
      //======================================================
      pb_4_f.push({
        // indice 2 le stade
        prenoms: [],
        fractionsSimp: [
          nq1,
          dq1,
          "le pays organisateur",
          nq2,
          dq2,
          "l'ensemble des supporters des deux équipes en jeu",
          nq3,
          dq3,
          "les sponsors et officiels",
          nq4,
          dq4,
          "les places en vente libre",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "le pays organisateur",
          f2: [nq2, dq2],
          cat2: "l'ensemble des supporters des deux équipes en jeu",
          f3: [nq3, dq3],
          cat3: "les sponsors et officiels",
          f4: [nq4, dq4],
          cat4: "les places en vente libre",
        },
        enonce: ``,
        question: `Quelle est la catégorie la plus importante dans le stade ?`,
        correction: ``,
      });

      //======================================================
      //===========	énoncé indice 0 le mandala 	 ===========
      //======================================================
      pb_4_f[0].enonce = `${pb_4_f[0].prenoms[0]} colorie un mandala selon les proportions suivantes :  $\\dfrac{${pb_4_f[0].fractionsB.f1[0]}}{${pb_4_f[0].fractionsB.f1[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].enonce += `$\\dfrac{${pb_4_f[0].fractionsB.f2[0]}}{${pb_4_f[0].fractionsB.f2[1]}}$ en  ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].enonce += `$\\dfrac{${pb_4_f[0].fractionsB.f3[0]}}{${pb_4_f[0].fractionsB.f3[1]}}$ en  ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].enonce += `le reste en ${pb_4_f[0].fractionsB.cat4}.`;

      //======================================================
      //===========	énoncé indice 1 le jardin 	 ===========
      //======================================================
      pb_4_f[1].enonce = `Un jardin est aménagé selon les proportions suivantes :  $\\dfrac{${pb_4_f[1].fractionsB.f1[0]}}{${pb_4_f[1].fractionsB.f1[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].enonce += `$\\dfrac{${pb_4_f[1].fractionsB.f2[0]}}{${pb_4_f[1].fractionsB.f2[1]}}$ par  ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].enonce += `$\\dfrac{${pb_4_f[1].fractionsB.f3[0]}}{${pb_4_f[1].fractionsB.f3[1]}}$ par  ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].enonce += `le reste par ${pb_4_f[1].fractionsB.cat4}.`;

      //======================================================
      //===========	énoncé indice 2 le stade 	 ===========
      //======================================================
      pb_4_f[2].enonce = `Pour chaque match, les places du stade sont mises en vente dans les proportions suivantes :  $\\dfrac{${pb_4_f[2].fractionsB.f1[0]}}{${pb_4_f[2].fractionsB.f1[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].enonce += `$\\dfrac{${pb_4_f[2].fractionsB.f2[0]}}{${pb_4_f[2].fractionsB.f2[1]}}$ pour  ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].enonce += `$\\dfrac{${pb_4_f[2].fractionsB.f3[0]}}{${pb_4_f[2].fractionsB.f3[1]}}$ pour  ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].enonce += `le reste pour ${pb_4_f[2].fractionsB.cat4}.`;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================

      //let frac_meme_denom;
      for (let i = 0; i < 3; i++) {
        pb_4_f[
          i
        ].correction = `Il s'agit d'un problème additif. Il va être necessaire de réduire les fractions au même dénominateur pour les additionner, les soustraire ou les comparer.<br>`;

        if (!(dq1 == dq2 && dq1 == dq3)) {
          pb_4_f[i].correction += `${!(
            dq1 == dq2 && dq1 == dq3
          )} - ${dq1} - ${dq2} - ${dq3} - Réduisons les fractions de l'énoncé au même dénominateur :  `;
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_4_f[i].fractionsB.f1[0],
            pb_4_f[i].fractionsB.f1[1],
            pb_4_f[i].fractionsB.f2[0],
            pb_4_f[i].fractionsB.f2[1],
            pb_4_f[i].fractionsB.f3[0],
            pb_4_f[i].fractionsB.f3[1],
            pb_4_f[i].fractionsB.f4[0],
            pb_4_f[i].fractionsB.f4[1]
          );
          if (frac_meme_denom[1] == dq1) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}$, `;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$, `;
          }
          if (frac_meme_denom[1] == dq2) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}$ et `;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ et `;
          }
          if (frac_meme_denom[1] == dq3) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}}$.<br>`;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}} = \\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$.<br>`;
          }
        } else {
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_4_f[i].fractionsB.f1[0],
            pb_4_f[i].fractionsB.f1[1],
            pb_4_f[i].fractionsB.f2[0],
            pb_4_f[i].fractionsB.f2[1],
            pb_4_f[i].fractionsB.f3[0],
            pb_4_f[i].fractionsB.f3[1],
            pb_4_f[i].fractionsB.f4[0],
            pb_4_f[i].fractionsB.f4[1]
          );
          pb_4_f[
            i
          ].correction += `Les fractions de l'énoncé ont déjà le même dénominateur : `;
          pb_4_f[
            i
          ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}$, $\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}$ et $\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}}$.<br>`;
        }
      }

      //======================================================
      //===========	Correction indice 0 le mandala==========
      //======================================================
      pb_4_f[0].correction += `Calculons alors la fraction du mandala recouverte en `;

      //======================================================
      //===========	Correction indice 1 le jardin===========
      //======================================================
      pb_4_f[1].correction += `Calculons d'abord la fraction du jardin occupée par `;

      //======================================================
      //===========	énoncé indice 2 le stade 	 ===========
      //======================================================
      pb_4_f[2].correction += `Calculons d'abord la fraction du stade occupée par `;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      for (let i = 0; i < 3; i++) {
        pb_4_f[i].correction += `${pb_4_f[i].fractionsB.cat3} : <br>`;
        pb_4_f[
          i
        ].correction += `$1-\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}-\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}-\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}} = `;
        pb_4_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}-\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}} = `;
        pb_4_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}-${frac_meme_denom[0]}-${frac_meme_denom[2]}-${frac_meme_denom[4]}}{${frac_meme_denom[1]}} = `;
        pb_4_f[i].correction += `\\dfrac{${
          frac_meme_denom[1] -
          frac_meme_denom[0] -
          frac_meme_denom[2] -
          frac_meme_denom[4]
        }}{${frac_meme_denom[1]}}`;
        if (!(frac_meme_denom[1] == pb_4_f[0].fractionsB.f4[1])) {
          pb_4_f[
            i
          ].correction += ` = \\dfrac{${pb_4_f[i].fractionsB.f4[0]}}{${pb_4_f[i].fractionsB.f4[1]}}$`;
        } else {
          pb_4_f[i].correction += `$`;
        }
      }

      //======================================================
      //=========== Conclusion indice 0 le mandala ===========
      //======================================================

      pb_4_f[0].correction += `<br>Le mandala est donc colorié de la façon suivante : $\\dfrac{${pb_4_f[0].fractionsB.f1[0]}}{${pb_4_f[0].fractionsB.f1[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f2[0]}}{${pb_4_f[0].fractionsB.f2[1]}}$ en ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f3[0]}}{${pb_4_f[0].fractionsB.f3[1]}}$ en ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f4[0]}}{${pb_4_f[0].fractionsB.f4[1]}}$ en ${pb_4_f[0].fractionsB.cat4}.`;

      pb_4_f[0].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[0].correction += `le mandala est donc colorié de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ en ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ en ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ en ${pb_4_f[0].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, ${pb_4_f[0].prenoms[0]} colorie donc la même surface avec les quatre couleurs.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[0].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[0].fractionsB.f1[0],
          pb_4_f[0].fractionsB.f1[1],
          pb_4_f[0].fractionsB.f2[0],
          pb_4_f[0].fractionsB.f2[1],
          pb_4_f[0].fractionsB.f3[0],
          pb_4_f[0].fractionsB.f3[1],
          pb_4_f[0].fractionsB.f4[0],
          pb_4_f[0].fractionsB.f4[1]
        );

        pb_4_f[0].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc en ${
            pb_4_f[0].fractionsSimp[
              pb_4_f[0].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le mandala est le plus recouvert.`
        )}`;
      }

      //======================================================
      //=========== Conclusion indice 1 le jardin	 ===========
      //======================================================
      pb_4_f[1].correction += `<br>Le jardin est donc occupé de la façon suivante : $\\dfrac{${pb_4_f[1].fractionsB.f1[0]}}{${pb_4_f[1].fractionsB.f1[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f2[0]}}{${pb_4_f[1].fractionsB.f2[1]}}$ par ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f3[0]}}{${pb_4_f[1].fractionsB.f3[1]}}$ par ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f4[0]}}{${pb_4_f[1].fractionsB.f4[1]}}$ par ${pb_4_f[1].fractionsB.cat4}.`;

      pb_4_f[1].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[1].correction += `le jardin est donc occupé de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ par ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ par ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ par ${pb_4_f[1].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, la même surface du jardin est donc occupée par les quatre cultures.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[1].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[1].fractionsB.f1[0],
          pb_4_f[1].fractionsB.f1[1],
          pb_4_f[1].fractionsB.f2[0],
          pb_4_f[1].fractionsB.f2[1],
          pb_4_f[1].fractionsB.f3[0],
          pb_4_f[1].fractionsB.f3[1],
          pb_4_f[1].fractionsB.f4[0],
          pb_4_f[1].fractionsB.f4[1]
        );

        pb_4_f[1].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc par ${
            pb_4_f[1].fractionsSimp[
              pb_4_f[1].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le jardin est le plus occupé.`
        )}`;
      }

      //======================================================
      //=========== Conclusion indice 2 le stade	 ===========
      //======================================================
      pb_4_f[2].correction += `<br>Le stade est donc occupé de la façon suivante : $\\dfrac{${pb_4_f[2].fractionsB.f1[0]}}{${pb_4_f[2].fractionsB.f1[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f2[0]}}{${pb_4_f[2].fractionsB.f2[1]}}$ pour ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f3[0]}}{${pb_4_f[2].fractionsB.f3[1]}}$ pour ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f4[0]}}{${pb_4_f[2].fractionsB.f4[1]}}$ pour ${pb_4_f[2].fractionsB.cat4}.`;

      pb_4_f[2].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[2].correction += `le stade est donc occupé de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ pour ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ pour ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ pour ${pb_4_f[2].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[2].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, chaque catégorie a donc la même importance dans le stade.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[2].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[2].fractionsB.f1[0],
          pb_4_f[2].fractionsB.f1[1],
          pb_4_f[2].fractionsB.f2[0],
          pb_4_f[2].fractionsB.f2[1],
          pb_4_f[2].fractionsB.f3[0],
          pb_4_f[2].fractionsB.f3[1],
          pb_4_f[2].fractionsB.f4[0],
          pb_4_f[2].fractionsB.f4[1]
        );

        pb_4_f[2].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[2].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc pour ${
            pb_4_f[2].fractionsSimp[
              pb_4_f[2].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le nombre de places est le plus important.`
        )}`;
      }

      switch (liste_type_de_questions[i]) {
        case 1: // Triathlon des neiges --> VTT, ski de fond, course
          texte = `${pb_3_f[0].enonce} <br> ${pb_3_f[0].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_3_f[0].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_3_f[0].correction}`;
          }
          break;
        case 2: //Miss Math --> Noémie, Samia, Alexia
          texte = `${pb_3_f[1].enonce} <br> ${pb_3_f[1].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_3_f[1].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_3_f[1].correction}`;
          }
          break;
        case 3: // Mandala --> carmin, ocre jaune, turquoise, pourpre
          texte = `${pb_4_f[0].enonce} <br> ${pb_4_f[0].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[0].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[0].correction}`;
          }
          break;
        case 4: // Jardin --> légumes, plantes aromatiques, semis, fraisiers
          texte = `${pb_4_f[1].enonce} <br> ${pb_4_f[1].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[1].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[1].correction}`;
          }
          break;
        case 5: // Stade --> pays organisatuers, supporters, sponsors, vente libre
          texte = `${pb_4_f[2].enonce} <br> ${pb_4_f[2].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[2].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[2].correction}`;
          }
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : nombre enier positif\n2 : nombre décimal positif\n3 : nombre enier positif inférieur à un\n4 : Mélange"];
}

/**
 * Problème avec lecture de représentation graphique d'une fonction
 * @Auteur Rémi Angot
 * Référence 4F12
 */
function Exploiter_representation_graphique() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Problème s'appuyant sur la lecture d'une représentation graphique";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;
  this.sup = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_probleme
    if (this.sup==1){
      type_de_probleme = "projectile"
    }
    if (this.sup==2){
      type_de_probleme = "velo"
    }
    if (this.sup==3){
      type_de_probleme = "temperature"
    }
    if (this.sup==4){
      type_de_probleme = choice(["temperature","projectile","velo"]);
    }
    let a, b, c, d, f, t1, t2, l1, l2, l3, g1, g2, r, graphique, texte1, texte2;
    switch (type_de_probleme) {
      case "projectile":
        // Parabole qui a pour zéro, 0 et 6,8 ou 10
        // Et qui a pour maximum un multiple de 5
        t1 = choice([6, 8, 10]);
        a = (1 / ((-t1 / 2) * (t1 / 2 - t1))) * choice([10, 15, 20, 25, 30]); // on divise par l'image du max et on multiplie par la valeur souhaitée
        f = (x) => calcul(-a * x * (x - t1));

        // Mettre des dixièmes de secondes à la place des secondes
        let xscale = choice([1, 0.1]);
        g1 = grille(-1, -1, t1 + 2, 8);
        g1.color = "black";
        g1.opacite = 1;
        g2 = grille(-1, -1, t1 + 2, 8, "gray", 0.2, 0.2);
        g3 = axes(0, 0, t1 + 1, 8);
        texte1 = texteParPosition("hauteur (en mètre)", 0.2, 7.3, "droite");
        l1 = labelX(0, calcul((t1 + 1)*xscale), 1, "black", -0.6, xscale);
        l2 = labelY(5, 35, 1, "black", -0.6, 5);
        graphique = courbe(f, 0, t1, "blue", 2, [1,5]);
        texte2 = texteParPosition("temps (en s)", t1 + 0.5, 0.4, "droite");

        this.introduction =
          "On a représenté ci-dessous l’évolution de la hauteur d’un projectile lancé depuis le sol (en mètre) en fonction du temps (en seconde).";

        this.introduction +=
          "<br><br>" +
          mathalea2d(
            {
              xmin: -1,
              ymin: -1,
              xmax: t1 + 3,
              ymax: 8,
              pixelsParCm: 30,
              scale : .6,
            },
            g1,
            g2,
            g3,
            graphique,
            texte1,
            texte2,
            l1,
            l2
          );

        this.introduction +=
          "<br><br>" +
          "À l’aide de ce graphique, répondre aux questions suivantes :";

        this.liste_questions.push(
          "Au bout de combien de temps le projectile retombe-t-il au sol ?"
        );
        this.liste_corrections.push(
          `Au bout de ${tex_nombrec(
            t1 * xscale
          )} s, le projectile retombe au sol car la courbe passe par le point de coordonnées $(${tex_nombrec(
            t1 * xscale
          )}~;~0)$.`
        );

        this.liste_questions.push(
          "Quelle est la hauteur maximale atteinte par le projectile ?"
        );
        this.liste_corrections.push(
          `Le point le plus haut de la courbe a pour abscisse $${tex_nombrec(
            (t1 / 2) * xscale
          )}$ et pour ordonnée $${f(
            t1 / 2
          )}$ donc la hauteur maximale est de $${f(t1 / 2)}$ m.`
        );

        break;
        case 'velo' : 
				let v1 = randint(1,4)
				let v2 = randint(1,3,v1)
				let v3 = v1+v2
				g1 = grille(-1,-1,6,8)
				g1.color = 'black'
				g1.opacite = 1
				g2 = grille(-1,-1,6,8,'gray',.2,.2)
				g3 = axes(0,0,6,7)
				texte1 = texteParPosition('distance (en km)',0.2,7.3,'droite')
				l1 = labelX(0,50,1,'black',-.6,10)
        l2 = labelY(1,6,1,'black',-.6,1)
				texte2 = texteParPosition('temps (en min)',6.5,0.4,'droite')
				let situation = randint(1,3)
				let tempsPause
				let periodeRapide
				if (situation==1){
					l = polyline(point(0,0),point(1,v1),point(2,v1+v2),point(3,v1+v2),point(4,0))
					tempsPause = 20
					periodeRapide = 'de la 20e à la 30e minute'
				}
				if (situation==2){
					l = polyline(point(0,0),point(1,v3),point(2,v3),point(3,v2),point(4,0))
					tempsPause = 10
					periodeRapide = 'durant les 10 premières minutes'

				}
				if (situation==3){
					l = polyline(point(0,0),point(1,v3),point(2,v2),point(3,v2),point(4,0))
					tempsPause = 20
					periodeRapide = 'durant les 10 premières minutes'
				}
				l.epaisseur=2
				l.color = 'blue'

				fille = prenomF()
				this.introduction = `${fille} fait du vélo avec son smartphone sur une voie-verte rectiligne qui part de chez elle. Une application lui permet de voir à quelle distance de chez elle, elle se trouve.`

				this.introduction += '<br><br>' + mathalea2d({
					xmin : -1,
					ymin : -1,
					xmax : 9,
					ymax : 8,
					pixelsParCm : 40,
				},g1,g2,g3,l,texte1,texte2,l1,l2)

				this.introduction += '<br><br>' + 'À l’aide de ce graphique, répondre aux questions suivantes :'

				this.liste_questions.push('Pendant combien de temps a-t-elle fait du vélo ?')
				this.liste_corrections.push(`Elle a fait du vélo pendant 40 minutes.`)

				this.liste_questions.push('Quelle distance a-t-elle parcourue au total ?')
				this.liste_corrections.push(`Le point le plus loin de sa maison est à ${v3} km et ensuite elle revient chez elle, donc la distance totale est de ${2*v3} km.`)

				this.liste_questions.push(`Que se passe-t-il après ${tempsPause} minutes de vélo ?`)
				this.liste_corrections.push(`La distance reste constante alors qu'elle est sur un chemin rectiligne. Elle a donc fait une pause.`)
			
				this.liste_questions.push('À quel moment a-t-elle été la plus rapide ?')
				this.liste_corrections.push(`Elle a été la plus rapide ${periodeRapide} où elle a effectué ${v3} km en 10 minutes.`)
			

			break;
      case "temperature":
        let hmin = randint(2,4)
        let hmax = randint(12,16)
        let tmin = randint(-5,15)
        let tmax = tmin + randint(5,12)

        r = repere({
          xmin: 0,
          ymin: tmin-1,
          ymax: tmax+2,
          xmax: 24,
          xscale: 2,
          legendeX: "Heure",
          legendeY: "Température (en °C)",
        });
        graphique = courbeInterpolee(
          [
            [-2, tmin+2],
            [hmin, tmin],
            [hmax, tmax],
            [26, tmin+2],
          ],
          "blue",
          2,
          r,
          0,
          24
        );
        this.introduction =
          "On a représenté ci-dessous l’évolution de la température sur une journée.";
        this.introduction +=
          "<br><br>" +
          mathalea2d(
            {
              xmin: -1,
              ymin: tmin-2.5,
              xmax: 16,
              ymax: tmax+3,
              pixelsParCm: 40,
            },
            r,
            graphique
          );

        this.introduction +=
          "<br><br>" +
          "À l’aide de ce graphique, répondre aux questions suivantes :";

        this.liste_questions.push(
          "Quelle est la température la plus froide de la journée ?"
        );
        this.liste_corrections.push(`La température la plus basse est ${tmin}°C.`)

        this.liste_questions.push(
          "Quelle est la température la plus chaude de la journée ?"
        );
        this.liste_corrections.push(`La température la plus élevée de la journée est ${tmax}°C.`)
        this.liste_questions.push(
          "À quelle heure fait-il le plus chaud ?"
        );
        this.liste_corrections.push(`C'est à ${hmax} h qu'il fait le plus chaud.`)
        this.liste_questions.push(
          "À quelle heure fait-il le plus froid ?"
        );
        this.liste_corrections.push(`C'est à ${hmin} h qu'il fait le plus froid.`)


        break;
    }

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Choix du problème',3, "1 : Projectile\n2 : Trajet à vélo\n3 : Température\n4 : Au hasard"];
}

/**
 * Tester si un nombre est solution d'une équation
 * * 4L14-0
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tester si un nombre est solution d'une équation";
  this.consigne = "";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  //this.sup2=false;
  if (this.exo == "4L14-1") {
    this.nb_questions = 4;
  } else if (this.exo == "4L14-2") {
    this.nb_questions = 3;
  } else {
    this.nb_questions = 9;
  }

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles;
    if (this.exo == "4L14-1") {
      //type_de_questions_disponibles = [1, 2, 3, 4, 5, 8];
      type_de_questions_disponibles = [choice([1, 2]), 3,choice([4,5]), 8];
    } else if (this.exo == "4L14-2") {
      type_de_questions_disponibles = [9, 6, 7];
    } else {
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 8, 6, 7, 9];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    //let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
    this.consigne = `Justifier si les nombres proposés sont des solutions de l'équation donnée ou non.`;

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let a, b, c, d, x1, x2, x3;
      switch (liste_type_de_questions[i]) {
        case 1: // 3x-a=2x+b   x=a+b
          if (this.sup == 1) {
            a = randint(1, 6);
            b = randint(1, 6, [a]);
            x2 = a + b;
            x1 = randint(2, 10, [x2]);
          } else {
            a = randint(-6, 6, [0]);
            b = randint(-6, 6, [a, 0]);
            x2 = a + b;
            x1 = randint(-10, 10, [0, x2]);
          }

          texte = `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=2x+${ecriture_parenthese_si_negatif(
            b
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a)}=${
            3 * x1 - a
          }$ <br> $2x+${ecriture_parenthese_si_negatif(
            b
          )}=2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)}=${2 * x1 + b}$<br>`;
          texte_corr += `$${3 * x1 - a}\\not=${
            2 * x1 + b
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $3x-${ecriture_parenthese_si_negatif(
              a
            )}=2x+${ecriture_parenthese_si_negatif(b)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${ecriture_parenthese_si_negatif(x2)}$ : <br>`;
          texte_corr += `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a)}=${
            3 * x2 - a
          }$ <br> $2x+${ecriture_parenthese_si_negatif(
            b
          )}=2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)}=${2 * x2 + b}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $3x-${ecriture_parenthese_si_negatif(
              a
            )}=2x+${ecriture_parenthese_si_negatif(b)}~$`
          )}`;
          break;
        case 2: // 3x+a=5x-b   x=(a+b)/2 donc a et b impairs pour une solution entière
          if (this.sup == 1) {
            a = randint(1, 9);
            b = randint(0, 4) * 2 + (a % 2);
            x1 = parseInt(Algebrite.eval((a + b) / 2));
            x2 = randint(1, 9, x1);
          } else {
            a = randint(-9, 9, [0]);
            b = randint(-4, 4, [a, 0]) * 2 + (a % 2);
            x1 = parseInt(Algebrite.eval((a + b) / 2));
            x2 = randint(-9, 9, [0, x1]);
          }

          texte = `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=5x-${ecriture_parenthese_si_negatif(
            b
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(a)}=${
            3 * x1 + a
          }$ <br> $5x-${ecriture_parenthese_si_negatif(
            b
          )}=5\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(b)}=${5 * x1 - b}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $3x+${ecriture_parenthese_si_negatif(
              a
            )}=5x-${ecriture_parenthese_si_negatif(b)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(a)}=${
            3 * x2 + a
          }$ <br> $5x-${ecriture_parenthese_si_negatif(
            b
          )}=5\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(b)}=${5 * x2 - b}$<br>`;
          texte_corr += `$${3 * x2 + a}\\not=${
            5 * x2 - b
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $3x+${ecriture_parenthese_si_negatif(
              a
            )}=5x-${ecriture_parenthese_si_negatif(b)}~$`
          )}`;
          break;
        case 3: // 10(x-a)=4(2x+b) x=(10a+4b)/2
          if (this.sup == 1) {
            a = randint(1, 3);
            b = randint(1, 3);
            x2 = parseInt(Algebrite.eval((10 * a + 4 * b) / 2));
            x1 = randint(1, 9, x2);
          } else {
            a = randint(-3, 3, [0]);
            b = randint(-3, 3, [0]);
            x2 = parseInt(Algebrite.eval((10 * a + 4 * b) / 2));
            x1 = randint(-9, 9, [0, x2]);
          }

          texte = `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=4(2x+${ecriture_parenthese_si_negatif(
            b
          )})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=10\\times (${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x1 - a}=${
            10 * (x1 - a)
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x1 + b}=${
            4 * (2 * x1 + b)
          }$<br>`;
          texte_corr += `$${10 * (x1 - a)}\\not=${
            4 * (2 * x1 + b)
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $10(x-${ecriture_parenthese_si_negatif(
              a
            )})=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=10\\times (${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x2 - a}=${
            10 * (x2 - a)
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x2 + b}=${
            4 * (2 * x2 + b)
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $10(x-${ecriture_parenthese_si_negatif(
              a
            )})=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}`;
          break;
        case 4: // ax+b=(a+1)x-c x=b+c
          if (this.sup == 1) {
            a = randint(2, 9);
            b = randint(2, 9);
            c = randint(1, 3);
            x1 = b + c;
            x2 = randint(2, 10, x1);
          } else {
            a = randint(2, 9);
            b = randint(2, 9) * randint(-1, 1, 0);
            c = randint(1, 3) * randint(-1, 1, 0);
            x1 = b + c;
            x2 = randint(2, 10, x1) * randint(-1, 1, 0);
          }

          texte = `$${ecriture_parenthese_si_negatif(
            a
          )}x+${ecriture_parenthese_si_negatif(b)}=${
            a + 1
          }x-${ecriture_parenthese_si_negatif(
            c
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(
            b
          )}=${ecriture_parenthese_si_negatif(
            a
          )}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)}=${a * x1 + b}$ <br> $${
            a + 1
          }x-${ecriture_parenthese_si_negatif(c)}=${
            a + 1
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(c)}=${(a + 1) * x1 - c}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${ecriture_parenthese_si_negatif(
              a
            )}x+${ecriture_parenthese_si_negatif(b)}=${
              a + 1
            }x-${ecriture_parenthese_si_negatif(c)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(
            b
          )}=${ecriture_parenthese_si_negatif(
            a
          )}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)}=${a * x2 + b}$ <br> $${
            a + 1
          }x-${ecriture_parenthese_si_negatif(c)}=${
            a + 1
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(c)}=${(a + 1) * x2 - c}$<br>`;
          texte_corr += `$${a * x2 + b}\\not=${
            (a + 1) * x2 - c
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${ecriture_parenthese_si_negatif(
              a
            )}x+${ecriture_parenthese_si_negatif(b)}=${
              a + 1
            }x-${ecriture_parenthese_si_negatif(c)}~$`
          )}<br><br>`;
          break;
        case 5: // a-2x=b+2x x=(a-b)/4
          if (this.sup == 1) {
            x1 = randint(1, 9);
            b = randint(1, 9);
            a = b + 4 * x1;
            x2 = randint(1, 11, x1);
          } else {
            x1 = randint(-9, 9);
            b = randint(-9, 9, 0);
            a = b + 4 * x1;
            x2 = randint(1, 11, x1);
          }

          texte = `$${a}-2x=${b}+2x~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}=${
            a - 2 * x1
          }$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}=${b + 2 * x1}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${a}-2x=${b}+2x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}=${
            a - 2 * x2
          }$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}=${b + 2 * x2}$<br>`;
          texte_corr += `$${a - 2 * x2}\\not=${
            b + 2 * x2
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${a}-2x=${b}+2x~$`
          )}<br><br>`;
          break;
        case 6: // ax-ab=x²-bx (a-x)(x-b)=0 solutions a et b.
          if (this.sup == 1) {
            b = randint(2, 9);
            a = randint(2, 9, [b]);
            x3 = b;
            x1 = a;
            x2 = randint(1, 9, [x1, x3]);
          } else {
            a = randint(-9, 9, [0, 1]);
            b = randint(-9, 9, [0, a]);
            x1 = a;
            x3 = b;
            x2 = randint(-9, 9, [x1, x3]);
          }
          texte = `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=x^2-${ecriture_parenthese_si_negatif(
            b
          )}x~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x1 - a * b
          }$ <br> $x^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times  x=${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x1)}=${
            x1 * x1
          }-${ecriture_parenthese_si_negatif(b * x1)}=${x1 * x1 - b * x1}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x2 - a * b
          }$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x2)}=${
            x2 * x2
          }-${ecriture_parenthese_si_negatif(b * x2)}=${x2 * x2 - b * x2}$<br>`;
          texte_corr += `$${a * x2 - a * b}\\not=${
            x2 * x2 - b * x2
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x3
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x3 - a * b
          }$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x3)}=${
            x3 * x3
          }-${ecriture_parenthese_si_negatif(b * x3)}=${x3 * x3 - b * x3}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}`;
          break;
        case 7: // adx-bd=acx²-bcx  --- (ax-b)(d-cx)=0 solutions b/a et d/c.
          if (this.sup == 1) {
            c = randint(2, 5);
            a = randint(2, 5);
            x2 = randint(2, 6);
            x3 = randint(2, 6, x2);
            x1 = randint(1, 7, [x2, x3]);
            b = a * x2;
            d = c * x3;
          } else {
            c = randint(2, 5) * randint(-1, 1, 0);
            a = randint(2, 5) * randint(-1, 1, 0);
            x2 = randint(1, 6) * randint(-1, 1, 0);
            x3 = randint(1, 6, x2) * randint(-1, 1, 0);
            x1 = randint(1, 7, [x2, x3]) * randint(-1, 1, 0);
            b = a * x2;
            d = c * x3;
          }
          texte = `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * c
          }x^2-${ecriture_parenthese_si_negatif(
            b * c
          )}x~$ pour $~x=${x1}~$, pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x1 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x1)}=${
            a * c * x1 * x1
          }-${ecriture_parenthese_si_negatif(b * c * x1)}=${
            a * c * x1 * x1 - b * c * x1
          }$<br>`;
          texte_corr += `$${a * d * x1 - d * b}\\not=${
            a * c * x1 * x1 - b * c * x1
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x2 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x2)}=${
            a * c * x2 * x2
          }-${ecriture_parenthese_si_negatif(b * c * x2)}=${
            a * c * x2 * x2 - b * c * x2
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x3
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x3 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x3)}=${
            a * c * x3 * x3
          }-${ecriture_parenthese_si_negatif(b * c * x3)}=${
            a * c * x3 * x3 - b * c * x3
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}`;
          break;
        case 8: // 12x-4a=4(2x+b) x=(4a+4b)/4
          if (this.sup == 1) {
            a = randint(1, 3);
            b = randint(1, 3);
            x2 = parseInt(Algebrite.eval((4 * a + 4 * b) / 4));
            x1 = randint(9, x2);
          } else {
            a = randint(-3, 3, [0]);
            b = randint(-3, 3, [0]);
            x2 = parseInt(Algebrite.eval((4 * a + 4 * b) / 4));
            x1 = randint(-9, 9, [0, x2]);
          }

          texte = `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=4(2x+${ecriture_parenthese_si_negatif(
            b
          )})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=12\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(4 * a)}=${
            12 * x1 - 4 * a
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x1 + b}=${
            4 * (2 * x1 + b)
          }$<br>`;
          texte_corr += `$${12 * x1 - 4 * a}\\not=${
            4 * (2 * x1 + b)
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $12x-${ecriture_parenthese_si_negatif(
              4 * a
            )}=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=12\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(4 * a)}=${
            12 * x2 - 4 * a
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x2 + b}=${
            4 * (2 * x2 + b)
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $12x-${ecriture_parenthese_si_negatif(
              4 * a
            )}=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          break;
        case 9: // x²-bx-ax+ab=0 (a-x)(x-b)=0 solutions a et b.
          if (this.sup == 1) {
            b = randint(2, 9);
            a = randint(2, 9);
            x3 = b;
            x1 = a;
            x2 = randint(1, 9, [x1, x3]);
          } else {
            do {
              a = randint(-9, 9, [0, 1]);
              b = randint(-9, 9, [0, a]);
              x1 = a;
              x3 = b;
              x2 = randint(-9, 9, [x1, x3]);
            } while (a + b == 0 || a + b == 1);
          }
          texte = `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=0~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x1 * x1
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x1
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x1 * x1 - (a + b) * x1 + a * b
          }$<br>`;
          texte_corr += `On trouve bien $0$ pour le membre de gauche donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x2 * x2
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x2
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x2 * x2 - (a + b) * x2 + a * b
          }$<br>`;
          texte_corr += `$${
            x2 * x2 - (a + b) * x2 + a * b
          }\\not=0$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x3
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x3 * x3
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x3
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x3 * x3 - (a + b) * x3 + a * b
          }$<br>`;
          texte_corr += `On trouve bien $0$ pour le membre de gauche donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Entiers naturels\n2 : Entiers relatifs",
  ];
  //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];
}

/**
 * Tester si un nombre est solution d'une équation degré 1
 * * 4L14-1
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation_deg1() {
  this.exo = "4L14-1";
  Tester_si_un_nombre_est_solution_d_une_equation.call(this);
  this.titre = `Tester si un nombre est solution d'une équation du premier degré`;
}

/**
 * Tester si un nombre est solution d'une équation degré 2
 * * 4L14-2
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation_deg2() {
  this.exo = "4L14-2";
  Tester_si_un_nombre_est_solution_d_une_equation.call(this);
  this.titre = `Tester si un nombre est solution d'une équation du second degré`;
  //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];
}

/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue
 * * 4L13-1
 * @author Sébastien Lozano
 */
function Forme_litterale_introduire_une_lettre(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue";
	this.consigne = "Exprimer le prix total de l'achat, en fonction des lettres introduites dans l'énoncé.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles=[1];			
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// une fonction pour gérer le pluriel 
			function pluriel(n,obj) {
				if (n>1) {
					return obj.plur
				} else {
					return obj.sing
				};
			};
			
			// une fonction pour gérer la chaine de sortie et supprimer le coeff 1 !
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
			};

			// on definit un tableau de couples possibles			
			let situations = [
				{prenom:prenom(),elt1:{lettre:'c',article:'un',sing:'crayon',plur:'crayons'},elt2:{lettre:'g',article:'une',sing:'gomme',plur:'gommes'}},
				{prenom:prenom(),elt1:{lettre:'r',article:'une',sing:'règle',plur:'règles'},elt2:{lettre:'e',article:'une',sing:'équerre',plur:'équerres'}},
				{prenom:prenom(),elt1:{lettre:'p',article:'une',sing:'poire',plur:'poires'},elt2:{lettre:'b',article:'une',sing:'banane',plur:'bananes'}},
				{prenom:prenom(),elt1:{lettre:'c',article:'un',sing:'couteau',plur:'couteaux'},elt2:{lettre:'f',article:'une',sing:'fourchette',plur:'fourchettes'}},
				{prenom:prenom(),elt1:{lettre:'m',article:'un',sing:'marteau',plur:'marteaux'},elt2:{lettre:'e',article:'une',sing:'enclume',plur:'enclumes'}},
			]
			let enonces = [];
			let n = randint(1,6);
			let p = randint(1,6);
			let situation = situations[randint(0,situations.length-1)];
			enonces.push({
				enonce:`${situation.prenom} veut acheter ${n} ${pluriel(n,situation.elt1)} et ${p} ${pluriel(p,situation.elt2)}.
				<br>On note $${situation.elt1.lettre}$	le prix d'${situation.elt1.article} ${situation.elt1.sing} et $${situation.elt2.lettre}$	le prix d'${situation.elt2.article} ${situation.elt2.sing}.`,
				question:``,
        correction:`
        ${situation.prenom} va payer $${n}$ fois le prix d'${situation.elt1.article} ${situation.elt1.sing} et $${p}$ fois le prix d'${situation.elt2.article} ${situation.elt2.sing}.
        <br> C'est à dire $${n}\\times ${situation.elt1.lettre} + ${p}\\times ${situation.elt2.lettre} = ${sliceUn(n)}${situation.elt1.lettre} + ${sliceUn(p)}${situation.elt2.lettre}$.
        <br>${texte_en_couleur(`Donc le prix total de l'achat est  $${sliceUn(n)}${situation.elt1.lettre} + ${sliceUn(p)}${situation.elt2.lettre}$.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue afin de mettre en équation un problème
 * à partir de figure géométriques élémentaires
 * * 4L13-0
 * @author Sébastien Lozano
 */
function Mettre_en_equation_sans_resoudre(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 9;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Mettre en équation un problème sans objectif de résolution";
	this.consigne = "Donner une équation qui permet de résoudre le problème.<br>On ne demande pas de résoudre l'équation.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1,2];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		type_de_questions_disponibles=[1];			

		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
      // une fonction pour dire le nom du polygone
      function myPolyName(n) {
        let sortie = {
          article:``,
          name: ``,
          nameParSommets: ``,
        };
        switch (n) {
          case 3:
            sortie.article = `du `;
            sortie.name = `triangle équilatéral`;
            sortie.nameParSommets = `ABC`;
            break;
          case 4:
            sortie.article = `du `;
            sortie.name = `carré`;
            sortie.nameParSommets = `ABCD`;
            break;
          case 5:
            sortie.article = `du `;
            sortie.name = `pentagone régulier`;
            sortie.nameParSommets = `ABCDE`;
            break;
          case 6:
            sortie.article = `de l'`;
            sortie.name = `hexagone régulier`;
            sortie.nameParSommets = `ABCDEF`;
            break;
          case 7:
            sortie.article = `de l'`;
            sortie.name = `heptagone régulier`;
            sortie.nameParSommets = `ABCDEFG`;
            break;
          case 8:
            sortie.article = `de l'`;
            sortie.name = `octogone régulier`;
            sortie.nameParSommets = `ABCDEFGH`;
            break;
        }
        return sortie;
      }

      // on choisit le nombre de côtés su polygone
      let n = randint(3, 8);
      //on choisit un nom pour la variable
      let variables = ['t','u','v','w','y','z'];
      let inc = variables[randint(0,variables.length-1)];
      //on choisit une unité
      let unites = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
      let unite = unites[randint(0, unites.length - 1)];
      //on prépare le polygone
      let po = polygoneRegulierParCentreEtRayon(point(0, 0), 4, n);
      po.opacite = 0.5;
      po.epaisseur = 2;
      //on pépare la côte
      let s = segment(po.listePoints[0], po.listePoints[1]);
      s.styleExtremites = `<->`;
      // on fait un test pour coder les angles droits du carré
      let anglesDroitsIfIsCarre;
      if (n==4) {
        anglesDroitsIfIsCarre = codageCarre(po)
      } else {
         anglesDroitsIfIsCarre= {}
      };
      // on finit les appels
      let mesAppels = [
        po,       
        codeSegments('X','blue',po.listePoints),        
        afficheCoteSegment(s,`${inc}`,1,'red',2,0.5,'black'),
        nommePolygone(po,myPolyName(n).nameParSommets),
        anglesDroitsIfIsCarre  
      ];
      // on prépare l'objet polygone
      let polygone = {
        nb_cotes: n,
        unite: unite,
        article:myPolyName(n).article,
        nom: myPolyName(n).name,
        let_cote: inc,
        perimetre: randint(200, 500),
        fig: mathalea2d(
          {
          xmin : -7,
          ymin : -5,
          xmax : 7,
          ymax : 5,
          pixelsParCm : 20,
          scale:0.5//0.7
          },
          mesAppels          
        )};      
      
			let enonces = [];
			enonces.push({
				enonce:`On considère la figure suivante où l'unité est le $${polygone.unite}$.<br>${prenom()} se demande pour quelle valeur de ${polygone.let_cote}, exprimée en $${polygone.unite}$, le périmètre ${polygone.article}${polygone.nom} est égal à $${polygone.perimetre}$ $${polygone.unite}$ .<br> ${polygone.fig}`,
				question:``,
        correction:`La figure est un ${polygone.nom}, il a donc ${polygone.nb_cotes} côtés de même longueur.<br>
        Cette longueur est notée ${polygone.let_cote}, le périmètre de la figure, exprimé en fonction de ${polygone.let_cote}, vaut donc $${polygone.nb_cotes}\\times$ ${polygone.let_cote}.<br>
        D'après l'énoncé, ce périmètre vaut $${polygone.perimetre}$ $${polygone.unite}$.<br>
        L'équation suivante permet donc de résoudre le problème : <br>
        ${texte_en_couleur(`$${polygone.nb_cotes}\\times$ ${polygone.let_cote} $= ${polygone.perimetre}$.`)}`
      });
      // pour être sûr d'avoir deux figures différentes
      let p = randint(3, 8,[n]);
      polygone.nb_cotes = p;
			enonces.push({
				enonce:`On considère la figure suivante où l'unité est le $${polygone.unite}$.<br>${prenom()} se demande pour quelle valeur de ${polygone.let_cote}, exprimée en $${polygone.unite}$, le périmètre ${polygone.article}${polygone.nom} est égal à $${polygone.perimetre}$ $${polygone.unite}$ .<br> ${polygone.fig}`,
				question:``,
        correction:`La figure est un ${polygone.nom}, il a donc ${polygone.nb_cotes} côtés de même longueur.<br>
        Cette longueur est notée ${polygone.let_cote}, le périmètre de la figure, exprimé en fonction de ${polygone.let_cote}, vaut donc $${polygone.nb_cotes}\\times$ ${polygone.let_cote}.<br>
        D'après l'énoncé, ce périmètre vaut $${polygone.perimetre}$ $${polygone.unite}$.<br>
        L'équation suivante permet donc de résoudre le problème : <br>
        ${texte_en_couleur(`$${polygone.nb_cotes}\\times$ ${polygone.let_cote} $= ${polygone.perimetre}$.`)}`
      })

			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
 * Graphiques_et_proportionnalite
 * 4P10-1
 * @author Sébastien Lozano
 */
function Graphiques_et_proportionnalite() {
  'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème de proportionnalité à l'aide d'un graphique";
	this.consigne = "";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 1.5 : this.spacing = 1; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // on prévoit un peu d'aléatoire pour les prix unitaires
      let pu_oranges = choice([1.2,1.4,1.6,1.8]);
      let pu_baguettes = choice([0.6,0.8,1.2]);
      // on prévoit un tableau avec des situations
      let situations = [
        {lieu:`l'épicerie`,prenom:prenom(),articles:`oranges`,art_articles:`d'oranges`,prix_unitaire:pu_oranges,qte:`poids`,qte_max:10,qte2:3,unite:`kg d'`,legendeX:`poids en kg`,legendeY:`prix en €`,fig:{},fig_corr:{}},
        {lieu:`la boulangerie`,prenom:prenom(),articles:`baguettes`,art_articles:`de baguettes`,prix_unitaire:pu_baguettes,qte:`nombre`,qte_max:10,qte2:3,unite:``,legendeX:`quantité`,legendeY:`prix en €`,fig:{},fig_corr:{}}
      ]
      // on en choisit une
      let situation = situations[randint(0,situations.length-1)];    
      let r;
      let xscale=1;
      let yscale=2;
      // on finit les appels
      let mesAppels = [        
        r = repere({
          xmin: 0,
          ymin: 0,
          ymax: situation.qte_max*situation.prix_unitaire+4,
          xmax: situation.qte_max,
          xscale: xscale,
          yscale:yscale,
          legendeX: situation.legendeX,
          legendeY: situation.legendeY,
          grilleSecondaireVisible: true,
          grilleSecondaireDistance : 0.2,
          positionLegendeY:[0.3,situation.qte_max*situation.prix_unitaire+4+0.4]
        }),
      ];
      let f = x => calcul(situation.prix_unitaire*x);
      mesAppels.push(f,courbe(f,0,situation.qte_max,'black',1.5,r));
      // on prépare l'objet figure
      let  fig = mathalea2d(
          {
          xmin : -xscale,
          ymin : -yscale,
          xmax : situation.qte_max/xscale+3,
          ymax : (situation.qte_max*situation.prix_unitaire+4)/2+1,
          pixelsParCm : 40
          },
          mesAppels          
      );
      situation.fig = fig;      

      // on prépare les appels supplémentaires pour la correction
      let mesAppels_corr=mesAppels;
      let A = point(situation.qte_max,0);
      let B = point(situation.qte_max,calcul(situation.qte_max*situation.prix_unitaire/yscale));
      let s1 = segment(A,B,"red");
      s1.epaisseur = 2;
      s1.pointilles = true;
      s1.styleExtremites = `->`;
      let C = point(0,calcul(situation.qte_max*situation.prix_unitaire/yscale));
      let s2 = segment(B,C,"red");
      s2.epaisseur = 2;
      s2.pointilles = true;
      s2.styleExtremites = `->`;

      let D = point(situation.qte2,0);
      let E = point(situation.qte2,calcul(situation.qte2*situation.prix_unitaire/yscale));
      let s3 = segment(D,E,"blue");
      s3.epaisseur = 2;
      s3.pointilles = true;
      s3.styleExtremites = `->`;
      let F = point(0,calcul(situation.qte2*situation.prix_unitaire/yscale));
      let s4 = segment(E,F,"blue");
      s4.epaisseur = 2;
      s4.pointilles = true;
      s4.styleExtremites = `->`;

      // on ajoute les appels pour la correction
      mesAppels_corr.push(
        s1,
        s2,
        s3,
        s4        
      )

      // on prépare l'objet figure correction
      let  fig_corr = mathalea2d(
        {
        xmin : -xscale,
        ymin : -yscale,
        xmax : situation.qte_max/xscale+3,
        ymax : (situation.qte_max*situation.prix_unitaire+4)/2+1,
        pixelsParCm : 40
        },
        mesAppels_corr          
      );
      situation.fig_corr = fig_corr;

   

      // un compteur pour les sous-questions
      let k=0;
      let k_corr=0;

			let enonces = [];
			enonces.push({
        enonce:`
          À ${situation.lieu}, ${situation.prenom} utilise le graphique ci-dessous pour indiquer le prix de ses ${situation.articles} en fonction du ${situation.qte} ${situation.art_articles}.
          <br>${situation.fig}
          <br> ${num_alpha(k++)} Justifier que c'est une situation de proportionnalité à l'aide du graphique.
          <br> ${num_alpha(k++)} Quel est le prix de $${situation.qte_max}$ ${situation.unite}  ${situation.articles}?
          <br> ${num_alpha(k++)} Quel est le prix de $${situation.qte2}$ ${situation.unite}  ${situation.articles}?
          `,
				//question:``,
        correction:`
        <br> ${num_alpha(k_corr++)} Ce graphique est une droite qui passe par l'origine.
        <br> ${texte_en_couleur(`C'est donc bien le graphique d'une situation de proportionnalité.`)}

        <br> ${num_alpha(k_corr++)} Par lecture graphique, en utilisant les pointillés rouges du graphe ci-dessous, ${texte_en_couleur(`$${situation.qte_max}$ ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ €.`)}
        <br> ${situation.fig_corr}
        <br> ${num_alpha(k_corr++)} Pour $${situation.qte2}$ ${situation.unite}  ${situation.articles}, la lecture graphique est moins facile, nous allons détailler deux méthodes.
        <br><br> ${texte_gras(`Première méthode par lecture graphique :`)} 
        <br> Il faut prendre en compte que chaque petit carreau représente $${tex_prix(0.4)}$ € et utiliser les pointillés bleus.
        <br><br> ${texte_gras(`Seconde méthode en calculant une quatrième proportionnelle :`)}
        <br> $${situation.qte_max}$ ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ €
        donc $${situation.qte2}$ ${situation.unite}  ${situation.articles} coûtent : <br> $(${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ € $\\div ${situation.qte_max}$ ${situation.articles} $)\\times (${situation.qte2}$ ${situation.articles})  $= ${tex_prix(calcul(situation.qte2*situation.prix_unitaire))}$ €
        <br><br>${texte_en_couleur(`Quelle que soit la méthode utilisée, ${situation.qte2} ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte2*situation.prix_unitaire))}$ €.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          //texte = `${fig}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	  
}

/** 
 * * Trouver l'erreur dans une equation
 * * 4L15-0
 * @author Sébastien Lozano
 */
function Trouver_erreur_resol_eq_deg1(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 5;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Trouver l'erreur dans une résolution d'équation du premier degré";
	this.consigne = "Trouver l'erreur dans les résolutions suivantes.<br>On ne demande pas de résoudre l'équation.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1,2,3,4,5];			
		} else {
      type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),5]);
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      //on choisit un nom pour l'inconnue
      let variables = ['x','t','u','v','w','y','z'];
      let inc = variables[randint(0,variables.length-1)];
      
      // on choisit les paramètres
      let a = randint(-9,9,[-1,0,1]);
      let b = randint(-9,9,[-1,0,1]);
      let c = randint(-9,9,[-1,0,1,a,-a]);
      let d = randint(-9,9,[-1,0,1]);

      // une fonction pour gérer le signe
      function signeDansEq(nb) {
        if (nb > 0) {
          return {signe:`+`,operation:`soustraire`,chgt_signe:nb};
        } else {
          return {signe:``,operation:`ajouter`,chgt_signe:nb*(-1)};
        };
      };

      // une fonction pour gérer le genre du prénom et le pronom associé
      function genreEtPrenom() {
        let n = randint(0,1);
        if (n==0) {
          return {prenom:prenomM(),pronom:`il`};
        } else {
          return {prenom:prenomF(),pronom:`elle`};
        };
      };

      // deux fonctionx pour conditionner la simplification d'une fraction
      function isSimp(n,d){
        if (fraction_simplifiee(n,d)[0]!=n) {
          return true;
        } else {
          return false;
        };
      };

      function simpFrac(n,d) {  
        if (isSimp(n,d)) {
          if (fraction_simplifiee(n,d)[1]==1) {
            return `$= ${fraction_simplifiee(n,d)[0]}$`;
          } else if (fraction_simplifiee(n,d)[0]==0) {  
            return `$ = 0`;
          } else {         
            return `$= \\dfrac{${fraction_simplifiee(n,d)[0]}}{${fraction_simplifiee(n,d)[1]}}$`;
          };
        } else {
          if (fraction_simplifiee(n,d)[1]==1) {
            return `$= ${fraction_simplifiee(n,d)[0]}$`;
          } else if (fraction_simplifiee(n,d)[0]==0) {  
            return `$ = 0$`;
          } else {         
            return ` `; 
          };          
        }  
      };


      let currentGenreEtPrenom = genreEtPrenom();



      // pour les situations
      let situations = [
        {//case 1 --> ax+b=d+cx  erreur à l'étape 1 on passe cx de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} ${signeDansEq(b).signe} ${b} = ${d} $`,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b} $`,
          et3:`${texte_gras(`Étape 3 :`)} $${a+c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b} $`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(-b).signe} ${-b}}{${a+c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d-b}}{${a+c}}$ ${simpFrac(d-b,a+c)}`,
          err:`
            L'erreur se situe à l'étape 1.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(c).signe} ${c}${inc}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(c).operation} $${signeDansEq(c).chgt_signe}${inc}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,          
          eq_corr_et1:`
          ${texte_gras(`Étape 1 : `)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres. 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} 
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres. 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres.
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 2 --> ax+b=d+cx  erreur à l'étape 2 on passe b de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,// l'erreur est là on passe de l'autre côté
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(b).signe} ${b}}{${a-c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d+b}}{${a-c}}$ ${simpFrac(d+b,a-c)}`,
          err:`
            L'erreur se situe à l'étape 2.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(b).signe} ${b}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(b).operation} $${signeDansEq(b).chgt_signe}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,          
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $ ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} 
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 3 --> ax+b=cx+d  erreur à l'étape 2 on passe cx de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,// l'erreur est là on passe de l'autre côté
          et3:`${texte_gras(`Étape 3 :`)} $${a+c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(-b).signe} ${-b}}{${a+c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d-b}}{${a+c}}$ ${simpFrac(d-b,a+c)}`,
          err:`
            L'erreur se situe à l'étape 2.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(c).signe} ${c}${inc}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(c).operation} $${signeDansEq(c).chgt_signe}${inc}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 4 --> ax+b=cx+d  erreur à l'étape 1 on passe b de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(b).signe} ${b}$`,// l'erreur est là on passe de l'autre côté
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(b).signe} ${b}}{${a-c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d+b}}{${a-c}}$ ${simpFrac(d+b,a-c)}`,
          err:`
            L'erreur se situe à l'étape 1.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(b).signe} ${b}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(b).operation} $${signeDansEq(b).chgt_signe}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 5 --> ax+b=cx+d  erreur à l'étape 4 on soustrait au lieu de diviser
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = ${d} ${signeDansEq(-b).signe} ${-b} - ${ecriture_parenthese_si_negatif(a-c)} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = ${d-b-a+c}$`,
          err:`
            L'erreur se situe à l'étape 4.
            <br>${currentGenreEtPrenom.prenom} soustrait le coefficient de ${inc} au lieu de diviser par ce coefficient.
            <br>Or $${a-c}${inc}$ représente la multiplication $${a-c}\\times ${inc}$, et l'opération inverse de la multiplication c'est la division et non la soustraction.
            <br>Ici il faut diviser les deux membres par $${a-c}$.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
  
      ];



      let enonces = [];
      for (let k=0;k<5;k++) {
        enonces.push({
        enonce:`
          ${situations[k].prenom} doit résoudre l'équation suivante : ${situations[k].eq}.
          <br> Voilà ce qu'${situations[k].pronom} écrit :
          <br>${situations[k].et1}
          <br>${situations[k].et2}
          <br>${situations[k].et3}
          <br>${situations[k].et4}
          <br>${situations[k].et_fin}
        `,
				question:``,
        correction:`
        ${situations[k].err}
        <br>
        ${texte_gras(`=== Voici une proposition de résolution détaillée : ===`)}         
        <br>${situations[k].eq_corr}
        <br>${situations[k].eq_corr_et1}
        <br>${situations[k].eq_corr_et2}
        <br>${situations[k].eq_corr_et3}
        `
      });
    };
		
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte += `
             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 3 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          break;				
        case 4 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
         case 5 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;				

			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/** 
 * * Dessiner selon un programme scratch
 * * 4Algo1-0
 * @author Sébastien Lozano
 */
function Tracer_avec_scratch(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Dessiner avec scratch";
  //this.consigne = "Dessiner la figure qui va être tracée avec le script fourni.";
  this.consigne = "Laquelle des 4 figures ci-dessous va être tracée avec le script fourni ?";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
  //sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;
  
  this.liste_packages = "scratch3";

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // une fonction pour gérer la sortie HTML/LaTeX
      // code est un string contenant le code svg ou tikz
      function scratchblocks_Tikz(code_svg,code_tikz) {
        if (sortie_html) {
          return code_svg;
        } else {
          return code_tikz;
        };
      };

    // une fonction pour dire le nom du polygone
    function myPolyName(n) {
      let sortie = {
        name: ``,
        nameParSommets: ``,
        nb_pas:``
      };
      switch (n) {
        case 2:
          sortie.name=`segment`;
          sortie.nameParSommets = `AB`;
          sortie.nb_pas = 400;
        case 3:
          sortie.name = `triangle équilatéral`;
          sortie.nameParSommets = `ABC`;
          sortie.nb_pas = 400;
          break;
        case 4:
          sortie.name = `carré`;
          sortie.nameParSommets = `ABCD`;
          sortie.nb_pas = 400;
          break;
        case 5:
          sortie.name = `pentagone régulier`;
          sortie.nameParSommets = `ABCDE`;
          sortie.nb_pas = 300;
          break;
        case 6:
          sortie.name = `hexagone régulier`;
          sortie.nameParSommets = `ABCDEF`;
          sortie.nb_pas = 250;
          break;
        case 7:
          sortie.name = `heptagone régulier`;
          sortie.nameParSommets = `ABCDEFG`;
          sortie.nb_pas = 200;
          break;
        case 8:
          sortie.name = `octogone régulier`;
          sortie.nameParSommets = `ABCDEFGH`;
          sortie.nb_pas = 200;
          break;
        case 9:
          sortie.name = `ennéagone régulier`;
          sortie.nameParSommets = `ABCDEFGHI`;
          sortie.nb_pas = 200;
          break;

      }
      return sortie;
    }


      // on définit le nombre de côtés du polygone régulier
      let n = randint(3,8,[7]);

      let situations = [
        {//polygones réguliers
          nb_cotes:n,
          nom:myPolyName(n).name,
          code_svg:`
          <pre class='blocks'>
          quand le drapeau vert pressé
          stylo en position d'écriture
          répéter (${n}) fois
            avancer de (${myPolyName(n).nb_pas}) pas
            tourner droite de ((360)/(${n})) degrés
          fin                  
          </pre>          
          `,
          code_tikz:`
          \\begin{scratch}
            \\blockinit{quand \\greenflag est cliqué}
            \\blockpen{stylo en position d’écriture}
            \\blockrepeat{répéter \\ovalnum{${n}} fois}
              {
                \\blockmove{avancer de \\ovalnum{${myPolyName(n).nb_pas}}}
                \\blockmove{tourner \\turnright{} de \\ovaloperator{\\ovalnum{360}/\\ovalnum{${n}}} degrés}
              }
          \\end{scratch}
          `,
          fig:``,
          fig_corr:``,
        },
      ];
      // on prépare la fenetre mathalea2d
      let fenetreMathalea2D = {xmin:-4,ymin:-10,xmax:30,ymax:2,pixelsParCm:20,scale:0.5}
  //    if (sortie_html) {
        pixelsParCm = 100;
        unitesLutinParCm = 100;
      // } else {
      //   pixelsParCm = 200;
      //   unitesLutinParCm = 200;  
      // }
      // on prépare un tableau avec l'abscisse de démarrage du lutin pour tracer le figures
      // ce tableau permettra de placer aléatoirement la bonne figure et de la refaire en rouge ?
      let tab_abs_dem_lutin2; 
      if (n==6) {
        tab_abs_dem_lutin2 = [0,3*myPolyName(n).nb_pas,6*myPolyName(n).nb_pas,9*myPolyName(n).nb_pas]       
      } else if (n==8) {
        tab_abs_dem_lutin2 = [0,4*myPolyName(n).nb_pas,8*myPolyName(n).nb_pas,12*myPolyName(n).nb_pas]       
      } else {
        tab_abs_dem_lutin2 = [0,2*myPolyName(n).nb_pas,4*myPolyName(n).nb_pas,6*myPolyName(n).nb_pas]       
      };
      // on mélange tout ça !
      tab_abs_dem_lutin2 = shuffle(tab_abs_dem_lutin2);
      // Les figures de l'énoncé         
      // le lutin2  trace le cadre en pointillés
      let lutin2=creerLutin();
      lutin2.color="black";
      lutin2.pointilles=true;
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      baisseCrayon(lutin2);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      leveCrayon(lutin2);
      //le lutin2 fait la bonne figure
      lutin2.pointilles = false;
      lutin2.color="blue";
      allerA(tab_abs_dem_lutin2[0],0,lutin2);
      baisseCrayon(lutin2);      
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin2);
        tournerD(calcul(360/n),lutin2);
      };
      // le lutin2 fait un polygone régulier avec un côté de plus 
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[1],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n+1+1; k++) {
        avance(myPolyName(n+1).nb_pas,lutin2);
        tournerD(calcul(360/(n+1)),lutin2);
      };

      // le lutin2 fait un polygone régulier avec un côté de moins 
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[2],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n; k++) {
        avance(myPolyName(n-1).nb_pas,lutin2);
        tournerD(calcul(360/(n-1)),lutin2);
      };

      // le lutin2 fait une figure ouverte à n côtés
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[3],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin2);
        tournerD(calcul((360/n)-10),lutin2);
      };
      allerA(tab_abs_dem_lutin2[3],0,lutin2);

      let mesAppels_enonce = [
        lutin2,
      ]
      situations[0].fig = mathalea2d(
        fenetreMathalea2D,
        mesAppels_enonce
        );

      // les figures de la correction
      // le lutin3  trace le cadre
      let lutin3=creerLutin();
      lutin3.color="black";
      lutin3.pointilles=true;
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      baisseCrayon(lutin3);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      leveCrayon(lutin3);
      // le lutin3 fait la bonne figure      
      lutin3.pointilles = false;
      lutin3.color="green"
      allerA(tab_abs_dem_lutin2[0],0,lutin3);
      baisseCrayon(lutin3);      
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin3);
        tournerD(calcul(360/n),lutin3);
      };
      // le lutin3 fait un polygone régulier avec un côté de plus 
      lutin3.color="red";
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[1],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n+1+1; k++) {
        avance(myPolyName(n+1).nb_pas,lutin3);
        tournerD(calcul(360/(n+1)),lutin3);
      };

      // le lutin3 fait un polygone régulier avec un côté de moins 
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[2],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n; k++) {
        avance(myPolyName(n-1).nb_pas,lutin3);
        tournerD(calcul(360/(n-1)),lutin3);
      };

      // le lutin3 fait une figure ouverte à n côtés
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[3],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin3);
        tournerD(calcul((360/n)-10),lutin3);
      };
      allerA(tab_abs_dem_lutin2[3],0,lutin3);
      
      let mesAppels_corr = [
        lutin3,
      ]
      situations[0].fig_corr = mathalea2d(
        fenetreMathalea2D,
        mesAppels_corr
        );


			let enonces = [];
			enonces.push({
        enonce:`
        ${scratchblocks_Tikz(situations[0].code_svg,situations[0].code_tikz)}
        <br> 
        ${situations[0].fig}
        `,
				question:``,
        correction:`
        <br> Les figures rouges sont erronées.
        <br> La figure tracée par le programme a ${situations[0].nb_cotes} côtés de même longueur et ${situations[0].nb_cotes} angles de même mesure, c'est un ${situations[0].nom}.
        <br>${texte_en_couleur(`La bonne figure est donc la figure verte.`)}
        <br><br>
        ${situations[0].fig_corr}
        `
      });
      enonces.push({
				enonce:`énoncé type 2`,
				question:``,
        correction:`${texte_en_couleur(`correction type2`)}`
      });

			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[0].correction}`;
          };
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
* Effectuer une division entre 2 nombres relatifs écrite sous la forme d'une fraction.
*
* * On peut choisir de n'avoir que des tables de multiplications, par défaut il y a aussi des divisions simples par 2, 3 ou 4
* @Auteur Rémi Angot
* 4C10-4
*/
function Exercice_quotients_relatifs(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Quotient de deux entiers relatifs"
	this.consigne = 'Calculer'
  this.spacing = 2;
  this.nb_questions = 6;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = combinaison_listes(['-+','+-','--','++'],this.nb_questions);
    let liste_type_de_nombres = combinaison_listes(['tables','horstables'],this.nb_questions);
    if (this.sup){
      liste_type_de_nombres = combinaison_listes(['tables'],this.nb_questions);
    }
		for (let i = 0, a, b, q, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (liste_type_de_nombres[i]=='tables'){
        b = randint(2,9);
        a = b * randint(2,9);
      } else {
        b = choice([11,12,13,14,15,16,20,60,80]);
        a = b * randint(2,4)
      }
      switch (liste_type_de_questions[i]) {
        case '-+':
          a *= -1;
          break;
        case '+-':
          b *= -1;
          break;
        case '--':
          a *= -1;
          b *= -1;
        default:
          break;
      }
      texte = `$\\dfrac{${a}}{${b}}$`
      texte_corr = `$\\dfrac{${a}}{${b}}=${calcul(a/b)}$`
				
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_case_a_cocher = ['Utiliser seulement les tables de multiplications de 2 à 9'];		
}

/**
* Effectuer des multiplications de relatifs dans un tableau à double entrée
*
* @Auteur Rémi Angot
* 4C10-5
*/
function Exercice_tableau_multiplications_relatifs (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Multiplications de deux entiers relatifs dans un tableau à double entrée"
	this.consigne = 'Calculer'
  this.spacing = 1;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_signes1 = combinaison_listes([-1,1],4);
    let liste_signes2 = combinaison_listes([-1,1],4);
    let a1 = randint(2,9);
    let a2 = randint(2,9,a1);
    let a3 = randint(2,9,[a1,a2]);
    let a4 = randint(2,9,[a1,a2,a3]);
    let b1 = randint(2,9);
    let b2 = randint(2,9,b1);
    let b3 = randint(2,9,[b1,b2]);
    let b4 = randint(2,9,[b1,b2,b3]);
    a1 *= liste_signes1[0]
    a2 *= liste_signes1[1]
    a3 *= liste_signes1[2]
    a4 *= liste_signes1[3]
    b1 *= liste_signes1[0]
    b2 *= liste_signes1[1]
    b3 *= liste_signes1[2]
    b4 *= liste_signes1[3]

    let texte = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    \\times & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} &  &  & &  \\\\
    \\hline
    ${ecriture_algebrique(b2)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b3)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b4)} & & & & \\\\
    \\hline
    \\end{array}$`

    let texte_corr = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    \\times & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} & ${ecriture_algebrique(a1*b1)} & ${ecriture_algebrique(a2*b1)} & ${ecriture_algebrique(a3*b1)} & ${ecriture_algebrique(a4*b1)} \\\\
    \\hline
    ${ecriture_algebrique(b2)} & ${ecriture_algebrique(a1*b2)} & ${ecriture_algebrique(a2*b2)} & ${ecriture_algebrique(a3*b2)} & ${ecriture_algebrique(a4*b2)} \\\\
    \\hline
    ${ecriture_algebrique(b3)} & ${ecriture_algebrique(a1*b3)} & ${ecriture_algebrique(a2*b3)} & ${ecriture_algebrique(a3*b3)} & ${ecriture_algebrique(a4*b3)} \\\\
    \\hline
    ${ecriture_algebrique(b4)} & ${ecriture_algebrique(a1*b4)} & ${ecriture_algebrique(a2*b4)} & ${ecriture_algebrique(a3*b4)} & ${ecriture_algebrique(a4*b4)} \\\\
    \\hline
    \\end{array}$`
    this.liste_questions.push(texte);
	  this.liste_corrections.push(texte_corr);
	  liste_de_question_to_contenu(this);
    
	}
}


/**
 * Plusieurs type de calcul avec des entiers.
 *
 * Sans parenthèses :
 * * a+b*c
 * * a+b÷c
 * * a/b*c
 * * a*b÷c
 * * a*b+c
 * * a-b+c
 * * a+b+c*d
 * * a*b+c*d
 * * a*b*c+d
 * * a*b-c÷d
 * * a*b+c÷d
 *
 * Avec parenthèses :
 * * a*(b-c)
 * * (a-b)*c
 * * (a-b)÷c
 * * a÷(b+c)
 * * (a-b)÷c
 * * a*(b-c)*d
 * * a*b*(c-d)
 * * a*(b-c*d)
 * * (a+b*c)÷d
 * * a*(b-c*d)
 * * a*b÷(c+d)
 * * a*(b÷c+d)
 * * a-(b+c)
 * * (a+b+c)*d
 * @Auteur Rémi Angot
 * 4C11
 */
function Priorites_et_relatifs() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculs utilisant les priorités opératoires";
  this.consigne = "Calculer";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup == 1) {
      liste_questions_disponibles = range1(11);
    } else if (this.sup == 2) {
      liste_questions_disponibles = range1(20, range1(11));
    } else {
      liste_questions_disponibles = range1(20);
    }
    let liste_type_de_questions = combinaison_listes(
      liste_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, a, b, c, d, signes, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: //a+b*c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]); 
          }
          texte = `$${a}${ecriture_algebrique(b)}\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${a}${mise_en_evidence('~' + ecriture_algebrique(b) + "\\times" + ecriture_parenthese_si_negatif(c))}=${a}${ecriture_algebrique(b * c)
          }=${a + b * c}$`;
          break;
        case 2: //a+b/c
          a = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          b = c * randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            b = c * randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}${ecriture_algebrique(b)}\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${a}${mise_en_evidence('~' + ecriture_algebrique(b) + "\\div" + ecriture_parenthese_si_negatif(c))}=${a}${
            ecriture_algebrique(b/c)
          }=${a + b / c}$`;
          break;
        case 3: //a/b*c
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          a = b * randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            a = b * randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\div${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\div" + ecriture_parenthese_si_negatif(b))}\\times${ecriture_parenthese_si_negatif(c)}=${
            a / b
          }\\times${ecriture_parenthese_si_negatif(c)}=${(a / b) * c}$`;
          break;
        case 4: // a*b/c
          if (choice([true, false])) {
            //a est un multiple de c
            c = randint(2, 6)*choice([-1,1]);
            a = c * randint(2, 5)*choice([-1,1]);
            b = randint(2, 6)*choice([-1,1]);
            while (a>0 && b>0 && c>0) {
              c = randint(2, 6)*choice([-1,1]);
              a = c * randint(2, 5)*choice([-1,1]);
              b = randint(2, 6)*choice([-1,1]);
            }
          } else {
            // b est un multiple de c
            c = randint(2, 6)*choice([-1,1]);
            b = c * randint(2, 5)*choice([-1,1]);
            a = randint(2, 6)*choice([-1,1]);
            while (a>0 && b>0 && c>0) {
              c = randint(2, 6)*choice([-1,1]);
              b = c * randint(2, 5)*choice([-1,1]);
              a = randint(2, 6)*choice([-1,1]);
            }
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}\\div${ecriture_parenthese_si_negatif(c)}=${
            a * b
          }\\div${ecriture_parenthese_si_negatif(c)}=${(a * b) / c}$`;
          break;
        case 5: //a*b+c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}${ecriture_algebrique(c)}=${
            a * b
          }${ecriture_algebrique(c)}=${a * b + c}$`;
          break;
        case 6: //a-b+c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}-(${ecriture_algebrique(b)})${ecriture_algebrique(c)}$`;
          texte_corr = `$${a}${mise_en_evidence(ecriture_algebrique(-b))}${ecriture_algebrique(c)}=${a - b}${ecriture_algebrique(c)}=${
            a - b + c
          }$`;
          break;
        case 7: //a+b+c*d
          a = randint(2, 20)*choice([-1,1]);
          b = randint(2, 20)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 20)*choice([-1,1]);
            b = randint(2, 20)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${a}${ecriture_algebrique(b)}${mise_en_evidence(
            ecriture_algebrique(c) + "\\times" + ecriture_parenthese_si_negatif(d)
          )}=${a}${ecriture_algebrique(b)}${ecriture_algebrique(c * d)}=${a + b + c * d}$`;
          break;
        case 8: //a*b+c*d
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 20)*choice([-1,1]);
            b = randint(2, 20)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${
            a + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(b)
          }${ecriture_algebrique(c) + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(d)}=${a * b}${ecriture_algebrique(c * d)}=${
            a * b + c * d
          }$`;
          break;
        case 9:  //a*b*c+d
          a = randint(2, 5)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]);
          c = randint(2, 5)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 5)*choice([-1,1]);
            b = randint(2, 5)*choice([-1,1]);
            c = randint(2, 5)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + ecriture_parenthese_si_negatif(b)
          )}\\times${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)}=${mise_en_evidence(a * b + "\\times" + ecriture_parenthese_si_negatif(c))}${ecriture_algebrique(d)}
          =${a * b * c}${ecriture_algebrique(d)}
          =${a * b * c + d}$`;
          break;
        case 10: 
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          c = d * randint(2, 8)*choice([-1,1]);
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}\\div${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${
            a + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(b)
          + ecriture_algebrique(c) + mise_en_evidence("\\div") + ecriture_parenthese_si_negatif(d)}=${a * b}${ecriture_algebrique(c/d)}=${
            a * b + c / d
          }$`;
          break;
        case 11: // a*(b+c)
          a = randint(2, 11)*choice([-1,1]);
          b = randint(1, 11)*choice([-1,1]);
          c = randint(1, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            a = randint(2, 11)*choice([-1,1]);
            b = randint(1, 11)*choice([-1,1]);
            c = randint(1, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}\\times${ecriture_parenthese_si_negatif(b+c)}=${a * (b + c)}$`;
          break;
        case 12: // (a+b)*c
        a = randint(1, 11)*choice([-1,1]);
        b = randint(1, 11)*choice([-1,1]);
        c = randint(2, 11)*choice([-1,1]);
        while (a>0 && b>0 && c>0){
          a = randint(1, 11)*choice([-1,1]);
          b = randint(1, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
        }
          texte = `$(${a}${ecriture_algebrique(b)})\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$(${mise_en_evidence(a + ecriture_algebrique(b))})\\times${ecriture_parenthese_si_negatif(c)}=${
            a + b }\\times${ecriture_parenthese_si_negatif(c)}=${(a + b) * c}$`;
          break;
        case 13: // (a+b)/c
          c = randint(2, 11)*choice([-1,1]);
          b = randint(11, 39)*choice([-1,1]);
          a = c * randint(2, 9)*[choice([-1,1])] - b;
          while (a>0 && b>0 && c>0) {
            c = randint(2, 11)*choice([-1,1]);
            b = randint(11, 39)*choice([-1,1]);
            a = c * randint(2, 9)*[choice([-1,1])] - b;
          }
          texte = `$(${a}${ecriture_algebrique(b)})\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$(${mise_en_evidence(a  + ecriture_algebrique(b))})\\div${ecriture_parenthese_si_negatif(c)}=${
            a + b
          }\\div${ecriture_parenthese_si_negatif(c)}=${(a + b) / c}$`;
          break;
        case 14: // a/(b+c)
          b = randint(2, 5)*choice([-1,1]);
          c = randint(2, 6)*choice([-1,1]);
          a = (b + c) * randint(2, 9)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            b = randint(2, 5)*choice([-1,1]);
            c = randint(2, 6)*choice([-1,1]);
            a = (b + c) * randint(2, 9)*choice([-1,1]);
          }
          texte = `$${a}\\div(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}\\div(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}\\div${
            ecriture_parenthese_si_negatif(b + c)}=${a / (b + c)}$`;
          break;
        case 15: // a(b+c)*d
          c = randint(11, 39)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]) - c;
          a = randint(2, 5)*choice([-1,1]);
          d = randint(2, 5)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0){
            c = randint(11, 39)*choice([-1,1]);
            b = (randint(2, 5) - c)*choice([-1,1]);
            a = randint(2, 5)*choice([-1,1]);
            d = randint(2, 5)*choice([-1,1]);
          }
          texte = `$${a}\\times(${b}${ecriture_algebrique(c)})\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(b + ecriture_algebrique(c))})\\times${ecriture_parenthese_si_negatif(d)}=${a}\\times${ecriture_parenthese_si_negatif(b + c)}\\times${ecriture_parenthese_si_negatif(d)}=${a * (b + c) * d}$`;
          break;
        case 16: //a*b*(c+d)
          d = randint(11, 39)*choice([-1,1]);
          c = randint(2, 5)*choice([-1,1])-d;
          a = randint(2, 5)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            d = randint(11, 39)*choice([-1,1]);
            c = randint(2, 5)*choice([-1,1])-d;
            a = randint(2, 5)*choice([-1,1]);
            b = randint(2, 5)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times(${c}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times(${mise_en_evidence(
            c + ecriture_algebrique(d))})=${a}\\times${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c+d)}=${a * b * (c + d)}$`;
          break;
        case 17: // a*(b/c+d)
          a = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          b = c * randint(2, 5)*choice([-1,1]);
          d = randint(2, 6)*choice([-1,1]);
          texte = `$${a}\\times(${b}\\div${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `\\div` + ecriture_parenthese_si_negatif(c)
          )}${ecriture_algebrique(d)})=${a}\\times(${mise_en_evidence(
            b / c + ecriture_algebrique(d)
          )})=${a}\\times${ecriture_parenthese_si_negatif(b / c + d)}=${a * (b / c + d)}$`;
          break;
          case 18: //a*b/(c+d)
          a = randint(2, 11);
          b = randint(2, 11);
          while (liste_des_diviseurs(a * b).length < 5) {
            a = randint(2, 11);
            b = randint(2, 11);
          }
          let liste = liste_des_diviseurs(a * b);
          if (liste.length > 2) {
            liste.pop(); //on supprime le plus grand diviseur qui est le produit
            enleve_element(liste, a); //on supprime a
            enleve_element(liste, b); //on supprime b

          }
          let somme = choice(liste, [1])*choice([-1,1]); // la somme doit être un diviseur différent de 1
          c = randint(-30, 30,[0]);
          d = somme - c;
          
          while (a>0 && b>0 && c>0 && d>0) {
            a *= choice([-1,1]);
            b *= choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div(${c}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div(${mise_en_evidence(
            c + ecriture_algebrique(d))})=${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}\\div${ecriture_parenthese_si_negatif(c+d)}=${
            a * b
          }\\div${ecriture_parenthese_si_negatif(c + d)}=${(a * b) / (c + d)}$`;
          break;
        case 19: // a-(b+c)
          a = randint(1, 9)*choice([-1,1]);
          b = randint(1, 9)*choice([-1,1]);
          c = randint(1, 9)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            a = randint(1, 9)*choice([-1,1]);
            b = randint(1, 9)*choice([-1,1]);
            c = randint(1, 9)*choice([-1,1]);
          }
          texte = `$${a}-(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}-(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}-(${ecriture_algebrique(b+c)})=${a+ecriture_algebrique(-b-c)}=${a-b-c}$`;
          break;
        case 20: // (a+b+c)*d
          a = randint(1, 9)*choice([-1,1]);
          b = randint(1, 9)*choice([-1,1]);
          c = randint(1, 9)*choice([-1,1]);
          d = randint(2,5)*choice([-1,1])
          while (a>0 && b>0 && c>0){
            a = randint(1, 9)*choice([-1,1]);
            b = randint(1, 9)*choice([-1,1]);
            c = randint(1, 9)*choice([-1,1]);
          }
          texte = `$(${a+ecriture_algebrique(b)+ecriture_algebrique(c)})\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$(${mise_en_evidence(a+ecriture_algebrique(b)+ecriture_algebrique(c))})\\times${ecriture_parenthese_si_negatif(d)}=${a+b+c}\\times${ecriture_parenthese_si_negatif(d)}=${(a+b+c)*d} $`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de calculs",
    3,
    "1 : Sans opérations entre parenthèses\n2: Avec des opérations entre parenthèses\n3: Avec ou sans opérations entre parenthèses",
  ];
}

/**
 * Exercices sur le théorème de Pythagore avec MathALEA2D
 * @Auteur Rémi Angot
 * 4G20
 */
function Pythagore2D() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer une longueur avec le théorème de Pythagore";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 1;
  type_exercice = 'Calculer'

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = [];
    if (this.sup==1) {
      this.consigne = "Dans chaque cas, donner l'égalité de Pythagore."
    } else if (this.sup==2){
      this.consigne = "Dans chaque cas, compléter l'égalité en utilisant le théorème de Pythagore."
    } else {
         this.consigne = "Dans chaque cas, calculer la longueur manquante."
    }
    if (this.sup == 2 || type_exercice == 'Calculer' ){
      liste_type_de_questions = combinaison_listes(['AB','BC','AC'],this.nb_questions) 
    }
    for (let i = 0, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt < 50;)
     {
      texte = '';
      texte_corr = '';
      let A1 = point(0,0)
      let B1 = point(calcul(randint(22,50)/10),0)
      let C1 = similitude(B1,A1,90,calcul(randint(22,50)/10)/longueur(A1,B1))
      let p1 = polygone(A1,B1,C1)
      p1.isVisible = false
      let p2 = rotation(p1,A1,randint(0,360))
      let A = p2.listePoints[0]
      let B = p2.listePoints[1]
      let C = p2.listePoints[2]
      let codage = codageAngleDroit(B,A,C)
      let xmin = Math.min(A.x,B.x,C.x)-1
      let ymin = Math.min(A.y,B.y,C.y)-1
      let xmax = Math.max(A.x,B.x,C.x)+1
      let ymax = Math.max(A.y,B.y,C.y)+1
      let nomDuPolygone = creerNomDePolygone(3)
      let nomme = nommePolygone(p2,nomDuPolygone)
      let affAB = afficheLongueurSegment(B,A)
      let affAC = afficheLongueurSegment(A,C)
      let affBC = afficheLongueurSegment(C,B)
      let longueurAB = longueur(A,B,1)
      let longueurAC = longueur(A,C,1)
      let longueurBC = longueur(B,C,1)
      let mesObjetsATracer = [codage,p2,nomme]

      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='AB'){
        mesObjetsATracer.push(affAC,affBC)
      }
      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='BC'){
        mesObjetsATracer.push(affAC,affAB)
      }
      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='AC'){
        mesObjetsATracer.push(affAB,affBC)
      }

      if (!sortie_html) {texte = '~\\\\'}
      texte += mathalea2d({xmin:xmin, xmax:xmax, ymin:ymin, ymax:ymax, scale:.6},mesObjetsATracer) ;
      if (this.sup==2){
        if (liste_type_de_questions[i]=='AB'){
          texte += `<br>$${A.nom+B.nom}^2=\\ldots$`
        }
        if (liste_type_de_questions[i]=='BC'){
          texte += `<br>$${B.nom+C.nom}^2=\\ldots$`
        }
        if (liste_type_de_questions[i]=='AC'){
          texte += `<br>$${A.nom+C.nom}^2=\\ldots$`
        }
      }
      if (!sortie_html && i!=this.nb_questions-1) {texte += '\\columnbreak'} //pour la sortie LaTeX sauf la dernière question
      
      texte_corr = `Le triangle $${nomDuPolygone}$ est rectangle en $${A.nom}$ donc d'après le théorème de Pythagore, on a : `;
      texte_corr += `$${B.nom+C.nom}^2=${A.nom+B.nom}^2+${A.nom+C.nom}^2$`
      if (this.sup==2){
        if (liste_type_de_questions[i]=='AB'){
          texte_corr += ` d'où $${A.nom+B.nom}^2=${B.nom+C.nom}^2-${A.nom+C.nom}^2$.`
        }
        if (liste_type_de_questions[i]=='BC'){
          texte_corr += `.`
        }
        if (liste_type_de_questions[i]=='AC'){
          texte_corr += ` d'où $${A.nom+C.nom}^2=${B.nom+C.nom}^2-${A.nom+B.nom}^2$.`
        }
      }
      if (type_exercice == "Calculer"){
        if (liste_type_de_questions[i]=='AB'){
          texte_corr += ` donc $${A.nom+B.nom}^2=${B.nom+C.nom}^2-${A.nom+C.nom}^2$`
          texte_corr += `<br> $${A.nom+B.nom}^2=${tex_nombre(longueurBC)}^2-${tex_nombre(longueurAC)}^2=${tex_nombrec(longueurBC**2-longueurAC**2)}$`
          if (calcul(Math.sqrt(longueurBC**2-longueurAC**2),1)==calcul(Math.sqrt(longueurBC**2-longueurAC**2),2)){
            texte_corr += `<br> $${A.nom+B.nom}=${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAC**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${A.nom+B.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAC**2),1))}$ cm.`
          }
        }
        if (liste_type_de_questions[i]=='BC'){
          texte_corr += `<br> $${B.nom+C.nom}^2=${tex_nombre(longueurAB)}^2+${tex_nombre(longueurAC)}^2=${tex_nombrec(longueurAB**2+longueurAC**2)}$`
          if (calcul(Math.sqrt(longueurAB**2+longueurAC**2),1)==calcul(Math.sqrt(longueurAB**2+longueurAC**2),2)){
            texte_corr += `<br> $${B.nom+C.nom}=${tex_nombre(calcul(Math.sqrt(longueurAB**2+longueurAC**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${B.nom+C.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurAB**2+longueurAC**2),1))}$ cm.`
          }
        }
        if (liste_type_de_questions[i]=='AC'){
          texte_corr += ` donc $${A.nom+C.nom}^2=${B.nom+C.nom}^2-${A.nom+B.nom}^2$`
          texte_corr += `<br> $${A.nom+C.nom}^2=${tex_nombre(longueurBC)}^2-${tex_nombre(longueurAB)}^2=${tex_nombrec(longueurBC**2-longueurAB**2)}$`
          if (calcul(Math.sqrt(longueurBC**2-longueurAB**2),1)==calcul(Math.sqrt(longueurBC**2-longueurAB**2),2)){
            texte_corr += `<br> $${A.nom+C.nom}=${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAB**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${A.nom+C.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAB**2),1))}$ cm.`
          }
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Donner l'égalité de Pythagore\n2 : Compléter l'égalité de Pythagore\n3 : Calculer une longueur manquante"];
}
// 4G20-1
function Egalite_Pythagore2D(){
  Pythagore2D.call(this);
  this.titre = "Donner ou compléter une égalité de Pythagore"
  this.sup = 1;
  type_exercice = ''
  this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Donner l'égalité de Pythagore\n2 : Compléter l'égalité de Pythagore"];

}var liste_des_exercices_disponibles = {
  "CM000": Tables_additions_soustractions,
  "CM001": Tables_de_multiplications,
  "CM002": Tables_de_divisions,
  "CM003": Tables_de_multiplications_et_divisions,
  "CM004": Quatre_operations,
  "CM005": Ajouter9,
  "CM006": Soustraire9,
  "CM007": Ajouter11,
  "CM008": Soustraire11,
  "CM009": Moitie,
  "CM010": Tiers,
  "CM011": Quart,
  "CM012": Complement_a_100,
  "CM013": Complement_a_une_dizaine,
  "CM014": Double_moitie_tiers_triple,
  "CM015": Somme_de_deux_nombres_maries,
  "CM016": Diviser_par_10_100_1000,
  "CM017": Diviser_decimal_par_10_100_1000,
  "CM018": Somme_de_deux_nombres_maries_et_un_entier,
  "CM019": Le_compte_est_bonV3,
  "CM020": Le_compte_est_bonV4,
  "CM021": Compte_Est_Bon,
  "c3C10-1" : Tables_de_multiplications,
  "c3C10-4" : Exercice_tables_d_additions_cycle3,
  "c3C11" : Division_cycle3,
  "c3N10" : Ecrire_entiers_cycle3,
  "6C10": Additions_soustractions_multiplications_posees,
  "6C11": Divisions_euclidiennes,
  "6C10-1": Tables_de_multiplications,
  "6C10-2": Exercice_tables_de_multiplications_et_multiples_de_10,
  "6C10-3": Exercice_tables_de_multiplications_et_decimaux,
  "6C10-4": Exercice_tables_d_additions,
  "6C13": Vocabulaire_et_operations,
  "6C20": Additionner_soustraires_decimaux,
  "6C21": Divisions_euclidiennes_niv2,
  "6C23" : Exercice_additionner_des_fractions_6e,
  "6C30": Multiplier_decimaux,
  "6C30-1": Multiplier_decimaux_par_10_100_1000,
  "6C30-2": Produit_de_decimaux_a_partir_d_un_produit_connu,
  "6C31": Division_decimale,
  "6C32": Probleme_course,
  "6C33": Priorites,
  //"6C99" : separation6C,
  "6D10": Conversions_de_durees,
  "6D101": Heures_decimales,
  "6D11": Somme_de_durees,
  "6D12": Calculs_de_durees_ou_d_horaires,
  "6G10": Notation_segment_droite_demi_droite,
  "6G10-1": Description_segment_droite_demi_droite,
  "6G10-2" : Utiliser_le_codage_pour_decrire_6e,
  "6G11": Tracer_des_perpendiculaires,
  "6G12": Tracer_des_paralleles,
  "6G12-1": Tracer_des_perpendiculaires_et_des_paralleles,
  "beta6G14" : Test_main_levee,
  "6G20" : Nommer_et_coder_des_polygones,
  "6G20-2": Vocabulaire_des_triangles_6e,
  "6G21" : Construire_un_triangle_6e,
  "6G23-2": Tracer_triangle_2_angles,
  "6G24": Transformations_6e,
  "6G24-1" : Symetrie_axiale_point_6e,
  "6G24-2" : Symetrie_axiale_figure_6e,
  "6G25-1": Pavages_et_reflexion,
  "6G25-2": Pavages_et_symetries,
  "6G42" : Solide_6e,
  "6G43" : Utiliser_vocabulaire_pave,
  "6M11-1": Perimetre_ou_aire_de_carres_rectangles_triangles,
  "6M11-2": Perimetre_ou_aire_de_figures_composees,
  "6M10": Reglages_6M10,
  "6M12": Reglages_6M12,
  "6M20": Aire_de_triangles,
  "6M22": Reglages_6M22,
  "6M22-1": Perimetre_aire_disques,
  "6M22-2": Perimetre_aire_et_portions_de_disques,
  "6M23": Exercice_conversions_aires,
  "6M25": Connaitre_formules_de_perimetre_et_aires,
  "6M30": Calcul_de_volumes_6e,
  "6M31": Exercice_conversions_volumes,
  "6M31-2": Unites_de_volumes_et_de_capacite,
  "6N10" : Ecrire_nombres_entiers,
  "6N10-1": Exercice_numeration_entier,
  "6N10-2": Decomposition_nombre_decimal,
  "6N10-3": chiffre_nombre_de,
  "beta6N10-4" : Ecrire_nombres_entiers_formates,
  "6N11": Lire_abscisse_entiere,
  "6N11-2": Placer_un_point_abscisse_entiere,
  "6N11-3": Encadrer_un_entier_par_deux_entiers_consecutifs,
  "6N11-4": Ranger_ordre_croissant_decroissant,
  "6N12": Multiplier_entier_par_10_100_1000,
  "6N13": Exercice_6N13,
  "6N14" : Representer_une_fraction,
  "6N20": Exercice_fractions_decomposer,
  "6N20-2": Exercice_fractions_differentes_ecritures,
  "6N21": Lire_abscisse_fractionnaire,
  "6N22" : Ajouter_des_fractions_d_unite,
  "6N22-1" : Rapports_sur_un_segment,
  "6N23": Exercice_ecriture_decimale_a_partir_de_fraction_decimale,
  "beta6N23-0" : Ecrire_nombres_decimal,
  "6N23-1": Exercice_differentes_ecritures_nombres_decimaux,
  "6N24": Exercice_6N24,
  "6N24-1": Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000,
  "6N30": Lire_abscisse_decimale,
  "6N30-1" : Lire_abscisse_decimale_bis,
  "6N30-2": Placer_points_sur_axe,
  "6N31": Comparer_decimaux,
  "6N31-1": Encadrer_un_decimal_par_deux_entiers_consecutifs,
  "6N31-2":Ordre_de_grandeur_operations_decimaux,
  "6N32" :Fractions_d_unite,
  "6N33": Fraction_d_un_nombre,
  "6N33-0" : Fraction_d_une_quantite,
  "6N33-1": Pourcentage_d_un_nombre,
  "6N33-2" : Calculer_un_pourcentage,
  "6N33-3" : Appliquer_un_pourcentage,
  "6N34": Reglages_6N34,
  "6N41": Egalites_entre_fractions,
  "6N43": Criteres_de_divisibilite,
  "6N43-2": Tableau_criteres_de_divisibilite,
  "6P10": Proportionnalite_pas_proportionnalite,
  "6P11": Proportionnalite_par_linearite,
  "6P11-1": Proportionnalite_par_linearite_bis,
  "5A10": Liste_des_diviseurs_5e,
  "5A11": Tableau_criteres_de_divisibilite,
  "5A12-1": Premier_ou_pas_5e,
  "5A13": Exercice_decomposer_en_facteurs_premiers,
  "5C11": Traduire_une_phrase_par_une_expression,
  "5C11-1": Traduire_une_expression_par_une_phrase,
  "5C11-2": Ecrire_une_expression_mathador,
  "5C12": Calculer_une_expression_numerique,
  "5C12-1": Traduire_une_phrase_par_une_expression_et_calculer,
  "5G10": Symetrie_axiale_5e,
  "5G12": Pavages_et_demi_tour,
  "5G11": Transformations_5e,
  "5G10-1" : Symetrie_axiale_point_5e,
  "5G10-2" : Symetrie_axiale_figure_5e,
  "5G11-1" : Symetrie_centrale_point,
  "5G11-2" : Symetrie_centrale_figure,
  "5G21-1": Constructibilite_des_triangles_longueurs,
  "5G20-1": Vocabulaire_des_triangles_5e,
  "5G22": DroiteRemarquableDuTriangle,
  "5G30" : Utiliser_le_codage_pour_decrire_5e,
  "5G31": Exercice_angles_triangles,
  "5G31-1": Constructibilite_des_triangles_angles,
  "5N11-1": Tableaux_et_pourcentages,
  "5N13": Exercice_fractions_simplifier,
  "5N13-2": Egalites_entre_fractions,
  "5N110": Variation_en_pourcentages,
  "5N14": Exercice_comparer_deux_fractions,
  "5N14-2": Exercice_comparer_quatre_fractions,
  "5N20": Exercice_additionner_des_fractions_5e,
  "5N20-2": Exercice_additionner_ou_soustraire_des_fractions_5e,
  "5L10": Ecrire_une_expression_litterale,
  "5L10-1": Traduire_une_phrase_par_une_expression_litterale,
  "5L10-2": Traduire_un_programme_de_calcul,
  "5L10-3": Traduire_une_expression_litterale_par_une_phrase,
  "5L10-4": Tableaux_et_fonction,
  "5N20-0": Problemes_additifs_fractions_5e,
  "5L12": Reduire_une_expression_litterale,
  "5L12-1": Reduire_dinstinction_somme_produit,
  "5L13": Calculer_la_valeur_d_une_expression_litterale,
  "5L13-1": Calculer_une_expression_litterale,
  "5L13-2": Exercice_substituer,
  "5L13-3": Traduire_une_phrase_par_une_expression_litterale_et_calculer,
  "5L13-4": Calculer_une_expression_litteraleBis,
  "5L13-5":Calculer_la_valeur_d_une_expression_litterale_deg1_inc1,
  "5L13-6":Determiner_derniere_operation_exp_num,
  "5L14": Tester_une_egalite,
  "5M10": Aire_du_parallelogramme,
  "5M20": Calcul_de_volumes_5e,
  "5P10": Tableaux_et_proportionnalite,
  "5R10-0": Trouver_oppose,
  "5R11": Lire_abscisse_relative,
  "5R11-2": Placer_points_sur_axe_relatifs,
  "5R12": Reperage_point_du_quart_de_plan,
  "5R12-2": Reperage_point_du_plan,
  "5R20": Exercice_additions_relatifs,
  "5R20-2": Exercice_additions_relatifs_a_trou,
  "5R20-3": Exercice_additions_de_5_relatifs, //on pourrait le corriger avec regroupement des termes de même signe 
  "5R20-4": Problemes_additifs_relatifs_5e, 
  "5R20-5": Exercice_tableau_additions_relatifs,
  "5R21": Exercice_soustractions_relatifs,
  "5R22": Exercice_additions_et_soustraction_de_relatifsV2,
  "5R22-2": Exercice_simplification_somme_algebrique,
  "5S13": Calculer_des_frequences,
  "5S14": Calculer_des_moyennes,
  "5S21": fonctions_probabilite1,
  "4Algo1-0": Tracer_avec_scratch,
  "4C10-0": Signe_produit_quotient_relatifs,
  "4C10-1": Signe_produit_relatifs,
  "4C10-2": Signe_quotient_relatifs,
  "4C10-3": Exercice_multiplications_relatifs,
  "4C10-4": Exercice_quotients_relatifs,
  "4C10-5": Exercice_tableau_multiplications_relatifs,
  "4C11": Priorites_et_relatifs,
  "4C25-0": Problemes_additifs_fractions,
  "4C30": Puissances_de_dix,
  "4C30-1": Puissances_encadrement,
  "4C32" : Notation_scientifique,
  "4C32-1" : Calculs_avec_puissances_de_dix,
  "4C33-1": Puissances_d_un_relatif_1,
  "4C33-3": Puissances_d_un_relatif_2,
  "4G40": Transformations_4e,
  "4L10": Exercice_developper,
  "4L13-0": Mettre_en_equation_sans_resoudre,
  "4L13-1": Forme_litterale_introduire_une_lettre,
  "4L14-0": Tester_si_un_nombre_est_solution_d_une_equation,
  "4L14-1": Tester_si_un_nombre_est_solution_d_une_equation_deg1,
  "4L14-2": Tester_si_un_nombre_est_solution_d_une_equation_deg2,
  "4L15-0": Trouver_erreur_resol_eq_deg1,
  "4L20": Exercice_equation1,
  "4G53": Calcul_de_volumes_4e,
  "4C21-1": Exercice_additionner_des_fractions,
  "4C21": Exercice_additionner_ou_soustraire_des_fractions,
  "4C22-1": Exercice_trouver_l_inverse,
  "4C22": Exercice_multiplier_fractions,
  "4C22-2": Exercice_diviser_fractions,
  "4C23": Exercice_additionner_fraction_produit,
  "4F12": Exploiter_representation_graphique,
  "4P10": Problemes_grandeurs_composees,
  "4P10-1" : Graphiques_et_proportionnalite,  
  "4G11": Pavages_et_translation,
  "4G20" : Pythagore2D,
  "4G20-1": Egalite_Pythagore2D, // Anciennement Egalite_Pythagore,
  "4G20-2": Racine_caree_de_carres_parfaits,
  "4G20MG32": Exercice_Pythagore,
  "4G21": Reciproque_Pythagore,
  "4G22": Problemes_Pythagore,
  "4G30": Thales_4eme,
  "4G31": Reciproque_Thales_4eme,
  "4G40": Exercice_Trigo_longueurs_4e,
  "4G41": Exercice_Trigo_angles_4e,
  "3A10": DivisionEuclidienne_multiplesDiviseurs_Criteres,
  "3A11": Premier_ou_pas,
  "3A11-1": Premier_ou_pas_critere_par7_par11,
  "3A11-2": Decomposition_facteurs_premiers,
  "3A11-3": Lister_Diviseurs_Par_Decomposition_facteurs_premiers,
  "3A12": Fractions_irreductibles,
  "3A13": PPCM_Engrenages,
  "3G43": Calcul_de_volumes_3e,
  "3L10": Oppose_expression,
  "3L10-1": Parentheses_precedes_de_moins_ou_plus,
  "3L11": Exercice_developper,
  "3L11-1": Double_distributivite,
  "3L11-2": Reduction_si_possible,
  "3L11-3": Distributivite_simple_double_reduction,
  "3L11-4": Factoriser_par_nombre_ou_x,
  "3L12-1": Developper_Identites_remarquables3,
  "3L12": Factoriser_Identites_remarquables3,
  "3L13": Exercice_equation1, //identique à 4L20
  "3L13-1": Exercice_equation1_2,
  "beta3L13-2": Eq_resolvantes_Thales,
  "3L14": Resoudre_une_equation_produit_nul,
  "3L14-1": Resoudre_une_equation_produit_nul_niv2,
  "3L15": Resoudre_une_equation_x2_egal_A,
  "3P10": Evolutions_en_pourcentage,
  "3P10-1": Coefficient_evolution,
  "3G10-1": Transformations_du_plan_et_coordonnees,
  "3G10-2": Transformations_3e,
  "3G12": Pavages_et_rotation,
  "3G20": Exercice_Thales,
  "3G20-1": Problemes_Thales,
  "3G21": Reciproque_Thales,
  "3G22": Agrandissement_reduction,
  "3G23": TrianglesSemblables,
  "3G30": Exercice_Trigo_longueurs,
  "3G31": Exercice_Trigo_angles,
  "3F1-act": fonction_notion_vocabulaire,
  "3F10" : Image_antecedent_depuis_tableau_ou_fleche,
  "3F12": fonctions_calculs_d_images,
  "3F12-2": Image_fonction_algebrique,
  "3F12-3": Tableau_de_valeurs,
  "3F12-4": Image_graphique,
  "3F13": Antecedent_graphique,
  "3F21": Lecture_expression_fonctions_lineaires,
  "3F21-1": Lecture_expression_fonctions_affines,
  "3S15": Calculer_des_etendues,
  "3S20": fonctions_probabilite2,
  "2N10": Existence_d_une_racine_carree,
  "2N10-1": proprietes_racine_carree,
  "2N11": Extraire_un_carre_parfait_d_une_racine_carree,
  "2N11-1": Simplifier_une_somme_de_racines_carrees,
  "2N12": Double_distributivité_avec_racine_carree,
  "2N12-1": identites_remarquables_et_racine_carree,
  "2N20": ensemble_de_nombres,
  "2N21": parite,
  "2N22": valeur_absolue,
  "2N23": valeur_absolue_et_equation,
  "2N24": intervalles_de_R,
  "2N25": union_et_intersection_intervalles_de_R,
  "2G10": Distance,
  "2G11": Milieu,
  "2G12": Nature_polygone,
  "2L10": Developper_Identites_remarquables2,
  "2L11": Factoriser_Identites_remarquables2,
  "1N10": Terme_d_une_suite_definie_explicitement,
  "1N11": Terme_d_une_suite_definie_par_recurrence, 
  "1E10" : Calcul_discriminant,
  "1E11" : Resoudre_equation_degre_2,
  "PEA11": Passer_d_une_base_a_l_autre,
  "PEA11-1": Passer_de_la_base_12_ou_16_a_la_10,
  "betaTESTseb": Tests_du_Seb,
  P001: Code_LaTeX_personnalise,
  // 'P002': LaTeX_static,
  P003: feuille_d_axes_gradues,
  cours: Questions_de_cours,
  LaTeX: Code_LaTeX_personnalise,
  // 'Perso' : HTML_personnalise,
  // 'TsvgjsKatex' : tests_SVGJS_KATEX,  
};

//Pour modifier les exercices lorsqu'ils sont en mode diaporama
var est_diaporama = false;

if (window.location.href.indexOf("cm.html") > 0) {
  est_diaporama = true;
}

//Efface de la liste des exercices disponibles tout ceux qui n'ont pas de version HTML
if (sortie_html) {
  var codeMG32 = "";
}

for (var i in liste_des_exercices_disponibles) {
  let exercice = new liste_des_exercices_disponibles[i]();
  if (sortie_html && exercice.pas_de_version_HMTL) {
    delete liste_des_exercices_disponibles[i];
  }
  if (!sortie_html && exercice.pas_de_version_LaTeX) {
    delete liste_des_exercices_disponibles[i];
  }
}

/**
 * Classe parente de tous les exercices
 *
 * @Auteur Rémi Angot
 */
function Exercice() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "";
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.introduction = "";
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1.5;
  this.spacing_corr = 1;
  this.beamer = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = false; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.consigne_modifiable = true;
  this.nb_questions_modifiable = true;
  this.nb_cols_modifiable = true;
  this.nb_cols_corr_modifiable = true;
  this.spacing_modifiable = true;
  this.spacing_corr_modifiable = true;
  this.correction_detaillee_disponible = false;
  this.correction_detaillee = true;
  this.bouton_aide = false;
  // this.bouton_aide = modal_texte_court(numero_de_l_exercice,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_texte_long(numero_de_l_exercice,titre,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_youtube(numero_de_l_exercice,id_youtube,texte,label_bouton="Aide - Vidéo",icone="youtube")
  // this.bouton_aide = modal_pdf(numero_de_l_exercice,url_pdf,texte="Aide",label_bouton="Aide - PDF",icone="file pdf")
  this.pas_de_version_LaTeX = false;
  this.MG32editable = false; //pas d'interface par défaut pour les figures MG32
  this.nouvelle_version = function (numero_de_l_exercice) {};
  this.liste_packages = []; // string ou liste de string avec le nom des packages spécifiques à ajouter dans le préambule
}
/**
 * Pour imprimer des repères vierges pour les élèves.
 * @Auteur Jean-Claude Lhote
 * référence : P003
 */
function feuille_d_axes_gradues() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer des droites graduées";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 3;
  this.sup = 10;
  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;
  this.liste_packages = "axes_gradues";

  this.nouvelle_version = function (numero_de_l_exercice) {
    let pas;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    pas = parseInt(this.sup);
    for (let i = 0, id_unique, texte; i < 16; i++) {
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          "",
          6,
          1,
          pas,
          [],
          [],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(2, " ", 1, pas, [], [], false);
        this.liste_questions.push(texte);
      }
    }
    if (!sortie_html)
      liste_de_question_to_contenu_sans_numero_et_sans_consigne(this);
  };
  this.besoin_formulaire_numerique = [`Nombres de parts`, 10, ""];
}

/**
 * Lire l'abscisse entière d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11
 */
function Lire_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse entière d'un point (grands nombres)";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 4;
  this.liste_packages = ["tkz-euclide"];

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Milliers\n2 : Dizaines de mille\n3 : Centaines de mille\n4 : Mélange",
  ];
}
/**
 * Placer un point d'abscisse entière
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11-2
 */
function Placer_un_point_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse entière (grands nombres)";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );
      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3> Placer les points : ${l1}(${string_nombre(
          abs1
        )}), ${l2}(${string_nombre(abs2)}), ${l3}(${string_nombre(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )}) sont placés ci dessous}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Ordre de grandeur : milliers\n2 : Ordre de grandeur : dizaines de mille\n3 : centaines de mille\n4 : Mélange",
  ];
}

/**
 * Questions statiques issues d'un fichier Markdown
 *
 * Les thèmes sont des titres de niveaux 2
 *
 * suivies d'une liste qui alterne question et réponse
 * @Auteur Rémi Angot
 * Référence : cours
 */
function Questions_de_cours() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Questions de cours";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.consigne_modifiable = false;
  this.sup = ""; // thème des questions
  this.sup2 = "questions_de_cours.txt"; //url des questions
  this.pas_de_version_LaTeX = true;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let liste_questions = []; // Liste de questions
    let liste_corrections = []; // Liste de questions corrigées
    let dictionnaire_de_questions = {};
    let dictionnaire_de_questions_pret = false;
    let contenu_HTML = "";
    let contenu_correction_HTML = "";
    $.get(this.sup2, function (txt) {
      // Récupère le fichier txt et transforme en un dictionnaire {'id_theme':[[questions],[réponses]]}
      let tableau_par_theme = txt
        .match(/##((?=[^#]).|\n)*/g)
        .map((v) => v.trim());
      // Recherche les chaines de caractères commençant par ## et ne comportant pas d'autres #
      for (let i = 0; i < tableau_par_theme.length; i++) {
        let tableau_titre = tableau_par_theme[i].match(/##.*/g);
        let questions_et_reponses = tableau_par_theme[i]
          .match(/\*((?=[^*#]).|\n)*/g)
          .map((v) => v.trim());
        // Recherche les chaines de caractères commençant par * et ne comportant pas d'autres * ou de #
        let titre = tableau_titre[0].replace("## ", "");
        // Récupère le titre du thème sans ##
        let tableau_questions = [];
        let tableau_reponses = [];
        for (let i = 0; i < questions_et_reponses.length; i++) {
          if (i % 2 == 0) {
            //rang pair => questions
            tableau_questions[i / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
            // Supprime les * devant chaque questions
          } else {
            //rang impair => réponses
            tableau_reponses[(i - 1) / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
          }
          dictionnaire_de_questions[titre] = [
            tableau_questions,
            tableau_reponses,
          ];
        }
      }

      // Je n'utilise pas this.nb_questions ou this.sup car this n'est pas clairement défini dans cette fonction
      if (exercice[numero_de_l_exercice].sup == "") {
        exercice[numero_de_l_exercice].sup = choice(
          Object.keys(dictionnaire_de_questions)
        ); // Si on n'a pas spécifié un thème, on en prend un au hasard.
      }

      let nb_questions = exercice[numero_de_l_exercice].nb_question;
      if (dictionnaire_de_questions[exercice[numero_de_l_exercice].sup]) {
        // Si le thème existe dans le dictionnaire alors on adapte le nombre de questions
        nb_questions = Math.min(
          exercice[numero_de_l_exercice].nb_questions,
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0]
            .length
        );
      }
      for (let i = 0; i < nb_questions; i++) {
        liste_questions.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0][i]
        );
        liste_corrections.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][1][i]
        );
      }
      shuffle2tableaux(liste_questions, liste_corrections);
      // Mélange les questions et les réponses (sans perdre les associations)
      dictionnaire_de_questions_pret = true;
    });

    let id_unique = `${numero_de_l_exercice}_${Date.now()}`;
    if (sortie_html) {
      this.contenu = `<div id=div_exo${id_unique}></div>`;
      this.contenu_correction = `<div id=div_corr_exo${id_unique}></div>`;
    }

    if (!window.divExist) {
      window.divExist = [];
    } // Si divExist n'existe pas on le créé
    // divExist est un tableau dans lequel on stocke les listenner sur la création des div
    window.divExist[id_unique] = setInterval(function () {
      if ($(`#div_exo${id_unique}`).length && dictionnaire_de_questions_pret) {
        // Attends que le div existe et que le dictionnaire de questions soit prêt
        contenu_HTML = html_enumerate(liste_questions, this.spacing);
        contenu_correction_HTML = html_enumerate(
          liste_corrections,
          this.spacing
        );
        $(`#div_exo${id_unique}`).html(contenu_HTML); //Vide le div pour éviter les SVG en doublon
        $(`#div_corr_exo${id_unique}`).html(contenu_correction_HTML); //Vide le div pour éviter les SVG en doublon
        renderMathInElement(document.body, {
          delimiters: [
            { left: "\\[", right: "\\]", display: true },
            { left: "$", right: "$", display: false },
          ],
          throwOnError: true,
          errorColor: "#CC0000",
          strict: "warn",
          trust: false,
        });
        clearInterval(divExist[numero_de_l_exercice]); //Arrête le timer
      }
    }, 100); // Vérifie toutes les 100ms
  };
  this.besoin_formulaire_texte = ["Thème des questions", "De la forme 6M1"];
  this.besoin_formulaire2_texte = [
    "Liste des questions",
    "URL du fichier texte contenant les questions et réponses.",
  ];
}

/**
 * Lire l'abscisse décimale d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30
 */
function Lire_abscisse_decimale() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des décimaux sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer des décimaux sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer des décimaux sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}
/**
 * Lire l'abscisse fractionnaire d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N21
 */
function Lire_abscisse_fractionnaire() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse fractionnaire d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants et donner le résultat sous la forme d'une fraction.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des demis aux quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2, 3, 4]);
          break;

        case 2: // Placer des cinquièmes aux neuvièmes sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = randint(5, 9);
          break;

        case 3: // Placer des demis aux neuvièmes à partir d'un entier >=1 sur un axe
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = randint(2, 9);
          break;
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          true
        );
        this.contenu_correction+=`<br>`
        if (pgcd(x11,pas2)!=1||pgcd(x22,pas2)!=1||pgcd(x33,pas2)!=1) this.contenu_correction+=`Remarque : `
        if (pgcd(x11,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\phantom{espace}$`
        if (pgcd(x22,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\phantom{espace}$`
        if (pgcd(x33,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\phantom{espace}$`
  
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          true
        );
        if (pgcd(x11,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\right)$.`
        if (pgcd(x22,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\right)$.`
        if (pgcd(x33,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\right)$.`
  
        this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
      }     
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Demis, tiers ou quarts avec zéro placé\n2 : Des cinquièmes aux neuvièmes avec zéro placé \n3 : Toutes les fractions précédentes mais zéro non visible\n4 : Mélange",
  ];
}
/**
 * Exercice calqué sur lire abscisse fractionnaire sauf que le résultat attendu est en écriture décimale.
 * demis, quart, cinquièmes dixièmes et centièmes
 * @Auteur Jean-Claude Lhote
 * Référence 6N30-1
 */
function Lire_abscisse_decimale_bis() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point repéré par une fraction";
  this.consigne = "Lire l\’abscisse de chacun des points suivants et donner le résultat sous la forme d\’un nombre en écriture décimale.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 5)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 3: // Placer des demis ou des quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2,4]);
          break;

        case 4: // Placer des cinquièmes 
          abs0 = 0;
          pas1 = 1;
          pas2 = 5
          break;

        case 1: // Placer des dixièmes
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = 10
          break;
        case 2: // Placer des centièmes
          abs0 = calcul(randint(10, 50)/10);
          pas1 = 10;
          pas2 = 10
          break;       
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Dixièmes\n2 : Centièmes\n3 : Demis et quarts\n4 : Cinquièmes\n5 : Mélange",
  ];
}

/**
 * Placer un point d'abscisse décimale
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30-2
 */
function Placer_points_sur_axe() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse décimale";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer un point sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer un point sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer un point sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );

      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3>Placer les points : ${l1}(${tex_nombrec(
          abs1
        )}), ${l2}(${tex_nombrec(abs2)}), ${l3}(${tex_nombrec(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(
          abs3
        )}) sont placés ci dessus}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );

        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}

/**
 * Conversions de durées.
 * * 1 : H vers min ou H ou min ou Hmin vers s
 * * 2 : h vers j-h
 * * 3 : s vers HMS
 * * 4 : h vers semaines j h
 * * 5 : toutes les conversions
 * @Auteur Rémi Angot
 * Référence 6D10
 */
function Conversions_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 5;
  this.titre = "Convertir des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 2;
  this.nb_questions = 5;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_sous_type_de_questionv1 = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_sous_type_de_questionv2 = combinaison_listes(
      [0, 1, 2],
      this.nb_questions
    );
    let type_de_questions = [];
    if (this.sup < 5) {
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    }
    if (this.sup == 5) {
      type_de_questions = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    }

    for (
      let i = 0, h, m, s, j, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        let sous_type_de_question = liste_sous_type_de_questionv1[i];
        if (sous_type_de_question == 1) {
          h = randint(2, 11);
          texte = `$${h}~\\text{h en minute}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times60~~\\text{min} = ${tex_nombre(
            h * 60
          )}~\\text{min}$`;
        }
        if (sous_type_de_question == 2) {
          h = choice([1, 2, 10, 20]);
          texte = `$${h}~\\text{h en secondes}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times3~600~\\text{s} = ${tex_nombre(
            h * 3600
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 3) {
          m = randint(2, 59);
          texte = `$${m}~\\text{min en secondes}$`;
          texte_corr = `$${m}~\\text{min} = ${m}\\times60~\\text{s} = ${tex_nombre(
            m * 60
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 4) {
          h = randint(1, 2);
          m = randint(2, 59);
          texte = `$${h}~\\text{h}~${m}~\\text{min en secondes}$`;
          texte_corr = `$${h}~\\text{h}~${m}~\\text{min} = ${h}\\times3~600~\\text{s} + ${m}\\times60~\\text{s} = ${tex_nombre(
            h * 3600
          )}+${tex_nombre(m * 60)}~\\text{s} = ${tex_nombre(
            h * 3600 + m * 60
          )}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 2) {
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(h + 24 * j)}~\\text{h en jours et heures}$`;
        texte_corr = `$${tex_nombre(
          h + 24 * j
        )}~\\text{h} = ${j}\\times24~\\text{h} + ${h}~\\text{h} = ${j}~\\text{j}~${h}~\\text{h}$`;
      }

      if (type_de_questions[i] == 3) {
        h = liste_sous_type_de_questionv2[i];
        m = randint(1, 59);
        s = randint(1, 59);
        if (h > 0) {
          texte = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s} = ${tex_nombre(h * 3600)}~\\text{s}+${
            m * 60 + s
          }~\\text{s} =${h}~\\text{h}+${m}\\times60~\\text{s}+${s}~\\text{s}=${h}~\\text{h}~${m}~\\text{min}~${s}~\\text{s}$`;
        } else {
          texte = `$${tex_nombre(m * 60 + s)}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            m * 60 + s
          )}~\\text{s} = ${m}\\times60~\\text{s}+${s}~\\text{s}=${m}~\\text{min}~${s}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 4) {
        s = randint(1, 9); // nombre de semaines
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(
          h + 24 * j + 24 * 7 * s
        )}~\\text{h en semaines jours et heures}$`;
        if (s > 1) {
          // pour la gestion du pluriel de semaines
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaines}~${j}~\\text{j}~${h}~\\text{h}$`;
        } else {
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaine}~${j}~\\text{j}~${h}~\\text{h}$`;
        }
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Conversions en s ou min\n2 : Conversions en jours-heures \n3 : Conversions en HMS\n4 : Conversions en semaines-jours-heures \n5 : Tous types de conversions",
  ];
}

/**
 * Convertir une heure décimale dans le format HMS
 *
 * La partie décimale est 25, 75 ou un seul chiffre
 * @Auteur Rémi Angot
 * Référence 6D101
 */
function Heures_decimales() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Utiliser les heures décimales";
  this.consigne = "Compléter les égalités suivantes";
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, partie_entiere, partie_decimale, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      partie_entiere = randint(1, 12);
      partie_decimale = choice([1, 2, 3, 4, 5, 6, 7, 8, 9, 25, 75]);
      texte = `$${partie_entiere},${partie_decimale}~\\text{h}=\\dotfill$`;
      if (partie_decimale == 25) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~15~\\text{min}$`;
      } else if (partie_decimale == 75) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{3}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~45~\\text{min}$`;
      } else if (partie_decimale == 5) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{2}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~30~\\text{min}$`;
      } else {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{${partie_decimale}}{10}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}+${partie_decimale}\\times6~\\text{min}=${partie_entiere}~\\text{h}~${
          partie_decimale * 6
        }~\\text{min}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions de durées de différents :
 * * MS+MS=1hMS sans retenue sur les s
 * * MS+MS=1hMS avec retenue
 * * HM+HM avec retenue
 * * HMS+HMS avec retenue sur les min
 * * HMS+HMS avec retenues min et s
 * @Auteur Rémi Angot
 * Référence 6D11
 */
function Somme_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additionner des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.sup = 1; // 2 niveaux de difficultés
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions;

    if (this.sup == 1) {
      type_de_questions = combinaison_listes([1, 3], this.nb_questions);
    } else {
      type_de_questions = combinaison_listes(
        [1, 2, 3, 4, 5],
        this.nb_questions
      );
    }
    for (
      let i = 0, h1, h2, m1, m2, s1, s2, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        s1 = randint(11, 39);
        s2 = randint(1, 20);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s}= 1~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 2) {
        s1 = randint(21, 39);
        s2 = randint(40, 59);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s} = ${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} = 1~\\text{h}~${m1 + m2 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }
      if (type_de_questions[i] == 3) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min} = ${h1 + h2 + 1}~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}$`;
      }
      if (type_de_questions[i] == 4) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(1, 60 - s1 - 1);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min}~${s1 + s2}~\\text{s} = ${
          h1 + h2 + 1
        }~\\text{h}~${m1 + m2 - 60}~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 5) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(60 - s1, 59);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=`;
        texte_corr += ` ${h1 + h2}~\\text{h}~${m1 + m2}~\\text{min}~${
          s1 + s2
        }~\\text{s} = ${h1 + h2}~\\text{h}~${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} =${h1 + h2 + 1}~\\text{h}~${m1 + m2 + 1 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 2]; //"1 : Additions simples\n2 : Additions avec d'��ventuelles conversions"]
}

/**
 * Problèmes où il faut calculer la durée d'un évèbement ou un horaire.
 * Paramétrage possible :
 * * 1 : calculs de durées
 * * 2 : calculer l'heure de début
 * * 3 : calculer l'heure de fin
 * * 4 : mélange des 3 types précédents
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Calculs_de_durees_ou_d_horaires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer des durées ou déterminer un horaire";
  this.consigne = "";
  this.sup = 4;
  this.spacing = 2;
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    const type_de_contexte = combinaison_listes(
      [1, 2, 3, 4, 5],
      this.nb_questions
    );
    let type_de_questions; // 1 : calcul de durées // 2 : calcul de l'horaire de début // 3 : calcul de l'horaire de fin // 4 : mélange

    if (this.sup < 4) {
      // que des questions de niveau 1 ou que des questions de niveau 2
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    } else {
      // un mélange équilibré de questions
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    }

    for (
      let i = 0, d1, h1, m1, d2, h2, m2, d, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      //d1 : heure de début (h1 heures m1 min)
      //d2 : heure de fin (h2 heures m2 min)
      //d : durée
      if (type_de_contexte[i] == 1) {
        h1 = randint(20, 22);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 2;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `La diffusion d'un film commence à ${d1} et se termine à ${d2}. Combien de temps a duré ce film ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le film dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Un film dure ${d} et commence à ${d1}. À quelle heure se terminera-t-il ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Le film terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un film de ${d} termine à ${d2}. À quelle heure a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le film a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 2) {
        h1 = randint(20, 23);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 1;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Sur son service de streaming favori, ${prenom()} commence à regarder une série à ${d1} et celle-ci se termine à ${d2}. Combien de temps a duré l'épisode ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La série a duré ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenom()} allume son ordinateur à ${d1} pour regarder une série de ${d}. À quelle heure la série s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La série s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une série de ${d} à ${d2}. À quelle la série a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Elle a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 3) {
        h1 = randint(8, 21);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 59); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Une émission télévisée est diffusée de ${d1} à ${d2}. Combien de temps dure-t-elle ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `L'émission dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une émission télévisée de ${d} commence à ${d1}. À quelle heure s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `L'émission s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une émission de ${d} à ${d2}. À quelle heure l'émission a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `L'émission a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 4) {
        h1 = randint(13, 16);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 58); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(13, 16);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + randint(1, 2);
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un papa regarde la compétition de gymnastique de sa fille  de ${d1} à ${d2}. Calculer la durée de cette compétition.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La compétition dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une compétition de gymnastique commence à ${d1} et dure ${d}. À quelle heure sera-t-elle terminée ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La compétition terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Une compétition de gymnastique qui se termine à ${d2} a duré ${d}. À quelle heure a-t-elle commencé.`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `La compétition a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 5) {
        h1 = randint(8, 15);
        m1 = randint(25, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(2, 5);
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un train part à ${d1} et arrive à destination à ${d2}. Calculer la durée du trajet.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le trajet dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenomF()} monte dans le train à ${d1} pour un trajet qui doit durer ${d}. À quelle heure arrivera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Elle arrivera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un train arrive en gare à ${d2} après un trajet de ${d}. À quelle heure le voyage a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le voyage a commencé à ${d1}.`;
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Calcul de durée\n2 : Calcul de l'horaire de fin\n3 : Calcul de l'horaire de début\n4 : 3 types de questions",
  ];
}

/**
 * Additions et/ou soustractions classique et/ou à trou.
 *
 * Par défaut c'est un mélange d'additions, soustractions avec et sans trou avec des nombres jusqu'à 20.
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Tables_additions_soustractions() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 20;
  this.sup2 = 6; // additions|additions à trous|soustractions|soustractions à trous|mélange sans trou|mélange avec trou
  this.titre = "Additions et de soustractions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = [];
    if (this.sup2 == 1) {
      liste_type_de_questions = combinaison_listes(
        ["addition"],
        this.nb_questions
      );
    }
    if (this.sup2 == 2) {
      liste_type_de_questions = combinaison_listes(
        ["addition_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 3) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 4) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 5) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 6) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "addition_a_trou", "soustraction", "soustraction_a_trou"],
        this.nb_questions
      );
    }
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);

      switch (liste_type_de_questions[i]) {
        case "addition":
          texte = `$${a} + ${b} = \\dotfill$`;
          texte_corr = `$${a} + ${b} = ${a + b}$`;
          break;
        case "addition_a_trou":
          texte = `$${a} + \\ldots\\ldots = ${a + b}$`;
          texte_corr = `$${a} + ${mise_en_evidence(b)} = ${a + b}$`;
          break;
        case "soustraction":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - ${b} = \\dotfill$`;
          texte_corr = `$${a} - ${b} = ${a - b}$`;
          break;
        case "soustraction_a_trou":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - \\ldots\\ldots = ${a - b}$`;
          texte_corr = `$${a} - ${mise_en_evidence(b)} = ${a - b}$`;
          break;
      }

      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 9999]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    6,
    "1 : Additions\n2: Additions à trous\n3: Soustractions\n4 : Soustractions à trous\n5 : Additions et soustractions \n6 : Additions et soustractions avec ou sans trous",
  ];
}

/**
 * Tables de multiplications classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence 6C10-1
 */
function Tables_de_multiplications(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = choice(["classique", "a_trous"]);
      }
      if (type_de_questions == "classique") {
        // classique
        if (choice([true, false])) {
          texte = `$ ${tex_nombre(a)} \\times ${tex_nombre(b)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombre(a * b)}$`;
        } else {
          texte = `$ ${tex_nombre(b)} \\times ${tex_nombre(a)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombre(a * b)}$`;
        }
      } else {
        // a trous
        if (tables.length > 2) {
          // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
          texte = choice([
            "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
            "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
          ]);
        } else {
          // Sinon on demande forcément le 2e facteur
          texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
        }

        texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
* Référence CM002
  */
function Tables_de_divisions(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }
      if (type_de_questions == "classique") {
        // classique
        texte = "$ " + a * b + " \\div " + a + " = \\dotfill $";
      } else {
        // a trous
        if (choice([true, false])) {
          texte = `$ ${a * b} \\div \\ldots\\ldots = ${b}$`;
        } else {
          texte = `$ \\ldots\\ldots \\div ${a}  = ${b}$`;
        }
      }
      texte_corr = `$ ${a * b} \\div ${a} = ${b}$`;
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de multiplications et de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence CM003
 */
function Tables_de_multiplications_et_divisions(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier ou diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications et de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let operation = combinaison_listes(["x", "div"], this.nb_questions); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let type_de_questions;
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }

      if (operation[i] == "x") {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a + " \\times " + b + " = \\dotfill $";
          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        } else {
          // a trous
          if (tables.length > 2) {
            // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
            texte = choice([
              "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
              "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
            ]);
          } else {
            // Sinon on demande forcément le 2e facteur
            texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
          }

          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        }
      } else {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a * b + " \\div " + b + " = \\dotfill $";
        } else {
          // a trous
          if (choice([true, false])) {
            texte = `$ ${a * b} \\div \\ldots\\ldots = ${a}$`;
          } else {
            texte = `$ \\ldots\\ldots \\div ${b}  = ${a}$`;
          }
        }
        texte_corr = `$ ${a * b} \\div ${b} = ${a}$`;
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Mélange équitable d'additions, de soustractions, de multiplications et de divisions
 *
 * * Niveau 1 Addition 2 chiffres + 1 chiffre, soustraction 2 chiffres - 1 chiffre, tables de 2 à 5
 * * Niveau 2 Addition 2 chiffres + 2 chiffres ne dépassant pas 100, soustraction dont le résultat est entre 11 et 19, tables de 6 à 9
 * * Niveau 3 Addition 2 chiffre + 2 chiffres dépassant 100, soustraction dont le résultat est entre 21 et 39, table de 7, 8, 11 ou 12,
 * @Auteur Rémi Angot
* Référence CM004
  */
function Quatre_operations() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Les quatre opérations";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // addition
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(11, 69);
            b = randint(11, 29);
          }
          if (this.sup == 3) {
            a = randint(11, 89);
            b = randint(110 - a, 110 - a + 50);
          }
          texte = `$${a}+${b}$`;
          texte_corr = `$${a}+${b}=${a + b}$`;
          break;
        case 2: // soustraction
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(20, 89);
            b = randint(a - 19, a - 11);
          }
          if (this.sup == 3) {
            a = randint(40, 89);
            b = randint(a - 39, a - 21);
          }
          texte = `$${a}-${b}$`;
          texte_corr = `$${a}-${b}=${a - b}$`;
          break;
        case 3: // multiplication
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a}\\times${b}$`;
          texte_corr = `$${a}\\times${b}=${a * b}$`;
          break;
        case 4: // division
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a * b}\\div${a}$`;
          texte_corr = `$${a * b}\\div${a}=${b}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence CM005
*/
function Ajouter9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_texte_court(
      numero_de_l_exercice,
      "Ajouter 9 revient à ajouter 10 et à soustraire 1."
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+9$`;
      texte_corr = `$${a}+9=${a + 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6N12
 */
function Multiplier_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier un entier par 10, 100, 1 000...";
  this.consigne = "Calculer";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_url(numero_de_l_exercice,'https://mathix.org/glisse-nombre/index.html',
      "Glisse-nombre"
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1,2,3,4,choice([5,6]),7,8,9];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_b = []
      if (this.sup==2){
        liste_de_b = combinaison_listes([10,100,1000,10000,100000],this.nb_questions)
      } else {
        liste_de_b = combinaison_listes([10,100,1000],this.nb_questions)
      }
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(1,9)
          break;
        case 2:
          a = randint(2,9)*10
          break;
        case 3:
          a = randint(2,9)*100
          break;
        case 4:
          a = randint(2,9)*1000
          break;
        case 5:
          a = randint(1,9)*100+randint(1,9)
          break;
        case 6:
          a = randint(1,9)*1000+randint(1,9)
          break;
        case 7:
          a = randint(1,9)*100 + randint(1,9)*10 + randint(1,9)
          break;
          case 8:
            a = randint(1,9)*10000+randint(1,9)*100
            break;
        case 9:
          a = randint(1,9)*10 + randint(1,9)
          break;
            
      }
      
      b = liste_de_b[i]
      if (choice([true,false])) {
        texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`
        texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombre(a*b)}$`
      } else {
        texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`
        texte_corr = `$${tex_nombre(b)}\\times${tex_nombre(a)}=${tex_nombre(a*b)}$`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par 10, 100 ou 1 000\n2 : Multiplication par 10, 100, 1 000, 10 000 ou 100 000'];
}

/**
 * Un nombre à 2 chiffres ne terminant pas par 9 - 9
 * @Auteur Rémi Angot
 * Référence CM006
*/
function Soustraire9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(1, 9) * 10 + randint(0, 8);
      texte = `$${a}-9$`;
      texte_corr = `$${a}-9=${a - 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres non multiple de 10 + 11
 * @Auteur Rémi Angot
 * Référence CM007
*/
function Ajouter11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+11$`;
      texte_corr = `$${a}+11=${a + 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres -11
 * @Auteur Rémi Angot
 * Référence CM008
*/
function Soustraire11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 1, 1, 1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (liste_type_de_questions[i] == 1) {
        a = randint(12, 99);
      } else {
        a = randint(2, 9) * 10;
      }

      texte = `$${a}-11$`;
      texte_corr = `$${a}-11=${a - 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de deux nombres dont les chiffres des unités sont des compléments à 10
 * @Auteur Rémi Angot
 * Référence CM015
*/
function Somme_de_deux_nombres_maries() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 9) * 10 + u1;
      b = randint(1, 9) * 10 + u2;

      texte = `$${a}+${b}$`;
      texte_corr = `$${a}+${b}=${a + b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de 3 nombres dont 2 ont des chiffres des unités compléments à 10
 * @Auteur Rémi Angot
 * Référence CM018
*/
function Somme_de_deux_nombres_maries_et_un_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés et un entier";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, c, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 4) * 10 + u1;
      b = randint(1, 4) * 10 + u2;
      c = randint(1, 100 - a - b);

      switch (liste_type_de_questions[i]) {
        case 1:
          texte = `$${a}+${b}+${c}$`;
          texte_corr = `$${a}+${b}+${c}=${a + b + c}$`;
          break;
        case 2:
          texte = `$${a}+${c}+${b}$`;
          texte_corr = `$${a}+${c}+${b}=${a + b + c}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Mettre en relation un calcul, une traduction en français, une expression, un résultat, pour les décliner dans différents exercices.
 * Exercice sur le vocabulaire : somme,différence, produit, quotient...
 * @Auteur Jean-Claude Lhote
 * Référence 6C13
 */
function Vocabulaire_et_operations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Traduire des phrases en calculs et réciproquement";
  this.consigne = "";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 4;
  this.sup2 = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let decimal;
    let expf, expn, expc, resultats;
    let type_de_questions_disponibles;
    if (this.sup < 4) type_de_questions_disponibles = [parseInt(this.sup)];
    else type_de_questions_disponibles = [1, 2, 3];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2) decimal = 10 ** randint(1, 2);
    else decimal = 1;

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      resultats = Choisir_expression_numerique(1, decimal);
      expf = resultats[0];
      expn = resultats[1];
      expc = resultats[2];
      texte = ``;
      texte_corr = ``;
      switch (liste_type_de_questions[i]) {
        case 1:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul (il n’est pas demandé d’effectuer ce calcul) : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.`;
          break;
        case 2:
          if (expn.indexOf("ou") > 0)
            expn = expn.substring(0, expn.indexOf("ou")); // on supprime la deuxième expression fractionnaire
          texte +=
            num_alpha(i) + `Traduire le calcul par une phrase en français : `;
          texte += `${expn}`;
          expf = `l` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expn} est ${expf}.`;
          break;
        case 3:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul et effectuer ce calcul : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          expf = `L` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.<br>`;
          texte_corr += `${expc}.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    4,
    "1 : Phrase -> Calcul\n 2 : Calcul -> Phrase\n 3 : Phrase -> Calcul + résultat\n 4 : Mélange",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Décimaux", false];
}

/**
 * Un "Le compte est bon" avec des solutions "formatées" pour travailler certains incontournables du calcul mental
 *  @Auteur Jean-Claude Lhote
 * Référence CM020
 */
function Compte_Est_Bon() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Atteindre le résultat souhaité avec 6 nombres et les 4 opérations";
  this.consigne =
    "Trouve le résultat en utilisant les quatre opérations et les nombres du tirage (une seule fois).";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de calcul souhaité

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions, a, b, c, d, e, f, cible, tirage, choix;
    if (!this.sup) {
      // Si rien n'est saisi
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        type_de_questions = combinaison_listes(
          [parseInt(this.sup)],
          this.nb_questions
        );
      } else {
        type_de_questions = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < type_de_questions.length; i++)
          type_de_questions[i] = parseInt(type_de_questions[i]);
        this.nb_questions = type_de_questions.length;
      }
    }
    choix = combinaison_listes(range1(5), this.nb_questions);
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (type_de_questions[i]) {
        case 1:
          a = randint(2, 9);
          b = randint(2, 8, a);
          c = randint(1, 9, [a, b]);
          d = randint(1, 9, [a, b, c]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}+${d}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}-${d}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}+${d}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}-${d}$`;
              break;
            default:
              cible = calcul(a * 100 + (b + c) * 10 + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times(${b}+${c})+${d}$`;
          }
          break;

        case 2:
          a = randint(3, 9);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}+${c}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}-${c}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}-10\\times${b}+${c}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=2\\times50\\times${a}-10\\times${b}-${c}$`;
              break;
            default:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=4\\times25\\times${a}+10\\times${b}-${c}$`;
          }
          break;
        case 3:
          a = randint(2, 5);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})+${c}$`;
              break;
            case 2:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})-${c}$`;
              break;
            case 3:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})+${c}$`;
              break;
            case 4:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})-${c}$`;
              break;
            default:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 75, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times((25+75)+10\\times${b})+${c}$`;
          }
          break;
      }
      texte = `Voici le tirage : `;
      for (let i = 0; i < 5; i++) texte += `${tirage[i]} ; `;
      texte += `${tirage[5]}.<br>`;
      texte += `Et le nombre à trouver est : ${cible}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Niveaux de difficultés (1 à 3)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}


/**
 * Générateur de tirages pour un compte est bon avec en correction la solution mathador (4 opérations différentes).
 * @Auteur Jean-Claude Lhote
 * référence CM019
 */

function Le_compte_est_bonV3() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon"';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 30;
  this.sup2 = 70;
  var max_solution = 70;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression;
    let min_solution = parseInt(this.sup);
    max_solution = parseInt(this.sup2);
    if (min_solution > max_solution) {
      min_solution = max_solution;
      this.sup = this.sup2;
    }
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      solution_mathador = Trouver_solution_mathador(min_solution, max_solution);
      tirage = solution_mathador[0];
      solution = solution_mathador[1];
      expression = solution_mathador[3];

      texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
      texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
      texte_corr += `ou $${solution_mathador[4]}$.<br>`;
      texte_corr += `En effet : <br>`;
      for (let i = 0; i < 4; i++) {
        texte_corr += `$${solution_mathador[2][i]}$<br>`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Limite inférieure", max_solution];
  this.besoin_formulaire2_numerique = ["Limite supérieure", 100];
}
/**
 * @Auteur Jean-Claude Lhote
  * référence CM020
 * Dans cette version, il est possible de choisir 1,2,3,4 ou 5 nombres du tirage et de contraindre la cible entre deux valeurs
 */
function Le_compte_est_bonV4() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon" version semi-aléatoire';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 1;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression, min, max, texte, texte_corr;
    let minmax = [];
    let a, b, c, d, e;
    if (!this.sup2) {
      // Si rien n'est saisi
      min = 0;
      max = 100;
    } else {
      if (typeof this.sup2 == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        min = 0;
        max = this.sup2;
      } else {
        minmax = this.sup2.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        min = minmax[0];
        max = minmax[1];
      }
    }
    if (!this.sup) {
      // Si rien n'est saisi
      solution_mathador = Trouver_solution_mathador(min, max);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        solution_mathador = Trouver_solution_mathador(min, max, this.sup);
      } else {
        tirage = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < tirage.length; i++) tirage[i] = parseInt(tirage[i]);
        solution_mathador = Trouver_solution_mathador(min, max, ...tirage);
      }
    }

    tirage = solution_mathador[0];
    solution = solution_mathador[1];
    expression = solution_mathador[3];

    texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
    texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
    texte_corr += `ou $${solution_mathador[4]}$.<br>`;
    texte_corr += `En effet : <br>`;
    for (let i = 0; i < 4; i++) {
      texte_corr += `$${solution_mathador[2][i]}$<br>`;
    }
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des nombres du tirage (de aucun à cinq)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_texte = [
    "Intervalle pour la cible (ou rien pour cible non contrainte)",
    "Minimum-Maximum (éviter de trop contraindre la cible, cela peut bloquer le programme)",
  ]; // Texte, tooltip

  // this.besoin_formulaire2_numerique = ['Limite supérieure',100];
}
/**
 * @Auteur Jean-Claude Lhote
 * @param {number} min Valeur minimum pour la solution
 * @param {number} max Valeur maximum pour la solution
 * Cette fonction produit aléatoirement un tirage de 5 nombres, une solution, un tableau contenant les calculs successifs, une chaine contenant l'expression mathador correspondante
 * @returns {array} [tirage=[a,b,c,d,e],solution (compris entre min et max),operations_successives=[string1,string2,string3,string4,string5],expression]
 * les string1 à 5 ainsi que l'expresion sont ) mettre en mode maths.
 * sert dans les exercices CM019,
 */
function Trouver_solution_mathador(
  min,
  max,
  A = 1,
  B = 4,
  C = 8,
  D = 3,
  E = 5
) {
  let eureka,
    a,
    b,
    c,
    d,
    e,
    tirage,
    nombres_restants,
    operations_restantes,
    expression_en_cours_f,
    expression_en_cours_d,
    op,
    part1_f,
    part2_f,
    part1_d,
    part2_d,
    operations_successives = [],
    solution;
  let liste_choix = [
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    6,
    6,
    6,
    6,
    7,
    7,
    8,
    8,
    8,
    8,
    9,
    9,
    9,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
  ];
  eureka = false;
  let nb_determines = arguments.length - 2;
  while (eureka == false) {
    tirage = [];

    if (nb_determines < 1) a = parseInt(choice(liste_choix));
    else a = A;
    if (nb_determines < 2)
      b = parseInt(choice(liste_choix, [13, 14, 15, 16, 17, 18, 19, 20, a]));
    else b = B;
    if (nb_determines < 3)
      c = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, a, b])
      );
    else c = C;
    if (nb_determines < 4)
      d = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, b, c])
      );
    else d = D;
    if (nb_determines < 5)
      e = parseInt(choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20]));
    else e = E;
    tirage.push(a, b, c, d, e);
    nombres_restants = shuffle(tirage);
    operations_restantes = ["\\times", "+", "-", "\\div"];
    operations_restantes = shuffle(operations_restantes);
    expression_en_cours_f = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];
    expression_en_cours_d = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];

    while (nombres_restants.length > 1) {
      b = nombres_restants.pop();
      a = nombres_restants.pop();
      part2_f = expression_en_cours_f.pop();
      part1_f = expression_en_cours_f.pop();
      part2_d = expression_en_cours_d.pop();
      part1_d = expression_en_cours_d.pop();

      op = operations_restantes.pop();
      if (op == "\\times") {
        c = a * b;
        expression_en_cours_f.push(`${part1_f}${op}${part2_f}`);
        expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
        nombres_restants.push(c);
      } else if (op == "\\div") {
        if (a % b == 0) {
          c = a / b;
          if (part1_f[0] == "\\") {
            part1_f = part1_f.substring(6, part1_f.length);
            part1_f = part1_f.substring(0, part1_f.length - 7);
          }
          if (part2_f[0] == "\\") {
            part2_f = part2_f.substring(6, part2_f.length);
            part2_f = part2_f.substring(0, part2_f.length - 7);
          }
          expression_en_cours_f.push(`\\dfrac{${part1_f}}{${part2_f}}`);
          expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
          nombres_restants.push(c);
        } else break;
      } else if (op == "-") {
        if (a > b) {
          c = a - b;
          expression_en_cours_f.push(
            `\\left(${part1_f}${op}${part2_f}\\right)`
          );
          expression_en_cours_d.push(
            `\\left(${part1_d}${op}${part2_d}\\right)`
          );
          nombres_restants.push(c);
        } else break;
      } else if (op == "+") {
        c = a + b;
        if (part2_f.substring(0, 2) == "\\l") {
          part2_f = part2_f.substring(6, part2_f.length);
          part2_f = part2_f.substring(0, part2_f.length - 7);
        }
        expression_en_cours_f.push(`\\left(${part1_f}${op}${part2_f}\\right)`);
        if (part2_d.substring(0, 2) == "\\l") {
          part2_d = part2_d.substring(6, part2_d.length);
          part2_d = part2_d.substring(0, part2_d.length - 7);
        }
        expression_en_cours_d.push(`\\left(${part1_d}${op}${part2_d}\\right)`);
        nombres_restants.push(c);
      }
      operations_successives.push(`${a}` + op + `${b}=${c}`);
    }

    if (nombres_restants.length == 1 && operations_restantes.length == 0) {
      solution = nombres_restants[0];
      if (solution >= min && solution <= max) {
        eureka = true;
        if (
          expression_en_cours_f[0][0] == "\\" &&
          expression_en_cours_f[0][1] == `l`
        ) {
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            6,
            expression_en_cours_f[0].length
          );
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            0,
            expression_en_cours_f[0].length - 7
          );
        }
        if (
          expression_en_cours_d[0][0] == "\\" &&
          expression_en_cours_d[0][1] == `l`
        ) {
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            6,
            expression_en_cours_d[0].length
          );
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            0,
            expression_en_cours_d[0].length - 7
          );
        }
        return [
          tirage,
          solution,
          operations_successives,
          expression_en_cours_f,
          expression_en_cours_d,
        ];
      } else operations_successives = [];
    } else operations_successives = [];
  }
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * Référence 6N10
 */

function Ecrire_nombres_entiers() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 3
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles;
    if (this.sup2==1) type_de_questions_disponibles=[1,1,1,2,2]
    else if (this.sup2==2) type_de_questions_disponibles=[1,2,2,2,3]
    else if (this.sup2==3)  type_de_questions_disponibles=[2,2,3,3,4]
    else type_de_questions_disponibles=[2,3,3,4,4]

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
      }
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(nombre)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(nombre)} : \\dotfill`
        else texte = `${nombreEnLettres(nombre)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(nombre)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Niveau', 4, '1 : Élémentaire\n2 : Facile\n3 : Moyen\n4 : Difficile']
}

/**
 * 6N10-4
 * Supprimer les zéros inutiles, séparer les classes d'un nombre entier.
 * @Auteur Jean-Claude Lhote
 */
function Ecrire_nombres_entiers_formates() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire correctement les grands nombres entiers."
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 2
  this.nouvelle_version = function (numero_de_l_exercice) {
  this.consigne=`Écrire les nombres en chiffres en supprimant les zéros inutiles et en séparant les classes.`
  this.liste_questions = []; // Liste de questions
  this.liste_corrections = []; // Liste de questions corrigées 
  function zeroSuperflus(n) {
    let nzero=randint(0,2),nombrestring=n.toString()
    for (let k=0;k<nzero;k++) nombrestring=`0`+nombrestring
    return nombrestring
  }
  for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,nombrestring, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < 3; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < 3; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[2]==0) nombre=0
      }
      nombrestring=zeroSuperflus(nombre)
        if (!est_diaporama) texte = `$${nombrestring}$ : \\dotfill`
        else texte =`$${nombrestring}$`
       if (!est_diaporama) texte_corr = `$${nombrestring}=${tex_nombre(nombre)}$.`
       else texte_corr = `${tex_nombre(nombre)}.`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  //this.besoin_formulaire2_numerique = ['Niveau', 3, '1 : Facile\n2 : Moyen\n3 : Difficile']
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * 6N23-0
 */

function Ecrire_nombres_decimal() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre décimal en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 1
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles = [parseInt(this.sup2)+1]; // <1 000, <1 000 000) 
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,part_ent,part_dec,nb_dec, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        part_ent=0
        part_dec=0
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 1; j < liste_type_de_questions[i]; j++) {
          part_ent+= tranche[j] * 10 ** ((j-1)*3)
         // nombre += tranche[j] * 10 ** ((j-1)*3)
        }
        part_dec=tranche[0]
        nombre=calcul(part_ent+part_dec/1000)
        // if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
        if (tranche[1]<2) nombre=0
        if (tranche[0]==0) nombre=0
        
      }
      if (part_dec%10!=0) nb_dec=3
      else if (part_dec%100!=0) nb_dec=2
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : \\dotfill`
        else texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      texte=texte.replace('et-un unités','et-une unités')
      texte_corr=texte_corr.replace('et-un unités','et-une unités')
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Classe maximum', 2, '1 : Unités\n2 : Milliers']
}

/**
 * Le nombre de dizaines, centaines et milliers étant donné, il faut écrire le nombre.
 *
 * 2 fois sur 5 il y a chevauchement entre les classes
 * @Auteur Rémi Angot
 * 6N10-1
 */
function Exercice_numeration_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Écrire un nombre à partir de son nombre de dizaines, de centaines, de milliers...";
  this.consigne = "Écrire en chiffres chacun des nombres.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 2, 2],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, rang_a, rang_b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 8) * 10 + randint(1, 5);
      b = randint(2, 8) * 10 + randint(1, 5);
      let rangs = [
        "unités",
        "dizaines",
        "centaines",
        "milliers",
        "dizaines de mille",
        "centaines de mille",
        "millions",
      ];
      rang_a = randint(0, 2);
      if (liste_type_de_questions[i] == 1) {
        rang_b = randint(rang_a + 2, 6);
      } else {
        rang_b = rang_a + 1;
      }

      texte = `$\\text{${b}  ${rangs[rang_b]} et ${a} ${rangs[rang_a]}}$`;
      texte_corr = `$${b} \\text{ ${rangs[rang_b]} et }${a} \\text{ ${
        rangs[rang_a]
      } : } ${tex_nombre(b*Math.pow(10, rang_b))} + ${a*tex_nombre(Math.pow(10, rang_a))} =${tex_nombre(
        b * Math.pow(10, rang_b) + a * Math.pow(10, rang_a)
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Des questions sur le nombre ou le chiffre de centaines, de dizaines, de dixièmes, de centièmes...
 * @Auteur Rémi Angot
 * Référence 6N10-2
 */
function Decomposition_nombre_decimal() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Décomposer un nombre décimal (nombre de..., chiffre de...)";
  this.consigne = "Compléter les phrases suivantes.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      1,
      2,
      choice([3, 4, 5]),
      choice([6, 7, 8]),
      choice([9, 10]),
      choice([11, 12]),
    ]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let m = randint(1, 9); // le nombre sera le même pour tout l'exercice
    let c = randint(0, 9, [m]);
    let d = randint(0, 9, [m, c]);
    let u = randint(0, 9, [m, c, d]);
    let di = randint(0, 9, [m, c, d, u]);
    let ci = randint(0, 9, [m, c, d, u, di]);
    let mi = randint(1, 9, [m, c, d, u, di, ci]);
    let n =
      m.toString() +
      "" +
      c.toString() +
      d.toString() +
      u.toString() +
      "," +
      di.toString() +
      ci.toString() +
      mi;
    //calcul ne semble pas marcher avec 7 chiffres significatifs
    this.consigne = `On considère le nombre $${n}$. Compléter les phrases suivantes.`;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          texte = "La partie entière de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(m * 1000 + c * 100 + d * 10 + u)}$`;
          break;
        case 2:
          texte = "La partie décimale de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(di / 10 + ci / 100 + mi / 1000)}$`;
          break;
        case 3:
          texte = "Le chiffre des dizaines de ce nombre est : ";
          texte_corr = texte + `$${d}$`;
          break;
        case 4:
          texte = "Le chiffre des centaines de ce nombre est : ";
          texte_corr = texte + `$${c}$`;
          break;
        case 5:
          texte = "Le chiffre des miliers de ce nombre est : ";
          texte_corr = texte + `$${m}$`;
          break;
        case 6:
          texte = "Le chiffre des dixièmes de ce nombre est : ";
          texte_corr = texte + `$${di}$`;
          break;
        case 7:
          texte = "Le chiffre des centièmes de ce nombre est : ";
          texte_corr = texte + `$${ci}$`;
          break;
        case 8:
          texte = "Le chiffre des millièmes de ce nombre est : ";
          texte_corr = texte + `$${mi}$`;
          break;
        case 9:
          texte = "Le nombre de dizaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(d + c * 10 + m * 100)}$`;
          break;
        case 10:
          texte = "Le nombre de centaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(c + m * 10)}$`;
          break;
        case 11:
          texte = "Le nombre de dixièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(di + u * 10 + d * 100 + c * 1000 + m * 10000)}$`;
          break;
        case 12:
          texte = "Le nombre de centièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(
              ci + di * 10 + u * 100 + d * 1000 + c * 10000 + m * 100000
            )}$`;
          break;
      }

      texte_corr += ".";
      texte += "\\ldots";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * 100-...=
 * @Auteur Rémi Angot
* Référence CM012
 */
function Complement_a_100() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à 100";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(11, 89);
      texte = `$100-${a}$`;
      texte_corr = `$100-${a}=${100 - a}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Une soustraction dont le premier terme est un multiple de 10
 * @Auteur Rémi Angot
 * Référence CM013
*/
function Complement_a_une_dizaine() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à une dizaine";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 9) * 10;
      b = randint(2, a - 11);
      texte = `$${a}-${b}$`;
      texte_corr = `$${a}-${b}=${a - b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Division d'un entier par 10, 100, 1000
 * @Auteur Rémi Angot
 * Référence CM016
*/
function Diviser_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un entier par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([randint(1, 9), randint(11, 99), randint(101, 999)]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Un entier à un 1 ou 2 chiffres, un nombre décimal avec une partie décimale à un ou 2 chiffres à diviser par 10, 100 ou 1000
 * @Auteur Rémi Angot
 * Référence CM017
*/
function Diviser_decimal_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un nombre décimal par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([
        randint(1, 9),
        randint(11, 99),
        calcul(randint(11, 99) / 10),
        calcul(randint(101, 999) / 100),
        calcul(randint(1, 9) / 10),
      ]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer la moitié d'un nombre pair, d'un impair inférieur à 20, d'un multiple de 200, d'un nombre de la forme a00 avec a impair, d'un nombre de la forme
 *  a,b avec a et b pairs ou 1xx avec xx un nombre pair
 * @Auteur Rémi Angot
 * Référence CM009
*/
function Moitie() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Moitié";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(6);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 2
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 2: // Impair inférieur à 20
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2 + 1}$`;
          texte_corr = `$\\text{La moitié de }${
            a * 2 + 1
          } \\text{ est } ${tex_nombrec(a + 5 / 10)}$`;
          break;
        case 3: // Table de 200
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre(a * 2 * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            a * 2 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // a00 avec a impair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre((a * 2 + 1) * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            (a * 2 + 1) * 100
          )} \\text{ est } ${tex_nombre(a * 100 + 50)}$`;
          break;
        case 5: // a,b avec a et b pairs
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
        case 6: // 1xx avec xx un nombre pair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${100 + a * 2}$`;
          texte_corr = `$\\text{La moitié de }${100 + a * 2} \\text{ est } ${
            50 + a
          }$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le tiers d'un multiple de 3, d'un multiple de 300, d'un multiple de 30 ou d'un nombre a,b avec a et b multiples de 3
 * @Auteur Rémi Angot
* Référence CM010
 */
function Tiers() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tiers";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 3
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
        case 2: // Table de 300
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 3: // Table de 30
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 10)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 4: // a,b avec a et b divisibles par 3
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombrec(a * 3 + (b * 3) / 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombrec(
            a * 3 + (b * 3) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le quart d'un multiple de 4, d'un impair, d'un multiple de 400, d'un multiple de 40, d'un nombre a,b avec a et b multiples de 4
 * @Auteur Rémi Angot
 * Référence CM011
*/
function Quart() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Quart";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(5);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 4
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${a * 4}$`;
          texte_corr = `$\\text{Le quart de }${a * 4} \\text{ est } ${a}$`;
          break;
        case 2: // Impair
          a = randint(2, 9);
          b = choice([1, 2, 3]);
          texte = `$\\text{Le quart de }${a * 4 + b}$`;
          texte_corr = `$\\text{Le quart de }${
            a * 4 + b
          } \\text{ est } ${tex_nombrec(a + b / 4)}$`;
          break;
        case 3: // Table de 400
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // Table de 40
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 10)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 5: // a,b avec a et b divisibles par 4
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombrec(a * 4 + (b * 4) / 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombrec(
            a * 4 + (b * 4) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le double ou le triple d'un nombre, calculer la moitié d'un nombre pair ou le tiers d'un multiple de 3
 * @Auteur Rémi Angot
* Référence CM014
 */
function Double_moitie_tiers_triple() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Double, moitié, tiers, triple";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Double
          a = randint(2, 9);
          texte = `$\\text{Le double de }${a}$`;
          texte_corr = `$\\text{Le double de }${a} \\text{ est } ${a * 2}$`;
          break;
        case 2: // Moitié
          a = randint(2, 9) * 2;
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 3: // Triple
          a = randint(2, 9);
          texte = `$\\text{Le triple de }${a}$`;
          texte_corr = `$\\text{Le triple de }${a} \\text{ est } ${a * 3}$`;
          break;
        case 4: // Tiers
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Les 2 facteurs peuvent terminer par aucun, 1, 2 ou 3 zéros
 * @Auteur Rémi Angot
* Référence 6C10-2
 */
function Exercice_tables_de_multiplications_et_multiples_de_10(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et multiples de 10";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, texte, texte_corr, melange;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      if (a > 1) {
        k1 = choice([1, 10, 100, 1000]);
      } else {
        k1 = choice([10, 100, 1000]);
      }
      k2 = choice([1, 10, 100, 1000]);
      a = k1 * a;
      b = k2 * b;
      melange = randint(0, 1);
      if (melange == 1) {
        // échange a et b pour que les multiplications ne soient pas toujours dans le même ordre (surtout lorsque tables n'a qu'un seul élément)
        let c = a;
        a = b;
        b = c;
      }

      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a * b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Multiplier deux nombres décimaux
 * @Auteur Rémi Angot
 * Référence 6C10-3
 */
function Exercice_tables_de_multiplications_et_decimaux(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et nombres décimaux";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, couple, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      couple = choice([
        [1, 10],
        [1, 100],
        [1, 1000],
        [10, 100],
        [10, 1000],
        [100, 100],
        [100, 1000],
      ]);
      k1 = couple[0];
      k2 = couple[1];
      a = Algebrite.eval(a / k1);
      b = Algebrite.eval(b / k2);
      if (a == 1) {
        a = 0.01;
      }
      if (b == 1) {
        b = 0.1;
      }
      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(Algebrite.eval(a * b)) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Additionner deux entiers
 * @Auteur Rémi Angot
 * Référence 6C10-4
 */
function Exercice_tables_d_additions(max = 20) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Addition de deux entiers";
  this.consigne = "Calculer";
  this.sup = max; // Le paramètre accessible à l'utilisateur sera la valeur maximale
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);
      texte = "$ " + tex_nombre(a) + " + " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " + " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a + b) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Simplifier une fraction, le facteur commun est inférieur à une valeur donnée en paramètre qui est 11 par défaut
 * @Auteur Rémi Angot
 *  5N13
 */
function Exercice_fractions_simplifier(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = max; // Correspond au facteur commun
  this.titre = "Simplification de fractions";
  this.consigne = "Simplifier les fractions suivantes.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    for (
      let i = 0, fraction, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      fraction = choice(liste_fractions); //
      a = fraction[0];
      b = fraction[1];
      k = randint(2, this.sup);
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même réponse
      texte =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction("\\phantom{00000000000000}", "") +
        " = " +
        tex_fraction("\\phantom{0000}", "") +
        " $";
      texte_corr =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction(k + " \\times " + a, k + " \\times " + b) +
        " = " +
        tex_fraction(a, b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Valeur maximale du facteur commun",
    99999,
  ];
}

/**
 * Écrire une fraction avec un nouveau dénominateur qui est un multiple de son dénominateur (ce multiple est inférieur à une valeur maximale de 11 par défaut)
 * @Auteur Rémi Angot
 * 5N13-2 et 6N41
 */
function Egalites_entre_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 11; // Correspond au facteur commun
  this.titre = "Égalités entre fractions simples";
  this.consigne = "Compléter les égalités.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 1, 2],
      this.nb_questions
    );
    for (
      let i = 0, fraction, a, b, c, d, k, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      if (liste_type_de_questions[i] == 1) {
        // égalité entre 2 fractions
        fraction = choice(liste_fractions); //
        a = fraction[0];
        b = fraction[1];
        k = randint(2, this.sup);
        c = k * a;
        d = k * b;
        enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même fraction de départ
        texte = `$${tex_fraction(a, b)} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${tex_fraction(a, b)} = ${tex_fraction(
          a + mise_en_evidence("\\times" + k),
          b + mise_en_evidence("\\times" + k)
        )} = ${tex_fraction(c, d)}$`;
      } else {
        //écrire un entier sous la forme d'une fraction
        a = randint(1, 9);
        d = randint(2, 9);
        c = a * d;
        texte = `$${a} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${a} = \\dfrac{${a}}{1} =${tex_fraction(
          a + mise_en_evidence("\\times" + d),
          "1" + mise_en_evidence("\\times" + d)
        )} = ${tex_fraction(c, d)}$`;
      }

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale du facteur commun", 99];
}

/**
 * Un nombre est-il divisible par :
 *
 * * 2, 5, 10 ?
 * * 3, 9 ?
 * * 2, 3, 5, 9, 10 ?
 * * 2, 3, 5, 9, 10  et un autre nombre qui peut être 7, 13, 17, ou 19 ?
 * @Auteur Rémi Angot
 * 6N43
 */
function Criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne = "Répondre aux questions suivantes en justifiant.";
  this.spacing = 2;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_des_exercices_disponibles;
    if (this.sup == 1) {
      liste_des_exercices_disponibles = [2, 5, 10];
    }
    if (this.sup == 2) {
      liste_des_exercices_disponibles = [3, 9];
    }
    if (this.sup == 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10];
    }
    if (this.sup > 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10, "autre"];
    }
    let liste_type_de_questions = combinaison_listes(
      liste_des_exercices_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, fraction, n, u, texte, texte_corr, somme_string, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 2:
          u = randint(1, 2);
          n = randint(10, 999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $2$ ?`;
          if (u % 2 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $2$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $2$.`;
          }
          break;

        case 3:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $3$ ?`;
          if (calcul(somme_string) % 3 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              calcul(somme_string) / 3
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $3$ donc $${tex_nombre(
              n
            )}$ est divisible par $3$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              (calcul(somme_string) - (calcul(somme_string) % 3)) / 3
            }+${calcul(somme_string) % 3}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$.`;
          }
          break;

        case 9:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $9$ ?`;
          if (calcul(somme_string) % 9 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              calcul(somme_string) / 9
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $9$ donc $${tex_nombre(
              n
            )}$ est divisible par $9$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              (calcul(somme_string) - (calcul(somme_string) % 9)) / 9
            }+${calcul(somme_string) % 9}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$.`;
          }
          break;

        case 5:
          u = choice([randint(1, 9, [0, 5]), randint(1, 9, [0, 5]), 5, 0]); // 1 fois sur 2 ça sera divisible par 5
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $5$ ?`;
          if (u % 5 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $5$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $5$.`;
          }
          break;

        case 10:
          u = choice([randint(1, 9), 0]); // 1 fois sur 2 ça sera divisible par 10
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $10$ ?`;
          if (u == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $10$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $10$.`;
          }
          break;

        case "autre":
          n = randint(100, 999);
          u = choice([7, 7, 7, 7, 13, 17, 19]);
          if (u == 7) {
            n = choice(
              [randint(10, 99) * 10 + 7],
              7 * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par 7, un divisible par 7, un au hasard
          } else {
            n = choice(
              [randint(10, 99) * 100 + u],
              u * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par u, un divisible par u, un au hasard
          }
          texte = `$${tex_nombre(n)}$ est-il divisible par $${u}$ ?`;
          texte_corr = `On ne connait pas de critère de divisibilité par $${u}$, on calcule donc la division euclidienne de $${tex_nombre(
            n
          )}$ par $${u}$.<br>`;
          if (n % u == 0) {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${tex_nombre(
              n / u
            )}$<br>`;
            texte_corr += `Le reste de la division euclidienne est nul donc $${tex_nombre(
              n
            )}$ est divisible par $${u}$.`;
          } else {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${(n - (n % u)) / u}+${
              n % u
            }$<br>`;
            texte_corr += `Le reste de la division euclidienne n'est pas nul donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $${u}$.`;
          }

          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Choix des questions",
    4,
    "1 : Critères de divisibilité par 2, 5, 10\n\
2 : Critères de divisibilité par 3,9\n3 : Critères de divisibilité par 2, 3, 5, 9, 10\n4 : Avec ou sans critère de divisibilité",
  ];
}

/**
 * Un nombre est-il divisible par 2, 3, 5, 9 ?
 *
 *
 * @Auteur Rémi Angot
 * 6N43-2
 */
function Tableau_criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne =
    "Compléter le tableau en mettant oui ou non dans chaque case.";
  this.spacing = 1;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_des_nombres_possibles = [
      "div2",
      "div3",
      "div39",
      "div5",
      "div25",
      "div23",
      "div239",
      "div35",
      "div2359",
      "divrien",
    ];
    // divisible par 2, divisible par 3, divisible par 3 et 9...

    let liste_des_types_de_nombres = combinaison_listes(
      liste_des_nombres_possibles,
      this.nb_questions
    );
    let tableau_de_nombres = [];
    let tableau_de_nombres_avec_correction = [];
    let liste_de_facteurs = [
      7,
      11,
      13,
      17,
      19,
      23,
      29,
      31,
      37,
      41,
      43,
      47,
      53,
      59,
      61,
      67,
      71,
      73,
      79,
      83,
      89,
      97,
      101,
      103,
      107,
      109,
      113,
      127,
      131,
      137,
      139,
      149,
      151,
      157,
      163,
      167,
      173,
      179,
      181,
      191,
      193,
      197,
      199,
      211,
      223,
      227,
      229,
      233,
      239,
      241,
      251,
      257,
      263,
      269,
      271,
      277,
      281,
      283,
      293,
    ];
    for (let i = 0; i < this.nb_questions; i++) {
      switch (liste_des_types_de_nombres[i]) {
        case "div2":
          tableau_de_nombres[i] = 2 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div3":
          tableau_de_nombres[i] = 3 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div39":
          tableau_de_nombres[i] = 9 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div5":
          tableau_de_nombres[i] = 5 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div25":
          tableau_de_nombres[i] = 10 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div23":
          tableau_de_nombres[i] = 6 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div239":
          tableau_de_nombres[i] = 18 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div35":
          tableau_de_nombres[i] = 15 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div2359":
          tableau_de_nombres[i] = 90 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "divrien":
          tableau_de_nombres[i] = choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
      }
    }

    if (sortie_html) {
      texte = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }

    texte += `\\hline\n`;
    texte += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte += `${tex_nombre(tableau_de_nombres[i])} & & & & \\\\\n`;
      texte += `\\hline\n`;
    }

    texte += `\\end{array}\n$`;

    if (sortie_html) {
      texte_corr = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte_corr = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }
    texte_corr += `\\hline\n`;
    texte_corr += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte_corr += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte_corr += tableau_de_nombres_avec_correction[i];
      texte_corr += `\\hline\n`;
    }

    texte_corr += `\\end{array}$\n`;

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Exercice sur la notion de proportionnalité (ou pas)
 * @Auteur Jean-Claude Lhote
 * référence 6P10
 */
function Proportionnalite_pas_proportionnalite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Reconnaître une situation de proportionnalité";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1.4;
  sortie_html ? this.spacing_corr = 1.5 : this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;
  this.nb_cols = 1;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_choix_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_choix = combinaison_listes(
      liste_choix_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    let tirages = [[]];
    let index3 = [];
    let villes = ["Moscou", "Berlin", "Paris", "Bruxelles", "Rome", "Belgrade"];
    let verbes = [
      "double",
      "triple",
      "quadruple",
      "est multiplié par 5",
      "est multiplié par 6",
    ];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "canetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];

    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        choix,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_choix[i]) {
        case 1:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle  repart avec ${y} ${objet} pour $${tex_prix(
            somme
          )}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombre(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€ $=${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€.<br>`;
          texte_corr += `A l'aide de ces données, on constate que le prix des ${objet} et leur quantité sont tous les deux multipliés par le même nombre, donc ces deux grandeurs sont proportionnelles.<br>`;
          break;
        case 2:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          pu -= 0.1;
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle a obtenu ${y} ${objet} pour $${tex_prix(somme)}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombrec(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€.<br>Mais $${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€ $=${tex_prix(
            calcul((p * somme) / y)
          )}$€.<br>`;
          texte_corr += `À l'aide de ces données, on constate que le prix unitaire des ${objet} n'est pas le même pour ${prenoms[0]} qui en a acheté $${y}$ que pour ${prenoms[1]} qui en a acheté ${p}, donc ces deux grandeurs ne sont pas proportionnelles.<br>`;
          break;
        case 3:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = randint(5, 20, x) * 100;
          x = x * 100;
          n = arrondi(calcul((x / 60) * (1 + randint(0, 2) * 0.2)), 0);
          p = arrondi(calcul((y / 60) * (1 + randint(0, 2) * 0.2)), 0);
          index1 = calcul(x / n); //vitesse fille
          index2 = calcul(y / p); //vitesse garçon

          texte = `${prenoms[0]} habite à $${tex_nombre(x)}$ m du collège. Elle met ${n} minutes pour s'y rendre depuis chez elle.<br>`;
          texte += `${prenoms[1]}, lui, habite à $${tex_nombre(y)}$ m du collège. Il met ${p} minutes pour s'y rendre depuis chez lui.<br>`;
          texte += `Le temps mis pour venir au collège est-il proportionnel à la distance du foyer au collège ?<br>`;
          texte_corr = `${prenoms[0]} parcourt chaque minute environ $${tex_nombrec(arrondi(index1, 1))}$ m.<br>`;
          texte_corr += `${
            prenoms[1]
          } parcourt chaque minute environ $${tex_nombrec(arrondi(index2, 1))}$ m.<br>`;
          if (index1 == index2)
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue sont proportionnelles (si l'on compare leur vitesse moyenne)`;
          else
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue ne sont pas proportionnelles (si l'on compare leur vitesse moyenne).<br>`;
          break;
        case 4:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = x + randint(25, 35);
          texte = `${prenoms[0]} vient d'avoir ${x} ans cette année. Son père ${prenoms[1]} vient de fêter  son ${y}ème anniversaire.<br>`;
          texte += `L'âge de son père est-il proportionnel à l'âge de ${prenoms[0]} ?<br>`;
          texte_corr = `Aujourd'hui la différence d'âge entre ${
            prenoms[0]
          } et ${prenoms[1]} est de ${y - x} ans.<br>`;
          texte_corr += `Dans ${x} années, ${prenoms[0]} aura ${
            2 * x
          } ans, c'est à dire le double d'aujourd'hui.<br>`;
          texte_corr += `Son père ${prenoms[1]} aura ${
            x + y
          } ans cette année-là.<br>Quand l'âge de ${
            prenoms[0]
          } double, l'âge de ${prenoms[1]} ne double pas, donc l'âge de ${
            prenoms[0]
          } et l'âge de son père ne sont pas propotionnels.<br>`;
          break;
        case 5:
          index1 = randint(0, 5);
          index2 = randint(0, 4);
          texte = `Une épidémie se répand dans la ville de ${villes[index1]}.<br>`;
          texte += `Le nombre de malades ${verbes[index2]} tous les ${
            index2 + 2
          } jours.<br>`;
          texte += `Le nombre de malades est-il proportionnel au nombre de jours passés depuis le début de l'épidémie ?<br>`;
          texte_corr = `Admettons qu'il y ait 10 malades le premier jour. Le ${
            1 + 2 + index2
          }ème jour il y aura $10 \\times ${index2 + 2} = ${
            10 * (index2 + 2)
          }$ malades.<br>`;
          texte_corr += `Entre le premier jour et le ${
            3 + index2
          }ème jour, le nombre de malades est multiplié par ${
            index2 + 2
          } mais le nombre de jours est multiplié par ${3 + index2}.<br>`;
          texte_corr += `Donc le nombre de malades n'est pas proportionnel au nombre de jours passés.<br>`;
          break;
        case 6:
          prenoms = [prenomF(), prenomM()];
          index1 = randint(0, 5);
          objet = liste_de_choses[4][index1];
          index2 = randint(0, 4);
          pu =
            liste_de_prix_unit[4][index1] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          n = randint(2, 6);
          p = randint(0, 3);
          tirages[0] = [n, n * pu];
          tirages[1] = [n + 1, (n + 1) * pu];
          tirages[2] = [2 * n + 1, (2 * n + 1) * pu];
          tirages[3] = [3 * n + 3, (3 * n + 3) * pu];
          met = choice([true, false]);
          if (!met) tirages[p][1] -= 0.1;
          texte = `${prenoms[1]} relève les prix des ${objet} sur un catalogue par correspondance en fonction de la quantité saisie dans le panier<br>`;
          texte += `Il note les prix dans le tableau suivant :<br> <br>`;
          texte += `$\\def\\arraystretch{1.5}\\begin{array}{|c`; // construction du tableau des effectifs en un seul morceau
          for (let j = 0; j <= tirages.length; j++) texte += `|c`;
          texte += `|}\\hline  \\text{${objet}}`;
          for (let j = 0; j < tirages.length; j++) texte += `&${tirages[j][0]}`;
          texte += `\\\\\\hline \\text{Prix (en €})`;
          for (let j = 0; j < tirages.length; j++)
            texte += `&${tex_prix(arrondi(tirages[j][1], 2))}`;
          texte += `\\\\\\hline\\end{array}$<br> <br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quatité achetée ?<br>`;
          texte_corr = `Il faut calculer le prix unitaire des ${objet} dans chaque cas de figure :<br><br>`;
          if (met) index3 = range(3);
          else index3 = range(3, [p]);
          texte_corr += `$`;
          for (let j = 0; j < index3.length; j++) {
            texte_corr += `\\dfrac{${tex_prix(
              arrondi(tirages[index3[j]][1], 2)
            )}}{${tirages[index3[j]][0]}}=`;
          }
          texte_corr += `${tex_prix(pu)}$<br><br>`;
          if (!met) {
            texte_corr += `Mais $\\dfrac{${tex_prix(
              arrondi(tirages[p][1], 2)
            )}}{${tirages[p][0]}}=${tex_prix(
              arrondi(calcul(tirages[p][1] / tirages[p][0]), 2)
            )}$€/${objet.substring(0, objet.length - 1)}<br>`;
            texte_corr += `Le prix des ${objet} n'est pas proportionnel à leur nombre.<br>`;
          } else {
            texte_corr += `Le prix des ${objet} est bien proportionnel à leur nombre.<br>`;
          }
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * On donne une relation de proportionnalité du type n objets coûtent x€ et on demande le prix de y objets
 * et le nombre d'objets qu'on peut acheter avec z€.
 * @Auteur Jean-Claude Lhote
 * référence 6P11
*/
function Proportionnalite_par_linearite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Résoudre des problèmes de proportionnalité en utilisant la linéarité simple";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? (this.spacing = 2) : (this.spacing = 1);
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "cannetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];
    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      index1 = liste_index[i];
      prenoms = [prenomF(), prenomM()];
      index2 = randint(0, liste_de_choses[index1].length - 1);
      objet = liste_de_choses[index1][index2];
      pu =
        liste_de_prix_unit[index1][index2] *
        (1 + randint(1, 2) * 0.2 * randint(-1, 1));
      n = randint(3, 6);
      y = n * randint(2, 5);
      x = calcul(n * pu, 2);
      somme = calcul(y * pu, 2);
      met = false;
      while (met == false) {
        p = n * randint(2, 5);
        if (p != y) met = true;
      }
      z = calcul(p * pu, 2);

      texte = `${prenoms[0]} a repéré ${liste_de_lieux[index1]} des ${objet} qui l\'intéressent.<br> `;
      texte += `Elle lit que ${n} ${objet} coûtent ${tex_prix(x)} €. `;
      texte += `Elle veut en acheter ${y}.<br> Combien va-t-elle dépenser ?<br>`;
      texte_corr = `${y} ${objet}, c'est ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}.<br> Si ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coûtent ${tex_prix(x)} €, alors ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coutent ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${tex_prix(x)} €.<br>`;
      texte_corr += `Donc ${prenoms[0]} dépensera ${texte_en_couleur(
        tex_nombrec(y / n)
      )} $\\times$ ${tex_prix(x)} € = ${tex_prix(somme)} €.<br>`;
      texte += `${
        prenoms[1]
      } veut lui aussi acheter ces ${objet}. Il dispose de ${tex_prix(
        z
      )} €.<br> Combien peut-il en acheter ?<br>`;
      texte_corr += `${tex_prix(z)} €, c'est ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €.<br> Si avec ${tex_prix(
        x
      )} € on peut acheter ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}, alors avec ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €, on peut acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${texte_en_couleur(n, "blue")} ${objet}.<br>`;
      texte_corr += `Donc ${prenoms[1]} pourra acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} $\\times$ ${texte_en_couleur(n, "blue")} = ${p} ${objet}.<br>`;
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.
 * @Auteur Rémi Angot
 * 6N20-2
 */
function Exercice_fractions_differentes_ecritures() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1 puis donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, cpt = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions && cpt < 50;

    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " =  $";
      texte_corr =
        "$ " +
        tex_fraction(a, b) +
        " = " +
        n +
        "+" +
        tex_fraction(c, b) +
        " = " +
        ed +
        " $";

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * @Auteur Rémi Angot
 * 6N20
 */
function Exercice_fractions_decomposer() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1).";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1.";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.sup = false; // Donner l'écriture décimale

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " $";
      texte_corr =
        "$ " + tex_fraction(a, b) + " = " + n + "+" + tex_fraction(c, b) + " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}
/**
 * 6N14
 * Représenter des fractions simples avec des disques partagés de façon adéquate.
 * @Auteur Jean-Claude Lhote
 */
function Representer_une_fraction() {
    Exercice.call(this); // Héritage de la classe Exercice()
    this.titre = "Représenter des fractions";
    this.consigne = "";
    this.nb_questions = 4;
    this.nb_cols = 2;
    this.nb_cols_corr = 2;
    this.sup = 3;
  
    this.nouvelle_version = function (numero_de_l_exercice) {
      this.liste_questions = []; // Liste de questions
      this.liste_corrections = []; // Liste de questions corrigées
      let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
      ppc=20
        if (sortie_html) {
          sc=0.5
        } else {
          sc=0.4
        }
  
      let  params = {
        xmin: -2.2,
        ymin: -2.2,
        xmax: 18,
        ymax: 3,
        pixelsParCm: ppc,
        scale: sc,
      },den,num,f
      
      let liste = combinaison_listes([2,3,4,5,6], this.nb_questions);
  
      for (
        let i = 0, texte, texte_corr, cpt = 0;
        i < this.nb_questions && cpt < 50;) {
        objets=[]
        den=liste[i]
        num=randint(1,den*3)
        f=fraction(num,den)
        texte=`Sachant qu'un disque représente une unité, représenter la fraction $${f.texFraction()}$ en coloriant la part correspondante.<br>`
        texte+=mathalea2d(params,fraction(den*3,den).representation(0,0,2,0,'gateau','white'))
        texte_corr =`Voici sur ces dessins, colorié en bleu, la part correspondante à la fraction $${f.texFraction()}$ :<br>`
        texte_corr += mathalea2d(params,f.representation(0,0,2,randint(0,den-1),'gateau','blue'))
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
    };
    this.besoin_formulaire_numerique = [
      "Type de cahier",
      3,
      `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
    ];

  
}

/**
 * Conversions de longueur en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De dam, hm, km vers m
 * * 2 : De dm, cm, mm vers m
 * * 3 : Conversions en mètres
 * * 4 : Toutes les conversions de longueurs
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions_de_longueurs(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de longueurs";
  this.consigne = "Compléter";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", 10],
      [" h", 100],
      [" k", 1000],
    ];
    let prefixe_div = [
      [" d", 10],
      [" c", 100],
      [" m", 1000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_unite1 = combinaison_listes([0,1,2,3,4,5,6],this.nb_questions)
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let type_de_questions
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i]; //Plutôt que de prendre un préfix au hasard, on alterne entre 10,100 et 1000
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";

        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = liste_unite1[i]
        let unite2 = randint(Math.max(0,unite1-3),Math.min(unite1+3,6),unite1)
        if (unite1>unite2){
          [unite1,unite2]=[unite2,unite1]
        }
        let ecart = unite2-unite1; // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : De dam, hm, km vers m\n\
2 : De dm, cm, mm vers m\n3 : Conversions en mètres\n4 : Toutes les conversions de longueurs",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions  mètres, litres, grammes, octets (et euros pour la version LaTeX) en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De da, h, k vers l'unité de référence
 * * 2 : De d, c, m vers l'unité de référence
 * * 3 : Multiplications ou divisions vers l'unité de référence
 * * 4 : Conversions d'octets
 * * 5 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre =
    "Conversions de longueurs, masses, contenance, prix ou unités informatiques";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.correction_avec_des_fractions = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", 10],
      ["h", 100],
      ["k", 1000],
    ]; //['M',1000000],['G',1000000000],['T',1000000000000]];
    let prefixe_div = [
      ["d", 10],
      ["c", 100],
      ["m", 1000],
    ]; //['$\\mu{}$',1000000]];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        unite,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        liste_unite_info = ["o", "ko", "Mo", "Go", "To"];
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir
        if (k < 2) {
          // Choix de l'unité
          unite = choice(["m", "L", "g"]);
        } else if (k == 2) {
          if (sortie_html) {
            unite = choice(["m", "L", "g"]); // pas de signe € pour KaTeX
          } else {
            unite = choice(["m", "L", "g", "€"]);
          }
        } else {
          unite = "o";
        }
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (
        div &&
        type_de_questions < 4 &&
        this.correction_avec_des_fractions
      ) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_fraction(tex_nombre(a), tex_nombre(prefixe_div[k][1])) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 1000 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : De da, h, k vers l'unité de référence\n\
2 : De d, c, m vers l'unité de référence\n3 : Multiplications ou divisions vers l'unité de référence\n4 : Conversions avec les octets\n5: Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'aires en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * Dans la correction, on montre que l'on multiplie ou divisie à 2 reprises par le coefficient donné par le préfixe
 *
 * * 1 : De dam², hm², km² vers m²
 * * 2 : De dm², cm², mm² vers m²
 * * 3 : Conversions en mètres-carrés
 * * 4 : Conversions avec des multiplications ou des divisions
 * * 5 : Conversions avec des ares, des centiares et des hectares
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M23
 */
function Exercice_conversions_aires(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions d'aires";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", "\\times10\\times10", 100],
      [" h", "\\times100\\times100", 10000],
      [" k", "\\times1~000\\times1~000", 1000000],
    ];
    let prefixe_div = [
      [" d", "\\div10\\div10", 100],
      [" c", "\\div100\\div100", 10000],
      [" m", "\\div1~000\\div1~000", 1000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 6) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 5);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i];
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        prefixe_multi = [
          [" da", "\\times10\\times10", 100],
          [" h", "\\times100\\times100", 10000],
          [" k", "\\times1~000\\times1~000", 1000000],
        ]; // On réinitialise cette liste qui a pu être modifiée dans le cas des ares
        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (div && type_de_questions < 4) {
        prefixe_div = [
          [" d", "\\div10\\div10", 100],
          [" c", "\\div100\\div100", 10000],
          [" m", "\\div1~000\\div1~000", 1000000],
        ];
        k = randint(0, 1); // Pas de conversions de mm^2 en m^2 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_div[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
        }
      } else if (type_de_questions == 5) {
        // Pour type_de_questions==5
        prefixe_multi = [
          ["ha", 10000],
          ["a", 100],
        ];
        k = randint(0, 1);
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    6,
    "1 : Conversions en m² avec des multiplications\n\
2 : Conversions en m² avec des divisions\n3 : Conversions en m² avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions\n\
5 : Conversions d'hectares et ares en m² \n6 : Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions de volumes.
 *
 * Dans la correction, on ne voit qu'une multiplication ou qu'un division pour obtenir le résultat
 *
 * * 1 : Conversions en mètres-cubes avec des multiplications
 * * 2 : Conversions en mètres-cubes avec des divisions
 * * 3 : Conversions en mètres-cubes avec des multiplications ou divisions
 * * 4 : Conversions avec des multiplications ou divisions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31
 */
function Exercice_conversions_volumes(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de volume";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", "10\\times10\\times10", 1000],
      ["h", "100\\times100\\times100", 1000000],
      ["k", "1~000\\times1~000\\times1~000", 1000000000],
    ];
    let prefixe_div = [
      ["d", "10\\div10\\div10", 1000],
      ["c", "100\\div100\\div100", 1000000],
      ["m", "1~000\\div1~000\\div1~000", 1000000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (div && type_de_questions < 4) {
        k = randint(0, 1); // Pas de conversions de mm^3 en m^3 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_multi[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        let multiplications_par_1000 = "";

        if (randint(0, 1) > 0) {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\times 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\times 1~000 \\times 1~000";
              break;
            case 3:
              multiplications_par_1000 =
                "\\times 1~000 \\times 1~000 \\times 1~000";
              break;
          }
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
        } else {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\div 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000";
              break;
            case 3:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000 \\div 1~000";
              break;
          }
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
        }
      }
      // else if(type_de_questions==5) { // Pour type_de_questions==5
      // 	prefixe_multi = [['L',0.001],['dL',0.0001],['cL',0.00001],['mL',0.000001]];
      // 	k = randint(0,1)
      // 	resultat = Algebrite.eval(a*prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
      // 	texte = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' = \\dotfill ' + tex_texte(unite)  + '^3' + '$';
      // 	texte_corr = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' =  ' + tex_nombre(a) + '\\times' + tex_nombre(prefixe_multi[k][1]) + tex_texte(unite)  + '^3'
      // 		 + ' = ' + tex_nombre(resultat) + tex_texte(unite)+ '^2' + '$';
      // }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Conversions en mètres-cubes avec des multiplications\n\
2 : Conversions en mètres-cubes avec des divisions\n3 : Conversions en mètres-cubes avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'unités de volumes vers les unités de capacité ou inversement.
 *
 * Dans la correction, on passe systématiquement par l'équivalence dm3 = L
 *
 * * 1 : De dam3, m3, dm3, cm3 ou mm3 vers L ou inversement
 * * 2 :
 * * 3 :
 * * 4 :
 * * 5 :
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31-2
 */
function Unites_de_volumes_et_de_capacite(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions avec des unités de volumes ou de capacités";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_questions = 8;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup == 1) {
      liste_type_de_questions = combinaison_listes(
        ["dam3toL", "m3toL", "dm3toL", "cm3toL"],
        this.nb_questions
      );
    }
    if (this.sup == 2) {
      liste_type_de_questions = combinaison_listes(
        ["Ltodm3", "Ltocm3", "Ltom3"],
        this.nb_questions
      );
    }
    if (this.sup == 3) {
      liste_type_de_questions = combinaison_listes(
        [
          "dam3toL",
          "m3toL",
          "dm3toL",
          "cm3toL",
          "mm3toL",
          "Ltodm3",
          "Ltocm3",
          "Ltom3",
        ],
        this.nb_questions
      );
    }
    let liste_de_n = [];
    if (this.sup2) {
      liste_de_n = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    } else {
      liste_de_n = combinaison_listes([1, 2, 3, 4, 5, 6], this.nb_questions);
    }
    for (
      let i = 0, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (this.sup2) {
        switch (liste_de_n[i]) {
          case 1:
            n = calcul(randint(2, 9) / 10);
            break;
          case 2:
            n = calcul(randint(11, 99) / 100);
            break;
          case 3:
            n = calcul(randint(1, 9) * 10 + randint(1, 9) / 10);
            break;
          case 4:
            n = calcul(
              randint(11, 99, [10, 20, 30, 40, 50, 60, 70, 80, 90]) / 100
            );
            break;
        }
      } else {
        switch (liste_de_n[i]) {
          case 1:
            n = randint(2, 9);
            break;
          case 2:
            n = randint(11, 99);
            break;
          case 3:
            n = randint(1, 9) * 10;
            break;
          case 4:
            n = randint(1, 9) * 100;
            break;
          case 5:
            n = randint(11, 99) * 100;
            break;
          case 6:
            n = randint(1, 9) * 1000;
            break;
        }
      }
      switch (liste_type_de_questions[i]) {
        case "dam3toL":
          texte = `$${tex_nombre(n)}~\\text{dam}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dam}^3=${tex_nombre(
            n
          )}\\times1~000\\times1~000~\\text{dm}^3=${tex_nombrec(
            n * 1000000
          )}~\\text{L}$`;
          break;
        case "m3toL":
          texte = `$${tex_nombre(n)}~\\text{m}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{m}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{dm}^3=${tex_nombrec(n * 1000)}~\\text{L}$`;
          break;
        case "dm3toL":
          texte = `$${tex_nombre(n)}~\\text{dm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dm}^3=${tex_nombre(
            n
          )}~\\text{L}$`;
          break;
        case "cm3toL":
          texte = `$${tex_nombre(n)}~\\text{cm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{cm}^3=${tex_nombre(
            n
          )}\\div 1~000~\\text{dm}^3=${tex_nombrec(n / 1000)}~\\text{L}$`;
          break;
        case "mm3toL":
          texte = `$${tex_nombre(n)}~\\text{mm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{mm}^3=${tex_nombre(
            n
          )}\\div1~000\\div 1~000~\\text{dm}^3=${tex_nombrec(
            n / 1000000
          )}~\\text{L}$`;
          break;
        case "Ltodm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{dm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3$`;
          break;
        case "Ltocm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{cm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{cm}^3=${tex_nombrec(n * 1000)}~\\text{cm}^3$`;
          break;
        case "Ltom3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{m}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(n)}\\div1~000~\\text{m}^3=${tex_nombrec(
            n / 1000
          )}~\\text{m}^3$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Unités de volume vers litre\n2 : Litre vers unités de volume\n3 : Unités de volumes vers litre ou inversement ",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Déterminer le périmètre et l'aire d'un carré, d'un rectangle, d'un triangle rectangle, d'un cercle
 *
 * * 1 : Carré, rectangle et triangle rectangle
 * * 2: Uniquement des cercles
 * * 3 : Les 4 sont demandés
 * @Auteur Rémi Angot
 */
function Exercice_perimetres_et_aires(difficulte = 1) {
  //Calculer le périmètre et l'aire de figures
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = difficulte;
  this.titre = "Calculs de périmètres et d'aires";
  this.consigne =
    "Pour chacune des figures, calculer son périmètre puis son aire (valeur exacte et si nécessaire valeur approchée au dixième près).";
  this.spacing = 1;
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let triplets_pythagoriciens = [
      [3, 4, 5],
      [6, 8, 10],
      [15, 8, 17],
      [24, 10, 26],
      [5, 12, 13],
      [12, 16, 20],
      [21, 20, 29],
      [9, 40, 41],
    ];
    let type_de_questions_disponibles = [
      "carre",
      "rectangle",
      "triangle_rectangle",
      "cercle",
    ];
    if (this.sup == 1) {
      enleve_element(type_de_questions_disponibles, "cercle");
      this.nb_cols = 1;
    } else if (this.sup == 2) {
      type_de_questions_disponibles = ["cercle"];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case "carre":
          let cote = randint(2, 11);
          let nom_carre = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un carré $${nom_carre}$ de $${cote}$ cm de côté .`;
          } else {
            texte = `Un carré $${nom_carre}$ tel que $${
              nom_carre[0] + nom_carre[1]
            } = ${cote}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_carre}}=4\\times${cote}~\\text{cm}=${
            4 * cote
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_carre}}=${cote}~\\text{cm}\\times${cote}~\\text{cm}=${
            cote * cote
          }~\\text{cm}^2$`;
          break;
        case "rectangle":
          let L = randint(3, 11);
          let l = randint(2, L - 1);
          let nom_rectangle = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un rectangle $${nom_rectangle}$ de $${L}$ cm de longueur et de $${l}$ cm de largeur.`;
          } else {
            texte = `Un rectangle $${nom_rectangle}$ tel que $${
              nom_rectangle[0] + nom_rectangle[1] + " = " + L
            }$ cm et $${nom_rectangle[1] + nom_rectangle[2] + " = " + l}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_rectangle}}=(${L}~\\text{cm}+${l}~\\text{cm})\\times2=${
            (L + l) * 2
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_rectangle}}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
            L * l
          }~\\text{cm}^2$`;
          break;
        case "triangle_rectangle":
          let triplet = choice(triplets_pythagoriciens);
          enleve_element(triplets_pythagoriciens, triplet);
          let a = triplet[0];
          let b = triplet[1];
          let c = triplet[2];
          let nom_triangle = creerNomDePolygone(3);
          if (choice([true, false])) {
            texte = `Un triangle $${nom_triangle}$ rectangle en $${
              nom_triangle[1]
            }$ tel que $${
              nom_triangle[0] + nom_triangle[1] + " = " + a
            }$ cm, $${nom_triangle[1] + nom_triangle[2] + " = " + b}$ cm\
 et $${nom_triangle[0] + nom_triangle[2] + " = " + c}$ cm.`;
          } else {
            texte = `Un triangle rectangle $${nom_triangle}$ a pour côtés : $${a}$ cm, $${c}$ cm et $${b}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_triangle}}=${a}~\\text{cm}+${b}~\\text{cm}+${c}~\\text{cm}=${
            a + b + c
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_triangle}}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${Algebrite.eval(
            (a * b) / 2
          )}~\\text{cm}^2$`;
          break;
        case "cercle":
          let R = randint(3, 11);
          let donne_le_diametre = choice([true, false]);
          if (donne_le_diametre) {
            texte = `Un cercle de $${2 * R}$ cm de diamètre.`;
            texte_corr = `Le diamètre est de $${
              2 * R
            }$ cm donc le rayon est de $${R}$~cm.<br>`;
          } else {
            texte = `Un cercle de $${R}$ cm de rayon.`;
            texte_corr = "";
          }

          texte_corr += `$\\mathcal{P}=2\\times${R}\\times\\pi~\\text{cm}=${
            2 * R
          }\\pi~\\text{cm}\\approx${arrondi_virgule(
            2 * R * Math.PI,
            1
          )}~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}=${R}\\times${R}\\times\\pi~\\text{cm}^2=${
            R * R
          }\\pi~\\text{cm}^2\\approx${arrondi_virgule(
            R * R * Math.PI,
            1
          )}~\\text{cm}^2$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Carré, rectangle et triangle rectangle\n2: Cercles\n3: Mélangé",
  ];
}

/**
 * On donne une fraction qui a pour dénominateur 10, 100 ou 1 000, il faut donner l'écriture décimale.
 *
 * Le numérateur est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N23
 */
function Exercice_ecriture_decimale_a_partir_de_fraction_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Donner l'écriture décimale d'une fraction décimale";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      texte =
        "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_fraction(tex_nombre(a), tex_nombre(b)) +
        " = " +
        tex_nombre(Algebrite.eval(a / b)) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplier ou diviser un nombre entier par 10, 100 ou 1 000
 *
 * Le nombre entier est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N24-1
 */
function Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier ou diviser un nombre entier par 10, 100 ou 1 000";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      if (choice([true, false])) {
        texte =
          "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_fraction(tex_nombre(a), tex_nombre(b)) +
          " = " +
          tex_nombre(Algebrite.eval(a / b)) +
          " $";
      } else {
        texte =
          "$ " + tex_nombre(a) + "\\times" + tex_nombre(b) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(b) +
          " = " +
          tex_nombre(Algebrite.eval(a * b)) +
          " $";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Comparer deux nombres décimaux
 *
 * Les types de comparaisons sont :
 * * ab ? ba
 * * aa,bb ? aa,cc
 * * a,b  a,cc avec b>c
 * * 0,ab 0,ba
 * * 0,a0b 0,b0a
 * * a,b a,b0
 * * 0,0ab 0,0a0b
 * * a,bb  a,ccc avec b>c
 * * a+1,bb  a,cccc avec cccc>bb
 *
 * aa, bb, cc correspondent à des nombres à 2 chiffres (ces 2 chiffres pouvant être distincts)
 * @Auteur Rémi Angot
 * 6N31
 */
function Comparer_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Comparer des nombres décimaux";
  this.consigne = "Compléter avec le signe < , > ou =.";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      choice([1, 4, 5]),
      2,
      2,
      3,
      6,
      7,
      8,
      9,
    ]; // une seule question du type inversion de chiffres (1,4,5)
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let x,
        y,
        a,
        b,
        c,
        d,
        zero_inutile = false;

      switch (liste_type_de_questions[i]) {
        case 1: // ab ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = a * 10 + b;
          y = b * 10 + a;
          break;
        case 2: // aa,bb aa,cc
          a = randint(1, 99);
          b = randint(11, 99);
          c = randint(11, 99);
          x = calcul(a + b / 100);
          y = calcul(a + c / 100);
          break;
        case 3: // a,b  a,cc avec b>c
          a = randint(1, 99);
          b = randint(1, 8);
          c = randint(1, b * 10);
          x = calcul(a + b / 10);
          y = calcul(a + c / 100);
          break;
        case 4: // 0,ab 0,ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 10 + b) / 100);
          y = calcul((b * 10 + a) / 100);
          break;
        case 5: // 0,a0b 0,b0a
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 100 + b) / 1000);
          y = calcul((b * 100 + a) / 1000);
          break;
        case 6: // a,b a,b0
          a = randint(11, 999);
          while (a % 10 == 0) {
            // pas de nombre divisible par 10
            a = randint(11, 999);
          }
          x = calcul(a / 10);
          y = x;
          zero_inutile = true;
          break;
        case 7: // 0,0ab 0,0a0b
          a = randint(1, 9);
          b = randint(1, 9);
          x = calcul(a / 100 + b / 1000);
          y = calcul(a / 100 + b / 10000);
          break;
        case 8: // a,bb  a,ccc avec b>c
          a = randint(11, 99);
          b = randint(11, 99);
          c = randint(100, b * 10);
          x = calcul(a + b / 100);
          y = calcul(a + c / 1000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
        case 9: // a+1,bb  a,cccc avec cccc>bb
          a = randint(11, 98);
          b = randint(11, 99);
          c = randint(b * 100, 10000);
          x = calcul(a + 1 + b / 100);
          y = calcul(a + c / 10000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
      }

      texte = `${tex_nombre(x)}\\ldots\\ldots${tex_nombre(y)}`;
      if (parseFloat(x) > parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} > ${tex_nombre(y)}`;
      } else if (parseFloat(x) < parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} < ${tex_nombre(y)}`;
      } else {
        texte_corr = `${tex_nombre(x)} = ${tex_nombre(y)}`;
      }

      if (zero_inutile) {
        if (randint(1, 2) == 1) {
          texte = `${tex_prix(x)}\\ldots\\ldots${tex_nombre(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_prix(x)} > ${tex_nombre(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_prix(x)} < ${tex_nombre(y)}`;
          } else {
            texte_corr = `${tex_prix(x)} = ${tex_nombre(y)}`;
          }
        } else {
          texte = `${tex_nombre(x)}\\ldots\\ldots${tex_prix(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} > ${tex_prix(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} < ${tex_prix(y)}`;
          } else {
            texte_corr = `${tex_nombre(x)} = ${tex_prix(y)}`;
          }
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Déduire un pourcentage par complément à 100%
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-2
 */
function Calculer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes de calcul de pourcentage par complément à 100%";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles=[1,2,3]
    let liste_choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_moyens=[`en bus`,`en deux-roues`,`à  pieds`,`en voiture`]
    let liste_sports=[`le foot`,`la natation`,`le basket`,`le ping-pong`,`le volley`,`la gym`]
    let liste_hobbies=[`la couture`,`le cinéma`,`la musique`,`le sport`,`la programmation`,`le jardinage`,`la cuisine`]
    let p1,p2,p3,moy1,moy2,moy3
    let objets,centre=point(5,5),depart=point(10,5)

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;
    ) {
      objets=[]
      p1=randint(6,9)*5
      p2=randint(6,9)*5
      p3=100-p1-p2
      switch(liste_choix[i]) {
        case 1: // Les moyens de déplacement maison collège
          [moy1,moy2,moy3]=combinaison_listes(liste_moyens,3)
          texte = `Dans un collège, $${p1}\\%$ des élèves ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des élèves qui ${moy3} ?` 
          texte_corr=`Les élèves qui ${moy1} ou qui ${moy2} représentent $${p1}\\%$ + $${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100 - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des élèves ${moy3}.<br>`
          break;
          case 2: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_sports,3)
          texte = `Dans une association sportive, $${p1}\\%$ des ados pratiquent ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des ados qui pratiquent ${moy3} ?`
          texte_corr=`Les ados qui pratiquent ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des ados de cette association sportive pratiquent ${moy3}.<br>`
          break;
          case 3: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_hobbies,3)
          texte = `Dans une association culturelle, $${p1}\\%$ des membres ont comme passe-temps favorit ${moy1}, pour $${p2}\\%$ c'est ${moy2} et pour les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des membres qui préfèrent ${moy3} ?`
          texte_corr=`Les membres qui préfère ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des membres de cette association culturelle préfèrent ${moy3}.<br>`
          break;

      }
      objets.push(codeAngle(depart,centre,p1*3.6,4.9,'','black',2,1,'red',0.4),texteParPoint(`${moy1.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*1.8),3),0) )
      objets.push(codeAngle(rotation(depart,centre,p1*3.6),centre,p2*3.6,4.9,'','black',2,1,'blue',0.4),texteParPoint(`${moy2.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*3.6+p2*1.8),3),0) )
      objets.push(codeAngle(depart,centre,-p3*3.6,4.9,'','black',2,1,'yellow',0.4),texteParPoint(`${moy3.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,-p3*1.8),3),0) )
      texte_corr+=mathalea2d({xmin : 0,ymin : 0,xmax : 10, ymax : 10,pixelsParCm : 20,scale : 0.5,mainlevee:false,amplitude:1}, ...objets)

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}
/**
 * Calculer le montant d'une réduction donnée en pourcentage d'un prix initial
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-3
 */
function Appliquer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes avec des calculs de pourcentages";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles=[1,2]
    let choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    liste_pourcentages = [10, 20, 30, 40, 50];
    let article=[[`Un pull`,20,40],[`Une chemise`,15,35],[`Un pantalon`,30,60],[`Un T-shirt`,15,25],[`Une jupe`,20,40]]
    let legume=[[`Une aubergine`,100,200],[`Un melon`,200,300],[`Une tomate`,50,100],[`Une betterave`,75,100],[`Une carotte`,30,50]]
    let liste_index=[0,1,2,3,4]
    let prix=[],pourcent=[],masse=[]
    let index=combinaison_listes(liste_index,this.nb_questions)
    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pourcent[i]=choice(liste_pourcentages)
      switch(choix[i]){
      case 1 :
      prix[i]=randint(article[index[i]][1],article[index[i]][2])
      texte=`${article[index[i]][0]} coûtant $${prix[i]}$€ bénéficie d'une réduction de $${pourcent[i]} \\%$.<br>`
      texte+=`Quel est le montant en euro de cette réduction ?`
      texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${prix[i]}$€ :<br>`
      texte_corr+= `$${pourcent[i]}\\%\\text{ de }${prix[i]}=${tex_fraction(pourcent[i],100)}\\times${prix[i]}=(${pourcent[i]}\\times${prix[i]})\\div100=${tex_nombre(pourcent[i] * prix[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * prix[i]) / 100))}$<br>`;
      texte_corr+=`Le montant de la réduction est de ${tex_prix(calcul(prix[i]*pourcent[i]/100))}€`
      break;
      case 2 :
        masse[i]=randint(legume[index[i]][1],article[index[i]][2])
        texte=`${legume[index[i]][0]} pesant $${masse[i]}$ grammes a subit une croissance de $${pourcent[i]} \\%$.<br>`
        texte+=`Quel est la masse supplémentaire en grammes correspondant à cette croissance ?`
        texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${masse[i]}$ grammes :<br>`
        texte_corr+= `$${pourcent[i]}\\%\\text{ de }${masse[i]}=${tex_fraction(pourcent[i],100)}\\times${masse[i]}=(${pourcent[i]}\\times${masse[i]})\\div100=${tex_nombre(pourcent[i] * masse[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * masse[i]) / 100))}$<br>`;
        texte_corr+=`La masse a augmenté de $${tex_nombre(calcul(masse[i]*pourcent[i]/100))}$ g.`
         
      break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Calculer 10, 20, 30, 40 ou 50% d'un nombre
 * @Auteur Rémi Angot + Jean-claude Lhote
 * 6N33-1
 */
function Pourcentage_d_un_nombre() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer le pourcentage d'un nombre de tête";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2.5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_pourcentages = [10, 20, 30, 40, 50];

    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      p = choice(liste_pourcentages);
      n = choice([
        randint(2, 9),
        randint(2, 9) * 10,
        randint(1, 9) * 10 + randint(1, 2),
      ]);
      texte = `$${p}~\\%~\\text{de }${n}$`;
      if (p == 50) {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${n}\\div${2}=${tex_nombre(
          Algebrite.eval(n / 2)
        )}$`; // calcul de n/2 si p = 50%
      } else {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${tex_fraction(
          p,
          100
        )}\\times${n}=(${p}\\times${n})\\div100=${tex_nombre(
          p * n
        )}\\div100=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=\\dfrac{${p}\\times${n}}{100}=${tex_fraction(p*n,100)}=${tex_nombre(Algebrite.eval(p*n/100))}$`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=(${n}\\div100)\\times${p}=${tex_nombrec(
            calcul(n / 100)
          )}\\times${p}=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=${tex_fraction(n,100)}\\times${p}=${tex_nombrec(calcul(n/100))}\\times${p}=${tex_nombre(Algebrite.eval(p*n/100))}$<br>`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=${tex_nombrec(calcul(p / 100))}\\times${n}=${tex_nombre(
            Algebrite.eval((p * n) / 100)
          )}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes"];
}
/**
 * Tracer un segment de longueur une fraction de l'unité.
 * @Auteur Jean-Claude Lhote
 * 6N32
 */

function Fractions_d_unite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Représenter une fraction de l\'unité";
  this.nb_questions = 5;
  this.consigne = "Colorier en bleu un segment de longueur ...";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles,g,carreaux,sc,unit
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac,frac_unite, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([4,5,6,10])
          num=randint(1,den-1)
     break
        case 2 :
          den=choice([2,3,4])
          if (den==3)  num=randint(3,2*den-1,den)
          else num=randint(3,3*den-1,den)
         break
        case 3 :
          den=choice([4,5,6,10])
          if (den==4) num=randint(5,3*den-1,den)
          else num=randint(5,2*den-1,den)
        break
        case 4:
          den=choice([2,3,4,5,6,10])
          if (den==2||den==4) num=randint(den+1,3*den-1,den)
          else num=randint(den+1,2*den-1,den)
        break
      }
      if (den%3==0) unit=12
      else if (den%5==0) unit=10
      else unit=8
      frac=fraction(num,den)
      frac_unite=fraction(3*den-1,den)
      texte=`$${frac.texFraction()}$ unité en prenant ${unit} carreaux pour une unité.`
      if (this.sup2 < 3) g = grille(0, 0,26, 2, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.6;
        carreaux = seyes(0, 0, 26, 2);
      } else {
        sc = 0.5;
        carreaux = "";
      }
 
      
      texte_corr=mathalea2d({xmin:0,ymin:0,xmax:26,ymax:2,pixelsParCm:20,scale:sc},frac.representation(1,1,unit,0,'segment','blue',0,1),g,carreaux)



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",4,"1 : fracion inférieure à 1\n2 : demis, tiers et quarts\n3 : quarts, cinquièmes, sixièmes et dixièmes\n4 : toutes les fractions entre 1 et 3"];
this.besoin_formulaire2_numerique = ["Type de cahier",2,"1 :  petits carreaux\n2 : Cahier gros carreaux type Seyes"];
}
/**
 * Calculer la fracton d'une quantité avec ou sans dessin.
 * @Auteur Jean-Claude Lhote
 * référence 6N33-0
 */
function Fraction_d_une_quantite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'une quantité";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=true
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 2 :
          den=choice([2,3,4,5,10])
          num=randint(1,3*den,den)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`Cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 3 :
          masse=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          frac=fraction(numIrred,denIrred)
          frac2=frac.entierMoinsFraction(1)
          texte=`Voici une tablette de chocolat dont la masse totale est de $${masse}$ grammes. Quelqu'un en a déjà consommé les $${frac.texFractionSimplifiee()}$.<br>`
          choix=randint(1,2)
          if (choix==1) {
            texte+=`Quelle masse de chocoloat a-t-elle été consommée ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.`
          }
          else {
            texte+=`Quelle masse de chocolat reste-t-il ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${masse}-${calcul(numIrred*masse/denIrred)}=${calcul(masse-numIrred*masse/denIrred)}$ grammes de chocolat.<br>`
            texte_corr+=`une autre façon de faire est d'utiliser la fraction restante : $${tex_fraction(denIrred,denIrred)}-${frac.texFractionSimplifiee()}=${tex_fraction(denIrred-numIrred,denIrred)}$.<br>`
            texte_corr+=`$${tex_fraction(denIrred-numIrred,denIrred)}$ de $${masse}$ grammes c\'est $${denIrred-numIrred}$ fois $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${denIrred-numIrred}\\times${calcul(masse/denIrred)}=${(denIrred-numIrred)*masse/denIrred}$ grammes de chocolat.`

           }
          if (this.sup2){
          texte+=`La tablette de chocolat est représentée ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:-0.5,xmax:5,ymax:7},frac2.representationIrred(0,0,4,0,'baton','brown'))
         }
        break
        case 4:
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          longueur=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          k=calcul(300/denIrred)
          den=calcul(denIrred*k)
          num=calcul(numIrred*k)
          frac=fraction(num,den)
          texte=`Un bâton de $${tex_nombrec(longueur/100)}$ mètre`
          if (longueur>=200) texte+=`s`
          texte+=` de longueur est coupé à $${frac.texFractionSimplifiee()}$ de sa longueur.<br>`
          texte+=`Calculer la longueur de chacun des morceaux en mètres.<br>`
          if (this.sup2){
            texte+=`Ce bâton est représenté ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:0,xmax:10,ymax:2},frac.representationIrred(0,1,8,0,'segment','blue',"0",`${tex_nombre(calcul(longueur/100))}`))
          }
          texte_corr=`$${tex_fraction(1,denIrred)}$ de $${tex_nombrec(longueur/100)}$ représente $${tex_nombrec(longueur/100)} \\div ${denIrred} = ${tex_nombrec(longueur/100/denIrred)}$.<br>`
          texte_corr+=`Le premier morceau du bâton correspondant à $${frac.texFractionSimplifiee()}$ du bâton mesure : $${numIrred} \\times ${tex_nombrec(longueur/100/denIrred)}=${tex_nombrec(numIrred*longueur/100/denIrred)}$ m.<br>`
          texte_corr+=`Le deuxième morceau mesure donc : $${tex_nombrec(longueur/100)}-${tex_nombrec(numIrred*longueur/100/denIrred)}=${tex_nombrec(longueur/100-numIrred*longueur/100/denIrred)}$ m.`

        break
      }



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",5,"1 : Heures & minutes (inférieur à 1h)\n2 : Heures & minutes (jusqu\'à 3h)\n3 : tablettes de chocolat\n4 : Bâton cassé\n5 : Mélange"];
this.besoin_formulaire2_case_a_cocher = ["Avec dessin", true];
}
/**
 * Calculer la fracton d'un nombre divisible par le dénominateur ... ou pas.
 *
 * Par défaut la division du nombre par le dénominateur est inférieure à 11
 * @Auteur Rémi Angot + Jean-Claude Lhote
 * référence 6N33
 */
function Fraction_d_un_nombre(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'un nombre";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = true;
  this.sup2 = false;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux

    for (
      let i = 0, a, b, k, n, j, fraction, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      fraction = choice(liste_fractions);
      a = fraction[0];
      b = fraction[1];
      k = randint(1, 11);
      j = false;
      if (this.sup) n = b * k;
      else if (randint(0, 1) == 0) n = b * k;
      else n = randint(10, b * 11);
      texte = `$${tex_fraction(a, b)}\\times${n}=$`;
      texte_corr = ``;
      if (a == 1) {
        // Si n * 1/b
        if (calcul(n / b - arrondi(n / b, 4)) == 0)
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=${n}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}$`;
        // si résultat décimal
        else
          texte_corr += `$${tex_fraction(a, b)}\\times${n}=${tex_fraction(
            n,
            b
          )}${simplification_de_fraction_avec_etapes(n, b)}$`; //si résultat non décimal
      } else {
        if (calcul(n / b - arrondi(n / b, 4)) == 0) {
          //si n/b décimal calcul (n/b)*a
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\div${mise_en_evidence(
            b
          )})\\times${a}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}\\times${a}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
        } else {
          if (calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0) {
            // si n/b non décimal, alors on se rabat sur (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
          } else {
            // si autre méthode et résultat fractionnaire calcul (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
          }
          j = true;
        }
        if (
          calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0 &&
          this.sup2 &&
          !j
        ) {
          // Si autres méthodes et si (a*n)/b décimal calcul (n*a)/b
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
            b
          )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval((n / b) * a)
          )}$<br>`;
        } else {
          // si autre méthode et résultat fractionnaire calcul (n*a)/b
          if (this.sup2 && !j)
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
        }
        // si autre méthode et a/b décimal calcul (a/b)*n
        if ((b == 2 || b == 4 || b == 5 || b == 8 || b == 10) && this.sup2)
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${a}\\div${mise_en_evidence(
            b
          )})\\times${n}=${tex_nombrec(
            Algebrite.eval(a / b)
          )}\\times${n}=${tex_nombrec(Algebrite.eval((n / b) * a))}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_case_a_cocher = ["Forcer résultat entier", true];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes", false];
}

/**
 * On achète 2 aliments dont on connait la masse (un en grammes et l'autre en kilogrammes) et le prix au kilogramme. Il faut calculer le prix total.
 * @Auteur Rémi Angot
 * Référence 6C32
 */
function Probleme_course() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problème - Les courses";
  this.consigne = "";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prenom = choice([
      "Benjamin",
      "Léa",
      "Aude",
      "Julie",
      "Corinne",
      "Mehdi",
      "Joaquim",
    ]);
    let masse_en_kg_de_aliment1 = Algebrite.eval(
      randint(2, 5) + randint(1, 9) / 10
    );
    let prix_aliment1 = Algebrite.eval(randint(2, 4) + randint(1, 9) / 10);
    let aliment1 = choice(["courgettes", "carottes", "pommes"]);
    let masse_en_g_de_aliment2 = randint(21, 97) * 10;
    let prix_aliment2 = Algebrite.eval(randint(12, 23) + randint(1, 9) / 10);
    let aliment2 = choice(["boeuf", "veau", "poulet"]);

    texte = `${prenom} achète ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg de ${aliment1} à ${tex_prix(prix_aliment1)} €/kg `;
    texte += `et ${masse_en_g_de_aliment2} g de ${aliment2} à ${tex_prix(
      prix_aliment2
    )} €/kg. Quel est le prix total à payer ?`;
    texte_corr =
      `Prix des ${aliment1} : ${tex_nombre(
        masse_en_kg_de_aliment1
      )} kg × ${tex_prix(prix_aliment1)} €/kg = ${tex_prix(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )} €` + "<br>";
    texte_corr +=
      `Prix du ${aliment2} : ${tex_nombre(
        Algebrite.eval(masse_en_g_de_aliment2 / 1000)
      )} kg × ${tex_prix(prix_aliment2)} €/kg = ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )} € ` + "<br>";
    texte_corr += `Prix total à payer : ${tex_nombre(
      Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
    )} € + ${tex_nombre(
      Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
    )} € ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €<br>`;
    texte_corr += `<br><i>Le prix total aurait aussi pu être trouvé en un seul calcul</i> : ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg × ${tex_prix(prix_aliment1)} €/kg + ${tex_nombre(
      Algebrite.eval(masse_en_g_de_aliment2 / 1000)
    )} kg × ${tex_prix(prix_aliment2)} €/kg ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €.`;

    if (!sortie_html) {
      texte_corr =
        `Prix des ${aliment1} : $${tex_nombre(
          masse_en_kg_de_aliment1
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment1
        )}~\\text{\\euro{}/kg} = ${tex_prix(
          Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr +=
        `Prix du ${aliment2} : $${tex_nombre(
          Algebrite.eval(masse_en_g_de_aliment2 / 1000)
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment2
        )}~\\text{\\euro{}/kg} = ${tex_nombre(
          Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr += `Prix total à payer : $${tex_nombre(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )}~\\text{\\euro} + ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )}~\\text{\\euro} \\approx ${arrondi_virgule(
        Algebrite.eval(
          masse_en_kg_de_aliment1 * prix_aliment1 +
            (masse_en_g_de_aliment2 * prix_aliment2) / 1000
        )
      )}~\\text{\\euro}$<br>`;
    }

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Calculer l'aire de 3 triangles dont une hauteur est tracée.
 *
 * Une figure dynamique est disponible sur laquelle on peut déplacer le pied de la hauteur.
 *
 * Il n'existe pas de version LaTeX de cet exercice.
 * @Auteur Rémi Angot
 * Référence 6M20
 */
function Aire_de_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Aires de triangles";
  this.consigne =
    "Calculer l'aire des 3 triangles suivants (vous pouvez déplacer certains points).";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_cotes = shuffle([3, 4, 5, 6, 7]); //pour s'assurer que les 3 côtés sont différents
    let c1 = tableau_des_cotes[0];
    let c2 = tableau_des_cotes[1];
    let c3 = tableau_des_cotes[2];
    let tableau_des_hauteurs = shuffle([3, 4, 5, 6]); //pour s'assurer que les 3 hauteurs sont différents
    let h1 = tableau_des_hauteurs[0];
    let h2 = tableau_des_hauteurs[1];
    let h3 = tableau_des_hauteurs[2];

    let codeBase64 = "";
    if (randint(1, 2) == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAuP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAKgAAAAAAAD#wAAAAAAAAAwABQDwAAAAAAABAYSAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwBgAAAAAAABAFAAAAAAAAAMAAUAXmRub7wU+AAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAwCYAAAAAAABAFAAAAAAAAAMAAT#nUJEwLKgdAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwC#8AAAAAAAAMA7AAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRADAJgAAAAAAAMA7AAAAAAAAAwABQHpQAAAAAABATYAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFADDWm90SREAAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMAkAAAAAAAAQBAAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwBAAAAAAAABAIAAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAoAAAAAAAAQBAAAAAAAAADAAFAS4AAAAAAAEBywAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwCIAAAAAAABACAAAAAAAAAMAAUAXx81SzkwjAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAAAAAAAAAAAAQAgAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwAgAAAAAAADAPAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAGAAAAAFoAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAhAAAAJgAAAAcBAAAAWgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGAQAAAAAAABAAAAAgAAAAgAAABeAAAAAyBjbQIAAABfAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAOwAAAEMAAAABAAAAAGIAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAGIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGMAAAADAQAAAGIAAAAAABAAAAEAAQAAADsAAABDAAAABAAAAABiAARhbmcnAAAAZAAAADsAAABDAAAABQEAAABiAAAAOwAAAEMAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA+AAAAQwAAAAEAAAAAaAAAAAABEAAAAQABAAAAPgE#8AAAAAAAAAAAAAIAAAAAaAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAaQAAAAMBAAAAaAAAAAAAEAAAAQEBAAAAPgAAAEMAAAAEAAAAAGgABGFuZycAAABqAAAAPgAAAEMAAAAFAQAAAGgAAAA+AAAAQwAAAAYAAAAAaAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD4AAABDAAAABwEAAABoAAAAAABAMAAAAAAAAEAQAAAAAAAAAAAAbhAAAAAAAAEAAAACAAAACAAAAGwAAAADIGNtAgAAAG0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAEQAAAAEAAAAAcAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAcAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAcQAAAAMBAAAAcAAAAAAAEAAAAQABAAAADgAAABEAAAAEAAAAAHAABGFuZycAAAByAAAADgAAABEAAAAFAQAAAHAAAAAOAAAAEQAAAAYAAAAAcAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAABwEAAABwAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAdhAAAAAAAAEAAAACAAAACAAAAHQAAAADIGNtAgAAAHUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAHAAAAAEAAAAAeAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAeAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAeQAAAAMBAAAAeAAAAAAAEAAAAQABAAAAHwAAABwAAAAEAAAAAHgABGFuZycAAAB6AAAAHwAAABwAAAAFAQAAAHgAAAAfAAAAHAAAAAYAAAAAeAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAcAAAABwEAAAB4AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAfhAAAAAAAAEAAAACAAAACAAAAHwAAAADIGNtAgAAAH0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAOwAAAAEAAAAAgAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAgAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAgQAAAAMBAAAAgAAAAAAAEAAAAQABAAAAOAAAADsAAAAEAAAAAIAABGFuZycAAACCAAAAOAAAADsAAAAFAQAAAIAAAAA4AAAAOwAAAAYAAAAAgAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAAA7AAAABwEAAACAAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAhhAAAAAAAAEAAAACAAAACAAAAIQAAAADIGNtAgAAAIUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAGAAAAAEAAAAAiAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAiAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAiQAAAAMBAAAAiAAAAAAAEAAAAQABAAAADgAAABgAAAAEAAAAAIgABGFuZycAAACKAAAADgAAABgAAAAFAQAAAIgAAAAOAAAAGAAAAAYAAAAAiAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAYAAAABwEAAACIAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAjhAAAAAAAAEAAAACAAAACAAAAIwAAAADIGNtAQAAAI0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAARAAAAGAAAAAEAAAAAkAAAAAABEAAAAQABAAAAEQE#8AAAAAAAAAAAAAIAAAAAkAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAkQAAAAMBAAAAkAAAAAAAEAAAAQABAAAAEQAAABgAAAAEAAAAAJAABGFuZycAAACSAAAAEQAAABgAAAAFAQAAAJAAAAARAAAAGAAAAAYAAAAAkAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABEAAAAYAAAABwEAAACQAAAAAABAMQAAAAAAAD#wAAAAAAAAAAAAlhAAAAAAAAEAAAACAAAACAAAAJQAAAADIGNtAQAAAJUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAJgAAAAEAAAAAmAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAmAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAmQAAAAMBAAAAmAAAAAAAEAAAAQABAAAAHwAAACYAAAAEAAAAAJgABGFuZycAAACaAAAAHwAAACYAAAAFAQAAAJgAAAAfAAAAJgAAAAYAAAAAmAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAmAAAABwEAAACYAAAAAADAMAAAAAAAAEAqAAAAAAAAAAAAnhAAAAAAAAEAAAACAAAACAAAAJwAAAADIGNtAQAAAJ0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAmAAAAHAAAAAEAAAAAoAAAAAABEAAAAQABAAAAJgE#8AAAAAAAAAAAAAIAAAAAoAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAoQAAAAMBAAAAoAAAAAAAEAAAAQABAAAAJgAAABwAAAAEAAAAAKAABGFuZycAAACiAAAAJgAAABwAAAAFAQAAAKAAAAAmAAAAHAAAAAYAAAAAoAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAcAAAABwEAAACgAAAAAABAMQAAAAAAAEAUAAAAAAAAAAAAphAAAAAAAAEAAAACAAAACAAAAKQAAAADIGNtAQAAAKUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAQwAAAAEAAAAAqAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAqAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAqQAAAAMBAAAAqAAAAAAAEAAAAQABAAAAOAAAAEMAAAAEAAAAAKgABGFuZycAAACqAAAAOAAAAEMAAAAFAQAAAKgAAAA4AAAAQwAAAAYAAAAAqAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAABDAAAABwEAAACoAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAArhAAAAAAAAEAAAACAAAACAAAAKwAAAADIGNtAQAAAK0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA7AAAAQwAAAAEAAAAAsAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAsAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAsQAAAAMBAAAAsAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAALAABGFuZycAAACyAAAAOwAAAEMAAAAFAQAAALAAAAA7AAAAQwAAAAYAAAAAsAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADsAAABDAAAABwEAAACwAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAthAAAAAAAAEAAAACAAAACAAAALQAAAADIGNtAQAAALUAAAAH##########8=";
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAw#####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAMgAAAAAAAMAwAAAAAAAAAwABQFDAAAAAAABAQoAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwDMAAAAAAADACAAAAAAAAAMAAUAS60sQO3OGAAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAP#AAAAAAAAA#8AAAAAAAAAMAAT#ouymi+6YKAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwBAIAAAAAAAAMAoAAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRABAEAAAAAAAAAAAAAAAAAAAAwABQH0QAAAAAABAZGAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFAA5gUsW2nVQAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMA3AAAAAAAAwCIAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwDIAAAAAAAC#8AAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAgAAAAAAAAwD0AAAAAAAADAAFAdBAAAAAAAEBwcAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwBwAAAAAAADAOgAAAAAAAAMAAUAJOHyA#SdXAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAMAIAAAAAAAAwDwAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwBwAAAAAAABAHAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAADAAAAAgAAAAIAAAA7AAAAQwAAAAEAAAAAYAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAYAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAYQAAAAMBAAAAYAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAAGAABGFuZycAAABiAAAAOwAAAEMAAAAFAQAAAGAAAAA7AAAAQwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAD4AAABDAAAAAQAAAABmAAAAAAEQAAABAAEAAAA+AT#wAAAAAAAAAAAAAgAAAABmAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABnAAAAAwEAAABmAAAAAAAQAAABAQEAAAA+AAAAQwAAAAQAAAAAZgAEYW5nJwAAAGgAAAA+AAAAQwAAAAUBAAAAZgAAAD4AAABDAAAABgAAAABmAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAPgAAAEMAAAAHAQAAAGYAAAAAAMAyAAAAAAAAwAgAAAAAAAAAAABsEAAAAAAAAQAAAAIAAAAIAAAAagAAAAMgY20CAAAAawAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAA4AAAARAAAAAQAAAABuAAAAAAEQAAABAAEAAAAOAT#wAAAAAAAAAAAAAgAAAABuAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABvAAAAAwEAAABuAAAAAAAQAAABAAEAAAAOAAAAEQAAAAQAAAAAbgAEYW5nJwAAAHAAAAAOAAAAEQAAAAUBAAAAbgAAAA4AAAARAAAABgAAAABuAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAABEAAAAHAQAAAG4AAAAAAMA2AAAAAAAAQDQAAAAAAAAAAAB0EAAAAAAAAQAAAAIAAAAIAAAAcgAAAAMgY20CAAAAcwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAB8AAAAcAAAAAQAAAAB2AAAAAAEQAAABAAEAAAAfAT#wAAAAAAAAAAAAAgAAAAB2AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB3AAAAAwEAAAB2AAAAAAAQAAABAAEAAAAfAAAAHAAAAAQAAAAAdgAEYW5nJwAAAHgAAAAfAAAAHAAAAAUBAAAAdgAAAB8AAAAcAAAABgAAAAB2AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAABwAAAAHAQAAAHYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB8EAAAAAAAAQAAAAIAAAAIAAAAegAAAAMgY20CAAAAewAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAMAAAACAAAAAgAAADgAAAA7AAAAAQAAAAB+AAAAAAEQAAABAAEAAAA4AT#wAAAAAAAAAAAAAgAAAAB+AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB#AAAAAwEAAAB+AAAAAAAQAAABAAEAAAA4AAAAOwAAAAQAAAAAfgAEYW5nJwAAAIAAAAA4AAAAOwAAAAUBAAAAfgAAADgAAAA7AAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAOwAAADgAAAABAAAAAIQAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAIQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIUAAAADAQAAAIQAAAAAABAAAAEAAQAAADsAAAA4AAAABAAAAACEAARhbmcnAAAAhgAAADsAAAA4AAAABQEAAACEAAAAOwAAADgAAAAGAAAAAIQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAOAAAAAcBAAAAhAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAIoQAAAAAAABAAAAAgAAAAgAAACIAAAAAyBjbQIAAACJAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEQAAABgAAAABAAAAAIwAAAAAARAAAAEAAQAAABEBP#AAAAAAAAAAAAACAAAAAIwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAI0AAAADAQAAAIwAAAAAABAAAAEAAQAAABEAAAAYAAAABAAAAACMAARhbmcnAAAAjgAAABEAAAAYAAAABQEAAACMAAAAEQAAABgAAAAGAAAAAIwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAGAAAAAcBAAAAjAAAAAAAQBQAAAAAAABAMwAAAAAAAAAAAJIQAAAAAAABAAAAAgAAAAgAAACQAAAAAyBjbQEAAACRAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAADgAAABgAAAABAAAAAJQAAAAAARAAAAEAAQAAAA4BP#AAAAAAAAAAAAACAAAAAJQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJUAAAADAQAAAJQAAAAAABAAAAEAAQAAAA4AAAAYAAAABAAAAACUAARhbmcnAAAAlgAAAA4AAAAYAAAABQEAAACUAAAADgAAABgAAAAGAAAAAJQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAOAAAAGAAAAAcBAAAAlAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAJoQAAAAAAABAAAAAgAAAAgAAACYAAAAAyBjbQEAAACZAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAAB8AAAABAAAAAJwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAJwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ0AAAADAQAAAJwAAAAAABAAAAEAAQAAACYAAAAfAAAABAAAAACcAARhbmcnAAAAngAAACYAAAAfAAAABQEAAACcAAAAJgAAAB8AAAAGAAAAAJwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHwAAAAcBAAAAnAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAAgAAACgAAAAAyBjbQEAAAChAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAABwAAAABAAAAAKQAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAKUAAAADAQAAAKQAAAAAABAAAAEAAQAAACYAAAAcAAAABAAAAACkAARhbmcnAAAApgAAACYAAAAcAAAABQEAAACkAAAAJgAAABwAAAAGAAAAAKQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHAAAAAcBAAAApAAAAAAAQAgAAAAAAABAMwAAAAAAAAAAAKoQAAAAAAABAAAAAgAAAAgAAACoAAAAAyBjbQEAAACpAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAIAAAACAAAAJgAAACEAAAABAAAAAKwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAK0AAAAEAAAAAKwABGFuZycAAACuAAAAJgAAACEAAAAFAQAAAKwAAAAmAAAAIQAAAAYAAAAArAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAhAAAABwEAAACsAAAAAABALgAAAAAAAEAmAAAAAAAAAAAAsRAAAAAAAAEAAAACAAAACAAAAK8AAAADIGNtAQAAALAAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOwAAAAEAAAAAswAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAswAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAtAAAAAMBAAAAswAAAAAAEAAAAQABAAAAQwAAADsAAAAEAAAAALMABGFuZycAAAC1AAAAQwAAADsAAAAFAQAAALMAAABDAAAAOwAAAAYAAAAAswAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA7AAAABwEAAACzAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAuRAAAAAAAAEAAAACAAAACAAAALcAAAADIGNtAQAAALgAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOAAAAAEAAAAAuwAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAuwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAvAAAAAMBAAAAuwAAAAAAEAAAAQABAAAAQwAAADgAAAAEAAAAALsABGFuZycAAAC9AAAAQwAAADgAAAAFAQAAALsAAABDAAAAOAAAAAYAAAAAuwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA4AAAABwEAAAC7AAAAAABAKAAAAAAAAEAsAAAAAAAAAAAAwRAAAAAAAAEAAAACAAAACAAAAL8AAAADIGNtAQAAAMAAAAAH##########8=";
    }
    texte_corr = `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times AB\\times HC=\\dfrac{1}{2}\\times${c1}~\\text{cm}\\times ${h1}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c1 * h1) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{DEF}=\\dfrac{1}{2}\\times DE\\times GF=\\dfrac{1}{2}\\times${c2}~\\text{cm}\\times ${h2}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c2 * h2) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times MN\\times IO=\\dfrac{1}{2}\\times${c3}~\\text{cm}\\times ${h3}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c3 * h3) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c1", "${c1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c2", "${c2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c3", "${c3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h1", "${h1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h2", "${h2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h3", "${h3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };
}

/**
 * 4 cercles sont tracés, 2 dont on connait le rayon et 2 dont on connait le diamètre.
 * * 1 : Calculer le périmètre de cercles
 * * 2 : Calculer l'aire de disques
 * * 3 : Calculer le périmètre et l'aire de disques
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M22-1
 */
function Perimetre_aire_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de disques";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_rayons = shuffle([2, 3, 4, 5, 6, 7, 8]); //pour s'assurer que les 4 rayons sont différents
    let r1 = tableau_des_rayons[0];
    let r2 = tableau_des_rayons[1];
    let r3 = tableau_des_rayons[2];
    let r4 = tableau_des_rayons[3];
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre des 4 cercles suivants.";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire des 4 disques suivants.";
    }
    if (this.sup == 3) {
      this.consigne = "Calculer le périmètre et l'aire des 4 disques suivants.";
    }

    this.consigne +=
      "</br>Donner la valeur exacte et une valeur approchée au dixième près.";

    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAAEAAAAQABAAAAMQAAACQAAAAaAP####8BAAAAABAAAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDUAAAAAAADANwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDEpAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZDI0woMikAAAAdAP####8AAAAAAMA3AAAAAAAAwDUAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAABkMjTCgzKQAAAB0A#####wAAAAAAwDgAAAAAAADANQAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDQpAAAADv##########";
    //	let codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAADQAAAQABAAAAMQAAACQAAAAaAP####8BAAAAAA0AAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDAAAAAAAADAMwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzEkAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAA8kXG1hdGhjYWx7Q31fMiQAAAAdAP####8AAAAAAMAyAAAAAAAAwDQAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAADyRcbWF0aGNhbHtDfV8zJAAAAB0A#####wAAAAAAwDMAAAAAAADAMAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzQkAAAADv##########";
    //  Si affichage LaTeX alors bug de MG32
    texte_corr = "";
    if (this.sup == 1) {
      //si on ne demande pas les aires
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;
    }

    if (this.sup == 2) {
      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    if (this.sup == 3) {
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;

      texte_corr += `<br>`;

      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r1", "${r1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r4", "${r4}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * 3 figures sont données, 1 quart de disque, un demi-disque et un 3-quarts de disque
 * * 1 : Calculer les périmètres
 * * 2 : Calculer les aires
 * * 3 : Calculer les périmètres et aires
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Rééférence 6M22-2
 */
function Perimetre_aire_et_portions_de_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de portions de cercles";
  this.consigne =
    "Calculer le périmètre et l'aire de chacune des figures suivantes";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let r = randint(1, 5);
    let r2 = randint(2, 4);
    let r3 = randint(2, 4);
    let figure = randint(1, 2);
    let codeBase64 = "";
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre de chacune des figures suivantes";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire de chacune des figures suivantes";
    }

    if (figure == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAIoAAACNQAAAQEAAAAAAAAAAQAAAE######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAAN#####wAAAAEADENBcmNEZUNlcmNsZQD#####AAAAAAABAAAACQAAAA######AAAAAUBWgAAAAAAAAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAARAAAADAD#####AAAAEgAAABAAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAEwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAATAAAABgD#####AAAAAAAQAAABAAEAAAAVAAAACf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAJAAAAD#####8AAAABAAtDTWVkaWF0cmljZQAAAAAXAQAAAAAQAAABAAEAAAAJAAAADwAAAAcAAAAAFwEAAAAAEAAAAQUAAAAACQAAAA8AAAAKAAAAABcBAAAAAAEAAAAZAAAAAUAwAAAAAAAAAQAAAAwAAAAAFwAAABgAAAAaAAAADQAAAAAXAQAAAAAQAAABBQABAAAAGwAAAAkBAAAAFwAAAAkAAAAP#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAXAAAAAAEAAAAcEQAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAADIGNtAQAAAB3#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAAWAAAAEwD#####AAAA#wACAQAAABEAAAACAP####8AAnIyAAE1AAAAAUAUAAAAAAAAAAAACgD#####AQAA#wABAAAACf####8AAAABAApDT3BlcmF0aW9uAAAAABQAAAAACwAAAAoAAAALAAAAIQAAAAFAAAAAAAAAAAAAAAAMAP####8AAAALAAAAIgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAAjAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACMAAAAKAP####8BAAAAAAEAAAAlAAAACwAAACEAAAAADAD#####AAAACwAAACYAAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACcAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACcAAAAOAP####8AAAAAAAEAAAAlAAAAKQAAACgAAAAGAP####8AAAAAABAAAAEAAQAAACgAAAApAAAAEAD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAoAAAAKQAAABEAAAAALAEAAAAAEAAAAQABAAAAKAAAACkAAAAHAAAAACwBAAAAABAAAAEFAAAAACgAAAApAAAACgAAAAAsAQAAAAABAAAALgAAAAFAMAAAAAAAAAEAAAAMAAAAACwAAAAtAAAALwAAAA0AAAAALAEAAAAAEAAAAQUAAQAAADAAAAAJAQAAACwAAAAoAAAAKQAAABIBAAAALAAAAAABAAAAMREAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAyAAAABwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACQAAACkAAAAPAP####8BAAAAABAAAAEAAQAAADQAAAArAAAACgD#####AQAAAAABAAAANAAAABQAAAAACwAAAAEAAAABQAAAAAAAAAAAAAAADAD#####AAAANQAAADYAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANwAAAA0A#####wEAAAAAEAABRQAAAAAAAAAAAEAIAAAAAAAAAwABAAAANwAAAAQA#####wEAAAABEAAAAQABAAAAOQE#8AAAAAAAAAAAAAoA#####wEAAAAAAQAAADkAAAALAAAAAQAAAAAMAP####8AAAA6AAAAOwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAA8AAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAADwAAAAMAP####8AAAA1AAAAOwAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAAPwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA######wAAAAEAEUNHcmFuZEFyY0RlQ2VyY2xlAP####8AAAAAAAEAAAA5AAAAPgAAAEAAAAAGAP####8AAAAAABAAAAEAAQAAAEAAAAA5AAAABgD#####AAAAAAAQAAABAAEAAAA5AAAAPgAAABMA#####wAAAP8AAgIAAABDAAAAEwD#####AAAA#wACAgAAAEQAAAAQAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEAAAAA5AAAAEQAAAABHAQAAAAAQAAABAAEAAABAAAAAOQAAAAcAAAAARwEAAAAAEAAAAQUAAAAAQAAAADkAAAAKAAAAAEcBAAAAAAEAAABJAAAAAUAwAAAAAAAAAQAAAAwAAAAARwAAAEgAAABKAAAADQAAAABHAQAAAAAQAAABBQABAAAASwAAAAkBAAAARwAAAEAAAAA5AAAAEgEAAABHAAAAAABARgAAAAAAAAAAAAAAAAAAAAAATBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABNAAAACP##########";

      if (this.sup == 1) {
        //si on ne demande pas les aires
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAGX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAANAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAQ#####wAAAAEAFENJbXBsZW1lbnRhdGlvblByb3RvAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAAkAAAAP#####wAAAAEAC0NNZWRpYXRyaWNlAAAAABIBAAAAABAAAAEAAQAAAAkAAAAPAAAABwAAAAASAQAAAAAQAAABBQAAAAAJAAAADwAAAAoAAAAAEgEAAAAAAQAAABQAAAABQDAAAAAAAAABAAAADAAAAAASAAAAEwAAABUAAAANAAAAABIBAAAAABAAAAEFAAEAAAAWAAAACQEAAAASAAAACQAAAA######AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABIAAAAAAQAAABcRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAGAAAAAIA#####wACcjIAATQAAAABQBAAAAAAAAAAAAAKAP####8BAAD#AAEAAAAJ#####wAAAAEACkNPcGVyYXRpb24AAAAAEgAAAAALAAAACgAAAAsAAAAaAAAAAUAAAAAAAAAAAAAAAAwA#####wAAAAsAAAAbAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAABwAAAANAP####8BAAAAABAAAUcAAAAAAAAAAABACAAAAAAAAAMAAQAAABwAAAAKAP####8BAAAAAAEAAAAeAAAACwAAABoAAAAADAD#####AAAACwAAAB8AAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACAAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACAAAAAGAP####8BAAAAABAAAAEAAQAAACEAAAAiAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAAAhAAAAIgAAABAAAAAAJAEAAAAAEAAAAQABAAAAIQAAACIAAAAHAAAAACQBAAAAABAAAAEFAAAAACEAAAAiAAAACgAAAAAkAQAAAAABAAAAJgAAAAFAMAAAAAAAAAEAAAAMAAAAACQAAAAlAAAAJwAAAA0AAAAAJAEAAAAAEAAAAQUAAQAAACgAAAAJAQAAACQAAAAhAAAAIgAAAAcA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAkAAAAiAAAADgD#####AQAAAAAQAAABAAEAAAArAAAAIwAAAAoA#####wEAAAAAAQAAACsAAAASAgAAAAE#+AAAAAAAAAAAAAsAAAAaAAAAAAwA#####wAAACwAAAAtAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAAC4AAAANAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAMAAQAAAC4AAAAEAP####8BAAAAARAAAAEAAQAAADABP#AAAAAAAAAAAAAKAP####8BAAAAAAEAAAAwAAAACwAAAAEAAAAADAD#####AAAAMQAAADIAAAANAP####8BAAAAABAAAUkAAAAAAAAAAABACAAAAAAAAAMAAgAAADMAAAANAP####8BAAAAABAAAUgAAAAAAAAAAABACAAAAAAAAAMAAQAAADMAAAAMAP####8AAAAsAAAAMgAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA2AAAABgD#####AQAAAAAQAAABAAEAAAA3AAAAMAAAAAYA#####wAAAAAAEAAAAQABAAAAMAAAADUAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAADcAAAAwAAAAEAAAAAA7AQAAAAAQAAABAAEAAAA3AAAAMAAAAAcAAAAAOwEAAAAAEAAAAQUAAAAANwAAADAAAAAKAAAAADsBAAAAAAEAAAA9AAAAAUAwAAAAAAAAAQAAAAwAAAAAOwAAADwAAAA+AAAADQAAAAA7AQAAAAAQAAABBQABAAAAPwAAAAkBAAAAOwAAADcAAAAwAAAAEQEAAAA7AQAAAABARgAAAAAAAAAAAAAAAAAAAAAAQBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABBAAAADAD#####AAAAEQAAAAwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAQwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABDAAAABgD#####AAAAAAAQAAABAAEAAAAwAAAANAAAAA4A#####wEAAP8AEAAAAQACAAAAHgAAACMAAAAMAP####8AAABHAAAAHwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABIAAAADQD#####AQAAAAAQAAFGAAAAAAAAAAAAQAgAAAAAAAADAAIAAABIAAAABgD#####AAAAAAAQAAABAAEAAAAeAAAASgAAAAYA#####wAAAAAAEAAAAQABAAAAHgAAACH#####AAAAAQAMQ0FyY0RlQ2VyY2xlAP####8AAAAAAAEAAAAJAAAADwAAAEQAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEoAAAAeAAAAEAAAAABOAQAAAAAQAAABAAEAAABKAAAAHgAAAAcAAAAATgEAAAAAEAAAAQUAAAAASgAAAB4AAAAKAAAAAE4BAAAAAAEAAABQAAAAAUAwAAAAAAAAAQAAAAwAAAAATgAAAE8AAABRAAAADQAAAABOAQAAAAAQAAABBQABAAAAUgAAAAkBAAAATgAAAEoAAAAeAAAAEQEAAABOAAAAAADAKgAAAAAAAAAAAAAAAAAAAAAAUxEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABUAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAA1AAAANAAAABAAAAAAVgEAAAAAEAAAAQABAAAANQAAADQAAAAHAAAAAFYBAAAAABAAAAEFAAAAADUAAAA0AAAACgAAAABWAQAAAAABAAAAWAAAAAFAMAAAAAAAAAEAAAAMAAAAAFYAAABXAAAAWQAAAA0AAAAAVgEAAAAAEAAAAQUAAQAAAFoAAAAJAQAAAFYAAAA1AAAANAAAABEBAAAAVgAAAAAAAAAAAAAAAADACAAAAAAAAAAAAFsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAXAAAAAYA#####wAAAAAAEAAAAQABAAAACQAAAEQAAAATAP####8AAAAAAAEAAAAwAAAANP####8AAAABQGaAAAAAAAD#####AAAAAQARQ0dyYW5kQXJjRGVDZXJjbGUA#####wAAAAAAAQAAAB4AAAAh#####wAAAAFAcOAAAAAAAP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAA#wACAgAAAF4AAAAVAP####8AAAD#AAICAAAAEAAAABUA#####wAAAP8AAgAAAABLAAAAFQD#####AAAA#wACAAAAAEwAAAAI##########8=";
      texte_corr = `La première figure est un quart de cercle de rayon ${r} cm auquel il faut ajouter les 2 rayons qui ferment la figure.<br>`;

      if (this.sup == 1) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r", "${r}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * Un carré, un rectangle et un triangle rectangle sont tracés.
 *
 * Il faut calculer les aires et périmètres.
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M11-1
 */
function Perimetre_ou_aire_de_carres_rectangles_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires carrés, rectangles et triangles rectangles";
  this.consigne = "Calculer le périmètre et l'aire des 3 figures suivantes";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let c = randint(2, 6);
    let L = randint(2, 5);
    let l = randint(1, 4);
    while (l == L) {
      // Le rectangle ne doit pas être un carré
      l = randint(1, 4);
    }
    let a = randint(2, 5);
    let b = randint(2, 5);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAH######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wABYwABNQAAAAFAFAAAAAAAAAAAAAkA#####wABTAABNQAAAAFAFAAAAAAAAAAAAAkA#####wABbAABMgAAAAFAAAAAAAAAAAAAAAkA#####wABYgABNQAAAAFAFAAAAAAAAAAAAAkA#####wABYQABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAAAEAABQQDALgAAAAAAAAAAAAAAAAAABQABQDkAAAAAAABAaOAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAADf####8AAAACAAlDQ2VyY2xlT1IAAAAADgEAAAAAAQAAAA3#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA4AAAAAABAAAUIAQAgAAAAAAAAAAAAAAAAAAAUAAUAYC8chUUHEAAAADwAAAAUBAAAADgAAAAAAEAAAAQABAAAADQAAABAAAAAGAAAAAA4BAAAAAA0AAAEFAAAAAA0AAAAQ#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAA4BAAAAAA0AAAEAAQAAAA0AAAAQAAAACwAAAAAOAQAAAAABAAAAEgAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAOAAAAEwAAABT#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAOAQAAAAANAAABBQABAAAAFf####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADgAAAAABAAAAFhAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAADQAAABEAAAASAP####8BAAAAABAAAAEAAQAAABAAAAAR#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAEAAAAA0AAAATAP####8BAAAAAAEAAAANAAAAEAAAAA8A#####wAAABkAAAAaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAABwAAAAQAP####8AAAAAABAAAUMAQBAAAAAAAADANQAAAAAAAAUAAgAAABwAAAAPAP####8AAAAYAAAAGwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAfAAAAEAD#####AAAAAAAQAAFEAMAsAAAAAAAAwDcAAAAAAAAFAAIAAAAf#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAAA0AAAAQAAAAHgAAACEAAAANAAAABQD#####AAAAAAAQAAABAAEAAAAQAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAACEAAAAFAP####8AAAAAABAAAAEAAQAAACEAAAAN#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAhAAAADQAAABAAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAANAAAAEAAAAB4AAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAQAAAAHgAAACEAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAeAAAAIQAAAA0AAAACAP####8AAAAAABAAAUgAwDEAAAAAAADAAAAAAAAAAAUAAUBymAAAAAAAQHEHCj1wo9cAAAAKAP####8AG1NlZ21lbnQgZGUgbG9uZ3VldXIgZG9ubsOpZQAAAAYAAAADAAAAAgAAAAkAAAAqAAAACwAAAAArAQAAAAABAAAAKgAAAAwAAAAJAAAAAA0BAAAAKwAAAAAAEAABRQBACAAAAAAAAAAAAAAAAAAABQABP8sfH32jwU4AAAAsAAAABQEAAAArAAAAAAAQAAABAAEAAAAqAAAALQAAAAYAAAAAKwEAAAAADQAAAQUAAAAAKgAAAC0AAAAOAAAAACsBAAAAAA0AAAEAAQAAACoAAAAtAAAACwAAAAArAQAAAAABAAAALwAAAAFAMAAAAAAAAAEAAAAPAAAAACsAAAAwAAAAMQAAABAAAAAAKwEAAAAADQAAAQUAAQAAADIAAAARAQAAACsAAAAAAQAAADMQAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAACQAAABIA#####wEAAAAAEAAAAQABAAAALQAAAC4AAAASAP####8BAAAAABAAAAEAAQAAACoAAAAuAAAACwD#####AQAAAAABAAAALQAAAAwAAAAKAAAAAAsA#####wEAAAAAAQAAACoAAAAMAAAACgAAAAAPAP####8AAAA1AAAANwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAA5AAAAEAD#####AAAAAAAQAAFGAEAAAAAAAAAAwDgAAAAAAAAFAAIAAAA5AAAADwD#####AAAANgAAADgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAPAAAABAA#####wAAAAAAEAABRwDALgAAAAAAAMA2AAAAAAAABQACAAAAPAAAAAUA#####wAAAAAAEAAAAQABAAAALQAAADsAAAAFAP####8AAAAAABAAAAEAAQAAADsAAAA+AAAABQD#####AAAAAAAQAAABAAEAAAA+AAAAKgAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAALQAAADsAAAADAAAAAEIAAAAAABAAAAEAAQAAAC0BP#AAAAAAAAAAAAAEAAAAAEIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAEP#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAABCAAJhbgAAAEQAAAAtAAAAOwAAAAgBAAAAQgAAAC0AAAA7AAAABgAAAABCAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAADv#####AAAAAQANQ1BvaW50UHJvamV0ZQAAAABCAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAQwAAABYAAAAAQgACbWEAAABEAAAALQAAAEj#####AAAAAQAOQ1Rlc3RFeGlzdGVuY2UAAAAAQgADdG1hAAAASQAAABEBAAAAQgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAEcQAAAAAAABAAAAAv####8AAAABAA1DRm9uY3Rpb24zVmFyAAAAAAwAAABK#####wAAAAEACkNPcGVyYXRpb24AAAAADAAAAEUAAAAMAAAASQAAAAwAAABFAAAAAyBjbQEAAABGAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAALQAAADsAAAA+AAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAOwAAAD4AAAAqAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAPgAAACoAAAAtAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAKgAAAC0AAAA7AAAAAgD#####AAAAAAAQAAFJAEAIAAAAAAAAAAAAAAAAAAAFAAFAbkAAAAAAAEB5kAAAAAAAAAAACgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAUAAAAAsAAAAAUQEAAAAAAQAAAFAAAAAMAAAADAAAAAANAQAAAFEAAAAAABAAAUoAwAgAAAAAAADAOgAAAAAAAAUAAT##e1lPr88TAAAAUgAAAAUBAAAAUQAAAAAAEAAAAQABAAAAUAAAAFMAAAASAP####8BAAAAABAAAAEAAQAAAFMAAABUAAAACwD#####AQAAAAABAAAAUwAAAAwAAAALAAAAAA8A#####wAAAFUAAABWAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFcAAAAQAP####8AAAAAABAAAUsAwDIAAAAAAADACAAAAAAAAAUAAgAAAFcAAAAFAP####8AAAAAABAAAAEAAQAAAFMAAABZAAAABQD#####AAAAAAAQAAABAAEAAABZAAAAUAAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUwAAAFkAAAADAAAAAFwAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAFwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAF0AAAAWAAAAAFwAAmFuAAAAXgAAAFMAAABZAAAACAEAAABcAAAAUwAAAFkAAAAGAAAAAFwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAWQAAABcAAAAAXAAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAF0AAAAWAAAAAFwAAm1hAAAAXgAAAFMAAABiAAAAGAAAAABcAAN0bWEAAABjAAAAEQEAAABcAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAYRAAAAAAAAEAAAACAAAAGQAAAAAMAAAAZAAAABoAAAAADAAAAF8AAAAMAAAAYwAAAAwAAABfAAAAAyBjbQEAAABgAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAUAAAAAMAAAAAZgAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAZgAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAZwAAABYAAAAAZgACYW4AAABoAAAAWQAAAFAAAAAIAQAAAGYAAABZAAAAUAAAAAYAAAAAZgAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABQAAAAFwAAAABmAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAAZwAAABYAAAAAZgACbWEAAABoAAAAWQAAAGwAAAAYAAAAAGYAA3RtYQAAAG0AAAARAQAAAGYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABrEAAAAAAAAQAAAAIAAAAZAAAAAAwAAABuAAAAGgAAAAAMAAAAaQAAAAwAAABtAAAADAAAAGkAAAADIGNtAQAAAGoAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAABQAAAAUwAAAFn#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAARAAAAGwD#####AAAA#wACAQAAACMAAAAbAP####8AAAD#AAIBAAAAJAAAABsA#####wAAAP8AAgEAAAAlAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABQAAAAUwAAAAMAAAAAdQAAAAAAEAAAAQABAAAAUAE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABYAAAAAdQACYW4AAAB3AAAAUAAAAFMAAAAIAQAAAHUAAABQAAAAUwAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFAAAABTAAAAFwAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAdgAAABYAAAAAdQACbWEAAAB3AAAAUAAAAHsAAAAYAAAAAHUAA3RtYQAAAHwAAAARAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAZAAAAAAwAAAB9AAAAGgAAAAAMAAAAeAAAAAwAAAB8AAAADAAAAHgAAAADIGNtAQAAAHkAAAAH##########8=";
    let c2 = Math.sqrt(a * a + b * b);
    let pIJK = Algebrite.eval(a + b + c2).d.toFixed(1);

    texte_corr = `$\\mathcal{P}_{ABCD}=${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}=${
      4 * c
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{ABCD}=${c}~\\text{cm}\\times${c}~\\text{cm}=${
      c * c
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{EFGH}=${L}~\\text{cm}+${l}~\\text{cm}+${L}~\\text{cm}+${l}~\\text{cm}=${
      2 * L + 2 * l
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{EFGH}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
      L * l
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{IJK}=${a}~\\text{cm}+${b}~\\text{cm}+${tex_nombre(
      c2.toFixed(1)
    )}~\\text{cm}=${tex_nombre(pIJK)}~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{IJK}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${tex_nombre(
      Algebrite.eval((a * b) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L", "${L}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l", "${l}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "a", "${a}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "b", "${b}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  // 	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Périmètres\n\
  // 2 : Aires\n3 : Périmètres et aires"];
}

/**
 * Deux figures composés de rectangles et de triangles sont tracés.
 *
 * Il faut calculer le périmètre et l'aire par addition ou soustraction d'aires
 *
 * Pas de version LaTeX
 *
 * Un seul type de figure pour l'instant.
 * @Auteur Rémi Angot
 * Référence 6M11-2
 */
function Perimetre_ou_aire_de_figures_composees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de figures composées";
  this.consigne = "Calculer le périmètre et l'aire des 2 figures suivantes";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let L1 = randint(4, 7);
    let l1 = randint(2, 4);
    let L2 = randint(2, 4);
    if (L1 == l1) {
      l1--;
    } // pour que le rectangle ne soit pas un carré
    let c = randint(4, 7);
    let h = randint(2, c - 1);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAAKj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACTDEAATUAAAABQBQAAAAAAAAAAAAJAP####8AAmwxAAEzAAAAAUAIAAAAAAAAAAAACQD#####AAJMMgABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAABEAABQwBACAAAAAAAAAAAAAAAAAAABQABQFKgAAAAAABAaW4UeuFHrv####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAAC#####8AAAACAAlDQ2VyY2xlT1IAAAAADAEAAAAAAQAAAAv#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAAwAAAAAARAAAUQAQAgAAAAAAAAAAAAAAAAAAAUAAT++v3IzOUsjAAAADQAAAAUBAAAADAAAAAAAEAAAAQABAAAACwAAAA4AAAAGAAAAAAwBAAAAABAAAAEFAAAAAAsAAAAO#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAAwBAAAAABAAAAEAAQAAAAsAAAAOAAAACwAAAAAMAQAAAAABAAAAEAAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAMAAAAEQAAABL#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAMAQAAAAAQAAABBQABAAAAE#####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADAAAAAABAAAAFBAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAACwAAAA8AAAASAP####8BAAAAABAAAAEAAQAAAA4AAAAPAAAACwD#####AQAAAAABAAAACwAAAAwAAAAJAAAAAAsA#####wEAAAAAAQAAAA4AAAAMAAAACQAAAAAPAP####8AAAAWAAAAGAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAaAAAAEAD#####AQAAAAAQAAFCAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAaAAAADwD#####AAAAFwAAABkAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAHQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAdAAAACwD#####AQAAAAABAAAAHwAAAAwAAAAKAP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAHAAAAB8AAAAPAP####8AAAAhAAAAIAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAiAAAAEAD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAi#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABgAAAA4AAAALAAAAHAAAAB8AAAAkAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAJAAAABwAAAAOAAAAACYBAAAAABAAAAEAAQAAACQAAAAcAAAABgAAAAAmAQAAAAAQAAABBQAAAAAkAAAAHAAAAAsAAAAAJgEAAAAAAQAAACgAAAABQDAAAAAAAAABAAAADwAAAAAmAAAAJwAAACkAAAAQAAAAACYBAAAAABAAAAEFAAEAAAAqAAAACAEAAAAmAAAAJAAAABwAAAARAQAAACYAAAAAAQAAACsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAALAAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAHAAAAAsAAAAOAAAAAC4BAAAAABAAAAEAAQAAABwAAAALAAAABgAAAAAuAQAAAAAQAAABBQAAAAAcAAAACwAAAAsAAAAALgEAAAAAAQAAADAAAAABQDAAAAAAAAABAAAADwAAAAAuAAAALwAAADEAAAAQAAAAAC4BAAAAABAAAAEFAAEAAAAyAAAACAEAAAAuAAAAHAAAAAsAAAARAQAAAC4AAAAAAQAAADMRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAANP####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAADgAAAAsAAAAcAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAABwAAAAkAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAHAAAAB8AAAAOAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAAA4AAAAfAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAADgAAACQAAAAOAAAAADsBAAAAABAAAAEAAQAAAA4AAAAkAAAABgAAAAA7AQAAAAAQAAABBQAAAAAOAAAAJAAAAAsAAAAAOwEAAAAAAQAAAD0AAAABQDAAAAAAAAABAAAADwAAAAA7AAAAPAAAAD4AAAAQAAAAADsBAAAAABAAAAEFAAEAAAA#AAAACAEAAAA7AAAADgAAACQAAAAJAP####8AAWMAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAABACAAAAAAAAAAAAAAAAAAABQABQGlwAAAAAABAfecKPXCj1wAAAAoA#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAABgAAAAMAAAACAAAAQgAAAEMAAAALAAAAAEQBAAAAAAEAAABDAAAADAAAAEIAAAAADQEAAABEAAAAAAAQAAAAQAgAAAAAAAAAAAAAAAAAAAUAAT#LiKDqIUKnAAAARQAAAAUBAAAARAAAAAAAEAAAAQEBAAAAQwAAAEYAAAAGAAAAAEQBAAAAABAAAAEFAAAAAEMAAABGAAAADgAAAABEAQAAAAAQAAABAAEAAABDAAAARgAAAAsAAAAARAEAAAAAAQAAAEgAAAABQDAAAAAAAAABAAAADwAAAABEAAAASQAAAEoAAAAQAAAAAEQBAAAAABAAAAEFAAEAAABLAAAAEQEAAABEAAAAAAEAAABMEAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAQAAAEIAAAAKAP####8ADUNhcnLDqSBkaXJlY3QAAAAFAAAAAgAAAAIAAABDAAAARgAAAAUAAAAATgEAAAAAEAAAAQABAAAAQwAAAEYAAAASAAAAAE4AAAAAABAAAAEBAQAAAEMAAABP#####wAAAAEACUNDZXJjbGVPQQAAAABOAAAAAAEBAAAAQwAAAEYAAAAPAAAAAE4AAABQAAAAUQAAABABAAAATgEAAAAAEAABSAEFAAIAAABS#####wAAAAEADENUcmFuc2xhdGlvbgAAAABOAAAAQwAAAEb#####AAAAAQALQ1BvaW50SW1hZ2UBAAAATgEAAAAAEAABRwEFAAAAAFMAAABUAAAABQD#####AAAAAAAQAAABAQEAAABGAAAAVQAAAAUA#####wAAAAAAEAAAAQEBAAAAVQAAAFMAAAAFAP####8AAAAAABAAAAEBAQAAAFMAAABDAAAAFAD#####AQAAAAEBAAAABQAAAEMAAABGAAAAVQAAAFMAAABDAAAACQD#####AAFyAAEyAAAAAUAAAAAAAAAAAAAACwD#####AQAAAAEBAAAAUwAAAAwAAABaAAAAAA8A#####wAAAFcAAABbAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFwAAAAQAP####8BAAAAABAAAUYAAAAAAAAAAABACAAAAAAAAAUAAgAAAFwAAAASAP####8BAAAAABAAAAEBAQAAAF4AAABXAAAACQD#####AAFoAAE0AAAAAUAQAAAAAAAAAAAACwD#####AQAAAAEBAAAAXgAAAAwAAABgAAAAAA8A#####wAAAF8AAABhAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAGIAAAAQAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAUAAgAAAGIAAAAUAP####8AAAAAAAEAAAAGAAAAVQAAAEYAAABDAAAAUwAAAGQAAABVAAAABQD#####AAAAAAAQAAABAQEAAABeAAAAZP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAAAAABAQAAAFYAAAAZAP####8AAAAAAAEBAAAARwAAABkA#####wAAAAAAAQEAAABYAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAEYAAABDAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAARgAAAEMAAABTAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAUwAAAFUAAABGAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAFMAAABDAAAACgD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAABkAAAAXgAAAA4AAAAAbgEAAAAAEAAAAQABAAAAZAAAAF4AAAAGAAAAAG4BAAAAABAAAAEFAAAAAGQAAABeAAAACwAAAABuAQAAAAABAAAAcAAAAAFAMAAAAAAAAAEAAAAPAAAAAG4AAABvAAAAcQAAABAAAAAAbgEAAAAAEAAAAQUAAQAAAHIAAAAIAQAAAG4AAABkAAAAXgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAAVQAAAGQAAAAOAAAAAHUBAAAAABAAAAEAAQAAAFUAAABkAAAABgAAAAB1AQAAAAAQAAABBQAAAABVAAAAZAAAAAsAAAAAdQEAAAAAAQAAAHcAAAABQDAAAAAAAAABAAAADwAAAAB1AAAAdgAAAHgAAAAQAAAAAHUBAAAAABAAAAEFAAEAAAB5AAAACAEAAAB1AAAAVQAAAGQAAAAKAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAFMAAABkAAAADgAAAAB8AQAAAAAQAAABAAEAAABTAAAAZAAAAAYAAAAAfAEAAAAAEAAAAQUAAAAAUwAAAGQAAAALAAAAAHwBAAAAAAEAAAB+AAAAAUAwAAAAAAAAAQAAAA8AAAAAfAAAAH0AAAB#AAAAEAAAAAB8AQAAAAAQAAABBQABAAAAgAAAAAgBAAAAfAAAAFMAAABkAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAACCAAAAUwAAAGQAAAADAAAAAIMAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAIMAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIT#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAACDAAJhbgAAAIUAAABTAAAAZAAAAAYAAAAAgwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFMAAABk#####wAAAAEADUNQb2ludFByb2pldGUAAAAAgwAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAZAAAAIQAAAAaAAAAAIMAAm1hAAAAhQAAAFMAAACI#####wAAAAEADkNUZXN0RXhpc3RlbmNlAAAAAIMAA3RtYQAAAIkAAAARAQAAAIMAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACHEAAAAAAAAQAAAAL#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAMAAAAiv####8AAAABAApDT3BlcmF0aW9uAAAAAAwAAACGAAAADAAAAIkAAAAMAAAAhgAAAAABAAAAggAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAEAAAADAAAAewAAAGQAAABVAAAAAwAAAACMAAAAAAAQAAABAAEAAABkAT#wAAAAAAAAAAAABAAAAACMAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAACNAAAAGgAAAACMAAJhbgAAAI4AAABkAAAAVQAAAAYAAAAAjAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGQAAABVAAAAGwAAAACMAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABVAAAAjQAAABoAAAAAjAACbWEAAACOAAAAZAAAAJEAAAAcAAAAAIwAA3RtYQAAAJIAAAARAQAAAIwAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACQEAAAAAAAAQAAAAIAAAAdAAAAAAwAAACTAAAAHgAAAAAMAAAAjwAAAAwAAACSAAAADAAAAI8AAAAAAQAAAHsAAAAKAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAABAAAAAwAAAHQAAABkAAAAXgAAAAMAAAAAlQAAAAAAEAAAAQABAAAAZAE#8AAAAAAAAAAAAAQAAAAAlQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAlgAAABoAAAAAlQACYW4AAACXAAAAZAAAAF4AAAAGAAAAAJUAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABkAAAAXgAAABsAAAAAlQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAXgAAAJYAAAAaAAAAAJUAAm1hAAAAlwAAAGQAAACaAAAAHAAAAACVAAN0bWEAAACbAAAAEQEAAACVAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAmRAAAAAAAAEAAAACAAAAHQAAAAAMAAAAnAAAAB4AAAAADAAAAJgAAAAMAAAAmwAAAAwAAACYAAAAAAEAAAB0AAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAABBAAAADgAAACQAAAADAAAAAJ4AAAAAABAAAAEAAQAAAA4BP#AAAAAAAAAAAAAEAAAAAJ4AAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ8AAAAaAAAAAJ4AAmFuAAAAoAAAAA4AAAAkAAAABgAAAACeAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAACQAAAAbAAAAAJ4AAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAACfAAAAGgAAAACeAAJtYQAAAKAAAAAOAAAAowAAABwAAAAAngADdG1hAAAApAAAABEBAAAAngAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAB0AAAAADAAAAKUAAAAeAAAAAAwAAAChAAAADAAAAKQAAAAMAAAAoQAAAAABAAAAQQAAABkA#####wAAAAAAAQEAAABXAAAAB###########";
    let DA = arrondi(Math.sqrt(L2 ** 2 + l1 ** 2), 1);
    let t1 = arrondi(Math.sqrt(4 + h ** 2), 1); // longueur d'un côté du triangle
    let t2 = arrondi(Math.sqrt((c - 2) ** 2 + h ** 2), 1); // longueur de l'autre côté d'un triangle
    let texte_corr = "";
    texte_corr += `La première figure est composée d'un rectangle de ${L1} cm par ${l1} cm`;
    texte_corr += ` et d'un triangle rectangle dont les côtés de l'angle droit mesurent ${L2} cm et ${l1} cm.<br>`;
    texte_corr += `$\\mathcal{P}_{1}=${L1 + L2}+${tex_nombre(
      DA
    )}+${L1}+${l1}=${tex_nombrec(L1 + L2 + DA + L1 + l1)}$ cm.<br>`;
    texte_corr += `$\\mathcal{A}_{1}=${L1}\\times${l1}+${L2}\\times${l1}\\div2=${
      L1 * l1
    }+${calcul((L2 * l1) / 2)}=${calcul(L1 * l1 + (L2 * l1) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;
    texte_corr += "<br><br>";
    texte_corr += `La deuxième figure est un carré de côté ${c} cm auquel il faut enlever un triangle de ${c} cm de base et ${h} cm de hauteur.<br>`;
    texte_corr += `$\\mathcal{P}_{2}=${c}+${c}+${c}+${tex_nombre(
      t1
    )}+${tex_nombre(t2)}=${tex_nombrec(3 * c + t1 + t2)}$ cm<br>`;
    texte_corr += `$\\mathcal{A}_{2}=${c}\\times${c}-${c}\\times${h}\\div2=${
      c * c
    }-${(c * h) / 2}=${tex_nombrec(c ** 2 - (c * h) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L1", "${L1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l1", "${l1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L2", "${L2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h", "${h}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Citer des formules de périmètre, des formules d'aire ou la définition de π
 * @Auteur Rémi Angot
 * Référence 6M25
 */
function Connaitre_formules_de_perimetre_et_aires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Connaitre le cours sur le périmètre et l'aire";
  this.consigne = "Calculer";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_type_de_questions = combinaison_listes(
      [
        "pi",
        "prectangle",
        "pcarre",
        "acarre",
        "arectangle",
        "pcercle",
        "acercle",
        "atrianglerectangle",
        "atriangle",
      ],
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case "pi":
          texte = "Rappeler la définition du nombre $\\pi$.";
          texte_corr = "$\\pi$ est la longueur d'un cercle de diamètre 1.";
          break;
        case "prectangle":
          texte = "Donner une formule du périmètre du rectangle.";
          texte_corr =
            "$\\mathcal{P}_{\\text{rectangle}}=(L+l)\\times2=L\\times2+l\\times2=L+l+L=l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "pcarre":
          texte = "Donner une formule du périmètre du carré.";
          texte_corr =
            "$\\mathcal{P}_{\\text{carré}}=c\\times4=c+c+c+c$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "arectangle":
          texte = "Donner une formule de l'aire du rectangle.";
          texte_corr = "$\\mathcal{A}_{\\text{rectangle}}=L\\times l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "acarre":
          texte = "Donner une formule de l'aire du carré.";
          texte_corr = "$\\mathcal{A}_{\\text{carré}}=c\\times c=c^2$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "atrianglerectangle":
          texte = "Donner une formule de l'aire du triangle rectangle.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=a\\times b \\div2=\\dfrac{a\\times b}{2}$<br><br>";
          texte_corr +=
            "Avec $a$ et $b$ les longueurs des côtés de l'angle droit.";
          break;
        case "atriangle":
          texte = "Donner une formule de l'aire d'un triangle quelconque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=b\\times h \\div2=\\dfrac{b\\times h}{2}$<br><br>";
          texte_corr +=
            "Avec $b$ la longueur d'un côté et $h$ la longueur de la hauteur relative à ce côté.";
          break;
        case "pcercle":
          texte =
            "Donner une formule de la longueur d'un cercle (aussi appelée circonférence).";
          texte_corr =
            "$\\mathcal{P}_{\\text{cercle}}=D\\times \\pi = 2\\times R \\times \\pi = 2\\pi{}R$<br><br>";
          texte_corr += "Avec $D$ le diamètre et $R$ le rayon de ce cercle.";
          break;
        case "acercle":
          texte = "Donner une formule de l'aire d'un disque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{disque}}=R\\times R\\times\\pi=\\pi R^2$<br><br>";
          texte_corr += "Avec $R$ le rayon de ce disque.";
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Compléter des égalités sur les nombres décimaux
 * * n/100 = .../10 + .../100
 * * n/100 = .../100 + .../10
 * * .../100 = u+ d/10 + c/100
 * * u = .../10
 * * u = .../100
 * * n/10 = ... + .../10 + .../100
 * @Auteur Rémi Angot
 * 6N23-1
 */
function Exercice_differentes_ecritures_nombres_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Différentes écritures des nombres décimaux";
  this.consigne = "Compléter l'égalité puis donner l'écriture décimale.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      let u = randint(2, 9); //chiffre des unités
      let d = randint(1, 9); //chiffre des dixièmes
      let c = randint(1, 9); //chiffre des centièmes
      let n = 100 * u + 10 * d + c;
      let ecriture_decimale;
      switch (type_de_questions) {
        case 1: // n/100 = .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;

          break;
        case 2: // n/100 = .../100 + .../10
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            100
          )}+${tex_fraction("", 10)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            c,
            100
          )}+${tex_fraction(d, 10)}=${ecriture_decimale}$`;
          break;
        case 3: // .../100 = u+ d/10 + c/100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction("", "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;
          break;
        case 4: // u = .../10
          texte = `$${u}=${tex_fraction("", "10")}$`;
          texte_corr = `$${u}=${tex_fraction(10 * u, "10")}$`;
          break;
        case 5: // u = .../100
          texte = `$${u}=${tex_fraction("", "100")}$`;
          texte_corr = `$${u}=${tex_fraction(100 * u, "10")}$`;
          break;
        case 6: // n/10 = ... + .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(n / 10));
          texte = `$${tex_fraction(n, 10)}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, 10)}=${u * 10 + d}+${tex_fraction(
            c,
            10
          )}+${tex_fraction(0, 100)}=${ecriture_decimale}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions, soustractions et multiplications posées de nombres entiers
 *
 * * abcd +efg
 * * abc0-efg
 * * 1abc-def
 * * abc*d0e tables de 2 à 5
 * * abc*de tables de 5 à 9
 * @Auteur Rémi Angot
 * Référence 6C10 
 */
function Additions_soustractions_multiplications_posees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Additions, soustractions et multiplications posées de nombres entiers";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 5;
  // this.pas_de_version_HMTL=true;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5];
    let liste_type_de_questions = combinaison_listes_sans_changer_ordre(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    if (this.nb_questions == 3) {
      liste_type_de_questions = [1, 2, 5];
    }
    if (this.nb_questions == 4) {
      liste_type_de_questions = [1, 2, 4, 5];
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // abcd +efg
          a =
            randint(1, 9) * 10000 +
            randint(5, 9) * 1000 +
            randint(5, 9) * 100 +
            randint(7, 9) * 10 +
            randint(1, 9);
          b = randint(5, 9) * 100 + randint(7, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${b}$`;
          !sortie_html
            ? (texte_corr = `$\\opadd{${a}}{${b}}$`)
            : (texte_corr = `$${tex_nombre(a)}+${b}=${tex_nombre(a + b)}$`);
          break;
        case 2: // abc0-efg
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          e = randint(b, 9);
          f = randint(c, 9);
          g = randint(2, 9);
          x = a * 1000 + b * 100 + c * 10;
          y = e * 100 + f * 10 + g;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}+${y}=${tex_nombre(x + y)}$`);
          break;
        case 3: // 1abc-def
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          d = randint(a, 9);
          e = randint(1, 9);
          f = randint(c, 9);
          x = 1000 + a * 100 + b * 10 + c;
          y = d * 100 + e * 10 + f;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}-${y}=${tex_nombre(x - y)}$`);
          break;
        case 4: // abc*d0e tables de 2 à 5
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, 5);
          e = randint(2, 5);
          x = 100 * a + 10 * b + c;
          y = d * 100 + e;
          texte = `$${tex_nombre(x)}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
        case 5: // abc*de tables de 5 à 9
          a = randint(5, 9);
          b = randint(5, 9);
          c = randint(5, 9);
          d = randint(5, 9);
          e = randint(5, 9);
          x = 100 * a + 10 * b + c;
          y = 10 * d + e;
          texte = `$${x}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        if (!sortie_html && i == 0) {
          texte_corr = `\\setlength\\itemsep{2em}` + texte_corr;
        } // espacement entre les questions
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions et soustractions de nombres décimaux
 * * xxx-xx,x
 * * xxx-xx,xx
 * * xxx,x-xxx
 * * x0x-xx9,x
 * * xxx+xx,x
 * * xxx+xx,xx
 * * xxx,x+xxx
 * * x0x+xx9,x
 * @Auteur Rémi Angot
 * Référence 6C20
 */
function Additionner_soustraires_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additions et soustractions de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_de_type_d_additions = combinaison_listes(
      [5, 6, 7, 8],
      this.nb_questions
    );
    let liste_de_type_de_soustractions = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_type_de_questions = [];
    for (let i = 0; i < this.nb_questions; i++) {
      if (i + 1 < this.nb_questions / 2) {
        // première moitié sont des additions mais si c'est impair on prendra plus de soustractions
        liste_type_de_questions.push(liste_de_type_d_additions[i]);
      } else {
        liste_type_de_questions.push(liste_de_type_de_soustractions[i]);
      }
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx-xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 2: // xxx-xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 3: // xxx,x-xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 4: // x0x-xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 5: // xxx+xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 6: // xxx+xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 7: // xxx,x+xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 8: // x0x+xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.
 *
 * Niveau de difficulté 1 :
 * * division par 2, 3 , 4 ou 5
 * * division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 :
 * * division par 11, 12, 15, 25
 * * division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
 * * division par un multiple de 10 et un 0 dans le quotient
 * @Auteur Rémi Angot
 * Référence 6C11
 */
function Divisions_euclidiennes() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions euclidiennes";
  this.consigne =
    "Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opidiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup==0) type_de_questions_disponibles=[1,1,1,1]
    else if (this.sup ==1)  type_de_questions_disponibles = [1, 2, 2, 3]
    else if  (this.sup==2) type_de_questions_disponibles = [4, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // division par 2, 3 , 4 ou 5
          q = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = randint(2, 5);
          break;
        case 2: // division par 6 à 9
          q = randint(5, 9) * 100 + randint(2, 5) * 10 + randint(5, 9);
          b = randint(6, 9);
          break;
        case 3: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            q = randint(2, 9) * 1000 + randint(2, 9) * 100 + randint(2, 9);
          } else {
            q = randint(2, 9) * 1000 + randint(2, 9) * 10 + randint(2, 9);
          }
          b = randint(7, 9);
          break;
        case 4: // division par 11, 12, 15, 25
          q = randint(1, 5) * 100 + randint(1, 5) * 10 + randint(1, 5);
          b = choice([11, 12, 15, 25]);
          break;
        case 5: // division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
          q = randint(1, 5) * 1000 + randint(6, 9) * 100 + randint(1, 5);
          b = choice([11, 12, 13, 14, 21, 22, 23, 24]);
          break;
        case 6: // division par un multiple de 10 et un 0 dans le quotient
          q = randint(6, 9) * 1000 + randint(6, 9) * 10 + randint(1, 5);
          b = randint(2, 9) * 10;
          break;
      }
      r = randint(0, b - 1); //reste inférieur au diviseur
      a = b * q + r;
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (r == 0) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${q}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${q}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}=${b}\\times${q}+${r}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}=${b}\\times${q}+${r}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Quotient inférieur à 10\n2: Quotient à 2 chiffres",
  ];
}

/**
 * Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.
 *
 * Niveau de difficulté 1 :
 * * entier divisé par 4 quotient : xx,25 ou xx,75
 * * entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
 * * entier divisé par 6 quotient : xxx,5
 * * quotient xx,xx division par 2, 3 , 4 ou 5
 * * quotient x,xxx division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 : division par 3, 7 ou 9
 * @Auteur Rémi Angot
 * Référence 6C31
 */
function Division_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions décimales";
  this.consigne =
    "Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opdiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    this.sup == 1
      ? (type_de_questions_disponibles = [choice([1, 2, 3]), 4, 5, 6])
      : (type_de_questions_disponibles = [7, 8, 9]);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // entier divisé par 4 quotient : xx,25 ou xx,75
          b = 4;
          a = (randint(2, 9) * 10 + randint(2, 9)) * 4 + choice([1, 3]);
          q = calcul(a / b);
          break;
        case 2: // entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
          b = 8;
          a = randint(2, 9) * 8 + choice([1, 3, 5, 7]);
          q = calcul(a / b);
          break;
        case 3: // entier divisé par 6 quotient : xxx,5
          b = 6;
          q = calcul(
            randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) + 0.5
          );
          a = q * 6;
          break;
        case 4: // quotient xx,xx division par 2, 3 , 4 ou 5
          q = calcul(
            randint(2, 5) * 10 +
              randint(2, 5) +
              randint(2, 5) / 10 +
              randint(2, 5) / 100
          );
          b = randint(2, 5);
          a = calcul(b * q);
          break;
        case 5: // quotient x,xxx division par 6 à 9
          q = calcul(
            randint(6, 9) +
              randint(5, 9) / 10 +
              randint(6, 9) / 100 +
              randint(6, 9) / 1000
          );
          b = randint(6, 9);
          a = calcul(b * q);
          break;
        case 6: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            //x0x,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) + randint(2, 9) / 10
            );
          } else {
            //xx0,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) / 10
            );
          }
          b = randint(7, 9);
          a = calcul(b * q);
          break;
        case 7: // division par 7
          a = randint(2, 9) * 7 + randint(1, 6);
          b = 7;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 8: // division par 9
          a = calcul((randint(11, 19) * 9) / 10 + randint(1, 8) / 10);
          b = 9;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 9: //division par 3
          a = calcul((randint(11, 99) * 3) / 100 + randint(1, 2) / 100);
          b = 3;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
      }
      if (this.sup == 2) {
        this.consigne =
          "Effectuer les divisions décimales suivantes et donner une valeur approchée de leur quotient au millième près.";
      }
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (this.sup == 1) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${tex_nombre(q)}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}\\approx${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}\\approx${tex_nombre(q)}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    2,
    "1 : Déterminer le quotient exact\n2: Déterminer un quotient approché au millième près",
  ];
}

/**
 * Multiplication de deux nombres décimaux
 *
 * * xxx * xx,x chiffres inférieurs à 5
 * * xx,x * x,x
 * * x,xx * x0x
 * * 0,xx * x,x
 * @Auteur Rémi Angot
 * Référence 6C30
 */
function Multiplier_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications posées de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  this.spacing_corr = 1; //Important sinon le calcul posé ne fonctionne pas avec opmul et spacing
  this.nb_questions = 4;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx * xx,x chiffres inférieurs à 5
          a = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = calcul(randint(2, 5) * 10 + randint(2, 5) + randint(2, 5) / 10);
          break;
        case 2: // xx,x * x,x
          a = calcul(randint(2, 9) * 10 + randint(2, 9) + randint(2, 9) / 10);
          b = calcul(randint(6, 9) + randint(6, 9) / 10);
          break;
        case 3: // x,xx * x0x
          a = calcul(randint(2, 9) + randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) * 100 + randint(2, 9));
          break;
        case 4: // 0,xx * x,x
          a = calcul(randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) + randint(2, 9) / 10);
          break;
      }

      texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
      sortie_html
        ? (texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombrec(
            a * b
          )}$`)
        : (texte_corr = `$\\opmul[decimalsepsymbol={,}]{${a}}{${b}}$`);

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplication d'un nombre décimal dans différentes écritures par 10, 100, 1000
 *
 *  * Type 1 : écriture décimale
 *  * Type 2 : écriture fractionnaire
 *  * Type 3 : écritures fractionnaires et décimales
 *
 *
 *  * Sup2 : avec ou sans calculs à trous
 * @Auteur Rémi Angot
* Référence 6C30-1
  *
 */
function Multiplier_decimaux_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications d'un nombre décimal par 10, 100 ou 1 000.";
  this.consigne = "Calculer.";
  this.sup = 3;
  this.sup2 = false;
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [];
    if (this.sup == 1 && !this.sup2) type_de_questions_disponibles = [1, 2];
    if (this.sup == 1 && this.sup2)
      type_de_questions_disponibles = [1, 2, 5, 6];
    if (this.sup == 2 && !this.sup2) type_de_questions_disponibles = [3, 4];
    if (this.sup == 2 && this.sup2)
      type_de_questions_disponibles = [3, 4, 3, 4, 7, 8, 9, 10];
    if (this.sup == 3 && !this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4];
    if (this.sup == 3 && this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    if (this.sup2) this.consigne = "Calculer et compléter.";

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_facteurs = combinaison_listes(
      [10, 100, 1000],
      this.nb_questions
    );

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, den;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // a,abcd × 10
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 2: // 10 × a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 3: // abcd/10 × 10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${tex_nombre(
            b
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 4: // 10 × abcd/10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(a, den)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            den
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 5: // .... × 10 = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$\\ldots \\times${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(a)
          )} \\times ${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          break;
        case 6: // 10 × .... = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)} \\times \\ldots = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${mise_en_evidence(
            tex_nombre(a)
          )}  = ${tex_nombrec(a * b)}$`;
          break;
        case 7: // case 3 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times \\ldots = ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${mise_en_evidence(
            tex_nombre(b)
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 8: // case 4 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$ \\ldots \\times${tex_fraction(a, den)}= ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(b)
          )} \\times ${tex_fraction(a, den)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 9: // case 3 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, "\\ldots")}\\times${tex_nombre(
            b
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} \\times ${tex_nombre(b)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 10: // case 4 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(
            a,
            "\\ldots"
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Types de calculs",
    3,
    "1 : Écriture décimale\n2 : Écriture fractionnaire\n3 : Écritures décimales et fractionnaires",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des calculs à trous"];
}

/**
 * Plusieurs type de calcul avec des entiers.
 *
 * Sans parenthèses :
 * * a+b*c
 * * a+b÷c
 * * a÷b*c
 * * a-b*c
 * * a*b÷c
 * * a*b+c
 * * a-b+c
 * * a+b+c*d
 * * a*b+c*d
 * * a*b*c-d
 * * a*b-c÷d
 * * a*b+c÷d
 *
 * Avec parenthèses :
 * * a*(b-c)
 * * (a-b)*c
 * * (a-b)÷c
 * * a÷(b+c)
 * * (a-b)÷c
 * * a*(b-c)*d
 * * a*b*(c-d)
 * * a*(b-c*d)
 * * (a+b*c)÷d
 * * a*(b-c*d)
 * * a*b÷(c+d)
 * * a*(b÷c+d)
 * @Auteur Rémi Angot
 * Référence 6C33
 */
function Priorites() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer en utilisant les priorités opératoires";
  this.consigne = "Calculer";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_questions_disponibles = []; //
    if (this.sup == 1) {
      liste_questions_disponibles = range1(12);
    } else if (this.sup == 2) {
      liste_questions_disponibles = range1(22, range1(12));
    } else {
      liste_questions_disponibles = range1(22);
    }
    let liste_type_de_questions = combinaison_listes(
      liste_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, a, b, c, d, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}+${b}\\times${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\times" + c)}=${a}+${
            b * c
          }=${a + b * c}$`;
          break;
        case 2:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 11);
          texte = `$${a}+${b}\\div${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\div" + c)}=${a}+${
            b / c
          }=${a + b / c}$`;
          break;
        case 3:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * randint(2, 11);
          texte = `$${a}\\div${b}\\times${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\div" + b)}\\times${c}=${
            a / b
          }\\times${c}=${(a / b) * c}$`;
          break;
        case 4:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * c + randint(2, 11);
          texte = `$${a}-${b}\\times${c}$`;
          texte_corr = `$${a}-${mise_en_evidence(b + "\\times" + c)}=${a}-${
            b * c
          }=${a - b * c}$`;
          break;
        case 5:
          if (choice([true, false])) {
            //a est un multiple de c
            c = randint(2, 6);
            a = c * randint(2, 5);
            b = randint(2, 6);
          } else {
            // b est un multiple de c
            c = randint(2, 6);
            b = c * randint(2, 5);
            a = randint(2, 6);
          }
          texte = `$${a}\\times${b}\\div${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}\\div${c}=${
            a * b
          }\\div${c}=${(a * b) / c}$`;
          break;
        case 6:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}\\times${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}+${c}=${
            a * b
          }+${c}=${a * b + c}$`;
          break;
        case 7:
          b = randint(20, 59);
          a = b + randint(11, 29);
          c = randint(11, 29);
          texte = `$${a}-${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "-" + b)}+${c}=${a - b}+${c}=${
            a - b + c
          }$`;
          break;
        case 8:
          a = randint(2, 20);
          b = randint(2, 20);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}+${b}+${c}\\times${d}$`;
          texte_corr = `$${a}+${b}+${mise_en_evidence(
            c + "\\times" + d
          )}=${a}+${b}+${c * d}=${a + b + c * d}$`;
          break;
        case 9:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}\\times${b}+${c}\\times${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\times" + d)}=${a * b}+${c * d}=${
            a * b + c * d
          }$`;
          break;
        case 10:
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, a * b * c - 1);
          texte = `$${a}\\times${b}\\times${c}-${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}\\times${c}-${d}=${mise_en_evidence(a * b + "\\times" + c)}-${d}=${
            a * b * c - d
          }$`;
          break;
        case 11:
          a = randint(3, 11);
          b = randint(3, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}-${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}-${mise_en_evidence(c + "\\div" + d)}=${a * b}-${c / d}=${
            a * b - c / d
          }$`;
          break;
        case 12:
          a = randint(2, 11);
          b = randint(2, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}+${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\div" + d)}=${a * b}+${c / d}=${
            a * b + c / d
          }$`;
          break;
        case 13:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c + randint(2, 11);
          texte = `$${a}\\times(${b}-${c})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})=${a}\\times${b - c}=${a * (b - c)}$`;
          break;
        case 14:
          b = randint(11, 39);
          a = b + randint(2, 11);
          c = randint(2, 11);
          texte = `$(${a}-${b})\\times${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\times${c}=${
            a - b
          }\\times${c}=${(a - b) * c}$`;
          break;
        case 15:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 16:
          b = randint(2, 5);
          c = randint(2, 6);
          a = (b + c) * randint(2, 9);
          texte = `$${a}\\div(${b}+${c})$`;
          texte_corr = `$${a}\\div(${mise_en_evidence(b + `+` + c)})=${a}\\div${
            b + c
          }=${a / (b + c)}$`;
          break;
        case 17:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 18:
          c = randint(11, 39);
          b = c + randint(2, 5);
          a = randint(2, 5);
          d = randint(2, 5);
          texte = `$${a}\\times(${b}-${c})\\times${d}$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})\\times${d}=${a}\\times${b - c}\\times${d}=${a * (b - c) * d}$`;
          break;
        case 19:
          d = randint(11, 39);
          c = d + randint(2, 5);
          a = randint(2, 5);
          b = randint(2, 5);
          texte = `$${a}\\times${b}\\times(${c}-${d})$`;
          texte_corr = `$${a}\\times${b}\\times(${mise_en_evidence(
            c + `-` + d
          )})=${a}\\times${b}\\times${c - d}=${a * b * (c - d)}$`;
          break;
        case 20:
          a = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          b = c * d + randint(2, 11);
          texte = `$${a}\\times(${b}-${c}\\times${d})$`;
          texte_corr = `$${a}\\times(${b}-${mise_en_evidence(
            c + `\\times` + d
          )})=${a}\\times(${mise_en_evidence(b + `-` + c * d)})=${a}\\times${
            b - c * d
          }=${a * (b - c * d)}$`;
          break;
        case 21:
          a = randint(2, 11);
          b = randint(2, 11);
          if (liste_des_diviseurs(a * b).length <= 2) {
          }
          let liste = liste_des_diviseurs(a * b);
          if (liste.length > 2) {
            liste.pop(); //on supprime le plus grand diviseur qui est le produit
          }
          if (liste.length > 2) {
            enleve_element(liste, liste[1]); //on supprime le plus petit diviseur (autre que 1)
          }

          let somme = choice(liste, [1]); // la somme doit être un diviseur différent de 1
          c = randint(1, somme - 1);
          d = somme - c;
          texte = `$${a}\\times${b}\\div(${c}+${d})$`;
          texte_corr = `$${a}\\times${b}\\div(${mise_en_evidence(
            c + `+` + d
          )})=${mise_en_evidence(a + "\\times" + b)}\\div${c + d}=${
            a * b
          }\\div${c + d}=${(a * b) / (c + d)}$`;
          break;
        case 22:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 5);
          d = randint(2, 6);
          texte = `$${a}\\times(${b}\\div${c}+${d})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `\\div` + c
          )}+${d})=${a}\\times(${mise_en_evidence(
            b / c + `+` + d
          )})=${a}\\times${b / c + d}=${a * (b / c + d)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de calculs",
    3,
    "1 : Sans parenthèses\n2: Avec parenthèses\n3: Avec ou sans parenthèses",
  ];
}

/**
 * @Auteur Rémi Angot
 */
function Code_LaTeX_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Code LaTeX personnalisé";
  this.pas_de_version_HMTL = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "%Votre code LaTeX";
  this.sup2 = "%Votre code LaTeX pour le corrigé";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "Code LaTeX énoncé",
    "Par exemple : \\input{mon_fichier}",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = [
    "Code LaTeX correction",
    "Par exemple : \\input{mon_fichier_corr}",
  ];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * @Auteur Rémi Angot
 */
function HTML_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Exercice personnalisé";
  this.pas_de_version_HMTL = false;
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Énoncé de l'exercice";
  this.sup2 = "Énoncé de la correction";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_long_texte = ["Exercice"]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = ["Correction"];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * Pavages et symétrie axiale.
 * Pas de version LaTeX
 * référence 6G25-1
 */
function Pavages_et_reflexion() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage triangulaire";
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAIP#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAAjQwAAAAAUBEAAAAAAAAAAAABQD#####AAN5TTEAATAAAAABAAAAAAAAAAAAAAANAP####8BAAAAABAAAk0xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAEAAAAAgAAAARAAAADQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAP####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAABMAAAABAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAABYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAFv####8AAAABAAlDUG9seWdvbmUA#####wAAfwAAAQAAAAQAAAAXAAAAGAAAABkAAAAX#####wAAAAEAEENTdXJmYWNlUG9seWdvbmUA#####wAAfwAAAAAFAAAAGgAAAAUA#####wACbngAATcAAAABQBwAAAAAAAAAAAAFAP####8AAm55AAE3AAAAAUAcAAAAAAAAAAAADAD#####AObm5gABAAAAAQAAAAwAAAAPAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAADQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAAgAAAAcAAAACAAAAB3#####AAAAAQAHQ01pbGlldQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAB8AAAAFAP####8AA3hOMwABOAAAAAFAIAAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAATQAAAABQBAAAAAAAAAAAAAFAP####8AA3lNMwACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAD#ABAAAk4zAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAIQAAAAgAAAAiAAAADQD#####AQAA#wAQAAJNMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACMAAAAIAAAAJP####8AAAABAAtDTWVkaWF0cmljZQD#####AAAA#wAQAAABAAIAAAAlAAAAJgAAAAUA#####wADeE4yAAEwAAAAAQAAAAAAAAAAAAAABQD#####AAN5TjIAATYAAAABQBgAAAAAAAAAAAAFAP####8AA3lNMgABNgAAAAFAGAAAAAAAAAAAAAUA#####wADeE0yAAEwAAAAAQAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACNDIAAAABQEUAAAAAAAAAAAAFAP####8AA3lOMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTjEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAuAAAACAAAAC8AAAASAP####8AAH8AARAABChkMSkBAAI#7MzMzMzMzQAAADAAAAAS#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADAAAAAcBAAAACAAAABwAAAABP#AAAAAAAAD#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQABAAAAAQAAADIAAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADwAAAAcBAAAACAAAAB0AAAABP#AAAAAAAAAAAAAEAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAAAAAAAAAAAAzAAAADgD#####AAAAAQAAADQAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAANgAAABQA#####wEAAAAAEAAAAQABAAAANQAAADcAAAAEAP####8BAAAAARAAAVUAAAAAAAAAAABACAAAAAAAAAUAAT#Q3iTV#EVNAAAAOP####8AAAACAA1DTWVzdXJlQWZmaXhlAP####8AAXoAAAAeAAAAOf####8AAAABAA1DRm9uY0NvbXBsZXhlAP####8AA251bQASMipyZSh6KSsyKm54KmltKHopAAAABwAAAAAHAgAAAAFAAAAAAAAAAP####8AAAACAAlDRm9uY3Rpb25M#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAcCAAAABwIAAAABQAAAAAAAAAD#####AAAAAQAXQ1Jlc3VsdGF0VmFsZXVyQ29tcGxleGUAAAAcAAAAF00AAAAYAAAAAAABegAAAA8A#####wH#AP8AAQAAAAQAAAABAAAADAAAAA8AAAAB#####wAAAAIACENNZXN1cmVZAP####8AAnlVAAAACQAAADn#####AAAAAgAIQ01lc3VyZVgA#####wACeFUAAAAJAAAAOQAAAA4A#####wAAAAEAAAA5AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAPwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAA#AAAADwD#####AQAAAAABAAAABAAAAEAAAABBAAAAQgAAAED#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8AAAAAAAAAQwAAAAgAAAAdAAAAOQAAAAYAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAAAcAP####8AAAAAAAAARAAAAAgAAAAcAAAANQAAAAoAAAA1AAAANwAAADgAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAACgD#####AAAADAAAAAFATgAAAAAAAAAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAEYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAARgAAAA8A#####wH#AP8ABAAAAAQAAABHAAAASAAAAEkAAABHAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAPwAAAAkA#####wEAAAAAEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABLAAAATAAAAE0AAABLAAAAHAD#####AQAAAAAAAE4AAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAAHAD#####AAAAAAAAAE8AAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAATwAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#VVUdaMaS+AAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAOQAAAE0AAAABP+VVR1oxpL4AAAAFAP####8AA3hVJwAbaW50KHhVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPgAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAAAAAAUA#####wADeVUnABtpbnQoeVUqMTAwMDAwMCswLjUpLzEwMDAwMDAAAAAHAwAAABcCAAAABwAAAAAHAgAAAAgAAAA9AAAAAUEuhIAAAAAAAAAAAT#gAAAAAAAAAAAAAUEuhIAAAAAA#####wAAAAEAD0NDYWxjdWxDb21wbGV4ZQD#####AAJ6VQAJeFUnK2kqeVUnAAAABwAAAAAZAAAAUwAAAAcC#####wAAAAEAC0NDb25zdGFudGVpAAAAGQAAAFQAAAAdAP####8ABG51bVUABm51bSh6Kf####8AAAABABZDQXBwZWxGb25jdGlvbkNvbXBsZXhlAAAAOwAAABkAAAA6#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAMQAAAAAAAMAkAAAAAAAAAAAAURAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABWAAAAHQD#####AAVudW1VMQAGbnVtVSsxAAAABwAAAAAZAAAAVgAAAAE#8AAAAAAAAAAAACAA#####wEAAAAAwC4AAAAAAADAIAAAAAAAAAAAAFIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAWAAAABwA#####wAAAAAAAABXAAAACAAAAB0AAAA5AAAABwAAADkAAAA6AAAAPwAAAE0AAABRAAAAVgAAAFcAAAAcAP####8AAAAAAAAAWgAAAAgAAAAcAAAANQAAAAsAAAA1AAAANwAAADgAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAWgAAABwA#####wAAAAAAAABZAAAACAAAAB0AAAA5AAAACAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAHAD#####AAAAAAAAAFwAAAAIAAAAHAAAADUAAAAMAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFIAAABWAAAAWAAAAFkAAABcAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAABQAAAAOAP####8AAAABAAAAXgAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABfAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAF8AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAXwAAAA8A#####wD#AAAAAgAAAAQAAABgAAAAYQAAAGIAAABgAAAAEAD#####AP8AAAAAAAUAAABjAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAZQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABmAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAZgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAUAAAADgD#####AAAAAQAAABMAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAawAAAA4A#####wAAAGwAAAAmAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAG0AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABtAAAADwD#####AAAA#wABAAAABAAAAG4AAABvAAAAcAAAAG4AAAAQAP####8AAAD#AAAABQAAAHEAAAAOAP####8AAAABAAAADwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADQAAABzAAAAFAD#####AAAAAAAQAAABAAEAAAB0AAAAH#####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAM#####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAfwAAQDUAAAAAAADARQAAAAAAAQAAAHYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAAUAP####8AAAD#ABAAAAEAAQAAAAEAAAA0AAAAIQD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAeAAAACcAAAAiAP####8AAAD#AMBAAAAAAAAAwAgAAAAAAAAAAAB5EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMykpAAAAIQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAHUAAAAiAP####8AAH8AAMBEgAAAAAAAP#AAAAAAAAAAAAB7EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMSkpAAAAEQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAACz#####AAAAAQAJQ0Ryb2l0ZU9tAP####8A#wAAABAAAAEAAgAAAAkAAAB9AAAAAT#wAAAAAAAAAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAADMAAAAiAP####8A#wAAAMA1AAAAAAAAwEKAAAAAAAAAAAB#EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikpAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAAHUAAAAiAP####8A#wAAAMAUAAAAAAAAQCYAAAAAAAAAAACBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikp################";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAMz#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAATgAAAABQCAAAAAAAAAAAAAFAP####8AA3lNMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTTEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAQAAAACAAAABEAAAANAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAEwAAAAEAAAAJAP####8BAAAAABAAAVcAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAFYAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAAAWAAAACQD#####AQAAAAAQAAFZAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAAW#####wAAAAEACUNQb2x5Z29uZQD#####AQB#AAABAAAABAAAABcAAAAYAAAAGQAAABf#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAAAaAAAABQD#####AAJueAABNwAAAAFAHAAAAAAAAAAAAAUA#####wACbnkAATcAAAABQBwAAAAAAAAAAAAMAP####8A5ubmAAEAAAABAAAADAAAAA8AAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAANAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAACAAAABwAAAAIAAAAHf####8AAAABAAdDTWlsaWV1AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAHwAAAAUA#####wADeE4zAAIyNgAAAAFAOgAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAAjE2AAAAAUAwAAAAAAAAAAAABQD#####AAN5TTMAAjIyAAAAAUA2AAAAAAAAAAAADQD#####AQAA#wAQAAJOMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACEAAAAIAAAAIgAAAA0A#####wEAAP8AEAACTTMAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAjAAAACAAAACT#####AAAAAQALQ01lZGlhdHJpY2UA#####wEAAP8AEAAAAQACAAAAJQAAACYAAAAFAP####8AA3hOMgACMTQAAAABQCwAAAAAAAAAAAAFAP####8AA3lOMgABMgAAAAFAAAAAAAAAAAAAAAUA#####wADeU0yAAIxNAAAAAFALAAAAAAAAAAAAAUA#####wADeE0yAAEyAAAAAUAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACMTYAAAABQDAAAAAAAAAAAAAFAP####8AA3lOMQACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAAAABAAAk4xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAALgAAAAgAAAAvAAAAEgD#####AQB#AAEQAAQoZDEpAQACP+zMzMzMzM0AAAAwAAAAEv####8AAAABABFDUG9pbnRQYXJBYnNjaXNzZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAAwAAAAHAQAAAAgAAAAcAAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8AAAAAABAAAAEAAQAAAAEAAAAyAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAA8AAAAHAQAAAAgAAAAdAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAAAAAAAAAAAMwAAAA4A#####wAAAAEAAAA0AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANQAAADYAAAAUAP####8BAAAAABAAAAEAAQAAADUAAAA3AAAABAD#####AQAAAAEQAAFVAAAAAAAAAAAAQAgAAAAAAAAFAAE#0N4k1fxFTQAAADj#####AAAAAgANQ01lc3VyZUFmZml4ZQD#####AAF6AAAAHgAAADn#####AAAAAQANQ0ZvbmNDb21wbGV4ZQD#####AANudW0AEjIqcmUoeikrMipueCppbSh6KQAAAAcAAAAABwIAAAABQAAAAAAAAAD#####AAAAAgAJQ0ZvbmN0aW9uTP####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAAHAgAAAAcCAAAAAUAAAAAAAAAA#####wAAAAEAF0NSZXN1bHRhdFZhbGV1ckNvbXBsZXhlAAAAHAAAABdNAAAAGAAAAAAAAXoAAAAPAP####8B#wD#AAEAAAAEAAAAAQAAAAwAAAAPAAAAAf####8AAAACAAhDTWVzdXJlWQD#####AAJ5VQAAAAkAAAA5#####wAAAAIACENNZXN1cmVYAP####8AAnhVAAAACQAAADkAAAAOAP####8AAAABAAAAOQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABAAAAAQQAAAEIAAABA#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AAAAAAAAAEMAAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAAHAD#####AAAAAAAAAEQAAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAAoA#####wAAAAwAAAABQE4AAAAAAAAAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAARgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADwAAAEYAAAAPAP####8B#wD#AAQAAAAEAAAARwAAAEgAAABJAAAARwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAD8AAAAJAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAD8AAAAPAP####8BAAAAAAEAAAAEAAAASwAAAEwAAABNAAAASwAAABwA#####wEAAAAAAABOAAAACAAAAB0AAAA5AAAABgAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAABwA#####wAAAAAAAABPAAAACAAAABwAAAA1AAAACgAAADUAAAA3AAAAOAAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAAE8AAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAATQAAAAE#1VVHWjGkvgAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#lVUdaMaS+AAAABQD#####AAN4VScAG2ludCh4VSoxMDAwMDAwKzAuNSkvMTAwMDAwMAAAAAcDAAAAFwIAAAAHAAAAAAcCAAAACAAAAD4AAAABQS6EgAAAAAAAAAABP+AAAAAAAAAAAAABQS6EgAAAAAAAAAAFAP####8AA3lVJwAbaW50KHlVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPQAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAP####8AAAABAA9DQ2FsY3VsQ29tcGxleGUA#####wACelUACXhVJytpKnlVJwAAAAcAAAAAGQAAAFMAAAAHAv####8AAAABAAtDQ29uc3RhbnRlaQAAABkAAABUAAAAHQD#####AARudW1VAAZudW0oein#####AAAAAQAWQ0FwcGVsRm9uY3Rpb25Db21wbGV4ZQAAADsAAAAZAAAAOv####8AAAABAA9DVmFsZXVyQWZmaWNoZWUA#####wEAAAAAwDEAAAAAAADAJAAAAAAAAAAAAFEQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAVgAAAB0A#####wAFbnVtVTEABm51bVUrMQAAAAcAAAAAGQAAAFYAAAABP#AAAAAAAAAAAAAgAP####8BAAAAAMAuAAAAAAAAwCAAAAAAAAAAAABSEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAFgAAAAcAP####8AAAAAAAAAVwAAAAgAAAAdAAAAOQAAAAcAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAHAD#####AAAAAAAAAFoAAAAIAAAAHAAAADUAAAALAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFEAAABWAAAAVwAAAFoAAAAcAP####8AAAAAAAAAWQAAAAgAAAAdAAAAOQAAAAgAAAA5AAAAOgAAAD8AAABNAAAAUgAAAFYAAABYAAAAWQAAABwA#####wAAAAAAAABcAAAACAAAABwAAAA1AAAADAAAADUAAAA3AAAAOAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAXAAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAUAAAADgD#####AAAAAQAAAF4AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAXwAAAAkA#####wH#AP8AEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAXwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABfAAAADwD#####Af8AAAACAAAABAAAAGAAAABhAAAAYgAAAGAAAAAQAP####8B#wAAAAAABQAAAGMAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAFAAAAA4A#####wAAAAEAAABlAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAZgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABmAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAEwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABMAAABrAAAADgD#####AAAAbAAAACYAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABHAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAABtAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAG0AAAAPAP####8BAAD#AAEAAAAEAAAAbgAAAG8AAABwAAAAbgAAABAA#####wEAAP8AAAAFAAAAcQAAAA4A#####wAAAAEAAAAPAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAAHMAAAAUAP####8AAAAAABAAAAEAAQAAAHQAAAAf#####wAAAAEAEENJbnREcm9pdGVEcm9pdGUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAz#####wAAAAIADENDb21tZW50YWlyZQD#####AQB#AABANQAAAAAAAMBFAAAAAAABAAAAdhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAABQA#####wAAAP8AEAAAAQABAAAAAQAAADQAAAAhAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAB4AAAAJwAAACIA#####wEAAP8AwEAAAAAAAADACAAAAAAAAAAAAHkQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAhAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAdQAAACIA#####wAAfwAAwESAAAAAAAA#8AAAAAAAAAAAAHsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAARAP####8BAH8AABAAAkgyAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAs#####wAAAAEACUNEcm9pdGVPbQD#####Af8AAAAQAAABAAIAAAAJAAAAfQAAAAE#8AAAAAAAAAAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAAzAAAAIgD#####Af8AAADANQAAAAAAAMBCgAAAAAAAAAAAfxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAB1AAAAIgD#####Af8AAADAFAAAAAAAAEAmAAAAAAAAAAAAgRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAABEA#####wEAfwAAEAACSDEAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAADAAAAAUAP####8BAH8AABAAAAEAAgAAABIAAAAwAAAABAD#####AQB#AAEQAANNJzEAAAAAAAAAAABACAAAAAAAAAUAAT#YiIhSPtDkAAAAhP####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAM#####wAAAAIAD0NNZXN1cmVBYnNjaXNzZQD#####AAJrMQAAAIMAAAASAAAAhQAAAAYA#####wAAAIMAAAAIAAAAhwAAAAkA#####wEAfwAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAAIj#####AAAAAQANQ1BvaW50UHJvamV0ZQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGAAAADEAAAAGAP####8AAACKAAAACAAAAIcAAAAJAP####8BAH8AABAAAlgnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABgAAACLAAAAJgD#####AQB#AAAQAAJZJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAAMQAAAAYA#####wAAAI0AAAAIAAAAhwAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACOAAAADwD#####AQB#AAACAAAABAAAAIkAAACMAAAAjwAAAIkAAAAQAP####8BAH8AAAAABQAAAJD#####AAAAAQAPQ1N5bWV0cmllQXhpYWxlAP####8AAAAxAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAFwAAAJIAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAYAAAAkgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACSAAAADwD#####AQB#AAACAAAABAAAAJMAAACUAAAAlQAAAJMAAAAQAP####8BAH8AAAAABQAAAJb#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####wpAi1QAAAAAAEA#hR64UeuGAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTEAAAAAAAAUAAAAZAAAADwAAACFAAEA#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQIs8AAAAAABAT8KPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAgAAACRAAAAkAAAABsAAAAaAAAAMQAAAHcAAACXAAAAlv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8AAH8AAf####8KQItEAAAAAABAV+FHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MQAAAAAACAAAAJEAAACQAAAAGwAAABoAAAAxAAAAdwAAAJcAAACWAP####8AAAABAAtDTWFjcm9QYXVzZQD#####AAB#AAH#####EECN1AAAAAAAQEJCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AAB#AAH#####EEBTYAAAAAAAQCMKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGEAAAAAAAQAAACaAAAAmAAAAJkAAACbAAAAFAD#####AQB#AAAQAAABAAIAAAAtAAAALAAAAAQA#####wEAfwAAEAADTScyAAAAAAAAAAAAQAgAAAAAAAAFAAE#089zR#b9RQAAAJ0AAAAlAP####8AAmsyAAAAfQAAAC0AAACeAAAAJgD#####AAB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAH4AAAAGAP####8AAACgAAAACAAAAJ8AAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAoQAAACYA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAAB+AAAABgD#####AAAAowAAAAgAAACfAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAKQAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAApAAAAA8A#####wH#AAAAAgAAAAQAAACiAAAApQAAAKYAAACiAAAAEAD#####Af8AAAAAAAUAAACnAAAAKAD#####AP8AAAH#####CkCLlAAAAAAAQGKQo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMgAAAAAAABQAAABkAAAAPAAAAJ4AAQAAAAAnAP####8AAAB+AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAKoAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAAqgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAACqAAAADwD#####Af8AAAACAAAABAAAAKsAAACsAAAArQAAAKsAAAAQAP####8B#wAAAAAABQAAAK4AAAApAP####8A#wAAAf####8KQIu0AAAAAABAZpCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAkAAABkAAAAYwAAAKgAAACnAAAArwAAAK4AAAB+AAAAggAAAIAAAAAqAP####8A#wAAAf####8KQIvMAAAAAABAahCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MgAAAAAACQAAAGQAAABjAAAAqAAAAKcAAACvAAAArgAAAH4AAACCAAAAgAAAAAAsAP####8A#wAAAf####8QQGhwAAAAAABAIwo9cKPXDAIAAAAAAAAAAAAAAAABAAAAAAAAAAAADENvcnJlY3Rpb24gYgAAAAAABAAAALEAAACpAAAAsAAAAJsAAAARAP####8B#wAAABAAAkgzAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAlAAAAFAD#####Af8AAAAQAAABAAIAAAAmAAAAJQAAAAQA#####wH#AAAAEAADTSczAAAAAAAAAAAAQAgAAAAAAAAFAAE#0spidDyBMgAAALQAAAAlAP####8AAmszAAAAswAAACYAAAC1AAAAJgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbgAAACcAAAAmAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAJwAAAAYA#####wAAALcAAAAIAAAAtgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAAC5AAAABgD#####AAAAuAAAAAgAAAC2AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAcAAAALsAAAAGAP####8AAACzAAAACAAAALYAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABvAAAAvQAAAA8A#####wEAAP8AAgAAAAQAAAC6AAAAvgAAALwAAAC6AAAAJwD#####AAAAJwAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAADAAAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbwAAAMAAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAwAAAAA8A#####wEAAP8AAgAAAAQAAADBAAAAwgAAAMMAAADBAAAAEAD#####AQAA#wAAAAUAAADEAAAAEAD#####AQAA#wAAAAUAAAC#AAAAKAD#####AAAA#wH#####CkCL9AAAAAAAQHAoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMwAAAAAAABQAAABkAAAAPAAAALUAAQAAAAApAP####8AAAD#Af####8KQIwEAAAAAABAcjhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAgAAAByAAAAcQAAAMYAAAC#AAAAxQAAAMQAAAAnAAAAegAAACoA#####wAAAP8B#####wpAjAwAAAAAAEB0CFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQzAAAAAAAIAAAAcgAAAHEAAADGAAAAvwAAAMUAAADEAAAAJwAAAHoAAAAALAD#####AAAA#wH#####EEBzWAAAAAAAQCUKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAQAAADJAAAAxwAAAJsAAADIAAAALAD#####AAAA#wH#####EECMdAAAAAAAQHb4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApDb3JyZWN0aW9uAAAAAAADAAAAnAAAALIAAADKAAAAhv##########";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées

    let texte = ``,
      texte_corr = ``;
    let tabfigA = [],
      tabfigB = [];
    let nx = 7,
      ny = 7,
      xB = 6,
      yB = 0,
      xC = 0,
      yC = 6,
      zoom = 8;
    let xM1, yM1, xN1, yN1, xM2, yM2, xN2, yN2, xM3, yM3, xN3, yN3;
    let trouver = false,
      indexa,
      numa,
      anum,
      indexaxe1,
      xmil1,
      ymil1,
      indexb,
      numb,
      bnum,
      indexaxe2,
      xmil2,
      ymil2,
      indexc,
      numc,
      cnum,
      indexaxe3,
      xmil3,
      ymil3;
    let point = [0, 0, 0];

    for (let y = 0; y < ny; y++) {
      // On initialise les tableaux avec les coordonnées des points de référence (A,B,C et D) de chaque translaté et son numéro dans le pavage.
      for (let x = 0; x < nx; x++) {
        tabfigA.push([2 + x * 6, 2 + y * 6, 2 * x + 2 * y * nx]);
        tabfigB.push([4 + x * 6, 4 + y * 6, 2 * x + 2 * y * nx + 1]);
      }
    }

    // Première question : une figure dans tabfigA, une symétrie par rapport à une droite parallèle à y=-x, l'image est dans tabfigB	 !
    // L'axe de symétrie est la médiatrice du segment d'extrémités les centres de gravités des figures A et B.

    indexa = randint(0, nx * ny - 1);
    numa = tabfigA[indexa][2];
    indexaxe1 = randint(0, nx * ny - 1); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    //on calcule les coordonnées du milieu de [BC] on ajoute aux coordonnées du milieu de [BC] celles du vecteur BB'. (j'aurais pu réduire mais cela aurait rendu le calcul plus opaque)
    xmil1 = tabfigA[indexaxe1][0] - 2;
    ymil1 = tabfigA[indexaxe1][1] - 2;
    point = [tabfigA[indexa][0], tabfigA[indexa][1]];
    point = image_point_par_transformation(2, point, [xmil1, ymil1]);

    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
          trouver = true;
          anum = tabfigB[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexa = randint(0, nx * ny - 1);
        numa = tabfigA[indexa][2];
        indexaxe1 = randint(0, nx * ny - 1);
        xmil1 = tabfigA[indexaxe1][0] - 2;
        ymil1 = tabfigA[indexaxe1][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = image_point_par_transformation(2, point, [xmil1, ymil1]);
      }
    }
    xM1 = tabfigA[indexa][0];
    yM1 = tabfigA[indexa][1];
    xN1 = point[0];
    yN1 = point[1];

    texte = `Le point O peut être déplacé pour recadrer éventuellement le pavage.<br>`;
    texte +=
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ ?<br>`,
        `green`
      );
    texte_corr =
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ porte le numéro ${anum}.<br>`,
        `green`
      );
    // Deuxième question : une figure dans tabfigA, une symétrie par rapport à une parallèle à y=x ql'image est une figure dans tabfigA
    // On tracera la médiatrice du segment d'extrémité les 2 centres de gravités symétriques.
    indexb = randint(0, nx * ny - 1);
    numb = tabfigA[indexb][2];
    indexaxe2 = randint(0, nx * ny - 1, [indexb]); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil2 = tabfigA[indexaxe2][0] - 2;
    ymil2 = tabfigA[indexaxe2][1] - 2;
    point = image_point_par_transformation(
      1,
      [tabfigA[indexb][0], tabfigA[indexb][1]],
      [xmil2, ymil2]
    );
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          bnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexb = randint(0, nx * ny - 1);
        numb = tabfigA[indexb][2];
        indexaxe2 = randint(0, nx * ny - 1);
        xmil2 = tabfigA[indexaxe2][0] - 2;
        ymil2 = tabfigA[indexaxe2][1] - 2;
        point = image_point_par_transformation(
          1,
          [tabfigA[indexb][0], tabfigA[indexb][1]],
          [xmil2, ymil2]
        );
      }
    }
    xM2 = tabfigA[indexb][0];
    yM2 = tabfigA[indexb][1];
    xN2 = point[0];
    yN2 = point[1];

    texte +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(d_2)$ ?<br>`,
        `red`
      );
    texte_corr +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(2)$ porte le numéro ${bnum}.<br>`,
        `red`
      );

    // troisième question : une figure dans tabfigB, une symétrie par rapport à une parallèle à y=0, l'image est dans tabfigA
    indexc = 3; //randint(0,nx*ny-1)
    numc = tabfigB[indexc][2];
    indexaxe3 = 14; //randint(0,nx*ny-1) // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil3 = tabfigA[indexaxe3][0] - 2;
    ymil3 = tabfigA[indexaxe3][1] - 2;
    point = [tabfigB[indexc][0], tabfigB[indexc][1]];
    point = changement_de_base_ortho_tri(
      image_point_par_transformation(
        3,
        changement_de_base_tri_ortho(point),
        changement_de_base_tri_ortho([xmil3, ymil3])
      )
    );
    point[0] = arrondi(point[0], 1); // Les coordonnées sont censées être entières mais les calculs JS laissent toujours de cent-milliardièmes indésirables.
    point[1] = arrondi(point[1], 1);
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          cnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexc = randint(0, nx * ny - 1);
        numc = tabfigB[indexc][2];
        indexaxe3 = randint(0, nx * ny - 1);
        xmil3 = tabfigA[indexaxe3][0] - 2;
        ymil3 = tabfigA[indexaxe3][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = changement_de_base_ortho_tri(
          image_point_par_transformation(
            3,
            changement_de_base_tri_ortho(point),
            [xmil3, ymil3]
          )
        );
        point[0] = arrondi(point[0], 1);
        point[1] = arrondi(point[1], 1);
      }
    }

    xM3 = tabfigB[indexc][0];
    yM3 = tabfigB[indexc][1];
    xN3 = point[0];
    yN3 = point[1];

    texte +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ ?<br>`,
        `blue`
      );
    texte_corr +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ porte le numéro ${cnum}.<br>`,
        `blue`
      );

    if (sortie_html) {
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.executeMacro("MG32svgcorr${numero_de_l_exercice}","Correction")
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_cor = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

/**
 * Calcul de volumes (cube et pavé droit).
 * @Auteur Jean-Claude Lhote
 * référence 6M30
 */

function Calcul_de_volumes() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculs de volumes";
  this.consigne = "Calculer en détaillant le volume des solides donnés";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) type_de_questions_disponibles = [1, 2];
    // sixième : cube et pavé droit
    else if (this.classe == 5) type_de_questions_disponibles = [1, 2, 3, 4];
    // cinquième : on ajoute les prismes et le cylindre
    else if (this.classe == 4)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    // Quatrième : on ajoute pyramides et cones
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7]; // Troisième : on ajoute les boules.
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_unites = [
      [`~\\text{m}`, `~\\text{m}^3`],
      [`~\\text{dm}`, `~\\text{dm}^3`],
      [`~\\text{cm}`, `~\\text{cm}^3`],
      [`~\\text{mm}`, `~\\text{mm}^3`],
    ];
    for (
      let i = 0, texte, texte_corr, L, l, h, c, r, A, j, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // cube
          c = randint(2, 10);
          j = randint(0, 3); // pour le choix de l'unité
          texte = `Un cube de $${c} ${liste_unites[j][0]}$ d'arête.`;
          texte_corr = `$\\mathcal{V}= c^3 =c \\times c \\times c = ${c}${
            liste_unites[j][0]
          }\\times${c}${liste_unites[j][0]}\\times${c}${
            liste_unites[j][0]
          }=${tex_nombrec(c * c * c)}${liste_unites[j][1]}$`;
          break;
        case 2: // pavé droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            l = randint(2, 5);
            h = randint(3, 6);
            L = randint(6, 10);
            texte = `Un pavé droit de $${l}${liste_unites[j][0]}$ de largeur, de $${L}${liste_unites[j][0]}$ de longueur et de $${h}${liste_unites[j][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${L}${liste_unites[j][0]}\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(l * L * h)}${liste_unites[j][1]}$`;
          } else {
            // avec conversion
            j = randint(1, 2); // pour le choix de l'unité	centrale
            l = randint(2, 5);
            h = randint(3, 6) * 10;
            L = arrondi(randint(6, 10) / 10, 1);
            texte = `Un pavé droit de $${l}${
              liste_unites[j][0]
            }$ de largeur, de $${tex_nombre(L)}${
              liste_unites[j - 1][0]
            }$ de longueur et de $${h}${liste_unites[j + 1][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${tex_nombre(L)}${liste_unites[j - 1][0]}\\times${h}${
              liste_unites[j + 1][0]
            }=${l}${liste_unites[j][0]}\\times${L * 10}${
              liste_unites[j][0]
            }\\times${h / 10}${liste_unites[j][0]}=${tex_nombrec(
              arrondi(l * L * h)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 3: // Cylindre
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_nombrec(
              r * r * h
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi(r * r * h * Math.PI, 1)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\pi\\times${r * r}${liste_unites[j][0]}^2\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(r * r * h)}\\pi${
              liste_unites[j][1]
            }\\approx${tex_nombrec(calcul(r * r * h * Math.PI, 1))}${
              liste_unites[j][1]
            }$`;
          }
          break;
        case 4: // prisme droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Un prisme droit de hauteur $${l}${liste_unites[j][0]}$ et dont les bases sont des triangles de base $${c}${liste_unites[j][0]}$ et de hauteur correspondante $${h}${liste_unites[j][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j][0]}}{2}\\times${l}${
              liste_unites[j][0]
            }=${tex_nombrec(arrondi(calcul((c * h * l) / 2), 1))}${
              liste_unites[j][1]
            }$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Un prisme droit de hauteur $${l}${
              liste_unites[j - 1][0]
            }$ et dont les bases sont des triangles de base $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j + 1][0]}}{2}\\times${tex_nombrec(l)}${
              liste_unites[j - 1][0]
            }=\\dfrac{${c}${liste_unites[j][0]}\\times${tex_nombrec(
              calcul(h / 10)
            )}${liste_unites[j][0]}}{2}\\times${l * 10}${
              liste_unites[j][0]
            }=${tex_nombrec(calcul((c * h * l) / 2))}${liste_unites[j][1]}$`;
          }
          break;
        case 5: // cone
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_fraction(
              r * r * h,
              3
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi((r * r * h * Math.PI) / 3)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(calcul(h / 10))}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h)}${
              liste_unites[j][0]
            }=${tex_fraction(r * r * h, 3)}\\pi\\approx${tex_nombrec(
              calcul((r * r * h * Math.PI) / 3, 1)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 6: // pyramide
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Une pyramide de hauteur $${h}${liste_unites[j][0]}$ et dont la base  est un carré de $${c}${liste_unites[j][0]}$ de côté.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${liste_unites[j][0]}\\right)^2\\times${h}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Une pyramide de hauteur $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ et dont la base  est un carré de $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times${c * c}${
              liste_unites[j][0]
            }^2\\times${tex_nombrec(h)}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
          }
          break;
        case 7: // boule
          j = randint(0, 3); // pour le choix de l'unité
          r = randint(2, 10);
          texte = `Une boule de $${r}${liste_unites[j][0]}$ de rayon.`;
          texte_corr = `$\\mathcal{V}=\\dfrac{4}{3} \\times \\pi \\times R^3=\\dfrac{4}{3}\\times\\pi\\times\\left(${r}${
            liste_unites[j][0]
          }\\right)^3=${tex_fraction(calcul(4 * r * r * r), 3)}\\pi${
            liste_unites[j][1]
          }\\approx${tex_nombrec(
            arrondi(calcul((4 * Math.PI * r * r * r) / 3), 1)
          )}${liste_unites[j][1]}$`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : pas de conversion\n2 : avec conversion",
  ];
}

/**
 * Transformations : trouvers un point numéroté par une des transformations du plan. Fonction générale utilisée sur tous les niveaux
 * @Auteur Jean-Claude Lhote
 * Pas de version LaTeX
 */
function Transformations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  // this.titre = "Trouver l'image d'un point par une transformation du plan";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.pas_de_version_LaTeX = true;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAAAAAAEAAABt#####wAAAAEACkNDYWxjQ29uc3QA#####wACcGkAFjMuMTQxNTkyNjUzNTg5NzkzMjM4NDb#####AAAAAQAKQ0NvbnN0YW50ZUAJIftURC0Y#####wAAAAEAB0NDYWxjdWwA#####wACeU8AATQAAAABQBAAAAAAAAAAAAACAP####8AAnhPAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wEAAAAADgABRwDAKAAAAAAAAAAAAAAAAAAABQABQEnAAAAAAABAhAQo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####ANjY2AAQAAABAQEAAAADAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAOAAFJAMAcAAAAAAAAQDQAAAAAAAAFAAFAUIAAAAAAAAAAAAT#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAAAMAAAAF#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wDY2NgAEAAAAQEBAAAAAwAAAAb#####AAAAAQAJQ0NlcmNsZU9BAP####8BAAAAAAEAAAADAAAABf####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAHAAAACP####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAAA4AAUoAwC4AAAAAAABAGAAAAAAAAAUAAgAAAAn#####AAAAAgAHQ1JlcGVyZQD#####AObm5gEBAAAAAwAAAAUAAAAKAQEBAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAALAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAAwAAAAX#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAANAP####8AAAADAAAACgAAAA4A#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAABQCIAAAAAAAAAAAAOAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAADgD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEf####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAAMAAAAEgAAAAUA#####wEAAAAADgACUjEAAAAAAAAAAABACAAAAAAAAAUAAT#uZmZmZmZmAAAAFAAAAA0A#####wAAAAwAAAATAAAADgD#####AQAAAAAOAAJSMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAVAAAAFgAAABAA#####wEAAAAAEAAAAQABAAAAFQAAABcAAAAFAP####8Bf39#AA4AAlMxAAAAAAAAAAAAQAgAAAAAAAADAAE#u38NRim38QAAABgAAAALAP####8A5ubmAAEAAAAMAAAADgAAABAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAgAIQ01lc3VyZVgA#####wADeFMxAAAAGgAAABn#####AAAAAgAIQ01lc3VyZVkA#####wADeVMxAAAAGgAAABkAAAACAP####8ACE5vbVBvaW50AAoxMCp5UzEreFMx#####wAAAAEACkNPcGVyYXRpb24AAAAAEwIAAAABQCQAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAHAAAABQAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAUBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAABQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAFgD#####AAAAAAAAAB8AAAABQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAABYA#####wEAAAAAAAAZAAAAAUAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAABYA#####wCkpKQAAAAhAAAAAUAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAAoA#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAAkAAAADgD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAADAD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAAL#####wAAAAIACUNGb25jdGlvbgAAAAAUAAAAAgAAABkAAAAAFAAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMxAAExAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAgD#####AAN4eCcAATEAAAABP#AAAAAAAAAAAAAPAP####8AAAAoAAAAFAAAACwAAAAEAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAACAP####8AA3l5JwABMQAAAAE#8AAAAAAAAAAAAA8A#####wAAACgAAAAUAAAALwAAABoA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMyAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAKAAAABQAAAAyAAAADwD#####AAAAAwAAAAE#8AAAAAAAAAAAAA4A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAFAHmZmZmZmZgAAAAIA#####wACeE4AATMAAAABQAgAAAAAAAAAAAAMAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAFAGAAAAAAAAAAAAAFAFAAAAAAAAAAAAAIA#####wACeU4AAi0xAAAAGwAAAAE#8AAAAAAAAAAAAAwA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAAEwAAAAABQBgAAAAAAAAAAAAUAAAANwAAABMAAAAAAUAUAAAAAAAAAAAAFAAAADkAAAACAP####8ACEFmZmljaGVOAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAhBZmZpY2hlTQABMAAAAAEAAAAAAAAAAAAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAA7AAAADgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAPAP####8AAAADAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAPAAAAA4A#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAADsAAAAOAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTQAAAB0A#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTgAAAAIA#####wAEbnVtMAACMjMAAAABQDcAAAAAAAAAAAACAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAAZAgAAABMDAAAAFAAAAEUAAAABQCQAAAAAAAAAAAACAP####8AAngwAAxtb2QobnVtMCwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAUAAAARQAAAAFAJAAAAAAAAAAAAAwA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAUAAAARwAAABQAAABGAAAAAgD#####AARudW0yAAIyNwAAAAFAOwAAAAAAAAAAAAIA#####wACeTIADGludChudW0yLzEwKQAAABkCAAAAEwMAAAAUAAAASQAAAAFAJAAAAAAAAAAAAAIA#####wACeDIADG1vZChudW0yLDEwKQAAAB4GAAAAFAAAAEkAAAABQCQAAAAAAAAAAAAMAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAFAAAAEsAAAAUAAAASgAAAAIA#####wAEbnVtMQACNTEAAAABQEmAAAAAAAAAAAACAP####8AAnkxAAxpbnQobnVtMS8xMCkAAAAZAgAAABMDAAAAFAAAAE0AAAABQCQAAAAAAAAAAAACAP####8AAngxAAxtb2QobnVtMSwxMCkAAAAeBgAAABQAAABNAAAAAUAkAAAAAAAAAAAADAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAABQAAABPAAAAFAAAAE4AAAACAP####8ACEFmZmljaGVPAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAAFEAAAAOAP####8AAAAAABIAAU8AwDEAAAAAAADAQgAAAAAAAAkAAAAAKAAAAFIAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAKv####8AAAABAAxDRHJvaXRlSW1hZ2UA#####wAAAAAAEAAAAQACAAAAKQAAAFQAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAMgAAAB8A#####wAAAAAAEAAAAQACAAAAMQAAAFYAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALAAAAB8A#####wAAAAAAEAAAAQADAAAAKwAAAFgAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALwAAAB8A#####wAAAAAAEAAAAQADAAAALgAAAFr#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAMAAAAoAAAAAUAUAAAAAAAAAAAAAAkA#####wAAAFcAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAF0AAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAXQAAAAkA#####wAAAFsAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAGAAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYAAAAAkA#####wAAAFUAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYwAAAAkA#####wAAAFkAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGYAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAZgAAAB0A#####wAAAAAAwDYAAAAAAADARoAAAAAAAAAAAF8QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAdAP####8AAAAAAMA9AAAAAAAAwD8AAAAAAAAAAABiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woNCkpAAAAHQD#####AAAAAADAAAAAAAAAAMBHAAAAAAAAAAAAZRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAAB0A#####wAAAAAAQBwAAAAAAADAPQAAAAAAAAAAAGgQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAn##########8=";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAQAAAAYACFN5bWV0cmllAClDbHF1ZXIgc3VyIGxlIHBvaW50CkNsaXF1ZXIgc3VyIGxhIGRyb2l0ZQAAAAIAAAAGAAAAABr#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAAAAAAT#####AAAAAAAAAAAACf##########AAAAAQAHQ0NhbGN1bAD#####AAJ5TwABNP####8AAAABAApDQ29uc3RhbnRlQBAAAAAAAAAAAAABAP####8AAnhPAAE0AAAAAkAQAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKf####8AAAACAAlDRm9uY3Rpb24C#####wAAAAEACkNPcGVyYXRpb24D#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAACQCQAAAAAAAAAAAABAP####8AAngxAAxtb2QobnVtMSwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAFAAAABQAAAAJAJAAAAAAAAP####8AAAABAA9DU3ltZXRyaWVBeGlhbGUA#####wAAAAH#####AAAAAQALQ1BvaW50SW1hZ2UB#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAI#####wAAAAEAB0NNaWxpZXUA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAJ#####wAAAAEACENTZWdtZW50Af####8AAAD#ABAAAAEAAgAAAAAAAAAKAAAACgH#####AAAA#wAQAAABAAIAAAAKAAAACf####8AAAACAAlDQ2VyY2xlT1IA#####wEAAP8AAgAAAAoAAAACP9MzMzMzMzMA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAN#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAHAAIAAAAOAAAACgD#####AQAAAAAQAAABAAEAAAAKAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8AAAAAAA0AAAEBAQAAAAoAAAAQ#####wAAAAEACUNDZXJjbGVPQQD#####AAAAAAEBAAAACgAAAA8AAAAMAP####8AAAARAAAAEgAAAA0A#####wAAAP8AEgAAAQcAAgAAABP#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAAKAAAADwAAAAgA#####wAAAP8AEgAAAQcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAf####8AAAD#AAIAAAAFAAAACgAAAA8AAAAWAAAAFAAAAAr#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQB#####wAAAP8AAgAAAAALAAAAEgH#####AAAA#wACAAAAAAwAAAABAAABNP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2AAAAAkAJIftURC0YAAAAAQD#####AAJ5TwABNAAAAAJAEAAAAAAAAAAAAAEA#####wACeE8AATQAAAACQBAAAAAAAAD#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFHAMAoAAAAAAAAAAAAAAAAAAAFAAFAScAAAAAAAECEBCj1wo9c#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8A2NjYABAAAAEBAQAAAAMBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBwAAAAAAABANAAAAAAAAAUAAUBQgAAAAAAAAAAABP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAwAAAAUAAAAOAP####8A2NjYABAAAAEBAQAAAAMAAAAGAAAADwD#####AQAAAAABAAAAAwAAAAUAAAAMAP####8AAAAHAAAACAAAAA0A#####wEAAAAADgABSgDALgAAAAAAAEAYAAAAAAAABQACAAAACf####8AAAACAAdDUmVwZXJlAP####8A5ubmAQEAAAADAAAABQAAAAoBAQEAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACP#AAAAAAAAAAAAACP#AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAQAAFRAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAsAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAQAP####8AAAADAAAABQAAAAgA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAAQAP####8AAAADAAAACgAAAAgA#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAACQCIAAAAAAAAAAAAIAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAACAD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEQAAAAoA#####wEAAAAAEAAAAQABAAAADAAAABIAAAAWAP####8BAAAAAA4AAlIxAAAAAAAAAAAAQAgAAAAAAAAFAAE#7mZmZmZmZgAAABQAAAAQAP####8AAAAMAAAAEwAAAAgA#####wEAAAAADgACUjIAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAABYAAAAKAP####8BAAAAABAAAAEAAQAAABUAAAAXAAAAFgD#####AX9#fwAOAAJTMQAAAAAAAAAAAEAIAAAAAAAAAwABP7t#DUYpt#EAAAAYAAAAGAD#####AObm5gABAAAADAAAAA4AAAAQAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAj#wAAAAAAAAAAAAAj#wAAAAAAAA#####wAAAAIACENNZXN1cmVYAP####8AA3hTMQAAABoAAAAZ#####wAAAAIACENNZXN1cmVZAP####8AA3lTMQAAABoAAAAZAAAAAQD#####AAhOb21Qb2ludAAKMTAqeVMxK3hTMQAAAAQAAAAABAIAAAACQCQAAAAAAAAAAAAFAAAAHAAAAAUAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAkBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAACQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHgD#####AAAAAAAAAB8AAAACQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAB4A#####wEAAAAAAAAZAAAAAkAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAAB4A#####wCkpKQAAAAhAAAAAkAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAA0A#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAkAAAACAD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAAGQD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAALAAAAAwAAAAAFAAAAAgAAAAMAAAAABQAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMxAAExAAAAAj#wAAAAAAAAAAAAFQD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAQD#####AAN4eCcAATEAAAACP#AAAAAAAAAAAAAaAP####8AAAAoAAAABQAAACwAAAAVAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAABAP####8AA3l5JwABMQAAAAI#8AAAAAAAAAAAABoA#####wAAACgAAAAFAAAALwAAACEA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAAyAAAAGgD#####AAAAAwAAAAI#8AAAAAAAAAAAAAgA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAJAHmZmZmZmZgAAAAEA#####wACeE4AATMAAAACQAgAAAAAAAAAAAAZAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAJAGAAAAAAAAAAAAAJAFAAAAAAAAAAAAAEA#####wACeU4AAi0xAAAAIgAAAAI#8AAAAAAAAAAAABkA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAABAAAAAACQBgAAAAAAAAAAAAFAAAANwAAAAQAAAAAAkAUAAAAAAAAAAAABQAAADkAAAABAP####8ACEFmZmljaGVOAAExAAAAAj#wAAAAAAAAAAAAAQD#####AAhBZmZpY2hlTQABMQAAAAI#8AAAAAAAAAAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAA7AAAACAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAPAAAAAgA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAAGgD#####AAAAAwAAAAQDAAAAAj#wAAAAAAAAAAAABQAAADsAAAAIAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTQAAACQA#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTgAAAAEA#####wAEbnVtMAACMjMAAAACQDcAAAAAAAAAAAABAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAADAgAAAAQDAAAABQAAAEUAAAACQCQAAAAAAAAAAAABAP####8AAngwAAxtb2QobnVtMCwxMCkAAAAGBgAAAAUAAABFAAAAAkAkAAAAAAAAAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAAAUAAABHAAAABQAAAEYAAAABAP####8ABG51bTIAAjI3AAAAAkA7AAAAAAAAAAAAAQD#####AAJ5MgAMaW50KG51bTIvMTApAAAAAwIAAAAEAwAAAAUAAABJAAAAAkAkAAAAAAAAAAAAAQD#####AAJ4MgAMbW9kKG51bTIsMTApAAAABgYAAAAFAAAASQAAAAJAJAAAAAAAAAAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAFAAAASwAAAAUAAABKAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKQAAAAMCAAAABAMAAAAFAAAATQAAAAJAJAAAAAAAAAAAAAEA#####wACeDEADG1vZChudW0xLDEwKQAAAAYGAAAABQAAAE0AAAACQCQAAAAAAAAAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAABQAAAE8AAAAFAAAATgAAAAEA#####wAIQWZmaWNoZU8AATEAAAACP#AAAAAAAAAAAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAUQAAAAgA#####wEAAAAAEgABTwDAMQAAAAAAAMBCAAAAAAAACQAAAAAoAAAAUgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAq#####wAAAAEADENEcm9pdGVJbWFnZQD#####AAAAAAAQAAABAAIAAAApAAAAVAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAyAAAAJQD#####AAAAAAAQAAABAAIAAAAxAAAAVgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAsAAAAJQD#####AAAAAAAQAAABAAMAAAArAAAAWAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAvAAAAJQD#####AAAAAAAQAAABAAMAAAAuAAAAWgAAAAsA#####wEAAAAAAwAAACgAAAACQBAAAAAAAAAAAAAADAD#####AAAAVwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAXQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABdAAAADAD#####AAAAWwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYAAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABgAAAADAD#####AAAAVQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABjAAAADAD#####AAAAWQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAZgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABmAAAAJAD#####AAAAAADANgAAAAAAAMBGgAAAAAAAAAAAXxAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDIpKQAAACQA#####wAAAAAAwD0AAAAAAADAPwAAAAAAAAAAAGIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAIKGQjTCg0KSkAAAAkAP####8AAAAAAMAAAAAAAAAAwEcAAAAAAAAAAABlEAAAAAAAAAAAAAAAAAACAAAAAAAAAAAACChkI0woMSkpAAAAJAD#####AAAAAABAHAAAAAAAAMA9AAAAAAAAAAAAaBAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDMpKf####8AAAABAAVDRm9uYwD#####AARhYnNuAAltb2QoeCwxMCkAAAAGBv####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAACQCQAAAAAAAAAAXgAAAAmAP####8ABG9yZG4ACWludCh4LzEwKQAAAAMCAAAABAMAAAAnAAAAAAAAAAJAJAAAAAAAAAABeAAAAAEA#####wACbjEAATEAAAACP#AAAAAAAAAAAAABAP####8AAm4yAAEyAAAAAkAAAAAAAAAAAAAAAQD#####AAJuMwACNzcAAAACQFNAAAAAAAAAAAABAP####8AAm40AAE1AAAAAkAUAAAAAAAAAAAAAQD#####AAJuNQACNTYAAAACQEwAAAAAAAAAAAABAP####8AAm42AAE2AAAAAkAYAAAAAAAAAAAAAQD#####AAJuNwABNwAAAAJAHAAAAAAAAAAAAAEA#####wACbjgAAjg1AAAAAkBVQAAAAAAAAAAAAQD#####AAJuOQACNTMAAAACQEqAAAAAAAAAAAAZAP####8BAAD#ABIAAlAxAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAv#####AAAAAQAOQ0FwcGVsRm9uY3Rpb24AAABtAAAABQAAAG8AAAAoAAAAbgAAAAUAAABvAAAAGQD#####AQAA#wASAAJQMgAAAAAAAAAAAEAIAAAAAAAABwAAAAALAAAAKAAAAG0AAAAFAAAAcAAAACgAAABuAAAABQAAAHAAAAAZAP####8BAAD#ABIAAnAzAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAsAAAAoAAAAbQAAAAUAAABxAAAAKAAAAG4AAAAFAAAAcQAAABkA#####wEAAP8AEgACUDQAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHIAAAAoAAAAbgAAAAUAAAByAAAAGQD#####AQAA#wASAAJQNQAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAcwAAACgAAABuAAAABQAAAHMAAAAZAP####8BAAD#ABIAAlA2AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB0AAAAKAAAAG4AAAAFAAAAdAAAABkA#####wEAAP8AEgACUDcAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHUAAAAoAAAAbgAAAAUAAAB1AAAAGQD#####AQAA#wASAAJQOAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAdgAAACgAAABuAAAABQAAAHYAAAAZAP####8BAAD#ABIAAlA5AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB3AAAAKAAAAG4AAAAFAAAAdwAAACYA#####wAFdGVzdG4ABzEtKHg8MCkAAAAEAQAAAAI#8AAAAAAAAAAAAAQEAAAAJwAAAAAAAAACAAAAAAAAAAAAAXgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABvAAAACAD#####AAAA#wESAANQJzEAAAAAAAAAAABACAAAAAAAAAkAAAAAeAAAAIIAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABwAAAACAD#####AAAA#wESAANQJzIAAAAAAAAAAABACAAAAAAAAAkAAAAAeQAAAIQAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABxAAAACAD#####AAAA#wESAANQJzMAAAAAAAAAAABACAAAAAAAAAkAAAAAegAAAIYAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAByAAAACAD#####AAAA#wESAANQJzQAAAAAAAAAAABACAAAAAAAAAkAAAAAewAAAIgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABzAAAACAD#####AAAA#wESAANQJzUAAAAAAAAAAABACAAAAAAAAAkAAAAAfAAAAIoAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB0AAAACAD#####AAAA#wESAANQJzYAAAAAAAAAAABACAAAAAAAAAkAAAAAfQAAAIwAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB1AAAACAD#####AAAA#wESAANQJzcAAAAAAAAAAABACAAAAAAAAAkAAAAAfgAAAI4AAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB2AAAACAD#####AAAA#wESAANQJzgAAAAAAAAAAABACAAAAAAAAAkAAAAAfwAAAJAAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB3AAAACAD#####AAAA#wESAANQJzkAAAAAAAAAAABACAAAAAAAAAkAAAAAgAAAAJL#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACDAAAAVQAAAAEAAAAAlAADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACUAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAJQAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAlAADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAlAABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAJgAAAACQCQAAAAAAAAAAAABAAAAAJQAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAmAAAAAJAJAAAAAAAAAAAAAcAAAAAlAAAAFUAAAAIAQAAAJQAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACDAAAAmwAAAAkAAAAAlAAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIMAAACcAAAACgEAAACUAAAA#wAQAAABAAIAAACDAAAAnQAAAAoBAAAAlAAAAP8AEAAAAQACAAAAnQAAAJwAAAALAAAAAJQBAAD#AAIAAACdAAAAAj#TMzMzMzMzAAAAAAwAAAAAlAAAAJ4AAACgAAAADQAAAACUAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAKEAAAAKAAAAAJQBAAAAABAAAAEAAQAAAJ0AAACiAAAADgAAAACUAAAAAAAQAAABAQEAAACdAAAAowAAAA8AAAAAlAAAAAABAQAAAJ0AAACiAAAADAAAAACUAAAApAAAAKUAAAANAAAAAJQAAAD#ABAAAAEHAAIAAACmAAAAEAAAAACUAAAAnQAAAKIAAAAIAAAAAJQAAAD#ABAAAAEHAAAAAKcAAACoAAAAEQEAAACUAAAA#wACAAAABQAAAJ0AAACiAAAAqQAAAKcAAACdAAAAEgEAAACUAP8AAAEBAAAAAJ4AAAASAQAAAJQA#wAAAQEAAAAAnwAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACFAAAAVwAAAAEAAAAArQADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACtAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAK0AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAArQADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAArQABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAALEAAAACQCQAAAAAAAAAAAABAAAAAK0AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAsQAAAAJAJAAAAAAAAAAAAAcAAAAArQAAAFcAAAAIAQAAAK0AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACFAAAAtAAAAAkAAAAArQAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIUAAAC1AAAACgEAAACtAAAA#wAQAAABAAIAAACFAAAAtgAAAAoBAAAArQAAAP8AEAAAAQACAAAAtgAAALUAAAALAAAAAK0BAAD#AAIAAAC2AAAAAj#TMzMzMzMzAAAAAAwAAAAArQAAALcAAAC5AAAADQAAAACtAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAALoAAAAKAAAAAK0BAAAAABAAAAEAAQAAALYAAAC7AAAADgAAAACtAAAAAAAQAAABAQEAAAC2AAAAvAAAAA8AAAAArQAAAAABAQAAALYAAAC7AAAADAAAAACtAAAAvQAAAL4AAAANAAAAAK0AAAD#ABAAAAEHAAIAAAC#AAAAEAAAAACtAAAAtgAAALsAAAAIAAAAAK0AAAD#ABAAAAEHAAAAAMAAAADBAAAAEQEAAACtAAAA#wACAAAABQAAALYAAAC7AAAAwgAAAMAAAAC2AAAAEgEAAACtAP8AAAEBAQAAALcAAAASAQAAAK0A#wAAAQEBAAAAuAAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACHAAAAWQAAAAEAAAAAxgADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADGAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAMYAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAxgADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAxgABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAMoAAAACQCQAAAAAAAAAAAABAAAAAMYAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAygAAAAJAJAAAAAAAAAAAAAcAAAAAxgAAAFkAAAAIAQAAAMYAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACHAAAAzQAAAAkAAAAAxgAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIcAAADOAAAACgEAAADGAAAA#wAQAAABAAIAAACHAAAAzwAAAAoBAAAAxgAAAP8AEAAAAQACAAAAzwAAAM4AAAALAAAAAMYBAAD#AAIAAADPAAAAAj#TMzMzMzMzAAAAAAwAAAAAxgAAANAAAADSAAAADQAAAADGAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAANMAAAAKAAAAAMYBAAAAABAAAAEAAQAAAM8AAADUAAAADgAAAADGAAAAAAAQAAABAQEAAADPAAAA1QAAAA8AAAAAxgAAAAABAQAAAM8AAADUAAAADAAAAADGAAAA1gAAANcAAAANAAAAAMYAAAD#ABAAAAEHAAIAAADYAAAAEAAAAADGAAAAzwAAANQAAAAIAAAAAMYAAAD#ABAAAAEHAAAAANkAAADaAAAAEQEAAADGAAAA#wACAAAABQAAAM8AAADUAAAA2wAAANkAAADPAAAAEgEAAADGAP8AAAEBAgAAANAAAAASAQAAAMYA#wAAAQECAAAA0QAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACJAAAAWwAAAAEAAAAA3wADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADfAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAN8AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAA3wADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAA3wABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAOMAAAACQCQAAAAAAAAAAAABAAAAAN8AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAA4wAAAAJAJAAAAAAAAAAAAAcAAAAA3wAAAFsAAAAIAQAAAN8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACJAAAA5gAAAAkAAAAA3wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIkAAADnAAAACgEAAADfAAAA#wAQAAABAAIAAACJAAAA6AAAAAoBAAAA3wAAAP8AEAAAAQACAAAA6AAAAOcAAAALAAAAAN8BAAD#AAIAAADoAAAAAj#TMzMzMzMzAAAAAAwAAAAA3wAAAOkAAADrAAAADQAAAADfAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAOwAAAAKAAAAAN8BAAAAABAAAAEAAQAAAOgAAADtAAAADgAAAADfAAAAAAAQAAABAQEAAADoAAAA7gAAAA8AAAAA3wAAAAABAQAAAOgAAADtAAAADAAAAADfAAAA7wAAAPAAAAANAAAAAN8AAAD#ABAAAAEHAAIAAADxAAAAEAAAAADfAAAA6AAAAO0AAAAIAAAAAN8AAAD#ABAAAAEHAAAAAPIAAADzAAAAEQEAAADfAAAA#wACAAAABQAAAOgAAADtAAAA9AAAAPIAAADoAAAAEgEAAADfAP8AAAEBAwAAAOkAAAASAQAAAN8A#wAAAQEDAAAA6v####8AAAABAAlDUm90YXRpb24A#####wAAACgAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACLAAAA+AAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAIsAAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAD5#####wAAAAIAE0NNYXJxdWVBbmdsZU9yaWVudGUA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAIsAAAAoAAAA+QAAAAASAP####8A#wAAAAEBAAAA+gAAABIA#####wD#AAAAAQEAAAD7#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AP8AAAABAAAAKAAAAIsAAAD5AAAAKgD#####AAAAKAAAACIAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACNAAABAAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAI0AAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAEBAAAAEgD#####AP8AAAABAQAAAQMAAAASAP####8A#wAAAAEBAAABAgAAACsA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAI0AAAAoAAABAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wD#AAAAAQAAACgAAACNAAABAf####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAKAAAAAgA#####wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAI8AAAEIAAAACgD#####AAAA#wAQAAABAAEAAACPAAAAKAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAQkAAAASAP####8A#wAAAAECAAABCwAAABIA#####wD#AAAAAQIAAAEKAAAAEAD#####AAAAQAAAAEIAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACRAAABDv####8AAAABAAhDVmVjdGV1cgD#####AP8AAAAQAAABAAEAAACRAAABDwAAAAAvAP####8A#wAAABAAAAEAAQAAAEAAAABCAAAAAAoA#####wD#AAAAEAAAAQEBAAAAQAAAAJEAAAAKAP####8A#wAAABAAAAEBAQAAAEIAAAEPAAAAAQD#####AAFrAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAEUAAAACAD#####AAAA#wESAAFBAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJMAAAEVAAAACgD#####AAAA#wAQAAABAQEAAAAoAAAAkwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAARYAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAACT#####wAAAAEAC0NNZWRpYXRyaWNlAAAAARkBAAAAABAAAAEAAQAAACgAAACTAAAACQAAAAEZAQAAAAAQAAABBQAAAAAoAAAAkwAAAAsAAAABGQEAAAAAAQAAARsAAAACQDAAAAAAAAABAAAADAAAAAEZAAABGgAAARwAAAANAAAAARkBAAAAABAAAAEFAAEAAAEdAAAAIAEAAAEZAAAAKAAAAJMAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAAEWAAAAMAAAAAEgAQAAAAAQAAABAAEAAAAoAAABFgAAAAkAAAABIAEAAAAAEAAAAQUAAAAAKAAAARYAAAALAAAAASABAAAAAAEAAAEiAAAAAkAwAAAAAAAAAQAAAAwAAAABIAAAASEAAAEjAAAADQAAAAEgAQAAAAAQAAABBQABAAABJAAAACABAAABIAAAACgAAAEWAAAAFgD#####Af8AAAASAAFGAAAAAAAAAAAAQAgAAAAAAAAFAAE#585Z#OWfzwAAARgAAAAeAP####8A#wAAAAABJwAAAAQAAAAABQAAARQAAAACP#AAAAAAAAAAAAEnAAAAAgAAAScAAAEnAAAAAQD#####AANuMTAAAjE5AAAAAkAzAAAAAAAAAAAAGQD#####Af8AAAASAANQMTAAAAAAAAAAAABACAAAAAAAAAUAAAAACwAAACgAAABtAAAABQAAASkAAAAoAAAAbgAAAAUAAAEpAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAAKAAAAIEAAAAFAAABKQAAAAgA#####wAAAP8BEgAEUCcxMAAAAAAAAAAAAEAIAAAAAAAACQAAAAEqAAABKwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAASwAAAABAP####8AAmsyAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAABQAAAS4AAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAEsAAABLwAAABYA#####wEAAP8AEgABRQAAAAAAAAAAAEAIAAAAAAAABQABP+MmybJsmyQAAAEtAAAAHgD#####AP8AAAAAATEAAAAEAAAAAAMAAAAABQAAAS4AAAACP#AAAAAAAAAAAAExAAAAAgAAATEAAAExAAAACgD#####AAAA#wAQAAABAQEAAAAoAAABMAAAACf##########w==";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let antecedents = [0, 0, 0],
      images = [0, 0, 0],
      k = [1, 1, 1],
      k1,
      k2,
      xO = 4,
      yO = 4,
      xu,
      yu,
      point_reseau; // k : rapports d'homothéties, (xO,yO) point de rencontre des droites et centre, les composantes du vecteur de translation : (xu,yu)
    let bis1 = 0,
      bis2 = 0,
      xx = 0,
      yy = 0,
      AfficheO = 1,
      AfficheN = 0,
      AfficheM = 0;
    let n = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
    let texte = ``,
      texte_corr = ``;
    let point = [[]];
    let transformation = parseInt(this.sup) - 1;
    let liste_type_de_questions = [
      [1, 2, 3, 4],
      [1, 2, 3, 4, 7],
      [1, 2, 3, 4, 7, 8],
      [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
    ];
    let choix_transformation = combinaison_listes(
      liste_type_de_questions[transformation],
      3
    );
    xu = randint(-3, 3);
    if (xu == 0) yu = randint(-3, 3, [0]);
    // pas de vecteur nul de translation.
    else yu = randint(-3, 3);
    for (let j = 0; j < 3; j++) {
      if (choix_transformation[j] == 10) {
        k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
        k2 = k[j];
      } else if (choix_transformation[j] == 9) {
        k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
        k1 = k[j];
      }
      antecedents[j] = randint(0, 99);
      point[j] = image_point_par_transformation(
        choix_transformation[j],
        [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
        [xO, yO],
        [xu, yu],
        k[j]
      );
      images[j] = point[j][0] + point[j][1] * 10;
      // Limitation des points invariants
      if (choix_transformation[j] == 1 && images[j] % 11 == 0) point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
      if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
        point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
      if (choix_transformation[j] == 4 && images[j] % 10 == 4) point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
      if (
        (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
        antecedents[j] == 44
      )
        point[j][0] = -1; // point O impossible pour rotation
      if (choix_transformation[j] == 10 && antecedents[j] == 44)
        point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2
      // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
      if (
        point[j][0] - Math.floor(point[j][0]) == 0 &&
        point[j][1] - Math.floor(point[j][1]) == 0
      )
        point_reseau = true;
      else point_reseau = false;
      // On vérifie que l'image est bien un point du réseau sinon, on change.
      while (
        point[j][0] < 0 ||
        point[j][0] > 9 ||
        point[j][1] < 0 ||
        point[j][1] > 9 ||
        point_reseau == false
      ) {
        if (choix_transformation[j] == 10) {
          k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
          k2 = k[j];
        } else if (choix_transformation[j] == 9) {
          k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
          k1 = k[j];
        }
        antecedents[j] = randint(0, 99);
        point[j] = image_point_par_transformation(
          choix_transformation[j],
          [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
          [xO, yO],
          [xu, yu],
          k[j]
        );
        images[j] = point[j][0] + point[j][1] * 10;
        // Limitation des points invariants
        if (choix_transformation[j] == 1 && images[j] % 11 == 0)
          point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
        if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
          point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
        if (choix_transformation[j] == 4 && images[j] % 10 == 4)
          point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
        if (
          (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
          antecedents[j] == 44
        )
          point[j][0] = -1; // point O impossible pour rotation
        if (choix_transformation[j] == 10 && antecedents[j] == 44)
          point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2

        // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
        if (
          point[j][0] - Math.floor(point[j][0]) == 0 &&
          point[j][1] - Math.floor(point[j][1]) == 0
        )
          point_reseau = true;
        else point_reseau = false;
      }
    }
    // n[i] est un tableau contenant -1 pour la transformation d'indice i si elle n'est pas utilisée, et contenant le numéro du point concerné si la transformation i est utilisée pour ce point.
    // Je l'utilise pour faire apparaître la correction liée au point et à la transformation.
    for (let j = 0; j < 3; j++) {
      n[choix_transformation[j] - 1] = antecedents[j];
    }
    for (let i = 0; i < 3; i++) {
      switch (choix_transformation[i]) {
        case 1:
          bis1 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_1)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_1)$ est le point ${images[i]}.<br>`;
          break;

        case 2:
          bis2 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_2)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_2)$ est le point ${images[i]}.<br>`;
          break;

        case 3:
          xx = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_3)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_3)$ est le point ${images[i]}.<br>`;
          break;

        case 4:
          yy = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_4)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_4)$ est le point ${images[i]}.<br>`;
          break;

        case 5:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 6:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 7:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la symétrie de centre O.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la symétrie de centre O est le point ${images[i]}.<br>`;
          break;

        case 11:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 12:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 13:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 14:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 8:
          AfficheN = 1;
          AfficheM = 1;
          // AfficheOO=1
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la translation qui transforme M en N.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la translation qui transforme M en N est le point ${images[i]}.<br>`;
          break;

        case 9:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1}.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1} est le point ${images[i]}.<br>`;
          break;

        case 10:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$ est le point ${images[i]}.<br>`;
          break;
      }
    }
    if (sortie_html) {
      /*
			booléens permettant l'affichage des éléments si =1 et le masquage si =0
			bis1 affiche la droite de coefficient directeur 1 passant par O'
			bis2 affiche la droite de coefficient directeur -1 passant par O'
			xx' affiche la droite horizontale passant par O'
			yy' affiche la droite verticale passant par O'
			AfficheO' affiche O' comme son nom l'indique.
			AfficheN, AffichM pour afficher les points M et N définissant la translation.
			
			*/
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t0", "${choix_transformation[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t1", "${choix_transformation[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t2", "${choix_transformation[2]}");						
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheN", "${AfficheN}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k", "${k1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k2", "${k2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n1", "${n[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n2", "${n[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n3", "${n[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n4", "${n[3]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n5", "${n[4]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n6", "${n[5]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n7", "${n[6]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n8", "${n[7]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n9", "${n[8]}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n10", "${n[9]}");									
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheN", "${AfficheN}");	

			
			
			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_corr = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

// Exercices paramétrés pour correspondre au référentiel
// Référence 5P10
//function Proportionnalite_pas_proportionnalite_5e(){
//  Proportionnalite_pas_proportionnalite.call(this)
  // Pas de paramètres Sup
//}

// Référence 6C23
function Exercice_additionner_des_fractions_6e() {
  Exercice_additionner_des_fractions_5e.call(this);
  this.level=6
  this.titre= "Additionner des fractions de même dénominateur"
}
/**
 * @Auteur Jean-Claude Lhote
 * vocabulaire arête, face, perpendicularité dans l'espace, parallélisme dans l'espace
 * référence : 6G43
 */
function Utiliser_vocabulaire_pave() {
  Solide_6e.call(this);
  this.titre = "Utiliser le vocabulaire associé au pavé droit"
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G11
 */
function Tracer_des_perpendiculaires() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires";
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12
 */
function Tracer_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des parallèles";
  this.sup = 2;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12-1
 */
function Tracer_des_perpendiculaires_et_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires et des parallèles";
  this.sup = 3;
  this.besoin_formulaire_numerique = false;
}
/**
 * Exercice en html seulement. Symétrie centrale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 5G12
 */
function Pavages_et_demi_tour() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie centrale dans un pavage";
  this.sup = 2;
}
/**
 * Exercice en html seulement. Symétrie axiale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 6G25-2
 */
function Pavages_et_symetries() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage carré";
  this.sup = 1;
}
/**
 * Exercice en html seulement. Translations dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 4G11
 */
function Pavages_et_translation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une translation dans un pavage";
  this.sup = 3;
}
/**
 * Exercice en html seulement. Rotationss dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 3G12
 */
function Pavages_et_rotation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une rotation de 90 degrés dans un pavage";
  this.sup = 4;
}

/**
 * Lire les coordonnées d'un point du quart de plan positif avec une précision allant de l'unité à 0,25.
 * @Auteur Jean-Claude Lhote
 * référence 6N33
 */
function Reperage_point_du_quart_de_plan() {
  Reperage_point_du_plan.call(this);
  this.titre = "Déterminer les coordonnées (positives) d'un point";
  this.quart_de_plan = true;
}
// 3F21
function Lecture_expression_fonctions_lineaires() {
  Lecture_expression_fonctions_affines.call(this);
  this.titre = "Déterminer une fonction linéaire";
  this.lineaire = true;
}
// 3L14-1
function Resoudre_une_equation_produit_nul_niv2() {
  Resoudre_une_equation_produit_nul.call(this);
  this.titre = "Résoudre une équation produit nul (niveau 2)";
  this.sup = 2;
}
// Référence 6C21

function Divisions_euclidiennes_niv2() {
  Divisions_euclidiennes.call(this);
  this.sup = 2;
  this.titre = "Divisions euclidiennes - Niveau 2";
}
//4G40
function Exercice_Trigo_longueurs_4e() {
  Exercice_Trigo_longueurs.call(this);
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
  this.titre =
    "Utiliser le cosinus pour calculer une longueur dans un triangle rectangle";
}
// 4G41
function Exercice_Trigo_angles_4e() {
  this.sup = 1;
  this.quatrieme = true;
  this.titre =
    "Utiliser le cosinus pour calculer la mesure d'un angle dans un triangle rectangle";
  Exercice_Trigo_angles.call(this);
}
// référence 6G24
function Transformations_6e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}

// 5G10
function Symetrie_axiale_5e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}
// 5G11
function Transformations_5e() {
  Transformations.call(this);
  this.sup = 2;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale`;
  this.pas_de_version_LaTeX = true;
}
// 4G40
function Transformations_4e() {
  Transformations.call(this);
  this.sup = 3;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale ou par une translation`;
  this.pas_de_version_LaTeX = true;
}
// 3G10-2
function Transformations_3e() {
  Transformations.call(this);
  this.sup = 4;
  this.titre = `Trouver l'image d'un point par une transformation choisie aléatoirement`;
  this.pas_de_version_LaTeX = true;
}
// Référence 6M30
function Calcul_de_volumes_6e() {
  this.sup = 1;
  this.classe = 6;
  Calcul_de_volumes.call(this);
}

// 5M20
function Calcul_de_volumes_5e() {
  this.sup = 1;
  this.classe = 5;
  Calcul_de_volumes.call(this);
}
// 4G53
function Calcul_de_volumes_4e() {
  this.sup = 1;
  this.classe = 4;
  Calcul_de_volumes.call(this);
}
// 3G43
function Calcul_de_volumes_3e() {
  this.sup = 1;
  this.classe = 3;
  Calcul_de_volumes.call(this);
}


function Exercice_6N13() {
  this.sup = 1;
  this.titre = "Utiliser les préfixes multiplicateurs (déca à kilo)";
  Exercice_conversions.call(this);
}
// 6N24
function Exercice_6N24() {
  Exercice_conversions.call(this);
  this.sup = 3;
  this.titre =
    "Utiliser les préfixes multiplicateurs et diviseurs (milli à kilo)";
  this.correction_avec_des_fractions = true;
  this.spacing_corr = 2;
}
// Référence 6M12
function Reglages_6M12() {
  Exercice_conversions_de_longueurs.call(this);
  this.sup = 3;
  this.nb_questions = 8;
}

function Reglages_6M23() {
  Exercice_conversions_aires.call(this);
  this.sup = 3;
  this.nb_cols_corr = 1;
}
// Référence 6M10
function Reglages_6M10() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 1;
}
// Référence 6M22
function Reglages_6M22() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 2;
  this.titre = "Périmètres et aires de disques (à partir d'un texte).";
}

function Reglages_6N34() {
  Exercice_conversions.call(this);
  this.sup = 5;
  this.titre = "Conversions avec tous les préfixes de milli à tera.";
}

// 4G30
function Thales_4eme() {
  //Dans cette version, pas de configuration papillon reservée aux 3èmes.
  Exercice_Thales.call(this);
  this.quatrieme = true;
  sortie_html? this.spacing = 1.5 : this.spacing = 1; 
}
// 4G31
function Reciproque_Thales_4eme() {
  Reciproque_Thales.call(this);
  this.quatrieme = true;
}

/**
 * Vocabulaire des triangles
 * 6G20-2 ; 5G20-1
 * @author Sébastien Lozano
 */

function Vocabulaire_des_triangles() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.consigne = "Donner la nature des triangles en justifiant.";
  this.sup = 1;
  this.titre = "Vocabulaire des triangles";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;

  this.liste_packages = `bclogo`;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) {
      if (this.sup == 1) {
        this.nb_questions = 4;
      } else {
        //this.nb_questions = 9;
        this.nb_questions = 5;
      }
    } else if (this.classe == 5) {
      //this.nb_questions = 11;
      this.nb_questions = 5;
    }

    let texte_intro = ``;
    if (sortie_html) {
      if (this.classe == 6) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      } else if (this.classe == 5) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés ou deux angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés ou trois angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      }
      // this.introduction = lampe_message({
      // 	titre : `Quelques définitions`,
      // 	texte : texte_intro,
      // 	couleur : `nombres`
      // });

      this.bouton_aide = modal_texte_long(
        numero_de_l_exercice,
        //`<i class="lightbulb outline icon"></i> Quelques définitions`,
        `<i class="info circle icon"></i> Quelques définitions`,
        texte_intro,
        "Aide",
        "info circle"
      );
    } else {
      if (this.classe == 6) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés de même longueur.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés de même longueur.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      } else if (this.classe == 5) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés ou deux angles de même mesure.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés ou trois angles de même mesure.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      }

      this.introduction = lampe_message({
        titre: `Quelques définitions`,
        texte: texte_intro,
        couleur: `nombres`,
      });
    }

    if (this.classe == 6) {
      if (this.sup == 1) {
        type_de_questions_disponibles = [1, 3, 5, 7]; //6e facile isocèle, équilatéral et rectangle.
      } else if (this.sup == 2) {
        //type_de_questions_disponibles = [1,3,4,5,6,7,8,9]; //6e tout sauf par les angles
        type_de_questions_disponibles = [1, 4, 6, 8, 9]; //6e les autres cas sauf par les angles
      }
    } else if (this.classe == 5) {
      // type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10,11]; // 5e : on ajoute la caractéisation par les angles
      type_de_questions_disponibles = [
        choice([1, 2]),
        choice([3, 4, 10]),
        choice([5, 6, 11]),
        7,
        choice([8, 9]),
      ]; // 5e : tout sauf les basiques de 6e, on ajoute la caractéisation par les angles
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    //let liste_type_de_questions = type_de_questions_disponibles // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, l1, l2, l3, a1, a2, a3, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on fixe longueur min et max en cm
      let l_min = 2;
      let l_max = 20;
      // on fixe angle min et max en degré
      let a_min = 30;
      let a_max = 100;

      // on crée les triangles
      let triangle_quelconque = new Triangles();
      let triangle_isocele = new Triangles();
      let triangle_equilateral = new Triangles();
      let triangle_rectangle = new Triangles();
      let triangle_isocele_rectangle = new Triangles();

      switch (liste_type_de_questions[i]) {
        case 1: // triangle quelconque par les longueurs sans conversion
          while (!triangle_quelconque.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            l3 = randint(l_min, l_max, [l1, l2]);
            triangle_quelconque.l1 = l1;
            triangle_quelconque.l2 = l2;
            triangle_quelconque.l3 = l3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getLongueurs()[0]
          } $= ${triangle_quelconque.l1}$ cm ; `;
          texte += `${triangle_quelconque.getLongueurs()[1]} $= ${
            triangle_quelconque.l2
          }$ cm et ${triangle_quelconque.getLongueurs()[2]} $= ${
            triangle_quelconque.l3
          }$ cm.`;
          texte_corr = `Les 3 côtés du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;
        case 2: // triangle quelconque par les angles
          while (!triangle_quelconque.isTrueTriangleAngles()) {
            a1 = randint(a_min, a_max);
            a2 = randint(a_min, a_max, a1);
            a3 = randint(a_min, a_max, [a1, a2]);
            triangle_quelconque.a1 = a1;
            triangle_quelconque.a2 = a2;
            triangle_quelconque.a3 = a3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getAngles()[0]
          } $= ${triangle_quelconque.a1}\\degree$ ; `;
          texte += ` ${triangle_quelconque.getAngles()[1]} $= ${
            triangle_quelconque.a2
          }\\degree$ et  ${triangle_quelconque.getAngles()[2]} $= ${
            triangle_quelconque.a3
          }\\degree$ .`;
          texte_corr = `Les 3 angles du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;

        case 3: // triangle isocèle sans conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1}$ cm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `Les longueurs des côtés ${
            triangle_isocele.getCotes()[0]
          } et ${
            triangle_isocele.getCotes()[1]
          } du triangle ${triangle_isocele.getNom()} valent toutes les deux $${
            triangle_isocele.l1
          }$ cm donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 4: // triangle isocèle avec conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `${triangle_isocele.getLongueurs()[0]} $= ${
            triangle_isocele.l1 * 10
          }$ mm $= ${triangle_isocele.l1}$ cm = ${
            triangle_isocele.getLongueurs()[1]
          }, ${triangle_isocele.getNom()} a donc deux côtés égaux, c'est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 5: // triangle équilatéral sans conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2
          }$ cm et ${triangle_equilateral.getLongueurs()[2]} $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr = `Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 6: // triangle équilatéral avec conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm et ${triangle_equilateral.getLongueurs()[2]} $= ${tex_nombre(
            triangle_equilateral.l3 / 10
          )}$ dm.`;
          texte_corr = `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm $= ${triangle_equilateral.l2}$ cm.`;
          texte_corr += `<br> ${
            triangle_equilateral.getLongueurs()[2]
          } $= ${tex_nombre(triangle_equilateral.l3 / 10)}$ dm $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr += `<br> ${triangle_equilateral.getLongueurs()[0]} $= ${
            triangle_equilateral.l1
          }$ cm.`;
          texte_corr += `<br> Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 7: // triangle rectangle pas de conversion necessaire
          triangle_rectangle.l1 = randint(l_min, l_max);
          triangle_rectangle.l2 = randint(l_min, l_max, l1);
          triangle_rectangle.a1 = 90;

          texte = `${triangle_rectangle.getNom()} est un triangle tel que ${
            triangle_rectangle.getLongueurs()[0]
          } $= ${triangle_rectangle.l1}$ cm ; `;
          texte += `${triangle_rectangle.getLongueurs()[1]} $= ${
            triangle_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += ` qui a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_rectangle.getNom()} a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            } donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_rectangle.getAngles()[0]} $= ${
              triangle_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_rectangle.getAngles()[0]
            } du triangle ${triangle_rectangle.getNom()} est un angle droit donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          }

          break;
        case 8: // triangle isocèle rectangle sans conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          }$= ${triangle_isocele_rectangle.l1}$ cm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 9: // triangle isocèle rectangle avec conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          } $= ${triangle_isocele_rectangle.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm`;
          texte += ` et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 10: // triangle isocèle par les angles
          a3 = -1;
          while (a3 < 0) {
            triangle_isocele.a1 = randint(a_min, a_max);
            triangle_isocele.a2 = triangle_isocele.a1;
            a3 = 180 - 2 * triangle_isocele.a1;
            triangle_isocele.a3 = a3;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getAngles()[0]
          } $= ${triangle_isocele.a1}\\degree$ ; `;
          texte += ` ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a2
          }\\degree$ et  ${triangle_isocele.getAngles()[2]} $= ${
            triangle_isocele.a3
          }\\degree$ .`;
          texte_corr = `Le triangle ${triangle_isocele.getNom()} a deux angles égaux, ${
            triangle_isocele.getAngles()[0]
          } = ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a1
          }\\degree$ donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[0]
          }.`;
          break;
        case 11: // triangle équilatéral par les angles
          triangle_equilateral.a1 = 60;
          triangle_equilateral.a2 = 60;
          triangle_equilateral.a3 = 60;

          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getAngles()[0]
          } $= ${triangle_equilateral.a1}\\degree$ ; `;
          texte += ` ${triangle_equilateral.getAngles()[1]} $= ${
            triangle_equilateral.a2
          }\\degree$ et  ${triangle_equilateral.getAngles()[2]} $= ${
            triangle_equilateral.a3
          }\\degree$.`;
          texte_corr = `Le triangle ${triangle_equilateral.getNom()} a trois angles égaux, ${
            triangle_equilateral.getAngles()[0]
          } = ${triangle_equilateral.getAngles()[1]} = ${
            triangle_equilateral.getAngles()[2]
          } $= ${
            triangle_equilateral.a1
          }\\degree$ donc ${triangle_equilateral.getNom()} est un triangle équilateral.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };

  if (this.classe == 6) {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      2,
      "1 : sans conversions de longueurs\n2 : avec conversions de longueurs",
    ];
  }
}

/**
 * @Auteur Jean-Claude Lhote
 * Placer les sommets et les égalités de longueur...
 * Référence 6G20
 */
function Nommer_et_coder_des_polygones() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Nommer et coder des polygones";
  this.consigne =
    "Nommer les figures en fonction de l'énoncé puis ajouter le codage.";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.4
      }

    let params 
    
    let liste = combinaison_listes([1, 2, 3, 4, 5, 6, 7, 8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let pol, polcode, polsom, polnom
      function choisir_polygone(n) { // n compris entre 1 et 8 (1 à 4 pour un triangle, 5 à 8 pour une quadrilatère)
        let A, B, C, D
        let nom = creerNomDePolygone(4, "PQ"), pnom, q, p, pcode, enonce
        switch (n) {
          case 1: // triangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, randint(25, 80), nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est isocèle en $${nom[0]}$.<br>`
            break
          case 2: // triangle équilatéral
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 60, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C, B, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est équilatéral.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 3: // triangle rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = similitude(B, A, 90, randint(30, 100) / 100, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = codageAngleDroit(B, A, C)
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle en $${nom[0]}$.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 4: // triangle rectangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 90, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C), codageAngleDroit(B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle et isocèle en $${nom[0]}$.`
            break
          //on choisit un quadrilatère 
          case 5: // carré
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            q = carre(A, B)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, B, C, C, D, D, A), codageAngleDroit(B, A, D), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un carré.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 6: // rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = similitude(A, B, -90, randint(30, 80) / 100, nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, C, D), codeSegments('|', 'red', C, B, A, D), codageAngleDroit(B, A, C), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un rectangle et $${nom[0] + nom[1]}$ est sa longueur.`
            break
          case 7: // losange
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = rotation(A, B, randint(100, 150), nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('O', 'blue', A, B, B, C, C, D, D, A),codeAngle(C,D,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(C,B,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(B,C,D,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(D,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un losange et [$${nom[0] + nom[2]}$] est sa plus grande diagonale.`
            break
          case 8: // trapèze rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            D = similitude(B, A, 90, randint(30, 80) / 100, nom[3])
            C = translation(D, homothetie(vecteur(A, B), A, randint(30, 80) / 100), nom[2])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codageAngleDroit(B, A, D), codageAngleDroit(C, D, A)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un trapèze rectangle de grande base $${nom[0] + nom[1]}$ de hauteur $${nom[0] + nom[3]}$.`
            break
        }
        return [p, nom, pcode, pnom, enonce]
      }
      [pol, polnom, polcode, polsom, texte] = choisir_polygone(liste[i]);
      if (pol.listePoints.length==4){
      Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)-1)
      Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)-1)
      Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)+1)
      Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)+1)
      }
      else{
        Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)-1)
        Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)-1)
        Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)+1)
        Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)+1)
   
      }
      params = {
        xmin: Xmin,
        ymin: Ymin,
        xmax: Xmax,
        ymax: Ymax,
        pixelsParCm: ppc,
        scale: sc,
      }
      if (this.sup < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
    else g = ''
    if (this.sup == 2) {
      k = 0.8;
      carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
    } else {
      k = 0.5;
      carreaux = "";
    }

      pol.epaisseur=2
      texte += `<br>` + mathalea2d(params, pol, polnom,g,carreaux)
      texte_corr = mathalea2d(params, pol, polnom, polcode, polsom,g,carreaux)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
    pixelsParCm=20
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Représenter une somme de fracions de même dénominateur sur un segment gradué de façon adaptée.
 * @Auteur Jean-Claude Lhote
 * 6N14-2
 */
function Ajouter_des_fractions_d_unite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "mettre bout à bout des segments";
  this.consigne = "";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.3
      }

    let params,den,num=[0,0,0,0],f=[]
    
    let liste = combinaison_listes([5,6,7,8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
      objets=[]
      den=liste[i]
      num[0]=randint(1,den-1)
      num[1]=randint(1,den-1,num[0])
      num[2]=randint(1,den-1,num[1])
      num[3]=randint(1,den-1,[num[2],num[0]])
      for (let j=0;j<4;j++)
        f[j]=fraction(num[j],den)

           
      texte=`On place bout à bout 4 segments de longueurs respectives$ ${f[0].texFraction()}$, $${f[1].texFraction()}$, $${f[2].texFraction()}$ et $${f[3].texFraction()}$.<br>`
      texte+=`Quelle est la longueur du segment obtenu ?`
      texte_corr =`Voici sur ces dessins, coloriés en rouge, les différents segments :<br>`
      for (let j=0;j<4;j++) 
        objets.push(f[j].representation(0,5-j*1.25,5,0,'segment','red',0,1,1))
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 6,
        ymax: 6,
        pixelsParCm: ppc,
        scale: 0.5,
      }
      texte_corr += mathalea2d(params,...objets)
      texte_corr+=`<br>Ce qui donne en les mettant bout à bout :<br>`
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 20,
        ymax: 1,
        pixelsParCm: ppc,
        scale: sc,
      }
      texte_corr+=mathalea2d(params,fraction(num[0]+num[1]+num[2]+num[3],den).representation(0,0,5,0,'segment','red',0,1,0.6))
      texte_corr+=`<br>La longueur du segment ainsi obtenu est : $${fraction(num[0]+num[1]+num[2]+num[3],den).texFraction()}$`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10
 */
function Notation_segment_droite_demi_droite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Notation des droites, segments et demi-droites";
  this.consigne =
    "Compléter les programmes de constructions qui ont permis d'obtenir ces figures.";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(3, "PQ");
      let A = point(0, 0, p[0], "above left");
      let B = point(1, 1.2, p[1], "above");
      let C = point(2.2, -0.3, p[2], "above right");
      let dAB, dAC, dBC, dABCorr, dACCorr, dBCCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, notation;
        switch (randint(1, 4)) {
          case 1:
            trait = droite(A, B);
            notation = `$(${A.nom}${B.nom})$`;
            break;
          case 2:
            trait = demiDroite(A, B);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 3:
            trait = demiDroite(B, A);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 4:
            trait = segment(A, B);
            notation = `$[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, notation];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      [dAC, dACCorr] = creerDroiteDemiSegment(A, C);
      [dBC, dBCCorr] = creerDroiteDemiSegment(B, C);
      let labels = labelPoint(A, B, C);

      texte = `Placer 3 points $${p[0]}$, $${p[1]}$ et $${p[2]}$ non alignés puis tracer... <br><br>`;
      texte += mathalea2d(
        { xmin: -1, ymin: -1, xmax: 3, ymax: 2.5, pixelsParCm: 40, scale: 1 },
        dAB,
        dBC,
        dAC,
        labels
      );
      texte_corr = `...tracer ${dABCorr}, ${dBCCorr}, ${dACCorr}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10-1
 */
function Description_segment_droite_demi_droite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Description et notation des droites, segments et demi-droites";
  this.consigne =
    "Faire une phrase pour décrire le plus précisemment possible la figure et donner sa notation mathématique";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1, 4, choice([2, 3])];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(2, "P");
      let A = point(0, calcul(randint(0, 20) / 10), p[0]);
      let B = point(4, calcul(randint(0, 20) / 10), p[1]);
      let t1 = tracePointSurDroite(A, B);
      let t2 = tracePointSurDroite(B, A);
      let dAB, dABCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, correction;
        switch (liste_type_de_questions[i]) {
          case 1:
            trait = droite(A, B);
            correction = `La droite qui passe par les points $${A.nom}$ et $${B.nom}$ notée $(${A.nom}${B.nom})$.`;
            break;
          case 2:
            trait = demiDroite(A, B);
            correction = `La demi-droite d'origine $${A.nom}$ passant par $${B.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 3:
            trait = demiDroite(B, A);
            correction = `La demi-droite d'origine $${B.nom}$ passant par $${A.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 4:
            trait = segment(A, B);
            correction = `Le segment d'extrémités $${A.nom}$ et $${B.nom}$ noté $[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, correction];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      let labels = labelPoint(A, B);
      texte = mathalea2d(
        { xmin: -2, ymin: -1, xmax: 7, ymax: 3, pixelsParCm: 40, scale: 0.6 },
        dAB,
        t1,
        t2,
        labels
      );
      texte_corr = dABCorr;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Vocabulaire des triangles
 * 6G20-2
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_6e() {
  this.classe = 6;
  Vocabulaire_des_triangles.call(this);
}

/**
 * Vocabulaire des triangles
 * 5G20-1
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_5e() {
  this.classe = 5;
  Vocabulaire_des_triangles.call(this);
}
// Référence 6G21
function Construire_un_triangle_6e() {
  Construire_un_triangle.call(this)
  this.classe=6
}
/**
 * 
 * 
 * Réfrence 6G21 et ... (exercice en 5e ? pas encore fait)
 */
function Construire_un_triangle() {
  "use strict"
  Exercice.call(this)
  this.titre = "Construire un triangle aux instruments";
  this.nb_questions = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []
    this.liste_corrections = []
    let type_de_questions_disponibles,A,B,C,lAB,lBC,lAC,cA,cB,T,dBC,dAB,objets_enonce,objets_correction,params_enonce,params_correction,nom,sommets
    if (this.classe == 6) type_de_questions_disponibles = [1,2]
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6]
    let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles, this.nb_questions)
    for (let i = 0, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt < 50;) {
      objets_enonce=[]
      objets_correction=[]
      texte =`Le triangle ci-dessous a été réalisé à main levée.<br>Construire ce triangle avec les instruments de géométrie en respectant les mesures indiquées.<br>`
      texte_corr=`Voici la construction que tu devais réaliser.<br>`
      nom=creerNomDePolygone(3,"PQ")
      sommets=[]
      for(let i=0;i<3;i++) sommets.push(nom[i])
      sommets=shuffle(sommets)
      A=point(0,0,sommets[0])
      switch (liste_type_de_questions[i]) {
        case 1:
          lAC=randint(35,45)
          lBC=calcul(randint(35,45,lAC)/10)
          lAB=calcul(randint(46,60)/10)
          lAC=calcul(lAC/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          cB=cercle(B,lBC)
          C=pointIntersectionCC(cA,cB,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),traceCompas(B,C,30,'gray',1,2),afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          texte_corr+=`Pour cette construction, nous avons utilisé le compas et la règle graduée.<br>`
          break;

        case 2:
          lAC=randint(70,80)/10
          lAB=calcul(randint(46,60)/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          dAB=droite(A,B)
          dBC=droiteParPointEtPerpendiculaire(B,dAB)
          C=pointIntersectionLC(dBC,cA,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,A),codageAngleDroit(A,B,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),codageAngleDroit(A,B,C),afficheLongueurSegment(B,A),afficheLongueurSegment(C,A))
          texte_corr+=`Pour cette construction, nous avons utilisé la règle graduée, l'équerre et le compas.<br>`
          break

        case 3:

          break
      }
      T=polygoneAvecNom(A,B,C)
      objets_enonce.push(T[0],T[1])
      objets_correction.push(T[0],T[1])
      params_enonce={xmin : Math.min(A.x-1,B.x-1,C.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1),xmax : Math.max(A.x+1,B.x+1,C.x+1),ymax : Math.max(A.y+1,B.y+1,C.y+1),pixelsParCm : 30, scale : 1,mainlevee : true,amplitude : 1}
      params_correction={xmin : Math.min(A.x-1,B.x-1,C.x-2),ymin : Math.min(A.y-1,B.y-1,C.y-2),xmax : Math.max(A.x+1,B.x+1,C.x+2),ymax : Math.max(A.y+1,B.y+1,C.y+2),pixelsParCm : 30, scale : 1}
      texte+=mathalea2d(params_enonce,objets_enonce)
      texte_corr+=mathalea2d(params_correction,objets_correction)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

function Test_main_levee() {
  "use strict";
  Exercice.call(this);

  this.titre = "Test de main levée";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions=[]
    this.liste_corrections=[]
    let A=point(5,5)
    let B=point(10,5)
    let D=point(10,10)
//    let a=codeAngle(B,A,D,4)
    let C=cercleCentrePoint(A,B,'green')
    C.epaisseur=2
    C.opacite=0.5
    let E=cercleCentrePoint(B,A,'red')
    E.epaisseur=2
    E.opacite=0.5
    let s=segment(A,B,'red')
    s.epaisseur=5
    s.opacite=0.4
    pixelsParCm=20
    scale=3
    let cote=afficheCoteSegment(s)
    let crochD=crochetD(B)
    let crochG=crochetG(A)

 //   let m=mediatrice(A,B,'d','purple')
    let cons=constructionMediatrice(A,B,true,'orange','//','O','black',2)

    let texte=mathalea2d({xmin:-1,ymin:0,xmax:16,ymax:11,pixelsParCm:20,scale:3,mainlevee:this.sup,amplitude:1},[cote,crochD,crochG,codeAngle(A,B,-90,3,'||','black',2,1,'yellow',0.5),C,s,E,tracePoint(A,B,D)])
    pixelsParCm=20
    let texte_corr=""
    this.liste_questions.push(texte );
    this.liste_corrections.push(texte_corr );
   liste_de_question_to_contenu(this)  
  }

  this.besoin_formulaire_case_a_cocher = ["main levee"];	
}

/**
 * Exercice du test de positionnement 5e
 * Variantes à venir...
 * @Auteur Jean-Claude Lhote
 * Référence 6G10-2
 */
function Utiliser_le_codage_pour_decrire_6e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=6
}
// 5G30
function Utiliser_le_codage_pour_decrire_5e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=5
}
function Utiliser_le_codage_pour_decrire(){
  "use strict"
  Exercice.call(this);
  this.titre = "Utiliser le codage pour décrire une figure";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc,nom,sommets=[],params_enonce,params_correction,objets_enonce,objets_correction
    let A,B,C,D,E,F,s1,s2,s3,s4,s5,s6,s7,s8,medAC,medBC,dBD,dBC,dAC,dAF
    if (this.classe==6) type_de_questions_disponibles=[1,2,3]
    else type_de_questions_disponibles=[1,2,3,4]
    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce=[]
      objets_correction=[]
      params_enonce={}
      params_correction={}
/*      nom=creerNomDePolygone(6,"PQ")
      for (let i=0;i<6;i++) 
        sommets.push(nom[i])
      sommets=shuffle(sommets)
*/
      sommets.push('A','B','C','D','E','F')
      A=point(0,0,sommets[0],'left')
      switch (liste_type_de_questions[i]){
      case 1 :
      C=pointAdistance(A,randint(5,7),randint(-45,45),sommets[2],'right')
      s2=segment(A,C)
      B=similitude(C,A,-85,randint(5,7)/10,sommets[1],'below')
      s1=segment(A,B)
      E=pointSurSegment(A,hC,longueur(A,C)/2.2,sommets[4],'below')
      medBC=mediatrice(C,B)
      medAC=mediatrice(A,C)
      dBC=droite(C,B)
      dBD=rotation(dBC,B,randint(-40,-20))
      dAC=droite(A,C)
      dAF=rotation(dAC,A,randint(30,40))
      D=pointIntersectionDD(dBD,medBC,sommets[3],'below')
      D.x+=randint(-2,2,0)/5
      F=pointIntersectionDD(dAF,medAC,sommets[5],'above')
      F.x+=randint(-2,2,0)/5
      s5=segment(B,D)
      s6=segment(C,D)
      s3=segment(A,F)
      s7=segment(C,F)
      s8=segment(E,F)
      s4=segment(B,C)
        params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_enonce.push(s1,s2,s4,s8,s7,s3,s6,s5,codageAngleDroit(B,A,C),codeSegments('//','black',A,F,F,C),codeSegments('|||','black',A,E,E,C),codeSegments('O','black',B,D,D,C),labelPoint(A,B,C,D,E,F),codageAngleDroit(A,E,F))
        texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- deux segments de même longueur ;<br>`
        texte+=`- le milieu d'un segment ;<br>`
        texte+=`- un triangle rectangle ;<br>`
        texte+=`- un triangle isocèle ;<br>`
        texte_corr=`- Deux segments de même mesure : [$${sommets[0]+sommets[4]}$] et $[${sommets[4]+sommets[2]}]$ ou $[${sommets[0]+sommets[5]}]$ et $[${sommets[5]+sommets[2]}]$`
        texte_corr+=` ou $[${sommets[1]+sommets[3]}]$ et $[${sommets[3]+sommets[2]}]$.<br>`
        texte_corr+=`- $E$ est le milieu du segment $[${sommets[0]+sommets[2]}]$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[1]+sommets[2]}$ est un triangle rectangle en $${sommets[0]}$, $${sommets[0]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$ et $${sommets[2]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[5]+sommets[2]}$ est un triangle isocèle en $${sommets[5]}$ et $${sommets[1]+sommets[3]+sommets[2]}$ est un triangle isocèle en $${sommets[3]}$.<br>`
        break
        case 2 : 
        B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
        C=similitude(A,B,randint(85,90),0.95,sommets[2],'below')
        D=similitude(B,A,randint(-93,-87),1,sommets[3],'below')
        F=similitude(B,C,-55,0.8,sommets[5],'right')
        E=similitude(C,D,57,randint(85,115)/100,sommets[4],'right')
        s1=segment(D,E)
        s2=segment(C,E)
        s4=segment(C,F)
        s5=segment(B,F)
        s6=polygone(A,B,C,D)
        params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s4,s5,s6)
        objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
        objets_correction.push(codeSegments('||','black',D,E,C,E),codeSegments('O','black',A,B,B,C,C,D,D,A),codeSegments('|||','black',F,C,B,F))
        texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un carré et $${sommets[3]+sommets[2]+sommets[4]}$ est un triangle équilatéral ($${sommets[4]}$ est à l'intérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=` $${sommets[1]+sommets[2]+sommets[5]}$ est un triangle isocèle en $${sommets[5]}$ ($${sommets[5]}$ est à l'extérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
        texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 3:
          B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
          C=similitude(A,B,randint(85,90),0.5,sommets[2],'below')
          D=similitude(B,A,randint(-93,-87),0.53,sommets[3],'below')
          s1=segment(D,B)
          s2=segment(A,C)
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above')
          F=affiniteOrtho(E,droite(B,C),-1.1,sommets[5],'right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(C,F)
          params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
          objets_correction.push(codeSegments('||','black',D,E,E,B,A,E,E,C,F,C,B,F),codeSegments('O','black',A,B,D,C),codeSegments('/','black',A,D,B,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
          texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 4 :
          B=pointAdistance(A,randint(6,7),randint(-30,30),sommets[1],'above right')
          F=similitude(A,B,randint(-70,-50),randint(80,90)/100,sommets[5],'left')
          D=similitude(B,A,angleOriente(A,B,F)+randint (3,5),randint(15,20)/10,sommets[3],'below')
          C=translation2Points(point(B.x+1,B.y+1),A,D,sommets[2],'below right')
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(A,F)
          s1=segment(B,D)
          s2=segment(A,C)
          params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_enonce.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_enonce.push(codeAngle(D,A,B,2,'|','red',2),codeAngle(B,C,D,2,'|','red',2),codeAngle(A,B,F,2,'|','red',2))
          objets_enonce.push(codeAngle(A,B,C,2,'||','blue',2),codeAngle(A,D,C,2,'||','blue',2))
          objets_enonce.push(codeAngle(B,A,F,2,'','green',3),codeAngle(B,F,A,2,'','green',3))
          
          objets_enonce.push(codeSegments('||','black',B,E,E,D),codeSegments('O','black',A,E,E,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- la nature du triangle $${sommets[0]+sommets[1]+sommets[5]}$ ;<br>`
        texte+=`- la nature du quadrilatère $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ ;<br>`
        texte+=`- la nature de l'angle $\\widehat{FBC}$ ;<br>`
          texte_corr=`Le triangle $${sommets[0]+sommets[1]+sommets[5]}$ a deux angles de même mesure, c'est donc un triangle isocèle en $${sommets[1]}$.<br>`
          texte_corr+=`Le quadrilatère  $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ a des diagonales qui se coupent en leur milieu, c'est donc un parallélogramme.<br>`
          texte_corr+=`Dans un parallélogramme, les angles consécutifs sont supplémentaires (leur somme vaut 180°).<br`
          texte_corr+=` D'après le codage, l'angle \\widehat{${sommets[2]+sommets[1]+sommets[5]}$} est la somme de deux angles supplémentaires. C'est donc un angle plat.<br>`
          
         
        break
      }
        if (objets_enonce.length>0) texte+=mathalea2d(params_enonce,objets_enonce)
        if (objets_correction.length>0) texte_corr+=mathalea2d(params_correction,objets_correction)
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
   };
}


/**
 * Fonction générale pour exercices de constructions de parallèles et perpendiculaires
 * références 6G11, 6G12 et 6G12-1
 */
function Parallele_et_Perpendiculaires() {
  "use strict";
  Exercice.call(this);
  this.titre = "Tracer des parallèles et des perpendiculaires";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  type_de_questions_disponibles = [parseInt(this.sup)]; // Le choix 1 ou 2 ou 3 : 1=perpendiculaires, 2=parallèles, 3=des perpendiculaires et des paralèlles
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc;
   
    let A,
      B,
      C,
      D,
      xE,
      E,
      F,
      CC,
      DD,
      EE,
      d,
      s1,
      s2,
      enonce,
      correction,
      dB,
      dC,
      dD,
      dE,
      g,
      lC,
      lD,
      lE,
      cB,
      cC,
      cD,
      cE,
      cF,
      cG,
      FF,
      BB,
      carreaux,
      k,
      objets_enonce = [],
      objets_correction = [],
      
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce.splice(0)
      objets_correction.splice(0)
      if (this.sup2 == 2) 
        k = 0.8;
      else 
        k = 0.5;
      switch (liste_type_de_questions[i]) {
        case 1:
          A = point(0, 0, "A", "above left");
          B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
          d = droite(A, B);
          d.isVisible = true;
          C = point(randint(2, 3), randint(3, 4), "C", "above left");
          D = point(randint(7, 8), randint(-7, -6), "D");
          dB = droiteParPointEtPerpendiculaire(B, d);
          xE = 11;
          E = pointSurDroite(dB, 11, "E", "left");
          while (!Number.isInteger(E.y)) {
            xE++;
            E = pointSurDroite(dB, xE, "E", "left");
          }
          F = point(E.x, B.y);
          s1 = segment(B, F, "red");
          s1.epaisseur = 2;
          s1.pointilles = true;
          s2 = segment(F, E, "blue");
          s2.epaisseur = 2;
          s2.pointilles = true;
          dC = droiteParPointEtPerpendiculaire(C, d);
          dD = droiteParPointEtPerpendiculaire(D, d);
          BB = rotation(A, B, 90);
          CC = pointIntersectionDD(dC, d, "M", "below right");
          DD = pointIntersectionDD(dD, d, "N", "above left");
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          cB = codageAngleDroit(A, B, BB);
          cC = codageAngleDroit(C, CC, B);
          cD = codageAngleDroit(D, DD, B);
          objets_correction.push(s1,
            s2,
            dC,
            dD,
            dB,
            cB,
            cC,
            cD,
            d,
            tracePoint(A, B, C, D, E, CC, DD),
            labelPoint(A, B, C, D, E, CC, DD),
            afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              -0.5,
              "red",
              1,
              -0.5,
              "red"
            )
          );
          objets_enonce.push(
            tracePoint(A, B, C, D),
            labelPoint(A, B, C, D),
            d,
          );
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=
            num_alpha(1) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=
            num_alpha(2) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nommer $M$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(3) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $D$ et nommer $N$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(4) +
            ` Mesurer ensuite les distances $AM$ et $AN$.<br> Pour l'auto-correction comparer ces mesures avec celles données dans la correction<br>`;
               correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm et $AN \\approx ${tex_nombre(lD)}$ cm.<br>`;
          correction += `Pour la perpendiculaire en $B$, contrôle la position du point $E$.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)+1)
          break;
        case 2:
          A = point(2, 0, "A",'below left');
          B = point(12, randint(-4, 4, 0), "B");
          d = droite(A, B);
          d.isVisible = true;
          C = point(0, randint(3, 4), "C",'above');
          D = point(randint(7, 8), randint(-7, -6), "D",'below right');
          E = point(randint(4, 5), randint(5,6), "E",'below right');
          F = point(2, -3, "F", "left");
 
          dE = droiteParPointEtParallele(E, d);
          dC = droiteParPointEtParallele(C, d);
          dD = droiteParPointEtParallele(D, d);
          p = droite(A, F);
          p.isVisible = true;
          CC = pointIntersectionDD(dC, p,'M','above left');
          DD = pointIntersectionDD(dD, p,'N','above left');
          EE = pointIntersectionDD(dE, p,'O','above left');
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          lE = arrondi(longueur(EE, A) * k, 1);
          objets_correction.push(dC,dD,dE,d,p,tracePoint(A, B, C, D, E,F),labelPoint(A, B, C, D, E,F,CC,DD,EE),afficheCoteSegment(segment(A,CC),`${tex_nombre(lC)} cm`,.2,'red',1,0.5,'red'),afficheCoteSegment(segment(DD,A),`${tex_nombre(lD)} cm`,-0.2,'green',1,-0.5,'green'),afficheCoteSegment(segment(A,EE),`${tex_nombre(lE)} cm`,-0.2,'blue',1,-0.5,'blue'))
          objets_enonce.push(tracePoint(A, B, C, D,E,F),labelPoint(A, B, C, D,E,F),d,p);
        
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=num_alpha(1)+` Tracer la droite parallèle à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce += num_alpha(4)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)
          break;
          case 3:
            A = point(0, 0, "A", "above left");
            B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
            d = droite(A, B);
            d.isVisible = true;
            C = point(randint(2, 3), randint(3, 4), "C", "above left");
            D = point(randint(7, 8), randint(-7, -6), "D");
            dB = droiteParPointEtPerpendiculaire(B, d);
            xE = 11;
            E = pointSurDroite(dB, 11, "E", "left");
            while (!Number.isInteger(E.y)) {
              xE++;
              E = pointSurDroite(dB, xE, "E", "left");
            }
            F = point(E.x, B.y);
            dE = droiteParPointEtParallele(E, d);
            dD = droiteParPointEtParallele(D, d);
            dC = droiteParPointEtPerpendiculaire(C,d)
            BB = rotation(A, B, 90);
            CC = pointIntersectionDD(dC, d, "M", "below right");
            DD = pointIntersectionDD(dD, dB, "N", "above left");
            EE = pointIntersectionDD(dC,dE ,'O','above left');
            FF = pointIntersectionDD(dD,dC)

            lC = arrondi(longueur(CC, A) * k, 1);
            lD = arrondi(longueur(DD, A) * k, 1);
            lE = arrondi(longueur(EE, A) * k, 1);
            cB = codageAngleDroit(A, B, BB);
            cC = codageAngleDroit(C, CC, B);
            cD = codageAngleDroit(D, DD, B,'red');
            cE = codageAngleDroit(B,E,EE,'red')
            cF = codageAngleDroit(C,EE,E,'red')
            cG = codageAngleDroit(C,FF,D,'red')

            objets_correction.push(dC,dD,dB,dE,cB,cC,cD,cE,cF,cG,d,tracePoint(A, B, C, D, E, CC, DD,EE),labelPoint(A, B, C, D, E, CC, DD,EE),afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              0,
              "blue",
              1,
              -0.5,
              "blue"
            ),
            afficheCoteSegment(
              segment(A, EE),
              `${tex_nombre(lE)} cm`,
              0,
              "green",
              1,
              -0.5,
              "green"
            ));
            objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
            if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
            else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
             enonce +=num_alpha(1)+` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AB)$.<br>`
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(BE)$.<br>`;
          enonce += num_alpha(4)+ ` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(CM)$.<br>`
          enonce += num_alpha(5)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          correction+=`Les angle droits en rouge se justifient par la propriété :<br> ${texte_en_couleur(`Si deux droites sont parallèles, toutes droite perpendiculaire à l'une est aussi perpendiculaire à l'autre`,'red')}.<br>`
          correction +=`Vérifier les angles droits à l'équerre.<br>`
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)

          break
      }
      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.8;
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
      } else {
        sc = 0.5;
        carreaux = "";
      }
      objets_enonce.push(g,carreaux)
      objets_correction.push(g,carreaux)
      
      enonce += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
       objets_enonce
      );
      correction += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
        objets_correction
      );
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}


/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue
 * * 6P11-1
 * @author Sébastien Lozano
 */
function Proportionnalite_par_linearite_bis(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème relevant de la proportionnalité avec les propriétés de linéarité.";
  this.consigne = "";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1;
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles=[1];			
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// une fonction pour gérer le pluriel 
			function pluriel(n,obj) {
				if (n>1) {
					return obj.achat_plur
				} else {
					return obj.achat_sing
				};
			};
			
			// une fonction pour gérer la chaine de sortie et supprimer le coeff 1 !
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
      };
      
      //une fonction pour calculer la différence positive entre deux entiers
      function diffInt(n,p) {
        if (n>p) {
          return calcul(n-p);
        } else if (n<p) {
          return calcul(p-n);
        } else {
          return 0;
        }
      };

      // un compteur pour les sous-questions
      let k=0;
      let k_corr=0;
      // on crée un tableau d'objets pour les situations possibles
      let n1,n2,n3,n4,n_max;
      do {
        n1 = randint(1,9);
        n2 = randint(1,9,[n1]);
        n3 = n1+n2;
        n4 = diffInt(n1,n2);
        n_max=randint(10,19,[n3]);
      }	while (n4==1);
      //n1 sera toujours le plus grand sinon on intervertit les deux
      let temp;
      if (n1<n2) {
        temp = n1;
        n1 = n2;
        n2 = temp;
      };	
			let situations = [
        {lieu:`la boulangerie "Au bon pain"`,achat_sing:`pain au chocolat`,achat_plur:`pains au chocolat`,prenom1:prenom(),prenom2:prenom(),prenom3:prenom(),prenom4:prenom(),prenom_max:prenom(),n1:n1,n2:n2,n3:n3,n4:n4,n_max:n_max,pu:0.9}
			]
			let enonces = [];
      let situation = situations[randint(0,situations.length-1)];
      
			enonces.push({
        enonce:`
          Dans ${situation.lieu}, ${situation.prenom1} achète $${situation.n1}$ ${pluriel(situation.n1,situation)} et paie $${tex_prix(situation.pu*situation.n1)}$ €.
          <br>${situation.prenom2} achète $${situation.n2}$ ${pluriel(situation.n2,situation)} et paie $${tex_prix(situation.pu*situation.n2)}$ €.
          <br>
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom3} pour $${situation.n3}$ ${pluriel(situation.n3,situation)} ?
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom4} pour $${situation.n4}$ ${pluriel(situation.n4,situation)} ?
          <br>${num_alpha(k++)} Quel est le nombre maximum de ${situation.achat_plur} que ${situation.prenom_max} peut acheter avec $${tex_prix(situation.pu*situation.n_max)}$ € ?
          `,
				question:``,
        correction:`
        C'est une situation de proportionnalité. Nous pouvons donc utiliser les propriétés de linéarité de la proportionnalité.
        <br>C'est ce que nous allons faire pour les deux premières questions.
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}+${situation.n2}$ ${pluriel(situation.n3,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € + $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom3} paiera donc $${tex_prix(situation.pu*situation.n3)}$ € pour $${situation.n3}$ ${pluriel(situation.n3,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}-${situation.n2}$ ${pluriel(situation.n4,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € - $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom4} paiera donc $${tex_prix(situation.pu*situation.n4)}$ € pour $${situation.n4}$ ${pluriel(situation.n4,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} On peut utiliser l'une ou l'autre des informations de l'énoncé pour répondre en revenant à l'unité.
        <br> Par exemple pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Donc $1$ ${situation.achat_sing} coûte $${tex_prix(situation.pu*situation.n1)}\\div ${situation.n1} = ${tex_prix(situation.pu)}$ €.
        <br> Pour $${tex_prix(situation.pu*situation.n_max)}$ € nous aurons donc $${tex_prix(situation.pu*situation.n_max)}\\div ${tex_prix(situation.pu)}$ € $= ${situation.n_max}$ ${pluriel(situation.n_max,situation)}.
        <br> ${texte_en_couleur(`Avec $${tex_prix(situation.pu*situation.n_max)}$ €, ${situation.prenom_max} pourra donc acheter $${situation.n_max}$ ${pluriel(situation.n_max,situation)}.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6G23-2
 */
function Tracer_triangle_2_angles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer un triangle dont on connait une longueur et 2 angles";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let c = calcul(randint(30, 70) / 10);
      let angle1 = randint(20, 70);
      let angle2 = randint(20, 70);
      let p = creerNomDePolygone(3);
      texte = `Tracer un triangle $${p}$ tel que $${p[0] + p[1]}=${tex_nombre(
        c
      )}$ cm, $\\widehat{${
        p[1] + p[0] + p[2]
      }}=${angle1}\\degree$ et $\\widehat{${
        p[0] + p[1] + p[2]
      }}=${angle2}\\degree$.`;
      texte += `<br> Mesurer $${p[0] + p[2]}$ et $${p[1] + p[2]}$.`;
      let A0 = point(0, 0, p[0], "left");
      let B0 = point(c, 0, p[1], "right");
      let s0 = segmentAvecExtremites(A0, B0);
      let t1 = afficheLongueurSegment(B0, A0);

      let A1 = point(B0.x + 4, 0, p[0], "left");
      let B1 = point(A1.x + c, 0, p[1], "right");
      let s1 = segment(A1, B1);
      s1.styleExtremites = "-|";
      let c1 = rotation(B1, A1, angle1);
      let C1 = pointSurSegment(c1, A1, -3);
      let s2 = segment(A1, C1);
      let t2 = afficheMesureAngle(B1, A1, C1);

      let A2 = point(B1.x + 4, 0, p[0], "left");
      let B2 = point(A2.x + c, 0, p[1], "right");
      let s3 = segment(A2, B2);
      let c2 = rotation(B2, A2, angle1);
      let C2 = pointSurSegment(c2, A2, -3);
      let s4 = segment(A2, C2);
      let c3 = rotation(A2, B2, -angle2);
      let C3 = pointSurSegment(c3, B2, -3);
      let t3 = afficheMesureAngle(A2, B2, C3);
      let s5 = segment(B2, C3);
      let d1 = droite(A2, C2);
      d1.isVisible = false;
      let d2 = droite(B2, C3);
      d2.isVisible = false;
      let C = pointIntersectionDD(d1, d2, p[2]);
      let l = labelPoint(A0, B0, A1, B1, A2, B2, C);

      if (sortie_html) {
        texte_corr = mathalea2d(
          { xmin: -1, xmax: 3 * c + 10, ymin: -1, ymax: 10 },
          s0,
          s1,
          s2,
          s3,
          s4,
          s5,
          t1,
          t2,
          t3,
          l
        );
        texte_corr += '<br><br>'
      } else {
        texte_corr = "";
      }
      texte_corr += `$${p[0] + p[2]}\\approx${tex_nombre(
        longueur(A2, C, 1)
      )}$ cm et $${p[1] + p[2]}\\approx${tex_nombre(longueur(B2, C, 1))}$ cm.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * fonction servant à plusieurs exercice autour du cube et du pavé droit
 * références : 6G42 et 6G43
 * @Auteur Jean-Claude Lhote
 */
function Solide_6e() {
  "use strict";
  Exercice.call(this);
  this.titre = "Connaître les propriétés du cube et du pavé droit";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  if (this.sup==3) type_de_questions_disponibles=[1,2]
 else type_de_questions_disponibles = [parseInt(this.sup)]; 
 if (this.titre=="Utiliser le vocabulaire associé au pavé droit") 
    for (let n=0;n<type_de_questions_disponibles.length;n++)
      type_de_questions_disponibles[n]+=2
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc;
 
    if (this.sup2 == 1) sc = 0.5;
    else sc = 0.8;

    let A,B,C,D,E,F,G,H,
      AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,
      lAB,lBC,lAE,anglepersp,coeffpersp,
      codesseg=[],
      enonce,
      correction,
      carreaux,g,
      objets_enonce = [],
      objets_correction = [],
     k,
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
     let nom = creerNomDePolygone(8, "PQ"),
     anglepersp=choice([30,45,-30,-45,150,135,-150,-135])
      if (anglepersp%10==0) coeffpersp=0.6
      else coeffpersp=0.4
      objets_correction=[]
      objets_enonce=[]
      switch (liste_type_de_questions[i]) {
        case 1: //cube
          enonce=`${nom} est un cube.<br>`
          if (sortie_html) enonce +=` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le cube ${nom}.<br>`

          break;
        case 2:

          enonce=`${nom} est un pavé droit.<br>`
          if (sortie_html) enonce += ` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le pavé droit ${nom}.<br>`

           break;
        case 3 :
          enonce=`${nom} est un cube.<br>`
          break;
 
        case 4 :
          enonce=`${nom} est un pavé droit.<br>`
          break;
      }
      let aretes_paralleles=[[[0,1],[3,2],[4,5],[7,6]],[[0,3],[1,2],[4,7],[5,6]],[[0,4],[1,5],[2,6],[3,7]]]
      let faces_paralleles=[[[0,1,2,3],[4,5,6,7]],[[0,4,7,3],[1,5,6,2]],[[0,1,5,4],[3,2,6,7]]]
      let aretes_perp=[[[0,1],[0,4],[0,3],[1,5],[1,2]],[[0,4],[0,1],[0,3],[4,5],[4,7]],[[0,3],[0,1],[0,4],[3,2],[3,7]],[[1,2],[1,0],[1,5],[2,3],[2,6]],[[1,5],[1,0],[1,2],
      [5,4],[5,6]],[[5,4],[5,1],[5,6],[4,0],[4,7]],[[5,6],[5,1],[5,4],[6,2],[6,7]]
      ,[[6,2],[6,5],[6,7],[2,1],[2,3]],[[2,3],[2,1],[2,6],[3,0],[3,7]],[[3,7],[3,2],[3,0],[7,4],[7,6]],[[7,4],[4,0],[4,5],[7,3],[7,6]],[[7,6],[6,2],[6,5],[7,3],[7,4]]]
      let faces_perp=[[[0,1,2,3],[1,5,6,2],[2,6,7,3],[3,7,4,0],[0,1,5,4]],[[1,5,6,2],[0,1,2,3],[2,6,7,3],[5,6,7,4],[1,5,4,0]],[[0,1,5,4],[1,5,6,2],[4,5,6,7],[0,4,7,3],[0,1,2,3]],
      [[4,5,6,7],[0,1,5,4],[1,5,6,2],[2,6,7,3],[0,4,7,3]],[[0,4,7,3],[0,1,2,3],[0,1,5,4],[4,5,6,7],[3,2,6,7]],[[3,2,6,7],[0,1,2,3],[1,5,6,2],[4,5,6,7],[0,4,7,3]]]
      let k,l,s
      switch (randint(1,4)) {
        case 1 : // citer les arêtes parallèles à une arrête donnée
        [k,l,s]=[randint(0,2),randint(0,3),randint(0,1)]
          enonce+=`Citer toutes les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$].<br>`
        correction = `Les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$] sont [$${nom[aretes_paralleles[k][(l+1)%4][s]]+nom[aretes_paralleles[k][(l+1)%4][(s+1)%2]]}$], [$${nom[aretes_paralleles[k][(l+2)%4][s]]+nom[aretes_paralleles[k][(l+2)%4][(s+1)%2]]}$] et [$${nom[aretes_paralleles[k][(l+3)%4][s]]+nom[aretes_paralleles[k][(l+3)%4][(s+1)%2]]}$].<br>`
      break;
      case 2: // coter la face parallèle à une face donnée
       [k,l,s]=[randint(0,2),randint(0,1),randint(0,3)]
       enonce+=`Quelle est la face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ ?<br>`
       correction = `La face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ est la face $${nom[faces_paralleles[k][(l+1)%2][s]]+nom[faces_paralleles[k][(l+1)%2][(s+1)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+2)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+3)%4]]}$.<br>`
      break;
      case 3: // citer les arêtes perpendiculaires à une arête donnée
        [k,l,s]=[randint(0,11),0,randint(0,1)]
        enonce+=`Quelles sont les arêtes peprendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] ?<br>`
        correction = `Les arêtes perpendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] sont [$${nom[aretes_perp[k][1][s]]+nom[aretes_perp[k][1][(s+1)%2]]}$], [$${nom[aretes_perp[k][2][s]]+nom[aretes_perp[k][2][(s+1)%2]]}$], [$${nom[aretes_perp[k][3][s]]+nom[aretes_perp[k][3][(s+1)%2]]}$] et [$${nom[aretes_perp[k][4][s]]+nom[aretes_perp[k][4][(s+1)%2]]}$].`
      break;
      case 4 : // citer les faces perpendiculaires à une face donnée
        [k,l,s]=[randint(0,5),0,randint(0,3)]
        enonce+=`Quelles sont les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ ?<br>` 
        correction =`Les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ `
        correction +=`sont les faces $${nom[faces_perp[k][l+1][s]]+nom[faces_perp[k][l+1][(s+1)%4]]+nom[faces_perp[k][l+1][(s+2)%4]]+nom[faces_perp[k][l+1][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+2][s]]+nom[faces_perp[k][l+2][(s+1)%4]]+nom[faces_perp[k][l+2][(s+2)%4]]+nom[faces_perp[k][l+2][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+3][s]]+nom[faces_perp[k][l+3][(s+1)%4]]+nom[faces_perp[k][l+3][(s+2)%4]]+nom[faces_perp[k][l+3][(s+3)%4]]}$ et `
        correction+=`$${nom[faces_perp[k][l+4][s]]+nom[faces_perp[k][l+4][(s+1)%4]]+nom[faces_perp[k][l+4][(s+2)%4]]+nom[faces_perp[k][l+4][(s+3)%4]]}$.`
    
        break;
      }

        switch (liste_type_de_questions[i]%2) {
          case 1 :
      A = point(6, 0, nom[0], "left");
      B = point(11, 0, nom[1], "right");
      C = point(11,5, nom[2], "right");
      D = point(6,5, nom[3],"left");
      p=polygone(A,B,C,D)
      E = similitude(B,A,anglepersp,coeffpersp,nom[4],'left')
      E.x=Math.round(E.x)
      E.y=Math.round(E.y)
          break;
          case 0:
            A = point(5, 0, nom[0], "left");
            B = point(9+randint(1,3), 0, nom[1], "right");
            C = point(B.x,randint(3,7), nom[2], "right");
            D = point(A.x,C.y, nom[3],"left");
            p=polygone(A,B,C,D)
            E = similitude(B,A,anglepersp,coeffpersp*randint(5,12)/10,nom[4],'left')
            E.x=Math.round(E.x)
            E.y=Math.round(E.y)
            break ;
        }  
      p=polygone(A,B,C,D)
      F = translation2Points(E,A,B,nom[5],'right')
      G = translation2Points(F,B,C,nom[6],'right')
      H = translation2Points(G,C,D,nom[7],'left')
      AB=segment(A,B)
      BC=segment(B,C)
      CD=segment(C,D)
      DA=segment(D,A)
      EF=segment(E,F)
      FG=segment(F,G)
      GH=segment(G,H)
      HE=segment(H,E)
      AE=segment(A,E)
      BF=segment(B,F)
      CG=segment(C,G)
      DH=segment(D,H)
      AB.epaisseur=2
      BC.epaisseur=2
      CD.epaisseur=2
      DA.epaisseur=2
      EF.epaisseur=2
      FG.epaisseur=2
      GH.epaisseur=2
      HE.epaisseur=2
      AE.epaisseur=2
      BF.epaisseur=2
      CG.epaisseur=2
      DH.epaisseur=2
      AB.color='black'
      BC.color='black'
      CD.color='black'
      DA.color='black'
      EF.color='black'
      FG.color='black'
      GH.color='black'
      HE.color='black'
      AE.color='black'
      BF.color='black'
      CG.color='black'
      DH.color='black'
      if (G.y<C.y&&G.x<C.x) {
        CG.pointilles=true
        CG.color='gray'
        CG.opacite=0.7
        GH.pointilles=true
        GH.color='gray'
        GH.opacite=0.7
        FG.pointilles=true
        FG.color='gray'
        FG.opacite=0.7
      }
      else if (E.y>A.y&&E.x>A.x) {
        AE.pointilles=true
        EF.pointilles=true
        HE.pointilles=true
        AE.color='gray'
        EF.color='gray'
        HE.color='gray'
        AE.opacite=0.7
        EF.opacite=0.7
        HE.opacite=0.7
      }
      else if (F.x<B.x&&F.y>B.y) {
        BF.pointilles=true
        FG.pointilles=true
        EF.pointilles=true
        BF.color='gray'
        FG.color='gray'
        EF.color='gray'
        BF.opacite=0.7
        FG.opacite=0.7
        EF.opacite=0.7
      }
      else if (H.x>D.x&&H.y<D.y) {
        DH.pointilles=true
        GH.pointilles=true
        HE.pointilles=true
        DH.color='gray'
        GH.color='gray'
        HE.color='gray'
        DH.opacite=0.7
        GH.opacite=0.7
        HE.opacite=0.7
      }
      Xmin = Math.min(A.x,E.x)-1;
      Ymin = Math.min(A.y,E.y)-1;
      Xmax = Math.max(B.x,F.x)+2;
      Ymax = Math.max(D.y,H.y)+1;
      ppc = 20;

      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
        sc=0.8
      }
      else {
        carreaux = "";
        sc=0.5
      }
      objets_enonce.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),p,
        g,
        carreaux
      );
     
    let  params = {
      xmin: Xmin,
      ymin: Ymin,
      xmax: Xmax,
      ymax: Ymax,
      pixelsParCm: ppc,
      scale: sc,
    }
  
   
        enonce += mathalea2d(params, objets_enonce);
      if (liste_type_de_questions[i]==1) {
        codesseg=[codeSegments('||','green',[A,B,C,D,A,E,F,G,H,E]),codeSegments('||','green',B,F,C,G,D,H)]
        AB.color='green'
        BC.color='green'
        CD.color='green'
        DA.color='green'
        EF.color='green'
        FG.color='green'
        GH.color='green'
        HE.color='green'
        AE.color='green'
        BF.color='green'
        CG.color='green'
        DH.color='green'
      }
      else {
        codesseg=[codeSegments('||','green',A,B,C,D,E,F,G,H),codeSegments('O','red',A,E,B,F,C,G,D,H),codeSegments('×','blue',D,A,B,C,F,G,H,E)]
        AB.color='green'
        BC.color='blue'
        CD.color='green'
        DA.color='blue'
        EF.color='green'
        FG.color='blue'
        GH.color='green'
        HE.color='blue'
        AE.color='red'
        BF.color='red'
        CG.color='red'
        DH.color='red'
      }
    objets_correction.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),
        g,
        carreaux
      );
      if (liste_type_de_questions[i]<3) correction += mathalea2d(params, objets_correction,codesseg);
    
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type de solides', 3, `1 : Cubes\n 2 : Pavés droits\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/** 
 * * Calculer le produit de deux décimaux à partir d'un produit de deux entiers
 * * 6C30-2
 * @author Sébastien Lozano
 */

function Produit_de_decimaux_a_partir_d_un_produit_connu(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Calculer le produit de deux décimaux connaissant le produit de deux entiers";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      // pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> (d1u1xp1)xd2u2
          d1:randint(1,9),
          u1:randint(1,9),
          d2:randint(1,9),
          u2:randint(1,9),
          p1:randint(-3,3,[0]),
          p2:randint(-3,3,[0]),
				},	
			];      
			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)} =  ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1))}$
					`
        });
        enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p2))}$
					`
				});
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1)*calcul(10**situations[0].p2))}$
					`
				});

			//};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
     			break;	
     		case 1 : 
          texte = `${enonces[1].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[1].correction}`;
          };
          break;
     		case 2 : 
          texte = `${enonces[2].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[2].correction}`;
          };
          break;							
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};


/** 
 * * Encadrer_un_decimal_par_deux_entiers_consecutifs
 * * 6N31-1
 * @author Sébastien Lozano
 */

function Encadrer_un_decimal_par_deux_entiers_consecutifs(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Encadrer un décimal par deux entiers consécutifs";	
	this.consigne = `Encadrer chaque nombre proposé par deux nombres entiers consécutifs.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let m=randint(1,9),
      c=randint(1,9),
      d=randint(1,9),
      u=randint(1,9),
      di=randint(1,9),
      ci=randint(1,9),
      mi=randint(1,9);

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
				},		
			];

			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});

        //};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
        	break;				
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};

/** 
 * * Ordre de grandeur d'une opération entre décimaux
 * * 6N31-2
 * @author Sébastien Lozano
 */

function Ordre_de_grandeur_operations_decimaux(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Ordre de grandeur et opérations sur les décimaux";	
	this.consigne = `Pour chaque opération proposée dans la première colonne, cocher la case correspondant à l'ordre de grandeur du résultat.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0]);
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      let ligne_entete = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];
      let ligne_entete_corr = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];

      let m=randint(1,9,[4,5,6]),
      c=randint(1,9),
      c1=randint(1,9),
      c2=randint(1,9),
      c3=randint(1,9,[4,5,6]),
      c4=randint(1,4),
      d=randint(1,9),
      d1=randint(1,9),
      d2=randint(1,9),
      d3=randint(1,9),
      u=randint(1,9),
      u1=randint(1,9),
      u2=randint(1,9),
      u3=randint(1,9);

      let cbis,d1bis;
      do {
        cbis = randint(2,9);
        d1bis = randint(2,9);
      } while (cbis*d1bis>3 && cbis*d1bis<7);

      let div_aleatoire_ope_3 = choice([10,100]);
      let div_aleatoire_ope_5 = choice([1,10,100,1000]);
      let mult_aleatoire_ope_4 = choice([0.1,0.01,0.001]);

      // une fonction pour ordre de grandeur en fonction de ... opération 1
      function myOrdreOpe1(c,d) {
        if (c*d>=60) {
          return ['','','','','',mise_en_evidence(`X`)]; 
        } else {
          return ['','','','',mise_en_evidence(`X`),'']; 
        };
      };
      
      // une fonction pour ordre de grandeur en fonction de ... opération 2
      function myOrdreOpe2(c1,c2) {
        if (c1+c2/10>=600) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 3
      function myOrdreOpe3(n) {
        if (n>=7) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 4
      function myOrdreOpe4(d,n) {
        let sortie;
        switch (d) {
          case 0.1:
            if (n>=7) {
              sortie = ['','','',mise_en_evidence(`X`),'',''];
            } else {
              sortie = ['','',mise_en_evidence(`X`),'','',''];
            };            
            break;
          case 0.01: 
            if (n>=7) {
              sortie = ['','',mise_en_evidence(`X`),'','',''];              
            } else {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            };            
            break;
          case 0.001: 
            if (n>=7) {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            } else {
              sortie = [mise_en_evidence(`X`),'','','','',''];
            };       
            break;            
        }
        return sortie;
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 5
      function myOrdreOpe5(mult) {
        let sortie;
        switch (mult) {
          case 1:
            return sortie = ['','','',mise_en_evidence(`X`),'','']; 
            break;
          case 10:
            return sortie = ['','',mise_en_evidence(`X`),'','','']; 
            break;
          case 100:
            return sortie = ['',mise_en_evidence(`X`),'','','','']; 
            break;
          case 1000:
            return sortie = [mise_en_evidence(`X`),'','','','','']; 
            break;        
        };
        return sortie;
      };

      let situations = [
        {
          operation:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1}`,
          operation_corr:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1} \\simeq  ${(cbis*100)}\\times ${(d1bis*10)} \\text{ soit } ${tex_nombre((cbis*100)*(d1bis*10))}`,
          operation_coche:myOrdreOpe1(cbis,d1bis),
        },
        {
          operation:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1}`,
          operation_corr:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1} \\simeq ${c2*100/10}+${c1*100} \\text{ soit } ${c2*100/10 + c1*100}`,
          operation_coche:myOrdreOpe2(c1*100,c2*100),
        },
        {
          operation:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)}`,
          operation_corr:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)} \\simeq ${c3*100+d3*10}-${tex_nombre((c2*100)/div_aleatoire_ope_3)} \\text{ soit } ${c3*100+d3*10-(c2*100)/div_aleatoire_ope_3}`,
          operation_coche:myOrdreOpe3(c3),
        },
        {
          operation:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)}`,
          operation_corr:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\simeq ${tex_nombre(m*1000)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\text{ soit } ${tex_nombre(m*1000*mult_aleatoire_ope_4)}`,
          operation_coche:myOrdreOpe4(mult_aleatoire_ope_4,m),
        },
        {
          operation:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m}`,
          operation_corr:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m} \\simeq ${tex_nombre((m*1000)/div_aleatoire_ope_5)}\\div ${m} \\text{ soit } ${tex_nombre((m*1000)/div_aleatoire_ope_5/m)}`,
          operation_coche:myOrdreOpe5(div_aleatoire_ope_5),
        },

      ];

      situations = shuffle(situations);
            
			let enonces = [];
			for (let k=0;k<1;k++) {
				enonces.push({
          enonce:`
          ${tab_C_L(ligne_entete,[situations[0].operation,situations[1].operation,situations[2].operation,situations[3].operation,situations[4].operation],
          [            
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
          ]
          )}
          `,
          question:``,
          correction:`
          Commençons par calculer un ordre de grandeur du résultat de chaque opération dans la première colonne du tableau.
          <br>
          ${tab_C_L(ligne_entete_corr,[situations[0].operation_corr,situations[1].operation_corr,situations[2].operation_corr,situations[3].operation_corr,situations[4].operation_corr,],
          [            
            situations[0].operation_coche[0],situations[0].operation_coche[1],situations[0].operation_coche[2],situations[0].operation_coche[3],situations[0].operation_coche[4],situations[0].operation_coche[5],
            situations[1].operation_coche[0],situations[1].operation_coche[1],situations[1].operation_coche[2],situations[1].operation_coche[3],situations[1].operation_coche[4],situations[1].operation_coche[5],
            situations[2].operation_coche[0],situations[2].operation_coche[1],situations[2].operation_coche[2],situations[2].operation_coche[3],situations[2].operation_coche[4],situations[2].operation_coche[5],
            situations[3].operation_coche[0],situations[3].operation_coche[1],situations[3].operation_coche[2],situations[3].operation_coche[3],situations[3].operation_coche[4],situations[3].operation_coche[5],
            situations[4].operation_coche[0],situations[4].operation_coche[1],situations[4].operation_coche[2],situations[4].operation_coche[3],situations[4].operation_coche[4],situations[4].operation_coche[5],
          ]
          )}				
          `
          });
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
};

/** 
 * * Donner le chiffre des ... le nombre de ...
 * * 6N10-3
 * @author Sébastien Lozano
 */

function chiffre_nombre_de(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 6;
	};	

	this.titre = "Chiffre des ... Nombre de ...";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = shuffle([0,1,2,3,4,5]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let u,d,c,mu,md,mc,mmu,mmd,mmc;
      mmc = randint(0,9,[0]);
      mmd = randint(0,9,[mmc]);
      mmu = randint(0,9,[mmc,mmd]);
      mc = randint(0,9,[mmu,mmd,mmc]);
      md = randint(0,9,[mmu,mmd,mmc,mc]);
      mu = randint(0,9,[mmu,mmd,mmc,mc,md]);
      c = randint(0,9,[mmu,mmd,mmc,mu,md,mc]);
      d = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c]);
      u = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c,d]);
      //let nb = randint(100000000,999999999);
      //let nb_str = nb.toString();
      let nb_str = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
      let nb = Number(nb_str);
      let tranches = ['unites','milliers','millions'];
      let cdu = ['unites','dizaines','centaines'];
      let chiffre_nombre = {
        chiffre:{
          unites:{
            unites:{determinant:`des`,cdu:['unités',''],rangs:[8]},
            dizaines:{determinant:`des`,cdu:['dizaines',''],rangs:[7]},
            centaines:{determinant:`des`,cdu:['centaines',''],rangs:[6]},
          },
          milliers:{
            unites:{determinant:`des`,cdu:['unités de milliers',''],rangs:[5]},
            dizaines:{determinant:`des`,cdu:['dizaines de milliers',''],rangs:[4]},
            centaines:{determinant:`des`,cdu:['centaines de milliers',''],rangs:[3]},
          },
          millions:{
            unites:{determinant:`des`,cdu:['unités de millions',''],rangs:[2]},
            dizaines:{determinant:`des`,cdu:['dizaines de millions',''],rangs:[1]},
            centaines:{determinant:`des`,cdu:['centaines de millions',''],rangs:[0]},
          },  
        },
        nombre:{
          unites:{
            unites:{determinant:`d'`,cdu:['unités',1],rangs:[0,1,2,3,4,5,6,7,8]},
            dizaines:{determinant:`de`,cdu:['dizaines',10],rangs:[0,1,2,3,4,5,6,7]},
            centaines:{determinant:`de`,cdu:['centaines',100],rangs:[0,1,2,3,4,5,6]},
          },
          milliers:{
            unites:{determinant:`d'`,cdu:['unités de milliers',1000],rangs:[0,1,2,3,4,5]},
            dizaines:{determinant:`de`,cdu:['dizaines de milliers',10000],rangs:[0,1,2,3,4]},
            centaines:{determinant:`de`,cdu:['centaines de milliers',100000],rangs:[0,1,2,3]},
          },
          millions:{
            unites:{determinant:`d'`,cdu:['unités de millions',1000000],rangs:[0,1,2]},
            dizaines:{determinant:`de`,cdu:['dizaines de millions',10000000],rangs:[0,1]},
            centaines:{determinant:`de`,cdu:['centaines de millions',100000000],rangs:[0]},
          },
        },
      };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> chiffre des
          type:'chiffre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 1 --> chiffre des
          type:'chiffre',
          tranche:'milliers',
          cdu:choice(cdu),              
				},
        {//case 2 --> chiffre des
          type:'chiffre',
          tranche:'millions',
          cdu:choice(cdu),                  
				},
        {//case 3 --> nombre de
          type:'nombre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 4 --> nombre de
          type:'nombre',
          tranche:'milliers',
          cdu:choice(cdu),         
        },
        {//case 5 --> nombre de
          type:'nombre',
          tranche:'millions',
          cdu:choice(cdu),         
        },		
      ];
      
      //une fonction pour la correction selon le type de question
      function chiffre_nombre_corr(type,str,rang) {
        let sortie;
        if (type == 'chiffre') {
          sortie = str.split('')[rang[0]];
        };
        if (type == 'nombre') {
          sortie=str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            sortie+=str.split('')[rang[k]]
          };
        };
        return sortie;
      };

      // une fonction pour la justification supplémentaire dans le cas nombre de ...
      function nombre_de_justif(type,str,rang,cdu_num) {
        let sortie;
        if (type == 'chiffre') {
          sortie = '';
        };
        if (type == 'nombre') {
          let nb_de = str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            nb_de+=str.split('')[rang[k]]
          };
          let j = rang[rang.length-1];
          j++;
          let nb_de_reste = '';
          while (j != 9) {            
            nb_de_reste += str.split('')[j];
            j++;
          };
          sortie = `comme $${tex_nombre(str)} = ${tex_nombre(nb_de)}\\times ${tex_nombre(cdu_num)}+${tex_nombre(nb_de_reste)}$ alors `;
        };
        return sortie;
      };

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
          enonce:`
          Dans $${tex_nombre(nb)}$, quel est le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} ?					
					`,
					question:``,
          correction:`
          Dans $${tex_nombre(nb)}$,           
          ${nombre_de_justif(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[1])}          
          le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant}  ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} est 
          $${mise_en_evidence(tex_nombre(chiffre_nombre_corr(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs)))}$					
					`
				});
			};
            
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
     		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
     		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
     		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
     		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;	
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
					break;			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
* * Encadrer un nombre entier par deux entier consécutifs
* * 6N11-3
* @author Sébastien Lozano
*/

function Encadrer_un_entier_par_deux_entiers_consecutifs(){
  'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 3;
	};	

  this.titre = "Encadrer un entier entre deux entiers consécutifs";	
  this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
      type_de_questions_disponibles = shuffle([choice([0,1]),choice([2,3]),choice([4,5])]);      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
        // on déclare des variables pour avoir des nombres entre 1000 et 9999 puis 10000 et 99999 etc ...
        let m,dm,cm,mi,dmi,cmi;
        //pour la précision d'encadrement
        let precision;

        //selon la precision on veut certains chiffres plus souvant que d'autres ...
        function myNombres(nb_chiffres) {
          let sortie = '';
          // on fabrique le nombre à partir de ses chiffres et on veut des cas limites
          let u,d,c,mu,md,mc,mmu,mmd,mmc;
          let N = choice([[randint(0,9,[0]),0,0,0,0,0,0,0,0],[randint(0,9,[0]),9,9,9,9,9,9,9,9],[randint(0,9,[0]),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9)]]);
          mmc = N[0];
          mmd = N[1];
          mmu = N[2];
          mc = N[3];
          md = N[4];
          mu = N[5];
          c = N[6];
          d = N[7];
          u = N[8];
          switch (nb_chiffres) {
            case 4:
              mu = randint(0,9,[0]);
              sortie = mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 5:
              md = randint(0,9,[0]);
              sortie = md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 6:
              mc = randint(0,9,[0]);
              sortie = mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 7:
              mmu = randint(0,9,[0]);
              sortie = mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 8:
              mmd = randint(0,9,[0]);
              sortie = mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 9:
              mmc = randint(0,9,[0]);
              sortie = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
                
          };
          return sortie;
        };

        this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !
        switch (this.sup) {
          case 1:
            this.consigne = `Compléter avec le nombre entier qui précède et le nombre entier qui suit.`;
            precision=1;
            break;
          case 2:
            this.consigne = `Compléter avec le multiple de 10 qui précède et le multiple de 10 qui suit.`;
            precision=10;
            break;
          case 3:
            this.consigne = `Compléter avec le multiple de 100 qui précède et le multiple de 100 qui suit.`;
            precision=100;
            break;
        };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
          nombre: Number(myNombres(4)),
        },
        {//case 1 -->
          nombre: Number(myNombres(5)),
        },
        {//case 2 -->
          nombre: Number(myNombres(6)),
        },
        {//case 3 -->
          nombre: Number(myNombres(7)),
        },
        {//case 4 -->
          nombre: Number(myNombres(8)),
        },
        {//case 5 -->
          nombre: Number(myNombres(9)),
        },
      ];
      
      // une fonction pour les correction à la precision près
      function encadrement_corr(nb,precision) {
          if (precision == 1) {
            return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
          } else if(precision == 10 || precision == 100) {
            if (nb%precision == 0) {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            } else {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            };
          };       
      };

      let enonces = [];
      for (let k=0;k<situations.length;k++) {
        enonces.push({
          enonce:`
          $\\ldots < ${tex_nombre(situations[k].nombre)} < \\ldots$		
          `,
          question:``,
          correction:`
          ${encadrement_corr(situations[k].nombre,precision)}
          `
        });
      };
          
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          break;	
        case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
          break;	
        case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
        	break;			
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Encadrer entre deux entiers consécutifs\n2 : Encadrer entre deux multiples consécutifs de dix\n3 : Encadrer entre deux multiples consécutifs de cent"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	

};

/** 
* * Ranger une liste de nombres dans l'odre croissant ou décroissant
* * 6N11-4
* @author Sébastien Lozano
*/

function Ranger_ordre_croissant_decroissant(){
 'use strict';
 Exercice.call(this); // Héritage de la classe Exercice()
 this.beta = false;	
 this.sup=1;
 if (this.beta) {
   this.nb_questions = 2;
 } else {
   this.nb_questions = 2;
 };	

 this.titre = "Ranger une liste de nombres entiers dans l'ordre croissant ou décroissant";	
 //this.consigne = `Classer les nombres suivants dans l'ordre indiqué.`;	
 
 this.nb_cols = 1;
 this.nb_cols_corr = 1;
 //this.nb_questions_modifiable = false;
 sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
 sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

 let type_de_questions_disponibles;	

 this.nouvelle_version = function(numero_de_l_exercice){
   if (this.beta) {
     type_de_questions_disponibles = [0,1];			
   } else {
         //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
         type_de_questions_disponibles = [0,1];			
   };

   this.liste_questions = []; // Liste de questions
   this.liste_corrections = []; // Liste de questions corrigées
   
   //let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
   let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
   
   for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
     // les chiffres
     let c1 = randint(1,9);
     let c2 = randint(1,9,[c1]);
     let c3 = randint(1,9,[c1,c2]);
     let c4 = randint(1,9,[c1,c2,c3]);
     let c5 = randint(1,9,[c1,c2,c3,c4]);

     // pour les situations, autant de situations que de cas dans le switch !
     let situations = [
       {//case 0 -->
        ordre:'croissant',
        symbole: `$${mise_en_evidence('<')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },
       {//case 1 -->
        ordre:'décroissant',
        symbole: `$${mise_en_evidence('>')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },   
     ];

     // une fonction pour gérer l'ordre
     function myOrdre(ordre,tab) {
      tab.sort((a,b) => a - b);          
      switch (ordre) {
        case 'croissant':
          return tab;
        case 'décroissant':
          return tab.reverse();          
      };
     };

     let enonces = [];
     let nombres = [];
     let nombres_ranges = [];
     for (let k=0;k<situations.length;k++) {
      nombres = shuffle([situations[k].n1,situations[k].n2,situations[k].n3,situations[k].n4,situations[k].n5,situations[k].n6]);
      nombres_ranges = [];
      nombres.forEach(element => {
        nombres_ranges.push(element);        
      });           
      myOrdre(situations[k].ordre,nombres_ranges);         
      enonces.push({
        enonce:`Classer les nombres suivants dans l'ordre ${situations[k].ordre} :<br>
        $${tex_nombre(nombres[0])}$   ;   $${tex_nombre(nombres[1])}$   ;   $${tex_nombre(nombres[2])}$   ;   $${tex_nombre(nombres[3])}$   ;   $${tex_nombre(nombres[4])}$   ;   $${tex_nombre(nombres[5])}$          
        `,
        question:``,
        correction:`Les nombres rangés dans l'ordre ${texte_en_couleur_et_gras(situations[k].ordre)} :<br>
        $${tex_nombre(nombres_ranges[0])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[1])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[2])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[3])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[4])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[5])}$
        `
      });
     };
           
           // autant de case que d'elements dans le tableau des situations
     switch (liste_type_de_questions[i]){
      case 0 : 
        texte = `${enonces[0].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
          texte += `             `
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[0].correction}`;
        };
        break;	
      case 1 : 
        texte = `${enonces[1].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[1].correction}`;
        };
        break;			
     };			
     
     if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
       this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
       i++;
     }
     cpt++;	
   }
   liste_de_question_to_contenu(this);
 }
 //this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
 //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/** 
 * * Exo test pour quand j'en ai besoin
 * * pas de numéro
 * * Tests
 * @author Sébastien Lozano
 */

function Tests_du_Seb(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = true;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Exo test pour quand j'en ai besoin";	
	this.consigne = `Consigne `;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = [0,1];	
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
				},
				{//case 1 -->
				},
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Type ${k}<br>	
          ${JSON.stringify(decomp_fact_prem_array(238))}<br>			
          ${typeof decomp_fact_prem_array(238)}<br>
          ${JSON.stringify(obtenir_liste_facteurs_premiers(238))}<br>
          ${typeof obtenir_liste_facteurs_premiers(238)}<br>
					`,
					question:``,
					correction:`
					Correction type ${k}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
 * * Exprimer un rapport de longueurs sur un segment
 * * 6N22-1
 * @author Sébastien Lozano
 */

function Rapports_sur_un_segment(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
  this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Rapport de deux longueurs sur un segment";	
	this.consigne = `Sur tous les axes, les graduations sont régulières.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
       //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
       type_de_questions_disponibles = [0,1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // une fonction pour le singulier pluriel
      function sing_plur(nombre,singulier,pluriel) {
        if (nombre>1) {
          return pluriel
        } else {
          return singulier
        };
      };

      // on choisit deux entiers pour former les fractions
      let entier_max = 9;
      let m = randint(1,entier_max);
      let n = randint(1,entier_max,m); // on évite l'autre pour éviter la fraction 1
      let params = {
        xmin: -0.4,
        ymin: -2,
        xmax: 15*entier_max,// pour éviter un cadrage trop large
        ymax: 1,
        pixelsParCm: 20,
        scale: 1,
      }
      // on colle la figure à l'énoncé
      let y_enonce = -1.2;

      // on a parfois des figure trop petites ou trop grandes
      //
      let rayon;
      rayon = 5;
      // if (m<n) {
      //   rayon = 15
      // } else {
      //   rayon = 15/Math.ceil(m/n)
      // };

      //on choisit de façon aléatoire un triplet de noms pour les points
      let noms_choix = [['A','B','C'],['D','E','F'],['I','J','K'],['L','M','N']]
      let noms = noms_choix[randint(0,noms_choix.length-1)];

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> m < n
          m:Math.min(m,n),
          n:Math.max(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.min(m,n),Math.max(m,n)).representation(0,0,rayon,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.min(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.max(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,rayon,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,(Math.min(m,n)/Math.max(m,n))*rayon,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
        {//case 1 --> m > n
          m:Math.max(m,n),
          n:Math.min(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.max(m,n),Math.min(m,n)).representation(0,0,5,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.max(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.min(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,5,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,(Math.max(m,n)/Math.min(m,n))*5,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
		
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Exprimer les rapports suivants $${situations[k].rapport}$ et $${situations[k].rapport_inverse}$.
          <br>
          ${situations[k].fig}     			
					`,
					question:``,
          correction:`
          Les graduations étant régulières, comptons le nombre de graduations pour chaque segment :<br>
          ${situations[k].fig_corr1}<br>
          Le segment $${situations[k].segment_corr1}$ compte $${situations[k].m_color_corr}$ ${sing_plur(situations[k].m,'graduation','graduations')}.<br>
          ${situations[k].fig_corr2}<br>
          Le segment $${situations[k].segment_corr2}$ compte $${situations[k].n_color_corr}$ ${sing_plur(situations[k].n,'graduation','graduations')}.<br><br>
          Donc $\\dfrac{${situations[k].longueur_corr2}}{${situations[k].longueur_corr1}}=\\dfrac{${situations[k].n_color_corr}}{${situations[k].m_color_corr}}$
          et $\\dfrac{${situations[k].longueur_corr1}}{${situations[k].longueur_corr2}}=\\dfrac{${situations[k].m_color_corr}}{${situations[k].n_color_corr}}$<br><br>
          $\\textbf{D'où $\\mathbf{${situations[k].rapport}=}${fraction(situations[k].n,situations[k].m).texFractionSimplifiee()}$ et $\\mathbf{${situations[k].rapport_inverse}=}${fraction(situations[k].m,situations[k].n).texFractionSimplifiee()}$}$<br>

					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
        		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
        		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
        		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
         		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;				
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/**
 * @Auteur Rémi Angot
 */
function LaTeX_static() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Fichier statique";
  this.pas_de_version_HMTL = false;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Nom du fichier";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "url du fichier",
    "nom du fichier sans l'extension",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  //this.besoin_formulaire2_texte = ['Code LaTeX correction','Par exemple : \\input{mon_fichier_corr}'];

  this.nouvelle_version = function (numero_de_l_exercice) {
    //this.contenu_correction = '%£tex/probleme_altitude_corr£'
    //this.contenu = '%£tex/probleme_altitude£'
    this.contenu = "%£" + this.sup + "£";
    this.contenu_correction = "%£" + this.sup + "_corr£";
    //liste_des_exercices_statiques.push(this.sup)
  };
}

// FIN DES EXERCICES
// Gestion des listes d'exercices

jQuery(document).ready(function () {
  // Ne se fait qu'après que le DOM soit entièrement défini

  // Trie par ordre alphabétique les exercices disponibles
  liste_des_exercices_disponibles = tridictionnaire(
    liste_des_exercices_disponibles
  );

  // Détermine le nombre d'exercices par niveaux
  let nombre_d_exercices_disponibles_c3 = 0;
  let nombre_d_exercices_disponibles_6 = 0;
  let nombre_d_exercices_disponibles_5 = 0;
  let nombre_d_exercices_disponibles_4 = 0;
  let nombre_d_exercices_disponibles_3 = 0;
  let nombre_d_exercices_disponibles_2 = 0;
  let nombre_d_exercices_disponibles_1 = 0;
  let nombre_d_exercices_disponibles_T = 0;
  let nombre_d_exercices_disponibles_CM = 0;
  let nombre_d_exercices_disponibles_prof = 0;
  let nombre_d_exercices_disponibles_PE = 0;
  let nombre_d_exercices_disponibles_beta = 0;
  for (var id in liste_des_exercices_disponibles) {
    if (id[0] == "c" && id[1] == "3") {
      nombre_d_exercices_disponibles_c3 += 1;
    }
    if (id[0] == 6) {
      nombre_d_exercices_disponibles_6 += 1;
    }
    if (id[0] == 5) {
      nombre_d_exercices_disponibles_5 += 1;
    }
    if (id[0] == 4) {
      nombre_d_exercices_disponibles_4 += 1;
    }
    if (id[0] == 3) {
      nombre_d_exercices_disponibles_3 += 1;
    }
    if (id[0] == 2) {
      nombre_d_exercices_disponibles_2 += 1;
    }
    if (id[0] == 1) {
      nombre_d_exercices_disponibles_1 += 1;
    }
    if (id[0] == "T") {
      nombre_d_exercices_disponibles_T += 1;
    }
    if (id[0] == "C") {
      nombre_d_exercices_disponibles_CM += 1;
    }
    if (id[0] == "P" && id[1] == "0") {
      nombre_d_exercices_disponibles_prof += 1;
    }
    if (id[0] == "P" && id[1] == "E") {
      nombre_d_exercices_disponibles_PE += 1;
    }
    if (id[0] == "b" && id[1] == "e") {
      nombre_d_exercices_disponibles_beta += 1;
    }
  }

  //
  let liste_html_des_exercices_c3 =[];
  let liste_html_des_exercices_6 = [];
  let liste_html_des_exercices_5 = [];
  let liste_html_des_exercices_4 = [];
  let liste_html_des_exercices_3 = [];
  let liste_html_des_exercices_2 = [];
  let liste_html_des_exercices_1 = [];
  let liste_html_des_exercices_T = [];
  let liste_html_des_exercices_CM = [];
  let liste_html_des_exercices_prof = [];
  let liste_html_des_exercices_PE = [];
  let liste_html_des_exercices_beta = [];

  // Affiche de la liste des exercices disponibles
  let liste_html_des_exercices =
    '<h3 class="ui block header">Exercices disponibles</h3>\n\n';

  function liste_html_des_exercices_d_un_theme(theme){
    let liste = '';
    let dictionnaire = filtreDictionnaire(liste_des_exercices_disponibles,theme);
    for (let id in dictionnaire) {
      let exercice_tmp = new dictionnaire[id]();
      liste +=
        `<span class="id_exercice">${id}</span> - <a class="lien_id_exercice" numero="${id}">${exercice_tmp.titre}</a></br>\n`;
    }
    return liste;
  }

  function liste_html_des_exercices_d_un_niveau(liste_de_themes){ // liste_de_themes = [['6N1','6N1 - Numérations et fractions niveau 1'] , [' ',' '] ]
    let liste = '';
    for (let theme of liste_de_themes){
      liste += `<h3>${theme[1]}</h3>`;
      liste += liste_html_des_exercices_d_un_theme(theme[0]);
    }
    return liste;
  }

  liste_html_des_exercices_c3 = liste_html_des_exercices_d_un_niveau([
    ['c3C1','c3C1 - Calculs niveau 1'],['c3N1','c3N1 - Numération Niveau 1']])
  
  liste_html_des_exercices_6 = liste_html_des_exercices_d_un_niveau([
    ['6C1','6C1 - Calculs niveau 1'],['6C2','6C2 - Calculs niveau 2'],['6C3','6C3 - Calculs niveau 3'],
    ['6M1','6M1 - Grandeurs et mesures niveau 1'],['6M2','6M2 - Grandeurs et mesures niveau 2'],['6M3', '6M3 - Volumes'],['6P1','6P1 - Proportionnalité'],
    ['6G1','6G1 - Géométrie niveau 1'],['6G2','6G2 - Géométrie niveau 2'],['6G3','6G3 - Géométrie niveau 3'],['6G4','6G4 - Géométrie niveau 4'],
    ['6D1','6D1 - Les durées'],
    ['6N1','6N1 - Numération et fractions niveau 1'],['6N2','6N2 - Numération et fractions niveau 2'],['6N3','6N3 - Numération et fractions niveau 3'],['6N4','6N4 - Numération et fractions niveau 4']])
    liste_html_des_exercices_5 = liste_html_des_exercices_d_un_niveau([
      ['5A1','5A1 - Arithmetique'],['5C1','5C1 - Calculs'],
      ['5G1','5G1 - Symétries'],['5G2','5G2 - Triangles'],['5G3','5G3 - Angles'],['5G4','5G4 - Parallélogrammes'],['5G5','5G5 - Espace'],
      ['5L1','5L1 - Calcul littéral'],
      ['5M1','5M1 - Périmètres et aires'],['5M2','5M2 - Volumes'],['5M3','5M3 - Durées'],
      ['5N1','5N1 - Numération et fractions niveau 1'],['5N2','5N2 - Calculs avec les fractions'],
      ['5P1','5P1 - Proportionnalité'],['5R1','5R1 - Relatifs niveau 1'],['5R2','5R2 - Relatifs niveau 2'],
      ['5S1','5S1 - Statistiques'],['5S2','5S2 - Probabilités']
    ])
    liste_html_des_exercices_4 = liste_html_des_exercices_d_un_niveau([
      ['4C1','4C1 - Relatifs'],['4C2','4C2 - Fractions'],['4C3','4C3 - Puissances'],
      ['4F1','4F1 - Notion de fonction'],
      ['4G1','4G1 - Translation et rotation'],['4G2','4G2 - Théorème de Pythagore'],['4G3','4G3 - Théorème de Thalès'],['4G4',"4G4 - Cosinus d'un angle"],['4G5',"4G5 - Espace"],
      ['4L1','4L1 - Calcul littéral'],['4L2','4L2 - Équation'],['4P1','4P1 - Proportionnalité'],['4S1','4S1 - Statistiques'],['4S2','4S2 - Probabilités'],
      ['4Algo1','4Algo1 - Algorithmique']
    ])
    liste_html_des_exercices_3 = liste_html_des_exercices_d_un_niveau([
      ['3A1','3A1 - Arithmetique'],
      ['3F1','3F1 - Généralités sur les fonctions'],['3F2','3F2 - Fonctions affines et linéaires'],
      ['3G1','3G1 - Homothétie et rotation'],['3G2','3G2 - Théorème de Thalès'],['3G3','3G3 - Trigonométrie'],['3G4',"3G4 - Espace"],
      ['3L1','3L1 - Calcul littéral'],['3P1','3P1 - Proportionnalité'],['3S1','3S1 - Statistiques'],['3S2','3S2 - Probabilités']
    ])

  for (var id in liste_des_exercices_disponibles) {
    let exercice_tmp = new liste_des_exercices_disponibles[id]();
    
    if (id[0] == 2) {
      liste_html_des_exercices_2 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 1) {
      liste_html_des_exercices_1 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 'T') {
      liste_html_des_exercices_T +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "E") {
      liste_html_des_exercices_PE +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "C") {
      liste_html_des_exercices_CM +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "0") {
      liste_html_des_exercices_prof +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "b" && id[1] == "e") {
      liste_html_des_exercices_beta +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
  }

  // Change l'ordre des exercices suivant l'URL
  if (window.location.href.indexOf("beta") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Beta (${nombre_d_exercices_disponibles_beta})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_beta;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else if (window.location.href.indexOf("cm.html") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cours Moyen(${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else {
    liste_html_des_exercices += `<div class="ui accordion"><div class="title"><i class="dropdown icon"></i>Cours Moyen (${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    // Ajoute les outils prof sur mathalealatex
    if (window.location.href.indexOf("mathalealatex.html") > 0) {
      liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Outils pour le professeur (${nombre_d_exercices_disponibles_prof})</div><div class="content">`;
      liste_html_des_exercices += liste_html_des_exercices_prof;
      liste_html_des_exercices += `</div>`;
    }
    liste_html_des_exercices += `</div>`;
  }

  $("#liste_des_exercices").html(liste_html_des_exercices);

  // Gère le clic sur un exercice de la liste
  $(".lien_id_exercice").click(function () {
    let numero = $(this).attr("numero");
    if ($("#choix_des_exercices").val() == "") {
      $("#choix_des_exercices").val($("#choix_des_exercices").val() + numero);
    } else {
      $("#choix_des_exercices").val(
        $("#choix_des_exercices").val() + "," + numero
      );
    }
    liste_des_exercices = $("#choix_des_exercices")
      .val()
      .replace(/\s/g, "")
      .replace(";", ",")
      .split(",");
    mise_a_jour_de_la_liste_d_exercice();

    // Actualise KaTeX pour les titres d'exercices utilisant LaTeX
    renderMathInElement(document.body, {
      delimiters: [
        { left: "\\[", right: "\\]", display: true },
        { left: "$", right: "$", display: false },
      ],
      throwOnError: true,
      errorColor: "#CC0000",
      strict: "warn",
      trust: false,
    });
  });
});

// Exercices de 6ème déclinés en cycle3
function Ecrire_entiers_cycle3(){
    Ecrire_nombres_entiers.call(this)
    this.sup=1
    this.sup2=0
}
function Division_cycle3(){
    Divisions_euclidiennes.call(this)
    this.sup=0
}
function Exercice_tables_d_additions_cycle3() {
    Exercice_tables_d_additions.call(this,10)
}
/**
* Décomposer en produit de facteurs premiers un nombre (la décomposition aura 3, 4 ou 5 facteurs premiers)
* @Auteur Rémi Angot
5A13
*/
function Exercice_decomposer_en_facteurs_premiers(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = '' ;
	this.sup2 = '' ; 
	this.titre = "Décomposition en facteurs premiers";
	this.consigne = "Écrire les nombres suivants sous la forme d'un produit de facteurs premiers.";
	this.spacing = 2;
	this.nb_questions = 6;


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		for (let i = 0, n, facteurs=[], nb_facteurs, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			facteurs = [];
			nb_facteurs = randint(3,5);
			for (var k = 0; k < nb_facteurs; k++) {
				if (k<nb_facteurs-1) {
					if (nb_facteurs>3 && k==0){facteurs.push(2)}
					else if (nb_facteurs>4 && k==1){facteurs.push(2)}
					else{
						facteurs.push(choice([2,3,5]));
					}
					
				}
				else {facteurs.push(choice([2,5,7,11]))}
			}

			if (randint(1,4)==1) { //Une fois sur 4 on multilie le nombre par 100
				facteurs.push(2,2,5,5)
			} 
			n = 1
			for (var k = 0; k < facteurs.length; k++) {
				facteurs[k]
				n = n * facteurs[k]
			}
			texte = '$ '+ tex_nombre(n) + ' = \\dotfill $';
			texte_corr = '$ '+ tex_nombre(n) + ' = ' 
			facteurs.sort(compare_nombres); //classe les facteurs dans l'ordre croissant
			for (var k = 0; k < facteurs.length-1; k++) {
				facteurs[k]
				texte_corr += facteurs[k] + ' \\times  '
			}
			texte_corr += facteurs[facteurs.length-1] + ' $';	
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;

		}
		liste_de_question_to_contenu(this);
	}
	
}

/**
* Additionner deux relatifs inférieurs à la valeur maximale en paramètre qui est par défaut à 20.
*
* Paramètre supplémentaire ; utilisation des écritures simplifiées
* @Auteur Rémi Angot
* 5R20
*/
function Exercice_additions_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Addition de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = `$ ${tex_nombre(a)}${ecriture_algebrique(b)} = \\dotfill $`;
				texte_corr = `$ ${a}${ecriture_algebrique(b)} = ${a+b} $`;
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a + b) +' $';	
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}

/**
* Compléter une addition à trou entre 2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 5R20-2
*/
function Exercice_additions_relatifs_a_trou(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Addition à trou de deux entiers relatifs"
	this.consigne = 'Compléter'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = '$ '+ a + ' + ' + '\\ldots\\ldots\\ldots' + ' = ' + (a + b) + ' $';
				texte_corr = '$ '+ a + ecriture_algebrique(b) + ' = ' + (a + b) +' $';
			} else{
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + '\\ldots\\ldots\\ldots' + ' = ' + ecriture_nombre_relatif(a + b) + ' $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a + b) +' $';	
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];	
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}

/**
* Effectuer la soustraction de  2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 5R21
*/
function Exercice_soustractions_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Soustraction de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (this.sup2){
				texte = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = \\dotfill $';
				if (b>0){
					texte_corr = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = ' + (a - b) +' $';
				} else {
					texte_corr = '$ '+ a + ' - ' + ecriture_parenthese_si_negatif(b) + ' = ' + a + ecriture_algebrique(-1*b) + ' = ' + (a - b) +' $';
				}
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = ' + ecriture_nombre_relatifc(a) + ' + ' + ecriture_nombre_relatifc(-1*b) + ' = ' + ecriture_nombre_relatifc(a - b) +' $';
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];			
}

/**
* Effectuer une multiplication entre 2 nombres relatifs.
*
* * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)
* * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)
* @Auteur Rémi Angot
* 4C10-3
*/
function Exercice_multiplications_relatifs(max=10){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Multiplication de deux entiers relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup);
			b = randint(1,this.sup);
			k = choice([[-1,-1],[-1,1],[1,-1]]); // Les deux nombres relatifs ne peuvent pas être tous les deux positifs
			a = a*k[0];
			b = b*k[1];
			if (a==1){
				a=-1
			}
			if (b==1){
				b=-1
			}
			if (this.sup2){
				texte = '$ '+ a + ' \\times  ' + ecriture_parenthese_si_negatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ a + ' \\times  ' + ecriture_parenthese_si_negatif(b) + ' = ' + (a * b) +' $';
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' \\times  ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatifc(a) + ' \\times  ' + ecriture_nombre_relatifc(b) + ' = ' + ecriture_nombre_relatifc(a * b) +' $';
			}
				
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];		
}
/**
* Comparer deux fractions dont les dénominateurs sont multiples (avec un coefficient paramétrable qui est par défaut inférieur à 11)
* @Auteur Rémi Angot
* 5N14
*/
function Exercice_comparer_deux_fractions (max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.titre = "Comparer des fractions (dénominateurs multiples)"
	this.consigne = 'Comparer les fractions suivantes.'
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		liste_fractions = obtenir_liste_fractions_irreductibles();
		for (let i = 0, fraction, a, b, texte, texte_corr, signe, signe2, cpt=0; i < this.nb_questions;i++) {
			fraction = choice(liste_fractions); //
			a = fraction[0];
			b = fraction[1];
			k = randint(2,this.sup);
			ecart = choice([-4,-3,-2,-1,1,2,3,4]);
			if (k*a+ecart<=0){
				ecart=ecart*(-1)
			}
			if (ecart>0) {
				signe = `<`
				signe2 = `>`
			} else {
				signe = `>`
				signe2=`<`
			}
			enleve_element(liste_fractions,fraction); // Il n'y aura pas 2 fois la même réponse

			ordre_des_fractions = randint(1,2)
			if (ordre_des_fractions==1) {
				texte = `$${tex_fraction(a,b)} \\quad$ et $\\quad ${tex_fraction(k*a+ecart,k*b)}$`;
			} else {
				texte = `$${tex_fraction(k*a+ecart,k*b)} \\quad$ et $\\quad ${tex_fraction(a,b)}$`;
			}
			if (!sortie_html) {
				texte=texte.replace('\\quad$ et $\\quad','\\ldots\\ldots\\ldots')
			}
			texte_corr = `$${tex_fraction(a,b)}=${tex_fraction(a+mise_en_evidence('\\times  '+k),b+mise_en_evidence('\\times  '+k))}=${tex_fraction(a*k,b*k)}\\quad$`
			if (ordre_des_fractions==1) {
				texte_corr += `  et   $\\quad${tex_fraction(a*k,b*k)} ${signe} ${tex_fraction(a*k+ecart,b*k)}\\quad$ donc $\\quad${tex_fraction(a,b)} ${signe} ${tex_fraction(a*k+ecart,b*k)}$ `;
			} else {
				texte_corr += `  et   $\\quad${tex_fraction(a*k+ecart,b*k)} ${signe2} ${tex_fraction(a*k,b*k)} \\quad$ donc $\\quad ${tex_fraction(a*k+ecart,b*k)} ${signe2} ${tex_fraction(a,b)} $ `;
			}			
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];		
}


/**
* 4 fractions aux dénominateurs multiples et un nombre entier sont donnés, il faut les classer dans l'ordre croissant ou décroissant
* 
* Pour la correction, les fractions sont toute écrites avec un dénominateur commun avant d'être classées
* @Auteur Rémi Angot
* 5N14-2
*/
function Exercice_comparer_quatre_fractions (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Comparer quatre fractions (dénominateurs multiples) et un nombre entier"
	this.consigne = "Ranger les nombres suivants dans l'ordre croissant."
	this.spacing = 2;
	sortie_html ? this.spacing_corr = 4 : this.spacing_corr = 2.5 ;
	this.nb_questions = 2;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, denominateurs, n1, d1, n2, d2, n3, d3, n4, d4, k, texte="", texte_corr="", cpt=0; i < this.nb_questions;i++) {
			liste_denominateurs = [[12,2,3,4,6],[16,2,4,8],[18,2,3,6,9],[20,2,4,5,10],[24,2,3,4,8,12],[30,2,3,5,6]]
			denominateurs = choice(liste_denominateurs);
			d1 = denominateurs[0];
			enleve_element(denominateurs,d1);
			d2 = choice(denominateurs);
			enleve_element(denominateurs,d2);
			d3 = choice(denominateurs);
			d4 = choice(denominateurs);
			k = randint(1,3);
			n1 = randint(1,10);
			n2 = randint(1,10);
			n3 = randint(1,10);
			n4 = choice([d4+randint(1,3),d4*2+randint(1,2)],randint(1,10));
			// [num,den,calcul de mise au même dénominateur, num qui correspond au denominateur commun]
			
			while (((n1/d1-n2/d2)*(n1/d1-n3/d3)*(n1/d1-n4/d4)*(n2/d2-n3/d3)*(n2/d3-n4/d4)*(n3/d3-n4/d4)<0.1) || (n1%d1==0) || (n2%d2==0) || (n3%d3==0) || (n4%d4==0) ){
				n1 = randint(1,11);
				n2 = randint(1,11);
				n3 = randint(1,11);
				n4 = randint(1,11);
			}
			let tableau_fractions=[[n1,d1,`$${tex_fraction(n1,d1)}$`,`$${tex_fraction(n1,d1)}$`]]
			tableau_fractions.push([n2,d2,`$${tex_fraction(n2,d2)}=${tex_fraction(n2+mise_en_evidence("\\times "+Algebrite.eval(d1/d2)),d2+mise_en_evidence("\\times "+Algebrite.eval(d1/d2)))}=${tex_fraction(Algebrite.eval(n2*d1/d2),d1)}$`,`$${tex_fraction(Algebrite.eval(n2*d1/d2),d1)}$`])
			tableau_fractions.push([n3,d3,`$${tex_fraction(n3,d3)}=${tex_fraction(n3+mise_en_evidence("\\times "+Algebrite.eval(d1/d3)),d3+mise_en_evidence("\\times "+Algebrite.eval(d1/d3)))}=${tex_fraction(Algebrite.eval(n3*d1/d3),d1)}$`,`$${tex_fraction(Algebrite.eval(n3*d1/d3),d1)}$`])
			tableau_fractions.push([n4,d4,`$${tex_fraction(n4,d4)}=${tex_fraction(n4+mise_en_evidence("\\times "+Algebrite.eval(d1/d4)),d4+mise_en_evidence("\\times "+Algebrite.eval(d1/d4)))}=${tex_fraction(Algebrite.eval(n4*d1/d4),d1)}$`,`$${tex_fraction(Algebrite.eval(n4*d1/d4),d1)}$`])
			tableau_fractions.push([k,1,`$${k}=${tex_fraction(d1*k,d1)}$`,`$${tex_fraction(k*d1,d1)}$`])
			tableau_fractions.sort(compare_fractions)
			let tableau_fractions_enonce=shuffle(tableau_fractions)
			texte = "";
			for (var j = 0; j < tableau_fractions_enonce.length; j++) {
				if (tableau_fractions_enonce[j][1]==1)
					texte+=`$${tableau_fractions_enonce[j][0]}\\quad\\text{;}\\quad$`
				else
					texte+=`$${tex_fraction(tableau_fractions_enonce[j][0],tableau_fractions_enonce[j][1])}\\quad\\text{;}\\quad$`
			}
			texte = texte.substring(0,texte.length-19)+"$" // Enlève les 21 derniers caractères (pour le ; de la fin)
			tableau_fractions.sort(compare_fractions)
			texte_corr ="";
			for (var j = 0; j < tableau_fractions_enonce.length; j++) {
				texte_corr+=tableau_fractions_enonce[j][2]
				texte_corr+="<br>"
			}
			for (var j = 0; j < tableau_fractions.length; j++) {
				texte_corr+=tableau_fractions[j][3]
				if (j<tableau_fractions.length-1)
					texte_corr+=`$\\quad<\\quad$`
			}
			texte_corr+="<br>"
			let texte_conclusion = ""
			for (var j = 0; j < tableau_fractions.length; j++) {
				if (tableau_fractions[j][1]==1)
					texte_conclusion+=`$${tableau_fractions[j][0]}\\quad<\\quad$`
				else
					texte_conclusion+=`$${tex_fraction(tableau_fractions[j][0],tableau_fractions[j][1])}\\quad<\\quad$`
			}
			texte_corr += "Finalement : $\\quad$ "+texte_conclusion.substring(0,texte_conclusion.length-12)+"$"

			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
}

/**
* Effectuer l'addition de deux fractions dont un dénominateur est un multiple de l'autre.
*
* Le coefficient est paramétrable, par défaut il est inférieur à 11.
* @Auteur Rémi Angot
* 5N20
*/
function Exercice_additionner_des_fractions_5e(max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.titre = "Additionner deux fractions (dénominateurs multiples)"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, c, d,texte, texte_corr, cpt=0; i < this.nb_questions;i++) {
			// les numérateurs
			a = randint (1,9);
			c = randint (1,9);
			// les dénominateurs
			if (this.level!=6) b = randint(2,9);
			else b = randint(2,5)
			while (b==a){
				if (this.level!=6) b = randint(2,9); // pas de fraction avec numérateur et dénominateur égaux
				else b = randint(2,5)
			}
			if (this.level!=6) k = randint(2,this.sup);
			else k=1
			d = b*k
			ordre_des_fractions = randint(1,2)
			if (ordre_des_fractions==1) {
				texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
			} else {
				texte = texte = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=$`;
			}
			if (ordre_des_fractions==1) {
				if (this.level!=6) texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
				else texte_corr =`$`
				texte_corr += `=${tex_fraction(a*k,b*k)}+${tex_fraction(c,d)}=${tex_fraction(a*k+`+`+c,d)}=${tex_fraction(a*k+c,d)}$`;
			} else {
				if (this.level!=6) texte_corr = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=${tex_fraction(c,d)}+${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
				else texte_corr =`$`
				texte_corr += `=${tex_fraction(c,d)}+${tex_fraction(a*k,b*k)}=${tex_fraction(c+'+'+a*k,d)}=${tex_fraction(a*k+c,d)}$`;
			}
			// Est-ce que le résultat est simplifiable ?
			let s = pgcd(a*k+c,d);
			if ((a*k+c)%d==0) { // si le résultat est un entier
				texte_corr +=`$=${Algebrite.eval((a*k+c)/d)}$`
			} else if (s!=1) {
				texte_corr +=`$=${tex_fraction(Algebrite.eval((a*k+c)/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((a*k+c)/s),Algebrite.eval(d/s))}$`
			}
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];		
}

/**
* Effectuer l'addition ou la soustraction de deux fractions dont un dénominateur est un multiple de l'autre.
*
* Le résultat de la soustraction sera toujours positif.
*
* Le coefficient est paramétrable, par défaut il est inférieur à 11.
*
* On peut paramétrer de n'avoir que des soustractions.
* @Auteur Rémi Angot
* 5N20-2
*/
function Exercice_additionner_ou_soustraire_des_fractions_5e(max=11){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ; // Correspond au facteur commun
	this.sup2 = false // Si true alors il n'y aura que des soustractions
	this.titre = "Additionner ou soustraire deux fractions (dénominateurs multiples)"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, c, d,texte, texte_corr, cpt=0; i < this.nb_questions;i++) {
			// les numérateurs
			a = randint (1,9);
			c = randint (1,9);
			// les dénominateurs
			b = randint(2,9);
			while (b==a){
				b = randint(2,9); // pas de fraction avec numérateur et dénominateur égaux
			}
			k = randint(2,this.sup);
			d = b*k
			if (randint(1,2)==1 && !this.sup2) { //une addition
				ordre_des_fractions = randint(1,2)
				if (ordre_des_fractions==1) {
					texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
				} else {
					texte = texte = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=$`;
				}
				if (ordre_des_fractions==1) {
					texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
					texte_corr += `=${tex_fraction(a*k,b*k)}+${tex_fraction(c,d)}=${tex_fraction(a*k+`+`+c,d)}=${tex_fraction(a*k+c,d)}$`;
				} else {
					texte_corr = `$${tex_fraction(c,d)}+${tex_fraction(a,b)}=${tex_fraction(c,d)}+${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
					texte_corr += `=${tex_fraction(c,d)}+${tex_fraction(a*k,b*k)}=${tex_fraction(c+'+'+a*k,d)}=${tex_fraction(a*k+c,d)}$`;
				}
				// Est-ce que le résultat est simplifiable ?
				let s = pgcd(a*k+c,d);
				if (s!=1) {
					texte_corr +=`$=${tex_fraction(Algebrite.eval((a*k+c)/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((a*k+c)/s),Algebrite.eval(d/s))}$`
				}
			} else{ //une soustraction
				if ((a/b)>(c/d)) {
					texte = `$${tex_fraction(a,b)}-${tex_fraction(c,d)}=$`;
				} else {
					texte = texte = `$${tex_fraction(c,d)}-${tex_fraction(a,b)}=$`;
				}
				if ((a/b)>(c/d)) {
					texte_corr = `$${tex_fraction(a,b)}-${tex_fraction(c,d)}=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}-${tex_fraction(c,d)}`
					texte_corr += `=${tex_fraction(a*k,b*k)}-${tex_fraction(c,d)}=${tex_fraction(a*k+`-`+c,d)}=${tex_fraction(a*k-c,d)}$`;
				} else {
					texte_corr = `$${tex_fraction(c,d)}-${tex_fraction(a,b)}=${tex_fraction(c,d)}-${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}`
					texte_corr += `=${tex_fraction(c,d)}-${tex_fraction(a*k,b*k)}=${tex_fraction(c+'-'+a*k,d)}=${tex_fraction(c-a*k,d)}$`;
				}
				// Est-ce que le résultat est simplifiable ?
				let s = pgcd(a*k-c,d);
				if (abs(a*k-c)%d==0){ //si la fraction peut-être un nombre entier
					texte_corr += `$=${Algebrite.eval((abs(a*k-c))/d)}$`
				} else if (s!=1) {
					texte_corr +=`$=${tex_fraction(Algebrite.eval((abs(a*k-c))/s)+mise_en_evidence('\\times '+s),Algebrite.eval(d/s)+mise_en_evidence('\\times '+s))}=${tex_fraction(Algebrite.eval((abs(a*k-c))/s),Algebrite.eval(d/s))}$`
				}
			}
				
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Valeur maximale du coefficient multiplicateur',99999];	
	this.besoin_formulaire2_case_a_cocher = ['Uniquement des soustractions'];	
}


/**
* Effectuer la somme de deux fractions
*
* * Niveau 1 : 4 fois sur 5 un dénominateur est un multiple de l'autre et une fois sur 5 il faut additionner une fraction et un entier
* * Niveau 2 : 2 fois sur 5, il faut trouver le ppcm, 1 fois sur 5 le ppcm correspond à leur produit, 1 fois sur 5 un dénominateur est multiple de l'autre, 1 fois sur 5 il faut additionner une fraction et un entier
* * Paramètre supplémentaire : utiliser des nommbres relatifs (par défaut tous les nombres sont positifs)
* @Auteur Rémi Angot
* 4C21-1
*/
function Exercice_additionner_des_fractions(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 2; // Niveau de difficulté
	this.sup2 = false; // Avec ou sans relatifs
	this.titre = "Additionner deux fractions"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée"
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let type_de_questions_disponibles
		if (this.sup==1) {
			type_de_questions_disponibles = ['b_multiple_de_d','d_multiple_de_b','b_multiple_de_d','d_multiple_de_b','entier']
		}
		if (this.sup==2) {
			type_de_questions_disponibles = ['ppcm','ppcm','premiers_entre_eux',choice(['b_multiple_de_d','d_multiple_de_b']),'entier']
		}
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		for (let i = 0, a, b, c, d, k, k1, k2, num, den, texte, texte_corr, type_de_questions, cpt=0; i < this.nb_questions;i++) {
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 'ppcm' :
					let liste_couples_de_denominateurs = [[6,9],[4,6],[8,12],[9,12],[10,15],[10,25],[6,21],[12,30],[6,8],[50,75],]
					let couples_de_denominateurs = choice(liste_couples_de_denominateurs)
					if (choice([true,false])) {
						b = couples_de_denominateurs[0];
						d = couples_de_denominateurs[1];
					} else {
						b = couples_de_denominateurs[1];
						d = couples_de_denominateurs[0];
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'premiers_entre_eux' :
					b = randint(2,9)
					d = randint(2,9)
					while (pgcd(b,d)!=1) {
						b = randint(2,9)
						d = randint(2,9)
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'd_multiple_de_b':
					b = randint(2,9);
					k = randint(2,11);
					d = b*k;
				break

				case 'b_multiple_de_d':
					d = randint(2,9);
					k = randint(2,11);
					b = d*k;
				break
			}

			
			a = randint (1,9,[b]);
			c = randint (1,9,[d]);
			if (this.sup2) { //si les numérateurs sont relatifs
				a = a * choice([-1,1]);
				c = c * choice([-1,1]);
			}
			texte = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}=$`;
			texte_corr = `$${tex_fraction(a,b)}+${tex_fraction(c,d)}`

			// a/b+c/d = num/den (résultat non simplifié)

			if (type_de_questions=='ppcm' || type_de_questions=='premiers_entre_eux') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k1),b+mise_en_evidence('\\times '+k1))}+${tex_fraction(c+mise_en_evidence('\\times '+k2),d+mise_en_evidence('\\times '+k2))}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a*k1+c*k2;
				den = b*k1
				texte_corr += `=${tex_fraction(a*k1+`+`+ecriture_parenthese_si_negatif(c*k2),den)}`

			} 

			if (type_de_questions=='d_multiple_de_b') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}+${tex_fraction(c,d)}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a*k+c;
				den = b*k
				texte_corr += `=${tex_fraction(a*k+`+`+ecriture_parenthese_si_negatif(c),den)}`
			}

			if (type_de_questions=='b_multiple_de_d') {
				texte_corr += `=${tex_fraction(a,b)}+${tex_fraction(c+mise_en_evidence('\\times '+k),d+mise_en_evidence('\\times '+k))}`
				//texte_corr += `=${tex_fraction(a*k1,b*k1)}+${tex_fraction(c*k2,d*k2)}`;
				num = a+c*k;
				den = b
				texte_corr += `=${tex_fraction(a+`+`+ecriture_parenthese_si_negatif(c*k),den)}`
			}

			if (type_de_questions=="entier") {
				a = randint(1,9);
				b = randint(2,9,[a]);
				let n = randint(1,9);
				if (this.sup2) {
					a = a * choice([-1,1]);
					n = n * choice([-1,1]);
				}
				if (choice([true,false])) {
					texte = `$${n}+${tex_fraction(a,b)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(n+'\\times '+b,b)}+${tex_fraction(a,b)}`;
					texte_corr += `=${tex_fraction(n*b+'+'+ecriture_parenthese_si_negatif(a),b)}`;
				} else {
					texte = `$${tex_fraction(a,b)}+${ecriture_parenthese_si_negatif(n)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(a,b)}+${tex_fraction(n+'\\times '+b,b)}`;
					texte_corr += `=${tex_fraction(a+'+'+ecriture_parenthese_si_negatif(n*b),b)}`
				}
				num = n*b+a
				den = b 
			}
			texte_corr += `=${tex_fraction(num,den)}`;
			texte_corr += simplification_de_fraction_avec_etapes(num,den)+'$';
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Un dénominateur multiple de l'autre\n\
2 : Cas général"]
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres relatifs'];

}


/**
* Effectuer la somme ou la différence de deux fractions
*
* * Niveau 1 : 4 fois sur 5 un dénominateur est un multiple de l'autre et une fois sur 5 il faut additionner une fraction et un entier
* * Niveau 2 : 2 fois sur 5, il faut trouver le ppcm, 1 fois sur 5 le ppcm correspond à leur produit, 1 fois sur 5 un dénominateur est multiple de l'autre, 1 fois sur 5 il faut additionner une fraction et un entier
* * Paramètre supplémentaire : utiliser des nommbres relatifs (par défaut tous les nombres sont positifs)
* * 2 fois sur 4 il faut faire une soustraction
* @Auteur Rémi Angot
* 4C21
*/
function Exercice_additionner_ou_soustraire_des_fractions(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 2; // Niveau de difficulté
	this.sup2 = false; // Avec ou sans relatifs
	this.titre = "Additionner ou soustraire deux fractions"
	this.consigne = "Calculer et donner le résultat sous la forme d'une fraction simplifiée."
	this.spacing = 2;
	this.spacing_corr = 2;
	this.nb_questions = 5;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let type_de_questions_disponibles
		if (this.sup==1) {
			type_de_questions_disponibles = ['b_multiple_de_d','d_multiple_de_b','b_multiple_de_d','d_multiple_de_b','entier']
		}
		if (this.sup==2) {
			type_de_questions_disponibles = ['ppcm','ppcm','premiers_entre_eux',choice(['b_multiple_de_d','d_multiple_de_b']),'entier']
		}
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_de_plus_ou_moins = combinaison_listes(['-','-','+','+'],this.nb_questions)
		for (let i = 0, a, b, c, d, k, k1, k2, num, den, texte, texte_corr, type_de_questions, cpt=0; i < this.nb_questions;i++) {
			let plus_ou_moins = liste_de_plus_ou_moins[i]
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 'ppcm' :
					let liste_couples_de_denominateurs = [[6,9],[4,6],[8,12],[9,12],[10,15],[10,25],[6,21],[12,30],[6,8],[50,75],]
					let couples_de_denominateurs = choice(liste_couples_de_denominateurs)
					if (choice([true,false])) {
						b = couples_de_denominateurs[0];
						d = couples_de_denominateurs[1];
					} else {
						b = couples_de_denominateurs[1];
						d = couples_de_denominateurs[0];
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'premiers_entre_eux' :
					b = randint(2,9)
					d = randint(2,9)
					while (pgcd(b,d)!=1) {
						b = randint(2,9)
						d = randint(2,9)
					}
					k1 = ppcm(b,d)/b;
					k2 = ppcm(b,d)/d;
				break

				case 'd_multiple_de_b':
					b = randint(2,9);
					k = randint(2,11);
					d = b*k;
				break

				case 'b_multiple_de_d':
					d = randint(2,9);
					k = randint(2,11);
					b = d*k;
				break
			}

			a = randint (1,9,[b]);
			c = randint (1,9,[d]);
			if (this.sup2) { //si les numérateurs sont relatifs
				a = a * choice([-1,1]);
				c = c * choice([-1,1]);

			}
			if (!this.sup2 && plus_ou_moins=='-' && a/b<c/d) { //s'il n'y a pas de relatifs, il faut s'assurer que la soustraction soit positive
				[a,b,c,d]=[c,d,a,b] // on échange les 2 fractions
				k1 = ppcm(b,d)/b;
				k2 = ppcm(b,d)/d;
				if (type_de_questions=='d_multiple_de_b') {
					type_de_questions='b_multiple_de_d'; //comme on a échangé les 2 fractions, le type de la question change
					k = b/d;
				} else if (type_de_questions=='b_multiple_de_d') {
					type_de_questions='d_multiple_de_b'; //comme on a échangé les 2 fractions, le type de la question change
					k = d/b;
				}
				echange = true;
			}
			texte = `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c,d)}=$`;
			texte_corr = `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c,d)}`

			// a/b(+ou-)c/d = num/den (résultat non simplifié)

			if (type_de_questions=='ppcm' || type_de_questions=='premiers_entre_eux') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k1),b+mise_en_evidence('\\times '+k1))}${plus_ou_moins}${tex_fraction(c+mise_en_evidence('\\times '+k2),d+mise_en_evidence('\\times '+k2))}`
				num = calcul(a*k1+plus_ou_moins+ecriture_nombre_relatif(c*k2));
				den = b*k1
				texte_corr += `=${tex_fraction(a*k1+plus_ou_moins+ecriture_parenthese_si_negatif(c*k2),den)}`

			} 

			if (type_de_questions=='d_multiple_de_b') {
				texte_corr += `=${tex_fraction(a+mise_en_evidence('\\times '+k),b+mise_en_evidence('\\times '+k))}${plus_ou_moins}${tex_fraction(c,d)}`
				num = calcul(a*k+plus_ou_moins+ecriture_nombre_relatif(c));
				den = b*k
				texte_corr += `=${tex_fraction(a*k+plus_ou_moins+ecriture_parenthese_si_negatif(c),den)}`
			}

			if (type_de_questions=='b_multiple_de_d') {
				texte_corr += `=${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(c+mise_en_evidence('\\times '+k),d+mise_en_evidence('\\times '+k))}`
				num = calcul(a+plus_ou_moins+ecriture_nombre_relatif(c*k));
				den = b
				texte_corr += `=${tex_fraction(a+plus_ou_moins+ecriture_parenthese_si_negatif(c*k),den)}`
			}

			if (type_de_questions=="entier") {
				a = randint(1,9);
				b = randint(2,9,[a]);
				let n = randint(1,9);
				if (this.sup2) {
					a = a * choice([-1,1]);
					n = n * choice([-1,1]);
				}
				if (choice([true,false])) {
					// n+-a/b
					if (!this.sup2 && plus_ou_moins=="-" && n<a/b) {
						n = randint(5,9) // max(a/b)=9/2
					}
					texte = `$${n}${plus_ou_moins}${tex_fraction(a,b)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(n+mise_en_evidence('\\times '+b),mise_en_evidence(b))}${plus_ou_moins}${tex_fraction(a,b)}`;
					texte_corr += `=${tex_fraction(n*b+plus_ou_moins+ecriture_parenthese_si_negatif(a),b)}`;
				} else {
					// a/b +-n
					if (!this.sup2 && plus_ou_moins=="-" && n>a/b) {
						n = randint(1,4) // 
						a = n*b+randint(1,9) //(n*b+?)/b-n>0
					}
					texte = `$${tex_fraction(a,b)}${plus_ou_moins}${ecriture_parenthese_si_negatif(n)}=$`;
					texte_corr = texte ;
					texte_corr += `$${tex_fraction(a,b)}${plus_ou_moins}${tex_fraction(n+mise_en_evidence('\\times '+b),mise_en_evidence(b))}`;
					texte_corr += `=${tex_fraction(a+'+'+ecriture_parenthese_si_negatif(n*b),b)}`
				}
				num = calcul(n*b+plus_ou_moins+ecriture_parenthese_si_negatif(a))
				den = b 
			}
			texte_corr += `=${tex_fraction(num,den)}`
			texte_corr += simplification_de_fraction_avec_etapes(num,den)+'$';
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Un dénominateur multiple de l'autre\n\
2 : Cas général"]
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres relatifs'];

}

/**
* Simplifier l'écriture d'une somme de 2 relatifs et calculer
*
* On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* @Auteur Rémi Angot
* 5R22-2
*/
function Exercice_simplification_somme_algebrique(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max;
	this.titre = "Simplifier l'écriture d'une somme de 2 relatifs et calculer"
	this.consigne = 'Simplifier puis calculer'
	this.spacing = 2;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, s, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			s = choice([-1,1]) // + ou -
			
			if (s==1){
				texte = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' + ' + ecriture_nombre_relatif(b) + ' = ' + a + ecriture_algebrique(s*b) +' = ' + (a+b) + ' $';	
			} else {
				texte = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = \\dotfill $';
				texte_corr = '$ '+ ecriture_nombre_relatif(a) + ' - ' + ecriture_nombre_relatif(b) + ' = ' + a + ecriture_algebrique(s*b) +' = ' + (a-b) + ' $';	
			}
						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
}

/**
* Effectuer la somme ou la différence de deux nombres relatifs
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot
*/
/*function Exercice_additions_et_soustraction_de_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions et soustractions de nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			if (a==1 & b==1) { // On s'assure que les 3 premières termes n'ont pas le même signe
				c = -1
			} else if (a==-1 & b==-1) {
				c = 1
			}
			else {
				c = randint(1,this.sup)*choice([-1,1]);	
			}
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = choice([-1,1])
			s2 = choice([-1,1])
			if (s1==1 & s2==1){ // On s'assure que les 3 premières opérations ne sont pas identiques
				s3=-1
			} else if (s1==-1 & s2==-1){
				s3=1
			} else {
				s3 = choice([-1,1])	
			}
			s4 = choice([-1,1])
			if (this.sup2){
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = ${somme_des_termes_par_signe([a,b,c,d,e])[0]}${ecriture_algebrique(somme_des_termes_par_signe([a,b,c,d,e])[1])} = ${a+b+c+d+e} $`;		
			} else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `\\\\\n$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} $`;
				texte_corr += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = ${ecriture_nombre_relatif(a)}+${ecriture_nombre_relatif(s1*b)}+${ecriture_nombre_relatif(s2*c)}+${ecriture_nombre_relatif(s3*d)}+${ecriture_nombre_relatif(s4*e)} $`;
				texte_corr += `<br>\n$ ${lettre_depuis_chiffre(i+1)} = ${a+s1*b+s2*c+s3*d+s4*e} $`;
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}
*/

/**
* Effectuer la somme ou la différence de deux nombres relatifs
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot modifications par Jean-Claude Lhote
* Référence 5R22
*/
function Exercice_additions_et_soustraction_de_relatifsV2(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions et soustractions de nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.spacing_corr = 1;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.nb_questions = 5;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let relatifs
		let sommes_signees
		for (let i = 0, a, b, c , d , e ,texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			relatifs=[]
			sommes_signees=[]
			a = -1;
			b = choice([-1,1]);
			if (a==-1 & b==-1)  c = 1;// On s'assure que les 3 premières termes n'ont pas le même signe
			else c=choice([-1,1]);
			a=randint(1,this.sup)*a
			b=randint(1,this.sup)*b
			c=randint(1,this.sup)*c
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = choice([-1,1])
			s2 = choice([-1,1])
			if (s1==1 & s2==1){ // On s'assure que les 3 premières opérations ne sont pas identiques
				s3=-1
			} else if (s1==-1 & s2==-1){
				s3=1
			} else {
				s3 = choice([-1,1])	
			}
			s4 = choice([-1,1])
			if (this.sup2){		
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				relatifs=trie_positifs_negatifs([a,b,c,d,e])
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)}\\textbf{=}~${tex_nombrecoul(a)}${ecriture_algebriquec(b)}${ecriture_algebriquec(c)}${ecriture_algebriquec(d)}${ecriture_algebriquec(e)}\\\\\\phantom{A }\\textbf{=}~`;
				if (somme_des_termes_par_signe([a,b,c,d,e])[0]!=0&&somme_des_termes_par_signe([a,b,c,d,e])[1]!=0) {
					texte_corr +=`${tex_nombrecoul(relatifs[0])}${ecriture_algebriquec(relatifs[1])}${ecriture_algebriquec(relatifs[2])}${ecriture_algebriquec(relatifs[3])}${ecriture_algebriquec(relatifs[4])}\\\\\\phantom{A }\\textbf{=}~`
					texte_corr +=`${tex_nombrecoul(somme_des_termes_par_signe([a,b,c,d,e])[0])}${ecriture_algebriquec(somme_des_termes_par_signe([a,b,c,d,e])[1])}\\\\\\phantom{A }\\textbf{=}~`
					texte_corr +=`${tex_nombrecoul(a+b+c+d+e)} $`;
				}
				else
					if (somme_des_termes_par_signe([a,b,c,d,e])[0]!=0) texte_corr +=`${tex_nombrecoul(somme_des_termes_par_signe([a,b,c,d,e])[0])}$`
					else  texte_corr +=`${ecriture_algebriquec(somme_des_termes_par_signe([a,b,c,d,e])[1])}$`
			} 
			else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)}$`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(a)}+${ecriture_nombre_relatifc(s1*b)}+${ecriture_nombre_relatifc(s2*c)}+${ecriture_nombre_relatifc(s3*d)}+${ecriture_nombre_relatifc(s4*e)} $`;

				relatifs=trie_positifs_negatifs([a,s1*b,s2*c,s3*d,s4*e])		

				if (relatifs[0]>0&relatifs[4]<0) {
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(relatifs[0])}+${ecriture_nombre_relatifc(relatifs[1])}+${ecriture_nombre_relatifc(relatifs[2])}+${ecriture_nombre_relatifc(relatifs[3])}+${ecriture_nombre_relatifc(relatifs[4])} $`;
				}
				sommes_signees=somme_des_termes_par_signe([relatifs[0],relatifs[1],relatifs[2],relatifs[3],relatifs[4]])
				if (sommes_signees[0]!=0&&sommes_signees[1]!=0) {					
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(sommes_signees[0])}+${ecriture_nombre_relatifc(sommes_signees[1])} $`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_algebriquec(a+s1*b+s2*c+s3*d+s4*e)} $<br>`;
				}
				else
					if (sommes_signees[0]!=0) texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[0])}$`
					else  texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[1])}$<br>`
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}



/**
* Effectuer la somme de 5 nombres relatifs.
*
* Pour la correction, on commence par effectuer la somme des termes de même signe
*
* * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20
* * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)
* @Auteur Rémi Angot
* 5R20-3
*/
function Exercice_additions_de_5_relatifs(max=20){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = max ;
	this.sup2 = false; // écriture simplifiée
	this.titre = "Additions de 5 nombres relatifs"
	this.consigne = 'Calculer'
	this.spacing = 2;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, a, b,relatifs, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			a = randint(1,this.sup)*choice([-1,1]);
			b = randint(1,this.sup)*choice([-1,1]);
			if (a==1 & b==1) { // On s'assure que les 3 premières termes n'ont pas le même signe
				c = -1
			} else if (a==-1 & b==-1) {
				c = 1
			}
			else {
				c = randint(1,this.sup)*choice([-1,1]);	
			}
			d = randint(1,this.sup)*choice([-1,1]);
			e = randint(1,this.sup)*choice([-1,1]);
			s1 = 1; // Que des additions
			s2 = 1;
			s3 = 1;
			s4 = 1;
			if (this.sup2){
				texte = `$ ${lettre_depuis_chiffre(i+1)} = ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}${ecriture_algebrique(d)}${ecriture_algebrique(e)} = ${somme_des_termes_par_signe([a,b,c,d,e])[0]}${ecriture_algebrique(somme_des_termes_par_signe([a,b,c,d,e])[1])} = ${a+b+c+d+e} $`;		
			} else {
				texte = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} = \\dotfill $`;
				if (!sortie_html){
					texte += `<br>$ ${lettre_depuis_chiffre(i+1)} = \\dotfill $`	
				}
				texte_corr = `$ ${lettre_depuis_chiffre(i+1)} =  ${ecriture_nombre_relatif(a)}${signe(s1)}${ecriture_nombre_relatif(b)}${signe(s2)}${ecriture_nombre_relatif(c)}${signe(s3)}${ecriture_nombre_relatif(d)}${signe(s4)}${ecriture_nombre_relatif(e)} $`;
				relatifs=trie_positifs_negatifs([a,s1*b,s2*c,s3*d,s4*e])		

				if (relatifs[0]>0&relatifs[4]<0) {
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(relatifs[0])}+${ecriture_nombre_relatifc(relatifs[1])}+${ecriture_nombre_relatifc(relatifs[2])}+${ecriture_nombre_relatifc(relatifs[3])}+${ecriture_nombre_relatifc(relatifs[4])} $`;
				}
				sommes_signees=somme_des_termes_par_signe([relatifs[0],relatifs[1],relatifs[2],relatifs[3],relatifs[4]])
				if (sommes_signees[0]!=0&&sommes_signees[1]!=0) {					
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_nombre_relatifc(sommes_signees[0])}+${ecriture_nombre_relatifc(sommes_signees[1])} $`;
				texte_corr += `<br>$ \\phantom{A}= ${ecriture_algebriquec(a+s1*b+s2*c+s3*d+s4*e)}$<br>`;
				}
				else
					if (sommes_signees[0]!=0) texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[0])}$`
					else  texte_corr +=`<br>$ \\phantom{A}=${ecriture_algebriquec(sommes_signees[1])}$<br>`
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu_sans_numero(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des écritures simplifiées'];	
}
/**
* x, y, z étant 3 entiers compris entre 2 et 9, calculer : 
* * kx
* * kx-y
* * xy
* * x+y
* * x+y+z
* * x(y+z)
* * x^2
* * x^2+ky
* * x^2+y^2
* * ax^2+y^2
* * ax^2+bx+c
* @Auteur Rémi Angot
* 5L13-2
*/
function Exercice_substituer(difficulte=1){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = difficulte ;
	this.titre = "Substitution";
	this.consigne = 'Calculer';
	this.spacing = 1;
	this.consigne_modifiable = false;


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		let type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10]
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let k = randint(2,9);
		let k2 = randint(2,9);
		let k3 = randint(2,9);
		if (this.sup>1){ // si difficulté 2, k, k2 et k3 peuvent être négatifs !!! La correction est à faire. Exercice non fini
			k = k*choice([-1,1]);
			k2 = k2*choice([-1,1]);
			k3 = k3*choice([-1,1]);
		}
		let valeurs_possibles = range(9,[0,1]) // Toutes les valeurs de 2 à 9
		let x = choice(valeurs_possibles);
		enleve_element(valeurs_possibles,x);
		let y = choice(valeurs_possibles);
		enleve_element(valeurs_possibles,y);
		let z = choice(valeurs_possibles);
		// x, y et z sont différents
		this.consigne = `Calculer pour $x=${x}$, $y=${y}$ et $z=${z}$.`
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			type_de_questions = liste_type_de_questions[i];
			switch (type_de_questions){
				case 1 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x=${k}\\times  ${x}=${k*x}$`;
					break ;
				case 2 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x-y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x-y=${k}\\times  ${x}-${y}=${k*x-y}$`;
					break ;
				case 3 :
					texte = `$${lettre_depuis_chiffre(i+1)}=xy$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=xy=${x}\\times  ${y}=${x*y}$`;
					break ;
				case 4 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x+y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x+y=${x}+${y}=${x+y}$`;
					break ;
				case 5 :
					texte = `$${lettre_depuis_chiffre(i+1)}=xy+z$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=xy+z=${x}\\times  ${y}+${z}=${x*y+z}$`;
					break ;
				case 6 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x(y+z)$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x(y+z)=${x}\\times (${y}+${z})=${x*(y+z)}$`;
					break ;
				case 7 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x^2+${ecriture_parenthese_si_negatif(k)}y$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x^2+${ecriture_parenthese_si_negatif(k)}y=${x}^2+${ecriture_parenthese_si_negatif(k)}\\times  ${y}=${x*x}+${ecriture_parenthese_si_negatif(k)}\\times  ${y}=${x*x+k*y}$`;
					break ;
				case 8 :
					texte = `$${lettre_depuis_chiffre(i+1)}=x^2+y^2$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=x^2+y^2=${x}^2+${y}^2=${x*x}+${y*y}=${x*x+y*y}$`;
					break ;
				case 9 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+y^2$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+y^2=${k}\\times  ${x}^2+${y}^2=${k}\\times  ${x*x}+${y*y}=${k*x*x+y*y}$`;
					break ;
				case 10 :
					texte = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+${ecriture_parenthese_si_negatif(k2)}x+${ecriture_parenthese_si_negatif(k3)}$`;
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${k}x^2+${ecriture_parenthese_si_negatif(k2)}x+${ecriture_parenthese_si_negatif(k3)}=${k}\\times  ${x}^2+${ecriture_parenthese_si_negatif(k2)}\\times  ${ecriture_parenthese_si_negatif(x)}+${ecriture_parenthese_si_negatif(k3)}=${k}\\times  ${x*x}+${ecriture_parenthese_si_negatif(k2)}\\times  ${x}+${ecriture_parenthese_si_negatif(k3)}=${k*x*x+k2*x+k3}$`;
					break ;
				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif'] 
}

/**
* Déterminer la valeur d'un angle dans un triangle.
*
* Correction avec détails ou pas. 9 cas différents
* * On connait 2 angles sur 3.
* * Dans un triangle rectangle, on connait un angle aigu.
* * Dans un triangle isocèle, on connait un angle à la base.
* * Dans un triangle isocèle, on connait l'angle au sommet principal.
* * Quelle est la mesure d'un angle aigu dans un triangle rectangle qui a 2 angles égaux ?
* * Dans un triangle rectangle, un angle aigu mesure le double de l'autre.
* * Dans un triangle rectangle, un angle aigu mesure le quart de l'autre.
* * Dans un triangle rectangle, un angle aigu mesure 5 fois l'autre.
* * Un triangle a 3 angles égaux.
* * Dans un triangle rectangle, un angle mesure le tiers de l'autre.
* @Auteur Jean-Claude Lhote
* Référence 5G31
*/
function Exercice_angles_triangles(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 1 ;
	this.titre = "Somme des angles dans un triangle";
	this.consigne = '';
	sortie_html ? this.spacing_corr = 2 : this.spacing_corr = 1.5;
	sortie_html ? this.spacing = 2 : this.spacing = 1.5;
	this.nb_questions=5;
	this.consigne_modifiable = false;
	this.correction_detaillee_disponible = true;
	this.nb_cols=1;
	this.nb_cols_corr=1;

	let type_de_questions_disponibles
	let troisieme_angle = function(a1,a2) {
		if (a1+a2<=180)  return 180-(a1+a2)
		else return -1;
	}

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (this.sup==1) type_de_questions_disponibles = [1,2,4,5,9]
		else
			if (this.sup==2) type_de_questions_disponibles = [3,6,7,8,10,11,12]
			else type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10,11,12]
		
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		this.consigne=`Calculer l'angle demandé dans les triangles suivants :`
		let lettre1,lettre2,lettre3,s1,s2,s3
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			type_de_questions = liste_type_de_questions[i];
			lettre1 = randint(1,26)	// aleatoirisation du nom des points
			lettre2 = randint(1, 26, [lettre1])
			s1 = lettre_depuis_chiffre(lettre1)
			s2 = lettre_depuis_chiffre(lettre2)
			lettre3 = randint(1, 24, [lettre1, lettre2])
			s3 = lettre_depuis_chiffre(lettre3)
			if (this.correction_detaillee) texte_corr = `Dans un triangle, la somme des angles est égale à $180\\degree$.<br>`;
			else texte_corr=``;
			switch (type_de_questions){
				case 1 :  // triangle quelconque 2 angles connus
					angle1=randint(10,40);
					angle2=randint(20,100);
					texte = `$${s1+s2+s3}$ est un triangle quelconque. L'angle $\\widehat{${s1+s2+s3}}$ mesure $${angle1}\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr+=`$\\widehat{${s1+s2+s3}} + \\widehat{${s2+s3+s1}} + \\widehat{${s2+s1+s3}}=180\\degree$<br>`;
						texte_corr+=`Donc $\\widehat{${s2+s3+s1}}=180- \\left(\\widehat{${s1+s2+s3}} + \\widehat{${s2+s1+s3}}\\right)$.<br>D'où `
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}$= $180\\degree-\\left(${angle1}\\degree+${angle2}\\degree\\right)=180\\degree-${angle1+angle2}\\degree=${troisieme_angle(angle1,angle2)}\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${troisieme_angle(angle1,angle2)}\\degree$.`
					break ;
				case 2 : // Triangle rectangle Un angle aigu connu 
					angle1=90;
					angle2=randint(5,85);
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s2}$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme l'angle $\\widehat{${s1+s2+s3}}$ est droit, les angles $\\widehat{${s2+s3+s1}}$ et $\\widehat{${s2+s1+s3}}$ sont complémentaires.<br>`
						texte_corr +=`On a donc : $\\widehat{${s2+s3+s1}}+ \\widehat{${s2+s1+s3}}=90\\degree$<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}=90\\degree-${angle2}\\degree=${90-angle2}\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${90-angle2}\\degree$.`;
					break ;
				case 3 : // triangle isocèle, angle au sommet principal connu
					angle1=randint(10,170);
					angle2=(180-angle1)/2;
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s2+s1+s3}}$ mesure $${angle1}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;
					
					if (this.correction_detaillee) {
						texte_corr += `Les angles à la base d'un triangle isocèle sont de même mesure.<br>`
						texte_corr +=`D'où $\\widehat{${s1+s2+s3}}=\\widehat{${s2+s3+s1}}$.<br>`
						texte_corr +=`On a donc : $\\widehat{${s2+s1+s3}}+2\\times  \\widehat{${s2+s3+s1}}=180\\degree$.<br>`;
						texte_corr +=`Soit  $${angle1}\\degree+2\\times  \\widehat{${s2+s3+s1}}=180\\degree$.<br>`;
						texte_corr +=`D'où $2\\times  \\widehat{${s2+s3+s1}}=180\\degree-${angle1}\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s3+s1}}=\\left(180\\degree-${angle1}\\degree\\right)\\div  2=${180-angle1}\\degree\\div  2=${tex_nombrec((180-angle1)/2)}\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s3+s1}}$ mesure $${tex_nombrec((180-angle1)/2)}\\degree$.`;
					break ;
				case 4 : // triangle isocèle, angle à la base connu
					angle2=randint(10,80);
					angle1=180-angle2*2;
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure $${angle2}\\degree$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s1+s3}}$ ?`;

					if (this.correction_detaillee) {
					texte_corr+=`Les deux angles à la base d'un triangle isocèle sont égaux.<br>`;
					texte_corr += `Donc $\\widehat{${s1+s2+s3}}=\\widehat{${s2+s3+s1}}=${angle2}\\degree$.<br>D'où `
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree-2\\times ${angle2}\\degree=180\\degree-${2*angle2}\\degree=${180-2*angle2}\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s1+s3}}$ mesure $${180-2*angle2}\\degree$.`;
					break ;
				case 5 :  // cas non aléatoires triangle rectangle isocèle
					angle1=90;
					angle2=45;
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s2}$ et $\\widehat{${s2+s1+s3}}=\\widehat{${s2+s3+s1}}$.<br>Quelle est la mesure de l'angle $\\widehat{${s2+s3+s1}}$ ?`;

					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s2+s1+s3}}=\\widehat{${s2+s3+s1}}$,<br>`;
						texte_corr += `on a : $2 \\times  \\widehat{${s2+s1+s3}} + 90\\degree=180\\degree$.<br>D'où `;
						texte_corr += ` $2 \\times  \\widehat{${s2+s1+s3}}=180\\degree-90\\degree=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=90\\degree \\div  2=45\\degree$.<br>`;
					texte_corr += `L'angle $\\widehat{${s2+s1+s3}}$ mesure $45\\degree$.`;
				
					break ;
				case 6 : // cas non aléatoires triangle rectangle 30,60,90
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure le double de l'angle $\\widehat{${s1+s3+s2}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s1+s2+s3}}=2\\times \\widehat{${s1+s3+s2}}$ et comme $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires,<br>`;
						texte_corr += `on a : $2 \\times  \\widehat{${s1+s3+s2}} + \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
						texte_corr += ` $3 \\times  \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s1+s3+s2}}=90\\degree \\div  3=30\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s2+s3}}=2\\times \\widehat{${s1+s3+s2}}=2\\times  30\\degree=60\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $30\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $60\\degree$.`;
				
					break ;
				case 7 :// cas non aléatoires triangle rectangle 18,72,90
				texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s3+s2}}$ mesure le quart de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
				if (this.correction_detaillee) {
					texte_corr += `Comme $\\widehat{${s1+s2+s3}}=\\dfrac{\\widehat{${s1+s3+s2}}}{4}$, on a $\\widehat{${s1+s3+s2}}=4\\times \\widehat{${s1+s2+s3}}$.<br>`;
					texte_corr += `De plus $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires.<br>`;
					texte_corr += `D'où : $4 \\times  \\widehat{${s1+s2+s3}} + \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
					texte_corr += ` $5 \\times  \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
				}
				texte_corr += `$\\widehat{${s1+s2+s3}}=90\\degree \\div  5=18\\degree$.<br>`;
				texte_corr += `$\\widehat{${s1+s3+s2}}=4\\times \\widehat{${s1+s2+s3}}=4\\times  18\\degree=72\\degree$.<br>`;
				texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $72\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $18\\degree$.`;
					break ;
				case 8 :// cas non aléatoires triangle rectangle 15,75,90
				texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ est cinq fois plus grand que l'angle $\\widehat{${s1+s3+s2}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
				if (this.correction_detaillee) {
					texte_corr += `$\\widehat{${s1+s2+s3}}=5\\times \\widehat{${s1+s3+s2}}$ et comme $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires,<br>`;
					texte_corr += ` on a : $5 \\times  \\widehat{${s1+s3+s2}} + \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
					texte_corr += ` $6 \\times  \\widehat{${s1+s3+s2}}=90\\degree$.<br>D'où `;
				}
				texte_corr += `$\\widehat{${s1+s3+s2}}=90\\degree \\div  6=15\\degree$<br>`;
				texte_corr += `$\\widehat{${s1+s2+s3}}=5\\times \\widehat{${s1+s3+s2}}=5\\times  15\\degree=75\\degree$<br>`;
				texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $15\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $75\\degree$.`;
				break ;
				case 9 : //cas non aléatoire triangle équilatéral
					texte = `$${s1+s2+s3}$ est un triangle dont les trois angles sont égaux. Quelles sont les mesures de ses angles ?`;
					if (this.correction_detaillee) {
						texte_corr += `De plus, $\\widehat{${s1+s2+s3}}=\\widehat{${s1+s3+s2}}=\\widehat{${s2+s1+s3}}$<br>`
						texte_corr += `D'où $3\\times \\widehat{${s1+s2+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $\\widehat{${s1+s2+s3}}=180\\degree\\div  3=60\\degree$.<br>`;
					}	
					texte_corr += `On a donc $\\widehat{${s1+s2+s3}}=\\widehat{${s1+s3+s2}}=\\widehat{${s2+s1+s3}}=60\\degree$.<br>`;
					texte_corr += `Le triangle $${s1+s2+s3}$ est un triangle équilatéral.`
					break ;
				case 10 : //cas non aléatoire triangle rectangle 22.5, 67.5,90
					texte = `$${s1+s2+s3}$ est un triangle rectangle en $${s1}$. L'angle $\\widehat{${s1+s3+s2}}$ mesure le tiers de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s1+s2+s3}}=\\dfrac{\\widehat{${s1+s3+s2}}}{3}$, on a $\\widehat{${s1+s3+s2}}=3\\times \\widehat{${s1+s2+s3}}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s2+s3}}$ et $\\widehat{${s1+s3+s2}}$ sont complémentaires.<br>`;
						texte_corr += `D'où : $3 \\times  \\widehat{${s1+s2+s3}} + \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
						texte_corr += ` $4 \\times  \\widehat{${s1+s2+s3}}=90\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s1+s2+s3}}=90\\degree \\div  4=22,5\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=3\\times \\widehat{${s1+s2+s3}}=3\\times  22,5\\degree=67,5\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $67,5\\degree$ et l'angle $\\widehat{${s1+s2+s3}}$ mesure $22,5\\degree$.`;
					break ;
				case 11 : //cas non aléatoire triangle 67.5 , 67.5 , 45.
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s2+s1+s3}}$ mesure les deux tiers de l'angle $\\widehat{${s1+s2+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$, $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s2+s1+s3}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `Comme $\\widehat{${s2+s1+s3}}=\\dfrac{2\\times  \\widehat{${s1+s3+s2}}}{3}$, on a $\\widehat{${s1+s3+s2}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s1+s2+s3}}$ sont égaux, alors $\\widehat{${s1+s2+s3}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}$.<br>`;
						texte_corr += `D'où : $\\dfrac{3 \\times  \\widehat{${s2+s1+s3}}}{2}\\times  2 + \\widehat{${s2+s1+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $3 \\times  \\widehat{${s2+s1+s3}} + \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
						texte_corr += ` $4 \\times  \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree \\div  4=45\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=\\dfrac{3\\times \\widehat{${s2+s1+s3}}}{2}=\\dfrac{3\\times  45\\degree}{2}=\\dfrac{135\\degree}{2}=67,5\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $67,5\\degree$, l'angle $\\widehat{${s1+s2+s3}}$ mesure $67,5\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $45\\degree$`;
					break;
					case 12 : //cas non aléatoire triangle 72 , 72 , 36.
					texte = `$${s1+s2+s3}$ est un triangle isocèle en $${s1}$. L'angle $\\widehat{${s1+s2+s3}}$ mesure le double de l'angle $\\widehat{${s2+s1+s3}}$.<br>Quelles sont les mesures des angles $\\widehat{${s1+s2+s3}}$, $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s2+s1+s3}}$ ?`;
					if (this.correction_detaillee) {
						texte_corr += `On a $\\widehat{${s1+s2+s3}}=2\\times  \\widehat{${s2+s1+s3}}$.<br>`;
						texte_corr += `De plus $\\widehat{${s1+s3+s2}}$ et $\\widehat{${s1+s2+s3}}$ sont égaux, alors $\\widehat{${s1+s3+s2}}=2\\times \\widehat{${s2+s1+s3}}$.<br>`;
						texte_corr += `D'où : $2 \\times  \\widehat{${s2+s1+s3}}\\times  2 + \\widehat{${s2+s1+s3}}=180\\degree$.<br>`;
						texte_corr += `D'où : $4 \\times  \\widehat{${s2+s1+s3}} + \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
						texte_corr += ` $5 \\times  \\widehat{${s2+s1+s3}}=180\\degree$.<br>D'où `;
					}
					texte_corr += `$\\widehat{${s2+s1+s3}}=180\\degree \\div  5=36\\degree$.<br>`;
					texte_corr += `$\\widehat{${s1+s3+s2}}=2\\times \\widehat{${s2+s1+s3}}=2\\times  36\\degree=72\\degree$<br>`;
					texte_corr += `L'angle $\\widehat{${s1+s3+s2}}$ mesure $72\\degree$, l'angle $\\widehat{${s1+s2+s3}}$ mesure $72\\degree$ et l'angle $\\widehat{${s2+s1+s3}}$ mesure $36\\degree$`;
					break;
				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Niveau de difficuté',3,"1 : Facile \n 2 : Difficile \n 3 : Mélange des deux niveaux"]
}

/**
 * Calculs de fréquences dans des séries statistiques
* @auteur Jean-Claude Lhote
* Référence 5S13
*/
 function Calculer_des_frequences(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des fréquences";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;	 
	this.sup=1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_des, nombre_faces, nombre_tirages,index_valeur,frequence,tirages, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on lance des dés
			nombre_des=randint(1,2);
			nombre_faces=choice([4,6,8,10]);
			nombre_tirages=choice([50,100,200,500,1000]);
			tirages=tirer_les_des(nombre_tirages,nombre_faces,nombre_des); // on récupère une série rangée dans l'ordre croissant avec les effectifs correspondants
			do index_valeur=randint(0,tirages.length-1);
			while (tirages[index_valeur][1]==0) // on choisi au hasard l'index d'une valeur dont l'effectif est différent de 0.
			if (nombre_des>1) {
				texte=`On a réalisé $${nombre_tirages}$ lancers de $${nombre_des}$ dés à $${nombre_faces}$ faces.<br>`;
			}
			else {
				texte=`On a réalisé $${nombre_tirages}$ lancers d'un dé à $${nombre_faces}$ faces.<br>`;
			}
			texte+='Les résultats sont inscrits dans le tableau ci-dessous :<br><br>'
			if (tirages.length>12) {
				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs 1/2
				for (let j=0;j<=Math.round(tirages.length/2);j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=0;j<Math.round(tirages.length/2);j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=0;j<Math.round(tirages.length/2);j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$<br><br>'

				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs 2/2
				for (let j=Math.round(tirages.length/2);j<=tirages.length;j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=Math.round(tirages.length/2);j<tirages.length;j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=Math.round(tirages.length/2);j<tirages.length;j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$'
			}
			else {
				texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c';  // construction du tableau des effectifs en un seul morceau
				for (let j=0;j<=tirages.length;j++)		texte+='|c';
				texte+='}\\hline  \\text{Scores}';
				for (let j=0;j<tirages.length;j++) 		texte+='&'+tirages[j][0];
				texte+='\\\\\\hline \\text{Nombre d\'apparitions}'
				for (let j=0;j<tirages.length;j++) 		texte+='&'+tirages[j][1];
				texte+='\\\\\\hline\\end{array}$'
			}

			texte+='<br><br> Calculer la fréquence de la valeur '+`$${calcul(nombre_des+index_valeur)}$.`
			texte_corr='La valeur '+`$${calcul(nombre_des+index_valeur)}$ apparaît `+`$${tirages[index_valeur][1]}$ fois.<br>Le nombre total de lancers est $${tex_nombre(nombre_tirages)}$.<br>`;
			texte_corr+='La fréquence de la valeur '+`$${calcul(nombre_des+index_valeur)}$`+' est '+`$${tex_fraction(tirages[index_valeur][1],tex_nombre(nombre_tirages))}=${tex_nombre(calcul(tirages[index_valeur][1]/nombre_tirages))}$<br>`;
			texte_corr+='Soit '+`$${tex_nombre(calcul(tirages[index_valeur][1]*100/nombre_tirages))}\\thickspace\\%$.`
		}
		else if (this.sup==2) { // ici on trie des notes
			nombre_notes=choice([8,10,12]);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20));  // on récupère une liste de notes (série brute)
			index_valeur=randint(0,notes.length-1);  // on choisi une des notes au hasard
			frequence=0;
			for(j=0;j<notes.length;j++) {   // frequence va contenir l'effectif de la note choisie
				if (notes[j]==notes[index_valeur]) frequence++;
			}
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes (série brute)
			texte+=`et $${notes[nombre_notes-1]}$.`;

			texte+=`<br><br>Calculer la fréquence de la note $${notes[index_valeur]}$.`
			texte_corr=`La note $${notes[index_valeur]}$ a été obtenue $${frequence}$ fois.<br> Il y a $${nombre_notes}$ notes<br>`;
			texte_corr+=`Donc la fréquence de la note $${notes[index_valeur]}$ est : `+`$${tex_fraction(tex_nombre(frequence),tex_nombre(nombre_notes))}$`;
			if (arrondi(frequence/nombre_notes,3)==frequence/nombre_notes) {  // valeurs exactes
				texte_corr+=`$=${arrondi_virgule(frequence/nombre_notes,3)}$<br>`;	// fréquence à 3 chiffres significatifs
				texte_corr+='Soit '+`$${tex_nombre(calcul(frequence*100/nombre_notes))}\\thickspace\\%$.` // fréquence en pourcentage avec 1 décimale
			}
			else {
				texte_corr+=`$\\approx${arrondi_virgule(frequence/nombre_notes,3)}$`  // valeurs arrondies
				texte_corr+='Soit environ '+`$${arrondi_virgule(calcul(frequence*100/nombre_notes),1)}\\thickspace\\%$.`		
			}
			
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // on récupère une série de température correspondant à 1 mois d'une année (série brute)
			index_valeur=randint(0,temperatures.length-1);  // on choisi l'index d'une valeur au hasard
			frequence=0;
			for(j=0;j<temperatures.length;j++) {
				if (temperatures[j]==temperatures[index_valeur]) frequence++;  // frequence contient l'effectif de cette valeur
			}
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;

			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // On construit le tableau des températures
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  texte+='&'+tex_nombre(j+1);
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}';
			for (j=0;j<Math.round(temperatures.length/2);j++) 	texte+='&'+temperatures[j];
			texte+='\\\\\\hline\\end{array}$<br><br>';
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // On construit le tableau des températures
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  texte+='&'+tex_nombre(j+1);
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}';
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	texte+='&'+temperatures[j];
			texte+='\\\\\\hline\\end{array}$';
			

			texte+='<br><br>Calculer la fréquence de la température '+`$${temperatures[index_valeur]}^\\circ\\text{C}$.`;
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, la température $${temperatures[index_valeur]}^\\circ\\text{C}$ a été relevée $${frequence}$ fois.<br>`;
			texte_corr+=`Il y a $${jours_par_mois(mois)}$ jours ce mois-ci.<br> La fréquence de la température $${temperatures[index_valeur]}^\\circ\\text{C}$ est :<br>`;
			texte_corr+=`$${tex_fraction(tex_nombre(frequence),tex_nombre(jours_par_mois(mois)))}$`;
			if (arrondi(frequence/nombre_temperatures,3)==frequence/nombre_temperatures) {	// valeurs exactes
				texte_corr+=`$=${arrondi_virgule(frequence/nombre_temperatures,3)}$<br>`;
				texte_corr+='Soit '+`$${tex_nombre(calcul(frequence*100/nombre_temperatures))}\\thickspace\\%$.`

			}
			else {
				texte_corr+=`$\\approx${arrondi_virgule(frequence/nombre_temperatures,3)}$<br>`; // valeurs arrondies
				texte_corr+='Soit environ '+`$${arrondi_virgule(calcul(frequence*100/nombre_temperatures),1)}\\thickspace\\%$.`
			}
		}			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',3,"1 : Lancers de dés \n 2 : Liste de notes\n 3 : Un mois de températures"];
}
 /**
  * Calcul de moyennes de série statistiques
* @auteur Jean-Claude Lhote
* Référence 5S14
*/
function Calculer_des_moyennes(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des moyennes";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols_corr = 1;	
	this.nb_cols=1;  
	this.sup = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_notes,notes,somme,nombre_temperatures,temperatures, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on trie des notes
			nombre_notes=choice([8,10,12]);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20)); // on récupère une série de notes (série brute)
			for (somme=0,j=0;j<nombre_notes;j++) somme+=notes[j];
		
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes
			texte+=`et $${notes[nombre_notes-1]}$.<br>`;
			texte+=`Calculer la moyenne de cet élève en mathématiques.`
			texte_corr=`La somme des notes est : $${somme}$.<br> Il y a $${nombre_notes}$ notes<br>`;
			texte_corr+='Donc la moyenne de cet élève est : '+`$${tex_fraction(tex_nombre(somme),tex_nombre(nombre_notes))}$`;
			if (arrondi(somme/nombre_notes,2)==somme/nombre_notes) texte_corr+=`$=${arrondi_virgule(somme/nombre_notes,2)}$<br>`; // moyenne exacte
			else texte_corr+=`$\\approx${arrondi_virgule(somme/nombre_notes,2)}$`	// moyenne arrondie
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // série brute de un mois de température
			somme=0;
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 1/2
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=0;j<Math.round(temperatures.length/2);j++) 	{
				texte+='&'+temperatures[j];
				somme+=temperatures[j];
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 2/2
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	{
				texte+='&'+temperatures[j];
				somme+=temperatures[j];
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';
			

			texte+='Calculer la température moyenne de ce mois.';
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, la somme des températures est `+`$${somme}^\\circ\\text{C}$.<br> Il y a $${temperatures.length}$ jours ce mois-ci.<br> La température moyenne est :<br>`;
			texte_corr+=`$${tex_fraction(tex_nombre(somme)+`^\\circ\\text{C}`,tex_nombre(nombre_temperatures))}$`
		
			if (arrondi(somme/nombre_temperatures,2)==somme/nombre_temperatures)  
				texte_corr+=`$=${arrondi_virgule(somme/nombre_temperatures,2)}^\\circ\\text{C}$`; // moyenne exacte
			else 				texte_corr+=`$\\approx${arrondi_virgule(somme/nombre_temperatures,2)}^\\circ\\text{C}$`;  // moyenne arrondie
		}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',2,"1 : Série de notes\n 2 : Série de températures"];
}

 /**
  * Calculer des étendues de séries statistiques
* @auteur Jean-Claude Lhote
* Référence 3S15
*/
function Calculer_des_etendues(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des étendues";
	this.consigne = "";
	this.nb_questions = 1;
	this.spacing = 1;
	this.spacing_corr = 1;
	this.nb_cols_corr = 1;	
	this.nb_cols=1; 
	this.sup = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
	
		for (let i = 0, nombre_notes,notes,min,max,temperatures,nombre_temperatures, texte,texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
		if (this.sup==1) { // ici on trie des notes
			nombre_notes=randint(8,12);
			notes=liste_de_notes(nombre_notes,randint(0,7),randint(13,20)); // on récupère une série de notes (série brute)
			for (min=20,max=0,j=0;j<nombre_notes;j++) {  // On cherche la note minimum et la note maximum
				min=Math.min(notes[j],min);
				max=Math.max(notes[j],max);
			}
			texte=`${prenom()} a obtenu ces notes ce trimestre-ci en mathématiques :<br>`;
			texte+=`$${notes[0]}$`
			for (let j=1;j<nombre_notes-1;j++) 	texte+=`; $${notes[j]}$ `;	// On liste les notes
			texte+=`et $${notes[nombre_notes-1]}$.<br>`;
			texte+=`Calculer l\'étendue de cette série de notes.`
			texte_corr=`La note la plus basse est : $${min}$.<br>La note la plus haute est $${max}$<br>`;
			texte_corr+='Donc l\'étendue de cette série est : '+`$${tex_nombre(max)}-${tex_nombre(min)}=${tex_nombre(max-min)}$`;
		}
		else {  // ici on relève des températures
			let mois=randint(1,12);
			let annee=randint(1980,2019);
			let temperatures_de_base=[3,5,9,13,19,24,26,25,23,18,10,5];
			nombre_temperatures=jours_par_mois(mois);
			temperatures=un_mois_de_temperature(temperatures_de_base[mois-1],mois,annee); // série brute de un mois de température
			max=0;
			min=20;
			texte=`En ${nom_du_mois(mois)} ${annee}, à ${choice(['Moscou','Berlin','Paris','Bruxelles','Rome','Belgrade'])}, on a relevé les températures suivantes<br>`;
			
			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 1/2
			texte+='|c';
			for (let j=0;j<Math.round(temperatures.length/2);j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=0;j<Math.round(temperatures.length/2);j++)  	texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=0;j<Math.round(temperatures.length/2);j++) 	{  // on cherche le minimum et le maximum
				texte+='&'+temperatures[j];
				min=Math.min(temperatures[j],min);
				max=Math.max(temperatures[j],max);
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';

			texte+='$\\def\\arraystretch{1.5}\\begin{array}{|c'; // tableau des températures 2/2
			texte+='|c';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++) texte+='|c';
			texte+='}\\hline  \\text{Jour}';
			for (let j=Math.round(temperatures.length/2);j<temperatures.length;j++)  	texte+='&'+tex_nombre(j+1)
			texte+='\\\\\\hline \\text{Température\\thickspace en} \\thickspace ^\\circ\\text{C}'
			for (j=Math.round(temperatures.length/2);j<temperatures.length;j++) 	{  // on cherche le minimum et le maximum
				texte+='&'+temperatures[j];
				min=Math.min(temperatures[j],min);
				max=Math.max(temperatures[j],max);
			}
			texte+='\\\\\\hline\\end{array}$<br><br>';

			texte+='Calculer l\'amplitude thermique de ce mois (l\'étendue de la série).';
			texte_corr=`En ${nom_du_mois(mois)} ${annee}, la température minimale est `+`$${min}^\\circ\\text{C}$.<br>La température maximale est $${max}^\\circ\\text{C}$.<br> L\'amplitude thermique est :<br>`;
			texte_corr+=`$${tex_nombre(max)}-${ecriture_parenthese_si_negatif(min)}$`
			if (min<0) 	texte_corr+=`$\\thickspace~=${tex_nombre(max)}+${tex_nombre(-min)}$`;
			texte_corr+=`$\\thickspace=${tex_nombre(max-min)}^\\circ\\text{C}$`;

		}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de séries',2,"1 : Série de notes\n 2 : Série de températures"];
}

/**
* Calculer +/- 20, 30, 40 ou 60 %
* @Auteur Rémi Angot
* 5N110
*/
function Variation_en_pourcentages(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Variation en pourcentages";
	this.consigne = "Calculer le nouveau prix";
	this.nb_questions = 5;
	this.spacing = 1;
	this.spacing_corr = 1.5;
	this.nb_cols_corr = 1;
	this.nb_cols = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		for (let i = 0, prix, taux, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt<50;){
			prix = choice([randint(2,9),randint(1,9)*10,randint(1,9)*100,Algebrite.eval(randint(11,99)/10)]);
			// X | X0 | X00 | X,X0
			taux = choice([20,30,40,60]);
			if (choice([true,false])) {
				if (sortie_html) {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix diminue de ${taux} \%.`	
				} else {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix diminue de ${taux}~\\%.`	
				}
				
				texte_corr = `$\\text{Diminution : }${tex_fraction(taux,100)}\\times  ${tex_prix(prix)} = ${tex_prix(Algebrite.eval(prix*taux))}\\div 100=${tex_prix(Algebrite.eval(prix*taux/100))}$ €`
				texte_corr += `<br>`
				texte_corr += `$\\text{Nouveau prix : }${tex_prix(prix)}-${tex_prix(Algebrite.eval(prix*taux/100))}=${tex_prix(Algebrite.eval(prix-prix*taux/100))}$ €`
			} else {
				if (sortie_html) {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix augmente de ${taux} \%.`
				} else {
					texte = `Un article coûtait ${tex_prix(prix)} € et son prix augmente de ${taux}~\\%.`

				}
				texte_corr = `$\\text{Augmentation : }${tex_fraction(taux,100)}\\times  ${tex_prix(prix)}= ${tex_prix(Algebrite.eval(prix*taux))}\\div 100=${tex_prix(Algebrite.eval(prix*taux/100))}$ €`
				texte_corr += `<br>`
				texte_corr += `$\\text{Nouveau prix : }${tex_prix(prix)}+${tex_prix(Algebrite.eval(prix*taux/100))}=${tex_prix(Algebrite.eval(prix*(1+taux/100)))}$ €`
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
}
/**
* Écrire une expression littérale à partir d'une phrase : 
* * Double, triple, moitié, tiers, quart
* * Successeur, prédécesseur
* * Carré, cube, opposé, inverse
* * Somme, produit, quotient
* * Nombre pair, nombre impair, multiple d'un nombre donné
* @Auteur Rémi Angot
* 5L10
*/
function Ecrire_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Écrire une expression littérale";
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = range1(17)
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let lettres_disponibles = ['x','y','z','t','a','b','c','n','m']
			let x = choice(lettres_disponibles)
			enleve_element(lettres_disponibles,x)
			let y = choice(lettres_disponibles)
			let k = randint(2,10)
			switch (liste_type_de_questions[i]){
				case 1 : // 2x
					texte = `Exprimer le double de $${x}$ en fonction de $${x}$.`
					texte_corr = `Le double de $${x}$ se note : $2${x}$.`
					break ;
				case 2 : // 3x
					texte = `Exprimer le triple de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le triple de $${x}$  se note : $3${x}$.`
					break ;
				case 3 : // x/2
					texte = `Exprimer la moitié de $${x}$ en fonction de $${x}$.`
					texte_corr = `La moitié de $${x}$  se note :  $${tex_fraction(x,2)}=${x}\\div 2=0,5${x}$.`
					break ;
				case 4 : // x/4
					texte = `Exprimer le quart de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le quart de $${x}$  se note :  $${tex_fraction(x,4)}=${x}\\div 4=0,25${x}$.`
					break ;
				case 5 : // x+1
					texte = `$${x}$ étant un nombre entier, exprimer l'entier suivant en fonction de $${x}$.`
					texte_corr = `Le successeur de $${x}$ se note :  $${x}+1$.`
					break ;
				case 6 : // x-1
					texte = `$${x}$ étant un nombre entier, exprimer l'entier précédent en fonction de $${x}$.`
					texte_corr = `Le prédecesseur de $${x}$  se note :  $${x}-1$.`
					break ;
				case 6 : // x^2
					texte = `Exprimer le carré de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le carré de $${x}$  se note : $${x}^2$.`
					break ;
				case 7 : // x^3
					texte = `Exprimer le cube de $${x}$  en fonction de $${x}$.`
					texte_corr = `Le cube de $${x}$  se note : $${x}^3$.`
					break ;
				case 8 : // -x
					texte = `Exprimer l'opposé de $${x}$  en fonction de $${x}$.`
					texte_corr = `L'opposé de $${x}$  se note : $-${x}$.`
					break ;
				case 9 : // 1/x
					texte = `Exprimer l'inverse de $${x}$  en fonction de $${x}$.`
					texte_corr = `L'inverse de $${x}$ se note : $${tex_fraction(1,x)}$.`
					break ;
				case 10 : // x+k
					texte = `Exprimer la somme de $${x}$ et ${k} en fonction de $${x}$.`
					texte_corr = `La somme de $${x}$ et ${k} se note : $${x}+${k}$.`
					break ;
				case 11 : // kx
					texte = `Exprimer le produit de $${x}$  par ${k} en fonction de $${x}$.`
					texte_corr = `Le produit de $${x}$ par ${k} se note : $${k}${x}$.`
					break ;
				case 12 : // x/k
					texte = `Exprimer le quotient de $${x}$ par ${k} en fonction de $${x}$.`
					texte_corr = `Le quotient de $${x}$ par ${k} se note : $${tex_fraction(x,k)}$.`
					break ;
				case 13 : // k/x
					texte = `Exprimer le quotient de ${k} par $${x}$ en fonction de $${x}$.`
					texte_corr = `Le quotient de ${k} par $${x}$ se note : $${tex_fraction(k,x)}$.`
					break ;
				case 14 : //xy
					texte = `Comment se note le produit de $${x}$ par $${y}$ ?`
					texte_corr = `Le produit de $${x}$ par $${y}$ se note $${x}${y}$.`
					break ;
				case 15 : //pair
					texte = `Écrire une expression littérale qui permet de représenter un nombre pair.`
					texte_corr = `Un nombre pair peut s'écrire sous la forme $2n$ avec $n$ un entier naturel.`
					break ; 
				case 16 : //impair
					texte = `Écrire une expression littérale qui permet de représenter un nombre impair.`
					texte_corr = `Un nombre impair peut s'écrire sous la forme $2n+1$ avec $n$ un entier naturel.`
					break ;
				case 17 : //multiple de k
					texte = `Écrire une expression littérale qui permet de représenter un multiple de ${k}.`
					texte_corr = `Un multiple de ${k} peut s'écrire sous la forme $${k}n$ avec $n$ un entier naturel.`
					break ; 

			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = ["Uniquement la lettre $n$."]

}

/**
* Traduire un programme de calcul par une expression littérale de la forme ax+b après simplification
* @Auteur Rémi Angot
* 5L10-2
*/
function Traduire_un_programme_de_calcul(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Traduire un programme de calcul par une expression littérale";
	this.consigne = "";
	this.nb_questions = 2;
	this.nb_cols = 2;
	this.nb_cols_corr = 1;
	this.spacing_corr = 1;
	this.spacing = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,2,3,4,5,6]
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a = randint(4,11)
			let b = randint(2,11)
			let c = randint(2,11)
			let d = randint(2,5)
			switch (liste_type_de_questions[i]){
				case 1 : // (x+a)*b+c
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Ajoute ${a}`,`Multiplie par ${b}`,`Ajoute ${c}`])
					texte += `Si on note $x$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$x\\xrightarrow{+${a}} x+${a}\\xrightarrow{\\times  ${b}}(x+${a})\\times  ${b}=${b}x+${a*b}\\xrightarrow{+${c}}${b}x+${a*b+c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${b}x+${a*b+c}$.`
					break ;
				case 2 : // (ax+b)*c
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Multiplie par ${c}`])
					texte += `Si on note $y$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$y\\xrightarrow{\\times  ${a}} ${a}y\\xrightarrow{+${b}}${a}y+${b} \\xrightarrow{\\times  ${c}}(${a}y+${b})\\times ${c}=${a*c}y+${b*c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c}y+${b*c}$.`
					break ;
				case 3 : // ax+b-2x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Enlève le double du nombre de départ`])
					texte += `Si on note $a$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$a\\xrightarrow{\\times  ${a}} ${a}a\\xrightarrow{+${b}}${a}a+${b} \\xrightarrow{-2a}${a}a+${b}-2a=${a-2}a+${b}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a-2}a+${b}$.`
					break ;
				case 4 : // ax+b+3x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Ajoute le triple du nombre de départ`])
					texte += `Si on note $t$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$t\\xrightarrow{\\times  ${a}} ${a}t\\xrightarrow{+${b}}${a}t+${b} \\xrightarrow{+3t}${a}t+${b}+3t=${a+3}t+${b}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a+3}t+${b}$.`
					break ;
				case 5 : // (ax+b)*c-d
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`,`Multiplie par ${c}`,`Enlève ${d}`])
					texte += `Si on note $x$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$x\\xrightarrow{\\times  ${a}} ${a}x\\xrightarrow{+${b}}${a}x+${b} \\xrightarrow{\\times  ${c}}(${a}x+${b})\\times  ${c}=${a*c}x+${b*c}\\xrightarrow{-${d}}${a*c}x+${b*c-d}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c}x+${b*c-d}$.`
					break ;
				case 6 : // (ax+b)*c+x
					texte = `Voici un programme de calcul : \n`
					texte += itemize([`Multiplie par ${a}`,`Ajoute ${b}`, `Multiplie par ${c}`,`Ajoute le nombre de départ`])
					texte += `Si on note $y$ le nombre de départ, quel est le résultat du programme de calcul ?`
					texte_corr = `$y\\xrightarrow{\\times  ${a}} ${a}y\\xrightarrow{+${b}}${a}y+${b} \\xrightarrow{\\times  ${c}}(${a}y+${b})\\times  ${c}=${a*c}y+${b*c}\\rightarrow ${a*c}y+${b*c}+y=${a*c+1}y+${b*c}$`
					texte_corr += '<br>'
					texte_corr += `Le résultat du programme est donc $${a*c+1}y+${b*c}$.`
					break ;
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				if (est_diaporama) {
					texte = texte.replace(', quel est le résultat du programme de calcul ?',',<br> quel est le résultat de ce programme ?')
				}
				if (!sortie_html && i==0) {texte = `\\setlength\\itemsep{1em}` + texte}; // espacement entre les questions
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = true;
}


/**
* Calculer la valeur d'une expression littérale
* 
* * ax+b
* * a(x+b)
* * x^2+y^2
* * x^2-y^2
* * ax^2+b(x-1)+cy^3
* * ax^2+bx+c
* * ax^2+bx-c
* * ax^2-bx+c
* * axy+x+y
* * (ax+b)(cy-d)
* @Auteur Rémi Angot
* 5L13
*/
function Calculer_la_valeur_d_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer la valeur d'une expression littérale";
	this.consigne = "";
	this.nb_questions = 5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		//let type_de_questions_disponibles = range1(10)
		let type_de_questions_disponibles;
		
		if (this.version=="5L13-5") {
			type_de_questions_disponibles = range1(2)
		} else {
			type_de_questions_disponibles = range1(10)			
		};

		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, c, d, x, y
			switch (liste_type_de_questions[i]){
				case 1 : // ax+b
					a = randint(2,10)
					x = randint(2,10,a)
					b = randint(1,10,[a,x])
					texte = `Calculer $${a}x+${b}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x+${b}=${a}\\times ${x}+${b}=${a*x}+${b}=${a*x+b}$`
					break ;
				case 2 : // a(x+b)
					a = randint(2,10)
					x = randint(2,10,a)
					b = randint(1,10,[a,x])
					texte = `Calculer $${a}(x+${b})$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}(x+${b})=${a}\\times (${x}+${b})=${a}\\times ${x+b}=${a*(x+b)}$`
					break ;
				case 3 : // x^2+y^2
					x = randint(2,10)
					y = randint(2,10)
					texte = `Calculer $x^2+y^2$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$x^2+y^2=${x}^2+${y}^2=${x**2}+${y**2}=${x**2+y**2}$`
					break ;
				case 4 : // x^2-y^2
					x = randint(2,10)
					y = randint(1,x-1)
					texte = `Calculer $x^2-y^2$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$x^2-y^2=${x}^2-${y}^2=${x**2}-${y**2}=${x**2-y**2}$`
					break ;
				case 5 : // ax^2+b(x-1)+cy^3
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					y = choice([1,2,3,5,10])
					texte = `Calculer $${a}x^2+${b}(x-1)+${c}y^3$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$${a}x^2+${b}(x-1)+${c}y^3=${a}\\times ${x}^2+${b}(${x}-1)+${c}\\times ${y}^3=${a}\\times ${x**2}+${b}\\times ${x-1}+${c}\\times ${y**3}=${a*x**2+b*(x-1)+c*y**3}$.`
					break ;
				case 6 : // ax^2+bx+c
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2+${b}x+${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2+${b}x+${c}=${a}\\times ${x}^2+${b}\\times ${x}+${c}=${a}\\times ${x**2}+${b*x}+${c}=${a*x**2+b*x+c}$`
					break ;
				case 7 : // ax^2+bx-c
					a = randint(2,5)
					b = randint(2,6)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2+${b}x-${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2+${b}x-${c}=${a}\\times ${x}^2+${b}\\times ${x}-${c}=${a}\\times ${x**2}+${b*x}-${c}=${a*x**2+b*x-c}$`
					break ;
				case 8 : // ax^2-bx+c
					a = randint(2,5)
					b = randint(2,a)
					c = randint(2,6)
					x = randint(3,6)
					texte = `Calculer $${a}x^2-${b}x+${c}$ pour $x=${x}$.`
					texte_corr = `Pour $x=${x}$ : <br>`
					texte_corr += `$${a}x^2-${b}x+${c}=${a}\\times ${x}^2-${b}\\times ${x}+${c}=${a}\\times ${x**2}-${b*x}+${c}=${a*x**2-b*x+c}$`
					break ;
				
				case 9 : // axy+x+y
					a = randint(2,10)
					x = randint(2,10)
					y = randint(2,10,x)
					texte = `Calculer $${a}xy+x+y$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$${a}xy+x+y=${a}\\times ${x}\\times ${y}+${x}+${y}=${a*x*y}+${x}+${y}=${a*x*y+x+y}$`
					break ;
				case 10 : // (ax+b)(cy-d)
					a = randint(2,10)
					x = randint(2,10)
					b = randint(1,10)
					y = randint(2,10,x)
					c = randint(2,10)
					d = randint(1,Math.min(10,c*y))
					texte = `Calculer $(${a}x+${b})(${c}y-${d})$ pour $x=${x}$ et $y=${y}$.`
					texte_corr = `Pour $x=${x}$ et $y=${y}$ : <br>`
					texte_corr += `$(${a}x+${b})(${c}y-${d})=(${a}\\times ${x}+${b})(${c}\\times ${y}-${d})=${a*x+b}\\times ${c*y-d}=${(a*x+b)*(c*y-d)}$`
					break ;
				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_case_a_cocher = true;
}


/**
* Tester une égalité pour 2 valeurs données (une vraie et une fausse)
*
* * 3x-a=2x+b
* * 3x+a=5x-b
* * ax+b=(a+1)x-c
* * a-2x=b+2x
* @Auteur Rémi Angot
* 5L14
*/
function Tester_une_egalite(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Tester une égalité";
	this.consigne = "";
	this.nb_questions = 3;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup=1;
	this.sup2=false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles // = range1(5)
	//	let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		if (this.sup2==false) type_de_questions_disponibles=[1,2,3,4,5]
		else type_de_questions_disponibles=[6,7,3]
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, x1, x2
			switch (liste_type_de_questions[i]){
				case 1 : // 3x-a=2x+b   x=a+b  
					if (this.sup==1) {
					a = randint(1,6)
					b = randint(1,6,[a])
					x2 = a + b
					x1 = randint(2,10,[x2])
	
					}
					else {
						a = randint(-6,6,[0])
						b = randint(-6,6,[a,0])	
						x2 = a + b
						x1 = randint(-10,10,[0,x2])
						
					}

					texte = `Tester l'égalité $3x-${ecriture_parenthese_si_negatif(a)}=2x+${ecriture_parenthese_si_negatif(b)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$3x-${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a)}=${3*x1-a}$ <br> $2x+${ecriture_parenthese_si_negatif(b)}=2\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)}=${2*x1+b}$<br>`
					texte_corr += `$${3*x1-a}\\not=${2*x1+b}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${ecriture_parenthese_si_negatif(x2)}$ : <br>`
					texte_corr += `$3x-${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a)}=${3*x2-a}$ <br> $2x+${ecriture_parenthese_si_negatif(b)}=2\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)}=${2*x2+b}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.`
					break ;
				case 2 : // 3x+a=5x-b   x=(a+b)/2 donc a et b impairs pour une solution entière  
					if (this.sup==1) {
					a = randint(1,9)
					b = randint(0,4)*2+a%2;
					x1 = parseInt(Algebrite.eval((a+b)/2))
					x2 = randint(1,9,x1)
					}
					else {
						a = randint(-9,9,[0])
						b = randint(-4,4,[a,0])*2+a%2
						x1 = parseInt(Algebrite.eval((a+b)/2))
						x2 = randint(-9,9,[0,x1])	
					}

					texte = `Tester l'égalité $3x+${ecriture_parenthese_si_negatif(a)}=5x-${ecriture_parenthese_si_negatif(b)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$3x+${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(a)}=${3*x1+a}$ <br> $5x-${ecriture_parenthese_si_negatif(b)}=5\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(b)}=${5*x1-b}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$3x+${ecriture_parenthese_si_negatif(a)}=3\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(a)}=${3*x2+a}$ <br> $5x-${ecriture_parenthese_si_negatif(b)}=5\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(b)}=${5*x2-b}$<br>`
					texte_corr += `$${3*x2+a}\\not=${5*x2-b}$ donc l'égalité n'est pas vraie.`
					break ;
				case 3 : // 10(x-a)=4(2x+b) x=(10a+4b)/2
					if (this.sup==1) {
					a = randint(1,3)
					b = randint(1,3)
					x2 = parseInt(Algebrite.eval((10*a+4*b)/2))
					x1 = randint(1,9,x2)
					}
					else {
						a = randint(-3,3,[0])
						b = randint(-3,3,[0])	
						x2 = parseInt(Algebrite.eval((10*a+4*b)/2))
						x1 = randint(-9,9,[0,x2])
					}

					texte = `Tester l'égalité $10(x-${ecriture_parenthese_si_negatif(a)})=4(2x+${ecriture_parenthese_si_negatif(b)})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$10(x-${ecriture_parenthese_si_negatif(a)})=10\\times (${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x1-a}=${10*(x1-a)}$ <br> $4(2x+${ecriture_parenthese_si_negatif(b)})=4\\times (2\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2*x1+b}=${4*(2*x1+b)}$<br>`
					texte_corr += `$${10*(x1-a)}\\not=${4*(2*x1+b)}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$10(x-${ecriture_parenthese_si_negatif(a)})=10\\times (${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x2-a}=${10*(x2-a)}$ <br> $4(2x+${ecriture_parenthese_si_negatif(b)})=4\\times (2\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2*x2+b}=${4*(2*x2+b)}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.`
					break ;
				case 4 : // ax+b=(a+1)x-c x=b+c
					if (this.sup==1) {
					a = randint(2,9)
					b = randint(2,9)
					c = randint(1,3)
					x1 = b + c
					x2 = randint(2,10,x1)
					}
					else {
						a = randint(2,9)
						b = randint(2,9)*randint(-1,1,0)
						c = randint(1,3)*randint(-1,1,0)
						x1 = b + c
						x2 = randint(2,10,x1)*randint(-1,1,0)
					}

					texte = `Tester l'égalité $${ecriture_parenthese_si_negatif(a)}x+${ecriture_parenthese_si_negatif(b)}=${a+1}x-${ecriture_parenthese_si_negatif(c)}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(b)}=${ecriture_parenthese_si_negatif(a)}\\times ${ecriture_parenthese_si_negatif(x1)}+${ecriture_parenthese_si_negatif(b)}=${a*x1+b}$ <br> $${a+1}x-${ecriture_parenthese_si_negatif(c)}=${a+1}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(c)}=${(a+1)*x1-c}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(b)}=${ecriture_parenthese_si_negatif(a)}\\times ${ecriture_parenthese_si_negatif(x2)}+${ecriture_parenthese_si_negatif(b)}=${a*x2+b}$ <br> $${a+1}x-${ecriture_parenthese_si_negatif(c)}=${a+1}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(c)}=${(a+1)*x2-c}$<br>`
					texte_corr += `$${a*x2+b}\\not=${(a+1)*x2-c}$ donc l'égalité n'est pas vraie.`
					break ;
				case 5 : // a-2x=b+2x x=(a-b)/4
					if (this.sup==1) {
					x1 = randint(1,9)
					b = randint(1,9)
					a = b+4*x1
					x2 = randint(1,11,x1)
					}
					else {
						x1 = randint(-9,9)
						b = randint(-9,9,0)
						a = b+4*x1
						x2 = randint(1,11,x1)
					}

					texte = `Tester l'égalité $${a}-2x=${b}+2x~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(x1)}=${a-2*x1}$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(x1)}=${b+2*x1}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(x2)}=${a-2*x2}$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(x2)}=${b+2*x2}$<br>`
					texte_corr += `$${a-2*x2}\\not=${b+2*x2}$ donc l'égalité n'est pas vraie.`
					break ;
				case 6 : // ax-ab=x²-bx (a-x)(x-b)=0 solutions a et b.
					if (this.sup==1) {
					b = randint(2,9)
					a = randint(2,9)
					x3 = b
					x1 = a
					x2 = randint(1,9,[x1,x3])
					}
					else {
						a = randint(-9,9,[0,1])
						b = randint(-9,9,[0,a])
						x1 = a
						x3 = b
						x2 = randint(-9,9,[x1,x3])
					}
					texte = `Tester l'égalité $${a}x-${ecriture_parenthese_si_negatif(a*b)}=x^2-${ecriture_parenthese_si_negatif(b)}x~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x1-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x1)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x1)}=${x1*x1}-${ecriture_parenthese_si_negatif(b*x1)}=${x1*x1-b*x1}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x2-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x2)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x2)}=${x2*x2}-${ecriture_parenthese_si_negatif(b*x2)}=${x2*x2-b*x2}$<br>`
					texte_corr += `$${a*x2-a*b}\\not=${x2*x2-b*x2}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x3}$ : <br>`
					texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(a*b)}=${a}\\times ${ecriture_parenthese_si_negatif(x3)}-${ecriture_parenthese_si_negatif(a*b)}=${a*x3-a*b}$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(x3)}^2-${ecriture_parenthese_si_negatif(b)}\\times ${ecriture_parenthese_si_negatif(x3)}=${x3*x3}-${ecriture_parenthese_si_negatif(b*x3)}=${x3*x3-b*x3}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					break ;
				case 7 : // adx-bd=acx²-bcx  --- (ax-b)(d-cx)=0 solutions b/a et d/c.
					if (this.sup==1) {
						c = randint(2,5)
						a = randint(2,5)
						x2 = randint(2,6)
						x3 = randint(2,6,x2)
						x1 = randint(1,7,[x2,x3])
						b = a*x2
						d = c*x3
					}
					else {
						c = randint(2,5)*randint(-1,1,0)
						a = randint(2,5)*randint(-1,1,0)
						x2 = randint(1,6)*randint(-1,1,0)
						x3 = randint(1,6,x2)*randint(-1,1,0)
						x1 = randint(1,7,[x2,x3])*randint(-1,1,0)
						b = a*x2
						d = c*x3
					}
					texte = `Tester l'égalité $${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x~$ pour $~x=${x1}~$, pour $~x=${x2}~$ puis pour $~x=${x3}$`
					texte_corr = `Pour $x=${x1}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x1)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x1-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x1)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x1)}=${a*c*x1*x1}-${ecriture_parenthese_si_negatif(b*c*x1)}=${a*c*x1*x1-b*c*x1}$<br>`
					texte_corr += `$${a*d*x1-d*b}\\not=${a*c*x1*x1-b*c*x1}$ donc l'égalité n'est pas vraie.<br><br>`
					texte_corr += `Pour $x=${x2}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x2)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x2-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x2)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x2)}=${a*c*x2*x2}-${ecriture_parenthese_si_negatif(b*c*x2)}=${a*c*x2*x2-b*c*x2}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					texte_corr += `Pour $x=${x3}$ : <br>`
					texte_corr += `$${a*d}x-${ecriture_parenthese_si_negatif(b*d)}=${a*d}\\times ${ecriture_parenthese_si_negatif(x3)}-${ecriture_parenthese_si_negatif(b*d)}=${a*d*x3-d*b}$ <br> $${a*c}x^2-${ecriture_parenthese_si_negatif(b*c)}x=${a*c}\\times ${ecriture_parenthese_si_negatif(x3)}^2-${ecriture_parenthese_si_negatif(b*c)}\\times ${ecriture_parenthese_si_negatif(x3)}=${a*c*x3*x3}-${ecriture_parenthese_si_negatif(b*c*x3)}=${a*c*x3*x3-b*c*x3}$<br>`
					texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br><br>`
					break ;
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
* Réduire une expression
*
* * ax+bx+c	
* * ax+b+x+c
* * ax^2+bx+c+dx^2+x
* * a+x+b+c+dx
* * ax+y+bx+c+dy
* * ax+b-cx
* @Auteur Rémi Angot
* 5L12
*/
function Reduire_une_expression_litterale(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Réduire une expression littérale";
	this.consigne = "Réduire les expressions suivantes";
	this.nb_questions = 5;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup = 9; // valeur maximale des coefficients
	this.sup2 = false; // avec des nombres décimaux

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées

		let type_de_questions_disponibles = range1(7)
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let a, b, c, d
			if (this.sup2) {
						a = calcul(randint(2,this.sup)+randint(1,9)/10)
						b = choice([calcul(randint(2,9)+randint(1,9)/10),calcul(randint(2,9)+randint(1,9)/10+randint(1,9)/100)])
						c = calcul(randint(2,this.sup)+randint(1,9)/10)
						d = choice([calcul(randint(2,9)+randint(1,9)/10),calcul(randint(2,9)+randint(1,9)/10+randint(1,9)/100)])
					} else {
						a = randint(2,this.sup)
						b = randint(2,this.sup)
						c = randint(2,this.sup)
						d = randint(2,this.sup)
					}
			switch (liste_type_de_questions[i]){
				case 1: // ax+bx+c	
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}x+${tex_nombre(c)}$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}x+${tex_nombre(c)}=${tex_nombre(calcul(a+b))}x+${tex_nombre(c)}$`
					break;
				case 2: // ax+b+x+c
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}+x+${tex_nombre(c)}$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}+x+${tex_nombre(c)}=${tex_nombre(calcul(a+1))}x+${tex_nombre(calcul(b+c))}$`
					break;
				case 3: // ax^2+bx+c+dx^2+x
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x^2+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}x^2+x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x^2+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}x^2+x=${tex_nombre(calcul(a+d))}x^2+${tex_nombre(calcul(b+1))}x+${tex_nombre(c)}$`
					break;
				case 4: // a+x+b+c+dx
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}+x+${tex_nombre(b)}+${tex_nombre(c)}+${tex_nombre(d)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}+x+${tex_nombre(b)}+${tex_nombre(c)}+${tex_nombre(d)}x=${tex_nombrec(1+d)}x+${tex_nombrec(a+b+c)}$`
					break;
				case 5: // ax+y+bx+c+dy
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+y+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}y$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+y+${tex_nombre(b)}x+${tex_nombre(c)}+${tex_nombre(d)}y=${tex_nombrec(a+b)}x+${tex_nombrec(1+d)}y+${tex_nombre(c)}$`
					break;
				case 6: // ax+b-cx
					if (c > a) {
						[a, c] = [c, a] //pour s'assurer que a-c est positif
					}
					if (c==a){
						a++
					}
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}-${tex_nombre(c)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x+${tex_nombre(b)}-${tex_nombre(c)}x=${tex_nombrec(a-c)}x+${tex_nombre(b)}$`
					break;
				case 7: // ax-cx
					if (c > a) {
						[a, c] = [c, a] //pour s'assurer que a-c est positif
					}
					if (c==a){
						a++
					}
					texte = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x-${tex_nombre(c)}x$`
					texte_corr = `$${lettre_depuis_chiffre(i+1)}=${tex_nombre(a)}x-${tex_nombre(c)}x=${rien_si_1(tex_nombrec(a-c))}x$`
					break;

				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Valeur maximale des coefficients',999];
	this.besoin_formulaire2_case_a_cocher = ['Avec des nombres décimaux']
}

/**
* Lire l'abscisse décimale d'un point
* @Auteur Jean-Claude Lhote et Rémi Angot
* Référence 5R11
*/
function Lire_abscisse_relative(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Lire l'abscisse relative d'un point";
	this.consigne = "Lire l'abscisse de chacun des points suivants.";
	this.nb_questions = 3;
	this.nb_questions_modifiable = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=4;
	this.liste_packages = 'tkz-euclide'

	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
		let type_de_questions;
		this.liste_questions=[];
		this.liste_corrections=[];
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées
		if (this.sup==4) 	type_de_questions=combinaison_listes([1,2,3],this.nb_questions);
		else 				type_de_questions=combinaison_listes([parseInt(this.sup)],this.nb_questions);
		

		this.contenu = html_consigne(this.consigne)
		for (let i = 0,abs0,l1,l2,l3,x1,x2,x3,x11,x22,x33, pas1,pas2, id_unique, texte, texte_corr; i < this.nb_questions;i++) {
			l1=lettre_depuis_chiffre(i*3+1)
			l2=lettre_depuis_chiffre(i*3+2)
			l3=lettre_depuis_chiffre(i*3+3)
			switch (type_de_questions[i]) {
				case 1: // Placer des décimaux relatifs sur un axe (1 décimale)
					abs0 = randint(-6, -3);
					pas1 = 1;
					pas2 = 10;
					break;

				case 2: // Placer des décimaux relatifs sur un axe (2 décimales)
					abs0 = randint(-4, -2) / 10;
					pas1 = 10;
					pas2 = 10;
					break;

				case 3: // Placer des décimaux relatifs sur un axe (3 décimales)
					abs0 = randint(-6, -2) / 100;
					pas1 = 100;
					pas2 = 10;
					break;
			}
			x1 = randint(0, 2); x2 = randint(3, 4); x3 = randint(5, 6);
			x11 = randint(1, 9); x22 = randint(1, 9); x33 = randint(1, 3)
			if (sortie_html) {
				id_unique = `${i}_${Date.now()}`
				this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11], [l2, x2, x22], [l3, x3, x33]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
				this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg_corr${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11, true], [l2, x2, x22, true], [l3, x3, x33, true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
			}
			else { //sortie Latex 
				texte=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11], [l2, x2, x22], [l3, x3, x33]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				texte_corr=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11,true], [l2, x2, x22,true], [l3, x3, x33,true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				this.liste_questions.push(texte)
				this.liste_corrections.push(texte_corr);
			}
		
		}
		if (!sortie_html) liste_de_question_to_contenu(this); 
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : Nombre relatif à une décimale\n2 : Nombre relatif à deux décimales\n3 : Nombre relatif à trois décimales\n4 : Mélange"];
}

/**
* Placer un point d'abscisse un nombre relatif
* @Auteur Jean-Claude Lhote et Rémi Angot
* Référence 5R11-2
*/
function Placer_points_sur_axe_relatifs(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Placer un point d'abscisse un nombre relatif";
	this.consigne = " Placer trois points sur un axe gradué.";
	this.nb_questions = 5;
	this.nb_questions_modifiable = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=1;
	this.type_exercice = 'SVGJS';
	
	this.liste_packages = 'tkz-euclide'


	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
		let type_de_questions;
		this.liste_questions=[];
		this.liste_corrections=[];
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées
		if (this.sup==4) 	type_de_questions=combinaison_listes([1,2,3],this.nb_questions);
		else 				type_de_questions=combinaison_listes([parseInt(this.sup)],this.nb_questions);
		

		this.contenu = html_consigne(this.consigne)
		for (let i = 0,abs0,abs1,abs2,abs3,l1,l2,l3,x1,x2,x3,x11,x22,x33, pas1,pas2, id_unique, texte, texte_corr; i < this.nb_questions;i++) {
			l1=lettre_depuis_chiffre(i*3+1)
			l2=lettre_depuis_chiffre(i*3+2)
			l3=lettre_depuis_chiffre(i*3+3)

			switch (type_de_questions[i]) {
				case 1: // Placer des décimaux relatifs sur un axe (1 décimale)
					abs0 = randint(-7, -3);
					pas1 = 1;
					pas2 = 10;
					break;

				case 2: // Placer des décimaux relatifs sur un axe (2 décimales)
					abs0 = randint(-4, -2) / 10;
					pas1 = 10;
					pas2 = 10;
					break;

				case 3: // Placer des décimaux relatifs sur un axe (3 décimales)
					abs0 = randint(-10, -2) / 100;
					pas1 = 100;
					pas2 = 10;
					break;
			}
			x1 = randint(0, 2); x2 = randint(3, 4); x3 = randint(5, 6);
			x11 = randint(1, 9); x22 = randint(1, 9); x33 = randint(1, 3);
			abs1 = arrondi(abs0 + x1/pas1 + x11 / pas1/pas2, type_de_questions[i]);  // le type de questions est égal au nombre de décimales.
			abs2 = arrondi(abs0 + x2/pas1 + x22 / pas1/pas2, type_de_questions[i]);
			abs3 = arrondi(abs0 + x3/pas1 + x33 / pas1/pas2, type_de_questions[i]);

			texte=`Placer les points : {\\small $${l1}$(${tex_nombrec(abs1)}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})}<br>`
			if (sortie_html) {
				texte_corr=''
				id_unique = `${i}_${Date.now()}`
				this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 110px;  "></div>`
				this.contenu +=`Placer les points : ${l1}(${tex_nombrec(abs1)}), ${l2}(${tex_nombrec(abs2)}), ${l3}(${tex_nombrec(abs3)})`
				SVG_reperage_sur_un_axe(`div_svg${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
				this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`
				SVG_reperage_sur_un_axe(`div_svg_corr${numero_de_l_exercice}${id_unique}`, abs0, 6, pas1, pas2, [[l1, x1, x11, true], [l2, x2, x22, true], [l3, x3, x33, true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false)
			}
			else { //sortie Latex 
				texte+=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				texte_corr=`Les points {\\small $${l1}$(${tex_nombrec(abs1)}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})} sont placés ci dessous<br>`;
				texte_corr+=Latex_reperage_sur_un_axe(2, abs0, pas1, pas2, [[l1, x1, x11,true], [l2, x2, x22,true], [l3, x3, x33,true]], [[calcul(abs0 + 1 / pas1,0), 1, 0], [calcul(abs0 + 2 / pas1,0), 2, 0], [calcul(abs0 + 3 / pas1,0), 3, 0], [calcul(abs0 + 4 / pas1,0), 4, 0], [calcul(abs0 + 5 / pas1,0), 5, 0], [calcul(abs0 + 6 / pas1,0), 6, 0]],false);
				this.liste_questions.push(texte)
				this.liste_corrections.push(texte_corr);
			}

		}
		if (!sortie_html) liste_de_question_to_contenu(this); 

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : Nombre relatif à une décimale\n2 : Nombre relatif à deux décimales\n3 : Nombre relatif à trois décimales\n4 : Mélange"];
}

/**
 * Lire les coordonnées d'un point du plan avec une précision allant de l'unité à 0,25.
 * @Auteur Jean-Claude Lhote
 * Références 5R12-2 6N33
 */
function Reperage_point_du_plan(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Déterminer les coordonnées (relatives) d'un point";
	this.consigne = "Donner les coordonnées des points représentés";
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.spacing = 1;
    this.spacing_corr = 1;
	this.sup=1;
	this.sup2=true;
	this.quart_de_plan=false;
	this.liste_packages = 'tkz-euclide';

	
	this.nouvelle_version = function(numero_de_l_exercice){ // numero_de_l_exercice est 0 pour l'exercice 1
	this.liste_questions=[];
	this.liste_corrections=[];
	let texte,texte_corr;
	this.contenu = ''; // Liste de questions
	this.contenu_correction = ''; // Liste de questions corrigées
	let liste_points=[],points=[];
	let grille,w,h,k,xmin,xmax,ymin,ymax,shiftxnom,shiftynom;
	h=Math.round(window.innerHeight*0.7)
	w=h;
	k=Math.pow(2,parseInt(this.sup)-1);
	let nom=[];
	grille=this.sup2;
	if (this.quart_de_plan) {
		xmin=0;ymin=0;xmax=10;ymax=10;
	}
	else	{
		xmin=-5;ymin=-5;xmax=5;ymax=5;	
	}
	let liste_abs=[],liste_ord=[];
	for (let i=calcul(xmin+1/k);i<calcul(xmax-(parseInt(this.sup)-1)/k);i=calcul(i+1/k)) {
		liste_abs.push(i)
	}
	for (let i=calcul(ymin+1/k);i<calcul(ymax-(parseInt(this.sup)-1)/k);i=calcul(i+1/k)) {
		liste_ord.push(i)
	}
	let X0=false,Y0=false;
	liste_points=creer_couples(liste_abs,liste_ord,10*k);
	for (let j=0;j<5;j++) {
		points.push(liste_points[j]);
		if (points[j][0]==0) X0=true;
		if (points[j][1]==0) Y0=true;
	}
	if (!X0) points[0][0]=0;
	if (!Y0) points[1][1]=0;
	points=shuffle(points);

	for (let l=0,lettre=randint(1,20);l<5;l++) nom.push(lettre_depuis_chiffre(l+lettre));
	if (sortie_html) {
		let id_unique = `${Date.now()}`
		let id_du_div = `div_svg${numero_de_l_exercice}${id_unique}`;
		this.consigne = `<div id="${id_du_div}" style="height: ${h}px"></div>`;
		if (!window.SVGExist) {window.SVGExist = {}} // Si SVGExist n'existe pas on le créé
		// SVGExist est un dictionnaire dans lequel on stocke les listenner sur la création des div
		window.SVGExist[id_du_div] = setInterval(function() {
			if ($(`#${id_du_div}`).length ) {
				$(`#${id_du_div}`).html("");//Vide le div pour éviter les SVG en doublon
				const mon_svg = SVG().addTo(`#${id_du_div}`).viewbox(0, 0, 520, 520).size('100%','100%')
			let AxesXY=SVG_repere(mon_svg,xmin,xmax,ymin,ymax,k,k,500,500,grille);
			for (let i=0;i<5;i++)	{
				if (points[i][0]==0||points[i][0]==0.25) shiftxnom=20;
				else shiftxnom=0;
				shiftynom=0;
				if (points[i][1]==-0.5) shiftynom=10;	
				if (points[i][1]==-0.25) shiftynom=20;
				SVG_tracer_point(mon_svg,calcul(20+(points[i][0]-xmin)*480/(xmax-xmin)),calcul(480-(points[i][1]-ymin)*480/(ymax-ymin)),nom[i],'blue',-10+shiftxnom,10+shiftynom,[true,AxesXY[0],AxesXY[1]])
			}
			clearInterval(SVGExist[id_du_div]);//Arrête le timer
			}

		}, 100); // Vérifie toutes les 100ms



	}
	else { //sortie Latex 
		texte =`\\begin{tikzpicture}`;
		texte += Latex_repere(xmin,xmax,ymin,ymax,k,k,grille);
		for (let i=0;i<5;i++)	{
		texte += `\n\t \\tkzDefPoint(${points[i][0]},${points[i][1]}){A}`
		texte +=`\n\t \\tkzDrawPoint[shape=cross out,color=blue,size=6](A)`
		texte +=`\n\t \\tkzLabelPoint[above right=3pt,fill=white,fill opacity=0.7,text opacity=1,inner sep=0](A){$${nom[i]}$}`
		}
		texte +=`\n\t \\end{tikzpicture}`;
		this.liste_questions.push(texte);
		
		texte_corr =`\\begin{tikzpicture}`;
		texte_corr += Latex_repere(xmin,xmax,ymin,ymax,k,k,grille);
		for (let i=0;i<5;i++)	{
		texte_corr += `\n\t \\tkzDefPoint(${points[i][0]},${points[i][1]}){A}`
		texte_corr +=`\n\t \\tkzDrawPoint[shape=cross out,color=blue,size=6](A)`
		texte_corr +=`\n\t \\tkzLabelPoint[above right=3pt,fill=white,fill opacity=0.7,text opacity=1,inner sep=0](A){$${nom[i]}$}`
		texte_corr +=`\n\t \\tkzPointShowCoord(A)`
		}
		texte_corr +=`\n\t \\end{tikzpicture}`;
		this.liste_corrections.push(texte_corr);
	}

	texte=`Déterminer les coordonnées des points`;
	texte_corr=`Les coordonnées des points sont :<br>`
	for (i=0;i<4;i++) {
	texte+=` $${nom[i]}$,`;
	texte_corr+=` $${nom[i]}(${tex_nombre(points[i][0])};${tex_nombre(points[i][1])})$, `;
	}
	texte+=` $${nom[i]}$.`
	texte_corr+=` $${nom[i]}(${tex_nombre(points[i][0])};${tex_nombre(points[i][1])})$.`;	
	this.liste_questions.push(texte)
	this.liste_corrections.push(texte_corr);
	liste_de_question_to_contenu_sans_numero(this); 
	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Coordonnées entières\n2 : Coordonnées 'en demis'\n3 : Coordonnées 'en quarts'"];
	this.besoin_formulaire2_case_a_cocher = ['Grille de lecture'];
}
/**
 * Calculs de probabilités sur une expérience aléatoire à une épreuve.
 * @Auteur Jean-Claude Lhote
 * Référence 5S21
 */
function fonctions_probabilite1(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Calculer des probabilités dans une expérience aléatoire à une épreuve";
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	sortie_html? this.spacing = 2 : this.spacing = 1; 
	sortie_html? this.spacing_corr = 3 : this.spacing_corr = 1;
	this.sup=1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let liste_index_disponibles=[0,1,2,3,4,5,6];
		let liste_index=combinaison_listes(liste_index_disponibles,this.nb_questions)
		let liste_de_lieux_choses=[['le frigo','yaourts'],['le frigo','desserts lactés'],['une urne','boules'],['une urne','jetons'],['un paquet de bonbons','nounours'],['un tiroir de la commode','t-shirts'],['un tas de jetons de poker','jetons']]
		let qualites=[[]]
		qualites[0]=['à la fraise','à la vanille','à l\'abricot','à l\'ananas','à la cerise'];
		qualites[1]=['au chocolat','à la vanille','au café','à la pistache','au caramel'];
		qualites[2]=['rouges','vertes','bleues','noires','blanches'];
		qualites[3]=['gris','cyans','roses','jaunes','violets'];
		qualites[4]=['rouges','verts','bleus','noirs','jaunes'];
		qualites[5]=['rouges','verts','bleus','noirs','blancs'];
		qualites[6]=['rouges','verts','bleus','noirs','jaunes'];
		for (let i = 0,p,m,q,somme,quidam,index1,lieu,objet,article,pronom,n=[], texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) {
			index1=liste_index[i];
			if (index1==2) {article=`une`;pronom=`elles`}
			else {article=`un`;pronom=`eux`;}
			quidam=prenom();
			lieu=liste_de_lieux_choses[index1][0];
			objet=liste_de_lieux_choses[index1][1];
			n[0]=randint(2,5);
			n[1]=randint(1,6)+1;
			n[2]=randint(1,3)*2;
			n[3]=randint(1,4)+2;
			n[4]=randint(2,5);

			somme=n[0]+n[1]+n[2]+n[3]+n[4];
			m=randint(0,4);
			p=randint(0,4,[m]);
			q=randint(0,4,[p,m]);
	
			texte = `Dans ${lieu} il y a ${somme} ${objet}. ${n[0]} sont ${qualites[index1][0]}, ${n[1]} sont ${qualites[index1][1]}, ${n[2]} sont ${qualites[index1][2]}, ${n[3]} sont ${qualites[index1][3]} et ${n[4]} sont ${qualites[index1][4]}.<br> `;
			texte+= `${quidam} choisit au hasard l'${article} d'entre ${pronom}.<br> `;
			texte +=num_alpha(0)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ?<br>`;
			texte +=num_alpha(1)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][p]} ?<br>`;			
			texte +=num_alpha(2)+` Quelle est la probabilité que son choix ne tombe pas sur l'${article} des ${objet} ${qualites[index1][q]} ?<br>`;
			texte +=num_alpha(3)+` Quelle est la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ou ${qualites[index1][p]}?<br>`;
			texte_corr =`On est dans une situation d’équiprobabilité donc la probabilité est donnée par le quotient du nombre de cas favorables par le nombre de cas au total.<br>`
			texte_corr += num_alpha(0)+` Il y a ${n[m]} ${objet} ${qualites[index1][m]} et il y a ${somme} ${objet} possibles. La probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} est :<br> $${tex_fraction(n[m],somme)}${simplification_de_fraction_avec_etapes(n[m],somme)}$.<br>`;
			texte_corr +=num_alpha(1)+` Il y a ${n[p]} ${objet} ${qualites[index1][p]} et il y a ${somme} ${objet} possibles. La probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][p]} est :<br> $${tex_fraction(n[p],somme)}${simplification_de_fraction_avec_etapes(n[p],somme)}$.<br>`;
			texte_corr +=num_alpha(2)+` Il y a ${n[q]} ${objet} ${qualites[index1][q]}, donc il y a ${somme} $-$ ${n[q]} $=$ ${somme-n[q]} autres ${objet} et il y a ${somme} ${objet} possibles. La probabilité que son choix ne tombe pas sur l'${article} des ${objet} ${qualites[index1][q]} est :<br> $${tex_fraction(somme-n[q],somme)}${simplification_de_fraction_avec_etapes(somme-n[q],somme)}$.<br>`;
			texte_corr +=num_alpha(3)+` La probabilité d'un événement est la somme des probabilités des issues qui le composent. Donc la probabilité que son choix tombe sur l'${article} des ${objet} ${qualites[index1][m]} ou ${qualites[index1][p]} est :<br> $${tex_fraction(n[m],somme)}+${tex_fraction(n[p],somme)}=${tex_fraction(n[p]+n[m],somme)}${simplification_de_fraction_avec_etapes(n[p]+n[m],somme)}$.<br>`;
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
	}	
};

/**
* Deux parallélogrammes sont tracés, on connait les 2 côté et une hauteur.
*
* Il faut calculer leurs aires.
*
* Pas de version LaTeX
* @Auteur Rémi Angot
* 5M10
*/
function Aire_du_parallelogramme(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.pas_de_version_LaTeX = true ;
	this.titre = "Aire du parallélogramme"
	this.consigne = "Calculer l'aire des 3 parallélogrammes suivants (les longueurs sont données en cm)."
	this.spacing = 2;
	this.spacing_corr = 2 ;
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.type_exercice = 'MG32';
	this.taille_div_MG32 = [800,600];


	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_corrections = []; // Liste de questions corrigées
		let c1 = randint(3,7)
		let h1 = randint(2,4)
		let c2 = randint(3,7)
		let h2 = randint(2,7)
		let c3 = randint(3,10)
		let h3 = randint(2,4)
		let fig1 ="TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAAC4QAAAQEAAAAAAAAAAQAAAMH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAUEAwBQAAAAAAADAOAAAAAAAAAUAAUA5gAAAAAAAQEO4UeuFHrgAAAADAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAgA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAoAAAAL#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAMAAAADQD#####AAAAAAAQAAFCAMAYAAAAAAAAwDgAAAAAAAAFAAEAAAAMAAAACQD#####AAJoMQABNAAAAAFAEAAAAAAAAP####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAKAAAACgD#####AQAAAAABAAAACf####8AAAABAApDT3BlcmF0aW9uAwAAAAsAAAAIAAAAAUAIAAAAAAAAAAAAAAwA#####wAAAAoAAAARAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABIAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAEgAAAA4A#####wEAAAAAEAAAAQABAAAAFAAAAAoAAAAKAP####8BAAAAAAEAAAAUAAAACwAAAA8AAAAADAD#####AAAAFQAAABYAAAANAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAFwAAAA0A#####wAAAAAAEAABRADAFAAAAAAAAEAAAAAAAAAABQABAAAAF#####8AAAABABBDRHJvaXRlUGFyYWxsZWxlAP####8BAAAAABAAAAEAAQAAABkAAAAKAAAACgD#####AQAAAAABAAAAGQAAAAsAAAAIAAAAAAwA#####wAAABoAAAAbAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABwAAAANAP####8AAAAAABAAAUMAwBAAAAAAAABAAAAAAAAAAAUAAQAAABwAAAAGAP####8BAAAAARAAAVoAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAA4AAAAFAP####8AAAAAABAAAAEAAQAAAAkAAAAOAAAABQD#####AAAAAAAQAAABAAEAAAAOAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAABkAAAAFAP####8AAAAAABAAAAEAAQAAABkAAAAJAAAADgD#####AQAAAAAQAAABAAEAAAAfAAAAIP####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8BAAAAARAAAloyAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAAAiAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAAJf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAfAAAAJQAAAAMAAAAAJwAAAAAAEAAAAQABAAAAHwE#8AAAAAAAAAAAAAQAAAAAJwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAKP####8AAAACABNDTWVzdXJlQW5nbGVPcmllbnRlAAAAACcAAmFuAAAAKQAAAB8AAAAlAAAACAEAAAAnAAAAHwAAACUAAAAGAAAAACcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAfAAAAJf####8AAAABAA1DUG9pbnRQcm9qZXRlAAAAACcAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACUAAAAoAAAAEwAAAAAnAAJtYQAAACkAAAAfAAAALf####8AAAABAA5DVGVzdEV4aXN0ZW5jZQAAAAAnAAN0bWEAAAAu#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAnAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAALBAAAAAAAAEAAAAC#####wAAAAEADUNGb25jdGlvbjNWYXIAAAAACwAAAC8AAAAPAAAAAAsAAAAqAAAACwAAAC4AAAALAAAAKgAAAAABAAAAKwAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAACQAAAA4AAAADAAAAADEAAAAAABAAAAEAAQAAAAkBP#AAAAAAAAAAAAAEAAAAADEAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAADIAAAATAAAAADEAAmFuAAAAMwAAAAkAAAAOAAAACAEAAAAxAAAACQAAAA4AAAAGAAAAADEAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAADgAAABQAAAAAMQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAADIAAAATAAAAADEAAm1hAAAAMwAAAAkAAAA3AAAAFQAAAAAxAAN0bWEAAAA4AAAAFgEAAAAxAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAANhAAAAAAAAEAAAACAAAAFwAAAAALAAAAOQAAAA8AAAAACwAAADQAAAALAAAAOAAAAAsAAAA0AAAAAAEAAAA1AAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAOAAAAHgAAAAMAAAAAOwAAAAAAEAAAAQABAAAADgE#8AAAAAAAAAAAAAQAAAAAOwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAPAAAABMAAAAAOwACYW4AAAA9AAAADgAAAB4AAAAIAQAAADsAAAAOAAAAHgAAAAYAAAAAOwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAeAAAAFAAAAAA7AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAPAAAABMAAAAAOwACbWEAAAA9AAAADgAAAEEAAAAVAAAAADsAA3RtYQAAAEIAAAAWAQAAADsAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABAEAAAAAAAAQAAAAIAAAAXAAAAAAsAAABDAAAADwAAAAALAAAAPgAAAAsAAABCAAAACwAAAD4AAAAAAQAAAD8AAAACAP####8AAAAAABAAAUUAwBQAAAAAAADANgAAAAAAAAUAAUA#gAAAAAAAQHH3Cj1wo9cAAAAJAP####8AAmMyAAE3AAAAAUAcAAAAAAAAAAAACQD#####AAJoMgABNwAAAAFAHAAAAAAAAAAAAAoA#####wEAAAAAAQAAAEUAAAALAAAARgD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAUYAwBAAAAAAAADAOgAAAAAAAAUAAT#PhK2tCtK0AAAASAAAAAUA#####wAAAAAAEAAAAQABAAAARQAAAEkAAAAGAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAEkAAAAOAP####8BAAAAABAAAAEAAQAAAEsAAABKAAAACgD#####AQAAAAABAAAASwAAAAsAAABHAAAAAAwA#####wAAAEwAAABNAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAE4AAAANAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAQAAAE4AAAAKAP####8BAAAAAAEAAABFAAAADwIAAAABP9mZmZmZmZoAAAALAAAARgAAAAAMAP####8AAABKAAAAUQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAABSAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFIAAAAOAP####8BAAAAABAAAAEAAQAAAFMAAABKAAAACgD#####AQAAAAABAAAAUwAAAAsAAABHAAAAAAwA#####wAAAFUAAABWAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFcAAAANAP####8AAAAAABAAAUgAwCQAAAAAAABAAAAAAAAAAAUAAQAAAFcAAAAQAP####8BAAAAABAAAAEAAQAAAFkAAABKAAAABQD#####AAAAAAAQAAABAAEAAABFAAAAWQAAABAA#####wEAAAAAEAAAAQABAAAASQAAAFsAAAARAP####8AAAAAABAAAUcAwCAAAAAAAABAAAAAAAAAAAUAAAAAWgAAAFwAAAAFAP####8AAAAAABAAAAEAAQAAAFkAAABdAAAABQD#####AAAAAAAQAAABAAEAAABdAAAASQAAAAUA#####wAAAAAAEAAAAQEBAAAASwAAAFAAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAFkAAABFAAAAAwAAAABhAAAAAAAQAAABAAEAAABZAT#wAAAAAAAAAAAABAAAAABhAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABiAAAAEwAAAABhAAJhbgAAAGMAAABZAAAARQAAAAgBAAAAYQAAAFkAAABFAAAABgAAAABhAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAEUAAAAUAAAAAGEAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABiAAAAEwAAAABhAAJtYQAAAGMAAABZAAAAZwAAABUAAAAAYQADdG1hAAAAaAAAABYBAAAAYQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGYQAAAAAAABAAAAAgAAABcAAAAACwAAAGkAAAAPAAAAAAsAAABkAAAACwAAAGgAAAALAAAAZAAAAAABAAAAZQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUAAAAEsAAAADAAAAAGsAAAAAABAAAAEAAQAAAFABP#AAAAAAAAAAAAAEAAAAAGsAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGwAAAATAAAAAGsAAmFuAAAAbQAAAFAAAABLAAAACAEAAABrAAAAUAAAAEsAAAAGAAAAAGsAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAASwAAABQAAAAAawAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAAGwAAAATAAAAAGsAAm1hAAAAbQAAAFAAAABxAAAAFQAAAABrAAN0bWEAAAByAAAAFgEAAABrAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAcBAAAAAAAAEAAAACAAAAFwAAAAALAAAAcwAAAA8AAAAACwAAAG4AAAALAAAAcgAAAAsAAABuAAAAAAEAAABvAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAXQAAAAMAAAAAdQAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABMAAAAAdQACYW4AAAB3AAAAWQAAAF0AAAAIAQAAAHUAAABZAAAAXQAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABdAAAAFAAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAdgAAABMAAAAAdQACbWEAAAB3AAAAWQAAAHsAAAAVAAAAAHUAA3RtYQAAAHwAAAAWAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAXAAAAAAsAAAB9AAAADwAAAAALAAAAeAAAAAsAAAB8AAAACwAAAHgAAAAAAQAAAHn#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAAAAAQAAAAFAI7YIdN7bnAAAACUAAAAfAAAADgAAABkA#####wAAAAAAAQAAAAFAJLeGyzdqwwAAAB8AAAAlAAAAHgAAABkA#####wAAAAAAAQAAAAFAJ52vyk47vQAAAFAAAABLAAAASQAAABkA#####wAAAAAAAQAAAAFAJtJ6XCnohwAAAEsAAABQAAAAXQAAAAkA#####wACYzMAATcAAAABQBwAAAAAAAAAAAAJAP####8AAmgzAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAAAAAAQAAFNAMA1AAAAAAAAwCoAAAAAAAAFAAFAf3gAAAAAAEBnLhR64UeuAAAAAwD#####AQAAAAEQAAABAAEAAACFAD#wAAAAAAAAAAAACgD#####AQAAAAABAAAAhQAAAAsAAACDAAAAAAwA#####wAAAIYAAACHAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIgAAAANAP####8AAAAAABAAAU4AwDEAAAAAAADAJAAAAAAAAAUAAQAAAIgAAAAKAP####8BAAAAAAEAAACKAAAADwMAAAALAAAAgwAAAAFACAAAAAAAAAAAAAAMAP####8AAACGAAAAiwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACMAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIwAAAAOAP####8BAAAAABAAAAEAAQAAAI4AAACGAAAACgD#####AQAAAAABAAAAjgAAAAsAAACEAAAAAAwA#####wAAAI8AAACQAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAJEAAAANAP####8AAAAAABAAAU8AQBgAAAAAAADAKAAAAAAAAAUAAgAAAJEAAAAFAP####8AAAAAABAAAAEAAQAAAIoAAACTAAAABQD#####AAAAAAAQAAABAAEAAACFAAAAigAAAAoA#####wEAAAAAAQAAAJMAAAALAAAAgwAAAAADAP####8BAAAAARAAAAEAAQAAAJMAP#AAAAAAAAAAAAAMAP####8AAACXAAAAlgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACYAAAADQD#####AAAAAAAQAAFQAEAUAAAAAAAAwCgAAAAAAAAFAAIAAACYAAAABQD#####AAAAAAAQAAABAAEAAACTAAAAmgAAAAUA#####wAAAAAAEAAAAQABAAAAmgAAAIUAAAAGAP####8BAAAAARAAAUsAAAAAAAAAAABACAAAAAAAAAUAAAAAigAAAIUAAAADAP####8BAAAAARAAAAEAAQAAAJ0BP#AAAAAAAAAAAAARAP####8BAAAAARAAAUwAAAAAAAAAAABACAAAAAAAAAUAAAAAngAAAJsAAAAFAP####8AAAAAABAAAAEBAQAAAJ0AAACfAAAAGQD#####AAAAAAABAAAAAUAlhyjGBrH8AAAAhQAAAJ0AAACfAAAAGQD#####AAAAAAABAAAAAUAiIExpX47ZAAAAnQAAAJ8AAACaAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAACKAAAAkwAAAAMAAAAAowAAAAAAEAAAAQABAAAAigE#8AAAAAAAAAAAAAQAAAAAowAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAApAAAABMAAAAAowACYW4AAAClAAAAigAAAJMAAAAIAQAAAKMAAACKAAAAkwAAAAYAAAAAowAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAIoAAACTAAAAFAAAAACjAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAACTAAAApAAAABMAAAAAowACbWEAAAClAAAAigAAAKkAAAAVAAAAAKMAA3RtYQAAAKoAAAAWAQAAAKMAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACoEAAAAAAAAQAAAAIAAAAXAAAAAAsAAACrAAAADwAAAAALAAAApgAAAAsAAACqAAAACwAAAKYAAAAAAQAAAKcAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAJ0AAACfAAAAAwAAAACtAAAAAAAQAAABAAEAAACdAT#wAAAAAAAAAAAABAAAAACtAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAACuAAAAEwAAAACtAAJhbgAAAK8AAACdAAAAnwAAAAgBAAAArQAAAJ0AAACfAAAABgAAAACtAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnQAAAJ8AAAAUAAAAAK0AAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJ8AAACuAAAAEwAAAACtAAJtYQAAAK8AAACdAAAAswAAABUAAAAArQADdG1hAAAAtAAAABYBAAAArQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAALIQAAAAAAABAAAAAgAAABcAAAAACwAAALUAAAAPAAAAAAsAAACwAAAACwAAALQAAAALAAAAsAAAAAABAAAAsQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAigAAAIUAAAADAAAAALcAAAAAABAAAAEAAQAAAIoBP#AAAAAAAAAAAAAEAAAAALcAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAALgAAAATAAAAALcAAmFuAAAAuQAAAIoAAACFAAAACAEAAAC3AAAAigAAAIUAAAAGAAAAALcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACKAAAAhQAAABQAAAAAtwAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAhQAAALgAAAATAAAAALcAAm1hAAAAuQAAAIoAAAC9AAAAFQAAAAC3AAN0bWEAAAC+AAAAFgEAAAC3AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAvBAAAAAAAAEAAAACAAAAFwAAAAALAAAAvwAAAA8AAAAACwAAALoAAAALAAAAvgAAAAsAAAC6AAAAAAEAAAC7AAAAB###########"
		let fig2 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAAC4QAAAQEAAAAAAAAAAQAAAL7#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAUEAwBQAAAAAAADAOAAAAAAAAAUAAUA5gAAAAAAAQEO4UeuFHrgAAAADAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAgA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAoAAAAL#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAMAAAADQD#####AAAAAAAQAAFCAMAYAAAAAAAAwDgAAAAAAAAFAAEAAAAMAAAACQD#####AAJoMQABNAAAAAFAEAAAAAAAAP####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAKAAAACgD#####AQAAAAABAAAACf####8AAAABAApDT3BlcmF0aW9uAwAAAAsAAAAIAAAAAUAIAAAAAAAAAAAAAAwA#####wAAAAoAAAARAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABIAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAEgAAAA4A#####wEAAAAAEAAAAQABAAAAFAAAAAoAAAAKAP####8BAAAAAAEAAAAUAAAACwAAAA8AAAAADAD#####AAAAFQAAABYAAAANAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAFwAAAA0A#####wAAAAAAEAABRADAFAAAAAAAAEAAAAAAAAAABQABAAAAF#####8AAAABABBDRHJvaXRlUGFyYWxsZWxlAP####8BAAAAABAAAAEAAQAAABkAAAAKAAAACgD#####AQAAAAABAAAAGQAAAAsAAAAIAAAAAAwA#####wAAABoAAAAbAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABwAAAANAP####8AAAAAABAAAUMAwBAAAAAAAABAAAAAAAAAAAUAAQAAABwAAAAGAP####8BAAAAARAAAVoAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAA4AAAAFAP####8AAAAAABAAAAEAAQAAAAkAAAAOAAAABQD#####AAAAAAAQAAABAAEAAAAOAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAABkAAAAFAP####8AAAAAABAAAAEAAQAAABkAAAAJAAAADgD#####AQAAAAAQAAABAAEAAAAfAAAAIP####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8BAAAAARAAAloyAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAAAiAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAAJf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAfAAAAJQAAAAMAAAAAJwAAAAAAEAAAAQABAAAAHwE#8AAAAAAAAAAAAAQAAAAAJwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAKP####8AAAACABNDTWVzdXJlQW5nbGVPcmllbnRlAAAAACcAAmFuAAAAKQAAAB8AAAAlAAAACAEAAAAnAAAAHwAAACUAAAAGAAAAACcAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAfAAAAJf####8AAAABAA1DUG9pbnRQcm9qZXRlAAAAACcAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACUAAAAoAAAAEwAAAAAnAAJtYQAAACkAAAAfAAAALf####8AAAABAA5DVGVzdEV4aXN0ZW5jZQAAAAAnAAN0bWEAAAAu#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAnAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAALBAAAAAAAAEAAAAC#####wAAAAEADUNGb25jdGlvbjNWYXIAAAAACwAAAC8AAAAPAAAAAAsAAAAqAAAACwAAAC4AAAALAAAAKgAAAAABAAAAKwAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAACQAAAA4AAAADAAAAADEAAAAAABAAAAEAAQAAAAkBP#AAAAAAAAAAAAAEAAAAADEAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAADIAAAATAAAAADEAAmFuAAAAMwAAAAkAAAAOAAAACAEAAAAxAAAACQAAAA4AAAAGAAAAADEAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAADgAAABQAAAAAMQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAADIAAAATAAAAADEAAm1hAAAAMwAAAAkAAAA3AAAAFQAAAAAxAAN0bWEAAAA4AAAAFgEAAAAxAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAANhAAAAAAAAEAAAACAAAAFwAAAAALAAAAOQAAAA8AAAAACwAAADQAAAALAAAAOAAAAAsAAAA0AAAAAAEAAAA1AAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAAAOAAAAHgAAAAMAAAAAOwAAAAAAEAAAAQABAAAADgE#8AAAAAAAAAAAAAQAAAAAOwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAPAAAABMAAAAAOwACYW4AAAA9AAAADgAAAB4AAAAIAQAAADsAAAAOAAAAHgAAAAYAAAAAOwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAeAAAAFAAAAAA7AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAPAAAABMAAAAAOwACbWEAAAA9AAAADgAAAEEAAAAVAAAAADsAA3RtYQAAAEIAAAAWAQAAADsAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABAEAAAAAAAAQAAAAIAAAAXAAAAAAsAAABDAAAADwAAAAALAAAAPgAAAAsAAABCAAAACwAAAD4AAAAAAQAAAD8AAAACAP####8AAAAAABAAAUUAwBQAAAAAAADANgAAAAAAAAUAAUCHhAAAAAAAQGGuFHrhR64AAAAJAP####8AAmMyAAE3AAAAAUAcAAAAAAAAAAAACQD#####AAJoMgABNwAAAAFAHAAAAAAAAAAAAAoA#####wEAAAAAAQAAAEUAAAALAAAARgD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAUYAwBAAAAAAAABAEAAAAAAAAAUAAUAQpTrvfJtJAAAASAAAAAUA#####wAAAAAAEAAAAQABAAAARQAAAEkAAAAGAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAEkAAAAOAP####8BAAAAABAAAAEAAQAAAEsAAABKAAAACgD#####AQAAAAABAAAASwAAAAsAAABHAAAAAAwA#####wAAAEwAAABNAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAE4AAAANAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAQAAAE4AAAAKAP####8BAAAAAAEAAABFAAAADwIAAAABP9mZmZmZmZoAAAALAAAARgAAAAAMAP####8AAABKAAAAUQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAABSAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFIAAAAOAP####8BAAAAABAAAAEAAQAAAFMAAABKAAAACgD#####AQAAAAABAAAAUwAAAAsAAABHAAAAAAwA#####wAAAFUAAABWAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAFcAAAANAP####8AAAAAABAAAUgAwBQAAAAAAADAOQAAAAAAAAUAAQAAAFcAAAAQAP####8BAAAAABAAAAEAAQAAAFkAAABKAAAABQD#####AAAAAAAQAAABAAEAAABFAAAAWQAAABAA#####wEAAAAAEAAAAQABAAAASQAAAFsAAAARAP####8AAAAAABAAAUcAwCAAAAAAAABAAAAAAAAAAAUAAAAAWgAAAFwAAAAFAP####8AAAAAABAAAAEAAQAAAFkAAABdAAAABQD#####AAAAAAAQAAABAAEAAABdAAAASQAAAAUA#####wAAAAAAEAAAAQEBAAAASwAAAFAAAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAFkAAABFAAAAAwAAAABhAAAAAAAQAAABAAEAAABZAT#wAAAAAAAAAAAABAAAAABhAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABiAAAAEwAAAABhAAJhbgAAAGMAAABZAAAARQAAAAgBAAAAYQAAAFkAAABFAAAABgAAAABhAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAEUAAAAUAAAAAGEAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABiAAAAEwAAAABhAAJtYQAAAGMAAABZAAAAZwAAABUAAAAAYQADdG1hAAAAaAAAABYBAAAAYQAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGYQAAAAAAABAAAAAgAAABcAAAAACwAAAGkAAAAPAAAAAAsAAABkAAAACwAAAGgAAAALAAAAZAAAAAABAAAAZQAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUAAAAEsAAAADAAAAAGsAAAAAABAAAAEAAQAAAFABP#AAAAAAAAAAAAAEAAAAAGsAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGwAAAATAAAAAGsAAmFuAAAAbQAAAFAAAABLAAAACAEAAABrAAAAUAAAAEsAAAAGAAAAAGsAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAASwAAABQAAAAAawAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAAGwAAAATAAAAAGsAAm1hAAAAbQAAAFAAAABxAAAAFQAAAABrAAN0bWEAAAByAAAAFgEAAABrAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAcBAAAAAAAAEAAAACAAAAFwAAAAALAAAAcwAAAA8AAAAACwAAAG4AAAALAAAAcgAAAAsAAABuAAAAAAEAAABvAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAXQAAAAMAAAAAdQAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABMAAAAAdQACYW4AAAB3AAAAWQAAAF0AAAAIAQAAAHUAAABZAAAAXQAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABdAAAAFAAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAdgAAABMAAAAAdQACbWEAAAB3AAAAWQAAAHsAAAAVAAAAAHUAA3RtYQAAAHwAAAAWAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAXAAAAAAsAAAB9AAAADwAAAAALAAAAeAAAAAsAAAB8AAAACwAAAHgAAAAAAQAAAHn#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAAAAAQAAAAFAH79o6Vd44QAAAFAAAABLAAAARQAAABkA#####wAAAAAAAQAAAAFAHogkhw7PmgAAAEsAAABQAAAAWQAAABkA#####wAAAAAAAQAAAAFAIGGDLk4E3QAAACUAAAAfAAAADgAAABkA#####wAAAAAAAQAAAAFAIG#NSbOaeQAAAB8AAAAlAAAAHgAAAAkA#####wACYzMAAjEwAAAAAUAkAAAAAAAAAAAACQD#####AAJoMwABNQAAAAFAFAAAAAAAAAAAAAIA#####wAAAAAAEAABTQDAMgAAAAAAAMAuAAAAAAAABQABQFAgAAAAAABAdRcKPXCj1wAAAAoA#####wEAAAAAAQAAAIUAAAALAAAAgwAAAAAYAP####8AAAAAABAAAU4AQBAAAAAAAADAKAAAAAAAAAUAAUAYdXZyBbfYAAAAhgAAAAUA#####wAAAAAAEAAAAQABAAAAhQAAAIcAAAAKAP####8BAAAAAAEAAACFAAAADwMAAAALAAAAgwAAAAFAFAAAAAAAAAAAAAAMAP####8AAACIAAAAiQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAACKAAAADQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAIoAAAAOAP####8BAAAAABAAAAEAAQAAAIsAAACIAAAACgD#####AQAAAAABAAAAiwAAAAsAAACEAAAAAAwA#####wAAAI0AAACOAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAAI8AAAANAP####8AAAAAABAAAVAAwDAAAAAAAADAGAAAAAAAAAUAAQAAAI8AAAAFAP####8AAAAAABAAAAEAAQAAAIUAAACRAAAACgD#####AQAAAAABAAAAkQAAAAsAAACDAAAAABAA#####wEAAAAAEAAAAQABAAAAkQAAAIgAAAAMAP####8AAACUAAAAkwAAAA0A#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAACVAAAADQD#####AAAAAAAQAAFPAEAUAAAAAAAAwCIAAAAAAAAFAAEAAACVAAAABQD#####AAAAAAAQAAABAAEAAACRAAAAlwAAAAUA#####wAAAAAAEAAAAQABAAAAlwAAAIcAAAAGAP####8BAAAAABAAAUsAAAAAAAAAAABACAAAAAAAAAUAAAAAhQAAAIcAAAAOAP####8BAAAAABAAAAEAAQAAAJoAAACIAAAAEQD#####AQAAAAAQAAFMAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJsAAACUAAAAGQD#####AAAAAAABAAAAAUAkP+hrfTwUAAAAnAAAAJoAAACHAAAAGQD#####AAAAAAABAAAAAUAk8wqocINWAAAAmgAAAJwAAACXAAAABQD#####AAAAAAAQAAABAQEAAACcAAAAmgAAABIA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAhQAAAIcAAAADAAAAAKAAAAAAABAAAAEAAQAAAIUBP#AAAAAAAAAAAAAEAAAAAKAAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAKEAAAATAAAAAKAAAmFuAAAAogAAAIUAAACHAAAACAEAAACgAAAAhQAAAIcAAAAGAAAAAKAAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACFAAAAhwAAABQAAAAAoAAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAhwAAAKEAAAATAAAAAKAAAm1hAAAAogAAAIUAAACmAAAAFQAAAACgAAN0bWEAAACnAAAAFgEAAACgAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAApRAAAAAAAAEAAAACAAAAFwAAAAALAAAAqAAAAA8AAAAACwAAAKMAAAALAAAApwAAAAsAAACjAAAAAAEAAACkAAAAEgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAACFAAAAkQAAAAMAAAAAqgAAAAAAEAAAAQABAAAAhQE#8AAAAAAAAAAAAAQAAAAAqgAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAqwAAABMAAAAAqgACYW4AAACsAAAAhQAAAJEAAAAIAQAAAKoAAACFAAAAkQAAAAYAAAAAqgAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAIUAAACRAAAAFAAAAACqAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAACRAAAAqwAAABMAAAAAqgACbWEAAACsAAAAhQAAALAAAAAVAAAAAKoAA3RtYQAAALEAAAAWAQAAAKoAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACvEAAAAAAAAQAAAAIAAAAXAAAAAAsAAACyAAAADwAAAAALAAAArQAAAAsAAACxAAAACwAAAK0AAAAAAQAAAK4AAAASAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAACAAAAAgAAAJoAAACcAAAAAwAAAAC0AAAAAAAQAAABAAEAAACaAT#wAAAAAAAAAAAABAAAAAC0AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAC1AAAAEwAAAAC0AAJhbgAAALYAAACaAAAAnAAAAAgBAAAAtAAAAJoAAACcAAAABgAAAAC0AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAmgAAAJwAAAAUAAAAALQAAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAAJwAAAC1AAAAEwAAAAC0AAJtYQAAALYAAACaAAAAugAAABUAAAAAtAADdG1hAAAAuwAAABYBAAAAtAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAALkQAAAAAAABAAAAAgAAABcAAAAACwAAALwAAAAPAAAAAAsAAAC3AAAACwAAALsAAAALAAAAtwAAAAABAAAAuAAAAAf##########w=="
		let codeBase64 = choice([fig1,fig2])

		texte_corr = `Dans chaque parallélogramme, le segment en pointillés est ${texte_en_couleur_et_gras("perpendiculaire")} à deux côtés opposés, c'est donc une ${texte_en_couleur_et_gras("hauteur")}.<br>`
		texte_corr += `Pour obtenir l'aire, il faut multiplier cette ${texte_en_couleur_et_gras("hauteur")} par la longueur de la ${texte_en_couleur_et_gras("base")} correspondante.`
		texte_corr += "<br><br>"
		texte_corr += `$\\mathcal{A}_{ABCD}=${c1}~\\text{cm}\\times  ${h1}~\\text{cm}=${c1*h1}~\\text{cm}^2$`
		texte_corr += `<br>$\\mathcal{A}_{EFGH}=${c2}~\\text{cm}\\times  ${h2}~\\text{cm}=${c2*h2}~\\text{cm}^2$`
		texte_corr += `<br>$\\mathcal{A}_{MNOP}=${c3}~\\text{cm}\\times  ${h3}~\\text{cm}=${c3*h3}~\\text{cm}^2$`
		

		this.MG32codeBase64 = codeBase64
		this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c1", "${c1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h1", "${h1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c2", "${c2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h2", "${h2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c3", "${c3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h3", "${h3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      ` 	
		
			
		this.liste_corrections.push(texte_corr);
		liste_de_question_to_contenu_sans_numero(this);		
	}

// 	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Périmètres\n\
// 2 : Aires\n3 : Périmètres et aires"];

};

/**
 * 5A10 - Division Euclidienne; diviseurs, multiples, critères de divisibilité
 * Exercice bilan
 * @author Sébastien Lozano
 */
 
function Liste_des_diviseurs_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = 1 ; 
	this.titre = "Écrire la liste de tous les diviseurs d'un entier."; 
	// pas de différence entre la version html et la version latex pour la consigne
	//this.consigne =`Écrire la liste de tous les diviseurs d'un entier.`;
	this.consigne =``;
	//this.consigne += `<br>`;
	sortie_html ? this.spacing = 2 : this.spacing = 1;
	sortie_html ? this.spacing_corr = 2: this.spacing_corr = 1;
	this.nb_questions = 3;
	//this.correction_detaillee_disponible = true;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions;
		if (sortie_html) { // les boutons d'aide uniquement pour la version html
			//this.bouton_aide = '';
			//this.bouton_aide = modal_pdf(numero_de_l_exercice,"pdf/FicheArithmetique-3A10.pdf","Aide mémoire sur la division euclidienne (Sébastien Lozano)","Aide mémoire")		
			//this.bouton_aide += modal_video('conteMathsNombresPremiers','videos/LesNombresPremiers.mp4','Petit conte mathématique','Intro Vidéo');
		} else { // sortie LaTeX
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,1,2];
		//let type_de_questions_disponibles = [1];
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions);

			for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions&&cpt<50;) {
				type_de_questions = liste_type_de_questions[i];

				switch (type_de_questions) {
					case 1 : // Compléter un tableau pour trouver la liste de tous les diviseurs d'un entier
						// on choisit un entier non premier inférieur à 99
						let M = randint(2,99,crible_eratosthene_n(99));
						// on calcule le nombre de diviseur de M pour prévoir le nombre de lignes du tableau
						let nbre_diviseurs_M = liste_diviseurs(M).length;
						
						texte = `Compléter le tableau suivant et faire la liste de tous les diviseurs de ${M}`;										
						if (!sortie_html) {
							texte += `$\\medskip$`;
						};
						texte += `<br>`;						
						if (sortie_html) {
							texte += `$\\def\\arraystretch{2.5}\\begin{array}{|c|c|c|}\n`
						} else {
							
							texte += `$\\begin{array}{|c|c|c|}\n`
						};						
						texte += `\\hline\n`
						texte += `\\text{Facteur n°1} & \\text{Facteur n°2} & \\text{Produit donnant } ${M} \\\\\n`
						texte += `\\hline\n`

						if (nbre_diviseurs_M%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(M).length/2); m++){
								texte += texte_ou_pas(liste_diviseurs(M)[m])+` & `+texte_ou_pas(liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)])+`& ${texte_ou_pas(M)} \\\\\n`;
								texte += `\\hline\n`;
							};
						} else { // sinon il est impair, cela n'arrive qu'avvec les carrés parfaits
							for (let m = 0; m<((liste_diviseurs(M).length-1)/2); m++){
								texte += texte_ou_pas(liste_diviseurs(M)[m])+` & `+texte_ou_pas(liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)])+`& ${texte_ou_pas(M)} \\\\\n`;
							};
							texte += texte_ou_pas(liste_diviseurs(M)[(nbre_diviseurs_M-1)/2])+` & `+texte_ou_pas(liste_diviseurs(M)[(nbre_diviseurs_M-1)/2])+`& ${texte_ou_pas(M)} \\\\\n`;							
							texte += `\\hline\n`;
						};			
						texte += `\\end{array}\n$`

						// correction

						texte_corr = `Le tableau suivant contient tous les couples de facteurs dont le produit vaut ${M}`;
						if (!sortie_html) {
							texte_corr += `$\\medskip$`;
						};
						texte_corr += `<br>`;						
						if (sortie_html) {
							texte_corr += `$\\def\\arraystretch{2.5}\\begin{array}{|c|c|c|}\n`
						} else {
							texte_corr += `$\\begin{array}{|c|c|c|}\n`
						};						
						texte_corr += `\\hline\n`
						texte_corr += `\\text{Facteur n°1} & \\text{Facteur n°2} & \\text{Produit donnant } ${M} \\\\\n`
						texte_corr += `\\hline\n`

						if (nbre_diviseurs_M%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(M).length/2); m++){
								texte_corr += liste_diviseurs(M)[m]+` & `+liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)]+`& ${M} \\\\\n`;
								texte_corr += `\\hline\n`;
							};
						} else { // sinon il est impair, cela n'arrive qu'avvec les carrés parfaits
							for (let m = 0; m<((liste_diviseurs(M).length-1)/2); m++){
								texte_corr += liste_diviseurs(M)[m]+` & `+liste_diviseurs(M)[(liste_diviseurs(M).length-m-1)]+`& ${M} \\\\\n`;
							};
							texte_corr += liste_diviseurs(M)[(nbre_diviseurs_M-1)/2]+` & `+liste_diviseurs(M)[(nbre_diviseurs_M-1)/2]+`& ${M} \\\\\n`;							
							texte_corr += `\\hline\n`;
						};		
						texte_corr += `\\end{array}\n$`
						if (!sortie_html) {
							texte_corr += `$\\medskip$`;
						};
						texte_corr += `<br>`;
						texte_corr += `${M} a donc ${nbre_diviseurs_M} diviseurs qui sont : `;
						texte_corr += `1`;
						for (let w = 1; w<liste_diviseurs(M).length; w++) {
							texte_corr += ` ; `+liste_diviseurs(M)[w];
						};
						texte_corr += `.`;					
						break;
					case 2 : // liste des diviseurs
						// on définit un tableau pour les choix du nombre dont on veut les diviseurs
						// 3 parmis 2,99 y compris les premiers et 1 parmis les entiers à 3 chiffres ayant au moins 8 diviseurs, il y en a 223 !
						let tableau_de_choix = [];
						tableau_de_choix =[randint(2,99),randint(2,99,[tableau_de_choix[0]]),randint(2,99,[tableau_de_choix[0],tableau_de_choix[1]]),randint(2,99,[tableau_de_choix[0],tableau_de_choix[1],tableau_de_choix[2]])];
						let tableau_de_choix_3chiffres =[];
						for (let m=101; m<999; m++) {
							if (liste_diviseurs(m).length>8) {
								tableau_de_choix_3chiffres.push(m);
							};
						};
						// on ajoute un nombre à trois chiffre avec au moins 8 diviseurs dans les choix possibles
						let rg_Nb_3chiffres = randint(0,(tableau_de_choix_3chiffres.length-1));
						tableau_de_choix.push(tableau_de_choix_3chiffres[rg_Nb_3chiffres]);
										
						let N; // on déclare le nombre dont on va chercher les diviseurs
						let rg_N; // pour tirer le rang du nombre dans le tableau des choix
						rg_N = randint(0,(tableau_de_choix.length-1));
						N = tableau_de_choix[rg_N];
						texte = `Écrire la liste de tous les diviseurs de ${N}.`;
						texte_corr = `Pour trouver la liste des diviseurs de ${N} on cherche tous les produits de deux facteurs qui donnent ${N}. En écrivant toujours le plus petit facteur en premier.<br>`;
						texte_corr += `Il est suffisant de chercher des diviseurs inférieurs au plus grand nombre dont le carré vaut ${N}, par exemple ici, ${Math.trunc(Math.sqrt(N))}$\\times $${Math.trunc(Math.sqrt(N))} = ${Math.trunc(Math.sqrt(N))*Math.trunc(Math.sqrt(N))}<${N}`;
						texte_corr += ` et ${Math.trunc(Math.sqrt(N))+1}$\\times $${Math.trunc(Math.sqrt(N))+1} = ${(Math.trunc(Math.sqrt(N))+1)*(Math.trunc(Math.sqrt(N))+1)}>${N} donc il suffit d'arrêter la recherche de facteur à ${Math.trunc(Math.sqrt(N))}.`;
						texte_corr += ` En effet, si ${N} est le produit de deux entiers p$\\times $q avec p < q alors si p$\\times $p > ${N} c'est que q$\\times $q < ${N} mais dans ce cas p serait supérieur à q sinon p$\\times $q serait inférieur à ${N} ce qui ne doit pas être le cas.<br>`
						if (liste_diviseurs(N).length%2==0) {//si il y a un nombre pair de diviseurs
							for (let m = 0; m<(liste_diviseurs(N).length/2); m++){
								texte_corr += ``+liste_diviseurs(N)[m]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-m-1)]+` = ${N}<br>`;
							};
						} else {
							for (let m = 0; m<((liste_diviseurs(N).length-1)/2); m++){
								texte_corr += ``+liste_diviseurs(N)[m]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-m-1)]+`<br>`;
							};
							texte_corr += ``+liste_diviseurs(N)[(liste_diviseurs(N).length-1)/2]+`$\\times $`+liste_diviseurs(N)[(liste_diviseurs(N).length-1)/2]+` = ${N}<br>`;
						};
						texte_corr += `Chacun des facteurs de la liste ci-dessus est un diviseur de ${N}.<br>`;
						texte_corr += `La liste des diviseurs de ${N} est donc `;
						texte_corr += `1`;
						for (let w = 1; w<liste_diviseurs(N).length; w++) {
							texte_corr += ` ; `+liste_diviseurs(N)[w];
						};
						texte_corr += `.`;
						break;							
				};
			
				if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
					this.liste_questions.push(texte);
					this.liste_corrections.push(texte_corr);
					i++;
				}
				cpt++
			}	
	
		liste_de_question_to_contenu(this);
	}
	//this.besoin_formulaire_numerique = ['Règle à travailler',5,"1 : Produit de deux puissances de même base\n2 : Quotient de deux puissances de même base\n3 : Puissance de puissance\n4 : Produit de puissances de même exposant\n5 : Mélange"]; 
};


/**
 * 5A11 justifier la non primalité réinvestissement des critères de divisibilité
 * Nombres à 3 ou 4 chiffres, un multiple de 2, de 3, de 5, de 7, de 9, de 10, sous forme d'un produit de deux nombres premiers inférieurs à 30
 * et un nombre premier inferieur à 529 
 * @author Sébastien Lozano
 */
function Premier_ou_pas_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Primalité ou pas"; 
	// pas de différence entre la version html et la version latex pour la consigne
	this.consigne =`Justifier que les nombres suivants sont premiers ou pas.`;
	//this.consigne += `<br>`;	
	sortie_html ? this.spacing = 3 : this.spacing = 2;
	sortie_html ? this.spacing_corr = 2: this.spacing_corr = 1;
	this.nb_questions = 7;
	//this.correction_detaillee_disponible = true;
	this.nb_cols = 2;
	this.nb_cols_corr = 1;
	this.sup = 1;
	this.liste_packages = `bclogo`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions;
		if (sortie_html) { // les boutons d'aide uniquement pour la version html
			//this.bouton_aide = '';
			this.bouton_aide = modal_pdf(numero_de_l_exercice,"pdf/FicheArithmetique-5A11.pdf","Aide mémoire sur les nombres premiers (Sébastien Lozano)","Aide mémoire")		
			this.bouton_aide += modal_video('conteMathsNombresPremiers','videos/LesNombresPremiers.mp4','Petit conte mathématique - Les Nombres Premiers','Intro Vidéo');
		} else { // sortie LaTeX
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		this.contenu = ''; // Liste de questions
		this.contenu_correction = ''; // Liste de questions corrigées

		let type_de_questions_disponibles = [1,2,3,4,5,6,7];
		type_de_questions_disponibles=shuffle(type_de_questions_disponibles); // on mélange l'ordre des questions
		//let type_de_questions_disponibles = [1];
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions);
		
		let string_rappel = `Cette liste des nombres premiers inférieurs à 30 pourra être utile : <br>`+crible_eratosthene_n(100)[0];
		for (let k=1;k<crible_eratosthene_n(30).length;k++) {
			string_rappel +=`, `+crible_eratosthene_n(30)[k];
		};
		string_rappel +=`.`;
		this.introduction = warn_message(string_rappel,`nombres`,`Coup de pouce`);

			for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions&&cpt<50;) {

				type_de_questions = liste_type_de_questions[i];
				
				var N; // le nombre de la question
	
				switch (type_de_questions) {
					case 1 : // nombre pair
						N=2*randint(51,4999);
						texte = nombre_avec_espace(N);						
						texte_corr = `Comme ${nombre_avec_espace(N)} est pair, il admet donc au moins trois diviseurs qui sont 1, 2 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;		
					case 2 : // Multiple de 3
						let sum3=0; // pour la valeur de la somme;
						N=3*randint(34,3333);// on initialise avant la boucle car on a peut être de la chance
						while ( (N % 2 == 0) || (N % 5 == 0)) {
							N = 3 * randint(34, 3333);
						};
						texte = nombre_avec_espace(N);
						texte_corr = `Comme `+ N.toString().charAt(0);
						sum3 = Number(N.toString().charAt(0));
						for (let k=1; k<N.toString().length; k++) {
							texte_corr += ` + `+N.toString().charAt(k);
							sum3 +=Number(N.toString().charAt(k));
						};					
						texte_corr += ` = ${sum3} est un multiple de 3 donc ${nombre_avec_espace(N)} aussi, il admet donc au moins trois diviseurs qui sont 1, 3 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 3 : // Multiple de 5
						N=5*randint(20,1999);
						texte = nombre_avec_espace(N);
						texte_corr = `Comme le dernier chiffre de ${nombre_avec_espace(N)} est un ${N.toString().charAt(N.toString().length-1)} alors ${nombre_avec_espace(N)} est divisible par 5, `;
						texte_corr += `il admet donc au moins trois diviseurs qui sont 1, 5 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 4 : // Multiple de 9
						let sum9=0; // pour la valeur de la somme;
						N=9*randint(12,1111);// on initialise avant la boucle car on a peut être de la chance
						while ( (N % 2 == 0) || (N % 5 == 0)) {
							N = 9 * randint(34, 3333);
						};
						texte = nombre_avec_espace(N);
						texte_corr = `Comme `+ N.toString().charAt(0);
						sum9 = Number(N.toString().charAt(0));
						for (let k=1; k<N.toString().length; k++) {
							texte_corr += ` + `+N.toString().charAt(k);
							sum9 +=Number(N.toString().charAt(k));
						};					
						texte_corr += ` = ${sum9} est un multiple de 9 donc ${nombre_avec_espace(N)} aussi, il admet donc au moins trois diviseurs qui sont 1, 9 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 5 : // multiple de 10
						N=10*randint(10,999);
						texte = nombre_avec_espace(N);
						texte_corr = `Comme le nombre ${nombre_avec_espace(N)} se termine par un ${N.toString().charAt(N.toString().length-1)} alors ${nombre_avec_espace(N)} est un multiple de 10, `;
						texte_corr += `il admet donc au moins trois diviseurs qui sont 1, 10 et lui-même, `;
						texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N)+` n'est donc pas premier.`);
						break;	
					case 6 : // produit de deux nombres premiers inférieurs à 30
						// rang du premier facteur premier
						let r1 = randint(0,crible_eratosthene_n(30).length-1);
						// rang du second facteur premier
						let r2 = randint(0,crible_eratosthene_n(30).length-1);
						let prime1 = crible_eratosthene_n(100)[r1]; // on tire un nombre premier inférieur à 100, il n'y en a que 25!
						let prime2 = crible_eratosthene_n(100)[r2]; // on tire un autre nombre premier inférieur à 100, ça peut être le même qu'avant!
						N=prime1+`$\\times $`+prime2;
						texte = N;
						texte_corr = `${N} est le produit de ${prime1} et de ${prime2}, il admet donc au moins `;
						if (prime1==prime2) {
							texte_corr += `trois divisieurs qui sont 1, ${prime1} et lui-même ${N}=${nombre_avec_espace(prime1*prime2)} `;
						} else {
							texte_corr += `quatre diviseurs qui sont 1, ${prime1}, ${prime2} et lui-même ${N}=${nombre_avec_espace(prime1*prime2)}, `;
						};						
						texte_corr += texte_en_couleur_et_gras(`${N} = `+nombre_avec_espace(prime1*prime2)+` n'est donc pas premier.`);
						break;
					case 7 : // nombre premier inférieur à 29
						// rang du nombre premier choisi
						let r = randint(0,crible_eratosthene_n(29).length-1);
						N=crible_eratosthene_n(29)[r]; //on choisit un nombre premier inférieur à 529
						texte = N+``;
						let tab_premiers_a_tester = crible_eratosthene_n(N);
						//texte_corr = `Testons la divisibilité de ${N} par tous les nombres premiers inférieurs à $\\sqrt{${N}}$, c'est à dire par les nombres `;
						texte_corr = `En effectuant la division euclidienne de ${N} par tous les nombres premiers inférieurs à $\\sqrt{${N}}$, c'est à dire par les nombres `;						
						texte_corr += tab_premiers_a_tester[0];
						for (let k=1;k<tab_premiers_a_tester.length;k++) {
							texte_corr += `, `+tab_premiers_a_tester[k];
						};
						//texte_corr += `.`;
						// texte_corr += `<br> Aucun de ces nombres premiers ne divise ${N}, `;
						texte_corr += `, le reste n'est jamais nul.`;
						// texte_corr += texte_en_couleur_et_gras(nombre_avec_espace(N) + ` est donc un nombre premier.`);
						texte_corr += `<br>`+texte_en_couleur_et_gras(nombre_avec_espace(N) + ` est donc un nombre premier.`);
						break;								
				};
			
				if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
					this.liste_questions.push(texte);
					this.liste_corrections.push(texte_corr);
					i++;
				}
				cpt++
			}	
	
		liste_de_question_to_contenu(this);
	}
	
};

/**
 * Trouver l'image d'une figure par une symétrie centrale dans un pavage (7 motifs différents)
 * @Auteur Jean-Claude Lhote
 * fonction servant à tous les niveaux
 * Références 5G12, 6G25-2, 4G11, 3G12
 */
function Pavages_et_transformations() {
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
//	this.titre = "Trouver l'image d'une figure par une symétrie centrale";
	this.pas_de_version_LaTeX=true;
	this.consigne = "";
	this.nb_questions = 1;
	this.nb_questions_modifiable = false;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
//	this.sup = 1; // 1 pour symétrie axiale, 2 pour symétrie centrale, 3 pour translations, et 4 pour rotations ; paramètre fixé par les variantes respectives.
	sortie_html ? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;
	this.liste_packages = 'tkz-euclide';
	this.nouvelle_version = function (numero_de_l_exercice) {
	this.type_exercice = 'MG32';
	this.MG32editable=false;
	this.taille_div_MG32 = [700, 700];
	this.liste_questions = [];
	this.liste_corrections = []; // Liste de questions corrigées
	//listes de pavages [nx,ny,xB,yB,xC,yC,xD,yD,zoom,anngle]  : 0=carrés, 1=cerf-volant 2=quadri concave 3=quadri quelconque 4=parallélogrammes 5=triangles rectangles isocèles 6=triangles équilatéraux 7=losanges
	let paves=[[5,5,4,0,4,4,0,4,22,0],[5,5,6,0,8,8,0,6,40,-9],[5,5,8,0,4,4,2,8,30,-10],[5,5,4,0,6,4,0,6,28,-15],[4,6,8,0,7,4,-1,4,32,0],[5,5,8,0,4,4,0,8,40,0],[5,5,4,0,3,2*Math.sin(Math.PI/3),2,4*Math.sin(Math.PI/3),15,0],[4,4,3,1,4,4,1,3,20,0]]

	let texte,texte_corr
	let tabfigA=[], tabfigB=[],tabfigC=[],tabfigD=[]
	let pave=[]
	switch (parseInt(this.sup)) {
		case 1:
			pave=paves[0] // pavages adaptés à symétrie axiale (carrés)
			break
		case 2:
			pave=paves[randint(0,7)] // pavages adaptés à symétrie centrale (tous)
			break
		case 3:
			pave=paves[randint(0,7)] //pavages adaptés à translation (tous)
			break
		case 4:
			pave=paves[0] // pavages adaptés à rotation (carrés  )
	}
	let nx=pave[0],ny=pave[1],xB=pave[2],yB=pave[3],xC=pave[4],yC=pave[5],xD=pave[6],yD=pave[7],Zoom=pave[8],Angle=pave[9]
	let xAI=xB+xC-xD
	let yAI=yB+yC-yD
	let xAJ=xC+xD-xB
	let yAJ=yC+yD-yB
	let xAxy,yAxy,numAxy
	let point=[0,0,0]
	let trouver=false,indexA,numA,indexcentre1,numcentre1,xmil1=0,ymil1=0,indexD,numD,indexcentre2,numcentre2,xmil2=0,ymil2=0,indexC,numC,indexcentre3,numcentre3,xmil3=0,ymil3=0,num1,num2,num3
	let xc=0,yc=0,xb=0,yb=0,xa=0,ya=0,xV1=0,yV1=0,xV2=0,yV2=0,xV3=0,yV3=0
	let s0 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`])
	let s1 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`],[s0])
	let s2 = choice([`S`,`T`,`L`,`W`,`R`,`G`,`E`,`F`,`G`,`K`],[s0,s1])


	for (let y=0;y<ny;y++) {  // On initialise les tableaux avec les coordonnées des points de référence (A,B,C et D) de chaque translaté et son numéro dans le pavage.
		for (let x=0;x<nx;x++) {
			xAxy=x*xAI+y*xAJ
			yAxy=x*yAI+y*yAJ
			numAxy=2*x+4*y*nx
			tabfigA.push([xAxy,yAxy,numAxy]) 
			tabfigB.push([xAxy+xB,yAxy+yB,numAxy+1])
			tabfigD.push([xAxy+xD,yAxy+yD,numAxy+2*nx])
			tabfigC.push([xAxy+xC,yAxy+yC,numAxy+2*nx+1])
		}
	}
	
	texte = `Le point O peut être déplacé pour recadrer éventuellement le pavage.<br>` // La figure énoncé a la même base pour toutes les transformations.
	
	switch (parseInt(this.sup)) {
		case 1 : //symétrie axiale
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAQL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEXAAAAAAABASkKPXCj1w#####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ5YQABOAAAAAFAIAAAAAAAAAAAAAIA#####wAEbnVtYQABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeGMAAjE4AAAAAUAyAAAAAAAAAAAAAgD#####AAJ5YwACMTIAAAABQCgAAAAAAAAAAAAYAP####8BAAAAABAAAWEAQBAAAAAAAADAMwAAAAAAAAUAAAAAHAAAAAgAAAAjAAAACAAAACQAAAAYAP####8BAAAAABAAAWMAQAgAAAAAAADAMQAAAAAAAAUAAAAAHAAAAAgAAAAmAAAACAAAACcAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAACr#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACsAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALAAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAtAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAvAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAPwAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABAAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEMAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARAAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABH#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABBAAAAQgAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAARQAAAEYAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEgAAABLAAAASQAAAEoAAABIAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAARgAAAEEAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARgAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAHAQAAAAgAAAA0AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABSAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAUwAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVAAAABkA#####wAAAA0AAABTAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABWAAAAVwAAACAA#####wEAAAAAEAAAAQABAAAAVgAAAFgAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFkAAAAZAP####8AAAANAAAAWgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABbAAAAHgD#####AQAAAAABAAAABQAAAFwAAABdAAAAXgAAAF8AAABcAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABfAAAAXgAAAGEAAABiAAAAXwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEEAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXQAAAGQAAABlAAAAXgAAAF0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABnAAAAaAAAAGkAAABqAAAAZ#####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAUQAAAFr#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFEAAABaAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABsAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABtAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAbgAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAABvAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAF7#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAABxEgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHAAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcAAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABwAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHQAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAZQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF4AAABpAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXwAAAGEAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB4EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB2EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHQAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB3EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHX#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYAAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAJAD#####AQAAAAAAAGYAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABdAAAAXgAAAGQAAABlAAAAZgAAACQA#####wEAAAAAAABrAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAZwAAAGgAAABpAAAAagAAAGsAAAAkAP####8BAAAAAAAAYwAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAF4AAABfAAAAYQAAAGIAAABjAAAAJAD#####AAAAAAAAAHwAAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAHwAAAAkAP####8AAAAAAAAAfwAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABfAAAAYQAAAGIAAABjAAAAfwAAACQA#####wAAAAAAAAB+AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAZwAAAGgAAABpAAAAagAAAGsAAAB+AAAAJAD#####AAAAAAAAAH0AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABdAAAAXgAAAGQAAABlAAAAZgAAAH0AAAAkAP####8BAAAAAAAAcgAAAAgAAAA0AAAAWgAAAAoAAABaAAAAWwAAAF4AAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAJAD#####AAAAAAAAAIQAAAAIAAAAAwAAAFYAAAAOAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAIQAAAAkAP####8BAAAAAAAAeQAAAAgAAAA0AAAAWgAAAAwAAABaAAAAWwAAAF8AAABhAAAAbAAAAG0AAABuAAAAbwAAAHAAAABzAAAAeAAAAHkAAAAkAP####8AAAAAAAAAhgAAAAgAAAADAAAAVgAAABAAAABWAAAAWAAAAFkAAABaAAAAWwAAAF8AAABhAAAAbAAAAG0AAABuAAAAbwAAAHAAAABzAAAAeAAAAHkAAACGAAAAJAD#####AQAAAAAAAHsAAAAIAAAANAAAAFoAAAANAAAAWgAAAFsAAABeAAAAaQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHUAAAB3AAAAewAAACQA#####wAAAAAAAACIAAAACAAAAAMAAABWAAAAEQAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAACIAAAAJAD#####AQAAAAAAAHoAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABdAAAAZQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHYAAAB6AAAAJAD#####AAAAAAAAAIoAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABdAAAAZQAAAGwAAABtAAAAbgAAAG8AAABwAAAAdAAAAHYAAAB6AAAAiv####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABGAAAAIQAAAACMAAJ4MgAAABwAAABGAAAAIgAAAACMAAJ5MgAAABwAAABGAAAAGgEAAACMAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAARhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAQQAAACEAAAAAkAACeDIAAAAcAAAAQQAAACIAAAAAkAACeTIAAAAcAAAAQQAAABoBAAAAkAH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEEQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJQAAngyAAAAHAAAACAAAAAiAAAAAJQAAnkyAAAAHAAAACAAAAAaAQAAAJQB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACYAAJ4MgAAABwAAAAeAAAAIgAAAACYAAJ5MgAAABwAAAAeAAAAGgEAAACYAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnAACeDIAAAAcAAAAIgAAACIAAAAAnAACeTIAAAAcAAAAIgAAABoBAAAAnAH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABHAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACgAAAAIQAAAAChAAJ4MgAAABwAAACgAAAAIgAAAAChAAJ5MgAAABwAAACgAAAAGgEAAAChAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACMTAAAAABQCQAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAGAD#####AQAAAAAQAAFiAEAIAAAAAAAAwDL#######gFAAAAABwAAAAIAAAApQAAAAgAAACmAAAAHgD#####AAAAAAABAAAABQAAACsAAAAsAAAALQAAAC4AAAArAAAAHgD#####ACy4LAABAAAABQAAADAAAAAxAAAAMgAAADMAAAAw#####wAAAAEAEENTdXJmYWNlUG9seWdvbmUA#####wAAfwAAAAAFAAAAqwAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA2AAAACAAAAKcAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAAgAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAEEAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQgAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAAiAAAArQAAAB4A#####wAAAAAAAQAAAAUAAACuAAAArwAAALAAAACxAAAArgAAABkA#####wAAAA0AAACpAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAArgAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACvAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAALAAAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsQAAALMAAAAeAP####8A#wAAAAEAAAAFAAAAtAAAALUAAAC2AAAAtwAAALQAAAAmAP####8A#wAAAAAABQAAALgAAAAZAP####8AAAANAAAAKf####8AAAABAAtDTWFjcm9QYXVzZQD#####AAAAAAH#####EECO9AAAAAAAQEHCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAgAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA1AAAACAAAAKgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAAvAAAAB4A#####wH#AAAAAQAAAAUAAAC9AAAAvgAAAL8AAADAAAAAvQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL0AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvgAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC#AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMAAAAC6AAAAHgD#####AAAAfwABAAAABQAAAMIAAADDAAAAxAAAAMUAAADCAAAAJgD#####AAAA#wAAAAUAAADGAAAAAgD#####AAN4YzEAAjMyAAAAAUBAAAAAAAAAAAAAAgD#####AAN5YzEAAjIwAAAAAUA0AAAAAAAAAAAAGAD#####AQB#AAAQAAJjMQBAAAAAAAAAAMA5AAAAAAAABQAAAAAcAAAACAAAAMgAAAAIAAAAyf####8AAAABAAlDRHJvaXRlT20A#####wAAfwAAEAAAAQACAAAAHAAAAMoAAAAbAAAAAT#wAAAAAAAA#####wAAAAEAD0NTeW1ldHJpZUF4aWFsZQD#####AAAAywAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAADMAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAMwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAyAAAAzAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAADMAAAAHgD#####AQB#AAABAAAABQAAAM0AAADOAAAAzwAAANAAAADNAAAAJgD#####AQB#AAAAAAUAAADRAAAADwD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAcAnnHHHHHHHAAAADgAAABkA#####wAAAA0AAABGAAAAGQD#####AAAADQAAAFIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADTAAAA1QAAACAA#####wH#AAAAEAAAAQACAAAA0wAAANYAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADTAAAA1AAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANYAAADUAAAAIAD#####AQB#AAAQAAABAAIAAADYAAAA2f####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADLAAAA2gAAABoA#####wAAfwAAwDoAAAAAAADAPgAAAAAAAAAAANsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAACAP####8AA3hjMgABNAAAAAFAEAAAAAAAAAAAAAIA#####wADeWMyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN4YzMAATgAAAABQCAAAAAAAAAAAAACAP####8AA3ljMwABNAAAAAFAEAAAAAAAAAAAABgA#####wH#AAAAEAACYzIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAADdAAAACAAAAN4AAAAYAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAN0AAAAIAAAA3gAAABgA#####wH#AAAAEAACYzMAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAADfAAAACAAAAOAAAAACAP####8AAnhWAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAJ5VgABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeFYyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN5VjIAATAAAAABAAAAAAAAAAAAAAACAP####8AA3hWMwABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeVYzAAEwAAAAAQAAAAAAAAAAAAAAKAD#####AP8AAAAQAAABAAIAAAAcAAAA4QAAAAE#8AAAAAAAAAAAACkA#####wAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC0AAAA6wAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALUAAADrAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtgAAAOsAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC3AAAA6wAAAB4A#####wH#AAAAAQAAAAUAAADsAAAA7QAAAO4AAADvAAAA7AAAACYA#####wH#AAAAAAAFAAAA8P####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8AAAD#ABAAAAEAAgAAAOMAAAAOAAAAGQD#####AAAA0wAAANkAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADqAAAA1wAAABoA#####wD#AAAAwEYAAAAAAADAPAAAAAAAAAAAAPQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAOAAAA8gAAABoA#####wAAAP8AwD0AAAAAAADACAAAAAAAAAAAAPYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAfAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAHwAAAAcAAAAABwIAAAAIAAAANAAAAAFAAAAAAAAAAAAAAAE#8AAAAAAAAAAAABEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAD5AAAA1AAAABAA#####wEAAP8AEAABWQAAAAAAAAAAAEAIAAAAAAAABQAAAAD6AAAA8wAAACAA#####wH#AAAAEAAAAQABAAAA+gAAAPsAAAAqAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADqAAAA#AAAABoA#####wD#AAAAwDUAAAAAAADAAAAAAAAAAAAAAP0QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAgAP####8BAH8AABAAAAEAAQAAAPgAAAD7AAAAKgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAywAAAP8AAAAaAP####8AAH8AAL#wAAAAAAAAP#AAAAAAAAAAAAEAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMSkp################"
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAT7#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAAAAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEbAAAAAAABAU2FHrhR64v####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAAKAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAACgAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAACv####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAP####8AAAABAA9DUmVzdWx0YXRWYWxldXIAAAAC#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAUBngAAAAAAAAAAACwAAAAUA#####wAAAAoAAAAIAAAAAf####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAAA######AAAAAQAOQ1BvaW50TGllUG9pbnQA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABD#####AAAAAQAJQ0NlcmNsZU9BAP####8B#wAAAAIAAAAKAAAAEf####8AAAABAA1DRGVtaURyb2l0ZU9BAP####8B#wAAAA0AAAEAAgAAAAoAAAAR#####wAAAAEAEENEZW1pRHJvaXRlSW1hZ2UA#####wH#AAAADQAAAQACAAAAEwAAAAz#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAAFAAAABL#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAABUAAAAKAP####8B#wAAABAAAkonAAAAAAAAAAAAQAgAAAAAAAAFAAAAABEAAAANAAAACgD#####Af8AAAAQAAJJJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAWAAAADf####8AAAACAAdDUmVwZXJlAP####8A5ubmAQEAAAAKAAAAGAAAABcAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####Af8AAAEQAAJCJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAkAAAAIAAAACAAAAAsA#####wEAAAAAEAABQgBAAAAAAAAAAMA3AAAAAAAABQAAAAAaAAAAEgD#####Af8AAAEQAAJEJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAUAAAAIAAAABAAAAAsA#####wEAAAAAEAABRADAMQAAAAAAAMAqAAAAAAAABQAAAAAcAAAAEgD#####Af8AAAEQAAJDJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAACAAAAAcAAAAIAAAABgAAAAsA#####wEAAAAAEAABQwBACAAAAAAAAL#wAAAAAAAABQAAAAAeAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAP####8AAAABAAdDTWlsaWV1AP####8BAAAAARAAAkkxAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAb#####wAAAAEAEUNTeW1ldHJpZUNlbnRyYWxlAP####8AAAAhAAAACgD#####AQAAAAEQAAFJAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAAAi#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAACMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAcAnnHHHHHHHAAAAC#####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAAoAAAAjAAAAFgD#####AAAACgAAACQAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAlAAAAJwAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAAmAAAAFgD#####AAAAJQAAACkAAAAVAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAHAAAAAcAAAAABwIAAAAIAAAAIAAAAAFAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAsA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACsAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAsAAAAJgAAAAoA#####wEAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAqAAAAAgD#####AAN4YzIAATAAAAABAAAAAAAAAAAAAAACAP####8AA3ljMgABMAAAAAEAAAAAAAAAAAAAABIA#####wH#AAAAEAACYzIAAAAAAAAAAABACAAAAAAAAAUAAAAAGQAAAAgAAAAvAAAACAAAADD#####AAAAAQAJQ0Ryb2l0ZU9tAP####8B#wAAABAAAAEAAgAAABkAAAAxAAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8B#wAAABAAAAEAAQAAAC0AAAAu#####wAAAAEAEENJbnREcm9pdGVEcm9pdGUA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADIAAAAz#####wAAAAIADENDb21tZW50YWlyZQD#####Af8AAADANQAAAAAAAMAAAAAAAAAAAAAANBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAAAIA#####wADeGMxAAIyNgAAAAFAOgAAAAAAAAAAAAIA#####wADeWMxAAIyNgAAAAFAOgAAAAAAAAAAABIA#####wEAfwAAEAACYzEAQAAAAAAAAADAOQAAAAAAAAUAAAAAGQAAAAgAAAA2AAAACAAAADcAAAAXAP####8BAH8AABAAAAEAAgAAABkAAAA4#####wAAAAEADENNb2luc1VuYWlyZQAAAAE#8AAAAAAAAAAAABgA#####wEAAP8AEAAAAQABAAAALAAAAC4AAAAZAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAAOgAAABoA#####wEAfwABAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKf####8AAAABAAVDRm9uYwD#####AAdtb2R1bG94AAhtb2QoeCwyKf####8AAAABAA1DRm9uY3Rpb24yVmFyBv####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAABQAAAAAAAAAAAAXgAAAAcAP####8AB21vZHVsb3kAEm1vZChpbnQoeS9ueC8yKSwyKQAAAB0G#####wAAAAIACUNGb25jdGlvbgIAAAAHAwAAAAcDAAAAHgAAAAAAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAABwA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAAPQAAAB4AAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAhAAAAPgAAAB4AAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ4YQACMjAAAAABQDQAAAAAAAAAAAACAP####8AAnlhAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wAEbnVtYQABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeGMAAjE4AAAAAUAyAAAAAAAAAAAAAgD#####AAJ5YwACMTIAAAABQCgAAAAAAAAAAAASAP####8BAAAAABAAAWEAQBAAAAAAAADAMwAAAAAAAAUAAAAAGQAAAAgAAABAAAAACAAAAEEAAAASAP####8BAAAAABAAAWMAQAgAAAAAAADAMQAAAAAAAAUAAAAAGQAAAAgAAABDAAAACAAAAEQAAAAGAP####8AAAAKAAAABwMAAAABP#AAAAAAAAAAAAAhAAAAPwAAAAgAAABCAAAACgD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAEcAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAdAAAARwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAABHAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGwAAAEcAAAAWAP####8AAAAKAAAARQAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAABMAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAEwAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABKAAAATAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAABMAAAAHAD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAACAAAAAABwIAAAAHCAAAACEAAAA9AAAAHgAAAAAAAAABP#AAAAAAAAAAAAAHCAAAACEAAAA+AAAAHgAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAAcAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAAIAAAAAAHAgAAAAcIAAAAIQAAAD0AAAAeAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAAIQAAAD4AAAAeAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAABwA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAgAAAAAAcCAAAABwgAAAAhAAAAPQAAAB4AAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAhAAAAPgAAAB4AAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAVtaW5pMQACMTAAAAABQCQAAAAAAAAAAAACAP####8ABW1heGkxAAI0MAAAAAFARAAAAAAAAAAAAAIA#####wAEcGFzMQABMQAAAAE#8AAAAAAAAAAAABoA#####wEAAAAAwDEAAAAAAADALgAAAAAAAAAAAAoQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABQQAAAAIA#####wAFbWluaTIAAy0zMAAAABsAAAABQD4AAAAAAAAAAAACAP####8ABW1heGkyAAIzMAAAAAFAPgAAAAAAAAAAAAIA#####wAEcGFzMgABMQAAAAE#8AAAAAAAAAAAABMA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAHQAAAB8AAAAUAP####8AAABbAAAACgD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAABsAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAFwAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAIgAAABYA#####wAAAAoAAAAfAAAACgD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAoAAABgAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAAGAAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAbAAAAYAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAABg#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAAB0AAABdAAAAXgAAAB8AAAAdAAAAIgD#####AAAAAAABAAAABQAAABsAAAAfAAAAXwAAACMAAAAbAAAAIgD#####AAAAAAABAAAABQAAAGEAAABkAAAAYgAAAGMAAABhAAAAIgD#####AAAAAAABAAAABQAAAAoAAAAdAAAAHwAAABsAAAAKAAAAEAD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABUAAAARAP####8A5ubmAAEAAAAKAAAAIwAAAF0AAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAAVAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAACgAAAF0AAAAHAQAAAAgAAAAgAAAAAT#wAAAAAAAAAAAAGAD#####AQAAAAAQAAABAAEAAAAKAAAAJAAAABgA#####wEAAAAAEAAAAQABAAAACgAAAGsAAAAJAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAGwAAAAWAP####8AAAAKAAAAawAAAAoA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAbgAAAG8AAAAYAP####8BAAAAABAAAAEAAQAAAG4AAABwAAAACQD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABxAAAAFgD#####AAAACgAAAHIAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAKAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB0AAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAAHMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAbAAAAcwAAACIA#####wEAAAAAAQAAAAUAAAB0AAAAdQAAAHYAAAB3AAAAdAAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIwAAAHMAAAAiAP####8BAAAAAAEAAAAFAAAAdwAAAHYAAAB5AAAAegAAAHcAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABdAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF4AAABzAAAAIgD#####AQAAAAABAAAABQAAAHUAAAB8AAAAfQAAAHYAAAB1AAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYQAAAHMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABkAAAAcwAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAABzAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYwAAAHMAAAAiAP####8BAAAAAAEAAAAFAAAAfwAAAIAAAACBAAAAggAAAH######AAAAAgAIQ01lc3VyZVgA#####wABeAAAAGoAAABy#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABqAAAAcgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAB8CAAAABwAAAAAIAAAAhAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAB8CAAAABwAAAAAIAAAAhQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAIYAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAhwAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAHIAAAB2#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAiRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACIAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAIgAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAiAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAACMAAAAAT#wAAAAAAAAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAdQAAAH0AAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAB2AAAAgQAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAHcAAAB5AAAAJQD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAkBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACLAAAAJQD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAjhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACMAAAAJQD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAjxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAACN#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAHgAAAAIAAAAIAAAAHIAAAAHAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAACYA#####wEAAAAAAAB+AAAACAAAACAAAAByAAAABwAAAHIAAABzAAAAdQAAAHYAAAB8AAAAfQAAAH4AAAAmAP####8BAAAAAAAAgwAAAAgAAAAgAAAAcgAAAAcAAAByAAAAcwAAAH8AAACAAAAAgQAAAIIAAACDAAAAJgD#####AQAAAAAAAHsAAAAIAAAAIAAAAHIAAAAHAAAAcgAAAHMAAAB2AAAAdwAAAHkAAAB6AAAAewAAACYA#####wAAAAAAAACUAAAACAAAAAMAAABuAAAACwAAAG4AAABwAAAAcQAAAHIAAABzAAAAdAAAAHUAAAB2AAAAdwAAAHgAAACUAAAAJgD#####AAAAAAAAAJcAAAAIAAAAAwAAAG4AAAALAAAAbgAAAHAAAABxAAAAcgAAAHMAAAB2AAAAdwAAAHkAAAB6AAAAewAAAJcAAAAmAP####8AAAAAAAAAlgAAAAgAAAADAAAAbgAAAAsAAABuAAAAcAAAAHEAAAByAAAAcwAAAH8AAACAAAAAgQAAAIIAAACDAAAAlgAAACYA#####wAAAAAAAACVAAAACAAAAAMAAABuAAAACwAAAG4AAABwAAAAcQAAAHIAAABzAAAAdQAAAHYAAAB8AAAAfQAAAH4AAACVAAAAJgD#####AQAAAAAAAIoAAAAIAAAAIAAAAHIAAAAKAAAAcgAAAHMAAAB2AAAAhAAAAIUAAACGAAAAhwAAAIgAAACJAAAAigAAACYA#####wAAAAAAAACcAAAACAAAAAMAAABuAAAADgAAAG4AAABwAAAAcQAAAHIAAABzAAAAdgAAAIQAAACFAAAAhgAAAIcAAACIAAAAiQAAAIoAAACcAAAAJgD#####AQAAAAAAAJEAAAAIAAAAIAAAAHIAAAAMAAAAcgAAAHMAAAB3AAAAeQAAAIQAAACFAAAAhgAAAIcAAACIAAAAiwAAAJAAAACRAAAAJgD#####AAAAAAAAAJ4AAAAIAAAAAwAAAG4AAAAQAAAAbgAAAHAAAABxAAAAcgAAAHMAAAB3AAAAeQAAAIQAAACFAAAAhgAAAIcAAACIAAAAiwAAAJAAAACRAAAAngAAACYA#####wEAAAAAAACTAAAACAAAACAAAAByAAAADQAAAHIAAABzAAAAdgAAAIEAAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACNAAAAjwAAAJMAAAAmAP####8AAAAAAAAAoAAAAAgAAAADAAAAbgAAABEAAABuAAAAcAAAAHEAAAByAAAAcwAAAHYAAACBAAAAhAAAAIUAAACGAAAAhwAAAIgAAACMAAAAjQAAAI8AAACTAAAAoAAAACYA#####wEAAAAAAACSAAAACAAAACAAAAByAAAADAAAAHIAAABzAAAAdQAAAH0AAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACOAAAAkgAAACYA#####wAAAAAAAACiAAAACAAAAAMAAABuAAAAEAAAAG4AAABwAAAAcQAAAHIAAABzAAAAdQAAAH0AAACEAAAAhQAAAIYAAACHAAAAiAAAAIwAAACOAAAAkgAAAKL#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAIwAAACMAAAAApAACeDIAAAAZAAAAIwAAACQAAAAApAACeTIAAAAZAAAAIwAAABoBAAAApAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAACMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAnAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAGQAAAF0AAAAjAAAAAKgAAngyAAAAGQAAAF0AAAAkAAAAAKgAAnkyAAAAGQAAAF0AAAAaAQAAAKgB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABdEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABkAAAAdAAAAIwAAAACsAAJ4MgAAABkAAAAdAAAAJAAAAACsAAJ5MgAAABkAAAAdAAAAGgEAAACsAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAHRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACcA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAGwAAACMAAAAAsAACeDIAAAAZAAAAGwAAACQAAAAAsAACeTIAAAAZAAAAGwAAABoBAAAAsAH#AAAAv#AAAAAAAAA#########4AAAABsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAnAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAGQAAAB8AAAAjAAAAALQAAngyAAAAGQAAAB8AAAAkAAAAALQAAnkyAAAAGQAAAB8AAAAaAQAAALQB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAfEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAACgD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAfAAAAYAAAACcA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAZAAAAuAAAACMAAAAAuQACeDIAAAAZAAAAuAAAACQAAAAAuQACeTIAAAAZAAAAuAAAABoBAAAAuQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAALgQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAABIA#####wEAAAAAEAABYgBACAAAAAAAAMAy#######4BQAAAAAZAAAACAAAAL0AAAAIAAAAvgAAACIA#####wAAAAAAAQAAAAUAAABIAAAASQAAAEoAAABLAAAASAAAACIA#####wEsuCwAAQAAAAUAAABNAAAATgAAAE8AAABQAAAATf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAH8AAAAABQAAAMMAAAAGAP####8AAAAKAAAABwMAAAABP#AAAAAAAAAAAAAhAAAAUgAAAAgAAAC#AAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAHQAAAMUAAAAKAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABdAAAAxQAAAAoA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAF4AAADFAAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAHwAAAMUAAAAiAP####8AAAAAAAEAAAAFAAAAxgAAAMcAAADIAAAAyQAAAMYAAAAWAP####8AAAAKAAAAwQAAAAoA#####wEA#wAAEAABSAAAAAAAAAAAAEAIAAAAAAAACQAAAADGAAAAywAAAAoA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMcAAADLAAAACgD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAyAAAAMsAAAAKAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADJAAAAywAAACIA#####wH#AAAAAQAAAAUAAADMAAAAzQAAAM4AAADPAAAAzAAAACgA#####wH#AAAAAAAFAAAA0AAAABYA#####wAAAAoAAABG#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI7sAAAAAABAIwo9cKPXDAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAABgD#####AAAACgAAAAcDAAAAAT#wAAAAAAAAAAAAIQAAAFEAAAAIAAAAwAAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAADUAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAZAAAANQAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABiAAAA1AAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGMAAADUAAAAIgD#####Af8AAAABAAAABQAAANUAAADWAAAA1wAAANgAAADVAAAACgD#####Af8AAAAQAAFNAAAAAAAAAAAAQAgAAAAAAAAFAAAAANUAAADSAAAACgD#####Af8AAAAQAAFOAAAAAAAAAAAAQAgAAAAAAAAFAAAAANYAAADSAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA1wAAANIAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADYAAAA0gAAACIA#####wEAAH8AAQAAAAUAAADaAAAA2wAAANwAAADdAAAA2gAAACgA#####wEAAP8AAAAFAAAA3v####8AAAABAA9DU3ltZXRyaWVBeGlhbGUA#####wAAADkAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAA4AAAAAoA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAADgAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATwAAAOAAAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAA4AAAACIA#####wEAfwAAAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACgA#####wEAfwAAAAAFAAAA5QAAABgA#####wH#AAAAEAAAAQACAAAAJQAAACgAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAlAAAAJgAAABgA#####wEAfwAAEAAAAQACAAAA6AAAACkAAAAZAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAA6QAAABoA#####wEAfwAAwDoAAAAAAADAPgAAAAAAAAAAAOoQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAACAP####8AA3hjMwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeWMzAAE0AAAAAUAQAAAAAAAAAAAAEgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGQAAAAgAAAAvAAAACAAAADAAAAASAP####8B#wAAABAAAmMzAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAIAAAA7AAAAAgAAADtAAAAAgD#####AAJ4VgABMAAAAAEAAAAAAAAAAAAAAAIA#####wACeVYAATAAAAABAAAAAAAAAAAAAAACAP####8AA3hWMgABMAAAAAEAAAAAAAAAAAAAAAIA#####wADeVYyAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAN4VjMAATAAAAABAAAAAAAAAAAAAAACAP####8AA3lWMwABMAAAAAEAAAAAAAAAAAAAACoA#####wAAADIAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADMAAAA9gAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAM0AAAD2AAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzgAAAPYAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADPAAAA9gAAACIA#####wH#AAAAAQAAAAUAAAD3AAAA+AAAAPkAAAD6AAAA9wAAACgA#####wH#AAAAAAAFAAAA+#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAD#ABAAAAEAAgAAAO8AAAALAAAAGQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMgAAAOcAAAAaAP####8B#wAAAMBGAAAAAAAAwDwAAAAAAAAAAAD+EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikpAAAAGQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACwAAAP0AAAAaAP####8BAAD#AMA9AAAAAAAAwAgAAAAAAAAAAAEAEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMykp#####wAAAAEADUNQb2ludFByb2pldGUA#####wEAfwAAEAABRQAAAAAAAAAAAEAIAAAAAAAABQAAAABFAAAAOQAAABgA#####wEAfwAAEAAAAQABAAAA4QAAAEUAAAAJAP####8BAH8AABAAAUYAAAAAAAAAAABACAAAAAAAAAUAAT#wAAAAAAAAAAABA#####8AAAACAA9DTWVzdXJlQWJzY2lzc2UA#####wACazEAAAECAAAARQAAAQQAAAAsAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAAOQAAACwA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAAA5AAAABgD#####AAABBgAAAAgAAAEFAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAUAAAAQgAAAAGAP####8AAAEHAAAACAAAAQUAAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABOAAABCgAAAAYA#####wAAAQIAAAAIAAABBQAAAAoA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE8AAAEMAAAAIgD#####AQB#AAABAAAABQAAAQsAAAEEAAABCQAAAQ0AAAELAAAAKAD#####AQB#AAAAAAUAAAEO#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQI0UAAAAAABAScKPXCj1xAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAkAAADDAAAAxAAAAQ4AAAEPAAAA5QAAAOYAAAA8AAAAOQAAAOv#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AAB#AAH#####CkCNDAAAAAAAQFLhR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAlhcHBhcmFpdDEAAAAAAAkAAADDAAAAxAAAAQ4AAAEPAAAA5QAAAOYAAAA8AAAAOQAAAOsA#####wAAAAIAF0NNYWNyb0FuaW1hdGlvblBvaW50TGllAP####8AAH8AAf####8KQI0MAAAAAABAWeFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0xAAAAAAAAFAAAAGQAAAA8AAABBAABAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AAB#AAH#####CkA0gAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGEAAAAAAAQAAAERAAABEgAAARAAAADTAAAALAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAOAAAADIAAAAsAP####8BAH8AABAAAUcAAAAAAAAAAABACAAAAAAAAAUAAAAAzAAAADIAAAAYAP####8BAH8AABAAAAEAAQAAAMwAAAD3AAAACQD#####AQB#AAAQAAFLAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAARYAAAAtAP####8AAmsyAAABFQAAAMwAAAEXAAAALAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzwAAADIAAAAsAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADOAAAAMgAAAAYA#####wAAARoAAAAIAAABGAAAAAoA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAM4AAAEbAAAABgD#####AAABGQAAAAgAAAEYAAAACgD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAzwAAAR0AAAAKAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADNAAABHQAAACIA#####wH#AAAAAQAAAAUAAAEXAAABHgAAARwAAAEfAAABFwAAACgA#####wH#AAAAAAAFAAABIAAAAC4A#####wD#AAAB#####wpAjUwAAAAAAEBhcKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAACQAAANAAAADRAAAA+wAAASAAAAEhAAAA#AAAAP8AAAAyAAAANQAAAC8A#####wD#AAAB#####wpAjUwAAAAAAEBlcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQyAAAAAAAJAAAA0AAAANEAAAD7AAABIAAAASEAAAD8AAAA#wAAADIAAAA1AAAAADAA#####wD#AAAB#####wpAjWQAAAAAAEBpcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTIAAAAAAAAUAAAAZAAAADwAAAEXAAEAAAAAMQD#####AP8AAAH#####CkBYIAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGIAAAAAAAQAAAEjAAABJAAAASIAAADTAAAAKgD#####AAAA#QAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANoAAAEmAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA2wAAASYAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADcAAABJgAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAN0AAAEmAAAAIgD#####AQAA#wABAAAABQAAAScAAAEoAAABKQAAASoAAAEnAAAAKAD#####AQAA#wAAAAUAAAErAAAALAD#####AQAA#wAQAAFMAAAAAAAAAAAAQAgAAAAAAAAFAAAAANoAAAD9AAAALAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA3QAAAP0AAAAYAP####8B#wAAABAAAAEAAQAAANsAAAEoAAAACQD#####Af8AAAAQAAFQAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAAS8AAAAtAP####8AAmszAAABLQAAANsAAAEwAAAABgD#####AAABLQAAAAgAAAExAAAACgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA2gAAATIAAAAGAP####8AAAEuAAAACAAAATEAAAAKAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADdAAABNAAAAAoA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAANwAAAE0AAAAIgD#####AQAA#wABAAAABQAAATMAAAEwAAABNgAAATUAAAEzAAAAKAD#####AQAA#wAAAAUAAAE3AAAALgD#####AAAA#wH#####CkCNZAAAAAAAQG2Qo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUzAAAAAAAIAAAA3gAAAN8AAAE3AAABOAAAAQEAAAD9AAABKwAAASwAAAAvAP####8AAAD#Af####8QQI2MAAAAAABAcJhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAACAAAAN4AAADfAAABNwAAATgAAAEBAAAA#QAAASsAAAEsAAAAADAA#####wAAAP8B#####wpAjcwAAAAAAEBy2FHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTMAAAAAAAAUAAAAZAAAADwAAAEwAAEAAAAAMQD#####AAAA#wH#####CkBlUAAAAAAAQBYUeuFHrhgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAMAAAE6AAABOwAAATkAAAAxAP####8AAAD#Af####8QQI28AAAAAABAdNhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAQAAADTAAABEwAAASUAAAE8################"
		// Première question : une figure type A par symétrie d'axe // à [BD] est une figure type A. le symétrique du sommet A est le sommet C
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			let indexsym1 = randint(0, nx * ny - 1, [indexA]) // sert à choisir un axe [BD]. 
			xmil1=tabfigD[indexsym1][0] // sert pour faire passer l'axe de symétrie.
			ymil1=tabfigD[indexsym1][1]
			point = image_point_par_transformation(2, [tabfigA[indexA][0], tabfigA[indexA][1]], [xmil1, ymil1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num1=tabfigA[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexsym1 = randint(0, nx * ny - 1, [indexA]) 
					xmil1=tabfigD[indexsym1][0] 
					ymil1=tabfigD[indexsym1][1]
					point = image_point_par_transformation(2, [tabfigA[indexA][0], tabfigA[indexA][1]], [xmil1, ymil1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numA} dans la symétrie par rapport à $(d_1)$ ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numA} dans la symétrie par rapport à $(d_1)$ porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure type D par symétrie d'axe // à [AC] est une figure type B. le symétrique du sommet B est le sommet D
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			let indexsym2 = randint(0, nx * ny - 1, [indexD]) // sert à choisir un axe [AC]. 
			xmil2=tabfigA[indexsym2][0] // sert pour faire passer l'axe de symétrie.
			ymil2=tabfigA[indexsym2][1]
			point = image_point_par_transformation(1, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num2=tabfigB[j][2]
						xb=tabfigD[indexD][0]
						yb=tabfigD[indexD][1]-4
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexsym2 = randint(0, nx * ny - 1, [indexD]) // sert à choisir un axe [AC]. 
					xmil2=tabfigA[indexsym2][0] // sert pour faire passer l'axe de symétrie.
					ymil2=tabfigA[indexsym2][1]
					point = image_point_par_transformation(1, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numD} dans la symétrie par rapport à $(d_2)$ ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numD} dans la symétrie par rapport à $(d_2)$ porte le numéro ${num2}.<br>`, `red`)
			// troisième question : une figure type C par symétrie d'axe // à [DC] est une figure type B. le symétrique du sommet C est le sommet C'
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			let indexsym3 = randint(0, nx * ny - 1, [indexC]) // sert à choisir un axe [AC]. 
			xmil3=tabfigC[indexsym3][0] // sert pour faire passer l'axe de symétrie.
			ymil3=tabfigC[indexsym3][1]
			point = image_point_par_transformation(3, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num3=tabfigC[j][2]
						xc=tabfigC[indexC][0]-4
						yc=tabfigC[indexC][1]-4
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					let indexsym3 = randint(0, nx * ny - 1, [indexC]) // sert à choisir un axe [AC]. 
					xmil3=tabfigC[indexsym3][0] // sert pour faire passer l'axe de symétrie.
					ymil3=tabfigC[indexsym3][1]
					point = image_point_par_transformation(3, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numC} dans la symétrie par rapport à $(d_3)$ ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numC} dans la symétrie par rapport à $(d_3)$ porte le numéro ${num3}.<br>`, `blue`)

			break
		case 2 : // symétrie centrale
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAST#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN4YzEAATUAAAABQBQAAAAAAAAAAAACAP####8AA3ljMQABMgAAAAFAAAAAAAAAAAAAABgA#####wEAAAAAEAABYQAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACMAAAAIAAAAJAAAABgA#####wEAAAAAEAABYwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACYAAAAIAAAAJwAAABgA#####wAJzAkAEAACYzEAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAAAoAAAACAAAACkAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAC3#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALwAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAyAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAQgAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABDAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARwAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABKAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAASgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABK#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABEAAAARQAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAASAAAAEkAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEsAAABOAAAATAAAAE0AAABLAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAASQAAAEQAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAASQAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAHAQAAAAgAAAA3AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABVAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAVgAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVwAAABkA#####wAAAA0AAABWAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABZAAAAWgAAACAA#####wEAAAAAEAAAAQABAAAAWQAAAFsAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFwAAAAZAP####8AAAANAAAAXQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABeAAAAHgD#####AQAAAAABAAAABQAAAF8AAABgAAAAYQAAAGIAAABfAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABiAAAAYQAAAGQAAABlAAAAYgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEQAAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAF4AAAAeAP####8BAAAAAAEAAAAFAAAAYAAAAGcAAABoAAAAYQAAAGAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABqAAAAawAAAGwAAABtAAAAav####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAVAAAAF3#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFQAAABdAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABvAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABwAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAcQAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAAByAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAAB0EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcwAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABzAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHcAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAaAAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAABsAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAGQAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB7EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHYAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB5EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHcAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB6EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHj#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYwAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAJAD#####AQAAAAAAAGkAAAAIAAAANwAAAF0AAAAHAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAACQA#####wEAAAAAAABuAAAACAAAADcAAABdAAAABwAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAAAkAP####8BAAAAAAAAZgAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAggAAAAgAAAADAAAAWQAAAAsAAABZAAAAWwAAAFwAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAggAAACQA#####wAAAAAAAACBAAAACAAAAAMAAABZAAAACwAAAFkAAABbAAAAXAAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAACBAAAAJAD#####AAAAAAAAAIAAAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAAIAAAAAkAP####8BAAAAAAAAdQAAAAgAAAA3AAAAXQAAAAoAAABdAAAAXgAAAGEAAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAJAD#####AAAAAAAAAIcAAAAIAAAAAwAAAFkAAAAOAAAAWQAAAFsAAABcAAAAXQAAAF4AAABhAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAIcAAAAkAP####8BAAAAAAAAfAAAAAgAAAA3AAAAXQAAAAwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAAAkAP####8AAAAAAAAAiQAAAAgAAAADAAAAWQAAABAAAABZAAAAWwAAAFwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAACJAAAAJAD#####AQAAAAAAAH4AAAAIAAAANwAAAF0AAAANAAAAXQAAAF4AAABhAAAAbAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHgAAAB6AAAAfgAAACQA#####wAAAAAAAACLAAAACAAAAAMAAABZAAAAEQAAAFkAAABbAAAAXAAAAF0AAABeAAAAYQAAAGwAAABvAAAAcAAAAHEAAAByAAAAcwAAAHcAAAB4AAAAegAAAH4AAACLAAAAJAD#####AQAAAAAAAH0AAAAIAAAANwAAAF0AAAAMAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAJAD#####AAAAAAAAAI0AAAAIAAAAAwAAAFkAAAAQAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAjf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABJAAAAIQAAAACPAAJ4MgAAABwAAABJAAAAIgAAAACPAAJ5MgAAABwAAABJAAAAGgEAAACPAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAASRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARAAAACEAAAAAkwACeDIAAAAcAAAARAAAACIAAAAAkwACeTIAAAAcAAAARAAAABoBAAAAkwH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJcAAngyAAAAHAAAACAAAAAiAAAAAJcAAnkyAAAAHAAAACAAAAAaAQAAAJcB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACbAAJ4MgAAABwAAAAeAAAAIgAAAACbAAJ5MgAAABwAAAAeAAAAGgEAAACbAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnwACeDIAAAAcAAAAIgAAACIAAAAAnwACeTIAAAAcAAAAIgAAABoBAAAAnwH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABKAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACjAAAAIQAAAACkAAJ4MgAAABwAAACjAAAAIgAAAACkAAJ5MgAAABwAAACjAAAAGgEAAACkAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAAjI0AAAAAUA4AAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAAAIA#####wADeGMyAAEzAAAAAUAIAAAAAAAAAAAAAgD#####AAN5YzIAATUAAAABQBQAAAAAAAAAAAACAP####8AA3hjMwABNgAAAAFAGAAAAAAAAAAAAAIA#####wADeWMzAAE3AAAAAUAcAAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAqAAAAAgAAACpAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAKwAAAAIAAAArQAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACuAAAACAAAAK8AAAAeAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAeAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAAC0AAAAHQD#####AAAALAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC2AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC2AAAAHgD#####ASy4LAABAAAABQAAALcAAAC4AAAAuQAAALoAAAC3AAAAJgD#####AQB#AAAAAAUAAAC7AAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAqgAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAAC9AAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAARAAAAL0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABFAAAAvQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAAC9AAAAHgD#####AAAAAAABAAAABQAAAL4AAAC#AAAAwAAAAMEAAAC+AAAAGQD#####AAAADQAAALAAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAC+AAAAwwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAL8AAADDAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAwAAAAMMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADBAAAAwwAAAB4A#####wD#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACYA#####wD#AAAAAAAFAAAAyAAAAB0A#####wAAALEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADEAAAAygAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMUAAADKAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAxgAAAMoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADHAAAAygAAAB4A#####wH#AAAAAQAAAAUAAADLAAAAzAAAAM0AAADOAAAAywAAACYA#####wH#AAAAAAAFAAAAzwAAABkA#####wAAAA0AAAArAAAAHQD#####AAAAsv####8AAAABABJDTWFjcm9DbGlnbm90ZW1lbnQA#####wAA#wAB#####wpAi8QAAAAAAEBSoUeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUxAAAAAAACAAAAuwAAALwAAAAU#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAC#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AQD#AAABAAAALAAAACv#####AAAAAUBmgAAAAAAAAAAAKQD#####AQAAAAABAAAAsQAAAMX#####AAAAAUBmgAAAAAAA#####wAAAAEAD0NQb2ludExpZUNlcmNsZQD#####Af8AAAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9Q#XA667psAAAA1gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADFAAAAsQAAANf#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAANgBAAAAABAAAAEAAQAAANcAAACxAAAAxQAAAA8AAAAA2AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAANn#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADYAAZhbmdsZTIAAADFAAAAsQAAANcAAAAjAQAAANgBAAAAAEAIAAAAAAAAP#AAAAAAAAAAAADaDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA2#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAANgBAAAAAAEAAAABQEJbiQkrj78AAADFAAAAsQAAANcAAAAADQD#####AAAAsQAAAAgAAADbAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAN4AAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA3gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMYAAADeAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxwAAAN4AAAAeAP####8B#wAAAAEAAAAFAAAA3wAAAOAAAADhAAAA4gAAAN8AAAAmAP####8B#wAAAAAABQAAAOP#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####CkCMxAAAAAAAQHsoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####wpAjPQAAAAAAEB9aFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AAAACcA#####wD#AAAB#####wpAjQwAAAAAAEB#eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUyAAAAAAACAAAAzwAAANAAAAAU#####wAAAAIAGENNYWNyb0FuaW1hdGlvbkF2ZWNUcmFjZQD#####AP8AAAH#####CkCNXAAAAAAAQIC8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUyAAAAAAABAAAA1wABAAAAAAoAAAAyAAAAAAAAANcBAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####CkCQTgAAAAAAQHs4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVDb3JyMgAAAAAABQAAAOcAAADUAAAA5QAAAOgAAADmAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAqwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEsAAADqAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATgAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABMAAAA6gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE0AAADqAAAAHgD#####Af8AAAABAAAABQAAAOsAAADsAAAA7QAAAO4AAADrAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA6wAAANEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADsAAAA0QAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAO0AAADRAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA7gAAANEAAAAeAP####8AAAB#AAEAAAAFAAAA8AAAAPEAAADyAAAA8wAAAPAAAAAmAP####8AAAB#AAAABQAAAPQAAAApAP####8B##8AAAEAAACyAAAA8P####8AAAABQGaAAAAAAAAAAAAqAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABPyl3lSGrWUIAAAD2AAAAJQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAPAAAACyAAAA9wAAACsAAAAA+AEAAAAAEAAAAQABAAAA9wAAALIAAADwAAAADwAAAAD4AQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA+QAAACwBAAAA+AAGYW5nbGUzAAAA8AAAALIAAAD3AAAAIwEAAAD4Af##AABACAAAAAAAAD#wAAAAAAAAAAAA+g8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAPsAAAAtAQAAAPgB##8AAAEAAAABQEJbiQkrj78AAADwAAAAsgAAAPcAAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8AAAANIAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADxAAAA0gAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPIAAADSAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8wAAANIAAAAeAP####8BAAB#AAEAAAAFAAAA#gAAAP8AAAEAAAABAQAAAP4AAAAmAP####8BAAB#AAAABQAAAQIAAAANAP####8AAACyAAAACAAAAPsAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADwAAABBAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPEAAAEEAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8gAAAQQAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADzAAABBAAAAB4A#####wEAAH8AAQAAAAUAAAEFAAABBgAAAQcAAAEIAAABBQAAACYA#####wEAAH8AAAAFAAABCQAAAC4A#####wAAAH8B#####wpAjLQAAAAAAEBkMKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALQXBwYXJpdGlvbjMAAAAAAAUAAAECAAABAwAAAQkAAAEKAAAA9wAAAAAvAP####8AAAB#Af####8KQIzUAAAAAABAaFCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAUAAAECAAABAwAAAQkAAAEKAAAA9wAAACcA#####wAAAH8B#####wpAjOwAAAAAAEBr0KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUzAAAAAAACAAABAgAAAQMAAAAUAAAAMAD#####AAAAfwH#####CkCNLAAAAAAAQG+wo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUzAAAAAAABAAAA9wABAAAAAAoAAAAyAAAAAAAAAPcBAAAAADEA#####wAAAH8B#####xBAkB4AAAAAAEBkkKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQ29ycjMAAAAAAAUAAAENAAAA1AAAAQsAAAEOAAABDAAAACkA#####wEAAH8AAQAAACwAAAAq#####wAAAAFAZoAAAAAAAAAAACoA#####wEAfwABEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#bzDaInuZNgAAARAAAAAlAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAAKgAAACwAAAERAAAAKwAAAAESAQAAAAAQAAABAAEAAAERAAAALAAAACoAAAAPAAAAARIBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAAETAAAALAEAAAESAAZhbmdsZTEAAAAqAAAALAAAAREAAAAjAQAAARIBAAB#AEAIAAAAAAAAP#AAAAAAAAAAAAEUDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAABFQAAAC0BAAABEgEAAH8AAQAAAAFAQluJCSuPvwAAACoAAAAsAAABEQAAAAANAP####8AAAAsAAAACAAAARUAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAzAAABGAAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADQAAAEYAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANQAAARgAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA2AAABGAAAAB4A#####wEAfwAAAQAAAAUAAAEZAAABGgAAARsAAAEcAAABGQAAACYA#####wEAfwAAAAAFAAABHQAAAC4A#####wAAfwAB#####xBAihQAAAAAAEBBQo9cKPXDAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALQXBwYXJpdGlvbjEAAAAAAAUAAAC7AAAAvAAAAR0AAAEeAAABEQAAAAAvAP####8AAH8AAf####8KQIpMAAAAAABAWeFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAUAAAC7AAAAvAAAAR0AAAEeAAABEQAAADAA#####wAAfwAB#####wpAinQAAAAAAEBf4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAAAAAQAAAREAAQAAAAAKAAAAMgAAAAAAAAERAQAAAAAxAP####8AAH8AAf####8KQI6cAAAAAABAV+FHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUNvcnIxAAAAAAAFAAAA0wAAANQAAAEfAAABIQAAASAAAAAxAP####8AAH8AAf####8KQIyEAAAAAABAcfhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAMAAAEiAAAA6QAAAQ################8="
			this.MG32codeBase64corr =  "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAST#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN4YzEAATUAAAABQBQAAAAAAAAAAAACAP####8AA3ljMQABMgAAAAFAAAAAAAAAAAAAABgA#####wEAAAAAEAABYQAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACMAAAAIAAAAJAAAABgA#####wEAAAAAEAABYwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAACYAAAAIAAAAJwAAABgA#####wAJzAkAEAACYzEAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAAAoAAAACAAAACkAAAAOAP####8AAAANAAAABwMAAAABP#AAAAAAAAAAAAAKAAAABgAAAAgAAAAlAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAC3#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAANAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC4AAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALwAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAyAAAAAgD#####AAJueQABNQAAAAFAFAAAAAAAAAAAAAMA#####wACcjMAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMgAlc2koKG1vZHVsb3goeCk9MCkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABAAAAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIxACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0wKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAIA#####wAFbWluaTEAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AAVtYXhpMQACNDAAAAABQEQAAAAAAAAAAAACAP####8ABHBhczEAATEAAAABP#AAAAAAAAD#####AAAAAgAMQ0NvbW1lbnRhaXJlAP####8BAAAAAMAxAAAAAAAAwC4AAAAAAAAAAAANEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAUEAAAACAP####8ABW1pbmkyAAMtMzD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUA+AAAAAAAAAAAAAgD#####AAVtYXhpMgACMzAAAAABQD4AAAAAAAAAAAACAP####8ABHBhczIAATEAAAABP#AAAAAAAAD#####AAAAAQAHQ01pbGlldQD#####AQAAAAEQAAJKMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAIv####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAQgAAABAA#####wEAAAABEAABSgAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAQwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABDAAAAHAD#####AQAAAAEQAAJJMQAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAHgAAAB0A#####wAAAEYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARwAAABkA#####wAAAA0AAAAiAAAAEAD#####AQAAAAEQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABKAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAEoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAASgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABK#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAACAAAABEAAAARQAAACIAAAAgAAAAHgD#####AAAAAAABAAAABQAAAB4AAAAiAAAASAAAAEkAAAAeAAAAHgD#####AAAAAAABAAAABQAAAEsAAABOAAAATAAAAE0AAABLAAAAHgD#####AAAAAAABAAAABQAAAA0AAAAgAAAAIgAAAB4AAAANAAAAFgD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAgAAABgAAAAXAP####8A5ubmAAEAAAANAAAASQAAAEQAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAQARQ1BvaW50UGFyQWJzY2lzc2UA#####wEAAAAAEAABVQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAASQAAAAcBAAAACAAAAAMAAAABP#AAAAAAAAAAAAAfAP####8BAAAAABAAAVYAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAHAQAAAAgAAAA3AAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAA0AAABVAAAAIAD#####AQAAAAAQAAABAAEAAAANAAAAVgAAAA8A#####wEAAAAAEAACVTEAAAAAAAAAAABACAAAAAAAAAUAAT#TA9Z22dUpAAAAVwAAABkA#####wAAAA0AAABWAAAAEAD#####AQAAAAAQAAJWMQAAAAAAAAAAAEAIAAAAAAAABQAAAABZAAAAWgAAACAA#####wEAAAAAEAAAAQABAAAAWQAAAFsAAAAPAP####8BAAAAABAAAlUyAAAAAAAAAAAAQAgAAAAAAAAFAAE#1tGzvqNnfgAAAFwAAAAZAP####8AAAANAAAAXQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAABeAAAAHgD#####AQAAAAABAAAABQAAAF8AAABgAAAAYQAAAGIAAABfAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABiAAAAYQAAAGQAAABlAAAAYgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEQAAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAF4AAAAeAP####8BAAAAAAEAAAAFAAAAYAAAAGcAAABoAAAAYQAAAGAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAXgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAABeAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAF4AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAAXgAAAB4A#####wEAAAAAAQAAAAUAAABqAAAAawAAAGwAAABtAAAAav####8AAAACAAhDTWVzdXJlWAD#####AAF4AAAAVAAAAF3#####AAAAAgAIQ01lc3VyZVkA#####wABeQAAAFQAAABdAAAAAgD#####AAJ4MQAMaW50KHgrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABvAAAAAT9QYk3S8an8AAAAAgD#####AAJ5MQAMaW50KHkrMC4wMDEpAAAABgIAAAAHAAAAAAgAAABwAAAAAT9QYk3S8an8AAAAAgD#####AANudW0ADHgxKjIrbngqNCp5MQAAAAcAAAAABwIAAAAIAAAAcQAAAAFAAAAAAAAAAAAAAAcCAAAABwIAAAAIAAAAAwAAAAFAEAAAAAAAAAAAAAgAAAByAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAP####8BAAAAAMAmAAAAAAAAwCP#######AAAAB0EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHMAAAACAP####8ABG51bTEABW51bSsxAAAABwAAAAAIAAAAcwAAAAE#8AAAAAAAAAAAAAIA#####wAEbnVtJwAIbnVtK254KjIAAAAHAAAAAAgAAABzAAAABwIAAAAIAAAAAwAAAAFAAAAAAAAAAAAAAAIA#####wAFbnVtJzEABm51bScrMQAAAAcAAAAACAAAAHcAAAABP#AAAAAAAAAAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAaAAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGEAAABsAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAGQAAAAjAP####8BAAAAAMAmAAAAAAAAwCQAAAAAAAAAAAB7EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHYAAAAjAP####8BAAAAAMAkAAAAAAAAwCQAAAAAAAAAAAB5EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHcAAAAjAP####8BAAAAAMAiAAAAAAAAwCAAAAAAAAAAAAB6EgAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAHj#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8BAAAAAAAAYwAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAJAD#####AQAAAAAAAGkAAAAIAAAANwAAAF0AAAAHAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAACQA#####wEAAAAAAABuAAAACAAAADcAAABdAAAABwAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAAAkAP####8BAAAAAAAAZgAAAAgAAAA3AAAAXQAAAAcAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAggAAAAgAAAADAAAAWQAAAAsAAABZAAAAWwAAAFwAAABdAAAAXgAAAGEAAABiAAAAZAAAAGUAAABmAAAAggAAACQA#####wAAAAAAAACBAAAACAAAAAMAAABZAAAACwAAAFkAAABbAAAAXAAAAF0AAABeAAAAagAAAGsAAABsAAAAbQAAAG4AAACBAAAAJAD#####AAAAAAAAAIAAAAAIAAAAAwAAAFkAAAALAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAYQAAAGcAAABoAAAAaQAAAIAAAAAkAP####8BAAAAAAAAdQAAAAgAAAA3AAAAXQAAAAoAAABdAAAAXgAAAGEAAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAJAD#####AAAAAAAAAIcAAAAIAAAAAwAAAFkAAAAOAAAAWQAAAFsAAABcAAAAXQAAAF4AAABhAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAIcAAAAkAP####8BAAAAAAAAfAAAAAgAAAA3AAAAXQAAAAwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAAAkAP####8AAAAAAAAAiQAAAAgAAAADAAAAWQAAABAAAABZAAAAWwAAAFwAAABdAAAAXgAAAGIAAABkAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB2AAAAewAAAHwAAACJAAAAJAD#####AQAAAAAAAH4AAAAIAAAANwAAAF0AAAANAAAAXQAAAF4AAABhAAAAbAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHgAAAB6AAAAfgAAACQA#####wAAAAAAAACLAAAACAAAAAMAAABZAAAAEQAAAFkAAABbAAAAXAAAAF0AAABeAAAAYQAAAGwAAABvAAAAcAAAAHEAAAByAAAAcwAAAHcAAAB4AAAAegAAAH4AAACLAAAAJAD#####AQAAAAAAAH0AAAAIAAAANwAAAF0AAAAMAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAJAD#####AAAAAAAAAI0AAAAIAAAAAwAAAFkAAAAQAAAAWQAAAFsAAABcAAAAXQAAAF4AAABgAAAAaAAAAG8AAABwAAAAcQAAAHIAAABzAAAAdwAAAHkAAAB9AAAAjf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAABJAAAAIQAAAACPAAJ4MgAAABwAAABJAAAAIgAAAACPAAJ5MgAAABwAAABJAAAAGgEAAACPAf8AAABAHAAAAAAAAAAAAAAAAAAAAAAASRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARAAAACEAAAAAkwACeDIAAAAcAAAARAAAACIAAAAAkwACeTIAAAAcAAAARAAAABoBAAAAkwH#AAAAQBwAAAAAAADANQAAAAAAAAAAAEQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACAAAAAhAAAAAJcAAngyAAAAHAAAACAAAAAiAAAAAJcAAnkyAAAAHAAAACAAAAAaAQAAAJcB#wAAAL#wAAAAAAAAQAAAAAAAAAAAAAAgEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAeAAAAIQAAAACbAAJ4MgAAABwAAAAeAAAAIgAAAACbAAJ5MgAAABwAAAAeAAAAGgEAAACbAf8AAAC#8AAAAAAAAD#########gAAAAHhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAIgAAACEAAAAAnwACeDIAAAAcAAAAIgAAACIAAAAAnwACeTIAAAAcAAAAIgAAABoBAAAAnwH#AAAAQBgAAAAAAADANQAAAAAAAAAAACIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABKAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAACjAAAAIQAAAACkAAJ4MgAAABwAAACjAAAAIgAAAACkAAJ5MgAAABwAAACjAAAAGgEAAACkAf8AAABAEAAAAAAAAMAzAAAAAAAAAAAAoxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAAAIA#####wACeGIAAjI0AAAAAUA4AAAAAAAAAAAAAgD#####AAJ5YgACMTYAAAABQDAAAAAAAAAAAAACAP####8ABG51bWIAAjEwAAAAAUAkAAAAAAAAAAAAAgD#####AARudW1jAAIzMwAAAAFAQIAAAAAAAAAAAAIA#####wADeGMyAAEzAAAAAUAIAAAAAAAAAAAAAgD#####AAN5YzIAATUAAAABQBQAAAAAAAAAAAACAP####8AA3hjMwABNgAAAAFAGAAAAAAAAAAAAAIA#####wADeWMzAAE3AAAAAUAcAAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAqAAAAAgAAACpAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAKwAAAAIAAAArQAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACuAAAACAAAAK8AAAAeAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAeAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAAC0AAAAHQD#####AAAALAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC2AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALYAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC2AAAAHgD#####ASy4LAABAAAABQAAALcAAAC4AAAAuQAAALoAAAC3AAAAJgD#####AQB#AAAAAAUAAAC7AAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAqgAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAAC9AAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAARAAAAL0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABFAAAAvQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAAC9AAAAHgD#####AAAAAAABAAAABQAAAL4AAAC#AAAAwAAAAMEAAAC+AAAAGQD#####AAAADQAAALAAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAC+AAAAwwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAL8AAADDAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAwAAAAMMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADBAAAAwwAAAB4A#####wD#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACYA#####wD#AAAAAAAFAAAAyAAAAB0A#####wAAALEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADEAAAAygAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAMUAAADKAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAxgAAAMoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAADHAAAAygAAAB4A#####wH#AAAAAQAAAAUAAADLAAAAzAAAAM0AAADOAAAAywAAACYA#####wH#AAAAAAAFAAAAzwAAABkA#####wAAAA0AAAArAAAAHQD#####AAAAsv####8AAAABABJDTWFjcm9DbGlnbm90ZW1lbnQA#####wAA#wAB#####wpAi8QAAAAAAEBSoUeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUxAAAAAAACAAAAuwAAALwAAAAU#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAC#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AQD#AAABAAAALAAAACv#####AAAAAUBmgAAAAAAAAAAAKQD#####AQAAAAABAAAAsQAAAMX#####AAAAAUBmgAAAAAAA#####wAAAAEAD0NQb2ludExpZUNlcmNsZQD#####Af8AAAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9Q#XA667psAAAA1gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADFAAAAsQAAANf#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAANgBAAAAABAAAAEAAQAAANcAAACxAAAAxQAAAA8AAAAA2AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAANn#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADYAAZhbmdsZTIAAADFAAAAsQAAANcAAAAjAQAAANgBAAAAAEAIAAAAAAAAP#AAAAAAAAAAAADaDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA2#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAANgBAAAAAAEAAAABQEJbiQkrj78AAADFAAAAsQAAANcAAAAADQD#####AAAAsQAAAAgAAADbAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAN4AAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA3gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMYAAADeAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxwAAAN4AAAAeAP####8B#wAAAAEAAAAFAAAA3wAAAOAAAADhAAAA4gAAAN8AAAAmAP####8B#wAAAAAABQAAAOP#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####CkCMxAAAAAAAQHsoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####wpAjPQAAAAAAEB9aFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMgAAAAAABgAAAM8AAADQAAAA4wAAAOQAAADXAAAA4AAAACcA#####wD#AAAB#####wpAjQwAAAAAAEB#eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQ2xpZ25vdGUyAAAAAAACAAAAzwAAANAAAAAU#####wAAAAIAGENNYWNyb0FuaW1hdGlvbkF2ZWNUcmFjZQD#####AP8AAAH#####CkCNXAAAAAAAQIC8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUyAAAAAAABAAAA1wABAAAAABQAAABkAAAAUAAAANcBAP####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####CkBbIAAAAAAAQDOFHrhR64ACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGIAAAAAAAUAAADnAAAA1AAAAOUAAADoAAAA5gAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAA4AAAACAAAAKsAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAA6gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAE4AAADqAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAATAAAAOoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABNAAAA6gAAAB4A#####wH#AAAAAQAAAAUAAADrAAAA7AAAAO0AAADuAAAA6wAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAOsAAADRAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA7AAAANEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADtAAAA0QAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAO4AAADRAAAAHgD#####AAAAfwABAAAABQAAAPAAAADxAAAA8gAAAPMAAADwAAAAJgD#####AAAAfwAAAAUAAAD0AAAAKQD#####Af##AAABAAAAsgAAAPD#####AAAAAUBmgAAAAAAAAAAAKgD#####AQAAfwEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT8pd5Uhq1lCAAAA9gAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAADwAAAAsgAAAPcAAAArAAAAAPgBAAAAABAAAAEAAQAAAPcAAACyAAAA8AAAAA8AAAAA+AEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAPkAAAAsAQAAAPgABmFuZ2xlMwAAAPAAAACyAAAA9wAAACMBAAAA+AH##wAAQAgAAAAAAAA#8AAAAAAAAAAAAPoPAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAALCsAAAAAD7AAAALQEAAAD4Af##AAABAAAAAUBCW4kJK4+#AAAA8AAAALIAAAD3AAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPAAAADSAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8QAAANIAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADyAAAA0gAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPMAAADSAAAAHgD#####AQAAfwABAAAABQAAAP4AAAD#AAABAAAAAQEAAAD+AAAAJgD#####AQAAfwAAAAUAAAECAAAADQD#####AAAAsgAAAAgAAAD7AAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8AAAAQQAAAAQAP####8B##8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADxAAABBAAAABAA#####wH##wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAPIAAAEEAAAAEAD#####Af##AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAA8wAAAQQAAAAeAP####8BAAB#AAEAAAAFAAABBQAAAQYAAAEHAAABCAAAAQUAAAAmAP####8BAAB#AAAABQAAAQkAAAAuAP####8AAAB#Af####8KQIy0AAAAAABAZDCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC0FwcGFyaXRpb24zAAAAAAAFAAABAgAAAQMAAAEJAAABCgAAAPcAAAAALwD#####AAAAfwH#####CkCM1AAAAAAAQGhQo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUzAAAAAAAFAAABAgAAAQMAAAEJAAABCgAAAPcAAAAnAP####8AAAB#Af####8KQIzsAAAAAABAa9Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUNsaWdub3RlMwAAAAAAAgAAAQIAAAEDAAAAFAAAADAA#####wAAAH8B#####wpAjSwAAAAAAEBvsKPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAAAAAQAAAPcAAQAAAAAUAAAAZAAAAFAAAAD3AQAAAAAxAP####8AAAB#Af####8KQGbwAAAAAABAM4UeuFHriAIAAAAAAAAAAAAAAAABAAAAAAAAAAAADENvcnJlY3Rpb24gYwAAAAAABQAAAQ0AAADUAAABCwAAAQ4AAAEMAAAAKQD#####AQAAfwABAAAALAAAACr#####AAAAAUBmgAAAAAAAAAAAKgD#####AQB#AAEQAAAAAAAAAAAAAABACAAAAAAAAAUAAT9vMNoie5k2AAABEAAAACUA#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAREAAAArAAAAARIBAAAAABAAAAEAAQAAAREAAAAsAAAAKgAAAA8AAAABEgEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAARMAAAAsAQAAARIABmFuZ2xlMQAAACoAAAAsAAABEQAAACMBAAABEgEAAH8AQAgAAAAAAAA#8AAAAAAAAAAAARQPAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAALCsAAAAAEVAAAALQEAAAESAQAAfwABAAAAAUBCW4kJK4+#AAAAKgAAACwAAAERAAAAAA0A#####wAAACwAAAAIAAABFQAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAEYAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAARgAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAABGAAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAEYAAAAHgD#####AQB#AAABAAAABQAAARkAAAEaAAABGwAAARwAAAEZAAAAJgD#####AQB#AAAAAAUAAAEdAAAALgD#####AAB#AAH#####EECKFAAAAAAAQEFCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAtBcHBhcml0aW9uMQAAAAAABQAAALsAAAC8AAABHQAAAR4AAAERAAAAAC8A#####wAAfwAB#####wpAikwAAAAAAEBZ4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMQAAAAAABQAAALsAAAC8AAABHQAAAR4AAAERAAAAMAD#####AAB#AAH#####CkCKdAAAAAAAQF#hR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAd0b3VybmUxAAAAAAABAAABEQABAAAAABQAAABkAAAAUAAAAREBAAAAADEA#####wAAfwAB#####wpAQEAAAAAAAEAzhR64UeuIAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBhAAAAAAAFAAAA0wAAANQAAAEfAAABIQAAASAAAAAxAP####8AAH8AAf####8KQI9MAAAAAABAcFhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACkNvcnJlY3Rpb24AAAAAAAMAAAEiAAAA6QAAAQ################8="
			// Première question : une figure dans tabfigA, une symétrie par rapport au milieu d'un [B'C'], logiquement : l'image est dans tabfigB et B' est l'image de C !
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			indexcentre1 = randint(0, nx * ny - 1, [indexA]) // indexcentre1 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre1 = tabfigA[indexcentre1][2] // [B'C'] est le segment commun à une figA et à une FigB. ici on prend le N° de la figure A, la figure B est la suivante.
			//on calcule les coordonnées du milieu de [BC] on ajoute aux coordonnées du milieu de [BC] celles du vecteur BB'. (j'aurais pu réduire mais cela aurait rendu le calcul plus opaque)
			xmil1 = (xB + xC) / 2 + tabfigB[indexcentre1][0] - xB
			ymil1 = (yB + yC) / 2 + tabfigB[indexcentre1][1] - yB
			point = image_point_par_transformation(7, [tabfigC[indexA][0], tabfigC[indexA][1]], [xmil1, ymil1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num1=tabfigB[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexcentre1 = randint(0, nx * ny - 1)
					numcentre1 = tabfigA[indexcentre1][2]
					xmil1 = (xB + xC) / 2 + tabfigB[indexcentre1][0] - xB
					ymil1 = (yB + yC) / 2 + tabfigB[indexcentre1][1] - yB
					point = image_point_par_transformation(7, [tabfigC[indexA][0], tabfigC[indexA][1]], [xmil1, ymil1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numA} dans la symétrie par rapport à ${s0} ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numA} dans la symétrie par rapport à ${s0} porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure dans tabfigD, une symétrie par rapport au milieu d'un [C'D'], le résultat est une figure dans tabfigA et C' est l'image de D !
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			indexcentre2 = randint(0, nx * ny - 1, [indexD]) // indexcentre2 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre2 = tabfigA[indexcentre2][2] // [D'C'] est le segment commun à une figA et à une FigD. ici on prend le N° de la figure A, la figure D est 2*nx+N°figA.
			//on calcule les coordonnées du milieu de [DC] on ajoute aux coordonnées du milieu de [DC] celles du vecteur DD'.
			xmil2 = (xD + xC) / 2 + tabfigD[indexcentre2][0] - xD
			ymil2 = (yD + yC) / 2 + tabfigD[indexcentre2][1] - yD
			point = image_point_par_transformation(7, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num2=tabfigC[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexcentre2 = randint(0, nx * ny - 1, [indexD])
					numcentre2 = tabfigA[indexcentre2][2]
					xmil2 = (xD + xC) / 2 + tabfigD[indexcentre2][0] - xD
					ymil2 = (yD + yC) / 2 + tabfigD[indexcentre2][1] - yD
					point = image_point_par_transformation(7, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2])
				}
			}

			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numD} dans la symétrie par rapport à ${s1} ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numD} dans la symétrie par rapport à ${s1} porte le numéro ${num2}.<br>`, `red`)
			// troisième question : une figure dans tabfigC, une symétrie par rapport au symétrique du milieu de [A'D'] par rapport au milieu de [C'D']... pas très clair
			// le résultat est une figure dans tabfigD et le point (C'+ vecteur AC) a pour image D' !
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			indexcentre3 = randint(0, nx * ny - 1, [indexC]) // indexcentre2 est l'index du bloc de 4 figures A,B,C et D, il sert dans les 4 tableaux.
			numcentre3 = tabfigD[indexcentre3][2] // le centre de symétrie est le milieu du segment commun à une figC et à une FigD. ici on prend le N° de la figure D, la figure C est la suivante.
			//on calcule les coordonnées du milieu du centre de symétrie : (C' + D + AC)/2=AC+AD/2 que l'on translate de CC' donc ça fait AC' + AD/2
			xmil3 = xD / 2 + tabfigC[indexcentre3][0]
			ymil3 = yD / 2 + tabfigC[indexcentre3][1]
			point = image_point_par_transformation(7, [tabfigC[indexC][0] + xC, tabfigC[indexC][1] + yC], [xmil3, ymil3]) // c'est le sommet C + AC qui a pour image D.
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == tabfigD[j][1]) {
						trouver = true
						num3=tabfigD[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					indexcentre3 = randint(0, nx * ny - 1, [indexC])
					numcentre3 = tabfigD[indexcentre3][2]
					xmil3 = xD / 2 + tabfigC[indexcentre3][0]
					ymil3 = yD / 2 + tabfigC[indexcentre3][1]
					point = image_point_par_transformation(7, [tabfigC[indexC][0] + xC, tabfigC[indexC][1] + yC], [xmil3, ymil3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure symétrique de la figure ${numC} dans la symétrie par rapport à ${s2} ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure symétrique de la figure ${numC} dans la symétrie par rapport à ${s2} porte le numéro ${num3}.<br>`, `blue`)
			break

		case 3 : //translations
			let iB1,iB2,iB3,iC1,iA1,iD1
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAMj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAAAYAAAAIAAAAJQAAABAA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAAAq#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAADQAAACgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAArAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACwAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAuAAAALwAAAAIA#####wACbnkAATUAAAABQBQAAAAAAAAAAAADAP####8AAnIzACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjIAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMQAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MCksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAACAP####8ABW1pbmkxAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAFbWF4aTEAAjQwAAAAAUBEAAAAAAAAAAAAAgD#####AARwYXMxAAExAAAAAT#wAAAAAAAA#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFBAAAAAgD#####AAVtaW5pMgADLTMw#####wAAAAEADENNb2luc1VuYWlyZQAAAAFAPgAAAAAAAAAAAAIA#####wAFbWF4aTIAAjMwAAAAAUA+AAAAAAAAAAAAAgD#####AARwYXMyAAExAAAAAT#wAAAAAAAA#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAAD8AAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAQAAAABwA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAdAP####8AAABDAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEQAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAR#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAQQAAAEIAAAAiAAAAIAAAAB4A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEUAAABGAAAAHgAAAB4A#####wAAAAAAAQAAAAUAAABIAAAASwAAAEkAAABKAAAASAAAAB4A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEYAAABBAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEYAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHwD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABBAAAABwEAAAAIAAAANAAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAAUgAAACAA#####wEAAAAAEAAAAQABAAAADQAAAFMAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFQAAAAZAP####8AAAANAAAAUwAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAVgAAAFcAAAAgAP####8BAAAAABAAAAEAAQAAAFYAAABYAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABZAAAAGQD#####AAAADQAAAFoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABcAAAAXQAAAF4AAABfAAAAXAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXwAAAF4AAABhAAAAYgAAAF8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABBAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABbAAAAHgD#####AQAAAAABAAAABQAAAF0AAABkAAAAZQAAAF4AAABdAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAZwAAAGgAAABpAAAAagAAAGf#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAFEAAABa#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABRAAAAWgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAG4AAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbwAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFoAAABe#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAcRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAHAAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAcAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAAB0AAAAAT#wAAAAAAAAAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGUAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABeAAAAaQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABhAAAAIwD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAeBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABzAAAAIwD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAdhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB0AAAAIwD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB1#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAGAAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAACQA#####wEAAAAAAABmAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAAkAP####8BAAAAAAAAawAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAJAD#####AQAAAAAAAGMAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAACQA#####wAAAAAAAAB8AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAAB8AAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAfgAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAfgAAACQA#####wAAAAAAAAB9AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAB9AAAAJAD#####AQAAAAAAAHIAAAAIAAAANAAAAFoAAAAKAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAACQA#####wAAAAAAAACEAAAACAAAAAMAAABWAAAADgAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGwAAABtAAAAbgAAAG8AAABwAAAAcQAAAHIAAACEAAAAJAD#####AQAAAAAAAHkAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAJAD#####AAAAAAAAAIYAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAhgAAACQA#####wEAAAAAAAB7AAAACAAAADQAAABaAAAADQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAAAkAP####8AAAAAAAAAiAAAAAgAAAADAAAAVgAAABEAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABpAAAAbAAAAG0AAABuAAAAbwAAAHAAAAB0AAAAdQAAAHcAAAB7AAAAiAAAACQA#####wEAAAAAAAB6AAAACAAAADQAAABaAAAADAAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAACQA#####wAAAAAAAACKAAAACAAAAAMAAABWAAAAEAAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAAIr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARgAAACEAAAAAjAACeDIAAAAcAAAARgAAACIAAAAAjAACeTIAAAAcAAAARgAAABoBAAAAjAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAAEEAAAAhAAAAAJAAAngyAAAAHAAAAEEAAAAiAAAAAJAAAnkyAAAAHAAAAEEAAAAaAQAAAJAB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAgAAAAIQAAAACUAAJ4MgAAABwAAAAgAAAAIgAAAACUAAJ5MgAAABwAAAAgAAAAGgEAAACUAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAHgAAACEAAAAAmAACeDIAAAAcAAAAHgAAACIAAAAAmAACeTIAAAAcAAAAHgAAABoBAAAAmAH#AAAAv#AAAAAAAAA#########4AAAAB4QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACIAAAAhAAAAAJwAAngyAAAAHAAAACIAAAAiAAAAAJwAAnkyAAAAHAAAACIAAAAaAQAAAJwB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAEAD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAiAAAARwAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAoAAAACEAAAAAoQACeDIAAAAcAAAAoAAAACIAAAAAoQACeTIAAAAcAAAAoAAAABoBAAAAoQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAAKAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wACeWIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AARudW1iAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAEbnVtYwACMzMAAAABQECAAAAAAAAAAAAYAP####8BAAAAABAAAWIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAAClAAAACAAAAKYAAAAeAP####8AAAAAAAEAAAAFAAAAKwAAACwAAAAtAAAALgAAACsAAAAeAP####8ALLgsAAEAAAAFAAAAMAAAADEAAAAyAAAAMwAAADD#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAACrAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADYAAAAIAAAApwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQQAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABCAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACtAAAAHgD#####AAAAAAABAAAABQAAAK4AAACvAAAAsAAAALEAAACuAAAAGQD#####AAAADQAAAKkAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACuAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAK8AAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsAAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACxAAAAswAAAB4A#####wD#AAAAAQAAAAUAAAC0AAAAtQAAALYAAAC3AAAAtAAAACYA#####wD#AAAAAAAFAAAAuAAAABkA#####wAAAA0AAAAp#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADUAAAAIAAAAqAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEoAAAC8AAAAHgD#####Af8AAAABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvQAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC+AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL8AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwAAAALoAAAAeAP####8AAAB#AAEAAAAFAAAAwgAAAMMAAADEAAAAxQAAAMIAAAAmAP####8AAAB#AAAABQAAAMb###############8="
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAART#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNgAAAAFAGAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQFKgAAAAAABAYLCj1wo9cf####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAIxOAAAAAFAMgAAAAAAAAAAAAIA#####wACeWMAAjEyAAAAAUAoAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAAAYAAAAIAAAAJQAAABAA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAiAAAAKgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB4AAAAq#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAADQAAACgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAArAAAALwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACwAAAAvAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAAC8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAuAAAALwAAAAIA#####wACbnkAATUAAAABQBQAAAAAAAAAAAADAP####8AAnIzACVzaSgobW9kdWxveCh4KT0xKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjIAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTEpLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAwD#####AAJyMQAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MCksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAACAP####8ABW1pbmkxAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAFbWF4aTEAAjQwAAAAAUBEAAAAAAAAAAAAAgD#####AARwYXMxAAExAAAAAT#wAAAAAAAA#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFBAAAAAgD#####AAVtaW5pMgADLTMw#####wAAAAEADENNb2luc1VuYWlyZQAAAAFAPgAAAAAAAAAAAAIA#####wAFbWF4aTIAAjMwAAAAAUA+AAAAAAAAAAAAAgD#####AARwYXMyAAExAAAAAT#wAAAAAAAA#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAAD8AAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEAAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAQAAAABwA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAdAP####8AAABDAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEQAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEQAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABHAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAAR#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAQQAAAEIAAAAiAAAAIAAAAB4A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEUAAABGAAAAHgAAAB4A#####wAAAAAAAQAAAAUAAABIAAAASwAAAEkAAABKAAAASAAAAB4A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEYAAABBAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEYAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHwD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAABBAAAABwEAAAAIAAAANAAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAAUgAAACAA#####wEAAAAAEAAAAQABAAAADQAAAFMAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFQAAAAZAP####8AAAANAAAAUwAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAVgAAAFcAAAAgAP####8BAAAAABAAAAEAAQAAAFYAAABYAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABZAAAAGQD#####AAAADQAAAFoAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWwAAAB4A#####wEAAAAAAQAAAAUAAABcAAAAXQAAAF4AAABfAAAAXAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAXwAAAF4AAABhAAAAYgAAAF8AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABBAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABbAAAAHgD#####AQAAAAABAAAABQAAAF0AAABkAAAAZQAAAF4AAABdAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAFsAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABLAAAAWwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABbAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASgAAAFsAAAAeAP####8BAAAAAAEAAAAFAAAAZwAAAGgAAABpAAAAagAAAGf#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAFEAAABa#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABRAAAAWgAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbAAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAbQAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAG4AAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbwAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFoAAABe#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAcRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAHAAAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAcAAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAAB0AAAAAT#wAAAAAAAAAAAAHAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAXQAAAGUAAAAcAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABeAAAAaQAAABwA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAF8AAABhAAAAIwD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAeBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABzAAAAIwD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAdhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB0AAAAIwD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAAB1#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAGAAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAACQA#####wEAAAAAAABmAAAACAAAADQAAABaAAAABwAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAAkAP####8BAAAAAAAAawAAAAgAAAA0AAAAWgAAAAcAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAJAD#####AQAAAAAAAGMAAAAIAAAANAAAAFoAAAAHAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAACQA#####wAAAAAAAAB8AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAGAAAAB8AAAAJAD#####AAAAAAAAAH8AAAAIAAAAAwAAAFYAAAALAAAAVgAAAFgAAABZAAAAWgAAAFsAAABeAAAAXwAAAGEAAABiAAAAYwAAAH8AAAAkAP####8AAAAAAAAAfgAAAAgAAAADAAAAVgAAAAsAAABWAAAAWAAAAFkAAABaAAAAWwAAAGcAAABoAAAAaQAAAGoAAABrAAAAfgAAACQA#####wAAAAAAAAB9AAAACAAAAAMAAABWAAAACwAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAF4AAABkAAAAZQAAAGYAAAB9AAAAJAD#####AQAAAAAAAHIAAAAIAAAANAAAAFoAAAAKAAAAWgAAAFsAAABeAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAACQA#####wAAAAAAAACEAAAACAAAAAMAAABWAAAADgAAAFYAAABYAAAAWQAAAFoAAABbAAAAXgAAAGwAAABtAAAAbgAAAG8AAABwAAAAcQAAAHIAAACEAAAAJAD#####AQAAAAAAAHkAAAAIAAAANAAAAFoAAAAMAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAJAD#####AAAAAAAAAIYAAAAIAAAAAwAAAFYAAAAQAAAAVgAAAFgAAABZAAAAWgAAAFsAAABfAAAAYQAAAGwAAABtAAAAbgAAAG8AAABwAAAAcwAAAHgAAAB5AAAAhgAAACQA#####wEAAAAAAAB7AAAACAAAADQAAABaAAAADQAAAFoAAABbAAAAXgAAAGkAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB1AAAAdwAAAHsAAAAkAP####8AAAAAAAAAiAAAAAgAAAADAAAAVgAAABEAAABWAAAAWAAAAFkAAABaAAAAWwAAAF4AAABpAAAAbAAAAG0AAABuAAAAbwAAAHAAAAB0AAAAdQAAAHcAAAB7AAAAiAAAACQA#####wEAAAAAAAB6AAAACAAAADQAAABaAAAADAAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAACQA#####wAAAAAAAACKAAAACAAAAAMAAABWAAAAEAAAAFYAAABYAAAAWQAAAFoAAABbAAAAXQAAAGUAAABsAAAAbQAAAG4AAABvAAAAcAAAAHQAAAB2AAAAegAAAIr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAARgAAACEAAAAAjAACeDIAAAAcAAAARgAAACIAAAAAjAACeTIAAAAcAAAARgAAABoBAAAAjAH#AAAAQBwAAAAAAAAAAAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAAEEAAAAhAAAAAJAAAngyAAAAHAAAAEEAAAAiAAAAAJAAAnkyAAAAHAAAAEEAAAAaAQAAAJAB#wAAAEAcAAAAAAAAwDUAAAAAAAAAAABBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAJQD#####AClBZmZpY2hhZ2UgZCfDqXF1YXRpb24gZGUgZHJvaXRlIG91IGNlcmNsZQAAAAIAAAABAAAAAgAAABwAAAAgAAAAIQAAAACUAAJ4MgAAABwAAAAgAAAAIgAAAACUAAJ5MgAAABwAAAAgAAAAGgEAAACUAf8AAAC#8AAAAAAAAEAAAAAAAAAAAAAAIBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAABcoI1ZhbCh4MiwxKSwjVmFsKHkyLDIpKQAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAHgAAACEAAAAAmAACeDIAAAAcAAAAHgAAACIAAAAAmAACeTIAAAAcAAAAHgAAABoBAAAAmAH#AAAAv#AAAAAAAAA#########4AAAAB4QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAAlAP####8AKUFmZmljaGFnZSBkJ8OpcXVhdGlvbiBkZSBkcm9pdGUgb3UgY2VyY2xlAAAAAgAAAAEAAAACAAAAHAAAACIAAAAhAAAAAJwAAngyAAAAHAAAACIAAAAiAAAAAJwAAnkyAAAAHAAAACIAAAAaAQAAAJwB#wAAAEAYAAAAAAAAwDUAAAAAAAAAAAAiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAFygjVmFsKHgyLDEpLCNWYWwoeTIsMikpAAAAEAD#####Af8AAAEQAAJBMQDANwAAAAAAAL#wAAAAAAAABQAAAAAiAAAARwAAACUA#####wApQWZmaWNoYWdlIGQnw6lxdWF0aW9uIGRlIGRyb2l0ZSBvdSBjZXJjbGUAAAACAAAAAQAAAAIAAAAcAAAAoAAAACEAAAAAoQACeDIAAAAcAAAAoAAAACIAAAAAoQACeTIAAAAcAAAAoAAAABoBAAAAoQH#AAAAQBAAAAAAAADAMwAAAAAAAAAAAKAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAXKCNWYWwoeDIsMSksI1ZhbCh5MiwyKSkAAAACAP####8AAnhiAAIyNAAAAAFAOAAAAAAAAAAAAAIA#####wACeWIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AARudW1iAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wAEbnVtYwACMzMAAAABQECAAAAAAAAAAAAYAP####8BAAAAABAAAWIAAAAAAAAAAABACAAAAAAAAAUAAAAAHAAAAAgAAAClAAAACAAAAKYAAAAeAP####8AAAAAAAEAAAAFAAAAKwAAACwAAAAtAAAALgAAACsAAAAeAP####8BLLgsAAEAAAAFAAAAMAAAADEAAAAyAAAAMwAAADD#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAACrAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADYAAAAIAAAApwAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACtAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAQQAAAK0AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAABCAAAArQAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACtAAAAHgD#####AAAAAAABAAAABQAAAK4AAACvAAAAsAAAALEAAACuAAAAGQD#####AAAADQAAAKkAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACuAAAAswAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAK8AAACzAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAsAAAALMAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACxAAAAswAAAB4A#####wH#AAAAAQAAAAUAAAC0AAAAtQAAALYAAAC3AAAAtAAAACYA#####wH#AAAAAAAFAAAAuAAAABkA#####wAAAA0AAAAp#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADUAAAAIAAAAqAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAAC8AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASwAAALwAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAvAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEoAAAC8AAAAHgD#####Af8AAAABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAvQAAALoAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC+AAAAugAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAL8AAAC6AAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwAAAALoAAAAeAP####8BAAB#AAEAAAAFAAAAwgAAAMMAAADEAAAAxQAAAMIAAAAmAP####8BAAB#AAAABQAAAMYAAAACAP####8AAnhWAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ5VgABNAAAAAFAEAAAAAAAAAAAABgA#####wEAAAAAEAABdgAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAMgAAAAIAAAAyQAAABkA#####wAAAA0AAADKAAAAEAD#####AQAAAAAQAAJhJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAoAAAAywAAACAA#####wEAAAAAEAAAAQABAAAAKAAAAMwAAAAPAP####8BAAAAABAAAm0xAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAAAAAAAAAAAM0AAAAZAP####8AAAAoAAAAzAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAADPAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAM8AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAyAAAAzwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAADPAAAAHgD#####AQB#AAABAAAABQAAANAAAADRAAAA0gAAANMAAADQAAAAJgD#####AQB#AAAAAAUAAADUAAAAGQD#####AAAAKAAAAM4AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAwAAAA1gAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAADWAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMgAAANYAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAzAAAA1gAAAB4A#####wEAfwAAAQAAAAUAAADXAAAA2AAAANkAAADaAAAA1wAAACYA#####wEAfwAAAAAFAAAA2#####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AAB#AAH#####CkCHFAAAAAAAQEjCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdtYXNxdWUxAAAAAAAGAAAA1AAAANUAAADcAAAA2wAAAKsAAACs#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wAAfwAB#####wpAhyQAAAAAAEBU4UeuFHriAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQxAAAAAAAGAAAA1AAAANUAAADcAAAA2wAAAKsAAACsAP####8AAAACABdDTWFjcm9BbmltYXRpb25Qb2ludExpZQD#####AAB#AAH#####CkCHVAAAAAAAQF3hR64UeuICAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMQAAAQAAABQAAABkAAAAPAAAAM4AAQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAfwAB#####wpATMAAAAAAAEA#hR64UeuGAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBhAAAAAAAEAAAA3gAAAN8AAADdAAAAuwAAAAIA#####wADeFYyAAIxMAAAAAFAJAAAAAAAAAAAAAIA#####wADeVYyAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAN4VjMAATQAAAABQBAAAAAAAAAAAAACAP####8AA3lWMwACMTAAAAABQCQAAAAAAAAAAAAYAP####8BAH8AABAAAnYyAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAA4QAAAAgAAADiAAAAGAD#####AQB#AAAQAAJ2MwAAAAAAAAAAAEAIAAAAAAAABQAAAAAcAAAACAAAAOMAAAAIAAAA5AAAABkA#####wAAAA0AAADlAAAAEAD#####AQB#AAAQAAJiJwAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAA5wAAABkA#####wAAAA0AAADmAAAAEAD#####AQB#AAAQAAJjJwAAAAAAAAAAAEAIAAAAAAAABQAAAAApAAAA6QAAACAA#####wEAfwAAEAAAAQABAAAAKQAAAOoAAAAgAP####8BAH8AABAAAAEAAQAAAKkAAADoAAAADwD#####AQB#AAAQAAJtMwAAAAAAAAAAAEAIAAAAAAAABQABP5EDcYGouj8AAADrAAAADwD#####AQB#AAAQAAJtMgAAAAAAAAAAAEAIAAAAAAAABQABAAAAAAAAAAAAAADsAAAAGQD#####AAAAKQAAAOoAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADCAAAA7wAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMMAAADvAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxAAAAO8AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADFAAAA7wAAAB4A#####wEAAP8AAQAAAAUAAADwAAAA8QAAAPIAAADzAAAA8AAAACYA#####wEAAP8AAAAFAAAA9AAAABkA#####wAAACkAAADtAAAAEAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAwgAAAPYAAAAQAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAADDAAAA9gAAABAA#####wEAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAMQAAAD2AAAAEAD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAxQAAAPYAAAAeAP####8BAAD#AAEAAAAFAAAA9wAAAPgAAAD5AAAA+gAAAPcAAAAmAP####8BAAD#AAAABQAAAPsAAAAoAP####8AAAD#Af####8KQIekAAAAAABAYzCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAYAAAD0AAAA9QAAAPwAAAD7AAAAxwAAAMYAAAApAP####8AAAD#Af####8KQIe8AAAAAABAZ1Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAABgAAAPQAAAD1AAAA#AAAAPsAAADHAAAAxgAAAAAqAP####8AAAD#Af####8KQIfUAAAAAABAa1Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0zAAABAAAAFAAAAGQAAAA8AAAA7QABAAAAACsA#####wAAAP8B#####wpAbLAAAAAAAEBAQo9cKPXDAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBjAAAAAAADAAAA#gAAAP8AAAD9AAAAGQD#####AAAAqQAAAOgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC0AAABAQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALUAAAEBAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtgAAAQEAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC3AAABAQAAAB4A#####wH#AAAAAQAAAAUAAAECAAABAwAAAQQAAAEFAAABAgAAACYA#####wH#AAAAAAAFAAABBgAAABkA#####wAAAKkAAADuAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtAAAAQgAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAC1AAABCAAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALYAAAEIAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAtwAAAQgAAAAeAP####8B#wAAAAEAAAAFAAABCQAAAQoAAAELAAABDAAAAQkAAAAmAP####8B#wAAAAAABQAAAQ0AAAAoAP####8A#wAAAf####8KQIgkAAAAAABAb3Cj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAYAAAEGAAABBwAAAQ0AAAEOAAAAuAAAALkAAAApAP####8A#wAAAf####8KQIgsAAAAAABAcfhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MgAAAAAABgAAAQYAAAEHAAABDQAAAQ4AAAC4AAAAuQAAAAAqAP####8A#wAAAf####8KQIg8AAAAAABAc9hR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABWFuaW0yAAABAAAAFAAAAGQAAAA8AAAA7gABAAAAACsA#####wD#AAAB#####wpAYdAAAAAAAEBAQo9cKPXAAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMY29ycmVjdGlvbiBiAAAAAAAEAAABEAAAAREAAAEPAAAAuwAAACsA#####wD#AAAB#####xBAiFQAAAAAAEB2eFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKQ29ycmVjdGlvbgAAAAAABAAAALsAAADgAAABEgAAAQD###############8="
		
			// Première question : une figure dans tabfigA, l'image dans tabfigA... 
			// On choisit deux figures de type B pour définir le vecteur de translation.
			
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			iB1=randint(0,nx*ny-1)
			iB2=randint(0,nx*ny-1,[iB1])
			xV1=tabfigB[iB2][0]-tabfigB[iB1][0]
			yV1=tabfigB[iB2][1]-tabfigB[iB1][1]
			point = image_point_par_transformation(8, [tabfigA[indexA][0], tabfigA[indexA][1]], [0,0],[xV1,yV1])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
						trouver = true
						num1=tabfigA[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					iB1=randint(0,nx*ny-1)
					iB2=randint(0,nx*ny-1,[iB1])
					xV1=tabfigB[iB2][0]-tabfigB[iB1][0]
					yV1=tabfigB[iB2][1]-tabfigB[iB1][1]
					point = image_point_par_transformation(8, [tabfigA[indexA][0], tabfigA[indexA][1]], [0,0],[xV1,yV1])
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigB[iB1][2]} en la figure ${tabfigB[iB2][2]} quelle est le numéro de l'image de la figure ${numA} ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure image de la figure ${numA}  dans la translation qui transforme la figure ${tabfigB[iB1][2]} en la figure ${tabfigB[iB2][2]} porte le numéro ${num1}.<br>`, `green`)
			// Deuxième question : une figure dans tabfigD, l'image dans tabfigB... 
			// On choisit une figure C et une figure A pour définir le vecteur de translation.
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			iC1=randint(0,nx*ny-1)
			iA1=randint(0,nx*ny-1,[iC1])
			xV2=tabfigA[iA1][0]-tabfigC[iC1][0]
			yV2=tabfigA[iA1][1]-tabfigC[iC1][1]
			point = image_point_par_transformation(8, [tabfigD[indexD][0], tabfigD[indexD][1]], [0,0],[xV2,yV2])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
						trouver = true
						num2=tabfigB[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					iC1=randint(0,nx*ny-1)
					iA1=randint(0,nx*ny-1,[iC1])
					xV2=tabfigA[iA1][0]-tabfigC[iC1][0]
					yV2=tabfigA[iA1][1]-tabfigC[iC1][1]
					point = image_point_par_transformation(8, [tabfigD[indexD][0], tabfigD[indexD][1]], [0,0],[xV2,yV2])
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigC[iC1][2]} en la figure ${tabfigA[iA1][2]} quelle est le numéro de l'image de la figure ${numD} ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure image de la figure ${numD}  dans la translation qui transforme la figure ${tabfigC[iC1][2]} en la figure ${tabfigA[iA1][2]} porte le numéro ${num2}.<br>`, `red`)

		
			// troisième question : une figure dans tabfigC, l'image dans tabfigA... 
			// On choisit une figure D et une figure B pour définir le vecteur de translation.
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			iD1=randint(0,nx*ny-1)
			iB3=randint(0,nx*ny-1,[iD1])
			xV3=tabfigA[iB3][0]-tabfigC[iD1][0]
			yV3=tabfigA[iB3][1]-tabfigC[iD1][1]
			point = image_point_par_transformation(8, [tabfigC[indexC][0], tabfigC[indexC][1]], [0,0],[xV3,yV3])
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
						trouver = true
						num3=tabfigA[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					iD1=randint(0,nx*ny-1)
					iB3=randint(0,nx*ny-1,[iD1])
					xV3=tabfigA[iB3][0]-tabfigC[iD1][0]
					yV3=tabfigA[iB3][1]-tabfigC[iD1][1]
					point = image_point_par_transformation(8, [tabfigC[indexC][0], tabfigC[indexC][1]], [0,0],[xV3,yV3])
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Dans la translation qui transforme la figure ${tabfigC[iD1][2]} en la figure ${tabfigA[iB3][2]} quelle est le numéro de l'image de la figure ${numC} ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure image de la figure ${numC}  dans la translation qui transforme la figure ${tabfigC[iD1][2]} en la figure ${tabfigA[iB3][2]} porte le numéro ${num3}.<br>`, `blue`)
	

			break

		case 4 : //rotations
			
			this.MG32codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAPj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEdAAAAAAABAO4UeuFHrhv####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAJ5YwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeGMxAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAN5YzEAAjE2AAAAAUAwAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAAGAD#####AAnMCQAQAAJjMQAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAACgAAAAIAAAAKQAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAAGAAAACAAAACUAAAAQAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAALf####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALgAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAvAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAADIAAAACAP####8AAm55AAE1AAAAAUAUAAAAAAAAAAAAAwD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFB#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAADwAAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAD0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAPQAAABsA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAcAP####8AAABAAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEEAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABEAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEQAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARP####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAQAAAAUAAAAgAAAAPgAAAD8AAAAiAAAAIAAAAB0A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEIAAABDAAAAHgAAAB0A#####wAAAAAAAQAAAAUAAABFAAAASAAAAEYAAABHAAAARQAAAB0A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEMAAAA+AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHgD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAA+AAAABwEAAAAIAAAANwAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAATwAAAB8A#####wEAAAAAEAAAAQABAAAADQAAAFAAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFEAAAAZAP####8AAAANAAAAUAAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAUwAAAFQAAAAfAP####8BAAAAABAAAAEAAQAAAFMAAABVAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABWAAAAGQD#####AAAADQAAAFcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWAAAAB0A#####wEAAAAAAQAAAAUAAABZAAAAWgAAAFsAAABcAAAAWQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAXAAAAFsAAABeAAAAXwAAAFwAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA+AAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD8AAABYAAAAHQD#####AQAAAAABAAAABQAAAFoAAABhAAAAYgAAAFsAAABaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEYAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAZAAAAGUAAABmAAAAZwAAAGT#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAE4AAABX#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABOAAAAVwAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAaQAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAagAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAGsAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbAAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFcAAABb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAbhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABtAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAG0AAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAbQAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAABxAAAAAT#wAAAAAAAAAAAAGwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAGIAAAAbAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABbAAAAZgAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFwAAABeAAAAIgD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAdRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAIgD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAcxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABxAAAAIgD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABy#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAF0AAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAACMA#####wEAAAAAAABjAAAACAAAADcAAABXAAAABwAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAAjAP####8BAAAAAAAAaAAAAAgAAAA3AAAAVwAAAAcAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAIwD#####AQAAAAAAAGAAAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAACMA#####wAAAAAAAAB5AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAAB5AAAAIwD#####AAAAAAAAAHwAAAAIAAAAAwAAAFMAAAALAAAAUwAAAFUAAABWAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAAHwAAAAjAP####8AAAAAAAAAewAAAAgAAAADAAAAUwAAAAsAAABTAAAAVQAAAFYAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAewAAACMA#####wAAAAAAAAB6AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAB6AAAAIwD#####AQAAAAAAAG8AAAAIAAAANwAAAFcAAAAKAAAAVwAAAFgAAABbAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAACMA#####wAAAAAAAACBAAAACAAAAAMAAABTAAAADgAAAFMAAABVAAAAVgAAAFcAAABYAAAAWwAAAGkAAABqAAAAawAAAGwAAABtAAAAbgAAAG8AAACBAAAAIwD#####AQAAAAAAAHYAAAAIAAAANwAAAFcAAAAMAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAIwD#####AAAAAAAAAIMAAAAIAAAAAwAAAFMAAAAQAAAAUwAAAFUAAABWAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAgwAAACMA#####wEAAAAAAAB4AAAACAAAADcAAABXAAAADQAAAFcAAABYAAAAWwAAAGYAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAAByAAAAdAAAAHgAAAAjAP####8AAAAAAAAAhQAAAAgAAAADAAAAUwAAABEAAABTAAAAVQAAAFYAAABXAAAAWAAAAFsAAABmAAAAaQAAAGoAAABrAAAAbAAAAG0AAABxAAAAcgAAAHQAAAB4AAAAhQAAACMA#####wEAAAAAAAB3AAAACAAAADcAAABXAAAADAAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAACMA#####wAAAAAAAACHAAAACAAAAAMAAABTAAAAEAAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAAIcAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABEAAAAAgD#####AAJ4YgACMjQAAAABQDgAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACNTYAAAABQEwAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAAgD#####AAN4YzIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AAN5YzIAAjIwAAAAAUA0AAAAAAAAAAAAAgD#####AAN4YzMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN5YzMAAjI0AAAAAUA4AAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAigAAAAgAAACLAAAAGAD#####AH8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAI4AAAAIAAAAjwAAABgA#####wAAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACQAAAACAAAAJEAAAAdAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAdAP####8ALLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AAB#AAAAAAUAAACWAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAjAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACYAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAPgAAAJgAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA#AAAAmAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACYAAAAHQD#####AAAAAAABAAAABQAAAJkAAACaAAAAmwAAAJwAAACZAAAAGQD#####AAAADQAAAJIAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACZAAAAngAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJoAAACeAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAmwAAAJ4AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACcAAAAngAAAB0A#####wD#AAAAAQAAAAUAAACfAAAAoAAAAKEAAACiAAAAnwAAACQA#####wD#AAAAAAAFAAAAowAAABkA#####wAAAA0AAAAr#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAjQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAACnAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAKcAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAApwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAACnAAAAHQD#####Af8AAAABAAAABQAAAKgAAACpAAAAqgAAAKsAAACoAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqAAAAKUAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAApQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKoAAAClAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqwAAAKUAAAAdAP####8AAAB#AAEAAAAFAAAArQAAAK4AAACvAAAAsAAAAK0AAAAkAP####8AAAB#AAAABQAAALH#####AAAAAQASQ0FyY0RlQ2VyY2xlRGlyZWN0AP####8B##8AAAEAAACUAAAArf####8AAAABQFaAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABP10AlhldV+MAAACzAAAADQD#####AAAALAAAAAFAVoAAAAAAAAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC1AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALUAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC1AAAAHQD#####AQB#AAABAAAABQAAALYAAAC3AAAAuAAAALkAAAC2AAAAJAD#####AQB#AAAAAAUAAAC6AAAADQD#####AAAAlAAAAAFAVoAAAAAAAAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK0AAAC8AAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArgAAALwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACvAAAAvAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALAAAAC8AAAAHQD#####AQAAfwABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAJAD#####AQAAfwAAAAUAAADBAAAADQD#####AAAAk#####8AAAABAAxDTW9pbnNVbmFpcmUAAAABQFaAAAAAAAAAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACfAAAAwwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKAAAADDAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAoQAAAMMAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACiAAAAwwAAAB0A#####wH#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACQA#####wH#AAAAAAAFAAAAyAAAACYA#####wH#AAAAAQAAACwAAAAq#####wAAAAFAVoAAAAAAAAAAACcA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#Zs#fPkSCoAAAAMr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAMv#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAAMwBAAAAABAAAAEAAQAAAMsAAAAsAAAAKgAAAA8AAAAAzAEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAM3#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADMAAZhbmdsZTEAAAAqAAAALAAAAMsAAAAiAQAAAMwB#wAAAEAIAAAAAAAAP#AAAAAAAAAAAADODwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAAz#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAAMwB#wAAAAEAAAABQEJbiQkrj78AAAAqAAAALAAAAMsAAAAADQD#####AAAALAAAAAgAAADPAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMwAAANIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA0AAAA0gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADUAAADSAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANgAAANIAAAAdAP####8BAH8AAAEAAAAFAAAA0wAAANQAAADVAAAA1gAAANMAAAAkAP####8BAH8AAAAABQAAANf#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####xBAjwQAAAAAAEBi8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAAAAABQAAABkAAAAAAAAAMsAAQAAAAApAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAArQAAAJQAAAC0AAAAKgAAAADaAQAAAAAQAAABAAEAAAC0AAAAlAAAAK0AAAAPAAAAANoBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAADbAAAAKwEAAADaAAZhbmdsZTMAAACtAAAAlAAAALQAAAAiAQAAANoBAH8AAEAIAAAAAAAAP#AAAAAAAAAAAADcDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA3QAAACwBAAAA2gEAfwAAAQAAAAFAQluJCSuPvwAAAK0AAACUAAAAtAAAAAANAP####8AAACUAAAACAAAAN0AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACtAAAA4AAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK4AAADgAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArwAAAOAAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACwAAAA4AAAAB0A#####wEAAH8AAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACQA#####wEAAH8AAAAFAAAA5QAAAC0A#####wAAAH8B#####wpAj1wAAAAAAEBo8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAAAAABQAAABkAAAAPAAAALQAAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wEAAH8AAQAAAJMAAACf#####wAAACgAAAABQFaAAAAAAAAAAAAnAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQABP+#fkVF76cAAAADoAAAAKQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAJ8AAACTAAAA6QAAACoAAAAA6gEAAAAAEAAAAQABAAAA6QAAAJMAAACfAAAADwAAAADqAQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA6wAAACsBAAAA6gAGYW5nbGUyAAAAnwAAAJMAAADpAAAAIgEAAADqAQAAfwBACAAAAAAAAD#wAAAAAAAAAAAA7A8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAO0AAAAsAQAAAOoBAAB#AAEAAAABQEJbiQkrj78AAACfAAAAkwAAAOkAAAAADQD#####AAAAkwAAAAgAAADtAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnwAAAPAAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACgAAAA8AAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKEAAADwAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAogAAAPAAAAAdAP####8B#wAAAAEAAAAFAAAA8QAAAPIAAADzAAAA9AAAAPEAAAAkAP####8B#wAAAAAABQAAAPUAAAAtAP####8A#wAAAf####8KQI7sAAAAAABAXGFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB3RvdXJuZTIAAAAAAAAUAAAAZAAAADwAAADpAAEA################"
			this.MG32codeBase64corr = "TWF0aEdyYXBoSmF2YTEuMAAAABI+0euFAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAQL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAVBbmdsZQABMAAAAAEAAAAAAAAAAAAAAAIA#####wAEWm9vbQACMzAAAAABQD4AAAAAAAAAAAACAP####8AAm54AAE1AAAAAUAUAAAAAAAA#####wAAAAEABUNGb25jAP####8AB21vZHVsb3gACG1vZCh4LDIp#####wAAAAEADUNGb25jdGlvbjJWYXIG#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAFAAAAAAAAAAAABeAAAAAMA#####wAHbW9kdWxveQASbW9kKGludCh5L254LzIpLDIpAAAABAb#####AAAAAgAJQ0ZvbmN0aW9uAv####8AAAABAApDT3BlcmF0aW9uAwAAAAcDAAAABQAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAAwAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAABeQAAAAMA#####wACcjAAJXNpKChtb2R1bG94KHgpPTApKihtb2R1bG95KHgpPTApLDEsMCn#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAHAgAAAAcI#####wAAAAEADkNBcHBlbEZvbmN0aW9uAAAABAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4AAAAAgD#####AAJ5RAABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeEQAATAAAAABAAAAAAAAAAAAAAACAP####8AAnlDAAE0AAAAAUAQAAAAAAAAAAAAAgD#####AAJ4QwABNAAAAAFAEAAAAAAAAAAAAAIA#####wACeUIAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhCAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wAAAAAAEAABTwDAMgAAAAAAAMAzAAAAAAAABQABQEtAAAAAAABAUSFHrhR64v####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####Af8AAAEQAAABAAIAAAANAD#3Cj1wo9cK#####wAAAAEACUNSb3RhdGlvbgD#####AAAADQAAAAFAVoAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACAAAAAL#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQGeAAAAAAAAAAAAOAAAADQD#####AAAADQAAAAgAAAAB#####wAAAAEAC0NQb2ludEltYWdlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAEv####8AAAABAA5DUG9pbnRMaWVQb2ludAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAE#####8AAAABAAlDQ2VyY2xlT0EA#####wH#AAAAAgAAAA0AAAAU#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wH#AAAADQAAAQACAAAADQAAABT#####AAAAAQAQQ0RlbWlEcm9pdGVJbWFnZQD#####Af8AAAANAAABAAIAAAAWAAAAD#####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAXAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAGAAAABAA#####wH#AAAAEAACSicAAAAAAAAAAABACAAAAAAAAAUAAAAAFAAAABAAAAAQAP####8B#wAAABAAAkknAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAAAQ#####wAAAAIAB0NSZXBlcmUA#####wDm5uYBAQAAAA0AAAAbAAAAGgAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8B#wAAARAAAkInAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAADAAAAAgAAAALAAAAEQD#####AQAAAAAQAAFCAEAAAAAAAAAAwDcAAAAAAAAFAAAAAB0AAAAYAP####8B#wAAARAAAkQnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACAAAAAgAAAAHAAAAEQD#####AQAAAAAQAAFEAMAxAAAAAAAAwCoAAAAAAAAFAAAAAB8AAAAYAP####8B#wAAARAAAkMnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAACgAAAAgAAAAJAAAAEQD#####AQAAAAAQAAFDAEAIAAAAAAAAv#AAAAAAAAAFAAAAACEAAAACAP####8AAnhhAAIxMgAAAAFAKAAAAAAAAAAAAAIA#####wACeWEAATgAAAABQCAAAAAAAAAAAAACAP####8ABG51bWEAATAAAAABAAAAAAAAAAAAAAACAP####8AAnhjAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAJ5YwABOAAAAAFAIAAAAAAAAAAAAAIA#####wADeGMxAAE4AAAAAUAgAAAAAAAAAAAAAgD#####AAN5YzEAAjE2AAAAAUAwAAAAAAAAAAAAGAD#####AQAAAAAQAAFhAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAIwAAAAgAAAAkAAAAGAD#####AQAAAAAQAAFjAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAJgAAAAgAAAAnAAAAGAD#####AQnMCQAQAAJjMQAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAACgAAAAIAAAAKQAAAA4A#####wAAAA0AAAAHAwAAAAE#8AAAAAAAAAAAAAoAAAAGAAAACAAAACUAAAAQAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAALQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAAAtAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAC0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAALf####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAAA0AAAAqAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALgAAADIAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAvAAAAMgAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADAAAAAyAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAADIAAAACAP####8AAm55AAE1AAAAAUAUAAAAAAAAAAAAAwD#####AAJyMwAlc2koKG1vZHVsb3goeCk9MSkqKG1vZHVsb3koeCk9MSksMSwwKQAAAAkAAAAABwIAAAAHCAAAAAoAAAAEAAAABQAAAAAAAAABP#AAAAAAAAAAAAAHCAAAAAoAAAAFAAAABQAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAABAAAAAAAAAAAAAXgAAAADAP####8AAnIyACVzaSgobW9kdWxveCh4KT0wKSoobW9kdWxveSh4KT0xKSwxLDApAAAACQAAAAAHAgAAAAcIAAAACgAAAAQAAAAFAAAAAAAAAAEAAAAAAAAAAAAAAAcIAAAACgAAAAUAAAAFAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAEAAAAAAAAAAAABeAAAAAMA#####wACcjEAJXNpKChtb2R1bG94KHgpPTEpKihtb2R1bG95KHgpPTApLDEsMCkAAAAJAAAAAAcCAAAABwgAAAAKAAAABAAAAAUAAAAAAAAAAT#wAAAAAAAAAAAABwgAAAAKAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAQAAAAAAAAAAAAF4#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAADAMQAAAAAAAMAuAAAAAAAAAAAADRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAFB#####wAAAAEAB0NNaWxpZXUA#####wEAAAABEAACSjEAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAACL#####AAAAAQARQ1N5bWV0cmllQ2VudHJhbGUA#####wAAADwAAAAQAP####8BAAAAARAAAUoAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAD0AAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAPQAAABsA#####wEAAAABEAACSTEAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAB4AAAAcAP####8AAABAAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEEAAAAQAP####8BAAAAARAAAUkAAAAAAAAAAABACAAAAAAAAAUAAAAAIAAAAEEAAAAZAP####8AAAANAAAAIgAAABAA#####wEAAAABEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAARAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACIAAABEAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAEQAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAgAAAARP####8AAAABAAlDUG9seWdvbmUA#####wEAAAAAAQAAAAUAAAAgAAAAPgAAAD8AAAAiAAAAIAAAAB0A#####wAAAAAAAQAAAAUAAAAeAAAAIgAAAEIAAABDAAAAHgAAAB0A#####wAAAAAAAQAAAAUAAABFAAAASAAAAEYAAABHAAAARQAAAB0A#####wAAAAAAAQAAAAUAAAANAAAAIAAAACIAAAAeAAAADQAAABYA#####wD#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAYAAAAFwD#####AObm5gABAAAADQAAAEMAAAA+AAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAVUAAAAAAAAAAABACAAAAAAAAAUAAAAADQAAAEMAAAAHAQAAAAgAAAADAAAAAT#wAAAAAAAAAAAAHgD#####AQAAAAAQAAFWAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA0AAAA+AAAABwEAAAAIAAAANwAAAAE#8AAAAAAAAP####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAANAAAATwAAAB8A#####wEAAAAAEAAAAQABAAAADQAAAFAAAAAPAP####8BAAAAABAAAlUxAAAAAAAAAAAAQAgAAAAAAAAFAAE#0wPWdtnVKQAAAFEAAAAZAP####8AAAANAAAAUAAAABAA#####wEAAAAAEAACVjEAAAAAAAAAAABACAAAAAAAAAUAAAAAUwAAAFQAAAAfAP####8BAAAAABAAAAEAAQAAAFMAAABVAAAADwD#####AQAAAAAQAAJVMgAAAAAAAAAAAEAIAAAAAAAABQABP9bRs76jZ34AAABWAAAAGQD#####AAAADQAAAFcAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAANAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACAAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAIgAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAAWAAAAB0A#####wEAAAAAAQAAAAUAAABZAAAAWgAAAFsAAABcAAAAWQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEIAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAQwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAXAAAAFsAAABeAAAAXwAAAFwAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA+AAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD8AAABYAAAAHQD#####AQAAAAABAAAABQAAAFoAAABhAAAAYgAAAFsAAABaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARQAAAFgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAWAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEYAAABYAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAFgAAAAdAP####8BAAAAAAEAAAAFAAAAZAAAAGUAAABmAAAAZwAAAGT#####AAAAAgAIQ01lc3VyZVgA#####wABeAAAAE4AAABX#####wAAAAIACENNZXN1cmVZAP####8AAXkAAABOAAAAVwAAAAIA#####wACeDEADGludCh4KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAaQAAAAE#UGJN0vGp#AAAAAIA#####wACeTEADGludCh5KzAuMDAxKQAAAAYCAAAABwAAAAAIAAAAagAAAAE#UGJN0vGp#AAAAAIA#####wADbnVtAAx4MSoyK254KjQqeTEAAAAHAAAAAAcCAAAACAAAAGsAAAABQAAAAAAAAAAAAAAHAgAAAAcCAAAACAAAAAMAAAABQBAAAAAAAAAAAAAIAAAAbAAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFcAAABb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAJgAAAAAAAMAj#######wAAAAbhIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABtAAAAAgD#####AARudW0xAAVudW0rMQAAAAcAAAAACAAAAG0AAAABP#AAAAAAAAAAAAACAP####8ABG51bScACG51bStueCoyAAAABwAAAAAIAAAAbQAAAAcCAAAACAAAAAMAAAABQAAAAAAAAAAAAAACAP####8ABW51bScxAAZudW0nKzEAAAAHAAAAAAgAAABxAAAAAT#wAAAAAAAAAAAAGwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAWgAAAGIAAAAbAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABbAAAAZgAAABsA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFwAAABeAAAAIgD#####AQAAAADAJgAAAAAAAMAkAAAAAAAAAAAAdRIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABwAAAAIgD#####AQAAAADAJAAAAAAAAMAkAAAAAAAAAAAAcxIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABxAAAAIgD#####AQAAAADAIgAAAAAAAMAgAAAAAAAAAAAAdBIAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABy#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAF0AAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAACMA#####wEAAAAAAABjAAAACAAAADcAAABXAAAABwAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAAjAP####8BAAAAAAAAaAAAAAgAAAA3AAAAVwAAAAcAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAIwD#####AQAAAAAAAGAAAAAIAAAANwAAAFcAAAAHAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAACMA#####wAAAAAAAAB5AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAABbAAAAXAAAAF0AAAB5AAAAIwD#####AAAAAAAAAHwAAAAIAAAAAwAAAFMAAAALAAAAUwAAAFUAAABWAAAAVwAAAFgAAABbAAAAXAAAAF4AAABfAAAAYAAAAHwAAAAjAP####8AAAAAAAAAewAAAAgAAAADAAAAUwAAAAsAAABTAAAAVQAAAFYAAABXAAAAWAAAAGQAAABlAAAAZgAAAGcAAABoAAAAewAAACMA#####wAAAAAAAAB6AAAACAAAAAMAAABTAAAACwAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAFsAAABhAAAAYgAAAGMAAAB6AAAAIwD#####AQAAAAAAAG8AAAAIAAAANwAAAFcAAAAKAAAAVwAAAFgAAABbAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAACMA#####wAAAAAAAACBAAAACAAAAAMAAABTAAAADgAAAFMAAABVAAAAVgAAAFcAAABYAAAAWwAAAGkAAABqAAAAawAAAGwAAABtAAAAbgAAAG8AAACBAAAAIwD#####AQAAAAAAAHYAAAAIAAAANwAAAFcAAAAMAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAIwD#####AAAAAAAAAIMAAAAIAAAAAwAAAFMAAAAQAAAAUwAAAFUAAABWAAAAVwAAAFgAAABcAAAAXgAAAGkAAABqAAAAawAAAGwAAABtAAAAcAAAAHUAAAB2AAAAgwAAACMA#####wEAAAAAAAB4AAAACAAAADcAAABXAAAADQAAAFcAAABYAAAAWwAAAGYAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAAByAAAAdAAAAHgAAAAjAP####8AAAAAAAAAhQAAAAgAAAADAAAAUwAAABEAAABTAAAAVQAAAFYAAABXAAAAWAAAAFsAAABmAAAAaQAAAGoAAABrAAAAbAAAAG0AAABxAAAAcgAAAHQAAAB4AAAAhQAAACMA#####wEAAAAAAAB3AAAACAAAADcAAABXAAAADAAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAACMA#####wAAAAAAAACHAAAACAAAAAMAAABTAAAAEAAAAFMAAABVAAAAVgAAAFcAAABYAAAAWgAAAGIAAABpAAAAagAAAGsAAABsAAAAbQAAAHEAAABzAAAAdwAAAIcAAAAQAP####8B#wAAARAAAkExAMA3AAAAAAAAv#AAAAAAAAAFAAAAACIAAABEAAAAAgD#####AAJ4YgACMjQAAAABQDgAAAAAAAAAAAACAP####8AAnliAAIxNgAAAAFAMAAAAAAAAAAAAAIA#####wAEbnVtYgACNTYAAAABQEwAAAAAAAAAAAACAP####8ABG51bWMAAjMzAAAAAUBAgAAAAAAAAAAAAgD#####AAN4YzIAAjE2AAAAAUAwAAAAAAAAAAAAAgD#####AAN5YzIAAjIwAAAAAUA0AAAAAAAAAAAAAgD#####AAN4YzMAAjEyAAAAAUAoAAAAAAAAAAAAAgD#####AAN5YzMAAjI0AAAAAUA4AAAAAAAAAAAAGAD#####AQAAAAAQAAFiAAAAAAAAAAAAQAgAAAAAAAAFAAAAABwAAAAIAAAAigAAAAgAAACLAAAAGAD#####AX8AAAAQAAJjMgAAAAAAAAAAAEAIAAAAAAAACQAAAAAcAAAACAAAAI4AAAAIAAAAjwAAABgA#####wEAAH8AEAACYzMAAAAAAAAAAABACAAAAAAAAAkAAAAAHAAAAAgAAACQAAAACAAAAJEAAAAdAP####8AAAAAAAEAAAAFAAAALgAAAC8AAAAwAAAAMQAAAC4AAAAdAP####8BLLgsAAEAAAAFAAAAMwAAADQAAAA1AAAANgAAADP#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAACWAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADkAAAAIAAAAjAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACAAAACYAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAPgAAAJgAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA#AAAAmAAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAACIAAACYAAAAHQD#####AAAAAAABAAAABQAAAJkAAACaAAAAmwAAAJwAAACZAAAAGQD#####AAAADQAAAJIAAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACZAAAAngAAABAA#####wEA#wAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJoAAACeAAAAEAD#####AQD#AAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAAmwAAAJ4AAAAQAP####8BAP8AABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACcAAAAngAAAB0A#####wH#AAAAAQAAAAUAAACfAAAAoAAAAKEAAACiAAAAnwAAACQA#####wH#AAAAAAAFAAAAowAAABkA#####wAAAA0AAAAr#####wAAAAEAC0NNYWNyb1BhdXNlAP####8AAAAAAf####8QQI70AAAAAABAQcKPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAACAAAADgD#####AAAADQAAAAcDAAAAAT#wAAAAAAAAAAAACgAAADgAAAAIAAAAjQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEUAAACnAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAKcAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABGAAAApwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAACnAAAAHQD#####Af8AAAABAAAABQAAAKgAAACpAAAAqgAAAKsAAACoAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqAAAAKUAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACpAAAApQAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKoAAAClAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAqwAAAKUAAAAdAP####8BAAB#AAEAAAAFAAAArQAAAK4AAACvAAAAsAAAAK0AAAAkAP####8BAAB#AAAABQAAALH#####AAAAAQASQ0FyY0RlQ2VyY2xlRGlyZWN0AP####8B##8AAAEAAACUAAAArf####8AAAABQFaAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8BAAB#ARAAAAAAAAAAAAAAAEAIAAAAAAAABQABP10AlhldV+MAAACzAAAADQD#####AAAALAAAAAFAVoAAAAAAAAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADMAAAC1AAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAALUAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAAtQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADYAAAC1AAAAHQD#####AAB#AAABAAAABQAAALYAAAC3AAAAuAAAALkAAAC2AAAAJAD#####AQB#AAAAAAUAAAC6AAAADQD#####AAAAlAAAAAFAVoAAAAAAAAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK0AAAC8AAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArgAAALwAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACvAAAAvAAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAALAAAAC8AAAAHQD#####AQAAfwABAAAABQAAAL0AAAC+AAAAvwAAAMAAAAC9AAAAJAD#####AQAAfwAAAAUAAADBAAAADQD#####AAAAk#####8AAAABAAxDTW9pbnNVbmFpcmUAAAABQFaAAAAAAAAAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACfAAAAwwAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKAAAADDAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAoQAAAMMAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACiAAAAwwAAAB0A#####wH#AAAAAQAAAAUAAADEAAAAxQAAAMYAAADHAAAAxAAAACQA#####wH#AAAAAAAFAAAAyAAAACYA#####wH#AAAAAQAAACwAAAAq#####wAAAAFAVoAAAAAAAAAAACcA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAE#Zs#fPkSCoAAAAMr#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAXTWVzdXJlIGQnYW5nbGUgb3JpZW50w6kAAAACAAAAAwAAAAMAAAAqAAAALAAAAMv#####AAAAAQAMQ0Jpc3NlY3RyaWNlAAAAAMwBAAAAABAAAAEAAQAAAMsAAAAsAAAAKgAAAA8AAAAAzAEAAAAAEAAAAAAAAAAAAAAAP+MzMzMzMzMFAAFAaT5Clg7dyQAAAM3#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQEAAADMAAZhbmdsZTEAAAAqAAAALAAAAMsAAAAiAQAAAMwB#wAAAEAIAAAAAAAAP#AAAAAAAAAAAADODwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAAz#####8AAAACABNDTWFycXVlQW5nbGVPcmllbnRlAQAAAMwB#wAAAAEAAAABQEJbiQkrj78AAAAqAAAALAAAAMsAAAAADQD#####AAAALAAAAAgAAADPAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMwAAANIAAAAQAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA0AAAA0gAAABAA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADUAAADSAAAAEAD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANgAAANIAAAAdAP####8BAH8AAAEAAAAFAAAA0wAAANQAAADVAAAA1gAAANMAAAAkAP####8BAH8AAAAABQAAANf#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####xBAjwQAAAAAAEBi8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMQAAAQAAAB4AAABkAAAAPAAAAMsAAQAAAAApAP####8AF01lc3VyZSBkJ2FuZ2xlIG9yaWVudMOpAAAAAgAAAAMAAAADAAAArQAAAJQAAAC0AAAAKgAAAADaAQAAAAAQAAABAAEAAAC0AAAAlAAAAK0AAAAPAAAAANoBAAAAABAAAAAAAAAAAAAAAD#jMzMzMzMzBQABQGk+QpYO3ckAAADbAAAAKwEAAADaAAZhbmdsZTMAAACtAAAAlAAAALQAAAAiAQAAANoBAH8AAEAIAAAAAAAAP#AAAAAAAAAAAADcDwAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAACwrAAAAAA3QAAACwBAAAA2gEAfwAAAQAAAAFAQluJCSuPvwAAAK0AAACUAAAAtAAAAAANAP####8AAACUAAAACAAAAN0AAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACtAAAA4AAAABAA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAK4AAADgAAAAEAD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAArwAAAOAAAAAQAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACwAAAA4AAAAB0A#####wEAAH8AAQAAAAUAAADhAAAA4gAAAOMAAADkAAAA4QAAACQA#####wEAAH8AAAAFAAAA5QAAAC0A#####wAAAH8B#####wpAj1wAAAAAAEBo8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHdG91cm5lMwAAAQAAAB4AAABkAAAAPAAAALQAAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wEAAH8AAQAAAJMAAACf#####wAAACgAAAABQFaAAAAAAAAAAAAnAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQABP+#fkVF76cAAAADoAAAAKQD#####ABdNZXN1cmUgZCdhbmdsZSBvcmllbnTDqQAAAAIAAAADAAAAAwAAAJ8AAACTAAAA6QAAACoAAAAA6gEAAAAAEAAAAQABAAAA6QAAAJMAAACfAAAADwAAAADqAQAAAAAQAAAAAAAAAAAAAAA#4zMzMzMzMwUAAUBpPkKWDt3JAAAA6wAAACsBAAAA6gAGYW5nbGUyAAAAnwAAAJMAAADpAAAAIgEAAADqAQAAfwBACAAAAAAAAD#wAAAAAAAAAAAA7A8AAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAsKwAAAAAO0AAAAsAQAAAOoBAAB#AAEAAAABQEJbiQkrj78AAACfAAAAkwAAAOkAAAAADQD#####AAAAkwAAAAgAAADtAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAnwAAAPAAAAAQAP####8BAAB#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAACgAAAA8AAAABAA#####wEAAH8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAKEAAADwAAAAEAD#####AQAAfwAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAogAAAPAAAAAdAP####8B#wAAAAEAAAAFAAAA8QAAAPIAAADzAAAA9AAAAPEAAAAkAP####8B#wAAAAAABQAAAPUAAAAtAP####8A#wAAAf####8KQI7sAAAAAABAXGFHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB3RvdXJuZTIAAAEAAAAeAAAAZAAAADwAAADpAAEA#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQIe0AAAAAABAcLhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAcAAACWAAAAlwAAAEkAAAC7AAAALAAAANcAAADY#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wAAfwAB#####wpAiCQAAAAAAEByuFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQxAAAAAAAHAAAAlgAAAJcAAABJAAAAuwAAACwAAADXAAAA2AD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAfwAB#####wpAQ8AAAAAAAEApCj1wo9cMAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBhAAAAAAAEAAAA+QAAANkAAAD4AAAApgAAAC8A#####wAAAH8B#####xBAj5QAAAAAAEBs8KPXCj1xAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHbWFzcXVlMwAAAAAABwAAAMEAAADCAAAAsQAAAOUAAACyAAAA5gAAAJQAAAAwAP####8AAAB#Af####8KQI+0AAAAAABAcLhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MwAAAAAABwAAAMEAAADCAAAAsQAAAOUAAACyAAAA5gAAAJQAAAAAMQD#####AAAAfwH#####CkBo8AAAAAAAQCkKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAMAAAD8AAAA5wAAAPsAAAAvAP####8A#wAAAf####8QQI+8AAAAAABAczhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAcAAADIAAAAyQAAAKMAAAD1AAAApAAAAPYAAACTAAAAMAD#####AAAAAAH#####CkCPxAAAAAAAQHZ4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAlhcHBhcmFpdDIAAAAAAAcAAADIAAAAyQAAAKMAAAD1AAAApAAAAPYAAACTAAAAADEA#####wD#AAAB#####wpAXaAAAAAAAEApCj1wo9cMAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAMQ29ycmVjdGlvbiBiAAAAAAAEAAAA#wAAAPcAAAD+AAAApgAAADEA#####wAAAAAB#####xBAcigAAAAAAEAeFHrhR634AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKQ29ycmVjdGlvbgAAAAAABAAAAKYAAAD6AAABAAAAAP3###############8="
			//première question : centre A, rotation de 90° sens anti-horaire, une figure de tabfigA donne une figure de tabfigD, le point B donne le point D.
			indexA = randint(0, nx * ny - 1)
			numA = tabfigA[indexA][2]
			indexcentre1 = randint(0, nx * ny - 1, [indexA])
			xmil1 = tabfigA[indexcentre1][0]
			ymil1 = tabfigA[indexcentre1][1]
			point = image_point_par_transformation(6, [tabfigB[indexA][0], tabfigB[indexA][1]], [xmil1, ymil1]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == tabfigD[j][1]) {
						trouver = true
						num1=tabfigD[j][2]
						xa=tabfigA[indexA][0]
						ya=tabfigA[indexA][1]
						break
					}
				}
				if (trouver == false) {
					indexA = randint(0, nx * ny - 1)
					numA = tabfigA[indexA][2]
					indexcentre1 = randint(0, nx * ny - 1, [indexA])
					xmil1 = tabfigA[indexcentre1][0]
					ymil1 = tabfigA[indexcentre1][1]
					point = image_point_par_transformation(6, [tabfigB[indexA][0], tabfigB[indexA][1]], [xmil1, ymil1]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(0) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numA} dans la rotation de centre ${s0} et d'angle 90° dans le sens inverse des aiguilles d'une montre ?<br>`, `green`)
			texte_corr = num_alpha(0) + texte_en_couleur_et_gras(` La figure image de la figure ${numA} dans la rotation de centre ${s0} et d'angle 90° dans le sens inverse des aiguilles d'une montre porte le numéro ${num1}.<br>`, `green`)

			//deuxième question : centre B, rotation 90° sens horaire, une figure de tabfigD donne une figure de tabfigC
			indexD = randint(0, nx * ny - 1)
			numD = tabfigD[indexD][2]
			indexcentre2 = randint(0, nx * ny - 1, [indexD])
			xmil2 = tabfigB[indexcentre2][0]
			ymil2 = tabfigB[indexcentre2][1]
			point = image_point_par_transformation(5, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == 4+tabfigC[j][0] && point[1] == tabfigC[j][1]) {
						trouver = true
						num2=tabfigC[j][2]
						xb=tabfigA[indexD][0]
						yb=tabfigA[indexD][1]
						break
					}
				}
				if (trouver == false) {
					indexD = randint(0, nx * ny - 1)
					numD = tabfigD[indexD][2]
					indexcentre2 = randint(0, nx * ny - 1, [indexD])
					xmil2 = tabfigB[indexcentre2][0]
					ymil2 = tabfigB[indexcentre2][1]
					point = image_point_par_transformation(5, [tabfigD[indexD][0], tabfigD[indexD][1]], [xmil2, ymil2]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(1) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numD} dans la rotation de centre ${s1} et d'angle 90° dans le sens des aiguilles d'une montre ?<br>`, `red`)
			texte_corr += num_alpha(1) + texte_en_couleur_et_gras(` La figure image de la figure ${numD} dans la rotation de centre ${s1} et d'angle 90° dans le sens des aiguilles d'une montre porte le numéro ${num2}.<br>`, `red`)

			//troisième question : centre B, rotation 90° sens anti-horaire, une figure de tabfigC donne une figure de tabfigD
			indexC = randint(0, nx * ny - 1)
			numC = tabfigC[indexC][2]
			indexcentre3 = randint(0, nx * ny - 1, [indexC])
			xmil3 = tabfigB[indexcentre3][0]
			ymil3 = tabfigB[indexcentre3][1]
			point = image_point_par_transformation(6, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3]) // le repère est direct, donc le sens de rotation est inversé...
			trouver = false
			while (trouver == false) {
				for (let j = 0; j < nx * ny; j++) {
					if (point[0] == tabfigD[j][0] && point[1] == 4+tabfigD[j][1]) {
						trouver = true
						num3=tabfigD[j][2]
						xc=tabfigA[indexC][0]
						yc=tabfigA[indexC][1]
						break
					}
				}
				if (trouver == false) {
					indexC = randint(0, nx * ny - 1)
					numC = tabfigC[indexC][2]
					indexcentre3 = randint(0, nx * ny - 1, [indexC])
					xmil3 = tabfigB[indexcentre3][0]
					ymil3 = tabfigB[indexcentre3][1]
					point = image_point_par_transformation(6, [tabfigC[indexC][0], tabfigC[indexC][1]], [xmil3, ymil3]) // le repère est direct, donc le sens de rotation est inversé...
				}
			}
			texte += num_alpha(2) + texte_en_couleur_et_gras(` Quel est le numéro de la figure image de la figure ${numC} dans la rotation de centre ${s2} et d'angle 90° dans le sens inverse des aiguilles d'une montre ?<br>`, `blue`)
			texte_corr += num_alpha(2) + texte_en_couleur_et_gras(` La figure image de la figure ${numC} dans la rotation de centre ${s2} et d'angle 90° dans le sens inverse des aiguilles d'une montre porte le numéro ${num3}.<br>`, `blue`)


			break

	}
	if (sortie_html) {

			this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xD", "${xD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yD", "${yD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numa", "${numA}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numb", "${numD}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "numc", "${numC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc3", "${xmil3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc3", "${ymil3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc", "${xc}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc", "${yc}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc2", "${xmil2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc2", "${ymil2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xb", "${xb}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yb", "${yb}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xc1", "${xmil1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yc1", "${ymil1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xa", "${xa}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ya", "${ya}");	
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "Zoom", "${Zoom}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "Angle", "${Angle}");	
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c1", "${s0}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c2", "${s1}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}", "c3", "${s2}");

			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV", "${xV1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV", "${yV1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV2", "${xV2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV2", "${yV2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xV3", "${xV3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yV3", "${yV3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xD", "${xD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yD", "${yD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numa", "${numA}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numb", "${numD}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "numc", "${numC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc3", "${xmil3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc3", "${ymil3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc", "${xc}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc", "${yc}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc2", "${xmil2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc2", "${ymil2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xb", "${xb}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yb", "${yb}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xc1", "${xmil1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yc1", "${ymil1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xa", "${xa}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ya", "${ya}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "Zoom", "${Zoom}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "Angle", "${Angle}");	
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c1", "${s0}");
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c2", "${s1}");
			mtg32App.rename("MG32svgcorr${numero_de_l_exercice}", "c3", "${s2}");

			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.executeMacro("MG32svgcorr${numero_de_l_exercice}","Correction")
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`
		
			this.liste_questions.push(texte);
			this.liste_corrections.push(texte_corr);
			liste_de_question_to_contenu_sans_numero(this)

		}
		else {
			texte = ``
			texte_cor=``
			this.liste_questions.push(texte) // on envoie la question
			this.liste_corrections.push(texte_corr)
			liste_de_question_to_contenu_sans_numero(this);
		}
		


	}
	this.besoin_formulaire_numerique = ['Transformations',4, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Translations\n 4 : Translations\n 5 : Homothéties\n'];
}
/**
 * Transformer un programme de calcul avec les 4 opérations dans un ordre aléatoire en un seul calcul.
 * @Auteur Jean-Claude Lhote
 * Référence 5C11-2
 */
function Ecrire_une_expression_mathador(){
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.titre = "Traduire une succession d\'opérations par une expression"
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let expression,calculs_successifs,tirage,cible,solution_mathador,quidam
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
 			// traduire un calcul mathador
			solution_mathador=Trouver_solution_mathador(30,90)
			tirage=solution_mathador[0]
			cible=solution_mathador[1]
			calculs_successifs=solution_mathador[2]
			expression=solution_mathador[3]
			quidam=prenom()
			texte = `${quidam} a trouvé une solution mathador pour le tirage suivant $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${cible}$, voici ses calculs :<br>`
			for (let j=0;j<4;j++) {
				texte+=`$${calculs_successifs[j]}$<br>`
			}
			texte+=`Écris cette succession d'opérations en une seule expression.`
			texte_corr = `L'expression correspondante au calcul de ${quidam} est<br>$${expression}$ ou $${solution_mathador[4]}$.`
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
}

/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C11
 */
function Traduire_une_phrase_par_une_expression() {
	Ecrire_une_expression_numerique.call(this)
	this.version=1
	this.titre="Traduire une phrase par une expression"
	this.sup=false
	this.sup2=false
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L10-1
 */
function Traduire_une_phrase_par_une_expression_litterale() {
	Ecrire_une_expression_numerique.call(this)
	this.version=1
	this.titre="Traduire une phrase par une expression"
	this.sup=false
	this.sup2=false
	this.litteral=true
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C11-1
 */
function Traduire_une_expression_par_une_phrase() {
	Ecrire_une_expression_numerique.call(this)
	this.version=2
	this.titre="Traduire une expression par une phrase"
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L10-3
 */
function Traduire_une_expression_litterale_par_une_phrase() {
	Ecrire_une_expression_numerique.call(this)
	this.version=2
	this.titre="Traduire une expression par une phrase"
	this.litteral=true
}

/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C12-1
 */
function Traduire_une_phrase_par_une_expression_et_calculer() {
	Ecrire_une_expression_numerique.call(this)
	this.version=3
	this.titre="Traduire une phrase par une expression et la calculer"
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5L13-3
 */
function Traduire_une_phrase_par_une_expression_litterale_et_calculer() {
	Ecrire_une_expression_numerique.call(this)
	this.version=3
	this.titre="Traduire une phrase par une expression et la calculer"
	this.litteral=true
}
/**
 * @Auteur Jean-Claude Lhote
 * Référence 5C12
 */
function Calculer_une_expression_numerique() {
	Ecrire_une_expression_numerique.call(this)
	this.version=4
	this.titre="Calculer une expression numérique en détaillant les calculs"
}
/**
 * @Auteur Jean-Claude Lhote
  * Référence 5L13-1
*/
function Calculer_une_expression_litterale() {
	Ecrire_une_expression_numerique.call(this)
	this.version=4
	this.titre="Calculer une expression littérale pour les valeurs données en détaillant les calculs"
	this.litteral=true
}



/**
 * 5L12-1
 * Distinction entre la réduction d'un produit et la réduction d'une somme, on garde les même coeffs
 * @author Sébastien Lozano 
 */
function Reduire_dinstinction_somme_produit() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;
	if (this.beta) {
		this.nb_questions = 4;
	} else {
		this.nb_questions = 2;
	};	
	this.consigne = "";
	//this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Réduire un produit et une somme à partir des mêmes éléments algébriques pour distinguer la différence`;	
	let type_de_questions_disponibles
	this.nouvelle_version = function(numero_de_l_exercice){
		//let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3]; 
		} else {
			type_de_questions_disponibles = [choice([0,2]),choice([1,3])];
		}
		
		//let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) 
		
		//if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// deux fonctions pour gérer la chaine de sortie et supprimer le coeff 1 !
			function isUn(n) {
				if (n==1) {
					return true;
				} else {
					return false;
				};
			};
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
			};
			let variables = ['x','y','z','t'];
			let enonces = [];
			let n = randint(1,6);
			let p = randint(1,6);
			let inc = variables[randint(0,variables.length-1)];
			//===== 0 le produit puis la somme
			enonces.push({
				enonce:`Simplifier le plus possible le produit puis la somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`Le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`La somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[0].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[0].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[0].correction_somme += `${texte_en_couleur(` $${n+p}${inc}=${inc}$`)}`;
			} else {
				enonces[0].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[0].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 1 le produit puis la somme
			enonces.push({
				enonce:`Simplifier le plus possible l'expression $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc}$ puis l'expression $${sliceUn(n)}${inc}+${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`$${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`$${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});

			if (isUn(n*p)) {
				enonces[1].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[1].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[1].correction_somme += `${texte_en_couleur(` $${n+p}${inc}=${inc}$`)}`;
			} else {
				enonces[1].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[1].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 2 la somme puis le produit 
			enonces.push({
				enonce:`Simplifier le plus possible la somme puis le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`Le produit de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`La somme de $${sliceUn(n)}${inc}$ et de $${sliceUn(p)}${inc}$ vaut : $${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[2].correction_produit += `${texte_en_couleur(`$${n*p}${inc}^2=${inc}^2$`)}`;
			} else {
				enonces[2].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[2].correction_somme += `${texte_en_couleur(` $${inc}$`)}`;
			} else {
				enonces[2].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[2].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			}
			//===== 3 la somme puis le produit 
			enonces.push({
				enonce:`Simplifier le plus possible l'expression $${sliceUn(n)}${inc}+${sliceUn(p)}${inc}$ puis l'expression $${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc}$`,
				questtion:``,
				correction_produit:`$${sliceUn(n)}${inc}\\times ${sliceUn(p)}${inc} = ${n}\\times ${inc}\\times ${p}\\times ${inc} = ${n}\\times ${p}\\times ${inc}\\times ${inc}=$ `,
				correction_somme:`$${sliceUn(n)}${inc}+${sliceUn(p)}${inc} = ${n}\\times ${inc}+${p}\\times ${inc} = (${n}+${p})\\times ${inc}=$ `
			});
			if (isUn(n*p)) {
				enonces[3].correction_produit += `${texte_en_couleur(`$${inc}^2$`)}`;
			} else {
				enonces[3].correction_produit += `${texte_en_couleur(` $${n*p}${inc}^2$`)}`;
			};
			if (isUn(n*p)) {
				enonces[3].correction_somme += `${texte_en_couleur(` $${inc}$`)}`;
			} else {
				enonces[3].correction_somme += `${texte_en_couleur(` $${n+p}${inc}$`)}`;
			};
			if(isUn(n) && isUn(p)) {
				enonces[3].correction_produit = `$${inc}\\times ${inc} =$ ${texte_en_couleur(` $${inc}^2$`)} `;
			};

			switch (liste_type_de_questions[i]) {
				case 0:	// produit puis somme 				
					texte =`${enonces[0].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[0].correction_produit;
						texte += `<br>`;
						texte += enonces[0].correction_somme;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[0].correction_produit;
						texte_corr += `<br>`;
						texte_corr += enonces[0].correction_somme;
					};
					break;
				case 1:	// x puis +				
					texte =`${enonces[1].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[1].correction_produit;
						texte += `<br>`;
						texte += enonces[1].correction_somme;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[1].correction_produit;
						texte_corr += `<br>`;
						texte_corr += enonces[1].correction_somme;
					};
					break;
				case 2:	// somme puis produit				
					texte =`${enonces[2].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[2].correction_somme;
						texte += `<br>`;
						texte += enonces[2].correction_produit;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[2].correction_somme;
						texte_corr += `<br>`;
						texte_corr += enonces[2].correction_produit;
					};
					break;
				case 3:	// + puis x				
					texte =`${enonces[3].enonce}.`;
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += enonces[3].correction_somme;
						texte += `<br>`;
						texte += enonces[3].correction_produit;
						texte_corr = ``;	
					} else {
						texte_corr = enonces[3].correction_somme;
						texte_corr += `<br>`;
						texte_corr += enonces[3].correction_produit;
					};
					break;

 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	//this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}


/**
 * Référence 5L13-4
 * Déterminer la dernière opération à effectuer dans une expression littérale
 * @author Sébastien Lozano fork Jean-Claude Lhote
 */
function Calculer_une_expression_litteraleBis() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Déterminer la dernière opération à effectuer dans une expression littérale`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles = [5] //expressions complexes
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats,last_op
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			//resultats=Choisir_expression_litteraleBis(nb_operations,decimal,val1,val2)
			resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			last_op=resultats[4];

			switch (liste_type_de_questions[i]) {
				case 5:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Déterminer la dernière opération à effectuer s'il fallait faire le calcul pour des valeurs données de $x$ et de $y$.`
					texte =`${expn}.`
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte += `Pour fixer les idées, choissions des valeurs pour $x$ et $y$, par exemple $x=${val1}$ et $y=${val2}$.`
						texte += `<br>Le calcul serait le suivant :<br> ${expc}.`;
						texte += `<br>Pour n'importe quelles valeurs de $x$ et de $y$ choisies, les étapes sont les mêmes, elles respectent les priorités opératoires.`
						texte += texte_en_couleur(`<br>La dernière opération dans ${expn} est donc une ${last_op}.`);
						texte_corr = ``;	
					} else {
						texte_corr = `Pour fixer les idées, choissions des valeurs pour $x$ et $y$, par exemple $x=${val1}$ et $y=${val2}$.`
						texte_corr += `<br>Le calcul serait le suivant : ${expc}.`;
						texte_corr += `<br>Pour n'importe quelles valeurs de $x$ et de $y$ choisies, les étapes sont les mêmes, elles respectent les priorités opératoires.`
						texte_corr += texte_en_couleur(`<br>La dernière opération dans ${expn} est donc une ${last_op}.`);
					};

					break;
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Référence 5L13-6
 * Déterminer la dernière opération à effectuer dans une expression numérique
 * @author Sébastien Lozano 
 */
function Determiner_derniere_operation_exp_num() {
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.titre = `Déterminer la dernière opération à effectuer dans une expression numérique`;

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles = [5] //expressions complexes
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats,last_op
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			//resultats=Choisir_expression_litteraleBis(nb_operations,decimal,val1,val2)
			resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			last_op=resultats[4];
			let str = expc.split('=');

			switch (liste_type_de_questions[i]) {
				case 5:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Déterminer la dernière opération à effectuer .`
					texte =`$${str[1]}$`
					//texte=`${expn}`
					if (this.beta) {
						texte += `<br><br>=====CORRECTION======<br>`;
						texte+=`$`
						for (l=1;l<str.length-1;l++) {
							texte+= `${str[l]}=`
						};
						texte+=`${str[str.length-1]}`						
						texte += `<br>$\\textbf{La dernière opération dans $${str[1]}$ est donc une ${last_op}.}$`;
						texte_corr = ``;	
					} else {
						texte_corr=`$`
						for (l=1;l<str.length-1;l++) {
							texte_corr+= `${str[l]}=`
						};
						texte_corr+=`${str[str.length-1]}`						
						texte_corr+= `<br>$\\textbf{La dernière opération dans $${str[1]}$ est donc une ${last_op}.}$`;						
					};

					break;
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}	
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Fork de la fonction de JC avec ajout de la dernière opération dans le tableau de sortie
 * @param {number} nb_operations 
 * @param {number} decimal 
 * @param {number} val1 
 * @param {number} val2 
 * @returns [expf,expl,expc,nbval,last_op]
 * @author Jean Claude Lhote forked by Sébastien LOZANO
 * Référence 5C11,5C11-1, 5C11-2, 5L13, 5L13-1, 5L13-2, 5L13-3
 */
//function Choisir_expression_litteraleBis(nb_operations,decimal,val1=1,val2=2) {
function Choisir_expression_litterale(nb_operations,decimal,val1=1,val2=2) {
	let expf,expl,expc,arrondir=Math.log10(decimal)
	let a=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let b=arrondi(randint(2*decimal,10*decimal,[a*decimal])/decimal,arrondir)
	let c=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let d=arrondi(randint(2*decimal,10*decimal,[c*decimal])/decimal,arrondir)
	let e=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)  
	let f=arrondi(randint(2*decimal,10*decimal,[e*decimal])/decimal,arrondir)
    let souscas
    let l1 = 'x'
	let l2 = 'y'
	let nbval
	switch (nb_operations){
		case 1 : // expressions de base (1 opération)
			nbval=1
			souscas=randint(0,3)
			switch (souscas) {
				case 0 : //somme de deux nombres
					expf=`La somme de ${nombre_avec_espace(a)} et ${l1}`
					expl=`$${tex_nombre(a)}+${l1}$`
					expc=`$${tex_nombre(a)}+${l1}=${tex_nombre(a)}+${tex_nombre(val1)}=${tex_nombre(a+val1)}$`
					last_op = 'addition';
					break
				case 1 : // différence de deux nombres
					if (val1>b) {
					expf=`La différence de ${l1} et ${nombre_avec_espace(b)}`
					expl=`$${l1}-${tex_nombre(b)}$`
					expc=`$${l1}-${tex_nombre(b)}=${tex_nombre(val1)}-${tex_nombre(b)}=${tex_nombre(val1-b)}$`
					}
					else {
					expf=`La différence de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(b)}-${l1}$`
					expc=`$${tex_nombre(b)}-${l1}=${tex_nombre(b)}-${tex_nombre(val1)}=${tex_nombre(b-val1)}$`
					}
					last_op = 'soustraction';
					break
				case 2 : // produit de deux nombres
					expf=`Le produit de ${l1} par ${nombre_avec_espace(b)}`
					expl=`$${l1}\\times ${tex_nombre(b)} = ${tex_nombrec(b)}${l1}$`
					expc=`$${tex_nombrec(b)}${l1} = ${tex_nombrec(b)}\\times ${val1}=${tex_nombre(b*val1)}$`
					last_op = 'multiplication';
					break
				case 3 : // quotient de deux nombres

					expf=`Le quotient de ${l1} par ${nombre_avec_espace(b)}`
					expl=`$${l1}\\div ${tex_nombre(b)}$`
					if (estentier(val1/b*1000))	expc=`$${l1}\\div ${tex_nombre(b)} = ${val1}\\div ${tex_nombre(b)} = ${tex_nombrec(val1/b)}$`
					else expc=`$${l1}\\div ${tex_nombre(b)} = ${val1}\\div ${tex_nombre(b)}=${tex_fraction(val1,tex_nombre(b))}${simplification_de_fraction_avec_etapes(val1,tex_nombre(b))}$`
					last_op = 'division';
					break
			}
			break
		case 2 : // expressions de niveau 1 (2 opérations)
			souscas=randint(0,5)
			nbval=1
			switch (souscas) {
				case 0 : //a(b+c)
					expf=`Le produit de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(a)}(${tex_nombre(b)}+${l1})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}+${l1})=${tex_nombre(a)}(${tex_nombre(b)}+${val1})=${tex_nombre(a)}\\times ${tex_nombre(b+val1)} = ${tex_nombre(a*(b+val1))}$`
					last_op = 'multiplication';
					break
				case 1 : // a(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
					expf=`Le produit de ${l1} par la différence de ${b} et ${nombre_avec_espace(c)}`
					expl=`$${l1}(${tex_nombre(b)}-${tex_nombre(c)})=${l1}\\times ${tex_nombrec(b-c)}=${tex_nombrec(b-c)}${l1}$`
					expc=`$${l1}(${tex_nombre(b)}-${tex_nombre(c)}) = ${tex_nombre(val1)}(${tex_nombre(b)}-${tex_nombre(c)})=${tex_nombre(val1)}\\times ${tex_nombrec(b-c)}=${tex_nombrec(val1*(b-c))}$`
					last_op = 'multiplication';
					break
				case 2 : // a/(b+c)
					a=calcul(a*(val1+c)) // on s'assure que le quotient tombe juste...
					expf=`Le quotient de ${nombre_avec_espace(a)} par la somme de ${l1} et ${nombre_avec_espace(c)}`
					expl=`$${tex_nombre(a)}\\div (${l1}+${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${l1}+${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${l1}+${tex_nombre(c)})=${tex_nombre(a)}\\div (${tex_nombre(val1)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(val1+c)}=${tex_nombrec(a/(val1+c))}$`
					last_op = 'division';
					break
				case 3 : // a/(b-c)
					if (b<=val1) b=calcul(b+val1) // b-c positif
 					a=calcul(a*(b-val1)) // on s'assure que le quotient tombe juste
					expf=`Le quotient de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${l1}`
					expl=`$${tex_nombre(a)}\\div (${b}-${l1})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}-${l1}}$`
					expc=`$${tex_nombre(a)}\\div (${b}-${l1})=${tex_nombre(a)}\\div (${b}-${val1})=${tex_nombre(a)}\\div ${tex_nombrec(b-val1)}=${tex_nombrec(a/(b-val1))}$`
					last_op = 'division';
					break			
				case 4 : // (a+b)/c
					a=calcul(a*val1)
					b=calcul(b*val1) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${l1}`
					expl=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div  ${l1}$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${l1}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div  ${l1}=(${tex_nombre(a)}+${tex_nombre(b)})\\div ${val1}= ${tex_nombrec(a+b)}\\div ${val1}=${tex_nombrec((a+b)/val1)}$`
					last_op = 'division';
					break
				case 5 : // (a-b)/c
					a=calcul(a*c)+val1 // on s'assure que le quotient tombe juste et que a-b>0
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l1} par ${nombre_avec_espace(c)}`
					expl=`$(${tex_nombre(a)}-${l1})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div ${tex_nombre(c)}=(${tex_nombre(a)}-${val1})\\div ${tex_nombre(c)}= ${tex_nombrec(a-val1)}\\div ${tex_nombre(c)}=${tex_nombrec((a-val1)/c)}$`
					last_op = 'division';
					break			
							
			}
			break
		case 3 : // expressions de niveau 2 (3 opérations)
			souscas=randint(0,13)
			nbval=2
			switch (souscas) {
				case 0 : // (a+b)(c+d)
					a=val1
					d=val2
					expf=`Le produit de la somme de ${l1} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${l1}+${tex_nombre(b)})(${tex_nombre(c)}+${l2})$`
					expc=`$(${l1}+${tex_nombre(b)})(${tex_nombre(c)}+${l2})=(${a}+${tex_nombre(b)})(${tex_nombre(c)}+${d})= ${tex_nombrec(a+b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)*(c+d))}$`
					last_op = 'multiplication';
					break
				case 1 : // (a+b)(c-d)
					d=val2
					b=val1
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})(${tex_nombre(c)}-${l2})$`
					expc=`$(${tex_nombre(a)}+${l1})(${tex_nombre(c)}-${l2})=(${tex_nombre(a)}+${b})(${tex_nombre(c)}-${d})= ${tex_nombrec(a+b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)*(c-d))}$`
					last_op = 'multiplication';
					break
				case 2 : // (a-b)(c+d)
				b=val2
				c=val1
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${l1} et ${nombre_avec_espace(d)}`
					expl=`$(${tex_nombre(a)}-${l2})(${l1}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${l2})(${l1}+${tex_nombre(d)})=(${tex_nombre(a)}-${b})(${c}+${tex_nombre(d)})=${tex_nombrec(a-b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)*(c+d))}$`
					last_op = 'multiplication';
					break
				case 3 : // (a-b)(c-d)
					b=val1
					d=val2
					if (a<=b) a=calcul(a+b)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}-${l1})(${tex_nombre(c)}-${l2})$`
					expc=`$(${tex_nombre(a)}-${l1})(${tex_nombre(c)}-${l2})=(${tex_nombre(a)}-${b})(${tex_nombre(c)}-${d})= ${tex_nombrec(a-b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)*(c-d))}$`
					last_op = 'multiplication';
					break			
				case 4 : // (a+b)/(c+d)
					d=val2
					b=val1
					if (!estentier((a+b)/(c+d))) a=calcul(a*(c+d)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}+${l2})$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}+${l2}}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}+${l2})=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)/(c+d))}$`
					last_op = 'division';
					break
				case 5 : // (a-b)/(c+d)
					d=val1
					b=val2
					if (a-b<=0||!estentier((a-b)/(c+d))) a=calcul(a*(c+d)+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${nombre_avec_espace(c)} et ${l1}`
					expl=`$(${tex_nombre(a)}-${l2})\\div (${tex_nombre(c)}+${l1})$ ou $\\dfrac{${tex_nombre(a)}-${l2}}{${tex_nombre(c)}+${l1}}$`
					expc=`$(${tex_nombre(a)}-${l2})\\div (${tex_nombre(c)}+${l1})=(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/(c+d))}$`
					last_op = 'division';
					break			
				case 6 : // (a+b)/(c-d)
					b=val1
					d=val2
					if (c<=d) c=calcul(c+d)
					if (!estentier((a+b)/(c-d))) 
						if (a*(c-d)>b ) a=calcul(a*(c-d)-b)
						else a=calcul((a+b)*(c-d)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}-${l2})$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}-${l2}}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}-${l2})=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)/(c-d))}$`
					last_op = 'division';
					break
				case 7 : // (a-b)/(c-d)
					d=val2;
					b=val1;
					if (c<=d) c=calcul(c+d)
					if (a<=b) a=calcul(a+b)
					if (!estentier((a-b)/(c-d))) a=calcul(a*(c-d)+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${l1} par la différence de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$(${tex_nombre(a)}-${l1})\\div (${tex_nombre(c)}-${l2})$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{${tex_nombre(c)}-${l2}}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div (${tex_nombre(c)}-${l2})=(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)/(c-d))}$`
					last_op = 'division';
					break			
				case 8 : // ab+cd
					b=val1;
					d=val2;
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l1} et du produit de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}$`
					expc=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c*d)} = ${tex_nombrec(a*b+c*d)}$`
					last_op = 'addition';
					break
				case 9 : // ab-cd
				d=val2
				b=val1
					if (a*b<d*c) a=calcul(a+c)
					while (a*b<d*c) a=calcul(a+c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${l1} et du produit de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}${l2}$`
					expc=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c*d)} = ${tex_nombrec(a*b-c*d)}$`
					last_op = 'soustraction';
					break			
				case 10 : // ab+c/d
					d=val1
					b=val2
					if (!estentier(c/d)) c=calcul(c*d)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l2} et du quotient de ${nombre_avec_espace(c)} par ${l1}`
					expl=`$${tex_nombre(a)}${l2}+${tex_nombre(c)}\\div ${l1}$ ou $${tex_nombre(a)}${l2}+\\dfrac{${tex_nombre(c)}}{${l1}}$`
					expc=`$${tex_nombre(a)}${l2}+${tex_nombre(c)}\\div ${l1}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a*b+c/d)}$`
					last_op = 'addition';
					break
				case 11 : // ab-c/d
					d=val2
					b=val1
					if (!estentier(c/d)) c=calcul(c*d)
					while (a*b<c/d) a=calcul(a*c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${l1} et du quotient de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}${l1}-${tex_nombre(c)}\\div ${l2}$ ou $${tex_nombre(a)}\\times ${l1}-\\dfrac{${tex_nombre(c)}}{${l2}}$`
					expc=`${tex_nombre(a)}${l1}-${tex_nombre(c)}\\div ${l2}=${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a*b-c/d)}$`
					last_op = 'soustraction';
					break	
				case 12 : // a/b+c/d
					d=val1
					b=val2
					if(!estentier(a/b)) a=calcul(a*b)
					if (!estentier(c/d)) c=calcul(c*d)
					expf=`La somme du quotient de ${nombre_avec_espace(a)} par ${l2} et du quotient de ${nombre_avec_espace(c)} par ${l1}`
					expl=`$${tex_nombre(a)}\\div ${l2}+${tex_nombre(c)}\\div ${l1}$ ou $\\dfrac{${tex_nombre(a)}}{${l2}}+\\dfrac{${tex_nombre(c)}}{${l1}}$`
					expc=`$${tex_nombre(a)}\\div ${l2}+${tex_nombre(c)}\\div ${l1}=${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a/b+c/d)}$`
					break	
				case 13 : // a/b-c/d
					d=val2
					b=val1		
					if(!estentier(a/b)) a=calcul(a*b)
					if (!estentier(c/d)) c=calcul(c*d)
					while (a/b<c/d) a=calcul(a*c)
					expf=`La différence du quotient de ${nombre_avec_espace(a)} par ${l1} et du quotient de ${nombre_avec_espace(c)} par ${l2}`
					expl=`$${tex_nombre(a)}\\div ${l1}-${tex_nombre(c)}\\div ${l2}$ ou $\\dfrac{${tex_nombre(a)}}{${l1}}-\\dfrac{${tex_nombre(c)}}{${l2}}$`
					expc=`$${tex_nombre(a)}\\div ${l1}-${tex_nombre(c)}\\div ${l2}=${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a/b-c/d)}$`
					last_op = 'soustraction';
					break	
			}
			break ;
		case 5 : // expressions complexes
		souscas=randint(0,5)
		nbval=2
			switch (souscas) {
				case 0 : // 2(a+bc)
					a=val1
					c=val2
					expf=`Le double de la somme de ${l1} et du produit de ${nombre_avec_espace(b)} par ${l2}`
					expl=`$2(${l1}+${tex_nombre(b)}${l2})$`
					expc=`$2(${l1}+${tex_nombre(b)}${l2})=2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)}) = 2(${tex_nombre(a)}+${tex_nombrec(b*c)}) = 2\\times ${tex_nombrec(a+b*c)}=${tex_nombrec(2*(a+b*c))}$`
					last_op = 'multiplication';
					break
				case 1 : // 3(a+b)/c
					b=val1
					c=val2
					if (!estentier(3*(a+b)/c)) a=calcul(a*c-b)
					while (a<b) a=calcul(a*c-b)
					expf=`Le triple du quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par ${l2}`
					expl=`$3(${tex_nombre(a)}+${l1})\\div ${l2}$ ou $3\\times \\dfrac{${tex_nombre(a)}+${l1}}{${l2}}$`
					expc=`$3(${tex_nombre(a)}+${l1})\\div ${l2}=3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = 3\\times  ${tex_nombre(a+b)}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b))}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b)/c)}$`
					last_op = 'division';
					break
				case 2 : // (a-b)/3
					nbval=1
					b=val1
					if (!estentier((a-b)/3)) a=calcul(3*a+b)
					expf=`Le tiers de la différence de ${nombre_avec_espace(a)} et ${l1}`
					expl=`$(${tex_nombre(a)}-${l1})\\div  3$ ou $\\dfrac{${tex_nombre(a)}-${l1}}{3}$`
					expc=`$(${tex_nombre(a)}-${l1})\\div  3=(${tex_nombre(a)}-${tex_nombre(b)})\\div  3 = ${tex_nombrec(a-b)}\\div  3 = ${tex_nombrec((a-b)/3)}$`
					last_op = 'division';
					break
				case 3 : // (a-b)/3*2(c+d)
					c=val1
					b=val2
					if (a<=b) a=calcul(a+b)
					if (!estentier((a-b)/3)) a=calcul(3*a+b)
					expf=`Le produit du tiers de la différence de ${nombre_avec_espace(a)} et ${l2} par le double de la somme de ${l1} et ${nombre_avec_espace(d)}`
					expl=`$\\left((${tex_nombre(a)}-${l2})\\div  3\\right)\\times  2(${l1}+${tex_nombre(d)})$`
					expc=`$\\left((${tex_nombre(a)}-${l2})\\div  3\\right)\\times  2(${l1}+${tex_nombre(d)})=\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div  3 \\times  2 \\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/3)} \\times  2 \\times  ${tex_nombrec(c+d)} =  ${tex_nombrec(2*(a-b)/3)} \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(c+d)*(a-b)/3)}$`
					last_op = 'multiplication';
					break			
				case 4 : // 3(a+b)-2(c+d)
					b=val1
					c=val2
					if (3*(a+b)<2*(c+d)) a=calcul(a+c+d)
					expf=`La différence du triple de la somme de ${nombre_avec_espace(a)} et ${l1} et du double de la somme de ${l2} et ${nombre_avec_espace(d)}`
					expl=`$3(${tex_nombre(a)}+${l1})-2(${l2}+${tex_nombre(d)})$`
					expc=`$3(${tex_nombre(a)}+${l1})-2(${l2}+${tex_nombre(d)})=3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)}) = 3 \\times  ${tex_nombrec(a+b)} - 2 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(3*(a+b))} - ${tex_nombrec(2*(c+d))} = ${tex_nombrec(3*(a+b)-2*(c+d))}$`
					last_op = 'soustraction';
					break
				case 5 : // 2(a-b)+3(c+d)
					d=val2
					b=val1
					if (a<=b) a=calcul(a+b)
					expf=`La somme du double de la différence de ${nombre_avec_espace(a)} et ${l1} et du triple de la somme de ${nombre_avec_espace(c)} et ${l2}`
					expl=`$2(${tex_nombre(a)}-${l1})+3(${tex_nombre(c)}+${l2})$`
					expc=`$2(${tex_nombre(a)}-${l1})+3(${tex_nombre(c)}+${l2})=2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)}) = 2 \\times  ${tex_nombrec(a-b)} + 3 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(a-b))} + ${tex_nombrec(3*(c+d))} = ${tex_nombrec(2*(a-b)+3*(c+d))}$`
					last_op = 'addition';
					break	
			}		
			break ;
		case 4 : // 4 opérations
		souscas=randint(1,3)
		nbval=2
			switch (souscas) {
				case 1 : // (a+b)/(c(d+e))
					b=val1
					e=val2
					if (!estentier((a+b)/(c*(d+e)))) a=calcul(a*c*(d+e)-b)
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${l1} par le produit de ${nombre_avec_espace(c)} par la somme de ${nombre_avec_espace(d)} et ${l2}`
					expl=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${l2}))$ ou $\\dfrac{${tex_nombre(a)}+${l1}}{${tex_nombre(c)}(${tex_nombre(d)}+${l2})}$`
					expc=`$(${tex_nombre(a)}+${l1})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${l2}))=(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})) = ${tex_nombrec(a+b)} \\div  (${tex_nombre(c)} \\times  ${tex_nombrec(d+e)}) = ${tex_nombrec(a+b)} \\div  ${tex_nombre(c*(d+e))} = ${tex_nombrec((a+b)/(c*(d+e)))}$`
					last_op = 'division';
					break
				case 2 : //(a-b)*(c+de)
					e=val1
					b=val2
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${l2} par la somme de ${nombre_avec_espace(c)} et du produit de ${nombre_avec_espace(d)} par ${l1}`
					expl=`$(${tex_nombre(a)}-${l2})(${tex_nombre(c)}+${tex_nombre(d)}${l1})$`
					expc=`$(${tex_nombre(a)}-${l2})(${tex_nombre(c)}+${tex_nombre(d)}${l1})=(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)}) = ${tex_nombrec(a-b)}(${tex_nombre(c)}+${tex_nombrec(d*e)}) = ${tex_nombrec(a-b)} \\times  ${tex_nombre(c+d*e)} = ${tex_nombrec((a-b)*(c+d*e))}$`
					last_op = 'multiplication';
					break
				case 3 : // ab+cd/e
					d=val2
					b=val1
					if (!estentier(c*d/e)) c=calcul(c*e)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${l1} et du quotient du produit de ${nombre_avec_espace(c)} et ${l2} par ${nombre_avec_espace(e)}`
					expl=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}\\div ${tex_nombre(e)}$ ou $${tex_nombre(a)}${l1}+\\dfrac{${tex_nombre(c)}${l2}}{${tex_nombre(e)}}$`
					expc=`$${tex_nombre(a)}${l1}+${tex_nombre(c)}${l2}\\div ${tex_nombre(e)}=${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d)} \\div  ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d/e)} = ${tex_nombrec(a*b+c*d/e)}$`
					last_op = 'addition';
					break
			}
			break
		}
		let pos1=0
		for (;pos1<expc.length;pos1++)
			if (expc[pos1]=='=') break
		let pos2=pos1+1
		for (;pos2<expc.length;pos2++)
			if (expc[pos2]=='=') break
		let expn='$'+expc.substring(pos1+1,pos2-1)+'$'
		return [expf,expl,expc,nbval,last_op,expn]
}


/**
* Fonction noyau pour 7 fonctions qui utilisent les mêmes variables et la fonction Choisir_expression_numerique
* @Auteur Jean-Claude Lhote
* Référence 5C11,5C11-1, 5C11-2, 5C12, 5C12-1, 5L13, 5L13-1, 5L13-2, 5L13-3
*/
function Ecrire_une_expression_numerique(){
	'use strict'
	Exercice.call(this); // Héritage de la classe Exercice()
	this.consigne = "";
	this.nb_questions = 4;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup2=false; // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.
	this.sup=false
	this.version=1 // 1 pour ecrire une expression, 2 pour écrire la phrase, 3 pour écrire l'expression et la calculer, 4 pour calculer une expression numérique

	this.nouvelle_version = function(numero_de_l_exercice){
		let type_de_questions_disponibles
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		if (!this.sup) { // Si aucune liste n'est saisie
		type_de_questions_disponibles = [1,2,3,4,5]
		}
		else {
			if (typeof(this.sup)=='number'){ // Si c'est un nombre c'est qu'il y a qu'une expression
			type_de_questions_disponibles[0] = this.sup
				this.nb_questions=1
			} else {
				type_de_questions_disponibles = this.sup.split("-");// Sinon on créé un tableau à partir des valeurs séparées par des -
				this.nb_questions=type_de_questions_disponibles.length
			}	
		}
		let expf,expn,expc,decimal=1,nbval,nb_operations,resultats
		let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) 
		if (this.sup2) decimal=10;
		for (let i = 0, texte, texte_corr,val1,val2, cpt=0; i < this.nb_questions && cpt<50; ) {
			nb_operations=parseInt(liste_type_de_questions[i])
			val1=randint(2,5)
			val2=randint(6,9)
			if (this.version>2&&nb_operations==1&&!this.litteral) nb_operations++
			if (!this.litteral)
				resultats=Choisir_expression_numerique(nb_operations,decimal)
			else 
				resultats=Choisir_expression_litterale(nb_operations,decimal,val1,val2)
			expf=resultats[0]
			expn=resultats[1]
			expc=resultats[2]
			nbval=resultats[3]
			switch (this.version) {
				case 1:
					this.consigne=`Traduire la phrase par un calcul (il n’est pas demandé d’effectuer ce calcul).`
					texte= `${expf}.`
					texte_corr=`${expf} s'écrit<br>${expn}.`
					break
				case 2:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Traduire le calcul par une phrase en français.`
					texte=`${expn}`
					expf=`l`+expf.substring(1);
					texte_corr=`${expn} est ${expf}.`
					break
				case 3:
					this.consigne=`Traduire la phrase par un calcul et effectuer ce calcul en respectant les priorités opératoires.`
					if (!this.litteral) texte=`${expf}.`
					else if (nbval==2) texte=`${expf} puis calculer pour $x=${val1}$ et $y=${val2}$.` //nbval contient le nombre de valeurs en cas de calcul littéral
					else texte =`${expf} puis calculer pour $x=${val1}$.`
					texte_corr=`${expf} s'écrit ${expn}.<br>`
					if (!this.litteral) texte_corr=`${expc}.`
					else if (nbval==2) texte_corr+=`Pour $x=${val1}$ et $y=${val2}$ :<br> ${expc}.`
					else texte_corr +=`Pour $x=${val1}$ :<br>${expc}.`
					break
				case 4:
					if (expn.indexOf('ou')>0) expn=expn.substring(0,expn.indexOf('ou')) // on supprime la deuxième expression fractionnaire
					this.consigne=`Calculer en respectant les priorités opératoires.`
					if (!this.litteral) texte=`${expn}.`
					else if (nbval==2) texte=`Pour $x=${val1}$ et $y=${val2}$, calculer ${expn}.`
					else texte =`Pour $x=${val1}$, calculer ${expn}.`
					if (!this.litteral) texte_corr=`${expc}.`
					else if (nbval==2) texte_corr=`Pour $x=${val1}$ et $y=${val2}$ :<br>${expc}.`
					else texte_corr=`Pour $x=${val1}$ :<br>${expc}.`
					break
 		
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_texte = ['Choix des expressions','Nombres séparés par des tirets\n 1 : Expressions de base à une opération\n2 : Expressions à deux opérations\n3 : Expressions à 3 opérations\n4 : Expressions à 4 opérations\n5 : Expressions complexes'] // Texte, tooltip
	this.besoin_formulaire2_case_a_cocher = ["Avec décimaux.",false]

}

/**
 * Chosis aléatoirement une expressions numérique parmi de nombreuses variantes.
 * @param {number} nb_operations fixe la complexité de l'expression à retourner
 * @param {number} decimal 1 si on veut des entiers, 10, 100, 1000 selon le nombre de chiffres après la virgule qu'on veut
 * retourne
 * * l'expression en français commençant par une majuscule sans point final
 * * l'expression en mode maths LaTex
 * * Le détaillé du calcul en mode maths LaTex 
 * @Auteur Jean-Claude Lhote
 * Fonction utilisée dans plusieurs exercices.
 */
function Choisir_expression_numerique(nb_operations,decimal) {
	let expf,expn,expc,arrondir=Math.log10(decimal)
	let a=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let b=arrondi(randint(2*decimal,10*decimal,[a*decimal])/decimal,arrondir)
	let c=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)
	let d=arrondi(randint(2*decimal,10*decimal,[c*decimal])/decimal,arrondir)
	let e=arrondi(randint(2*decimal,10*decimal)/decimal,arrondir)  
	let f=arrondi(randint(2*decimal,10*decimal,[e*decimal])/decimal,arrondir)
	let souscas
	switch (nb_operations){
		case 1 : // expressions de base (1 opération)
			souscas=randint(0,3)
			switch (souscas) {
				case 0 : //somme de deux nombres
					expf=`La somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}+${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}+${tex_nombre(b)} = ${tex_nombre(a+b)}$`
					break
				case 1 : // différence de deux nombres
					if(a<b) a=a+b
					expf=`La différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}-${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}-${tex_nombre(b)} = ${tex_nombre(a-b)}$`
					break
				case 2 : // produit de deux nombres
					expf=`Le produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)} = ${tex_nombrec(a*b)}$`
					break
				case 3 : // quotient de deux nombres
					a=calcul(Math.round(a)*b)
					expf=`Le quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)} = ${tex_nombrec(a)}$`
					break
			}
			break
		case 2 : // expressions de niveau 1 (2 opérations)
			souscas=randint(0,5)
			switch (souscas) {
				case 0 : //a(b+c)
					expf=`Le produit de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}(${tex_nombre(b)}+${tex_nombre(c)})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\times ${tex_nombrec(b+c)}=${tex_nombrec(a*(b+c))}$`
					break
				case 1 : // a(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
					expf=`Le produit de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}(${tex_nombre(b)}-${tex_nombre(c)})$`
					expc=`$${tex_nombre(a)}(${tex_nombre(b)}-${tex_nombre(c)}) = ${tex_nombre(a)}\\times ${tex_nombrec(b-c)}=${tex_nombrec(a*(b-c))}$`
					break
				case 2 : // a/(b+c)
					a=calcul(a*(b+c)) // on s'assure que le quotient tombe juste...
					expf=`Le quotient de ${nombre_avec_espace(a)} par la somme de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}\\div (${tex_nombre(b)}+${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}+${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${tex_nombre(b)}+${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(b+c)}=${tex_nombrec(a/(b+c))}$`
					break
				case 3 : // a/(b-c)
					if (b<=c) b=calcul(b+c) // b-c positif
 					a=calcul(a*(b-c)) // on s'assure que le quotient tombe juste
					expf=`Le quotient de ${nombre_avec_espace(a)} par la différence de ${nombre_avec_espace(b)} et ${nombre_avec_espace(c)}`
					expn=`$${tex_nombre(a)}\\div (${b}-${tex_nombre(c)})$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}-${tex_nombre(c)}}$`
					expc=`$${tex_nombre(a)}\\div (${b}-${tex_nombre(c)}) = ${tex_nombre(a)}\\div ${tex_nombrec(b-c)}=${tex_nombrec(a/(b-c))}$`
					break			
				case 4 : // (a+b)/c
					a=calcul(a*c)
					b=calcul(b*c) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = ${tex_nombrec(a+b)}\\div ${tex_nombre(c)}=${tex_nombrec((a+b)/c)}$`
					break
				case 5 : // (a-b)/c
					if (a<=b) a=calcul(a+b) // a-b positif
					a=calcul(a*c)
					b=calcul(b*c) // on s'assure que le quotient tombe juste
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div ${tex_nombre(c)} = ${tex_nombrec(a-b)}\\div ${tex_nombre(c)}=${tex_nombrec((a-b)/c)}$`
					break			
							
			}
			break
		case 3 : // expressions de niveau 2 (3 opérations)
			souscas=randint(0,13)
			switch (souscas) {
				case 0 : // (a+b)(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)*(c+d))}$`
					break
				case 1 : // (a+b)(c-d)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)*(c-d))}$`
					break
				case 2 : // (a-b)(c+d)
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)*(c+d))}$`
					break
				case 3 : // (a-b)(c-d)
					if (a<=b) a=calcul(a+b)
					if (c<=d) c=calcul(c+d)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\times ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)*(c-d))}$`
					break			
				case 4 : // (a+b)/(c+d)
					a=calcul(a*(c+d))
					b=calcul(b*(c+d))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}+${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a+b)/(c+d))}$`
					break
				case 5 : // (a-b)/(c+d)
					a=calcul(a*(c+d))
					b=calcul(b*(c+d))
					if (a<=b) a=calcul(a+b)
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}+${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/(c+d))}$`
					break			
				case 6 : // (a+b)/(c-d)
					if (c<=d) c=calcul(c+d)
					a=calcul(a*(c-d))
					b=calcul(b*(c-d))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}-${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a+b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a+b)/(c-d))}$`
					break
				case 7 : // (a-b)/(c-d)
					if (c<=d) c=calcul(c+d)
					if (a<=b) a=calcul(a+b)
					a=calcul(a*(c-d))
					b=calcul(b*(c-d))
					expf=`Le quotient de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la différence de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)})$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{${tex_nombre(c)}-${tex_nombre(d)}}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div (${tex_nombre(c)}-${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div ${tex_nombrec(c-d)} = ${tex_nombrec((a-b)/(c-d))}$`
					break			
				case 8 : // ab+cd
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du produit de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c*d)} = ${tex_nombrec(a*b+c*d)}$`
					break
				case 9 : // ab-cd
					if (a*b<d*c) a=calcul(a+c)
					if (a*b<d*c) b=calcul(b+d)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du produit de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\times ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c*d)} = ${tex_nombrec(a*b-c*d)}$`
					break			
				case 10 : // ab+c/d
					c=calcul(c*d)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}+\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a*b+c/d)}$`
					break
				case 11 : // ab-c/d
					c=c*d
					if (a*b<c/d) a=calcul(a*c)
					if (a*b<c/d) b=calcul(b*c)
					expf=`La différence du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}-\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a*b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a*b-c/d)}$`
					break	
				case 12 : // a/b+c/d
					a=calcul(a*b)
					c=calcul(c*d)
					expf=`La somme du quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}}+\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)}+${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}+${tex_nombrec(c/d)} = ${tex_nombrec(a/b+c/d)}$`
					break	
				case 13 : // a/b-c/d		
					a=calcul(a*b)
					c=calcul(c*d)
					if (a/b<c/d) a=calcul(a*c)
					if (a/c<c/d) a=calcul(a*d)
					expf=`La différence du quotient de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient de ${nombre_avec_espace(c)} par ${nombre_avec_espace(d)}`
					expn=`$${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)}$ ou $\\dfrac{${tex_nombre(a)}}{${tex_nombre(b)}}-\\dfrac{${tex_nombre(c)}}{${tex_nombre(d)}}$`
					expc=`$${tex_nombre(a)}\\div ${tex_nombre(b)}-${tex_nombre(c)}\\div ${tex_nombre(d)} = ${tex_nombrec(a/b)}-${tex_nombrec(c/d)} = ${tex_nombrec(a/b-c/d)}$`
					break	
			}
			break ;
		case 5 : // expressions complexes
		souscas=randint(0,5)
			switch (souscas) {
				case 0 : // 2(a+bc)
					expf=`Le double de la somme de ${nombre_avec_espace(a)} et du produit de ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)})$`
					expc=`$2(${tex_nombre(a)}+${tex_nombre(b)}\\times ${tex_nombre(c)}) = 2(${tex_nombre(a)}+${tex_nombrec(b*c)}) = 2\\times  ${tex_nombrec(a+b*c)}$`
					break
				case 1 : // 3(a+b)/c
					a=calcul(a*c)
					b=calcul(b*c)
					expf=`Le triple du quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par ${nombre_avec_espace(c)}`
					expn=`$3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)}$ ou $3\\times \\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}}$`
					expc=`$3(${tex_nombre(a)}+${tex_nombre(b)})\\div ${tex_nombre(c)} = 3\\times  ${tex_nombre(a+b)}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b))}\\div ${tex_nombre(c)} = ${tex_nombrec(3*(a+b)/c)}$`
					break
				case 2 : // (a-b)/3
					if (a<=b) a=calcul(a+b)
					a=calcul(3*a)
					b=calcul(3*b)
					expf=`Le tiers de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div  3$ ou $\\dfrac{${tex_nombre(a)}-${tex_nombre(b)}}{3}$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})\\div  3 = ${tex_nombrec(a-b)}\\div  3 = ${tex_nombrec((a-b)/3)}$`
					break
				case 3 : // (a-b)/3*2(c+d)
					if (a<=b) a=calcul(a+b)
					a=calcul(3*a)
					b=calcul(3*b)
					expf=`Le produit du tiers de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par le double de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$\\left((${tex_nombre(a)}-${tex_nombre(b)})\\div  3\\right)\\times  2(${tex_nombre(c)}+${tex_nombre(d)}) = ${tex_nombrec(a-b)}\\div  3 \\times  2 \\times ${tex_nombrec(c+d)} = ${tex_nombrec((a-b)/3)} \\times  2 \\times  ${tex_nombrec(c+d)} =  ${tex_nombrec(2*(a-b)/3)} \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(c+d)*(a-b)/3)}$`
					break			
				case 4 : // 3(a+b)-2(c+d)
					if (3*(a+b)<2*(c+d)) a=calcul(a+c+d)
					expf=`La différence du triple de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} et du double de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$3(${tex_nombre(a)}+${tex_nombre(b)})-2(${tex_nombre(c)}+${tex_nombre(d)}) = 3 \\times  ${tex_nombrec(a+b)} - 2 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(3*(a+b))} - ${tex_nombrec(2*(c+d))} = ${tex_nombrec(3*(a+b)-2*(c+d))}$`
					break
				case 5 : // 2(a-b)+3(c+d)
					if (a<=b) a=calcul(a+b)
					expf=`La somme du double de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} et du triple de la somme de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)}`
					expn=`$2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)})$`
					expc=`$2(${tex_nombre(a)}-${tex_nombre(b)})+3(${tex_nombre(c)}+${tex_nombre(d)}) = 2 \\times  ${tex_nombrec(a-b)} + 3 \\times  ${tex_nombrec(c+d)} = ${tex_nombrec(2*(a-b))} + ${tex_nombrec(3*(c+d))} = ${tex_nombrec(2*(a-b)+3*(c+d))}$`
					break	
			}		
			break ;
		case 4 : // 4 opérations
		souscas=randint(1,3)
			switch (souscas) {
				case 1 : // (a+b)/(c(d+e))
					a=calcul(a*c*(d+e))
					b=calcul(b*c*(d+e))
					expf=`Le quotient de la somme de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par le produit de ${nombre_avec_espace(c)} par la somme de ${nombre_avec_espace(d)} et ${nombre_avec_espace(e)}`
					expn=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)}))$ ou $\\dfrac{${tex_nombre(a)}+${tex_nombre(b)}}{${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})}$`
					expc=`$(${tex_nombre(a)}+${tex_nombre(b)})\\div (${tex_nombre(c)}(${tex_nombre(d)}+${tex_nombre(e)})) = ${tex_nombrec(a+b)} \\div  (${tex_nombre(c)} \\times  ${tex_nombrec(d+e)}) = ${tex_nombrec(a+b)} \\div  ${tex_nombre(c*(d+e))} = ${tex_nombrec((a+b)/(c*(d+e)))}$`
					break
				case 2 : //(a-b)*(c+de)
					if (a<=b) a=calcul(a+b)
					expf=`Le produit de la différence de ${nombre_avec_espace(a)} et ${nombre_avec_espace(b)} par la somme de ${nombre_avec_espace(c)} et du produit de ${nombre_avec_espace(d)} par ${nombre_avec_espace(e)}`
					expn=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)})$`
					expc=`$(${tex_nombre(a)}-${tex_nombre(b)})(${tex_nombre(c)}+${tex_nombre(d)}\\times ${tex_nombre(e)}) = ${tex_nombrec(a-b)}(${tex_nombre(c)}+${tex_nombrec(d*e)}) = ${tex_nombrec(a-b)} \\times  ${tex_nombre(c+d*e)} = ${tex_nombrec((a-b)*(c+d*e))}$`
					break
				case 3 : // ab+cd/e
					c=calcul(c*e)
					expf=`La somme du produit de ${nombre_avec_espace(a)} par ${nombre_avec_espace(b)} et du quotient du produit de ${nombre_avec_espace(c)} et ${nombre_avec_espace(d)} par ${nombre_avec_espace(e)}`
					expn=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)}$ ou $${tex_nombre(a)}\\times ${tex_nombre(b)}+\\dfrac{${tex_nombre(c)}\\times ${tex_nombre(d)}}{${tex_nombre(e)}}$`
					expc=`$${tex_nombre(a)}\\times ${tex_nombre(b)}+${tex_nombre(c)}\\times ${tex_nombre(d)}\\div ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d)} \\div  ${tex_nombre(e)} = ${tex_nombrec(a*b)} + ${tex_nombrec(c*d/e)} = ${tex_nombrec(a*b+c*d/e)}$`
					break
			}
			break
		}
		return [expf,expn,expc,souscas]
}

/**
 * Constructibilité des triangles
 * Préciser ici les numéros des exos 
 * 5G2 exercice parent il faudra supprimmer la version beta5G2 de la liste des choix du fichier mathalea_exercices.js
 * 5G21-1
 * 5G31-1
 * beta5G2,beta5G21-1,beta5G31-1
 * @author Sébastien Lozano
 */

function Constructibilite_des_triangles(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()	
	this.sup=1;
	if (this.exo == this.beta+'5G21-1') { // via longueurs
		this.titre = `Constructibilité des triangles via les longueurs`;
		//this.consigne = `Justifier si les longueurs données permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les longueurs données permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`
		
	} else if (this.exo == this.beta+'5G31-1') {//via angles
		this.titre = `Constructibilité des triangles via les angles`;
		//this.consigne = `Justifier si les angles donnés permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les angles donnés permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`
	} else {			
		this.titre = "Constructibilité des triangles";	
		//this.consigne = `Justifier si les longueurs ou les angles donnés permettent de construire le triangle. <br> Dire chaque fois le nombre de triangles constructibles, ça peut être 0 !`;
		this.consigne = `Justifier si les longueurs ou les angles donnés permettent de construire le triangle.`;
		//this.consigne += `<br>Dire chaque fois s'il existe plusieurs triangles constructibles ou s'il n'en existe pas.`;
		this.consigne += `<br>Dire si tous les élèves qui doivent construire ce triangle auront la même figure.`

	};
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.nb_questions_modifiable = false;

	this.liste_packages = `bclogo`;
	
	let type_de_questions_disponibles;
	
	this.nouvelle_version = function(numero_de_l_exercice){
		// this.introduction=info_message({
		// 	titre : "Exercice BETA",
		// 	texte: "En cours de réalisation <br>Est-il préférable de mettre du conditionnel dans les corrections?"

		// });

		if (this.exo == this.beta+'5G21-1') { // via longueurs
			if (this.sup ==1) {
				type_de_questions_disponibles = shuffle([1,2,3]);
				this.nb_questions = type_de_questions_disponibles.length;	
			} else if (this.sup ==2) {
				type_de_questions_disponibles = [choice([1,2,3]),4];
				this.nb_questions = type_de_questions_disponibles.length;	
			};
		} else if (this.exo == this.beta+'5G31-1') {//via angles
			if (this.sup ==1) {
				type_de_questions_disponibles = shuffle([5,6,7]);
				this.nb_questions = type_de_questions_disponibles.length;	
			} else if (this.sup ==2) {
				type_de_questions_disponibles = [choice([5,6,7]),8];
				this.nb_questions = type_de_questions_disponibles.length;	
			};
		} else {			
			type_de_questions_disponibles = [1,2,3,4,5,6,7,8];
			this.nb_questions = type_de_questions_disponibles.length;
		};

		//let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = type_de_questions_disponibles // Tous les types de questions sont posées --> à remettre comme ci dessus

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		for (let i = 0, texte, texte_corr,l1,l2,l3,a1,a2,a3, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// on fixe longueur min et max en cm
			let l_min = 2;
			let l_max = 20;
			// on fixe angle min et max en degré
			let a_min = 0;
			let a_max = 180;

			// on crée un objet triangle 
			let triangle = new Triangles();
			// on crée un tableau pour le triangle courant
			let current_triangle = [];
			
			switch (liste_type_de_questions[i]) {
				case 1 : // 3 longueurs constructible
					while (!triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					  });
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} > ${current_triangle[2].longueur}.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('plusieurs tels triangles existent')}.`;
					texte_corr += `<br> Ils sont obtenus les uns à partir des autres par symétire axiale par rapport à un des côtés.`;
					break;
				case 2 : // 3 longueurs plat
					while (!triangle.isPlatTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = calcul(l1+l2);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${current_triangle[2].valeur}$ cm aussi.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom()+' c\'est un triangle plat')}.`;
					texte_corr += `<br><br>${texte_en_couleur('Un seul triangle de ce type existe')}, il s'agit du segment ${current_triangle[2].cote} sur lequel on place le point ${current_triangle[0].longueur.split('')[2]}.`;				
					break;
				case 3 : // 3 longueurs non constructible
				  	// on initialise les longueurs sinon la méthode isTrueTriangleLongueurs() renvoie false!
					l1 = randint(l_min,l_max);
					l2 = randint(l_min,l_max);
					l3 = randint(l_min,l_max);
					triangle.l1 = l1;
					triangle.l2 = l2;
					triangle.l3 = l3;	

					while (triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et ${triangle.getLongueurs()[2]} $= ${triangle.l3}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} < ${current_triangle[2].longueur}, les longueurs données ne permettent donc pas de satisfaire à l'inégalité triangulaire.`;
					texte_corr += `<br> ${texte_en_couleur('On ne peut donc pas construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Aucun triangle de ce type n\'existe')}.`;
					break;
				case 4 : // 2 longueurs et le périmètre
					// on utilise la méthode isTrueTriangleLongueurs(), le triangle ne sera pas plat.
					while (!triangle.isTrueTriangleLongueurs()) {						
						l1 = randint(l_min,l_max);
						l2 = randint(l_min,l_max);
						l3 = randint(l_min,l_max);
						triangle.l1 = l1;
						triangle.l2 = l2;
						triangle.l3 = l3;						
					};
					texte = `${triangle.getNom()} tel que ${triangle.getLongueurs()[0]} $= ${triangle.l1}$ cm ; `;					
					texte += `${triangle.getLongueurs()[1]} $= ${triangle.l2}$ cm et dont le périmètre vaut $${triangle.getPerimetre()}$ cm.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({longueur: triangle.getLongueurs()[i], cote: triangle.getCotes()[i] , valeur: triangle.getLongueursValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Puisque le périmètre vaut $${triangle.getPerimetre()}$ cm alors la troisième longueur vaut ${triangle.getLongueurs()[2]} = $${triangle.getPerimetre()}$ cm - $${triangle.l1}$ cm - $${triangle.l2}$ cm = $${triangle.l3}$ cm.`
					texte_corr += `<br> Donc dans le triangle ${triangle.getNom()}, ${current_triangle[2].cote} qui mesure $${current_triangle[2].valeur}$ cm est le plus grand côté.`;
					texte_corr += `<br> De plus ${current_triangle[0].longueur} + ${current_triangle[1].longueur} = $${current_triangle[0].valeur}$ cm + $${current_triangle[1].valeur}$ cm = $${calcul(current_triangle[0].valeur + current_triangle[1].valeur)}$ cm.`;
					texte_corr += `<br> On constate que ${current_triangle[0].longueur} + ${current_triangle[1].longueur} > ${current_triangle[2].longueur}`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					// texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('deux tels triangles existent')}.`;
					// texte_corr += `<br> Les deux étant obtenus l'un à partir de l'autre par symétire axiale.`;
					texte_corr += `<br><br>  Si on considère que le triangle nommé dans le sens des aiguilles d'une montre et celui nommé dans le sens inverse sont différents, ${texte_en_couleur('plusieurs tels triangles existent')}.`;
					texte_corr += `<br> Ils sont obtenus les uns à partir des autres par symétire axiale par rapport à un des côtés.`;
					break;
				case 5 : //3 angles constructible
					while (!triangle.isTrueTriangleAngles()) {	
						a1 = randint(a_min,a_max,[0,180]);
						a2 = randint(a_min,a_max,[0,180]);
						a3 = calcul(180-a1-a2);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = ``;
					texte_corr = ``;
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					  });
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient les uns à partir des autres par un agrandissement ou une réduction.`;
					break;
				case 6 : // 3 angles plat
					while (!triangle.isPlatTriangleAngles()) {	
						a1 = randint(a_min,a_max);
						a2 = randint(a_min,a_max);
						a3 = calcul(180-a1-a2);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = ``;
					texte_corr = ``;
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i] , valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br> Deux des trois angles du triangle valent $0\\degree$, ${texte_en_couleur(triangle.getNom()+' est donc un triangle plat')}.`
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient en traçant des segments et en plaçant le troisième sommet sur ce segment, les longueurs n'ayant aucune importance.`;
					texte_corr += `<br> Dans le cas présent, il s'agit d'un segment $[${current_triangle[2].angle.split('')[12]}${current_triangle[2].angle.split('')[14]}]$ sur lequel on place un point ${current_triangle[2].angle.split('')[13]}.`;
					//texte_corr += `<br> ${JSON.stringify(current_triangle)}`;
					break;
				case 7 : // 3 angles non constructible
					// on initialise les angles sinon la méthode isTrueTriangleAngles() renvoie false!
					a1 = randint(a_min,a_max);
					a2 = randint(a_min,a_max);
					a3 = randint(a_min,a_max);
					triangle.a1 = a1;
					triangle.a2 = a2;
					triangle.a3 = a3;	
					while (triangle.isTrueTriangleAngles()) {	
						a1 = randint(a_min,a_max);
						a2 = randint(a_min,a_max);
						a3 = randint(a_min,a_max);
						triangle.a1 = a1;
						triangle.a2 = a2;
						triangle.a3 = a3;
					};					
					texte = `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${triangle.a1}\\degree$ ; `;					
					texte += `${triangle.getAngles()[1]} $= ${triangle.a2}\\degree$ et ${triangle.getAngles()[2]} $= ${triangle.a3}\\degree$.`;
					// on crée l'objet longueurs + valeurs des côtés du triangle
					for (let i=0;i<3;i++) {
						current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
					};
					// on trie les couples longueurs/valeurs du triangle selon les valeurs croissantes.
					current_triangle.sort(function (a, b) {
						return a.valeur - b.valeur;
					});
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${current_triangle[0].valeur}\\degree + ${current_triangle[1].valeur}\\degree + ${current_triangle[2].valeur}\\degree = ${calcul(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;
					texte_corr += `<br> Si le triangle était constructible, la somme des trois angles vaudrait $180\\degree$,`;
					texte_corr += ` or ce n'est pas le cas.`
					texte_corr += `<br> ${texte_en_couleur('On ne peut donc pas construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Aucun triangle de ce type n\'existe')}.`;
					break;				
				case 8 : // 2 angles et le 3e fonction du 1er ou du 2eme
					let angle_rg = randint(0,1);
					let operations_possibles = ['triple','quadruple','quart'];
					let operation = '';					
					texte = ``;
					texte_corr = ``;
					texte_corr = `Supposons que l'on puisse construire un triangle ${triangle.getNom()} avec ces mesures.`;
					switch (angle_rg) {
						case 0 :
							a1 = randint(a_min,a_max);
							triangle.a1 = a1;
							operation = operations_possibles[randint(0,2)];
							texte += `${triangle.getNom()} tel que ${triangle.getAngles()[0]} $= ${tex_nombre(triangle.a1)}\\degree$ ; `;						
							switch (operation) {
								case 'triple' :
									a2 = calcul((180-a1)/4);
									a3 = calcul(3*a2);				
									break;
								case 'quadruple' :
									a2 = calcul((180-a1)/5);
									a3 = calcul(4*a2);
									break;
								case 'quart' :
									a2 = calcul(4*(180-a1)/5);
									a3 = calcul(a2/4);
									break;
							};
							triangle.a2 = a2;
							triangle.a3 = a3;
							texte += `${triangle.getAngles()[1]} $= ${tex_nombre(triangle.a2)}\\degree$ et ${triangle.getAngles()[2]} est le ${operation} de ${triangle.getAngles()[1]}.`;
							// on crée l'objet longueurs + valeurs des côtés du triangle
							for (let i=0;i<3;i++) {
								current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
							};								
							texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].angle} est le ${operation} de ${current_triangle[1].angle} = $${tex_nombre(current_triangle[1].valeur)}\\degree$  d'où ${current_triangle[2].angle} = $${tex_nombre(current_triangle[2].valeur)}\\degree$.`;
							break;
						case 1 : 
							a2 = randint(a_min,a_max);
							triangle.a2 = a2;
							operation = operations_possibles[randint(0,2)];
							texte += `${triangle.getNom()} tel que ${triangle.getAngles()[1]} $= ${tex_nombre(triangle.a2)}\\degree$ ; `;							
							switch (operation) {
								case 'triple' :
									a1 = calcul((180-a2)/4);
									a3 = calcul(3*a1);
									break;
								case 'quadruple' :
									a1 = calcul((180-a2)/5);
									a3 = calcul(4*a1);
									break;
								case 'quart' :
									a1 = calcul(4*(180-a2)/5);
									a3 = calcul(a1/4);
									break;
							};
							triangle.a1 = a1;
							triangle.a3 = a3;
							texte += `${triangle.getAngles()[0]} $= ${tex_nombre(triangle.a1)}\\degree$ et ${triangle.getAngles()[2]} est le ${operation} de ${triangle.getAngles()[0]}.`;
							// on crée l'objet longueurs + valeurs des côtés du triangle
							for (let i=0;i<3;i++) {
								current_triangle.push({angle: triangle.getAngles()[i], valeur: triangle.getAnglesValeurs()[i]});
							};
							texte_corr += `<br>Dans le triangle ${triangle.getNom()}, ${current_triangle[2].angle} est le ${operation} de ${current_triangle[0].angle} = $${tex_nombre(current_triangle[0].valeur)}\\degree$  d'où ${current_triangle[2].angle} = $${tex_nombre(current_triangle[2].valeur)}\\degree$.`;
							break;
					};
					texte_corr += `<br>Donc ${current_triangle[0].angle} + ${current_triangle[1].angle} + ${current_triangle[2].angle} = $${tex_nombre(current_triangle[0].valeur)}\\degree + ${tex_nombre(current_triangle[1].valeur)}\\degree + ${tex_nombre(current_triangle[2].valeur)}\\degree = ${tex_nombrec(current_triangle[0].valeur + current_triangle[1].valeur + current_triangle[2].valeur)}\\degree$.`;							
					texte_corr += `<br> On constate que la somme des trois angles du triangle vaut bien $180\\degree$.`;
					texte_corr += `<br> ${texte_en_couleur('On peut donc construire le triangle '+triangle.getNom())}.`;
					texte_corr += `<br><br>  ${texte_en_couleur('Il existe une infinité de triangles avec ces mesures.')}`;
					texte_corr += `<br> On les obtient les uns à partir des autres par un agrandissement ou une réduction.`;
					break;
			}
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}	
			cpt++;	
		}
	liste_de_question_to_contenu(this);
	}
		if (this.exo == this.beta+'5G21-1') {
			this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : 3 longueurs\n2 : 2 longueurs et le périmètre"];
		} else if (this.exo == this.beta+'5G31-1') {
			this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : 3 angles\n2 : 2 angles et le 3e en fonction du 1er ou du 2eme"];
		} else {
			//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : sans conversions de longueurs\n2 : avec conversions de longueurs"];
		};
}

/**
 * Vocabulaire des triangles 
 * beta5G21-1
 * @author Sébastien Lozano
 */
function Constructibilite_des_triangles_longueurs(){
	this.beta = ``;
	this.exo = this.beta+`5G21-1`;
	//this.titre = `Constructibilité des triangles via les longueurs`;
	Constructibilite_des_triangles.call(this);
};

/**
 * Vocabulaire des triangles 
 * beta5G31-1
 * @author Sébastien Lozano
 */
function Constructibilite_des_triangles_angles(){
	this.beta = ``;
	this.exo = this.beta+`5G31-1`;
	//this.titre = `Constructibilité des triangles via les angles`;
	Constructibilite_des_triangles.call(this);
};

/**
 * 5G22
 * @Auteur Jean-Claude Lhote
 * Les droites remarquables du triangle : hauteurs médiatrices....médianes et bissectrices
 */
function DroiteRemarquableDuTriangle(){
	Exercice.call(this); // Héritage de la classe Exercice()

	this.titre = "Déterminer la nature d'une droite remarquable"
	this.consigne = 'Définir'
	this.spacing = 2;
	this.nb_questions=1
	this.nb_cols=1
	this.nb_cols_corr=1
	this.sup=1

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		let triangles=[],sommets=[[]],A=[],B=[],C=[],t=[],d=[],n=[],c=[],objets=[],A0,B0,C0,tri,G
		let type_de_questions_disponibles,liste_type_de_questions
		if (this.sup==1) type_de_questions_disponibles=[1,2]
		if (this.sup==2) type_de_questions_disponibles=[3,4]
		if (this.sup==3) type_de_questions_disponibles=[1,2,3,4]
		liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions)
		for (let i = 0, a, angle,rapport, texte, texte_corr, cpt=0; i < this.nb_questions;i++) {// this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
			triangles[i] = new Triangles();
			sommets[i]= triangles[i].getSommets(false);

			A0 = point(3,randint(1,2))
			B0 = point(6,randint(1,2))
			angle = choice([50,60,70,75,80,100,110,120])
			rapport=randint(7,13)/10
			C0 = similitude(B0,A0,angle,rapport)
			tri = polygone(A0,B0,C0)
			G = centreGraviteTriangle(A0,B0,C0)
			a=randint(0,30)*12-180
			A[i] =rotation(A0,G,a,sommets[i][0],'below left')
			B[i] = rotation(B0,G,a,sommets[i][1],'below right')
			C[i] = rotation(C0,G,a,sommets[i][2],'above')
			t[i] = polygone(A[i],B[i],C[i])
			n[i] = nommePolygone(t[i],`${sommets[i][0]}${sommets[i][1]}${sommets[i][2]}`)
			switch (liste_type_de_questions[i]) {
				case 1 :
					d[i] = hauteurTriangle(C[i],B[i],A[i],'blue')
					d[i].epaisseur=1
					c[i] = codageHauteurTriangle(C[i],B[i],A[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la hauteur issue de $${sommets[i][0]}$ dans le triangle ${triangles[i].getNom()}.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])
					break
				case 2 :
					d[i] = mediatrice(A[i],B[i],true,'blue')
					d[i].epaisseur=1
					c[i] = codageMediatrice(A[i],B[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la médiatrice du segment [$${sommets[i][0]}${sommets[i][1]}]$.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i],constructionMediatrice(A[i],B[i],true,color='gray', markmilieu='×', markrayons='||',couleurMediatrice = 'blue', epaisseurMediatrice = 1))
					break
				case 3 :
					d[i] = medianeTriangle(C[i],B[i],A[i],'blue')
					d[i].epaisseur=1
					c[i] = codageMedianeTriangle(C[i],B[i],A[i],color='black',mark='//')
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la médiane issue de $${sommets[i][0]}$ dans le triangle ${triangles[i].getNom()}.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])
					break
				case 4 :
					d[i] = bissectrice(A[i],B[i],C[i],'blue')
					d[i].epaisseur=1
					c[i] = codageBissectrice(A[i],B[i],C[i])
					objets[i]=[A[i],B[i],C[i],t[i],d[i],n[i],c[i]]
					texte_corr=`La droite tracée est la bissectrice de l'angle $\\widehat{${sommets[i][0]}${sommets[i][1]}${sommets[i][2]}}$.<br>`
					texte_corr+= mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i],constructionBissectrice(A[i],B[i],C[i],detail = false, color='red', mark='×',tailleLosange = 3,couleurBissectrice = 'blue', epaiseurBissectrice = 1))
					break

			}

			texte = `Quelle est la nature de la droite tracée en bleu pour le triangle ${triangles[i].getNom()} ?<br>` + mathalea2d({xmin:-3,ymin:-3,xmax:8,ymax:8,scale:.5,pixelsParCm:20},...objets[i])

			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
			}
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_numerique = ['Type de droites',3,"1 : Hauteurs et Médiatrices\n2 : Médianes et Bissectrices\n3 : Toutes les droites"]
}
/**
 * Référence 6G24-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_point_6e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à une droite (cas simples)'
	this.figure=false
	this.sup=0
}
/**
 * Référence 6G24-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_figure_6e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à une droite (cas simples)'
	this.figure=true
	this.sup=0
}
/**
 * Référence 6G10-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_point_5e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à une droite'
	this.figure=false
	this.sup=1
}
/**
 * Référence 6G10-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_axiale_figure_5e() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à une droite'
	this.figure=true
	this.sup=1
}
/**
 * Référence 6G11-1
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_centrale_point() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'un point par rapport à un point'
	this.figure=false
	this.sup=2
}
/**
 * Référence 6G11-2
 * @Auteur Jean-Claude Lhote
 */
function Symetrie_centrale_figure() {
	Construire_par_Symetrie.call(this)
	this.titre='Construire le symétrique d\'une figure par rapport à un point'
	this.figure=true
	this.sup=2
}
/**
 * @Auteur Jean-Claude Lhote
 * Fonction générale pour les exercices de construction de symétriques (centrale/axiale et points/triangles)
 * références  6G24-1, 6G24-2, 5G10-1, 5G10-2, 5G11-1 et 5G11-2
 * Permet une sortie html/pdf sur petits carreaux/gros carreaux/papier blanc
 */

function Construire_par_Symetrie() {
	"use strict";
	Exercice.call(this);
	this.titre = "Construire par Symétrie...";
	this.nb_questions = 1;
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	this.sup = 1;
	this.sup2 = 1;
	this.figure = false
	this.nouvelle_version = function (numero_de_l_exercice) {
	  let type_de_questions_disponibles;
	  if (this.sup == 3) 	  //Symétrie axiale ou centrale
		  if (this.figure==false) type_de_questions_disponibles = [0,1, 2]; // points
		  else type_de_questions_disponibles = [3,4,5] // triangle

	  else 
		  if (this.figure==false) type_de_questions_disponibles = [parseInt(this.sup)]; // Le choix 1 ou 2 : points
		  else type_de_questions_disponibles = [parseInt(this.sup)+3] //figures

	  let liste_type_de_questions = combinaison_listes(
		type_de_questions_disponibles,
		this.nb_questions
	  );
	  this.liste_questions = []; // Liste de questions
	  this.liste_corrections = []; // Liste de questions corrigées
	  let Xmin, Xmax, Ymin, Ymax, sc;
	  if (this.sup2 == 2) sc = 0.8;
	  else sc = 0.5;
  
	  let A,AA,cA,sA,
		B,
		C,CC,cC,sC,sCE,
		D,DD,cD,sD,sDE,
		xE,
		E,EE,cE,sE,sED,
		sEC,
		d,
		dB,
		enonce,
		correction,
		g,
		carreaux,
		k,
		objets_enonce=[],
		objets_correction=[],
		p1,p2,p1nom,p2nom;
	  for (
		let i = 0, texte, texte_corr, cpt = 0;
		i < this.nb_questions && cpt < 50;
  
	  ) {
		
		switch (liste_type_de_questions[i]) {
			case 0 : // 3 symétries axiales simples de points (6ème)
			p1nom=creerNomDePolygone(5,"PQ")
			A = point(0, 0, `${p1nom[0]}`,'above');
			k=choice([-1,0,1,2])

			if (k<2) d = droiteParPointEtPente(A,k);
			else d=droiteVerticaleParPoint(A)
			B = pointSurDroite(d,6,`${p1nom[1]}`,'above');
			d.isVisible = true;
			d.epaisseur=1
			if (k==2) {
				A.positionLabel='left'
				B.positionLabel='left'
			}
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(3, 5), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,7),randint(5,6), `${p1nom[4]}`, "left");
			//F = point(E.x+1,5-B.y,'F','above left');
			CC=symetrieAxiale(C,d,`${p1nom[2]}\'`,'below left')
			DD=symetrieAxiale(D,d,`${p1nom[3]}\'`,'above right')
			EE=symetrieAxiale(E,d,`${p1nom[4]}\'`,'left')
			//FF=symetrieAxiale(F,d,'F\'','below left')
			cC=codageMediatrice(C,CC,'red','|')
			cD=codageMediatrice(D,DD,'blue','X')
			cE=codageMediatrice(E,EE,'green','O')
			//cF=codageMediatrice(F,FF,'purple','V')
			sC=segment(C,CC)
			sD=segment(D,DD)
			sE=segment(E,EE)
			//sF=segment(F,FF)
			sCE=droite(CC,EE,'','gray')
			sCE.pointilles=true
			sED=droite(EE,D,'','gray')
			sED.pointilles=true
			sDE=droite(DD,E,'','gray')
			sDE.pointilles=true
			sEC=droite(C,E,'','gray')
			sEC.pointilles=true



			objets_correction.push(d,tracePoint(A, B, C, D, E,CC,DD,EE),labelPoint(A, B, C, D, E,CC,DD,EE),cC,cD,cE,sC,sD,sE,sED,sDE,sCE,sEC)
			objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[4]}\'$ symétrique de $${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(5)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)+1)
		
			
			correction=`Contrôler la figure en vérifiant que les segments en pointillés se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`

			break;
		  case 1: // 3 symétries axiales de points
			p1nom=creerNomDePolygone(5)
			A = point(0, randint(-1,1), `${p1nom[0]}`,'above');
			B = point(6, randint(-1,1,A.y), `${p1nom[1]}`,'above');
			d = droite(A, B);
			d.isVisible = true;
			d.epaisseur=1
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(10, 13), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,8),randint(-8,-5), `${p1nom[4]}`, "left");
			//F = point(E.x+1,5-B.y,'F','above left');
			CC=symetrieAxiale(C,d,`${p1nom[2]}\'`,'below left')
			DD=symetrieAxiale(D,d,`${p1nom[3]}\'`,'above right')
			EE=symetrieAxiale(E,d,`${p1nom[4]}\'`,'left')
			//FF=symetrieAxiale(F,d,'F\'','below left')
			cC=codageMediatrice(C,CC,'red','|')
			cD=codageMediatrice(D,DD,'blue','X')
			cE=codageMediatrice(E,EE,'green','O')
			//cF=codageMediatrice(F,FF,'purple','V')
			sC=segment(C,CC)
			sD=segment(D,DD)
			sE=segment(E,EE)
			//sF=segment(F,FF)
			sCE=segment(CC,EE,'gray')
			sCE.pointilles=true
			sED=segment(EE,D,'gray')
			sED.pointilles=true
			sDE=segment(DD,E,'gray')
			sDE.pointilles=true
			sEC=segment(C,E,'gray')
			sEC.pointilles=true



			objets_correction.push(d,tracePoint(A, B, C, D, E,CC,DD,EE),labelPoint(A, B, C, D, E,CC,DD,EE),cC,cD,cE,sC,sD,sE,sED,sDE,sCE,sEC)
			objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[4]}\'$ symétrique de $${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(5)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,EE.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,EE.y,CC.y,DD.y)+1)
		
			
			correction=`Contrôler la figure en vérifiant que les segments en pointillés se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`
			break;
		  case 2: // 3 symétries centrales de points
			p1nom=creerNomDePolygone(4)
			A = point(0, randint(-1,4), `${p1nom[0]}`,'left');
			B = point(7, randint(-1,1,A.y), `${p1nom[1]}`,'above');
			C = point(randint(2, 3), randint(-4, -2), `${p1nom[2]}`,'left');
			D = point(randint(10, 13), randint(-6, -5), `${p1nom[3]}`,'below right');
			CC=rotation(C,B,180,`${p1nom[2]}\'`,'right')
			DD=rotation(D,B,180,`${p1nom[3]}\'`,'above left')
			AA=rotation(A,B,180,`${p1nom[0]}\'`,'right')
			cC=codageMilieu(C,CC,'red','|',false)
			cD=codageMilieu(D,DD,'blue','||' ,false)
			cA=codageMilieu(A,AA,'green','|||',false)
			sC=segment(C,CC)
			sD=segment(D,DD)
			sA=segment(A,AA)
			
		objets_correction.push(tracePoint(A, C, D,CC,DD,AA),labelPoint(A, B, C, D,CC,DD,AA),cC,cD,cA,sC,sD,sA)
			objets_enonce.push(tracePoint(A, B, C, D),labelPoint(A, B, C, D));
			enonce = num_alpha(0)+` Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le point $${p1nom[2]}\'$ symétrique de $${p1nom[2]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(2)+` Construire le point $${p1nom[3]}\'$ symétrique de $${p1nom[3]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(3)+` Construire le point $${p1nom[0]}\'$ symétrique de $${p1nom[0]}$ par rapport au point $${p1nom[1]}$.<br>`
			enonce += num_alpha(4)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,AA.x,CC.x,DD.x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,AA.x,CC.x,DD.x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,AA.y,CC.y,DD.y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,AA.y,CC.y,DD.y)+1)
			correction=''
			break;

			case 3 : // symétrie axiale simple d'un triangle
			p1nom=creerNomDePolygone(5,"PQ")
			A = point(0, 0, `${p1nom[0]}`,'above');
			k=choice([-1,0,1,2])

			if (k<2) d = droiteParPointEtPente(A,k);
			else d=droiteVerticaleParPoint(A)
			B = pointSurDroite(d,6,`${p1nom[1]}`,'above');
			d.isVisible = true;
			d.epaisseur=1
			C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
			D = point(randint(3, 5), randint(-4, -3), `${p1nom[3]}`,'below right');
//			dB = droiteParPointEtPerpendiculaire(B, d);
			E=point(randint(6,7),randint(5,6), `${p1nom[4]}`, "left");
			p1=polygone(C,D,E)
			p2=symetrieAxiale(p1,d)
			p2.listePoints[0].nom=`${p1nom[2]}\'`
			p2.listePoints[1].nom=`${p1nom[3]}\'`
			p2.listePoints[2].nom=`${p1nom[4]}\'`
			//CC=nommePolygone(p1)
			//DD=nommePolygone(p2)
			cC=codageMediatrice(p1.listePoints[0],p2.listePoints[0],'red','|')
			cD=codageMediatrice(p1.listePoints[1],p2.listePoints[1],'blue','X')
			cE=codageMediatrice(p1.listePoints[2],p2.listePoints[2],'green','O')			
			sC=segment(p1.listePoints[0],p2.listePoints[0],'red')
			sD=segment(p1.listePoints[1],p2.listePoints[1],'blue')
			sE=segment(p1.listePoints[2],p2.listePoints[2],'green')	
			sCE=droite(p1.listePoints[2],p1.listePoints[1],'','gray')
			sCE.pointilles=true
			sED=droite(p2.listePoints[2],p2.listePoints[1],'','gray')
			sED.pointilles=true
			objets_correction.push(d,tracePoint(A,B),labelPoint(A,B),cC,cD,cE,sC,sD,sE,CC,DD,p1,p1.sommets,p2,p2.sommets,sCE,sED)
			objets_enonce.push(d,tracePoint(A,B),labelPoint(A,B),CC,p1);
			enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
			enonce += num_alpha(1)+` Construire le triangle  $${p1nom[2]}\'${p1nom[3]}\'${p1nom[4]}\'$ symétrique de $${p1nom[2]}${p1nom[3]}${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
			enonce += num_alpha(2)+` Coder la figure.<br>`;
			Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
			Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
			Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
			Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)
			correction=''
	
			break
			case 4: // symetrie axiale d'un triangle
				p1nom=creerNomDePolygone(5)


				A = point(0, randint(-1,1), `${p1nom[0]}`,'above');
				B = point(6, randint(-1,1,A.y), `${p1nom[1]}`,'above');
				d = droite(A, B);
				d.isVisible = true;
				d.epaisseur=1
				C = point(randint(2, 3), randint(3, 4), `${p1nom[2]}`,'above left');
				D = point(randint(10, 13), randint(-4, -2), `${p1nom[3]}`,'below right');
				dB = droiteParPointEtPerpendiculaire(B, d);
				E=point(randint(6,8),randint(-8,-6), `${p1nom[4]}`, "left");
				p1=polygone(C,D,E)
				p2=symetrieAxiale(p1,d)
				p2.listePoints[0].nom=`${p1nom[2]}\'`
				p2.listePoints[1].nom=`${p1nom[3]}\'`
				p2.listePoints[2].nom=`${p1nom[4]}\'`
				//CC=nommePolygone(p1)
				//DD=nommePolygone(p2)
				cC=codageMediatrice(p1.listePoints[0],p2.listePoints[0],'red','|')
				cD=codageMediatrice(p1.listePoints[1],p2.listePoints[1],'blue','X')
				cE=codageMediatrice(p1.listePoints[2],p2.listePoints[2],'green','O')			
				sC=segment(p1.listePoints[0],p2.listePoints[0],'red')
				sD=segment(p1.listePoints[1],p2.listePoints[1],'blue')
				sE=segment(p1.listePoints[2],p2.listePoints[2],'green')	
				sCE=droite(p1.listePoints[2],p1.listePoints[1],'','gray')
				sCE.pointilles=true
				sED=droite(p2.listePoints[2],p2.listePoints[1],'','gray')
				sED.pointilles=true
				objets_correction.push(d,tracePoint(A,B),labelPoint(A,B),cC,cD,cE,sC,sD,sE,CC,DD,p1,p1.sommets,p2,p2.sommets,sCE,sED)
				objets_enonce.push(d,tracePoint(A,B),labelPoint(A,B),CC,p1);
				enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
				enonce += num_alpha(1)+` Construire le triangle  $${p1nom[2]}\'${p1nom[3]}\'${p1nom[4]}\'$ symétrique de $${p1nom[2]}${p1nom[3]}${p1nom[4]}$ par rapport à la droite $(${p1nom[0]}${p1nom[1]})$.<br>`
				enonce += num_alpha(2)+` Coder la figure.<br>`;
				Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
				Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
				Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
				Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)

				correction=`Contrôler la figure en vérifiant que les côtés des deux triangles se coupent bien sur la droite $(${p1nom[0]}${p1nom[1]})$<br>`
				break;
			  case 5:
				p1nom=creerNomDePolygone(4)

				A = point(0, randint(-1,4), `${p1nom[0]}`,'left');
				B = point(7, randint(-1,1,A.y), `${p1nom[1]}`,'above');
				C = point(randint(2, 3), randint(-6, -4), `${p1nom[2]}`,'left');
				D = point(randint(10, 13), randint(-6, -5), `${p1nom[3]}`,'below right');
				p1=polygone(A,C,D)
				p2=rotation(p1,B,180)
				p2.listePoints[0].nom=`${p1nom[0]}\'`
				p2.listePoints[1].nom=`${p1nom[2]}\'`
				p2.listePoints[2].nom=`${p1nom[3]}\'`
				//CC=nommePolygone(p1)
				//DD=nommePolygone(p2)
				cC=codageMilieu(p1.listePoints[0],p2.listePoints[0],'red','|',false)
				cD=codageMilieu(p1.listePoints[1],p2.listePoints[1],'blue','X' ,false)
				cA=codageMilieu(p1.listePoints[2],p2.listePoints[2],'green','O',false)
				sA=segment(p1.listePoints[0],p2.listePoints[0],'red')
				sC=segment(p1.listePoints[1],p2.listePoints[1],'blue')
				sD=segment(p1.listePoints[2],p2.listePoints[2],'green')	
				
				objets_correction.push(tracePoint(B),labelPoint(B),cC,cD,cA,sC,sD,sA,p1.sommets,p2.sommets,p1,p2)
				objets_enonce.push(tracePoint(B),labelPoint(B),CC,p1);
				enonce = num_alpha(0)+`Reproduire la figure ci-dessous.<br>`
				enonce += num_alpha(1)+` Construire le triangle  $${p1nom[0]}\'${p1nom[2]}\'${p1nom[3]}\'$ symétrique de $${p1nom[0]}${p1nom[2]}${p1nom[3]}$ par rapport au point $${p1nom[1]}$.<br>`
				enonce += num_alpha(2)+` Coder la figure.<br>`;
				Math.floor(Math.min(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)-1)
				Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,p1.listePoints[0].x,p1.listePoints[1].x,p1.listePoints[2].x,p2.listePoints[0].x,p2.listePoints[1].x,p2.listePoints[2].x)+1)
				Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)-1)
				Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,p1.listePoints[0].y,p1.listePoints[1].y,p1.listePoints[2].y,p2.listePoints[0].y,p2.listePoints[1].y,p2.listePoints[2].y)+1)
				correction=''	
				break;

		}
		
		let params={
			xmin: Xmin,
			ymin: Ymin,
			xmax: Xmax,
			ymax: Ymax,
			pixelsParCm: 20,
			scale: sc,
		  }
		  if (this.sup2<3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
		else g=''
		if (this.sup2 == 2) {
		  k = 0.8;
		  carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
		} else {
		  k = 0.5;
		  carreaux = "";
		}
		objets_enonce.push(g,carreaux)
		objets_correction.push(g,carreaux)
		  enonce += mathalea2d( params
			,
			objets_enonce
		  );
		  correction += mathalea2d(
			params,
		   objets_correction
		  );
		if (this.liste_questions.indexOf(texte) == -1) {
		  // Si la question n'a jamais été posée, on en créé une autre
		  this.liste_questions.push(enonce + "<br>");
		  this.liste_corrections.push(correction + "<br>");
		  i++;
		}
		cpt++;
	  }
  
	  liste_de_question_to_contenu(this);
	};
	this.besoin_formulaire_numerique = ['Type de questions', 4, `0 : symétries axiales simples\n 1 : Symétrie axiale\n 2 : Symétrie centrale\n 3 : Mélange`]
	this.besoin_formulaire2_numerique = [
	  "Type de cahier",
	  3,
	  `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
	];
  }

  
  /** 
 * * Remplir un tableau en utilisant la notion d'opposé
 * * 5R10-0
 * @author Sébastien Lozano
 */
function Trouver_oppose(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Trouver l'opposé d'un nombre relatif";
	this.consigne = "Compléter le tableau suivant.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
  //sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;
  
	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// une fonction pour générer un relatif et son opposé
			function nbRel_et_son_oppose() {
				let nb_num = calcul(randint(-9,9) + calcul(randint(-9,9)/10));
				
				return {
					nb:tex_nombre(nb_num),
					opp:tex_nombre(-nb_num)
				};
			}
			let nb_ligne_nombres = ['\\text{Nombre}'];
			let nb_ligne_nombres_corr = ['\\text{Nombre}'];
			let nb_ligne_nombres_opp = [];
			let nb_ligne_nombres_opp_corr = [];
			let nb;
			for (let k=0;k<6;k++) {
				nb=nbRel_et_son_oppose();
				if (randint(0,1)==1) {
					nb_ligne_nombres[k+1] = '';	
					nb_ligne_nombres_corr[k+1]=mise_en_evidence(nb.nb);
					nb_ligne_nombres_opp.push(nb.opp)
					nb_ligne_nombres_opp_corr.push(nb.opp)
				} else {
					nb_ligne_nombres.push(nb.nb);	
					nb_ligne_nombres_corr.push(nb.nb);	
					nb_ligne_nombres_opp[k] = '';
					nb_ligne_nombres_opp_corr[k]=mise_en_evidence(nb.opp);
				}				
			};
			
			let enonces = [];
			enonces.push({
				enonce:`								
				${tab_C_L(nb_ligne_nombres,['\\text{Opposé du nombre}'],nb_ligne_nombres_opp)}
				`,
				question:``,
				correction:`
				${tab_C_L(nb_ligne_nombres_corr,['\\text{Opposé du nombre}'],nb_ligne_nombres_opp_corr)}				
				`
			  });
			enonces.push({
				enonce:`énoncé type 2`,
				question:``,
				correction:`${texte_en_couleur(`correction type2`)}`
			});

			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[0].correction}`;
          };
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/** 
 * * résoudre un problème additif de fractions niv 5e
 * * 5N20-0
 * @author Sébastien Lozano
 */
function Problemes_additifs_fractions_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème en utilisant des fractions";	
	this.consigne = `Calculatrice autorisée.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  // type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [0];      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées		

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			// on définit les fractions pour les vols et les arguments pour le graphique
			let frac_vols = [
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,12,[1.8,' ','black',2,1,'red',0.4]],
				[1,4,[1.8,' ','black',2,1,'blue',0.4]],
				[1,2,[1.8,' ','black',2,1,'green',0.4]]
			];
			// on mélange pour l'aléatoire tant que les deux premieres fractions sont égales
			do {
				frac_vols = shuffle(frac_vols);
			} while (frac_vols[0][1] == frac_vols[1][1]);
			

			// let q1a = randint(1,5); // indice pour faire varier la 1ere question sur la destination
			// let q1b = randint(1,5,[q1a]); // indice pour faire varier la 2eme question sur la destination
			let nb_vols_total;
			let destinations_vols = [[`l'`,`Afrique`],[`l'`,`Asie`],[`l'`,`Amerique`],[`l'`,`Europe`],[`la`,` France`]];
			destinations_vols = shuffle(destinations_vols);
			do {		
				nb_vols_total = randint(200,600);
			} while (nb_vols_total%2 != 0 || nb_vols_total%3 != 0 || nb_vols_total%4 != 0)

			// pour les situations
			let situations = [
				{//case 0 --> vols
					fin_enonce_situation:`vols d'une compagnie aérienne selon la destination`,
					nom_enonce:`vols`,
					last_question:[`cette compagnie a affrété`,`vols`,`le nombre de vols`,`Le nombre de vols`],
					cat1:{
						destination:destinations_vols[0][0]+destinations_vols[0][1],
						article:destinations_vols[0][0],
						nom: destinations_vols[0][1],
						frac: frac_vols[0],
						angle: calcul(360/frac_vols[0][1]),
						arg_graph: frac_vols[0][2],
					},
					cat2:{
						destination:destinations_vols[1][0]+destinations_vols[1][1],
						article:destinations_vols[1][0],
						nom: destinations_vols[1][1],
						frac: frac_vols[1],
						angle: calcul(360/frac_vols[1][1]),
						arg_graph: frac_vols[1][2],
					},
					cat3:{
						destination:destinations_vols[2][0]+destinations_vols[2][1],
						article:destinations_vols[2][0],
						nom: destinations_vols[2][1],
						frac: frac_vols[2],
						angle: calcul(360/frac_vols[2][1]),
						arg_graph: frac_vols[2][2],
					},
					cat4:{
						destination:destinations_vols[3][0]+destinations_vols[3][1],
						article:destinations_vols[3][0],
						nom: destinations_vols[3][1],
						frac: frac_vols[3],
						angle: calcul(360/frac_vols[3][1]),
						arg_graph: frac_vols[3][2],
					},
					cat5:{
						destination:destinations_vols[4][0]+destinations_vols[4][1],
						article:destinations_vols[4][0],
						nom: destinations_vols[4][1],
						frac: frac_vols[4],
						angle: calcul(360/frac_vols[4][1]),
						arg_graph: frac_vols[4][2],
					},
					// q1a:q1a,
					// q1b:q1b,
					nb_total:nb_vols_total,
					fig:``,
				},
				{//case 1 --> courses
				},
				{//case 2 --> activités sportives
				},
				{//case 3 -->
				},
				{//case 4 -->
				},		
			];
			// une fonction pour gérer le codage des angles
			function myCodageAngle(A,O,B,angle,[...args]) {
				if (angle == 90) {
					return codageAngleDroit(A,O,B);
				} else {
					return codeAngle(A,O,angle,...args)
				};
			};

			// une fonction pour gérer l'affichage correct de la légende
			//param est l'ordonnée du point qui sert à la mediatrice !
			function myLegendeOK(param) {
				if (param<0) {
					return 2;
				} else {
					return 1;
				};
			};

			//une fonction pour positionner le label
			// y est l'ordonnée du point
			function myLabelPosition(y) {
				if (y<0) {
					return 'below';
				} else {
					return 'above';
				};
			};

			// une fonction pour gérer le texte en fonction de l'angle
			function myTexte_vols_corr(angle) {
				switch (angle) {
					case 90:
						return `du secteur est un angle droit, il mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{4}$.`;
					case 30:
						return `rouge apparaît 3 fois, l'angle vert vaut $180\\degree$ et il y a un angle droit.<br>
							L'angle pour un tour complet vaut $360\\degree$, donc l'angle rouge vaut $(360-180-90)\\div 3 = ${angle}\\degree$.<br>
							L'angle rouge mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{12}$.
							`;
					case 180:
						return `du secteur est un angle plat, il mesure $${angle}\\degree$ sur les $360\\degree$ d'un tour complet, donc il représente $\\dfrac{${angle}}{360}$ du disque soit $\\dfrac{1}{2}$.`;
		
				}
			};

			// on prépare la fenetre mathalea2d
			let fenetreMathalea2D = {xmin:-10,ymin:-8,xmax:10,ymax:8,pixelsParCm:20,scale:0.5}
			let O_vols = point(0,0);
			let A_vols = point(fenetreMathalea2D.xmin+6,0);
			let c_vols = cercleCentrePoint(O_vols,A_vols,'blue');
			c_vols.epaisseur = 2;
			// on trace les quartiers
			//cat1
			let B_vols = rotation(A_vols,O_vols,situations[0].cat1.angle);
			let s_OA_vols = segment(O_vols,A_vols);
			let s_OB_vols = segment(O_vols,B_vols);			
			let codage_AOB = myCodageAngle(A_vols,O_vols,B_vols,situations[0].cat1.angle,situations[0].cat1.arg_graph)
			//cat2
			let C_vols = rotation(B_vols,O_vols,situations[0].cat2.angle);			
			let s_OC_vols = segment(O_vols,C_vols);			
			let codage_BOC = myCodageAngle(B_vols,O_vols,C_vols,situations[0].cat2.angle,situations[0].cat2.arg_graph)
			//cat3
			let D_vols = rotation(C_vols,O_vols,situations[0].cat3.angle);			
			let s_OD_vols = segment(O_vols,D_vols);			
			let codage_COD = myCodageAngle(C_vols,O_vols,D_vols,situations[0].cat3.angle,situations[0].cat3.arg_graph)
			//cat4
			let E_vols = rotation(D_vols,O_vols,situations[0].cat4.angle);			
			let s_OE_vols = segment(O_vols,E_vols);			
			let codage_DOE = myCodageAngle(D_vols,O_vols,E_vols,situations[0].cat4.angle,situations[0].cat4.arg_graph)
			//cat5
			let F_vols = rotation(E_vols,O_vols,situations[0].cat5.angle);			
			let s_OF_vols = segment(O_vols,F_vols);			
			let codage_EOF = myCodageAngle(E_vols,O_vols,F_vols,situations[0].cat5.angle,situations[0].cat5.arg_graph)

			// légende 
			let A_legende = point(fenetreMathalea2D.xmin+4,0);
			let L_vols_cat1 = rotation(A_legende,O_vols,situations[0].cat1.angle/2,situations[0].cat1.nom);
			L_vols_cat1.positionLabel = myLabelPosition(L_vols_cat1.y);
			let LL_vols_cat1 = rotation(A_vols,O_vols,situations[0].cat1.angle/2,situations[0].cat1.nom);
			let s_legende_cat1 = segment (L_vols_cat1,LL_vols_cat1);
			s_legende_cat1.styleExtremites = '->';
			s_legende_cat1.pointilles = true;

			let L_vols_cat2 = rotation(L_vols_cat1,O_vols,situations[0].cat1.angle/2+situations[0].cat2.angle/2,situations[0].cat2.nom);
			L_vols_cat2.positionLabel = myLabelPosition(L_vols_cat2.y);
			let LL_vols_cat2 = rotation(B_vols,O_vols,situations[0].cat2.angle/2,situations[0].cat2.nom);
			let s_legende_cat2 = segment (L_vols_cat2,LL_vols_cat2);
			s_legende_cat2.styleExtremites = '->';
			s_legende_cat2.pointilles = true;

			let L_vols_cat3 = rotation(L_vols_cat2,O_vols,situations[0].cat2.angle/2+situations[0].cat3.angle/2,situations[0].cat3.nom);
			L_vols_cat3.positionLabel = myLabelPosition(L_vols_cat3.y);
			let LL_vols_cat3 = rotation(C_vols,O_vols,situations[0].cat3.angle/2,situations[0].cat3.nom);
			let s_legende_cat3 = segment (L_vols_cat3,LL_vols_cat3);
			s_legende_cat3.styleExtremites = '->';
			s_legende_cat3.pointilles = true;

			let L_vols_cat4 = rotation(L_vols_cat3,O_vols,situations[0].cat3.angle/2+situations[0].cat4.angle/2,situations[0].cat4.nom);
			L_vols_cat4.positionLabel = myLabelPosition(L_vols_cat4.y);
			let LL_vols_cat4 = rotation(D_vols,O_vols,situations[0].cat4.angle/2,situations[0].cat4.nom);
			let s_legende_cat4 = segment (L_vols_cat4,LL_vols_cat4);
			s_legende_cat4.styleExtremites = '->';
			s_legende_cat4.pointilles = true;

			let L_vols_cat5 = rotation(L_vols_cat4,O_vols,situations[0].cat4.angle/2+situations[0].cat5.angle/2,situations[0].cat5.nom);
			L_vols_cat5.positionLabel = myLabelPosition(L_vols_cat5.y);
			let LL_vols_cat5 = rotation(E_vols,O_vols,situations[0].cat5.angle/2,situations[0].cat5.nom);
			let s_legende_cat5 = segment (L_vols_cat5,LL_vols_cat5);
			s_legende_cat5.styleExtremites = '->';
			s_legende_cat5.pointilles = true;

			
			let mesAppels = [
				c_vols,
				s_OA_vols,
				s_OB_vols,
				s_OC_vols,
				s_OD_vols,
				s_OE_vols,
				s_OF_vols,
				codage_AOB,
				codage_BOC,				
				codage_COD,				
				codage_DOE,				
				codage_EOF,				
				labelPoint(L_vols_cat1),
				labelPoint(L_vols_cat2),
				labelPoint(L_vols_cat3),
				labelPoint(L_vols_cat4),
				labelPoint(L_vols_cat5),
				s_legende_cat1,
				s_legende_cat2,
				s_legende_cat3,
				s_legende_cat4,
				s_legende_cat5,
			];
			let fig_vols = mathalea2d(
				fenetreMathalea2D,
				mesAppels
			);
			situations[0].fig = fig_vols;

			let enonces = [];			
			let i_sous_question=0;
			let i_sous_question_corr=0;

			for (let k=0;k<1;k++) {
				enonces.push({
					enonce:`
					On a représenté sur le diagramme circulaire ci-contre la répartition des ${situations[k].fin_enonce_situation}.<br>
					${texte_gras(`Les angles de même couleur ont la même mesure.`)}<br>
					${texte_gras(`L'angle vert est un angle plat.`)}<br>
					${situations[k].fig}<br>
					${num_alpha(i_sous_question++)} Quelle fraction représente les ${situations[k].nom_enonce} vers ${situations[k].cat1.destination} ?<br>
					${num_alpha(i_sous_question++)} Quelle fraction représente les ${situations[k].nom_enonce} vers ${situations[k].cat2.destination} ?<br>
					${num_alpha(i_sous_question++)} Sachant que ${situations[k].last_question[0]} ${situations[k].nb_total} ${situations[k].last_question[1]}
					et que les ${situations[k].nom_enonce} vers ${situations[k].cat3.destination} représentent $\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}$ de ce total,
					caluler ${situations[k].last_question[2]} vers ${situations[k].cat3.destination}?
												
					`,
					correction:`
					${num_alpha(i_sous_question_corr++)} Pour ${situations[k].cat1.destination} l'angle ${myTexte_vols_corr(situations[k].cat1.angle)}<br>					
					${texte_en_couleur(`La fraction qui représente les ${situations[k].nom_enonce} vers ${situations[k].cat1.destination} vaut donc $\\dfrac{${situations[k].cat1.frac[0]}}{${situations[k].cat1.frac[1]}}$`)}.<br>
					
					${num_alpha(i_sous_question_corr++)} Pour ${situations[k].cat2.destination} l'angle ${myTexte_vols_corr(situations[k].cat2.angle)}<br>				
					${texte_en_couleur(`La fraction qui représente les ${situations[k].nom_enonce} vers ${situations[k].cat2.destination} vaut donc $\\dfrac{${situations[k].cat2.frac[0]}}{${situations[k].cat2.frac[1]}}$`)}<br>

					${num_alpha(i_sous_question_corr++)} Calculons $\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}$ de ${situations[k].nb_total} :<br> 
					$\\dfrac{${situations[k].cat3.frac[0]}}{${situations[k].cat3.frac[1]}}\\times ${situations[k].nb_total} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${situations[k].nb_total}}{${situations[k].cat3.frac[1]}} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}\\times ${situations[k].cat3.frac[1]}}{${situations[k].cat3.frac[1]}} = \\dfrac{${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}\\times \\cancel{${situations[k].cat3.frac[1]}}}{\\cancel{${situations[k].cat3.frac[1]}}} = ${situations[k].cat3.frac[0]}\\times ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])} = ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}$<br>
					${texte_en_couleur(`${situations[k].last_question[3]} vers ${situations[k].cat3.destination} vaut donc ${calcul(situations[k].nb_total/situations[k].cat3.frac[1])}.`)}
					`
				});
			};
		
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;		
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};
  

/** 
 * * résoudre un problème additif avec des relatifs
 * * 5R20-4
 * @author Sébastien Lozano
 */

function Problemes_additifs_relatifs_5e(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème en utilisant une somme algébrique de relatifs.";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			//   type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [0];			      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let g_p_u; //pour le gain/perte unitaire
			let g_m; //pour le gain multiple
			// on veut des multiples de 5 pour n'avoir que des demis entiers ou des entiers
			do {
				g_p_u = randint(10,30);
				g_m = randint(10,30);
			} while (g_p_u%5 != 0 || g_m%5 != 0 || g_m <= g_p_u) 

			let n_tot=randint(10,15); // nombre totale de lancers
			let n_g_u; // nb de gains untitaires
			let n_p; // nb de pertes
			do {
				n_g_u = randint(2,10);
				n_p = randint(2,10);
			} while (n_g_u+n_p >= n_tot)

			// on échange parfois le nombre de gain unitaire et le nombre de perte pour avoir un bilan négatif plus souvent
			if (n_p<n_g_u) {
				if (randint(0,1)==0) {
					let temp = n_p;
					n_p=n_g_u;
					n_g_u=temp;
				};
			};

			let prenoms = [[prenomF(),'Elle','elle'],[prenomM(),'Il','il']];
			let currentPrenom = choice(prenoms);

			// une fonction pour écrire les chaine correctives
			function myGainPerteString(nb,type,valeur) {
				let sortie=``;
				switch (type) {
					case 'gain':						
						sortie = `(+${tex_prix(valeur)}$€$)`;
						for (let m=1;m<nb;m++) {
							sortie +=`+(+${tex_prix(valeur)}$€$)`;
						};
						break;
					case 'perte':
						sortie = `(-${tex_prix(valeur)}$€$)`;
						for (let m=1;m<nb;m++) {
							sortie +=`+(-${tex_prix(valeur)}$€$)`;
						};
						break;					
				};
				return sortie;
			}

			// une fonction pour dire si le bilan est positif ou négatif
			function isBilanPositif(tot) {
				if (tot >= 0) {
					return true;
				} else {
					return false;
				};
			};

			let bilan;			
			if ( isBilanPositif( calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10))) ) {
				bilan = [`Globalement, le montant des gains`,`est supérieur au montant des pertes`,`${texte_en_couleur(`Le bilan est donc positif.`)}`,`a gagné`,tex_prix(calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10)))];
			} else {
				bilan = [`Globalement, le montant des gains`,`est inférieur au montant des pertes`,`${texte_en_couleur(`Le bilan est donc négatif.`)}`,`a perdu`,tex_prix((-1)*(calcul((n_tot-n_g_u-n_p)*calcul(g_m/10)) + calcul(n_g_u*calcul(g_p_u/10)) - calcul(n_p*calcul(g_p_u/10))))];
			}
			// pour les situations
			let situations = [
				{//case 0 --> les quilles
					nb_tot_lancers:n_tot,
					nb_gains_unitaires:n_g_u,
					nb_pertes:n_p,
					nb_gains:n_tot-n_g_u-n_p,
					perte:calcul(g_p_u/10),
					gain_unitaire:calcul(g_p_u/10),
					gain_multiple:calcul(g_m/10),
					enonce_1:`lancer une balle sur des quilles.`,
					enonce_2:`- Si la balle touche plusieurs quilles, le joueur gagne `,
					enonce_3:`- Si la balle ne touche qu'une quille, le joueur gagne `,
					enonce_4:`- Si la balle ne touche aucune quille, le joueur perd `,
					enonce_5:`a lancé`,
					enonce_6:`la balle`,
					correction_1:`touché plusieurs quilles`,
					correction_2:`touché qu'une seule quille`,
					prenom:currentPrenom[0],//prenoms[choice([0,1])][0],
					pronomMaj:currentPrenom[1],//prenoms[choice([0,1])][1],
					pronomMin:currentPrenom[2],//prenoms[choice([0,1])][2],
					bilan:bilan,
				},		
			];

			let enonces = [];
			let i_sous_question;
			let i_sous_question_corr;
			for (let k=0;k<situations.length;k++) {
				i_sous_question = 0;
				i_sous_question_corr = 0;
				enonces.push({
					enonce:`
					Un jeu consiste à ${situations[k].enonce_1}
					<br>${situations[0].enonce_2} $${tex_prix(situations[0].gain_multiple)}$€.				
					<br>${situations[0].enonce_3} $${tex_prix(situations[0].gain_unitaire)}$€.
					<br>${situations[0].enonce_4} $${tex_prix(situations[0].perte)}$€.
					<br>${situations[k].prenom} ${situations[k].enonce_5} $${situations[k].nb_tot_lancers}$ fois ${situations[k].enonce_6}.
					${situations[k].pronomMaj} a perdu de l'argent $${situations[k].nb_pertes}$ fois et a gagné $${situations[k].nb_gains_unitaires}$ fois $${tex_prix(situations[k].gain_unitaire)}$€.
					<br> ${num_alpha(i_sous_question++)} A-t-${situations[k].pronomMin} globalement gagné ou perdu de l'argent ?
					<br> ${num_alpha(i_sous_question++)} Combien a-t-${situations[k].pronomMin} globalement gagné ou perdu ?
					`,
					question:``,
					correction:`
					${situations[k].prenom} ${situations[k].enonce_5} $${situations[k].nb_tot_lancers}$ fois ${situations[k].enonce_6},
					sur les $${situations[k].nb_tot_lancers}$ lancers, on sait combien de fois ${situations[k].pronomMin} a perdu de l'argent et combien de fois ${situations[k].pronomMin} a gagné $${tex_prix(situations[k].gain_unitaire)}$€, les autres lancers correspondent donc au nombre de fois où ${situations[k].pronomMin} a ${situations[k].correction_1} et qu'${situations[k].pronomMin} a gagné $${tex_prix(situations[k].gain_multiple)}$€ 
					<br> $${situations[k].nb_tot_lancers}-${situations[k].nb_pertes}-${situations[k].nb_gains_unitaires} = ${situations[k].nb_tot_lancers-situations[k].nb_pertes-situations[k].nb_gains_unitaires}$,
					${situations[k].pronomMin} a donc ${situations[k].correction_1} $${situations[k].nb_gains}$ fois.

					<br>${texte_gras(`Gains lorsqu'${situations[k].pronomMin} a ${situations[k].correction_1} :`)}
					<br>$${myGainPerteString(situations[k].nb_gains,'gain',situations[k].gain_multiple)} = ${situations[k].nb_gains}\\times (+${tex_prix(situations[k].gain_multiple)}$€$) = +${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€

					<br>${texte_gras(`Gains lorsqu'${situations[k].pronomMin} n'a ${situations[k].correction_2} :`)}
					<br>$${myGainPerteString(situations[k].nb_gains_unitaires,'gain',situations[k].gain_unitaire)} = ${situations[k].nb_gains_unitaires}\\times (+${tex_prix(situations[k].gain_unitaire)}$€$) = +${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€

					<br>${texte_gras(`Pertes :`)}
					<br>$${myGainPerteString(situations[k].nb_pertes,'perte',situations[k].perte)} = ${situations[k].nb_pertes}\\times (-${tex_prix(situations[k].perte)}$€$) = -${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€

					<br>${num_alpha(i_sous_question_corr++)} ${situations[k].bilan[0]}, $(+${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€$)$ et $(+${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€$)$, ${situations[k].bilan[1]}, $(-${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€$)$.
					<br> ${situations[k].bilan[2]}   

					<br>${num_alpha(i_sous_question_corr++)} 
					$(+${tex_prix(situations[k].nb_gains*situations[k].gain_multiple)}$€$)+(+${tex_prix(situations[k].nb_gains_unitaires*situations[k].gain_unitaire)}$€$)+(-${tex_prix(situations[k].nb_pertes*situations[k].perte)}$€$) = (${tex_prix(situations[k].nb_gains*situations[k].gain_multiple+situations[k].nb_gains_unitaires*situations[k].gain_unitaire-situations[k].nb_pertes*situations[k].perte)}$€$)$
					<br>${texte_en_couleur(`Globalement ${situations[k].prenom} ${situations[k].bilan[3]} $${situations[k].bilan[4]}$€`)} 

					`
				});
			};
		
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;				
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/**
 * Caculer la valeur d'une expression littérale de degré 1 à une inconnue
 * 5L13-5
 * @author Sébastien Lozano forking 5L13 of Rémi Angot
 */  
function Calculer_la_valeur_d_une_expression_litterale_deg1_inc1() {
	Calculer_la_valeur_d_une_expression_litterale.call(this)
	this.version="5L13-5";	
	this.titre="Calculer la valeur d'une expression littérale de degré 1 à 1 inconnue";
	this.nb_questions=2;

}


/** 
 * * Justifier qu'un tableau est un tableau de proportionnalité ou non
 * * 5P10
 * @author Sébastien Lozano
 */

function Tableaux_et_proportionnalite(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 4;
	};	

	this.titre = "Tableaux et proportionnalité.";	
	this.consigne = `Dire si les tableaux suivants sont de tableaux de proportionnalité. Justifier.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
			  type_de_questions_disponibles = [choice([0,1]),2,choice([3,4]),5];			      			
			  type_de_questions_disponibles = shuffle(type_de_questions_disponibles);
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

			let n1 = randint(5,9);
			let n2 = randint(5,9,[n1]);
			let n3 = randint(5,9,[n1,n2]);
			let coeff = randint(2,9);
			let coeff_soust = randint(2,4);

			// pour les décimaux seulement en demis
			let u1 = randint(1,9);
			let ci1 = choice([0,5]); 					
			let u2 = randint(1,9);
			let ci2 = choice([0,5]); 					
			let u3 = randint(1,9);
			let ci3 = choice([0,5]);
			
			while ( ci1==0 && ci2 == 0 && ci3 == 0) {
				ci1 = choice([0,5]); 					
				ci2 = choice([0,5]); 					
				ci3 = choice([0,5]); 					
			};

			// une fonction pour la justification
			function justifications_OK(n1,n2,n3,coeff,sens) {
				let sortie;
				switch (sens) {
					case 'L1L2':
						sortie = `$\\dfrac{\\textcolor{blue}{${tex_nombre(n1)}}}{\\textcolor{red}{${tex_nombre(n1*coeff)}}} = \\dfrac{\\textcolor{blue}{${tex_nombre(n2)}}}{\\textcolor{red}{${tex_nombre(n2*coeff)}}} = \\dfrac{\\textcolor{blue}{${tex_nombre(n3)}}}{\\textcolor{red}{${tex_nombre(n3*coeff)}}}$`;
						break;
					case 'L2L1':
						sortie = `$\\dfrac{\\textcolor{red}{${tex_nombre(n1*coeff)}}}{\\textcolor{blue}{${tex_nombre(n1)}}} = \\dfrac{\\textcolor{red}{${tex_nombre(n2*coeff)}}}{\\textcolor{blue}{${tex_nombre(n2)}}} = \\dfrac{\\textcolor{red}{${tex_nombre(n3*coeff)}}}{\\textcolor{blue}{${tex_nombre(n3)}}}$`;
						break;
				};
				return sortie;				
			};

			// une fonction pour la justification sens1
			function justifications_KO(n1,n2,n3,coeff,operation,sens) {
				let sortie;
				let isEq = function(n1,n2,coeff) {
					if ( calcul(n1/(n1+coeff)) == calcul(n2/(n2+coeff)) ) {
						return `=`;
					} else {
						return `\\neq`;
					};
				};
				let color1,color2;
				switch (sens) {
					case 'L1L2':
						color1 = 'red';
						color2 = 'blue';
						break;
					case 'L2L1':
						color1 = 'blue';
						color2 = 'red';
						break;				
				};
				switch (operation) {
					case '+':						
						sortie = `$\\dfrac{\\textcolor{${color2}}{${tex_nombre(n1)}}}{\\textcolor{${color1}}{${tex_nombre(n1+coeff)}}}`;
						sortie += isEq(n1,n2,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n2)}}}{\\textcolor{${color1}}{${tex_nombre(n2+coeff)}}}`;	
						sortie += isEq(n2,n3,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n3)}}}{\\textcolor{${color1}}{${tex_nombre(n3+coeff)}}}$`;	
						break;
					case '-':
						sortie = `$\\dfrac{\\textcolor{${color2}}{${tex_nombre(n1)}}}{\\textcolor{${color1}}{${tex_nombre(n1-coeff)}}}`;
						sortie += isEq(n1,n2,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n2)}}}{\\textcolor{${color1}}{${tex_nombre(n2-coeff)}}}`;	
						sortie += isEq(n2,n3,coeff);
						sortie += `\\dfrac{\\textcolor{${color2}}{${tex_nombre(n3)}}}{\\textcolor{${color1}}{${tex_nombre(n3-coeff)}}}$`;	
						break;
				};
				return sortie;				
			};


			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 --> multiplication ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1*coeff],[n2*coeff,n3*coeff]
						),
					justification_L1_L2:justifications_OK(n1,n2,n3,coeff,'L1L2'),
					justification_L2_L1:justifications_OK(n1,n2,n3,coeff,'L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
					areEgaux:`égaux`,

				},
				{//case 1 --> multiplication ligne1 vers ligne2 Décimaux
					tableau:tab_C_L(
						[`\\phantom{000}`+tex_nombre(u1+ci1/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u2+ci2/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u3+ci3/10)+`\\phantom{000}`],
						[tex_nombre((u1+ci1/10)*coeff)],[tex_nombre((u2+ci2/10)*coeff),tex_nombre((u3+ci3/10)*coeff)]
						),
					justification_L1_L2:justifications_OK(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'L1L2'),
					justification_L2_L1:justifications_OK(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
					areEgaux:`égaux`,

				},
				{//case 2 --> division ligne1 vers ligne2
						tableau:tab_C_L(
							[`\\phantom{000}`+n1*coeff+`\\phantom{000}`,`\\phantom{000}`+n2*coeff+`\\phantom{000}`,`\\phantom{000}`+n3*coeff+`\\phantom{000}`],
							[n1],[n2,n3]
							),
						justification_L1_L2:justifications_OK(n1*coeff,n2*coeff,n3*coeff,1/coeff,'L1L2'),
						justification_L2_L1:justifications_OK(n1*coeff,n2*coeff,n3*coeff,1/coeff,'L2L1'),
						isProportionnel:texte_en_couleur_et_gras(`C'est donc un tableau de proportionnalité.`),
						areEgaux:`égaux`,
							
				},
				{//case 3 --> addition ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1+coeff],[n2+coeff,n3+coeff]
						),
					justification_L1_L2:justifications_KO(n1,n2,n3,coeff,'+','L1L2'),
					justification_L2_L1:justifications_KO(n1+coeff,n2+coeff,n3+coeff,-coeff,'+','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,
				},
				{//case 4 --> addition ligne1 vers ligne2 Décimaux
					tableau:tab_C_L(
						[`\\phantom{000}`+tex_nombre(u1+ci1/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u2+ci2/10)+`\\phantom{000}`,`\\phantom{000}`+tex_nombre(u3+ci3/10)+`\\phantom{000}`],
						[tex_nombre((u1+ci1/10)+coeff)],[tex_nombre((u2+ci2/10)+coeff),tex_nombre((u3+ci3/10)+coeff)]
						),
					justification_L1_L2:justifications_KO(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'+','L1L2'),
					justification_L2_L1:justifications_KO(u1+ci1/10,u2+ci2/10,u3+ci3/10,coeff,'+','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,

				},
				{//case 5 --> soustraction ligne1 vers ligne2
					tableau:tab_C_L(
						[`\\phantom{000}`+n1+`\\phantom{000}`,`\\phantom{000}`+n2+`\\phantom{000}`,`\\phantom{000}`+n3+`\\phantom{000}`],
						[n1-coeff_soust],[n2-coeff_soust,n3-coeff_soust]
						),
					justification_L1_L2:justifications_KO(n1,n2,n3,coeff_soust,'-','L1L2'),
					justification_L2_L1:justifications_KO(n1-coeff_soust,n2-coeff_soust,n3-coeff_soust,-coeff_soust,'-','L2L1'),
					isProportionnel:texte_en_couleur_et_gras(`Ce n'est donc pas un tableau de proportionnalité.`),
					areEgaux:`différents`,
				},
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`					
					${situations[k].tableau}				
					`,
					question:``,
					correction:`
					Pour déterminer si c'est un tableau de proportionnalité, il suffit de comparer les quotients d'un nombre de la première ligne par le nombre correspondant de la seconde ligne ou inversement.
					<br> Soit ${situations[k].justification_L1_L2}, on constate qu'ils sont ${situations[k].areEgaux}.
					<br>Ou bien ${situations[k].justification_L2_L1}, on constate aussi qu'ils sont ${situations[k].areEgaux}.
					<br>${situations[k].isProportionnel}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
        		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
        		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
        		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;	
				case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;
				case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
					break;					
 			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
 * * Tableaux et pourcentages
 * * 5N11-1
 * @author Sébastien Lozano
 */

function Tableaux_et_pourcentages(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Tableaux et pourcentages";	
	this.consigne = `Compléter le tableau suivant.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	// sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	// sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
			  type_de_questions_disponibles = [0];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let prix,remises;
			do {
				prix = randint(150,300);
			} while (prix%5 != 0)
			
			if (this.sup == 1) {//coeff entier
				remises = choice([
					[{str:'10\\%',nb:10},{str:'20\\%',nb:20},{str:'30\\%',nb:30}],
					[{str:'5\\%',nb:5},{str:'15\\%',nb:10},{str:'35\\%',nb:35}],
					[{str:'10\\%',nb:20},{str:'40\\%',nb:40},{str:'80\\%',nb:80}],
					[{str:'5\\%',nb:5},{str:'25\\%',nb:25},{str:'55\\%',nb:55}],
					//[{str:'10\\%',nb:10},{str:'5\\%',nb:5},{str:'15\\%',nb:15}],
					//[{str:'50\\%',nb:50},{str:'30\\%',nb:30},{str:'10\\%',nb:10}],
				]);	
			};
			if (this.sup == 2) {//coeff décimal
				remises = choice([
					//[{str:'10\\%',nb:10},{str:'20\\%',nb:20},{str:'30\\%',nb:30}],					
					//[{str:'5\\%',nb:5},{str:'10\\%',nb:10},{str:'35\\%',nb:35}],
					[{str:'10\\%',nb:10},{str:'5\\%',nb:5},{str:'15\\%',nb:15}],
					[{str:'50\\%',nb:50},{str:'30\\%',nb:30},{str:'10\\%',nb:10}],
					[{str:'20\\%',nb:20},{str:'10\\%',nb:10},{str:'50\\%',nb:50}],
					[{str:'40\\%',nb:40},{str:'10\\%',nb:10},{str:'5\\%',nb:5}],
				]);	
			}

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
					tableau:tab_C_L([`\\text{Prix en euro}`,tex_prix(prix),tex_prix(prix),tex_prix(prix)],[`\\text{Remise en pourcentage}`,`\\text{Montant de la remise en euro}`,`\\text{Nouveau prix}`],[
						remises[0].str,remises[1].str,remises[2].str,
						tex_prix(prix*remises[0].nb/100),'','',
						tex_prix(prix-prix*remises[0].nb/100),'','',
					]),
					tableau_corr:tab_C_L([`\\text{Prix en euro}`,tex_prix(prix),tex_prix(prix),tex_prix(prix)],[`\\text{Remise en pourcentage}`,`\\text{Montant de la remise en euro}`,`\\text{Nouveau prix}`],[
						remises[0].str,remises[1].str,remises[2].str,
						tex_prix(prix*remises[0].nb/100),mise_en_evidence(`${tex_prix(prix*remises[0].nb/100)} \\times ${tex_nombre(remises[1].nb/remises[0].nb)} = ${tex_prix(prix*remises[1].nb/100)}`),mise_en_evidence(`${tex_prix(prix*remises[0].nb/100)} \\times ${tex_nombre(remises[2].nb/remises[0].nb)} = ${tex_prix(prix*remises[2].nb/100)}`),
						tex_prix(prix-prix*remises[0].nb/100),mise_en_evidence(`${tex_prix(prix)}-${tex_prix(prix*remises[1].nb/100)} = ${tex_prix(prix-prix*remises[1].nb/100)}`),mise_en_evidence(`${tex_prix(prix)}-${tex_prix(prix*remises[2].nb/100)} = ${tex_prix(prix-prix*remises[2].nb/100)}`),
					]),
				},	
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`					
					${situations[k].tableau}	
					`,
					question:``,
					correction:`
					L'énoncé indique le montant pour une remise de $${remises[0].str}$.
					<br>Or $${tex_nombre(remises[1].nb/remises[0].nb)} \\times ${remises[0].str} = ${remises[1].str}$.
					<br>Donc pour $${remises[1].str}$ le montant de la remise sera $${tex_nombre(remises[1].nb/remises[0].nb)}$ fois celui de la remise de $${remises[0].str}$, d'où le calul indiqué dans le tableau.
					<br><br>
					L'énoncé indique le montant pour une remise de $${remises[0].str}$.
					<br>Or $${tex_nombre(remises[2].nb/remises[0].nb)} \\times ${remises[0].str} = ${remises[2].str}$.
					<br>Donc pour $${remises[2].str}$ le montant de la remise sera $${tex_nombre(remises[2].nb/remises[0].nb)}$ fois celui de la remise de $${remises[0].str}$, d'où le calul indiqué dans le tableau.
					<br><br>${situations[k].tableau_corr}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : coefficient enttier\n2 : coefficient décimal"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/** 
 * * Traduire la dépendance entre deux grandeurs par un tableau de valeurs et produire une formule.
 * * 5L10-4
 * @author Sébastien Lozano
 */

function Tableaux_et_fonction(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Produire une formule à partir d'un tableau";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 2; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
			  //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
			  type_de_questions_disponibles = [0];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			let L1 = randint(3,7);
			let L2 = L1+1;
			let L3 = L2*2;
			let L4 = L2*3;

			let cote_inconnu = choice(['L']);	
			let cote_inconnu_corr;		
			let cote_inconnu_corr_num;	
			let cote_connu = randint(3,7);

			let unites;
			let grand_L;
			let grand_L_num;
			let petit_l;
			let petit_l_num;
			let unite_grand_L;
			let unite_petit_l; 
			let txt_corr;			
			if (this.sup == 1) {//même unités
				unites = choice([['cm','cm'],['m','m']]);
				grand_L = [`${L1}`,`${L2}`,`${L3}`,`${L4}`];
				grand_L_num = [`${L1}`,`${L2}`,`${L3}`,`${L4}`]; 
				petit_l = [`${cote_connu}`,``,``,``]; 
				petit_l_num = [`${cote_connu}`,``,``,``];
				unite_grand_L = unites[0];
				unite_petit_l = unites[1];
				cote_inconnu_corr  = cote_inconnu;
				cote_inconnu_corr_num =  `2`+cote_inconnu;
				txt_corr = `Les unités sont les mêmes il n'est donc pas necessaire de convertir.`;
			};
			if (this.sup == 2) {// unités différentes
				unites = choice([['cm','m'],['m','cm']]);
				if (unites[0]=='cm') {
					grand_L =[`${L1}`,`${L2}`,`${L3}`,`${L4}`];
					grand_L_num =[`${L1}`,`${L2}`,`${L3}`,`${L4}`];
					petit_l = [`${cote_connu}\\times 100`,``,``,``];					
					petit_l_num =[`${100*cote_connu}`,``,``,``]; 
					unite_grand_L = unites[0];
					unite_petit_l = unites[0];
					cote_inconnu_corr =  cote_inconnu;
					cote_inconnu_corr_num =  `2`+cote_inconnu;
					txt_corr = `Les unités sont différentes, pour plus de confort, nous pouvons les convertir dans la même unité, ici en cm.`;
				};
				if (unites[0]=='m') {					
					grand_L = [`${L1}\\times 100`,`${L2}\\times 100`,`${L3}\\times 100`,`${L4}\\times 100`];
					grand_L_num = [`${100*L1}`,`${100*L2}`,`${100*L3}`,`${100*L4}`];
					petit_l = [`${cote_connu}`,``,``,``];
					petit_l_num =[`${cote_connu}`,``,``,``]; 					
					unite_grand_L = unites[1];
					unite_petit_l = unites[1];
					cote_inconnu_corr = cote_inconnu+`\\times 100`;
					cote_inconnu_corr_num = `200`+cote_inconnu;
					
					txt_corr = `Les unités sont différentes, pour plus de confort, nous pouvons les convertir dans la même unité, ici en cm.`;
				};

			};			
			
			

			// on prépare la fenetre mathalea2d
			let fenetreMathalea2D = {xmin:-5,ymin:-3,xmax:5,ymax:3,pixelsParCm:20,scale:0.5}
			let A = point(-4,2);
			let B = point(-4,-2);
			let C = point(4,-2);
			let D = point(4,2);
			let mesAppels = [
				polygone(A,B,C,D),		
			];
			let figure = mathalea2d(
				fenetreMathalea2D,
				mesAppels
			);

			// une fonction pour moduler l'affichage d'une étape dans la correction
			function etapeCorrective(str,sup) {
				let sortie;
				if (sup == 1) {
					sortie = ``;
				};
				if (sup == 2) {
					sortie = str;
				};
				return sortie;

			};

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
					unites:unites,
					cote_connu:cote_connu,
					cote_inconnu:cote_inconnu,
					tableau:tab_C_L([`\\text{Longueur $${cote_inconnu}$ du côté (en ${unites[0]})}`,`\\phantom{000}${L1}\\phantom{000}`,`\\phantom{000}${L2}\\phantom{000}`,`\\phantom{000}${L3}\\phantom{000}`,`\\phantom{000}${L4}\\phantom{000}`],[`\\text{Périmètre du rectangle (en $${unites[1]}$)}`],
					['','','','']
					),
					calculL1:`Pour ${L1} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}$.`,
					calculL2:`Pour ${L2} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}$.`,
					calculL3:`Pour ${L3} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}$.`,
					calculL4:`Pour ${L4} ${unites[0]} : $2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}$.`,
					tableau_corr:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en ${unite_grand_L})}`,`\\phantom{0}${grand_L[0]}\\phantom{0}`,`\\phantom{0}${grand_L[1]}\\phantom{0}`,`\\phantom{0}${grand_L[2]}\\phantom{0}`,`\\phantom{0}${grand_L[3]}\\phantom{0}`],
					[`\\text{Périmètre du rectangle (en ${unite_petit_l})}`],
					[
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}`,
						`${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}`,
					],
					),
					tableau_corr_p1:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en $${unite_grand_L}$)}`,`\\phantom{000}${grand_L[0]}\\phantom{000}`,`\\phantom{000}${grand_L[1]}\\phantom{000}`],//,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],
					[`\\text{Périmètre du rectangle (en ${unite_petit_l})}`],
					[
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[2]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[3]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} \\color{black}{ = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[3]} \\; \\text{${unite_grand_L}} = \\color{black}{${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}}`,
					],
					),
					tableau_corr_p2:tab_C_L([`\\text{Longueur $${cote_inconnu_corr}$ du côté (en $${unite_grand_L}$)}`,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],//,`\\phantom{000}${grand_L[2]}\\phantom{000}`,`\\phantom{000}${grand_L[3]}\\phantom{000}`],
					[`\\text{Périmètre du rectangle (en $${unite_petit_l}$)}`],
					[
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L1} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[0]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[0])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L2} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${grand_L_num[1]} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[1])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L3} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[2])} \\; \\text{${unite_grand_L}}}`,
						//`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${L4} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${tex_nombre(grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0]+2*grand_L_num[3])} \\; \\text{${unite_grand_L}}}`,
					],
					),
					secondeQ:`2\\times \\color{blue}{${cote_connu} \\; \\text{${unites[1]}}} \\color{black}{+2\\times} \\color{red}{${cote_inconnu} \\; \\text{${unites[0]}}} ${etapeCorrective(`\\color{black}{\\; = 2\\times} \\color{blue}{${petit_l_num[0]} \\; \\text{${unite_petit_l}}} \\color{black}{+2\\times} \\color{red}{${cote_inconnu_corr} \\; \\text{${unite_grand_L}}}`,this.sup)} \\color{black}{ \\;= ${tex_nombre(2*petit_l_num[0])} + ${cote_inconnu_corr_num} \\; \\text{exprimé en ${unite_grand_L}}}`,
					intro:txt_corr,
					fig:figure,
				},	
			];

			let enonces = [];
			let i_sous_question=0;
			let i_sous_question_corr=0;

			for (let k=0;k<situations.length;k++) {
				enonces.push({					
					enonce:`
					On considère le rectangle ci-dessous dont l'un des côtés mesure $${situations[k].cote_connu}$ $${unites[1]}$ et l'autre mesure $${situations[k].cote_inconnu}$ $${unites[0]}$.<br>
					${situations[k].fig}<br>
					${num_alpha(i_sous_question++)} Compléter le tableau suivant :<br><br>
					${situations[k].tableau}<br><br>
					${num_alpha(i_sous_question++)} Quelle formule permet de calculer le périmètre de ce rectangle en fonction de $${situations[k].cote_inconnu}$ ?								
					`,
					question:``,
					correction:`
					${num_alpha(i_sous_question_corr++)} ${situations[k].intro}<br>
					Il y a plusieurs façons de calculer le périmètre d'un rectangle, par exemple : <br> $2\\times largeur + 2\\times Longueur$.<br>
					Ici l'un des côtés mesure toujours $\\textcolor{blue}{${petit_l[0]}}$ $${unite_petit_l}$<br>
					Calculons les périmètres pour chacune des valeurs données :<br>
					${situations[k].calculL1}<br>
					${situations[k].calculL2}<br>
					${situations[k].calculL3}<br>
					${situations[k].calculL4}<br>
					Nous pouvons alors remplir le tableau<br>
					${situations[k].tableau_corr}<br><br>
					${num_alpha(i_sous_question_corr++)} On peut généraliser le raisonnement des calculs du périmètre, et ainsi obtenir une formule.<br>
					$${situations[k].secondeQ}$

					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 					
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	

			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : les mêmes unités\n2 : unités différentes"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/**
* Effectuer des additions de relatifs dans un tableau à double entrée
*
* @Auteur Rémi Angot
* 5R20-5
*/
function Exercice_tableau_additions_relatifs (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Additions de deux entiers relatifs dans un tableau à double entrée"
	this.consigne = 'Calculer'
  	this.spacing = 1;
  	this.nb_questions = 1;
  	this.nb_questions_modifiable = false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_signes1 = combinaison_listes([-1,1],4);
    let liste_signes2 = combinaison_listes([-1,1],4);
    let a1 = randint(2,9);
    let a2 = randint(2,9,a1);
    let a3 = randint(2,9,[a1,a2]);
    let a4 = randint(2,9,[a1,a2,a3]);
    let b1 = randint(2,9);
    let b2 = randint(2,9,b1);
    let b3 = randint(2,9,[b1,b2]);
    let b4 = randint(2,9,[b1,b2,b3]);
    a1 *= liste_signes1[0]
    a2 *= liste_signes1[1]
    a3 *= liste_signes1[2]
    a4 *= liste_signes1[3]
    b1 *= liste_signes1[0]
    b2 *= liste_signes1[1]
    b3 *= liste_signes1[2]
    b4 *= liste_signes1[3]

    let texte = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    + & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} &  &  & &  \\\\
    \\hline
    ${ecriture_algebrique(b2)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b3)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b4)} & & & & \\\\
    \\hline
    \\end{array}$`

    let texte_corr = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    + & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} & ${ecriture_algebrique(a1+b1)} & ${ecriture_algebrique(a2+b1)} & ${ecriture_algebrique(a3+b1)} & ${ecriture_algebrique(a4+b1)} \\\\
    \\hline
    ${ecriture_algebrique(b2)} & ${ecriture_algebrique(a1+b2)} & ${ecriture_algebrique(a2+b2)} & ${ecriture_algebrique(a3+b2)} & ${ecriture_algebrique(a4+b2)} \\\\
    \\hline
    ${ecriture_algebrique(b3)} & ${ecriture_algebrique(a1+b3)} & ${ecriture_algebrique(a2+b3)} & ${ecriture_algebrique(a3+b3)} & ${ecriture_algebrique(a4+b3)} \\\\
    \\hline
    ${ecriture_algebrique(b4)} & ${ecriture_algebrique(a1+b4)} & ${ecriture_algebrique(a2+b4)} & ${ecriture_algebrique(a3+b4)} & ${ecriture_algebrique(a4+b4)} \\\\
    \\hline
	\\end{array}$`
	this.liste_questions.push(texte);
	this.liste_corrections.push(texte_corr);
	liste_de_question_to_contenu(this);
	}
}

/**
 * * Calcul de l'inverse d'un nombre.
 *
 * Paramétrages possibles :
 * * 1 : inverse d'un nombre entier
 * * 2 : inverse d'une fraction
 * * 3 : inverse d'un nombre décimal
 * * 4 : mélange des trois autres niveaux
 * @auteur Jean-Claude Lhote
 * 4C22-1
 */
function Exercice_trouver_l_inverse() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Trouver l'inverse d'un nombre";
  this.consigne =
    "Calculer l'inverse et donner la réponse sous forme décimale ou de fraction simplifiée quand c'est impossible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    let liste_entiers = [
      [1, 1],
      [2, 0.5],
      [3, 0],
      [4, 0.25],
      [5, 0.2],
      [6, 0],
      [7, 0],
      [8, 0.125],
      [9, 0],
      [10, 0.1],
      [11, 0],
      [12, 0],
      [13, 0],
      [14, 0],
      [15, 0],
      [20, 0.05],
      [50, 0.02],
      [100, 0.01],
    ];
    // [n,0] si l'inverse de n n'est pas décimal [n,1/n] si il est décimal.
    let liste_decimaux = [
      [0.1, 10, 1],
      [0.2, 5, 1],
      [0.3, 10, 3],
      [0.4, 10, 4],
      [0.5, 2, 1],
      [0.6, 10, 6],
      [0.75, 100, 75],
      [0.8, 10, 8],
      [1.2, 10, 12],
      [1.5, 10, 15],
      [2.5, 10, 25],
      [3.5, 10, 35],
      [4.8, 10, 48],
      [7.5, 10, 75],
    ];
    // [x,n,d] n/d = inverse de x fraction à réduire si besoin ... d=1 si l'inverse de x est entier.
    let liste_fractions = [
      [3, 4, false],
      [5, 2, true],
      [4, 5, true],
      [5, 7, true],
      [7, 3, false],
      [16, 6, true],
      [12, 18, true],
      [9, 4, false],
      [4, 6, true],
      [8, 7, true],
      [5, 9, true],
      [9, 7, false],
      [13, 6, false],
      [7, 2, false],
    ];
    // [n,d,bol] inverse d/n à simplifier si besoin. si bol = true, alors d/n est décimal.
    let liste_couples_d_inverses;
    let couples_d_inverses;
    if (this.sup == 4) {
      type_de_questions_disponibles = [1, 1, 2, 2, 3];
    } // nombre entier,fraction,décimal]
    else {
      type_de_questions_disponibles = [parseInt(this.sup)];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        nombre_choisi,
        nombre_inverse,
        nombre_inverse_num,
        nombre_inverse_den,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: //inverse d'entier
          couples_d_inverses = choice(liste_entiers);
          nombre_choisi = couples_d_inverses[0];
          nombre_inverse = couples_d_inverses[1];
          if (choice([true, false])) {
            // nombre entier positif
            if (nombre_inverse != 0) {
              //inverse décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $${tex_nombrec(
                nombre_inverse
              )} \\:$ car $\\: ${nombre_choisi}   \\times   ${tex_nombrec(
                nombre_inverse
              )} =  1$.`;
            } else {
              //inverse non décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $${tex_fraction(
                1,
                nombre_choisi
              )} \\:$ car $\\: ${nombre_choisi}   \\times   ${tex_fraction(
                1,
                nombre_choisi
              )} =  1$.`;
            }
          } else {
            //nombre entier négatif
            nombre_choisi = -nombre_choisi;
            if (nombre_inverse != 0) {
              //inverse décimal
              texte_corr = `L'inverse de $${nombre_choisi}$ est $${tex_nombrec(
                -nombre_inverse
              )} \\:$`;
              texte_corr += ` car $\\: ${nombre_choisi}  \\times  \\left(-${tex_nombrec(
                nombre_inverse
              )}\\right)  =  1$.`;
            } else {
              //inverse non décimal
              texte_corr = `L\'inverse de $${nombre_choisi}$ est $-${tex_fraction(
                1,
                -nombre_choisi
              )} \\:$ car $\\: ${nombre_choisi}   \\times   \\left(-${tex_fraction(
                1,
                -nombre_choisi
              )}\\right) =  1$.`;
            }
          }
          texte = `Quel est l'inverse de $${tex_nombrec(nombre_choisi)}$ ?`;
          break;
        case 2:
          couples_d_inverses = choice(liste_decimaux);
          nombre_choisi = couples_d_inverses[0];
          nombre_inverse_num = couples_d_inverses[1];
          nombre_inverse_den = couples_d_inverses[2];
          if (choice([true, false])) {
            // nombre positif
            if (pgcd(nombre_inverse_num, nombre_inverse_den) == 1) {
              //non simplifiable après inversion
              texte_corr = `Comme $${tex_nombrec(nombre_choisi)}=${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}   \\times   ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} =  1$.`;
            } else {
              // à simplifier après inversion
              texte_corr = `Comme $${tex_nombrec(nombre_choisi)}=${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}  \\times   ${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} =  1$.`;
            }
          } else {
            // nombre négatif
            nombre_choisi = -nombre_choisi;
            if (pgcd(nombre_inverse_num, nombre_inverse_den) == 1) {
              //non simplifiable après inversion
              texte_corr = `L'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: ${tex_nombrec(
                nombre_choisi
              )}   \\times   \\left(-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}\\right) =  1$.`;
              texte_corr = `Comme $${tex_nombrec(
                nombre_choisi
              )}=-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}\\right) =  1$.`;
            } else {
              // à simplifier après inversion
              texte_corr = `Comme $${tex_nombrec(
                nombre_choisi
              )}=-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=-${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}$, l'inverse de $${tex_nombrec(
                nombre_choisi
              )}$ est $-${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\:$ car $\\: -${tex_fraction_reduite(
                nombre_inverse_den,
                nombre_inverse_num
              )}  \\times  \\left(- ${tex_fraction_reduite(
                nombre_inverse_num,
                nombre_inverse_den
              )} \\right)=  1$.`;
            }
          }
          texte = `Quel est l'inverse de $${tex_nombrec(nombre_choisi)}$ ?`;
          break;
        case 3:
          couples_d_inverses = choice(liste_fractions);
          nombre_inverse_num = couples_d_inverses[0];
          nombre_inverse_den = couples_d_inverses[1];
          if (choice([true, false])) {
            // fraction positive
            if (couples_d_inverses[2] == true) {
              // inverse décimal
              texte_corr = `L'inverse de $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=${tex_nombrec(
                nombre_inverse_den / nombre_inverse_num
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times   ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} =  1$.`;
            } else {
              // inverse non décimal
              texte_corr = `L'inverse de $${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\:$ car $\\: ${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times   ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} =  1$.`;
            }
            texte = `Quel est l'inverse de $${tex_fraction(
              nombre_inverse_num,
              nombre_inverse_den
            )}$ ?`;
          } else {
            // fraction négative
            if (couples_d_inverses[2] == true) {
              // inverse décimal
              texte_corr = `L'inverse de $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}=-${tex_nombrec(
                nombre_inverse_den / nombre_inverse_num
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )}\\right) =  1$.`;
            } else {
              // inverse non décimal
              texte_corr = `L'inverse de $-${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}$ est $-${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\:$ car $\\: -${tex_fraction(
                nombre_inverse_num,
                nombre_inverse_den
              )}   \\times  \\left(- ${tex_fraction(
                nombre_inverse_den,
                nombre_inverse_num
              )} \\right)=  1$.`;
            }
            texte = `Quel est l'inverse de $-${tex_fraction(
              nombre_inverse_num,
              nombre_inverse_den
            )}$ ?`;
          }

          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Nombres entiers\n 2 : Fractions\n 3 : Nombres décimaux\n 4 : Mélange des 3 niveaux",
  ];
}

/**
 * Exercice de calcul de produit de deux fractions.
 *
 * Paramétrages possibles :
 * * 1 : Produits de nombres positifs seulement
 * * 2 : deux questions niveau 1 puis deux questions niveau 3
 * * 3 : Produits de nombres relatifs
 * * Si décomposition cochée : les nombres utilisés sont plus importants.
 * @auteur Jean-Claude Lhote
 * 4C22
 */
function Exercice_multiplier_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Mutliplier des fractions";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;
  this.sup2 = false; //méthode
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    liste_fractions = obtenir_liste_fractions_irreductibles();

    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 2, 2, 2];
    } // 1*nombre entier,3*fraction (pas de négatifs)
    else if (this.sup == 2) {
      type_de_questions_disponibles = [2, 2, 3, 3];
    } // fractions, 2*positifs, 2*relatifs
    else {
      type_de_questions_disponibles = [3];
    }
    let nombre_de_signe_moins;
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        a,
        b,
        c,
        d,
        p,
        aa,
        bb,
        cc,
        dd,
        signe,
        numerateur,
        denominateur,
        index,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];
      if (this.sup2 == false) {
        // methode 1 : simplifications finale
        switch (type_de_questions) {
          case 1: // entier * fraction (tout positif)
            if (a == 1) {
              a = randint(2, 9);
            }
            if (a == c) {
              a = a + 1;
            }
            texte = `$${tex_fraction(a, 1)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, 1)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=\\dfrac{${a}}{1}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              "1\\times" + d
            )}$`;
            texte_corr += `$=${tex_fraction(a * c, d)}$`;
            if (pgcd(a * c, d) != 1) {
              texte_corr += `$=${tex_fraction_reduite(a * c, d)}$`;
            }
            break;

          case 2: // fraction * fraction tout positif
            p = pgcd(a * c, b * d);
            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              b + "\\times" + d
            )}$`;
            texte_corr += `$=${tex_fraction(a * c, b * d)}$`;
            if (p != 1) {
              texte_corr += `$=${tex_fraction(
                (a * c) / p + "\\times\\cancel{" + p + "}",
                (b * d) / p + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${tex_fraction((a * c) / p, (b * d) / p)}$`;
            }
            break;

          case 3:
            a = a * randint(-1, 1, [0]);
            b = b * randint(-1, 1, [0]);
            c = c * randint(-1, 1, [0]);
            d = d * randint(-1, 1, [0]);
            nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
            if (Math.pow(-1, nombre_de_signe_moins) == 1) {
              signe = "";
            } else {
              signe = "-";
            }

            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            aa = abs(a);
            bb = abs(b);
            cc = abs(c);
            dd = abs(d);
            p = pgcd(aa * cc, bb * dd);
            texte_corr += `$=${signe}${tex_fraction(
              aa,
              bb
            )}\\times${tex_fraction(cc, dd)}$`;
            texte_corr += `$=${signe}${tex_fraction(
              aa + "\\times" + cc,
              bb + "\\times" + dd
            )}$`;
            if (p == 1) {
              texte_corr += `$=${signe}${tex_fraction(aa * cc, bb * dd)}$`;
            } else {
              texte_corr += `$=${signe}${tex_fraction(aa * cc, bb * dd)}$`;
              if (aa * cc != bb * dd) {
                texte_corr += `$=${signe}${tex_fraction(
                  (aa * cc) / p + "\\times\\cancel{" + p + "}",
                  (bb * dd) / p + "\\times\\cancel{" + p + "}"
                )}$`;
                texte_corr += `$=${signe}${tex_fraction(
                  (aa * cc) / p,
                  (bb * dd) / p
                )}$`;
              } else {
                texte_corr += `$=${signe}1$`;
              }
            }
            break;
        }
      } else {
        //méthode 2 : décomposition
        if (a == c) {
          a++;
        }
        aa = obtenir_liste_nombres_premiers()[randint(1, 5)];
        bb = obtenir_liste_nombres_premiers()[randint(1, 5, [aa])];
        a = a * aa;
        d = d * aa;
        b = b * bb;
        c = c * bb;

        var listea = obtenir_liste_facteurs_premiers(a);
        var listeb = obtenir_liste_facteurs_premiers(b);
        var listec = obtenir_liste_facteurs_premiers(c);
        var listed = obtenir_liste_facteurs_premiers(d);
        var listeavf, listebvf;

        switch (type_de_questions) {
          case 1: // entier * fraction (tout positif)
            texte = `$${a}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${a}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(a + "\\times" + c, d)}$`;
            texte_corr += `$=${tex_fraction(
              decomposition_facteurs_premiers(a) +
                "\\times" +
                decomposition_facteurs_premiers(c),
              decomposition_facteurs_premiers(d)
            )}$`;
            // texte_corr += `$=${tex_fraction(decomposition_facteurs_premiers(a * c), decomposition_facteurs_premiers(d))}$`
            for (let k in listec) {
              listea.push(listec[k]);
            }
            listeb = listed;
            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${tex_fraction(a, b)}$`;
            break;

          case 2: // fraction * fraction tout positif
            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}=$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr += `$=${tex_fraction(
              a + "\\times" + c,
              b + "\\times" + d
            )}$`;

            for (let k in listec) {
              listea.push(listec[k]);
            }
            for (let k in listed) {
              listeb.push(listed[k]);
            }

            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${tex_fraction(a, b)}$`;
            break;

          case 3:
            a = a * randint(-1, 1, [0]);
            b = b * randint(-1, 1, [0]);
            c = c * randint(-1, 1, [0]);
            d = d * randint(-1, 1, [0]);
            nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
            if (Math.pow(-1, nombre_de_signe_moins) == 1) {
              signe = "";
            } else {
              signe = "-";
            }

            texte = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            texte_corr = `$${tex_fraction(a, b)}\\times${tex_fraction(c, d)}$`;
            aa = abs(a);
            bb = abs(b);
            cc = abs(c);
            dd = abs(d);

            texte_corr += `$=${signe}${tex_fraction(
              aa,
              bb
            )}\\times${tex_fraction(cc, dd)}$`;
            texte_corr += `$=${signe}${tex_fraction(
              aa + "\\times" + cc,
              bb + "\\times" + dd
            )}$`;

            for (let k in listec) {
              listea.push(listec[k]);
            }
            for (let k in listed) {
              listeb.push(listed[k]);
            }

            listeavf = [];
            listebvf = [];

            listea.forEach(function a_ajouter_dans_listeavf(element) {
              listeavf.push([element, true]);
            });
            listeb.forEach(function a_ajouter_dans_listebvf(element) {
              listebvf.push([element, true]);
            });

            for (index = 0; index < listeb.length; ) {
              for (let j = 0; j <= listea.length; ) {
                if (listeb[index] == listea[j]) {
                  listebvf[index] = [listeb[index], false];
                  listeavf[j] = [listea[j], false];
                  listea[j] = 1;
                  listeb[index] = 1;
                  break;
                }
                j++;
              }
              index++;
            }

            a = 1;
            b = 1;
            for (let k in listea) {
              a = a * listea[k];
            }
            for (let k in listeb) {
              b = b * listeb[k];
            }

            numerateur = "";
            denominateur = "";

            for (let j in listeavf) {
              if (listeavf[j][1] == true) {
                numerateur += listeavf[j][0] + "\\times";
              } else {
                numerateur += "\\cancel{" + listeavf[j][0] + "}\\times";
              }
            }
            numerateur = numerateur.substr(0, numerateur.length - 6);

            for (let j in listebvf) {
              if (listebvf[j][1] == true) {
                denominateur += listebvf[j][0] + "\\times";
              } else {
                denominateur += "\\cancel{" + listebvf[j][0] + "}\\times";
              }
            }
            denominateur = denominateur.substr(0, denominateur.length - 6);

            texte_corr += `$=${signe}\\dfrac{${numerateur}}{${denominateur}}$`;
            texte_corr += `$=${signe}${tex_fraction(a, b)}$`;
            break;
        }
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Fractions à numérateurs et dénominateurs positifs \n 2 : Type 1 et type 3 pour 50%/50%\n 3 : Ecritures fractionnaires à numérateur et dénominateur entiers relatifs",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec décomposition"];
}

/**
 * Calcul du quotient de deux fractions. Paramétrages possibles :
 * * 1 : Nombres positifs exclusivement
 * * 2 : nombres relatifs
 * @auteur Jean-Claude Lhote
 * 4C22-2
 */
function Exercice_diviser_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Diviser des fractions";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = obtenir_liste_fractions_irreductibles();

    let type_de_questions_disponibles;
    type_de_questions_disponibles = [parseInt(this.sup)];
    let nombre_de_signe_moins;
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        a,
        b,
        c,
        d,
        p,
        signe,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];

      p = pgcd(a * d, b * c);

      switch (type_de_questions) {
        //	case 0 : // entier * fraction (tout positif)
        //		texte=`$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=$`;
        //		if (pgcd(a*d,c)==1) {
        //			texte_corr= `$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=${tex_fraction(a,1)}\\times${tex_fraction(d,c)}=\\dfrac{${a}}{1}\\times${tex_fraction(d,c)}=${tex_fraction(a +'\\times'+d,'1\\times'+c)}=${tex_fraction(a*d,c)}$`
        //		}
        //		else {
        //			texte_corr= `$${tex_fraction(a,1)}\\div${tex_fraction(c,d)}=${tex_fraction(a,1)}\\times${tex_fraction(d,c)}=${tex_fraction(a*d,c)}=${tex_fraction_reduite(a*d,c)}$`
        //		}
        //		break
        //
        case 1: // fraction * fraction tout positif
          texte = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}=$`;
          if (p == 1) {
            texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(
              c,
              d
            )}=${tex_fraction(a, b)}\\times${tex_fraction(d, c)}=${tex_fraction(
              a + "\\times" + d,
              b + "\\times" + c
            )}=${tex_fraction(a * d, b * c)}$`;
          } else {
            texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(
              c,
              d
            )}=${tex_fraction(a, b)}\\times${tex_fraction(d, c)}=${tex_fraction(
              a + "\\times" + d,
              b + "\\times" + c
            )}=${tex_fraction(a * d, b * c)}=${tex_fraction(
              (a * d) / p + "\\times\\cancel{" + p + "}",
              (b * c) / p + "\\times\\cancel{" + p + "}"
            )}=${tex_fraction((a * d) / p, (b * c) / p)}$`;
          }
          break;

        case 2:
          a = a * randint(-1, 1, [0]);
          b = b * randint(-1, 1, [0]);
          c = c * randint(-1, 1, [0]);
          d = d * randint(-1, 1, [0]);
          nombre_de_signe_moins = (a < 0) + (b < 0) + (c < 0) + (d < 0);
          if (Math.pow(-1, nombre_de_signe_moins) == 1) {
            signe = "";
          } else {
            signe = "-";
          }
          texte = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}=$`;
          texte_corr = `$${tex_fraction(a, b)}\\div${tex_fraction(c, d)}$`;
          a = abs(a);
          b = abs(b);
          c = abs(c);
          d = abs(d);
          p = pgcd(a * d, b * c);
          texte_corr += `$=${signe}${tex_fraction(a, b)}\\times${tex_fraction(
            d,
            c
          )}$`;
          texte_corr += `$=${signe}${tex_fraction(
            a + "\\times" + ecriture_parenthese_si_negatif(d),
            b + "\\times" + ecriture_parenthese_si_negatif(c)
          )}$`;
          if (p == 1) {
            texte_corr += `$=${signe}${tex_fraction_signe(a * d, b * c)}$`;
          } else {
            texte_corr += `$=${signe}${tex_fraction(a * d, b * c)}$`;
            if (a * d != b * c) {
              texte_corr += `$=${signe}${tex_fraction(
                (a * d) / p + "\\times\\cancel{" + p + "}",
                (b * c) / p + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${signe}${tex_fraction(
                (a * d) / p,
                (b * c) / p
              )}$`;
            } else {
              texte_corr += `$=${signe}1$`;
            }
          }
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }

      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Fractions à numérateur et dénominateur positifs \n 2 : Fractions à numérateur et dénominateur relatifs",
  ];
}

/**
 * * Calcul fractionnaire : somme d'une fraction et du produit de deux autres fractions. Paramétrages possibles :
 * 1 : Calcul avec nombres positifs sans piège de priorité
 * * 2 : Calcul avec nombres positifs avec piège
 * * 3 : Calcul avec nombres relatifs
 * @auteur Jean-Claude Lhote
 * 4C23
 */
function Exercice_additionner_fraction_produit() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1; // Avec ou sans relatifs
  this.titre = "Fractions et priorités opératoires";
  this.consigne = "Calculer et donner le résultat sous forme irréductible";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles;
    liste_fractions = obtenir_liste_fractions_irreductibles();
    let nombre_de_signe_moins;
    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 1, 2, 2];
    } // 1*nombre entier,3*fraction (pas de négatifs)
    else if (this.sup == 2) {
      type_de_questions_disponibles = [2, 2, 3, 3];
    } // fractions, 2*positifs, 2*relatifs
    else {
      type_de_questions_disponibles = [3];
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0,
        ab,
        cd,
        ef,
        a,
        b,
        c,
        d,
        e,
        f,
        p,
        k1,
        k2,
        signe1,
        signe2,
        texte,
        texte_corr,
        type_de_questions,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      ab = choice(liste_fractions);
      cd = choice(liste_fractions);
      ef = choice(liste_fractions);
      a = ab[0];
      b = ab[1];
      c = cd[0];
      d = cd[1];
      e = ef[0];
      f = ef[1];

      switch (type_de_questions) {
        case 1: // sans piège fraction1 + fraction2 x fraction3 (tout positif)
          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          p = pgcd(c * e, d * f);
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c + "\\times" + e,
            d + "\\times" + f
          )}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c * e,
            d * f
          )}$`;
          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(b, d); // p = dénominateur commun
          k1 = p / b;
          k2 = p / d;
          if (k1 != 1) {
            texte_corr += `$=${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}$`;
          } else {
            texte_corr += `$=${tex_fraction(a, b)}$`;
          }
          if (k2 != 1) {
            texte_corr += `$+${tex_fraction(
              c + mise_en_evidence("\\times" + k2),
              d + mise_en_evidence("\\times" + k2)
            )}$`;
          } else {
            texte_corr += `$+${tex_fraction(c, d)}$`;
          }

          texte_corr += `$=${tex_fraction(a * k1, p)}+${tex_fraction(
            c * k2,
            p
          )}$`;
          e = a * k1 + c * k2;
          f = p;
          texte_corr += `$=${tex_fraction(e, f)}$`;
          p = pgcd(e, f);
          // faut-il simplifier e/f
          if (p != 1) {
            texte_corr += `$=${tex_fraction(
              e / p + "\\times\\cancel{" + p + "}",
              f / p + "\\times\\cancel{" + p + "}"
            )}$`;
            texte_corr += `$=${tex_fraction_reduite(e / p, f / p)}$`;
          }

          break;

        case 2: // avec piege addition non prioritaire fraction1 + fraction2 * fraction3 tout positif
          d = b;

          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          p = pgcd(c * e, d * f);
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c + "\\times" + e,
            d + "\\times" + f
          )}$`;
          texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
            c * e,
            d * f
          )}$`;

          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${tex_fraction(a, b)}+${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(b, d); //denominateur commun = p
          k1 = p / b;
          k2 = p / d;
          if (k1 != 1) {
            texte_corr += `$=${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}$`;
          } else {
            texte_corr += `$=${tex_fraction(a, b)}$`;
          }
          if (k2 != 1) {
            texte_corr += `$+${tex_fraction(
              c + "\\times" + k2,
              d + "\\times" + k2
            )}$`;
          } else {
            texte_corr += `$+${tex_fraction(c, d)}$`;
          }
          texte_corr += `$=${tex_fraction(a * k1, b * k1)}+${tex_fraction(
            c * k2,
            d * k2
          )}=${tex_fraction(a * k1 + c * k2, p)}$`;
          e = a * k1 + c * k2;
          f = p;
          texte_corr += `$=${tex_fraction(e, f)}$`;
          p = pgcd(e, f);
          // faut-il simplifier e/f
          if (p != 1) {
            texte_corr += `$=${tex_fraction(
              e / p + "\\times\\cancel{" + p + "}",
              f / p + "\\times\\cancel{" + p + "}"
            )}$`;
            texte_corr += `$=${tex_fraction_reduite(e / p, f / p)}$`;
          }

          break;

        case 3:
          a = a * randint(-1, 1, [0]);
          b = b * randint(-1, 1, [0]);
          c = c * randint(-1, 1, [0]);
          d = d * randint(-1, 1, [0]);
          e = e * randint(-1, 1, [0]);
          f = f * randint(-1, 1, [0]);

          nombre_de_signe_moins = (c < 0) + (d < 0) + (e < 0) + (f < 0);
          if (Math.pow(-1, nombre_de_signe_moins) == 1) {
            signe2 = "+";
          } else {
            signe2 = "-";
          }
          texte = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}=$`;
          texte_corr = `$${tex_fraction(a, b)}+${tex_fraction(
            c,
            d
          )}\\times${tex_fraction(e, f)}$`;

          c = abs(c); // gestion du signe du produit avec {signe}
          d = abs(d);
          e = abs(e);
          f = abs(f);

          if (a * b > 0) {
            //suppression des signes - superflus de la première fraction

            signe1 = "";
          } else {
            signe1 = "-";
          }

          a = abs(a);
          b = abs(b);

          texte_corr += `$=${signe1}${tex_fraction(
            a,
            b
          )}${signe2}${tex_fraction(c + "\\times" + e, d + "\\times" + f)}$`;
          texte_corr += `$=${signe1}${tex_fraction(
            a,
            b
          )}${signe2}${tex_fraction(c * e, d * f)}$`;

          p = pgcd(c * e, d * f);
          // faut-il simplifier c*e/d*f
          if (p != 1 && ppcm(b, d * f) > ppcm(b, (d * f) / p)) {
            texte_corr += `$=${signe1}${tex_fraction(
              a,
              b
            )}${signe2}${tex_fraction(
              (e * c) / p + "\\times\\cancel{" + p + "}",
              (f * d) / p + "\\times\\cancel{" + p + "}"
            )}$`;
            c = (e * c) / p;
            d = (f * d) / p;
          } else {
            c = e * c;
            d = f * d;
          }
          p = ppcm(d, b); // mise au même dénominateur
          if (d % b != 0 && b % d != 0) {
            // dénominateur commun = p
            k1 = p / b;
            k2 = p / d;
            texte_corr += `$=${signe1}${tex_fraction(
              a + mise_en_evidence("\\times" + k1),
              b + mise_en_evidence("\\times" + k1)
            )}${signe2}${tex_fraction(
              c + mise_en_evidence("\\times" + k2),
              d + mise_en_evidence("\\times" + k2)
            )}$`;
            texte_corr += `$=${signe1}${tex_fraction(
              a * k1,
              b * k1
            )}${signe2}${tex_fraction(c * k2, d * k2)}$`;
            texte_corr += `$=${tex_fraction(
              signe1 + a * k1 + signe2 + c * k2,
              b * k1
            )}$`;
            a = a * k1;
            c = c * k2;
            d = p;
          } else {
            if (p == d) {
              k1 = d / b; // d = dénominateur commun
              texte_corr += `$=${signe1}${tex_fraction(
                a + mise_en_evidence("\\times" + k1),
                b + mise_en_evidence("\\times" + k1)
              )}${signe2}${tex_fraction(c, d)}$`;
              texte_corr += `$=${signe1}${tex_fraction(
                a * k1,
                d
              )}${signe2}${tex_fraction(c, d)}$`;
              texte_corr += `$=${tex_fraction(
                signe1 + a * k1 + signe2 + c,
                d
              )}$`;
              a = a * k1;
            } else {
              // b=k2*d
              k2 = b / d; // b= dénominateur commun
              texte_corr += `$=${signe1}${tex_fraction(
                a,
                b
              )}${signe2}${tex_fraction(
                c + mise_en_evidence("\\times" + k2),
                d + mise_en_evidence("\\times" + k2)
              )}$`;
              texte_corr += `$=${signe1}${tex_fraction(
                a,
                b
              )}${signe2}${tex_fraction(c * k2, b)}$`;
              texte_corr += `$=${tex_fraction(
                signe1 + a + signe2 + c * k2,
                b
              )}$`;
              c = c * k2;
              d = d * k2;
            }
          }

          if (a != c) {
            e = 0;
            if (signe1 == "") {
              e = a;
            } else {
              e = -a;
            }
            if (signe2 == "+") {
              e += c;
            } else {
              e = e - c;
            }
          } else {
            if (
              (signe1 == "-" && signe2 == "+") ||
              (signe1 == "" && signe2 == "-")
            ) {
              e = 0;
            } else {
              e = 0;
              if (signe1 == "") {
                e = a + c;
              } else {
                e = -a - c;
              }
            }
          }

          texte_corr += `$=${tex_fraction_signe(e, d)}$`;
          p = pgcd(abs(e), d);
          if (p != 1) {
            f = d / p;
            e = e / p;
            if (e > 0) {
              // fraction positive => pas de signe
              texte_corr += `$=${tex_fraction(
                e + "\\times\\cancel{" + p + "}",
                f + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=${tex_fraction(e, f)}$`;
            } else {
              // numérateur négatif => signe - devant les fractions suivantes.
              texte_corr += `$=-${tex_fraction(
                -e + "\\times\\cancel{" + p + "}",
                f + "\\times\\cancel{" + p + "}"
              )}$`;
              texte_corr += `$=-${tex_fraction(-e, f)}$`;
            }
          }

          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : nombres positifs sans piège de priorité\n 2 : 2 calculs avec positifs et piège de priorité et 2 calculs avec relatifs\n 3 : calculs avec relatifs",
  ];
}

/**
 * Donner l'opposé d'une expression.
 *
 *
 * @Auteur Rémi Angot
 * 3L10
 */
function Oppose_expression() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Donner l'opposé d'une expression";
  this.consigne = "Développer et réduire les expressions suivantes.";
  this.spacing = 1;
  this.nb_questions = 6;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = ["-(ax+b)", "-(ax2+bx+c)"];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, c, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      c = randint(-11, 11, 0);
      a = randint(-9, 9, 0);
      b = randint(-9, 9, 0);
      switch (liste_type_de_questions[i]) {
        case "-(ax+b)":
          texte = `$${lettre_depuis_chiffre(i + 1)}=-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = texte;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${-a}*x+(${-b})`)}$`;
          break;
        case "-(ax2+bx+c)":
          texte = `$${lettre_depuis_chiffre(i + 1)}=-(${printlatex(
            `${a}x^2+(${b})x+(${c})`
          )})$`;
          texte_corr = texte;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${-a}x^2+(${-b})x+(${-c})`)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  // this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif']
}

/**
 * Développer et réduire des expressions avec des parenthèses précédées d'un signe + ou -
 *
 *
 * @Auteur Rémi Angot
 * 3L10-1
 */
function Parentheses_precedes_de_moins_ou_plus() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additionner ou soustraire une expression entre parenthèses";
  this.consigne = "Développer et réduire les expressions suivantes.";
  this.spacing = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = ["a-()", "a+()"];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, k, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      k = randint(-11, 11, 0);
      a = randint(-9, 9, 0);
      b = randint(-9, 9, 0);
      switch (liste_type_de_questions[i]) {
        case "a-()":
          // k-(ax+b)
          texte = `$${lettre_depuis_chiffre(i + 1)}=${k}-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = `$${lettre_depuis_chiffre(i + 1)}=${k}-(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${k}+(${-a}*x)+(${-b})`)}=${printlatex(
            `${-a}*x+(${k - b})`
          )}$`;
          break;
        case "a+()":
          // k-(ax+b)
          texte = `$${lettre_depuis_chiffre(i + 1)}=${k}+(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr = `$${lettre_depuis_chiffre(i + 1)}=${k}+(${printlatex(
            `${a}x+(${b})`
          )})$`;
          texte_corr += `<br>$\\phantom{${lettre_depuis_chiffre(
            i + 1
          )}}=${printlatex(`${k}+(${a}*x)+(${b})`)}=${printlatex(
            `${a}*x+(${k + b})`
          )}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  // this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif']
}

/**
 * Développer en utilisant la distributivité simple
 *
 * * La lettre peut être x, y, z, t, a, b ou c
 * * 3 fois sur 6 c'est une distributivité simple :  k(ax+b)
 * * 1 fois sur 6 c'est une distributivité simple : (ax+b)×k
 * * 1 fois sur 6, la variable est en facteur : kx(ax+b)
 * * 1 fois sur 6 il faut ensuite réduire : k(ax+b)+c
 *
 * Niveau de difficulté :
 * * 1 : Multiplication par un facteur positif
 * * 2: Multiplication par un facteur relatif
 * @Auteur Rémi Angot
 * 4L10 et 3L11
 */
function Exercice_developper(difficulte = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = difficulte;
  this.titre = "Utiliser la simple distributivité";
  this.consigne = "Développer.";
  this.spacing = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let lettre = ["x", "y", "z", "t", "a", "b", "c"];
    let type_de_questions_disponibles = [
      "simple",
      "simple",
      "simple2",
      "x_en_facteur",
      "developper_et_reduire",
    ];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      let k = randint(2, 11);
      if (this.sup > 1) {
        // si difficulté 2, k peut être négatif
        k = k * choice([-1, 1]);
      }
      let a = randint(1, 9);
      let b = randint(1, 9) * choice([-1, 1]);
      let inconnue = choice(lettre);
      switch (type_de_questions) {
        case "simple":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})=${k}
						\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})=${k}
						\\times ${a}${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          }
          break;
        case "simple2":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${a}${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}=${k}
						\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=(${a}${inconnue}${ecriture_algebrique(
              b
            )})\\times${ecriture_parenthese_si_negatif(k)}=${k}
						\\times ${a}${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b)}$`;
          }
          break;
        case "x_en_facteur":
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${inconnue}${ecriture_algebrique(b)})$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(b)})$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}${inconnue}(${inconnue}${ecriture_algebrique(
              b
            )})=${k}${inconnue}\\times ${inconnue} ${signe(
              k * b
            )}${k}${inconnue}\\times ${abs(b)}=${
              k * a
            }${inconnue}^2${ecriture_algebrique(k * b)}${inconnue}$`;
          } else {
            if (k > 0) {
              texte_corr = `$${lettre_depuis_chiffre(
                i + 1
              )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(
                b
              )})=${k}${inconnue}\\times ${a}${inconnue} + ${k}${inconnue}\\times ${ecriture_parenthese_si_negatif(
                b
              )}=${k * a}${inconnue}^2${ecriture_algebrique(
                k * b
              )}${inconnue}$`;
            } else {
              texte_corr = `$${lettre_depuis_chiffre(
                i + 1
              )}=${k}${inconnue}(${a}${inconnue}${ecriture_algebrique(
                b
              )})=${k}${inconnue}\\times ${a}${inconnue} + (${k}${inconnue})\\times ${ecriture_parenthese_si_negatif(
                b
              )}=${k * a}${inconnue}^2${ecriture_algebrique(
                k * b
              )}${inconnue}$`;
            }
          }
          break;
        case "developper_et_reduire":
          let c = randint(2, 9);
          if (a == 1) {
            // ne pas écrire 1x
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(b)})+${c}$`;
          } else {
            texte = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(b)})+${c}$`;
          }

          if (a == 1) {
            // ne pas écrire 1x
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${inconnue}${ecriture_algebrique(
              b
            )})+${c}=${k}\\times ${inconnue}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}+${c}
						=${k * a}${inconnue}${ecriture_algebrique(k * b)}+${c}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b + c)}$`;
          } else {
            texte_corr = `$${lettre_depuis_chiffre(
              i + 1
            )}=${k}(${a}${inconnue}${ecriture_algebrique(
              b
            )})+${c}=${k}\\times${ecriture_parenthese_si_moins(
              a + inconnue
            )}+${ecriture_parenthese_si_negatif(
              k
            )}\\times${ecriture_parenthese_si_negatif(b)}+${c}
						=${k * a}${inconnue}${ecriture_algebrique(k * b)}+${c}=${
              k * a
            }${inconnue}${ecriture_algebrique(k * b + c)}$`;
          }
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Multiplication par un facteur positif\n2: Multiplication par un facteur relatif",
  ];
}

/**
 * Équation du premier degré
 * * Type 1 : x+a=b ou ax=b
 * * Type 2 : ax+b=c
 * * Type 3 : ax+b=cx+d
 * * Tous les types
 * @Auteur Rémi Angot
 * 4L20 et 3L13
 */
function Exercice_equation1() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Équation du premier degré";
  this.consigne = "Résoudre les équations suivantes";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.correction_detaillee_disponible = true;
  if (!sortie_html) {
    this.correction_detaillee = false;
  }
  this.sup = true; // Avec des nombres relatifs
  this.sup2 = 4; // Choix du type d'équation
  this.nb_questions = 6;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    switch (this.sup2.toString()) {
      case "1":
        liste_type_de_questions = ["ax=b", "x+b=c"];
        break;
      case "2":
        liste_type_de_questions = ["ax+b=c"];
        break;
      case "3":
        liste_type_de_questions = ["ax+b=cx+d"];
        break;
      default:
        liste_type_de_questions = [
          "ax+b=0",
          "ax+b=c",
          "ax=b",
          "x+b=c",
          "ax+b=cx+d",
        ];
        break;
    }
    liste_type_de_questions = combinaison_listes(
      liste_type_de_questions,
      this.nb_questions
    );
    for (
      let i = 0, a, b, c, d, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      a = randint(2, 13);
      b = randint(1, 13);
      c = randint(1, 13);
      d = randint(1, 13);
      if (this.sup) {
        a *= choice([-1, 1]);
        b *= choice([-1, 1]);
        c *= choice([-1, 1]);
        d *= choice([-1, 1]);
      }
      if (
        liste_type_de_questions[i] == "ax+b=0" ||
        liste_type_de_questions[i] == "ax+b=c"
      ) {
        if (liste_type_de_questions[i] == "ax+b=0") {
          c = 0;
        }
        if (!this.sup && c < b) {
          b = randint(1, 9);
          c = randint(b, 15); // c sera plus grand que b pour que c-b>0
        }
        texte = `$${a}x${ecriture_algebrique(b)}=${c}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${a}x${ecriture_algebrique(b)}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${c}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$${a}x=${c - b}$<br>`;
        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a}$.<br>`;
        }
        texte_corr += `$${a}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a)
        )}=${
          c - b + mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(c - b, a)}$`;
        if (pgcd(abs(a), abs(c - b)) > 1 || a < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(c - b, a)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(
          c - b,
          a
        )}$.`;
      }
      if (liste_type_de_questions[i] == "x+b=c") {
        if (!this.sup && c < b) {
          b = randint(-9, 9, [0]); // b peut être négatif, ça sera une équation du type x-b=c
          c = abs(randint(b, 15)); // c sera plus grand que b pour que c-b>0
        }
        texte = `$x${ecriture_algebrique(b)}=${c}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$x${ecriture_algebrique(b)}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${c}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$x=${c - b}$`;
        texte_corr += `<br> La solution est $${c - b}$.`;
      }
      if (liste_type_de_questions[i] == "ax=b") {
        texte = `$${a}x=${b}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a}$.<br>`;
        }
        texte_corr += `$${a}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a)
        )}=${
          b + mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(b, a)}$`;
        if (pgcd(abs(a), abs(b)) > 1 || a < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(b, a)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(b, a)}$.`;
      }
      if (liste_type_de_questions[i] == "ax+b=cx+d") {
        if (c == a) {
          c = randint(1, 13, [a]);
        } // sinon on arrive à une division par 0
        if (!this.sup && a < c) {
          c = randint(1, 9);
          a = randint(c + 1, 15); // a sera plus grand que c pour que a-c>0
        }
        if (!this.sup && d < b) {
          b = randint(1, 9);
          d = randint(b + 1, 15); // d sera plus grand que b pour que d-b>0
        }
        texte = `$${rien_si_1(a)}x${ecriture_algebrique(b)}=${rien_si_1(
          c
        )}x${ecriture_algebrique(d)}$`;
        texte_corr = texte + "<br>";
        if (this.correction_detaillee) {
          if (c > 0) {
            texte_corr += `On soustrait $${rien_si_1(
              c
            )}x$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${rien_si_1(
              -1 * c
            )}x$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${rien_si_1(a)}x${ecriture_algebrique(
          b
        )}${mise_en_evidence(
          signe(-1 * c) + rien_si_1(abs(c)) + "x"
        )}=${c}x${ecriture_algebrique(d)}${mise_en_evidence(
          signe(-1 * c) + rien_si_1(abs(c)) + "x"
        )}$<br>`;
        texte_corr += `$${rien_si_1(a - c)}x${ecriture_algebrique(
          b
        )}=${d}$<br>`;
        if (this.correction_detaillee) {
          if (b > 0) {
            texte_corr += `On soustrait $${b}$ aux deux membres.<br>`;
          } else {
            texte_corr += `On ajoute $${-1 * b}$ aux deux membres.<br>`;
          }
        }
        texte_corr += `$${rien_si_1(a - c)}x${ecriture_algebrique(
          b
        )}${mise_en_evidence(
          ecriture_algebrique(-1 * b)
        )}=${d}${mise_en_evidence(ecriture_algebrique(-1 * b))}$<br>`;
        texte_corr += `$${rien_si_1(a - c)}x=${d - b}$<br>`;

        if (this.correction_detaillee) {
          texte_corr += `On divise les deux membres par $${a - c}$.<br>`;
        }
        texte_corr += `$${rien_si_1(a - c)}x${mise_en_evidence(
          "\\div" + ecriture_parenthese_si_negatif(a - c)
        )}=${
          d -
          b +
          mise_en_evidence("\\div" + ecriture_parenthese_si_negatif(a - c))
        }$<br>`;
        texte_corr += `$x=${tex_fraction(d - b, a - c)}$`;
        if (pgcd(abs(d - b), abs(a - c)) > 1 || a - c < 0) {
          texte_corr += `<br>$x=${tex_fraction_reduite(d - b, a - c)}$`;
        }
        texte_corr += `<br> La solution est $${tex_fraction_reduite(
          d - b,
          a - c
        )}$.`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte); //replace(/1x/g,'x')); //remplace 1x par x
        this.liste_corrections.push(texte_corr); //.replace(/1x/g,'x')); //remplace 1x par x
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_case_a_cocher = ["Avec des nombres relatifs"];
  this.besoin_formulaire2_numerique = [
    "Type d'équations",
    4,
    "1 : ax=b ou x+a=b ou x-a=b\n2: ax+b=c\n3: ax+b=cx+d\n4: Les 2 types précédents",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 3G20
 */
function Exercice_Thales() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer une longueur avec la propriété de Thales";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 1);
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.quatrieme = false;
  this.sup = 1; // 1 calcul direct | 2 calcul en deux étapes | 3 version 1&2 sans figure
  this.liste_packages = "tkz-euclide";
  // paramètres communs Html ou Latex

  // let s1='A',s2='B',s3='C',s4='M',s5='N'
  // coefficient de l'homothétie compris entre -0,8 et -0,2 ou entre 0,2 et 0,8 pour éviter les constructions trop serrées
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = [];
    this.liste_corrections = [];
    let lettre1 = randint(1, 26); // aleatoirisation du nom des points
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(1, 26, [lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let lettre3 = randint(1, 26, [lettre1, lettre2]);
    let s3 = lettre_depuis_chiffre(lettre3);
    let lettre4 = randint(1, 26, [lettre1, lettre2, lettre3]);
    let s4 = lettre_depuis_chiffre(lettre4);
    let lettre5 = randint(1, 26, [lettre1, lettre2, lettre3, lettre4]);
    let s5 = lettre_depuis_chiffre(lettre5);
    let x2 = randint(2, 4);
    let y2 = randint(3, 5);
    let x3 = randint(5, 6);
    let y3 = randint(-2, 1);
    let k = (randint(2, 8) * randint(-1, 1, [0])) / 10;
    if (this.quatrieme) {
      k = abs(k);
    }
    let dist23 = arrondi(Math.sqrt((x3 - x2) ** 2 + (y3 - y2) ** 2), 1); //calcul des longueurs du triangle principal
    let dist12 = arrondi(Math.sqrt(x2 ** 2 + y2 ** 2), 1);
    let dist13 = arrondi(Math.sqrt(x3 ** 2 + y3 ** 2), 1);
    let dist15 = arrondi(dist13 * abs(k), 2);
    let dist45 = arrondi(dist23 * abs(k), 2);
    let dist35, texte, texte_corr;
    let dist14 = arrondi(dist12 * abs(k), 2); // calcul des longueurs demandées à partir

    // On ne garde qu'une approximation au dixième pour l'exercice

    let s45 = tex_nombrec(dist45); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s13 = tex_nombrec(dist13);
    let s12 = tex_nombrec(dist12);
    let s15 = tex_nombrec(dist15);
    let s14 = tex_nombrec(dist14);
    let s23 = tex_nombrec(dist23);
    if (k < 0) {
      dist35 = dist13 + dist15;
    } else {
      dist35 = dist13 - dist15;
    } // calcul de la longueur intermédiaire dans un cas classique ou en papillon
    let s35 = tex_nombrec(dist35); // à priori, c'est déjà arrondi au dixième, mais je me méfie des calculs flottants en js
    let niv_diff = randint(1, 2);
    if (sortie_html) {
      this.type_exercice = "MG32";
      this.taille_div_MG32 = [700, 500];
      let codeBase64;

      if (k < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwBANgAAAAAAAEAzAAAAAAAABwABQHYBR64UeuFAcdwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAQAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAQAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAQtMC41AAAAEgAAAAE#4AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABgAAlonAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAATAP####8AAAAAABgAAkInAMAwAAAAAAAAwEOAAAAAAAAHAAAAAAoAAAAOAAAADwAAAA4AAAAQAAAAEwD#####AAAAAAAYAAJDJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAABEAAAAOAAAAEgAAAAwA#####wAAABQAAAAOAAAAEwAAAA8A#####wAAAAAAGAACTScAwCQAAAAAAADAAAAAAAAAAAcAAAAAFQAAABcAAAAPAP####8AAAAAABgAAk4nAMAzAAAAAAAAwEMAAAAAAAAHAAAAABYAAAAX#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABYAAAAVAAAAFAAAABYAAAAUAP####8AAAAAAAIAAAAEAAAAGQAAABQAAAAYAAAAGf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAAD#AAAABQAAABsAAAAVAP####8B#wAAAAAABQAAABr#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####EECIoKPXCj1xQELhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZBcHBBTU4AAAAAAAEAAAAcAAAAABYA#####wD#AAAB#####xBAiLCj1wo9cUBUMKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQUJDAAAAAAABAAAAHQD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####xBAi+Cj1wo9cUBE4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHTWFzcUFNTgAAAAAAAQAAABwAAAAXAP####8A#wAAAf####8QQIvoo9cKPXFAVPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBQkMAAAAAAAEAAAAd#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQIj4o9cKPXFAX3Cj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAB#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8A#wAAAf####8QQFHFHrhR64VAePwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDEAAAAAAAMAAAAfAAAAIgAAACEAAAAZAP####8A#wAAAf####8QQFFFHrhR64VAe3wo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDIAAAAAAAMAAAAeAAAAIgAAACAAAAAO##########8=";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwDAKAAAAAAAAEAiAAAAAAAABwABQHMxR64UeuFAcbwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAOAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAAA4AAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAOAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAMwLjUAAAABP+AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAYAAJaJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AAAAAAAYAAJCJwDAMAAAAAAAAMBDgAAAAAAABwAAAAAKAAAADgAAAA8AAAAOAAAAEAAAABMA#####wAAAAAAGAACQycAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAA4AAAARAAAADgAAABIAAAAMAP####8AAAAUAAAADgAAABMAAAAPAP####8AAAAAABgAAk0nAMA7AAAAAAAAwDcAAAAAAAAHAAAAABUAAAAXAAAADwD#####AAAAAAAYAAJOJwDAKAAAAAAAAEAAAAAAAAAABwAAAAAWAAAAF#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAgAAAAQAAAAWAAAAFQAAABQAAAAWAAAAFAD#####AAAAAAACAAAABAAAABkAAAAUAAAAGAAAABn#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQAA#wAAAAUAAAAbAAAAFQD#####Af8AAAAAAAUAAAAa#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAiKCj1wo9cUBC4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQU1OAAAAAAABAAAAHAAAAAAWAP####8A#wAAAf####8QQIiwo9cKPXFAVDCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABkFwcEFCQwAAAAAAAQAAAB0A#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8A#wAAAf####8QQIvgo9cKPXFAROFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBTU4AAAAAAAEAAAAcAAAAFwD#####AP8AAAH#####EECL6KPXCj1xQFTwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdNYXNxQUJDAAAAAAABAAAAHf####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECI+KPXCj1xQF9wo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####EEBRxR64UeuFQHj8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAxAAAAAAADAAAAHwAAACIAAAAhAAAAGQD#####AP8AAAH#####EEBRRR64UeuFQHt8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAyAAAAAAADAAAAHgAAACIAAAAgAAAADv##########";
      }
      if (this.sup == 1) {
        // calcul direct de AM et BC : pas de calcul intermédiaire de AN
        texte = `Dans la figure ci-dessous, les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            "Les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.";
          texte_corr += `<br>Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
          texte_corr +=
            "<br>D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}$` +
            "<br>";
        }
      } else if (this.sup == 2) {
        // Calcul de AN nécessaire avant de calculer AM et BC
        texte = `Dans la figure ci-dessous, les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s5 + s3}=${s35}$ cm.`;
        texte += `<br>Le point $${s1}$ peut être déplacé.<br>`;
        texte += `Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>` +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        }
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
        }
      } else if (randint(1, 2) == 1) {
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ tel que les droites $(${
          s4 + s5
        })$ et $(${s2 + s3})$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s1 + s5}=${s15}$ cm.`;
        texte += `<br>Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          "Dans le triangle " +
          `$${s1 + s2 + s3}$` +
          ", les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>" +
          " D&rsquo;après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
          "<br>";
      } else {
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
        texte += `<br>Les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et $${s5 + s3}=${s35}$ cm.`;
        texte += `<br>Calculer $${s1 + s4}$ et $${s2 + s3}$.`;
        if (k > 0) {
          texte_corr =
            "Dans le triangle " +
            `$${s1 + s2 + s3}$` +
            ", les droites " +
            `$(${s4 + s5})$` +
            " et " +
            `$(${s2 + s3})$` +
            " sont parallèles.<br>" +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>` +
            " D&rsquo;après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>";
        }
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
        }
      }
      texte_corr += "Avec les données numériques :<br>";
      texte_corr +=
        `$${tex_fraction(s1 + s4, s12)}=${tex_fraction(
          s15,
          s13
        )}=${tex_fraction(s45, s2 + s3)}$` + "<br>";
      texte_corr +=
        `Soit $${s1 + s4}=` +
        quatrieme_proportionnelle(dist13, dist15, dist12, 1) +
        "$ cm";
      texte_corr +=
        ` et $${s2 + s3}=` +
        quatrieme_proportionnelle(dist15, dist13, dist45, 1) +
        "$ cm.";

      if (this.sup < 3) {
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x3", "${x3}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y2", "${y2}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y3", "${y3}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "k", "${k}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A'","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B'","${s2}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C'","${s3}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","M'","${s4}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","N'","${s5}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
        texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s1} peut être déplacé (si la figure est tronquée).}}$<br>`;
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (this.sup < 3) {
        liste_de_question_to_contenu(this);
      } else {
        this.type_exercice = "";
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      // sortie Latex
      texte =
        "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
      texte += `\n\t\\item Les droites $(${s4 + s5})$ et $(${
        s2 + s3
      })$ sont parallèles.`;
      if (this.sup == 1) {
        //niveau 1 : Calcul direct quatrième proportionnelle

        // enoncé  niveau 1

        texte += "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s3 + " = " + s13 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s4 + s5 + " = " + s45 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s5 + " = " + s15 + "~\\text{cm}."}$`;
        texte +=
          "\\end{itemize} \\bigskip  Calculer " +
          `$${s1 + s4}$` +
          " et " +
          `$${s2 + s3}$` +
          " à 0,1 près. \\end{minipage}";
      } else if (this.sup == 2) {
        // niveau 2 : Calcul intermédiaire nécessaire

        // enoncé  niveau 2

        texte += "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s1 + s3 + " = " + s13 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s4 + s5 + " = " + s45 + "~\\text{cm}~;"}$`;
        texte += "\n\t\\item " + `$${s3 + s5 + " = " + s35 + "~\\text{cm}."}$`;
        texte +=
          "\\end{itemize} \\bigskip  Calculer " +
          `$${s1 + s4}$` +
          " et " +
          `$${s2 + s3}$` +
          " à 0,1 près. \\end{minipage}";
      } // énoncé sans figure
      else if (k > 0) {
        texte =
          `$${s1}$, $${s2}$ et $${s3}$` +
          " sont trois point distincts.<br>\n" +
          `$${s4} \\in [${s1 + s2}]$` +
          " et " +
          `$${s5} \\in [${s1 + s3}]$` +
          " tel que les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>\n";
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s4 + s5
        }=${s45}$ cm et `;
        if (niv_diff == 1) {
          texte += `$${s1 + s5}=${s15}$ cm.`;
        } else {
          texte += `$${s3 + s5}=${s35}$ cm.`;
        }
        texte += `<br>\nCalculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          "Dans le triangle " +
          `$${s1 + s2 + s3}$` +
          ", les droites " +
          `$(${s4 + s5})$` +
          " et " +
          `$(${s2 + s3})$` +
          " sont parallèles.<br>\n" +
          " D'après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$`;
        if (niv_diff == 2) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            "~;cm.";
        }
      } else {
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.`;
        texte += `<br>\nLes droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br>\n $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s4 + s5}=${s45}$ cm et `;
        if (niv_diff == 1) {
          texte += `$${s1 + s5}=${s15}$ cm.`;
        } else {
          texte += `$${s3 + s5}=${s35}$ cm.`;
        }
        texte += `<br>\nCalculer $${s1 + s4}$ et $${s2 + s3}$.`;
        texte_corr =
          `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre et les droites $(${
            s4 + s5
          })$ et $(${s2 + s3})$ sont parallèles.<br>\n` +
          " D'après la propriété de Thales, on a " +
          `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
            s1 + s5,
            s1 + s3
          )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
          "<br>\n";
        if (niv_diff == 2) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s5 + s3}=${s13}-${s35}=${s15}$` +
            " cm.";
        }
      }
      if (this.sup < 3) {
        // on ne fait la figure que si niveau < 3
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" +
          s1 +
          "," +
          x3 +
          "/" +
          y3 +
          "/" +
          s3 +
          "," +
          x2 +
          "/" +
          y2 +
          "/" +
          s2 +
          "}"; // Placer les points du triangle principal
        texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s2 + "," + s3 + ")"; // Trace le triangle principal
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s2 +
          ")" +
          "\t\\tkzGetPoint{" +
          s4 +
          "}"; // Place le premier point du triangle image
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s3 +
          ")" +
          "\t\\tkzGetPoint{" +
          s5 +
          "}"; // Place le deuxième point du triangle image
        texte += "\n\t \\tkzDrawSegment(" + s4 + "," + s5 + ")"; // Trace le segment
        if (k > 0) {
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above left](" + s2 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s5 + ")"; //nomme les points
          // Nomme les points au dessus avec above, dessous avec below...
        } else {
          // position papillon -> position du nom inversée et nécessité de tracer le triangle secondaire
          texte += "\n\t \\tkzLabelPoints[below](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above](" + s2 + "," + s5 + ")"; //nomme les points
          texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s4 + "," + s5 + ")"; // Trace le triangle secondaire
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      if (this.sup == 2) {
        //niveau 2 : Calcul intermédiaire nécessaire
        texte_corr = `Les droites $(${s4 + s5})$ et $(${
          s2 + s3
        })$ sont parallèles.<br>\n\t D\'après la propriété de Thales, on a $${tex_fraction(
          s1 + s4,
          s1 + s2
        )}=${tex_fraction(s1 + s5, s1 + s3)}=${tex_fraction(
          s4 + s5,
          s2 + s3
        )}.$<br>\n\t`;
        if (k > 0) {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${
              s5 + s3
            }=${s13}-${s35}=${s15}~\\text{cm}.$`;
        } else {
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${
              s1 + s3
            }=${s35}-${s13}=${s15}~\\text{cm}.$`;
        }
      } else if (this.sup == 1) {
        if (k > 0) {
          texte_corr = `Dans le triangle $${s1 + s2 + s3}$, les droites $(${
            s4 + s5
          })$ et $(${
            s2 + s3
          })$ sont parallèles.<br>\n D\'après la propriété de Thales, on a $${tex_fraction(
            s1 + s4,
            s1 + s2
          )}=${tex_fraction(s1 + s5, s1 + s3)}=${tex_fraction(
            s4 + s5,
            s2 + s3
          )}.$`;
        } else {
          texte_corr =
            `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés et les droites $(${
              s4 + s5
            })$ et $(${s2 + s3})$ sont parallèles.<br>\n` +
            " D'après la propriété de Thales, on a " +
            `$${tex_fraction(s1 + s4, s1 + s2)}=${tex_fraction(
              s1 + s5,
              s1 + s3
            )}=${tex_fraction(s4 + s5, s2 + s3)}.$` +
            "<br>\n";
        }
      }
      texte_corr += `<br>\n On a donc $${tex_fraction(
        s1 + s4,
        s12
      )}=${tex_fraction(s15, s13)}=${tex_fraction(s45, s2 + s3)}$`;
      texte_corr += `<br>\n Soit $${s1 + s4}=${tex_fraction(
        s15 + "\\times" + s12,
        s13
      )}\\approx${s14}~\\text{cm}$.`;
      texte_corr += `<br>\n Et $${s2 + s3}=${tex_fraction(
        s13 + "\\times" + s45,
        s15
      )}\\approx${s23}~\\text{cm}$.`;

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);
    }
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Calcul direct de deux longueurs \n 2 : Avec calcul intermédiaire\n 3 : Sans figure",
  ];
}
/**
 * Reciproque_Thales
 * @Auteur Jean-Claude Lhote
 * 3G21
 */
function Reciproque_Thales() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Contrôler si deux droites sont parallèles";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 1);
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.quatrieme = false;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  // let s1='A',s2='B',s3='C',s4='M',s5='N'
  // coefficient de l'homothétie compris entre -0,8 et -0,2 ou entre 0,2 et 0,8 pour éviter les constructions trop serrées
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = [];
    this.liste_corrections = [];
    let lettre1 = randint(1, 26); // aleatoirisation du nom des points
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(1, 26, [lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let lettre3 = randint(1, 26, [lettre1, lettre2]);
    let s3 = lettre_depuis_chiffre(lettre3);
    let lettre4 = randint(1, 26, [lettre1, lettre2, lettre3]);
    let s4 = lettre_depuis_chiffre(lettre4);
    let lettre5 = randint(1, 26, [lettre1, lettre2, lettre3, lettre4]);
    let s5 = lettre_depuis_chiffre(lettre5);
    let x2 = randint(2, 4);
    let y2 = randint(3, 5);
    let x3 = randint(5, 6);
    let y3 = randint(-2, 1);
    let k = (randint(2, 8) * randint(-1, 1, [0])) / 10;
    let k2 = k * (1 + randint(0, 1) * 0.1);
    if (this.quatrieme) {
      k = abs(k);
      k2 = abs(k2);
    }
    let dist24;
    let dist12 = arrondi(Math.sqrt(x2 * x2 + y2 * y2), 1);
    let dist13 = arrondi(Math.sqrt(x3 * x3 + y3 * y3), 1);
    while (dist12 == dist13) {
      //éviter les triangles isocèles imbriqués qui ne nécéssitent aucun calculs.
      x2 = randint(2, 4);
      y2 = randint(3, 5);
      x3 = randint(5, 6);
      y3 = randint(-2, 1);
      dist12 = arrondi(Math.sqrt(x2 * x2 + y2 * y2), 1);
      dist13 = arrondi(Math.sqrt(x3 * x3 + y3 * y3), 1);
    }
    let dist15 = arrondi(dist13 * abs(k), 2);
    let dist14 = arrondi(dist12 * abs(k2), 2);
    let dist35;

    let num1, num2, den1, den2;
    if (k < 0) {
      dist35 = dist13 + dist15;
      dist24 = dist12 + dist14;
    } else {
      dist35 = dist13 - dist15;
      dist24 = dist12 - dist14;
    }

    let texte, texte_corr;
    // On ne garde qu'une approximation au dixième pour l'exercice

    // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s13 = tex_nombrec(dist13);
    let s12 = tex_nombrec(dist12);
    let s15 = tex_nombrec(dist15);
    let s14 = tex_nombrec(dist14);
    let s24 = tex_nombrec(dist24);
    let s35 = tex_nombrec(dist35);
    num1 = arrondi(dist12 * 100);
    den1 = arrondi(dist14 * 100);
    num2 = arrondi(dist13 * 100);
    den2 = arrondi(dist15 * 100);
    let fraction1 = [],
      fraction2 = [];
    fraction1 = fraction_simplifiee(num1, den1);
    fraction2 = fraction_simplifiee(num2, den2);

    if (sortie_html) {
      this.type_exercice = "MG32";
      this.taille_div_MG32 = [700, 500];
      let codeBase64;

      if (k < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwBANgAAAAAAAEAzAAAAAAAABwABQHYBR64UeuFAcdwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAQAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAQAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAQtMC41AAAAEgAAAAE#4AAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABgAAlonAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAATAP####8AAAAAABgAAkInAMAwAAAAAAAAwEOAAAAAAAAHAAAAAAoAAAAOAAAADwAAAA4AAAAQAAAAEwD#####AAAAAAAYAAJDJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAABEAAAAOAAAAEgAAAAwA#####wAAABQAAAAOAAAAEwAAAA8A#####wAAAAAAGAACTScAwCQAAAAAAADAAAAAAAAAAAcAAAAAFQAAABcAAAAPAP####8AAAAAABgAAk4nAMAzAAAAAAAAwEMAAAAAAAAHAAAAABYAAAAX#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABYAAAAVAAAAFAAAABYAAAAUAP####8AAAAAAAIAAAAEAAAAGQAAABQAAAAYAAAAGf####8AAAABABBDU3VyZmFjZVBvbHlnb25lAP####8BAAD#AAAABQAAABsAAAAVAP####8B#wAAAAAABQAAABr#####AAAAAQAQQ01hY3JvQXBwYXJpdGlvbgD#####AP8AAAH#####EECIoKPXCj1xQELhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZBcHBBTU4AAAAAAAEAAAAcAAAAABYA#####wD#AAAB#####xBAiLCj1wo9cUBUMKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQUJDAAAAAAABAAAAHQD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wD#AAAB#####xBAi+Cj1wo9cUBE4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAHTWFzcUFNTgAAAAAAAQAAABwAAAAXAP####8A#wAAAf####8QQIvoo9cKPXFAVPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBQkMAAAAAAAEAAAAd#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQIj4o9cKPXFAX3Cj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAAB#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8A#wAAAf####8QQFHFHrhR64VAePwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDEAAAAAAAMAAAAfAAAAIgAAACEAAAAZAP####8A#wAAAf####8QQFFFHrhR64VAe3wo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAClRyaWFuZ2xlIDIAAAAAAAMAAAAeAAAAIgAAACAAAAAO##########8=";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAJBJwDAKAAAAAAAAEAiAAAAAAAABwABQHMxR64UeuFAcbwo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AQAAAAAOAAABAAEAAAABAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAQAAJJJwDAGAAAAAAAAAAAAAAAAAAABQABQEerQ5WBBiUAAAAC#####wAAAAEACUNEcm9pdGVBQgD#####AQAAAAASAAABAAEAAAABAAAAA#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAAA4AAAEAAQAAAAEAAAAE#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAAQAAAAP#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQD#####AAAABQAAAAb#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAD#####AQAAAAAOAAABBQABAAAABwAAAAkA#####wEAAAAAEAACSicAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAASAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MgABMgAAAAFAAAAAAAAAAAAAABEA#####wACeTIAATUAAAABQBQAAAAAAAAAAAARAP####8AAngzAAE2AAAAAUAYAAAAAAAAAAAAEQD#####AAJ5MwACLTH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAEQD#####AAFrAAMwLjUAAAABP+AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAYAAJaJwAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AAAAAAAYAAJCJwDAMAAAAAAAAMBDgAAAAAAABwAAAAAKAAAADgAAAA8AAAAOAAAAEAAAABMA#####wAAAAAAGAACQycAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAA4AAAARAAAADgAAABIAAAAMAP####8AAAAUAAAADgAAABMAAAAPAP####8AAAAAABgAAk0nAMA7AAAAAAAAwDcAAAAAAAAHAAAAABUAAAAXAAAADwD#####AAAAAAAYAAJOJwDAKAAAAAAAAEAAAAAAAAAABwAAAAAWAAAAF#####8AAAABAAlDUG9seWdvbmUA#####wAAAAAAAgAAAAQAAAAWAAAAFQAAABQAAAAWAAAAFAD#####AAAAAAACAAAABAAAABkAAAAUAAAAGAAAABn#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQAA#wAAAAUAAAAbAAAAFQD#####Af8AAAAAAAUAAAAa#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAiKCj1wo9cUBC4UeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQXBwQU1OAAAAAAABAAAAHAAAAAAWAP####8A#wAAAf####8QQIiwo9cKPXFAVDCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAABkFwcEFCQwAAAAAAAQAAAB0A#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8A#wAAAf####8QQIvgo9cKPXFAROFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB01hc3FBTU4AAAAAAAEAAAAcAAAAFwD#####AP8AAAH#####EECL6KPXCj1xQFTwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAdNYXNxQUJDAAAAAAABAAAAHf####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECI+KPXCj1xQF9wo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AP8AAAH#####EEBRxR64UeuFQHj8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAxAAAAAAADAAAAHwAAACIAAAAhAAAAGQD#####AP8AAAH#####EEBRRR64UeuFQHt8KPXCj1wCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApUcmlhbmdsZSAyAAAAAAADAAAAHgAAACIAAAAgAAAADv##########";
      }

      if (this.sup == 1) {
        // AM,AB,AN,AC sont donnés pas de calculs intermédiaires
        texte = `Dans la figure ci-dessous, $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s5}=${s15}$ cm et $${s1 + s4}=${s14}$ cm.<br>`;
        texte_corr = ``;
      } else if (this.sup == 2) {
        // AN n'est pas donné, il faut le calculer avant.
        texte = `Dans la figure ci-dessous, $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s3 + s5}=${s35}$ cm et $${s2 + s4}=${s24}$ cm.<br>`;
        texte_corr = ``;
        if (k > 0) {
          //triangles imbriqués
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s3 + s5}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s1 + s2}-${s2 + s4}=${s12}-${s24}=${s14}$` +
            " cm.<br>";
        } else {
          // papillon
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s2 + s4}-${s1 + s2}=${s24}-${s12}=${s14}$` +
            " cm.<br>";
        }
      } else if (randint(1, 2) == 1) {
        //triangles imbriqués sans figure
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ <br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s4}=${s14}$ cm et $${s1 + s5}=${s15}$ cm.`;
        texte_corr = ``;
      } else {
        // papillon sans figure
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.<br>`;
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s1 + s4
        }=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte_corr = ``;
      }
      texte += `Les droites $(${s2 + s3})$ et $(${
        s4 + s5
      })$ sont-elles parallèles ?<br>`;

      texte_corr += `D'une part on a $\\dfrac{${s1 + s2}}{${
        s1 + s4
      }}=\\dfrac{${s12}}{${s14}}=\\dfrac{${s12}\\times${mise_en_evidence(
        s15
      )}}{${s14}\\times${mise_en_evidence(s15)}}=${tex_fraction(
        tex_nombrec(arrondi(dist12 * dist15, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;
      texte_corr += `<br>D'autre part on a $\\dfrac{${s1 + s3}}{${
        s1 + s5
      }}=\\dfrac{${s13}}{${s15}}=\\dfrac{${s13}\\times${mise_en_evidence(
        s14
      )}}{${s15}\\times${mise_en_evidence(s14)}}=${tex_fraction(
        tex_nombrec(arrondi(dist13 * dist14, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;

      if (k != k2) {
        // droites non parallèles

        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}\\not=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`;
        texte_corr += `Donc d'après le théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ ne sont pas parallèles.<br>`;
      } else {
        // droites parallèles
        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`; //car les produits en croix sont égaux : $${s12}\\times${s15}=${s13}\\times${s14}=${tex_nombre(arrondi(dist12*dist15,3))}$.<br>`;
        if (k > 0)
          texte_corr += `$${s1}$,$${s4}$,$${s2}$ et $${s1}$,$${s5}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        else
          texte_corr += `$${s4}$,$${s1}$,$${s2}$ et $${s5}$,$${s1}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        texte_corr += `Donc d'après la réciproque du théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ sont parallèles.<br>`;
      }

      if (this.sup < 3) {
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x3", "${x3}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y2", "${y2}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "y3", "${y3}");
					mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "k", "${k}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","A'","${s1}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","B'","${s2}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","C'","${s3}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","M'","${s4}");
					mtg32App.rename("MG32svg${numero_de_l_exercice}","N'","${s5}");
					mtg32App.calculate("MG32svg${numero_de_l_exercice}");
					mtg32App.display("MG32svg${numero_de_l_exercice}");
					`;
        texte += `$\\footnotesize{\\textit{Le point \\thickspace ${s1} peut être déplacé (si la figure est tronquée).}}$<br>`;
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (this.sup < 3) {
        liste_de_question_to_contenu(this);
      } else {
        this.type_exercice = "";
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      // sortie Latex
      texte_corr = ``;
      if (this.sup == 1) {
        //niveau 1 : Calcul direct
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte += `\n\t \\item ${s1 + s2}=${s12} cm \n\t \\item ${
          s1 + s3
        }=${s13} cm\n\t \\item ${s1 + s5}=${s15} cm\n\t \\item ${
          s1 + s4
        }=${s14} cm.<br>`;
        texte +=
          `\\end{itemize}  ` +
          `Les droites (${s2 + s3}) et (${
            s4 + s5
          }) sont-elles parallèles ?<br>` +
          ". \\end{minipage}";
      } else if (this.sup == 2) {
        // niveau 2 : Calcul intermédiaire nécessaire
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte += `\n\t \\item ${s1 + s2} = ${s12} cm\n\t \\item ${
          s1 + s3
        } = ${s13} cm\n\t \\item ${s3 + s5} = ${s35} cm\n\t \\item ${
          s2 + s4
        } = ${s24} cm.<br>`;
        texte +=
          "\\end{itemize}  " +
          `Les droites (${s2 + s3}) et (${
            s4 + s5
          }) sont-elles parallèles ?<br>` +
          ". \\end{minipage}";
        if (k > 0) {
          // triangles imbriqués
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s1 + s3}-${s3 + s5}=${s13}-${s35}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s1 + s2}-${s2 + s4}=${s12}-${s24}=${s14}$` +
            " cm.<br>";
        } else {
          // papillon
          texte_corr +=
            "On sait que " +
            `$${s1 + s5}=${s3 + s5}-${s1 + s3}=${s35}-${s13}=${s15}$` +
            " cm.<br>";
          texte_corr +=
            "et que " +
            `$${s1 + s4}=${s2 + s4}-${s1 + s2}=${s24}-${s12}=${s14}$` +
            " cm.<br>";
        }
      }
      // énoncé sans figure
      else if (randint(1, 2) == 1) {
        // triangles imbriqués
        texte = `$${s1}$, $${s2}$ et $${s3}$ sont trois point distincts. $${s4} \\in [${
          s1 + s2
        }]$ et $${s5} \\in [${s1 + s3}]$ <br> $${s1 + s2}=${s12}$ cm, $${
          s1 + s3
        }=${s13}$ cm, $${s1 + s4}=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Les droites (${s2 + s3}) et (${
          s4 + s5
        }) sont-elles parallèles ?<br>`;
      } else {
        // papillon
        texte = `Les points $${s2}$, $${s1}$, $${s4}$ et $${s3}$, $${s1}$, $${s5}$ sont alignés dans cet ordre.<br>`;
        texte += `$${s1 + s2}=${s12}$ cm, $${s1 + s3}=${s13}$ cm, $${
          s1 + s4
        }=${s14}$ cm et $${s1 + s5}=${s15}$ cm.<br>`;
        texte += `Les droites (${s2 + s3}) et (${
          s4 + s5
        }) sont-elles parallèles ?<br>`;
      }

      if (this.sup < 3) {
        // on ne fait la figure que si niveau < 3
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" +
          s1 +
          "," +
          x3 +
          "/" +
          y3 +
          "/" +
          s3 +
          "," +
          x2 +
          "/" +
          y2 +
          "/" +
          s2 +
          "}"; // Placer les points du triangle principal
        texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s2 + "," + s3 + ")"; // Trace le triangle principal
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s2 +
          ")" +
          "\t\\tkzGetPoint{" +
          s4 +
          "}"; // Place le premier point du triangle image
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s1 +
          " ratio " +
          k +
          "](" +
          s3 +
          ")" +
          "\t\\tkzGetPoint{" +
          s5 +
          "}"; // Place le deuxième point du triangle image
        texte += "\n\t \\tkzDrawSegment(" + s4 + "," + s5 + ")"; // Trace le segment
        if (k > 0) {
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above left](" + s2 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s5 + ")"; //nomme les points
          // Nomme les points au dessus avec above, dessous avec below...
        } else {
          // position papillon -> position du nom inversée et nécessité de tracer le triangle secondaire
          texte += "\n\t \\tkzLabelPoints[below](" + s1 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[below](" + s3 + "," + s4 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[above](" + s2 + "," + s5 + ")"; //nomme les points
          texte += "\n\t \\tkzDrawPolygon(" + s1 + "," + s4 + "," + s5 + ")"; // Trace le triangle secondaire
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      texte_corr += `D'une part on a $\\dfrac{${s1 + s2}}{${
        s1 + s4
      }}=\\dfrac{${s12}}{${s14}}=\\dfrac{${s12}\\times${mise_en_evidence(
        s15
      )}}{${s14}\\times${mise_en_evidence(s15)}}=${tex_fraction(
        tex_nombrec(arrondi(dist12 * dist15, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;
      texte_corr += `<br>D'autre part on a $\\dfrac{${s1 + s3}}{${
        s1 + s5
      }}=\\dfrac{${s13}}{${s15}}=\\dfrac{${s13}\\times${mise_en_evidence(
        s14
      )}}{${s15}\\times${mise_en_evidence(s14)}}=${tex_fraction(
        tex_nombrec(arrondi(dist13 * dist14, 3)),
        tex_nombrec(arrondi(dist14 * dist15, 4))
      )}$`;

      if (k != k2) {
        // droites pas parallèles

        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}\\not=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`;
        texte_corr += `Donc d'après le théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ ne sont pas parallèles.<br>`;
      } else {
        // droites parallèles
        texte_corr += `<br>$\\dfrac{${s1 + s2}}{${s1 + s4}}=\\dfrac{${
          s1 + s3
        }}{${s1 + s5}}$.<br>`; //car les produits en croix sont égaux : $${s12}\\times${s15}=${s13}\\times${s14}=${tex_nombre(arrondi(dist12*dist15,3))}$.<br>`;
        if (k > 0)
          texte_corr += `$${s1}$,$${s4}$,$${s2}$ et $${s1}$,$${s5}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        else
          texte_corr += `$${s4}$,$${s1}$,$${s2}$ et $${s5}$,$${s1}$,$${s3}$ sont alignés dans le même ordre.<br>`;
        texte_corr += `Donc d'après la réciproque du théorème de Thales, les droites $(${
          s2 + s3
        })$ et $(${s4 + s5})$ sont parallèles.<br>`;
      }

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);
    }
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Cas simple \n 2 : Complication \n 3 : Sans figure",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 4G20MG32
 */
function Exercice_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer une longueur avec l'égalité de Pythagore (MG32)";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1; // 1 calcul de l'hypoténuse 2 calcul d'un côté de l'angle droit
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let type_de_questions;
    if (this.sup == 1) {
      type_de_questions = 1; //calcul de l'hypoténuse
    }
    if (this.sup == 2) {
      type_de_questions = 2; //calcul d'un côté de l'angle droit
    }
    if (this.sup == 3) {
      type_de_questions = randint(1, 2); //un des deux calculs
    }
    if (this.sup == 4) {
      type_de_questions = randint(3, 4);
    }
    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 3 + 3) * 10) / 10;
    let k2 = Math.round((Math.random() * 3 + 1) * 10) / 10;
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let carre01 = Math.round(k1 * k1 * 100) / 100;
    let carre02 = Math.round(k2 * k2 * 100) / 100;
    let dist12 = Math.sqrt(carre01 + carre02); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    let carre12 = Math.round(dist12 * dist12 * 100) / 100;

    let scarre01 = arrondi_virgule(carre01, 2); // carremn = distance entre (xm;ym) et (xn;yn) au carré avec 2 décimales
    let scarre02 = arrondi_virgule(carre02, 2); // scarremn = chaine de caractère avec 2 décimales après une virgule.
    let scarre12 = arrondi_virgule(carre12, 2);
    if (sortie_html) {
      let codeBase64;
      if (alpha1deg < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAACH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAAA7##########w==";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAACH#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAO##########8=";
      }

      if (type_de_questions == 1) {
        // calcul direct de l'hypoténuse
        texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$, $${
          s0 + s1
        }=${s01}$ cm, $${s0 + s2}=${s02}$ cm.`;
        texte += `<br>Le point $${s0}$ peut être déplacé.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
        texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$, d&rsquo;après le théorème de Pythagore, on a : $${
          s1 + s2
        }^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$<br>`;
        texte_corr +=
          "D&rsquo;où " +
          `$${
            s1 + s2
          }^2~=~${s01}^2~+~${s02}^2~=~${scarre01}~+~${scarre02}~=~${arrondi_virgule(
            carre02 + carre01,
            2
          )}.$` +
          "<br>";
        texte_corr +=
          "Soit " +
          `$${s1 + s2}~=~\\sqrt{${arrondi_virgule(
            carre02 + carre01,
            2
          )}}~\\approx${s12}$` +
          " cm.";
      }
      if (type_de_questions == 2) {
        // Calcul d'un côté de l'angle droit
        texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$, $${
          s0 + s1
        }=${s01}$ cm, $${s1 + s2}=${s12}$ cm.`;
        texte += `Calculer $${s0 + s2}$.`;
        texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$, d&rsquo;après le théorème de Pythagore, on a : $${
          s1 + s2
        }^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$<br>`;
        texte_corr +=
          "D&rsquo;où " +
          `$${s0 + s2}^2~=~${s1 + s2}^2~-~${
            s0 + s1
          }^2 = ${s12}^2~-~${s01}^2~=~${scarre12}~-~${scarre01}~=~${arrondi_virgule(
            carre12 - carre01,
            2
          )}.$` +
          "<br>";
        texte_corr +=
          "Soit " +
          `$${s0 + s2}~=~\\sqrt{${arrondi_virgule(
            carre12 - carre01,
            2
          )}}~\\approx${s02}$` +
          " cm.";
      }
      if (type_de_questions < 3) {
        this.type_exercice = "MG32";
        this.MG32codeBase64 = codeBase64;
        this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
        texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
      } else {
        this.type_exercice = "";
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      if (type_de_questions < 3) {
        liste_de_question_to_contenu(this);
      } else {
        liste_de_question_to_contenu_sans_numero(this);
      }
    } else {
      if (type_de_questions < 3) {
        texte =
          "\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}";
        texte +=
          "\n\t\\item Le côté " +
          `$[${s0 + s1}]$` +
          " est perpendiculaire au côté " +
          `$[${s0 + s2}]~;$`;
        if (type_de_questions == 1) {
          //niveau 1 : Calcul de l'hypoténuse

          // enoncé  niveau 1

          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s2 + " = " + s02 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip\n\t  Calculer " +
            `$${s1 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        } else {
          // niveau 2 : Calcul d'un côté de l'angle droit
          // enoncé  niveau 2

          texte +=
            "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip  Calculer " +
            `$${s0 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        }
        texte += "\\begin{minipage}{0.3 \\linewidth}";
        // dessin de la figure
        texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
        texte +=
          "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
        // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle " +
          alpha1deg +
          "](B) \\tkzGetPoint{" +
          s1 +
          "}"; // transformer le premier point par rotation
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle " +
          alpha1deg +
          "](C) \\tkzGetPoint{" +
          s2 +
          "}"; // transformer le deuxième point par rotation
        texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
        // marquer l'angle droit
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s0 +
          " ratio 0.1](" +
          s1 +
          ")" +
          "\\tkzGetPoint{B}";
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle 90](B) \\tkzGetPoint{C}";
        texte +=
          "\n\t \\tkzDefPointBy[homothety=center " +
          s0 +
          " ratio 0.1414](" +
          s1 +
          ")" +
          "\\tkzGetPoint{A}";
        texte +=
          "\n\t \\tkzDefPointBy[rotation= center " +
          s0 +
          " angle 45](A) \\tkzGetPoint{A}";
        texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit

        if (alpha1deg > 0) {
          // rotation "angle droit dessous"
          texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[right](" + s1 + ")";
          texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
        } else {
          // rotation "angle droit dessus" position du nom inversée
          texte += "\n\t \\tkzLabelPoints[above](" + s0 + ")"; //nomme les points
          texte += "\n\t \\tkzLabelPoints[left](" + s1 + ")";
          texte += "\n\t \\tkzLabelPoints[right](" + s2 + ")";
        }
        texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
        texte += "\\end{minipage}";
      } else {
        texte =
          "\\begin{minipage}{.5 \\linewidth} 	\\vspace{0cm} Dans le triangle " +
          `${nom_du_triangle}` +
          " rectangle en " +
          `${s0}` +
          " : \\begin{itemize}";
        // texte += '\n\t\\item Le côté ' + `$[${s0 + s1}]$` + ' est perpendiculaire au côté ' + `$[${s0 + s2}]~;$`
        if (type_de_questions == 1) {
          //niveau 1 : Calcul de l'hypoténuse

          // enoncé  niveau 1

          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s2 + " = " + s02 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip\n\t  Calculer " +
            `$${s1 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        } else {
          // niveau 2 : Calcul d'un côté de l'angle droit
          // enoncé  niveau 2

          texte +=
            "\n\t\\item " + `$${s1 + s2 + " = " + s12 + "~\\text{cm}~;"}$`;
          texte +=
            "\n\t\\item " + `$${s0 + s1 + " = " + s01 + "~\\text{cm}~;"}$`;
          texte +=
            "\\end{itemize} \\bigskip  Calculer " +
            `$${s0 + s2}$` +
            " à 0,1 près. \\end{minipage}";
        }
      }
      this.liste_questions.push(texte); // on envoie la question
      // correction
      if (type_de_questions == 2 || type_de_questions == 4) {
        //niveau 2 : Calcul d'un côté de l'angle droit
        texte_corr =
          "Le triangle " +
          `$${nom_du_triangle}$` +
          " est rectangle en " +
          `$${s0}.$` +
          "<br>\n D'après le théorème de Pythagore, on a :~" +
          `$${s1 + s2}^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$`;
        texte_corr +=
          "<br>\n D'où " +
          `$${s0 + s2}^2~=~${s1 + s2}^2~-~${
            s0 + s1
          }^2 = ${s12}^2~-~${s01}^2~=~${scarre12}~-~${scarre01}~=~${arrondi_virgule(
            carre12 - carre01,
            2
          )}.$`;
        texte_corr +=
          "<br>\n Soit " +
          `$${s0 + s2}~=~\\sqrt{${arrondi_virgule(
            carre12 - carre01,
            2
          )}}~\\approx${s02}~\\text{cm}.$`;
      } else {
        texte_corr =
          "Le triangle " +
          `$${nom_du_triangle}$` +
          " est rectangle en " +
          `$${s0}.$` +
          "<br>\n D'après le théorème de Pythagore, on a " +
          `$${s1 + s2}^2 = ${s0 + s1}^2~+~${s0 + s2}^2.$`;
        texte_corr +=
          "<br>\n D'où " +
          `$${
            s1 + s2
          }^2~=~${s01}^2~+~${s02}^2~=~${scarre01}~+~${scarre02}~=~${arrondi_virgule(
            carre02 + carre01,
            2
          )}.$`;
        texte_corr +=
          "<br>\n Soit " +
          `$${s1 + s2}~=~\\sqrt{${arrondi_virgule(
            carre02 + carre01,
            2
          )}}~\\approx${s12}~\\text{cm}.$`;
      }

      this.liste_corrections.push(texte_corr);

      liste_de_question_to_contenu_sans_numero(this);

      // }end for
    }
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Calcul de l'hypoténuse \n 2 : Calcul d'un côté de l'angle droit\n 3 : Calcul d'un côté quelconque\n 4 : Sans la figure",
  ];
}

/**
 * @auteur Jean-Claude Lhote
 * 3G30
 */
function Exercice_Trigo_longueurs() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer une longueur grâce à la trigonométrie";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.quatrieme = false;
  this.sup = 1; // 1 utilisation du cosinus exclusivement 2 utilisation des 3 fonctions trigo
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    let lettre1, lettre2, texte, texte_corr;
    this.bouton_aide = modal_youtube(
      numero_de_l_exercice,
      "DYW-BTMFzd4",
      "Trigonométrie (vidéo de digiSchool)"
    );
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let angle1;
    let type_de_questions;
    if (this.sup == 1) type_de_questions = choice([1, 3, 5]); // on multiplie par cos, sin ou tan
    if (this.sup == 2) type_de_questions = choice([2, 4, 6]); // on divise par cos, sin ou tan
    if (this.sup == 3) type_de_questions = randint(1, 6);
    if (this.quatrieme) type_de_questions = ((type_de_questions - 1) % 2) + 1; // on n'utilise que le cosinus.
    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    let k2 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    angle1 = Math.round(Math.degres(Math.atan(k2 / k1)));
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let dist12 = k1 / Math.cos(Math.atan(k2 / k1)); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$ :<br>`;
    if (sortie_html) {
      // sortie html MG32
      let codeBase64;
      if (alpha1deg < 0) {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8ABQAAACBAQIGJiJxJngAAAAEAAAAWAAAAFwAAAA7##########w==";
      } else {
        codeBase64 =
          "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAUAAAAgQEHcp2T0QTQAAAABAAAAFgAAABcAAAAO##########8=";
      }
      texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$.<br>`;

      if (type_de_questions == 1) {
        // calcul du côté adjacent (cosinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s1 + s2}=${s12}$ cm.<br>`;
        texte += `Calculer $${s0 + s1}$.`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'hypoténuse (1/cosinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s1}=${s01}$ cm.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
      }
      if (type_de_questions == 3) {
        // calcul du côté opposé (sinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s1 + s2}=${s12}$ cm.<br>`;
        texte += `Calculer $${s0 + s2}$.`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'hypoténuse (1/sinus)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s2}=${s02}$ cm.<br>`;
        texte += `Calculer $${s1 + s2}$.`;
      }
      if (type_de_questions == 5) {
        // calcul du côté opposé (tangente)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s1}=${s01}$ cm.<br>`;
        texte += `Calculer $${s0 + s2}$.`;
      }
      if (type_de_questions == 6) {
        // Calcul du côté adjacent (1/tangente)
        texte += `L'angle $\\widehat{${
          s0 + s1 + s2
        }}$ mesure $${angle1}\\degree$, $${s0 + s2}=${s02}$ cm.<br>`;
        texte += `Calculer $${s0 + s1}$.`;
      }

      this.type_exercice = "MG32";
      this.MG32codeBase64 = codeBase64;
      this.MG32code_pour_modifier_la_figure = `
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
		        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
				mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
				mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
				mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        	mtg32App.display("MG32svg${numero_de_l_exercice}");
				`;
      texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
    } else {
      //sortie Latex
      texte = `\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}`;
      texte += `\n\t\\item Le triangle $${nom_du_triangle}$ est rectangle en $${s0}$~;`;

      if (type_de_questions == 1) {
        // Calcul du coté adjacent (cosinus)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s1
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'hypoténuse (1/cosinus)
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s1 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 3) {
        // Calcul du coté opposé (sinus)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'hypoténuse (1/sinus)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s1 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 5) {
        // Calcul du côté opposé (tangente)
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s2
        }$ à 0,1 près. \\end{minipage}`;
      }
      if (type_de_questions == 6) {
        // Calcul du côté adjacent (1/tangente)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item L'angle $\\widehat{${
          s0 + s1 + s2
        }}$~mesure~$${angle1}\\degree$.<br>`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer $${
          s0 + s1
        }$ à 0,1 près. \\end{minipage}`;
      }
      texte += "\\begin{minipage}{0.3 \\linewidth}";
      // dessin de la figure
      texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
      texte +=
        "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
      // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](B) \\tkzGetPoint{" +
        s1 +
        "}"; // transformer le premier point par rotation
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](C) \\tkzGetPoint{" +
        s2 +
        "}"; // transformer le deuxième point par rotation
      texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
      // marquer l'angle droit
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1](" +
        s1 +
        ")" +
        "\\tkzGetPoint{B}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 90](B) \\tkzGetPoint{C}";
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1414](" +
        s1 +
        ")" +
        "\\tkzGetPoint{A}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 45](A) \\tkzGetPoint{A}";
      texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit
      if (alpha1deg > 0) {
        // rotation "angle droit dessous"
        texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[above right](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
      } else {
        // rotation "angle droit dessus" position du nom inversée
        texte += "\n\t \\tkzLabelPoints[left](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[below left](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[above right](" + s2 + ")";
      }
      texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
      texte += "\\end{minipage}";
    }
    if (type_de_questions == 1) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\cos\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s1,
        s12
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s1}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s12,
        `\\cos\\left(${angle1}\\degree\\right)`
      )}$<br>`; // ${s12}\\times\\cos\\left(${angle1}\\degree\\right)$<br>`;
      texte_corr += `Soit $${s0 + s1}\\approx${s01}$ cm.`;
    }
    if (type_de_questions == 2) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\cos\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s01,
        s1 + s2
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s1 + s2}=${quatrieme_proportionnelle(
        `\\cos\\left(${angle1}\\degree\\right)`,
        s01,
        "\\color{red}{1}"
      )}$<br>`; // ${s01}\\div\\cos\\left(${angle1}\\degree\\right)$<br>`;
      texte_corr += `Soit $${s1 + s2}\\approx${s12}$ cm.`;
    }
    if (type_de_questions == 3) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\sin\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s2,
        s12
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s2}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s12,
        `\\sin\\left(${angle1}\\degree\\right)`
      )}$<br>`;
      texte_corr += `Soit $${s0 + s2}\\approx${s02}$ cm.`;
    }
    if (type_de_questions == 4) {
      texte_corr = `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\sin\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s02,
        s1 + s2
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s1 + s2}=${quatrieme_proportionnelle(
        `\\sin\\left(${angle1}\\degree\\right)`,
        s02,
        "\\color{red}{1}"
      )}$<br>`;
      texte_corr += `Soit $${s1 + s2}\\approx${s12}$ cm.`;
    }
    if (type_de_questions == 5) {
      texte_corr = `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}<br>$`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\tan\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s0 + s2,
        s01
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s2}=${quatrieme_proportionnelle(
        "\\color{red}{1}",
        s01,
        `\\tan\\left(${angle1}\\degree\\right)`
      )}$<br>`;
      texte_corr += `Soit $${s0 + s2}\\approx${s02}$ cm.`;
    }
    if (type_de_questions == 6) {
      texte_corr = `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\dfrac{\\tan\\left(${angle1}\\degree\\right)}{\\color{red}{1}}=${tex_fraction(
        s02,
        s0 + s1
      )}$<br>`;
      texte_corr += `$\\bf\\textcolor{red}{Les~ produits~ en~ croix~ sont~ \\acute{e}gaux~donc~ :}$<br>`;
      texte_corr += `$${s0 + s1}=${quatrieme_proportionnelle(
        `\\tan\\left(${angle1}\\degree\\right)`,
        s02,
        "\\color{red}{1}"
      )}$<br>`;
      texte_corr += `Soit $${s0 + s1}\\approx${s01}$ cm.`;
    }
    // texte+=href('Comment calculer une longueur avec la trigonométrie','https://www.youtube.com/watch?v=DYW-BTMFzd4')
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Calculs faciles \n 2 : Calculs moins faciles \n 3 : Mélange",
  ];
}
/**
 * @auteur Jean-Claude Lhote
 * 3G31
 * Calcul d'angle dans le triangle rectangle
 * Le niveau 1 se limite à l'utilisation de Arccos
 * Le niveau 2 utilise la fonction trigo la plus pertinente pour un calcul direct
 */
function Exercice_Trigo_angles() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer un angle grâce à la trigonométrie";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1; // 1 calcul avec Arccos
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.taille_div_MG32 = [700, 500];
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let lettre0 = randint(11, 25); // aleatoirisation du nom des points
    let s0 = lettre_depuis_chiffre(lettre0);
    let lettre1 = randint(11, 25, [lettre0]);
    let s1 = lettre_depuis_chiffre(lettre1);
    let lettre2 = randint(11, 25, [lettre0, lettre1]);
    let s2 = lettre_depuis_chiffre(lettre2);
    let angle1, angle2;
    let type_de_questions;
    if (this.sup == 1) {
      type_de_questions = randint(1, 2); // utilisation de Arccos
    }
    if (this.sup == 2) {
      type_de_questions = randint(1, 6, [2]); // utilisation des 3 fonctions Arccos, Arcsin et Arctan
    }

    let nom_du_triangle = choice([
      s0 + s1 + s2,
      s0 + s2 + s1,
      s1 + s0 + s2,
      s1 + s2 + s0,
      s2 + s0 + s1,
      s2 + s1 + s0,
    ]);
    let k1 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    let k2 = Math.round((Math.random() * 5 + 1) * 10) / 10;
    angle1 = Math.round(Math.degres(Math.atan(k2 / k1)));
    angle2 = 90 - angle1;
    let alpha1 = Math.random() * Math.PI - Math.PI / 2;
    let alpha1deg = Math.round((alpha1 * 180) / Math.PI);
    let x1 = k1; // coordonnées des deux sommets du triangle
    let y2 = k2;
    let s01 = arrondi_virgule(k1, 1); // mise en texte avec 1 chiffres après la virgule pour énoncé
    let s02 = arrondi_virgule(k2, 1);

    let dist12 = k1 / Math.cos(Math.atan(k2 / k1)); //calcul de l'hypoténuse
    dist12 = Math.round(dist12 * 10) / 10; // On ne garde qu'une approximation au dixième pour l'exercice
    let s12 = arrondi_virgule(dist12, 1);
    let texte;
    let texte_corr = `Dans le triangle $${nom_du_triangle}$ rectangle en $${s0}$ :<br>`;
    if (sortie_html) {
      // sortie html MG32
      let codeBase64;
      if (type_de_questions % 2 != 0) {
        if (alpha1deg < 0) {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8ABQAAACBAQIGJiJxJngAAAAEAAAAWAAAAFwAAAA7##########w==";
        } else {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAUAAAAgQEHcp2T0QTQAAAABAAAAFgAAABcAAAAO##########8=";
        }
      } else {
        if (alpha1deg < 0) {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMA7AAAAAAAAwCAAAAAAAAAFAAFAcLFHrhR64UBneFHrhR64#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAMtOTD#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBWgAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAFgABWgDAFAAAAAAAAEAAAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEwD#####AQAAAAAWAAFGAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAoAAAAOAAAADwAAAAEAAAAAAAAAAAAAABMA#####wEAAAAAFgABRAAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAAAQAAAAAAAAAAAAAADgAAABD#####AAAAAQAJQ1JvdGF0aW9uAP####8AAAASAAAADgAAABEAAAAPAP####8AAAAAABYAAUIAQCoAAAAAAADALgAAAAAAAAcAAAAAEwAAABUAAAAPAP####8AAAAAABYAAUMAQBAAAAAAAADAOwAAAAAAAAcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAP####8AAAAAAAIAAAAEAAAAEgAAABYAAAAXAAAAEv####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAA#wAEAAAAAUAwAAAAAAAAAAAAFgAAABIAAAAX#####wAAAAEACENTZWdtZW50AP####8BAAD#ABAAAAEABAAAABcAAAAW#####wAAAAEAEENNYWNyb0FwcGFyaXRpb24A#####wD#AAAB#####xBAh8ij1wo9cUBHYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFQXBwQkMAAAAAAAEAAAAaAP####8AAAABABFDTWFjcm9EaXNwYXJpdGlvbgD#####AP8AAAH#####EECKaKPXCj1xQEphR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZNYXNxQkMAAAAAAAEAAAAa#####wAAAAEAC0NNYWNyb1BhdXNlAP####8A#wAAAf####8QQI1oo9cKPXFASuFHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABVBhdXNlAAAAAAABAAAAGQD#####AAAA#wH#####EECIIKPXCj1xQFqwo9cKPXACAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApNYXNxQW5nZHJ0AAAAAAABAAAAGQAAABgA#####wAAAP8B#####xBAjAij1wo9cUBa8KPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJQXBwQW5nRHJ0AAAAAAABAAAAGQD#####AAAAAQARQ01hY3JvU3VpdGVNYWNyb3MA#####wAAAP8B#####xBAWMUeuFHrhUB4fCj1wo9cAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAALaHlwb3TDqW51c2UAAAAAAAsAAAAeAAAAGwAAAB0AAAAfAAAAHAAAAB0AAAAeAAAAGwAAAB0AAAAcAAAAHwAAABYA#####wAAAP8AAwAAACBAQHXBUVjTVQAAAAEAAAAXAAAAFgAAAA7##########w==";
        } else {
          codeBase64 =
            "TWF0aEdyYXBoSmF2YTEuMAAAABI#AAAAAAJmcv###wEA#wEAAAAAAAAAAAYfAAADsgAAAQEAAAAAAAAAAQAAACL#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAAWAAFBAMAUAAAAAAAAQBQAAAAAAAAFAAFAbFo9cKPXBkB0BhR64Ueu#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABYAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUBHq0OVgQYlAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAWAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAFgAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQAHQ0NhbGN1bAD#####AAJ4MQABNgAAAAFAGAAAAAAAAAAAABEA#####wACeDIAATQAAAABQBAAAAAAAAAAAAARAP####8ACGFscGhhZGVnAAI5MAAAAAFAVoAAAAAAAP####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8BAAAAABYAAVoAwBQAAAAAAABAAAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABIA#####wEAAAAAFgABRgAAAAAAAAAAAEAIAAAAAAAABwAAAAAKAAAADgAAAA8AAAABAAAAAAAAAAAAAAASAP####8BAAAAABYAAUQAAAAAAAAAAABACAAAAAAAAAcAAAAACgAAAAEAAAAAAAAAAAAAAA4AAAAQ#####wAAAAEACUNSb3RhdGlvbgD#####AAAAEgAAAA4AAAARAAAADwD#####AAAAAAAWAAFCAEAqAAAAAAAAwDgAAAAAAAAHAAAAABMAAAAVAAAADwD#####AAAAAAAWAAFDAMA3AAAAAAAAwEAAAAAAAAAHAAAAABQAAAAV#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAACAAAABAAAABIAAAAWAAAAFwAAABL#####AAAAAgAXQ01hcnF1ZUFuZ2xlR2VvbWV0cmlxdWUA#####wAAAP8ABAAAAAFAMAAAAAAAAAAAABYAAAASAAAAF#####8AAAABAAhDU2VnbWVudAD#####AQAA#wAQAAABAAQAAAAXAAAAFv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8A#wAAAf####8QQIfIo9cKPXFAR2FHrhR64QIAAAAAAAAAAAAAAAABAAAAAAAAAAAABUFwcEJDAAAAAAABAAAAGgD#####AAAAAQARQ01hY3JvRGlzcGFyaXRpb24A#####wAAAP8B#####xBAimij1wo9cUBKYUeuFHrhAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGTWFzcUJDAAAAAAABAAAAGv####8AAAABAAtDTWFjcm9QYXVzZQD#####AP8AAAH#####EECNaKPXCj1xQErhR64UeuECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAQAAABgA#####wAAAP8B#####xBAh#Cj1wo9cUBbcKPXCj1wAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAKTWFzcUFuZ0RydAAAAAAAAQAAABkAAAAXAP####8AAAD#Af####8QQIw4o9cKPXFAXPCj1wo9cAIAAAAAAAAAAAAAAAABAAAAAAAAAAAACUFwcEFuZ0RydAAAAAAAAQAAABkA#####wAAAAEAEUNNYWNyb1N1aXRlTWFjcm9zAP####8AAAD#Af####8QQFjFHrhR64VAeHwo9cKPXAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAC2h5cG90w6ludXNlAAAAAAALAAAAHgAAABsAAAAdAAAAHwAAABwAAAAdAAAAHgAAABsAAAAdAAAAHwAAABwAAAAVAP####8AAAD#AAMAAAAgQELJWhOPSZcAAAABAAAAFwAAABYAAAAO##########8=";
        }
      }
      texte = `Dans la figure ci-dessous, le triangle $${nom_du_triangle}$ est rectangle en $${s0}$.<br>`;

      if (type_de_questions == 1) {
        // calcul de l'angle 1 (arccos)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'angle 2 (90-arccos)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }
      if (type_de_questions == 3) {
        // calcul de l'angle 1 (arcsin)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'angle 2 (arcsin)
        texte += `$${s1 + s2}=${s12}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }
      if (type_de_questions == 5) {
        // calcul de l'angle 1 (arctan)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s1 + s2}}$ à 1° près.`;
      }
      if (type_de_questions == 6) {
        // Calcul de l'angle 2 (arctan)
        texte += `$${s0 + s2}=${s02}$ cm<br>`;
        texte += `$${s0 + s1}=${s01}$ cm<br>`;
        texte += `Calculer l'angle $\\widehat{${s0 + s2 + s1}}$ à 1° près.`;
      }

      this.type_exercice = "MG32";
      this.MG32codeBase64 = codeBase64;
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x2", "${y2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "x1", "${x1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "alphadeg", "${alpha1deg}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","A","${s0}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","B","${s1}");
			mtg32App.rename("MG32svg${numero_de_l_exercice}","C","${s2}");
			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			`;
      texte += `<br>$\\footnotesize{\\textit{Le point \\thickspace ${s0} peut être déplacé (si la figure est tronquée).}}$<br>`;
    } else {
      //sortie Latex
      texte = `\\begin{minipage}{.7 \\linewidth} 	\\vspace{0cm} Sur la figure ci-contre, on a  : \\begin{itemize}`;
      texte += `\n\t\\item Le triangle $${nom_du_triangle}$ est rectangle en $${s0}$;`;

      if (type_de_questions == 1) {
        // Calcul de l'angle coté adjacent (Arccos)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 2) {
        // Calcul de l'angle opposé (90-Arccos)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 3) {
        // Calcul de l'angle 1 (Arcsin)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 4) {
        // Calcul de l'angle 2 (Arcsin)
        texte += `\n\t\\item $${s1 + s2}=${s12}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 5) {
        // Calcul de l'angle 1 (Arctan)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s1 + s2
        }}$ à 1° près. \\end{minipage}`;
      }
      if (type_de_questions == 6) {
        // Calcul de l'angle 2 (Arctan)
        texte += `\n\t\\item $${s0 + s2}=${s02}~\\text{cm}$`;
        texte += `\n\t\\item $${s0 + s1}=${s01}~\\text{cm}$`;
        texte += `\\end{itemize} \\bigskip\n\t  Calculer l'angle $\\widehat{${
          s0 + s2 + s1
        }}$ à 1° près. \\end{minipage}`;
      }
      texte += "\\begin{minipage}{0.3 \\linewidth}";
      // dessin de la figure
      texte += "\n \\begin{tikzpicture}[scale=0.7]"; // Balise début de figure
      texte +=
        "\n\t \\tkzDefPoints{0/0/" + s0 + "," + x1 + "/0/B,0/" + y2 + "/C}"; // créer les points du triangle initial
      // Définit les points M et N par homothétie de centre C et de rapport 0,3<k<0,8
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](B) \\tkzGetPoint{" +
        s1 +
        "}"; // transformer le premier point par rotation
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle " +
        alpha1deg +
        "](C) \\tkzGetPoint{" +
        s2 +
        "}"; // transformer le deuxième point par rotation
      texte += "\n\t \\tkzDrawPolygon(" + s0 + "," + s1 + "," + s2 + ")"; // Trace le triangle
      // marquer l'angle droit
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1](" +
        s1 +
        ")" +
        "\\tkzGetPoint{B}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 90](B) \\tkzGetPoint{C}";
      texte +=
        "\n\t \\tkzDefPointBy[homothety=center " +
        s0 +
        " ratio 0.1414](" +
        s1 +
        ")" +
        "\\tkzGetPoint{A}";
      texte +=
        "\n\t \\tkzDefPointBy[rotation= center " +
        s0 +
        " angle 45](A) \\tkzGetPoint{A}";
      texte += "\n\t \\tkzDrawPolygon(" + s0 + ",B,A,C)"; // Trace la marque d'angle droit
      if (alpha1deg > 0) {
        // rotation "angle droit dessous"
        texte += "\n\t \\tkzLabelPoints[below](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[above right](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[left](" + s2 + ")";
      } else {
        // rotation "angle droit dessus" position du nom inversée
        texte += "\n\t \\tkzLabelPoints[left](" + s0 + ")"; //nomme les points
        texte += "\n\t \\tkzLabelPoints[below left](" + s1 + ")";
        texte += "\n\t \\tkzLabelPoints[above right](" + s2 + ")";
      }
      texte += "\n \\end{tikzpicture}"; // Balise de fin de figure
      texte += "\\end{minipage}";
    }
    if (type_de_questions == 1) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\cos\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arccos\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 2) {
      texte_corr += `Le cosinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\cos \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\cos\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arccos\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$<br>`;
      texte_corr += `Or, dans un triangle rectangle les angles aigus sont complémentaires, donc :<br>`;
      texte_corr += `$\\widehat{${
        s0 + s2 + s1
      }}\\approx90-${angle1}\\approx${angle2}\\degree$`;
    }
    if (type_de_questions == 3) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\sin\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s02, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arcsin\\left(${tex_fraction(s02, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 4) {
      texte_corr += `Le sinus de l'angle $\\widehat{${
        s0 + s2 + s1
      }}$ est défini par :<br>`;
      texte_corr += `$\\sin \\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s0 + s1, s1 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\sin\\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s01, s12)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s2 + s1
      }}=\\arcsin\\left(${tex_fraction(s01, s12)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s2 + s1
      }}\\approx${angle2}\\degree$`;
    }
    if (type_de_questions == 5) {
      texte_corr += `La tangente de l'angle $\\widehat{${
        s0 + s1 + s2
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s0 + s2, s0 + s1)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\tan\\left(\\widehat{${
        s0 + s1 + s2
      }}\\right)=${tex_fraction(s02, s01)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s1 + s2
      }}=\\arctan\\left(${tex_fraction(s02, s01)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s1 + s2
      }}\\approx${angle1}\\degree$`;
    }
    if (type_de_questions == 6) {
      texte_corr += `La tangente de l'angle $\\widehat{${
        s0 + s2 + s1
      }}$ est définie par :<br>`;
      texte_corr += `$\\tan \\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s0 + s1, s0 + s2)}$<br>`;
      texte_corr += `Avec les données numériques :<br>`;
      texte_corr += `$\\tan\\left(\\widehat{${
        s0 + s2 + s1
      }}\\right)=${tex_fraction(s01, s02)}$<br>`;
      texte_corr += `On en déduit que $\\widehat{${
        s0 + s2 + s1
      }}=\\arctan\\left(${tex_fraction(s01, s02)}\\right)$<br>`;
      texte_corr += `Soit $\\widehat{${
        s0 + s2 + s1
      }}\\approx${angle2}\\degree$`;
    }
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Calcul de l'angle avec Acos \n 2 : Calcul de l'angle avec Acos, Asin ou Atan",
  ];
}

/**
 * Déterminer la racine carrée d'un carré parfait compris entre 4 et 256
 * @auteur Stéphane Guyon
 * 4G20-2
 */
function Racine_caree_de_carres_parfaits() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Racine carré d'un carré parfait (calcul mental)";
  this.consigne = "Calculer de tête les racines suivantes.";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 16);
      c = a * a;
      texte = `$\\sqrt{${c}}=$`;
      texte_corr = `$\\sqrt{${c}}=${a}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * À partir de la donnée des 3 longueurs d'un triangle, déterminer si il est rectangle ou pas.
 * @Auteur Rémi Angot
 * 4G21
 */
function Reciproque_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Déterminer si un triangle est rectangle ou pas.";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = combinaison_listes(
      ["rectangle", "rectangle", "pas_rectangle", "pas_rectangle"],
      this.nb_questions
    );
    let liste_triplets_pythagoriciens = [
      [3, 4, 5],
      [5, 12, 13],
      [6, 8, 10],
      [7, 24, 25],
      [8, 15, 17],
      [9, 12, 15],
      [9, 40, 41],
      [10, 24, 26],
      [11, 60, 61],
      [12, 16, 20],
      [12, 35, 37],
      [13, 84, 85],
      [14, 48, 50],
      [15, 20, 25],
      [15, 36, 39],
      [16, 30, 34],
      [16, 63, 65],
      [18, 24, 30],
      [18, 80, 82],
      [20, 21, 29],
      [20, 48, 52],
      [21, 28, 35],
      [21, 72, 75],
      [24, 32, 40],
      [24, 45, 51],
      [24, 70, 74],
      [25, 60, 65],
      [27, 36, 45],
      [28, 45, 53],
      [28, 96, 100],
      [30, 40, 50],
      [30, 72, 78],
      [32, 60, 68],
      [33, 44, 55],
      [33, 56, 65],
      [35, 84, 91],
      [36, 48, 60],
      [36, 77, 85],
      [39, 52, 65],
      [39, 80, 89],
      [40, 42, 58],
      [40, 75, 85],
      [42, 56, 70],
      [45, 60, 75],
      [48, 55, 73],
      [48, 64, 80],
      [51, 68, 85],
      [54, 72, 90],
      [57, 76, 95],
      [60, 63, 87],
      [60, 80, 100],
      [65, 72, 97],
    ];
    let liste_noms_triangles = []; // on mémorise les noms des triangles pour ne pas les redonner
    for (
      let i = 0,
        texte,
        texte_corr,
        AB,
        BC,
        AC,
        a,
        b,
        c,
        nom_triangle,
        triplet,
        ordre_des_cotes,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      nom_triangle = creerNomDePolygone(3, liste_noms_triangles);
      liste_noms_triangles.push(nom_triangle);
      A = nom_triangle[0];
      B = nom_triangle[1];
      C = nom_triangle[2];
      triplet = choice(liste_triplets_pythagoriciens);
      enleve_element(liste_triplets_pythagoriciens, triplet); // Supprime le triplet pour les prochaines questions
      a = triplet[0];
      b = triplet[1];
      c = triplet[2];
      if (liste_type_de_questions[i] == "pas_rectangle") {
        c += randint(-3, 3, [0]); // on change la valeur de c
        while (a ** 2 + b ** 2 == c ** 2) {
          // si par hasard (est-ce possible ?) on retombe sur un triplet pythagoricien on change les valeurs
          c += randint(-3, 3, [0]); // on change la valeur de c
          b += randint(-3, 3, [0]); // on change la valeur de b
        }
      }
      if (a > 9 && choice([true, true, true, false])) {
        //le plus souvent on utilise des décimaux
        a = calcul(a / 10);
        b = calcul(b / 10);
        c = calcul(c / 10);
      }
      ordre_des_cotes = randint(1, 3);
      switch (ordre_des_cotes) {
        case 1:
          texte = `Le triangle $${nom_triangle}$ est tel que $${
            A + B
          }=${tex_nombre(c)}$ cm, $${A + C}=${tex_nombre(b)}$ cm et $${
            B + C
          }=${tex_nombre(a)}$ cm.`;
          break;
        case 2:
          texte = `Le triangle $${nom_triangle}$ est tel que  $${
            B + C
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(b)}$ cm et $${
            A + B
          }=${tex_nombre(c)}$ cm.`;
          break;
        case 3:
          texte = `Le triangle $${nom_triangle}$ est tel que $${
            A + C
          }=${tex_nombre(b)}$ cm, $${A + B}=${tex_nombre(c)}$ cm,  et $${
            B + C
          }=${tex_nombre(a)}$ cm.`;
          break;
      }
      texte += `<br>Ce triangle est-il rectangle ?`;
      texte_corr = `Dans le triangle $${nom_triangle}$, le plus grand côté est $[${
        A + B
      }]$.`;
      texte_corr += `<br>$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
        c ** 2
      )}$`;
      texte_corr += `<br>$${A + C}^2+${B + C}^2=${tex_nombre(b)}^2+${tex_nombre(
        a
      )}^2=${tex_nombrec(b ** 2 + a ** 2)}$`;
      if (liste_type_de_questions[i] == "rectangle") {
        texte_corr += `<br>On constate que $${A + B}^2=${A + C}^2+${
          B + C
        }^2$, l'égalité de Pythagore est vérifiée donc $${nom_triangle}$ est rectangle en $${C}$.`;
      } else {
        texte_corr += `<br>On constate que $${A + B}^2\\not=${A + C}^2+${
          B + C
        }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${nom_triangle}$ n'est pas rectangle.`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Problèmes utilisant le théorème de Pythagore ou sa réciproque et des propriétés des quadrilatères particuliers.
 *
 * * Dans un losange, on connait la longueur du côté et une diagonale, il faut calculer l'autre.
 * * Dans un rectangle on connait la longueur et une diagonale, il faut calculer la largeur.
 * * Dans un rectangle on connait la longueur et la largeur, il faut calculer la diagonale.
 * * Est-ce qu'un parallélogramme est un losange ? On peut démontrer que les diagonales sont perpendiculaires ou pas.
 * * Est-ce qu'un parallélogramme est un rectangle ? On peut démontrer qu'il possède un angle droit ou pas .
 * @Auteur Rémi Angot
 * 4G22
 */
function Problemes_Pythagore() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes utilisant le théorème de Pythagore";
  this.consigne = "";
  this.nb_questions = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1.5);

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [
      "losange",
      "rectangle_diagonale_connue",
      "rectangle_diagonale_a_trouver",
      "parallelogramme_est_losange",
      "parallelogramme_n_est_pas_losange",
      "parallelogramme_est_rectangle",
      "parallelogramme_n_est_pas_rectangle",
    ];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    let liste_triplets_pythagoriciens = [
      [3, 4, 5],
      [5, 12, 13],
      [6, 8, 10],
      [7, 24, 25],
      [8, 15, 17],
      [9, 12, 15],
      [9, 40, 41],
      [10, 24, 26],
      [11, 60, 61],
      [12, 16, 20],
      [12, 35, 37],
      [13, 84, 85],
      [14, 48, 50],
      [15, 20, 25],
      [15, 36, 39],
      [16, 30, 34],
      [16, 63, 65],
      [18, 24, 30],
      [18, 80, 82],
      [20, 21, 29],
      [20, 48, 52],
      [21, 28, 35],
      [21, 72, 75],
      [24, 32, 40],
      [24, 45, 51],
      [24, 70, 74],
      [25, 60, 65],
      [27, 36, 45],
      [28, 45, 53],
      [28, 96, 100],
      [30, 40, 50],
      [30, 72, 78],
      [32, 60, 68],
      [33, 44, 55],
      [33, 56, 65],
      [35, 84, 91],
      [36, 48, 60],
      [36, 77, 85],
      [39, 52, 65],
      [39, 80, 89],
      [40, 42, 58],
      [40, 75, 85],
      [42, 56, 70],
      [45, 60, 75],
      [48, 55, 73],
      [48, 64, 80],
      [51, 68, 85],
      [54, 72, 90],
      [57, 76, 95],
      [60, 63, 87],
      [60, 80, 100],
      [65, 72, 97],
    ];
    let liste_noms_quadrilateres = ["L", "M", "N", "O"]; // pour que le O ne soit pas une des 4 lettres
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let nom_quadrilatere = creerNomDePolygone(4, liste_noms_quadrilateres);
      liste_noms_quadrilateres.push(nom_quadrilatere);
      let A = nom_quadrilatere[0];
      let B = nom_quadrilatere[1];
      let C = nom_quadrilatere[2];
      let D = nom_quadrilatere[3];
      let O = `O`;
      let triplet = choice(liste_triplets_pythagoriciens);
      enleve_element(liste_triplets_pythagoriciens, triplet); // Supprime le triplet pour les prochaines questions
      let a = triplet[0];
      let b = triplet[1];
      let c = triplet[2];
      if (
        liste_type_de_questions[i] == "parallelogramme_n_est_pas_losange" ||
        liste_type_de_questions[i] == "parallelogramme_n_est_pas_rectangle"
      ) {
        c += randint(-3, 3, [0]); // on change la valeur de c
        while (a ** 2 + b ** 2 == c ** 2) {
          // si par hasard (est-ce possible ?) on retombe sur un triplet pythagoricien on change les valeurs
          c += randint(-3, 3, [0]); // on change la valeur de c
          b += randint(-3, 3, [0]); // on change la valeur de b
        }
      }
      if (a > 9 && choice([true, true, true, false])) {
        //le plus souvent on utilise des décimaux
        a = calcul(a / 10);
        b = calcul(b / 10);
        c = calcul(c / 10);
      }

      switch (liste_type_de_questions[i]) {
        case "losange":
          texte = `$${nom_quadrilatere}$ est un losange de centre $O$ tel que $${
            A + B
          }=${tex_nombre(c)}$ cm et $${A + C}=${tex_nombre(2 * a)}$ cm.<br>`;
          texte += `Calculer $${D + B}$.`;

          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="250" viewBox="0 0 400 250"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id="mtg32svg#6"/><text x="185.5" y="32.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><text x="220.5" y="134.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><line x1="190.5" y1="43.44" x2="216.5" y2="129.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="144.54431444308477" y="133.14525664249953" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="190.5" y1="43.44" x2="163.54431444308477" y2="129.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="183.54431444308474" y="234.14525664249953" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><line x1="216.5" y1="129.44" x2="189.54431444308474" y2="215.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="189.54431444308474" y1="215.14525664249953" x2="163.54431444308477" y2="129.14525664249953" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><g  id=""><line x1="208.86483613904568" y1="86.9074753482156" x2="199.2927218660596" y2="89.80137036097884" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="207.7072781339404" y1="83.07862963902116" x2="198.13516386095432" y2="85.9725246517844" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="207.19175809011574" y1="175.70062312711323" x2="197.652449829911" y2="172.70035681946817" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="208.39186461317377" y1="171.88489982303136" x2="198.85255635296903" y2="168.8846335153863" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="171.1794783040391" y1="171.67778129428393" x2="180.75159257702518" y2="168.78388628152072" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="172.33703630914437" y1="175.50662700347834" x2="181.90915058213045" y2="172.61273199071513" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><g  id=""><line x1="181.19175809011574" y1="89.70062312711323" x2="171.652449829911" y2="86.7003568194682" style="stroke-width:1;stroke:rgb(0,0,255);" /><line x1="182.39186461317377" y1="85.88489982303133" x2="172.85255635296903" y2="82.8846335153863" style="stroke-width:1;stroke:rgb(0,0,255);" /></g><text x="176.02215722154236" y="144.29262832124977" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text><g  id=""><line x1="198.79500694133887" y1="129.34145667941502" x2="198.84383529950412" y2="120.56860695961849" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(255,0,0);"/><line x1="190.0709855797076" y1="120.51977860145324" x2="198.84383529950412" y2="120.56860695961849" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(255,0,0);"/></g><line x1="190.5" y1="43.44" x2="190.02215722154236" y2="129.29262832124977" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="189.54431444308474" y2="215.14525664249953" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="163.54431444308477" y2="129.14525664249953" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="190.02215722154236" y1="129.29262832124977" x2="216.5" y2="129.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g  id=""><line x1="193.7768798113023" y1="89.9214712483418" x2="186.74527741024002" y2="82.81115707290796" style="stroke-width:1;stroke:rgb(255,0,0);" /><line x1="186.70592152305426" y1="89.88211536115601" x2="193.81623569848807" y2="82.85051296009375" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="193.2990370328447" y1="175.77409956959156" x2="186.2674346317824" y2="168.66378539415774" style="stroke-width:1;stroke:rgb(255,0,0);" /><line x1="186.22807874459664" y1="175.7347436824058" x2="193.33839292003046" y2="168.7031412813435" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="176.75540701760488" y1="134.21886503698207" x2="176.81106464702222" y2="124.21901992676723" style="stroke-width:1;stroke:rgb(255,0,0);" /></g><g  id=""><line x1="203.28890742547983" y1="124.36639160551746" x2="203.2332497960625" y2="134.3662367157323" style="stroke-width:1;stroke:rgb(255,0,0);" /></g></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un losange donc ses diagonales se coupent en leur milieu : $${
            A + O
          }=${A + C}\\div2=${tex_nombre(2 * a)}\\div2=${tex_nombre(
            a
          )}$ cm.<br>`;
          texte_corr += `On sait que les diagonales d'un losange se coupent perpendiculairement donc $${
            A + O + C
          }$ est un triangle rectangle en $O$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + O}^2+${
            O + B
          }^2=${A + B}^2$.<br>`;
          texte_corr += `Donc $${O + B}^2=${A + B}^2-${A + O}^2=${tex_nombre(
            c
          )}^2-${tex_nombre(a)}^2=${tex_nombre(b ** 2)}$.<br>`;
          texte_corr += `On a alors $${O + B}=\\sqrt{${tex_nombrec(
            b ** 2
          )}}=${tex_nombre(b)}$ cm.<br>`;
          texte_corr += `Finalement comme $O$ est aussi le milieu de $[${
            D + B
          }]$ : $${D + B}=2\\times ${O + B}=2\\times${tex_nombre(
            b
          )}=${tex_nombre(2 * b)}$ cm.`;
          break;

        case "rectangle_diagonale_connue":
          texte = `$${nom_quadrilatere}$ est un rectangle tel que $${
            A + B
          }=${tex_nombre(a)}$ cm et $${A + C}=${tex_nombre(c)}$ cm.<br>`;
          texte += `Calculer $${B + C}$.`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id=""/><text x="113.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="276.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><g id=""/><g id=""/><text x="276.5" y="138.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><text x="111.5" y="141.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><polygon points="126.500,53.440 272.500,53.440 272.500,124.440 126.500,124.440 " style="stroke-width:1;stroke:rgb(0,0,0);fill:none"  id=""/><g  id=""><line x1="142.5" y1="53.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="126.5" y1="69.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="272.5" y1="69.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="256.5" y1="53.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="256.5" y1="124.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="272.5" y1="108.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="126.5" y1="108.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="142.5" y1="124.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><line x1="126.5" y1="53.44" x2="272.5" y2="124.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/></svg></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un rectangle donc il possède 4 angles droits et $${
            A + B + C
          }$ est un triangle rectangle en $${B}$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + B}^2+${
            B + C
          }^2=${A + C}^2$.<br>`;
          texte_corr += `Donc $${B + C}^2=${A + C}^2-${A + B}^2=${tex_nombre(
            c
          )}^2-${tex_nombre(a)}^2=${tex_nombre(b ** 2)}$.<br>`;
          texte_corr += `Finalement, $${B + C}=\\sqrt{${tex_nombrec(
            b ** 2
          )}}=${tex_nombre(b)}$ cm.`;
          break;

        case "rectangle_diagonale_a_trouver":
          texte = `$${nom_quadrilatere}$ est un rectangle tel que $${
            A + B
          }=${tex_nombre(a)}$ cm et $${B + C}=${tex_nombre(b)}$ cm.<br>`;
          texte += `Calculer $${A + C}$.`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><g id=""/><g/><g id=""/><g id=""/><g/><g id=""/><g id=""/><g id=""/><text x="113.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="276.5" y="49.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><g id=""/><g id=""/><text x="276.5" y="138.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><text x="111.5" y="141.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><polygon points="126.500,53.440 272.500,53.440 272.500,124.440 126.500,124.440 " style="stroke-width:1;stroke:rgb(0,0,0);fill:none"  id=""/><g  id=""><line x1="142.5" y1="53.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="126.5" y1="69.44" x2="142.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="272.5" y1="69.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="256.5" y1="53.44" x2="256.5" y2="69.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="256.5" y1="124.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="272.5" y1="108.44" x2="256.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><g  id=""><line x1="126.5" y1="108.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/><line x1="142.5" y1="124.44" x2="142.5" y2="108.44" style="stroke-width:1;stroke:rgb(0,0,255);"/></g><line x1="126.5" y1="53.44" x2="272.5" y2="124.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/></svg></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `$${nom_quadrilatere}$ est un rectangle donc il possède 4 angles droits et $${
            A + B + C
          }$ est un triangle rectangle en $${B}$.<br>`;
          texte_corr += `D'après le théorème de Pythagore, on a : $${A + C}^2=${
            A + B
          }^2+${B + C}^2=${tex_nombrec(a)}^2+${tex_nombrec(b)}^2=${tex_nombrec(
            c ** 2
          )}$.<br>`;
          texte_corr += `Finalement, $${A + C}=\\sqrt{${tex_nombrec(
            c ** 2
          )}}=${tex_nombre(c)}$ cm.`;
          break;

        case "parallelogramme_est_losange":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + O
          }=${tex_nombre(a)}$ cm, $${A + B}=${tex_nombre(c)}$ cm et $${
            B + O
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un losange ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + O + B
          }$, le plus grand côté est $[${A + B}]$.<br>`;
          texte_corr += `$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + O}^2+${O + B}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + B}^2=${A + O}^2+${
            O + B
          }^2$, l'égalité de Pythagore est vérifiée donc $${
            A + O + B
          }$ est rectangle en $O$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ est un parallélogramme qui a ses diagonales perpendiculaires alors c'est aussi un losange.`;
          break;

        case "parallelogramme_n_est_pas_losange":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + O
          }=${tex_nombre(a)}$ cm, $${A + B}=${tex_nombre(c)}$ cm et $${
            B + O
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un losange ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + O + B
          }$, le plus grand côté est $[${A + B}]$.<br>`;
          texte_corr += `$${A + B}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + O}^2+${O + B}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + B}^2\\not=${A + O}^2+${
            O + B
          }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${
            A + O + B
          }$ n'est pas un triangle rectangle.<br>`;
          texte_corr += `Si $${nom_quadrilatere}$ était un losange alors ses diagonales devraient être perpendiculaires et $${
            A + O + B
          }$ devrait être un triangle rectangle.<br>`;
          texte_corr += `Finalement comme $${
            A + O + B
          }$ n'est pas un triangle rectangle, $${nom_quadrilatere}$ n'est pas un losange.`;
          break;

        case "parallelogramme_est_rectangle":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + B
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(c)}$ cm et $${
            B + C
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un rectangle ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + B + C
          }$, le plus grand côté est $[${A + C}]$.<br>`;
          texte_corr += `$${A + C}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + B}^2+${B + C}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + C}^2=${A + B}^2+${
            B + C
          }^2$, l'égalité de Pythagore est vérifiée donc $${
            A + B + C
          }$ est rectangle en $${B}$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ est un parallélogramme qui a un angle droit en $${B}$ alors c'est aussi un rectangle.`;
          break;

        case "parallelogramme_n_est_pas_rectangle":
          texte = `$${nom_quadrilatere}$ est un parallélogramme de centre $O$ tel que $${
            A + B
          }=${tex_nombre(a)}$ cm, $${A + C}=${tex_nombre(c)}$ cm et $${
            B + C
          }=${tex_nombre(b)}$ cm.<br>`;
          texte += `$${nom_quadrilatere}$ est-il un rectangle ?`;
          if (sortie_html) {
            texte_corr = `<p style="margin-left:10%"><svg xmlns="http://www.w3.org/2000/svg" width="400" height="200" viewBox="0 0 400 200"><defs id="mtg32_patterns"/><rect width="100%" height="100%" fill="rgb(255,255,255)"/><g id="mtg32svgTraces" transform="scale(1)"/><text x="85.5" y="46.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${A}</tspan></text><g id=""/><text x="252.5" y="45.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${B}</tspan></text><text x="302.5" y="156.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${C}</tspan></text><g id=""/><line x1="256.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="256.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><g id=""/><text x="137.5" y="155.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>${D}</tspan></text><line x1="307.5" y1="138.44" x2="143.5" y2="138.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="143.5" y1="138.44" x2="92.5" y2="52.44" style="stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="92.5" y1="52.44" x2="307.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><line x1="256.5" y1="52.44" x2="143.5" y2="138.44" style="stroke-dasharray:3 3;stroke-width:1;stroke:rgb(0,0,0);"  id=""/><text x="200" y="114.44" style="text-anchor : left;fill:rgb(0,0,0);font-size:16px;" id="name"  visibility="visible"><tspan>O</tspan></text></svg></p>`;
          } else {
            texte_corr = ``;
          }
          texte_corr += `Dans le triangle $${
            A + B + C
          }$, le plus grand côté est $[${A + C}]$.<br>`;
          texte_corr += `$${A + C}^2=${tex_nombre(c)}^2=${tex_nombrec(
            c ** 2
          )}$<br>`;
          texte_corr += `$${A + B}^2+${B + C}^2=${tex_nombre(a)}^2+${tex_nombre(
            b
          )}^2=${tex_nombrec(a ** 2 + b ** 2)}$<br>`;
          texte_corr += `On constate que $${A + C}^2\\not=${A + B}^2+${
            B + C
          }^2$, l'égalité de Pythagore n'est pas vérifiée donc $${
            A + B + C
          }$ n'est pas rectangle en $${B}$.<br>`;
          texte_corr += `Finalement, comme $${nom_quadrilatere}$ n'a pas d'angle droit en $${B}$ ce n'est pas un rectangle.`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Puissances d'un relatif (1)
 * * L’objectif est de travailler le sens des règles de calcul sur les puissances plutôt que les formules magiques
 *
 * Paramétrages possibles :
 * * 1 : produit de puissances de même base
 * * 2 : quotient de puissances de même base
 * * 3 : puissance de puissance
 * * 4 : produit de puissances de même exposant
 * * 5 : mélange des trois autres niveaux
 * @Auteur Sébastien Lozano
 * 4C33-1
 */
function Puissances_d_un_relatif_1() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances : Le sens des règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{a^n}$.")
    : (this.consigne = "Écrire sous la forme $a^n$.");
  sortie_html ? (this.spacing = 3) : (this.spacing = 2);
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);
  this.nb_questions = 5;
  this.correction_detaillee_disponible = true;
  this.nb_cols_corr = 1;
  this.sup = 5;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions;
    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [];
    if (this.sup == 1) {
      type_de_questions_disponibles = [1]; // produit de puissances de même base
    } else if (this.sup == 2) {
      type_de_questions_disponibles = [2]; // quotient de puissances de même base
    } else if (this.sup == 3) {
      type_de_questions_disponibles = [3]; // puissance de puissance
    } else if (this.sup == 4) {
      type_de_questions_disponibles = [4]; // produit de puissances de même exposant
    } else if (this.sup == 5) {
      type_de_questions_disponibles = [1, 2, 3, 4]; // mélange
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    // pour pouvoir adapter les couleurs en cas de besoin
    let coul0 = "red";
    let coul1 = "blue";

    for (
      let i = 0,
        base0,
        base1,
        base,
        base_utile,
        exp0,
        exp1,
        exp,
        coul_exp0,
        coul_exp1,
        lettre,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];

      base = randint(2, 9) * choice([-1, 1]); // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances
      exp0 = randint(1, 9);
      exp1 = randint(1, 9, [exp0]);
      exp = [exp0, exp1]; // on choisit deux exposants différents c'est mieux
      lettre = lettre_depuis_chiffre(i + 1); // on utilise des lettres pour les calculs

      if (base < 0) {
        base_utile = "(" + base + ")"; // on définit une base avec des parenthèses pour l'affichage du cas negatif
      } else {
        base_utile = base;
      }

      switch (type_de_questions) {
        case 1: // produit de puissances de même base
          texte = `$${lettre}=${base_utile}^${exp[0]}\\times ${base_utile}^${exp[1]}$`;

          texte_corr = `$${lettre}=${base_utile}^${exp[0]}\\times ${base_utile}^${exp[1]}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              base_utile,
              exp[0],
              coul0
            )} \\times ${eclatePuissance(base_utile, exp[1], coul1)}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[0]}}~\\color{black}{+}~\\color{${coul1}}{${exp[1]}}}$ facteurs tous égaux à $${base_utile}$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=${base_utile}^{${exp[0]}+${
            exp[1]
          }} = ${base_utile}^{${exp[0] + exp[1]}}`;
          // attention la base_utile est de type str alors que la fonction switch sur un type number
          if (simpNotPuissance(base, exp[0] + exp[1]) != ` `) {
            texte_corr += `=${simpNotPuissance(base, exp[0] + exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 2: // quotient de puissances de même base
          // Pour que la couleur de la base associée à l'exposant max soit toujours rouge.
          if (Math.max(exp[0], exp[1]) == exp[0]) {
            coul_exp0 = coul0;
            coul_exp1 = coul1;
          } else {
            coul_exp0 = coul1;
            coul_exp1 = coul0;
          }

          texte = `$${lettre}=\\dfrac{${base_utile}^${exp[0]}}{${base_utile}^${exp[1]}}$`;

          texte_corr = `$${lettre}=\\dfrac{${base_utile}^${exp[0]}}{${base_utile}^${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
              base_utile,
              exp[0],
              coul_exp0
            )}}{${eclatePuissance(base_utile, exp[1], coul_exp1)}}$`;
          }
          texte_corr += `<br><br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul1}}{${Math.min(
            exp[0],
            exp[1]
          )}}}$ simplifications par $${base_utile}$ possibles.`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
          }
          if (exp[0] - exp[1] == 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=1`;
          } else if (exp[0] - exp[1] < 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[0],
                coul_exp1
              )}\\times${eclatePuissance(
                base_utile,
                exp[1] - exp[0],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{1}{${base_utile}^{${exp[1]}-${
              exp[0]
            }}}=\\dfrac{1}{${base_utile}^{${exp[1] - exp[0]}}}`;
            if (simpNotPuissance(base, exp[1] - exp[0]) != ` `) {
              texte_corr += `=\\dfrac{1}{${simpNotPuissance(
                base,
                exp[1] - exp[0]
              )}}=${simpNotPuissance(base, exp[0] - exp[1])}`;
            } else {
              texte_corr += `=${base_utile}^{${exp[0] - exp[1]}}`;
            }
          } else {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[1],
                coul_exp0
              )}\\times${eclatePuissance(
                base_utile,
                exp[0] - exp[1],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{${base_utile}}`,
                exp[1],
                coul_exp1
              )}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=${base_utile}^{${exp[0]}-${
              exp[1]
            }}=${base_utile}^{${exp[0] - exp[1]}}`;
            if (simpNotPuissance(base, exp[0] - exp[1]) != ` `) {
              texte_corr += `=${simpNotPuissance(base, exp[0] - exp[1])}`;
            }
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 3: // exponentiation
          exp = [randint(2, 4), randint(2, 4)]; // on redéfinit les deux exposants pour ne pas avoir d'écritures trop longues et pour éviter 1
          texte = `$${lettre}=(${base_utile}^${exp[0]})^{${exp[1]}}$`;

          texte_corr = `$${lettre}=(${base_utile}^${exp[0]})^{${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(${base_utile}^${exp[0]})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\thickspace\\text{facteurs}}}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(\\color{${coul1}}{\\underbrace{${eclatePuissance(
                base_utile,
                exp[0],
                coul1
              )}}_{${exp[0]}\\thickspace\\text{facteurs}}}\\color{${coul0}})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\times\\color{${coul1}}{${
              exp[0]
            }}\\thickspace\\color{black}{\\text{facteurs}}}}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[1]}}~\\color{black}{\\times}~\\color{${coul1}}{${exp[0]}}}$ facteurs tous égaux à $${base_utile}$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=${base_utile}^{${exp[0]}\\times${
            exp[1]
          }} = ${base_utile}^{${exp[0] * exp[1]}}`;
          if (simpNotPuissance(base, exp[0] * exp[1]) != ` `) {
            texte_corr += `= ${simpNotPuissance(base, exp[0] * exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 4: // produit de puissances de même exposant
          base0 = randint(2, 8, [4, 6]);
          base1 = randint(2, 8, [4, 6, base0]);
          base = [base0, base1]; // on choisit 2 bases différentes c'est mieux
          exp = randint(2, 5, 6); // on choisit un exposant
          texte = `$${lettre}=${base[0]}^${exp}\\times ${base[1]}^${exp}$`;
          texte_corr += `<br>`;
          texte_corr = `$${lettre}=${base[0]}^${exp}\\times ${base[1]}^${exp}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              base[0],
              exp,
              coul0
            )} \\times ${eclatePuissance(base[1], exp, coul1)}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${reorganiseProduitPuissance(
              base[0],
              base[1],
              exp,
              coul0,
              coul1
            )}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `$${lettre}= (\\color{${coul0}}{\\mathbf{${
            base[0]
          }}} \\color{black}{\\times} \\color{${coul1}}{\\mathbf{${
            base[1]
          }}}\\color{black}{)^{${exp}}}=${base[0] * base[1]}^${exp}$`;
          texte_corr += `<br>`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Règle à travailler",
    5,
    "1 : Produit de deux puissances de même base\n2 : Quotient de deux puissances de même base\n3 : Puissance de puissance\n4 : Produit de puissances de même exposant\n5 : Mélange",
  ];
}

/**
 * Puissances d'un relatif (2)
 * * Travailler des résultats automatisés
 * * mais aussi d'utiliser les propriétés du produit de puissance, du quotient de puissances et des puissances de puissances
 * @Auteur Sébastien Lozano
 * 4C33-3
 */
function Puissances_d_un_relatif_2() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances : Calculs automatisés et règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{a^n}$.")
    : (this.consigne = "Écrire sous la forme $a^n$.");
  this.spacing = 2;
  this.spacing_corr = 2.5;
  this.nb_questions = 8;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    for (
      let i = 0, base, exp, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let type_de_questions = liste_type_de_questions[i];

      switch (type_de_questions) {
        case 1:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base * base}}{${base}^${
            exp[1]
          } \\times ${base}^${exp[2]}}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${
            base * base
          }}{${base}^${exp[1]} \\times ${base}^${exp[2]}}`;
          texte_corr += ` = \\dfrac{${base}^${exp[0]}\\times ${base}^{2}}{${base}^${exp[1]} \\times ${base}^${exp[2]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0]}+2}}{${base}^{${exp[1]}+${exp[2]}}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0] + 2}}}{${base}^{${
            exp[1] + exp[2]
          }}}`;
          texte_corr += ` = ${base}^{${exp[0] + 2}-${exp[1] + exp[2]}}`;
          texte_corr += ` = ${base}^{${exp[0] + 2 - exp[1] - exp[2]}}`;
          if (
            exp[0] + 2 - exp[1] - exp[2] == 0 ||
            exp[0] + 2 - exp[1] - exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, exp[0] + 2 - exp[1] - exp[2]);
          }
          texte_corr += `$`;
          break;
        case 2:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 2 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base ** 3}}{${base}^${
            exp[1]
          }}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${
            base ** 3
          }}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^${exp[0]}\\times ${base}^3}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0]}+3}}{${base}^${exp[1]}}`;
          texte_corr += ` = \\dfrac{${base}^{${exp[0] + 3}}}{${base}^${
            exp[1]
          }}`;
          texte_corr += ` = ${base}^{${exp[0] + 3}-${exp[1]}}`;
          texte_corr += ` = ${base}^{${exp[0] + 3 - exp[1]}}`;
          if (exp[0] + 3 - exp[1] == 0 || exp[0] + 3 - exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, exp[0] + 3 - exp[1]);
          }
          texte_corr += `$`;
          break;
        case 3:
          base = 5; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 2)]; // on a besoin de 2 exposants distincts
          // le second exposant ne peut valoir que 1 ou 2 la fonction testExp ne convient pas à l'affichage ici
          if (exp[1] == 2) {
            texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${base ** 2}^${
              exp[1]
            }}$`;
            texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
              base ** 2
            }^${exp[1]}}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{(${base}^2)^${exp[1]}}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^{2 \\times ${exp[1]}}}`;
            texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{${
              2 * exp[1]
            }}}`;
          } else {
            texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${base ** 2}}$`;
            texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
              base ** 2
            }}`;
            texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^2}`;
          }
          texte_corr += `=${base}^{${1 + exp[0]}-${2 * exp[1]}}`;
          texte_corr += `=${base}^{${1 + exp[0] - 2 * exp[1]}}`;
          if (1 + exp[0] - 2 * exp[1] == 0 || 1 + exp[0] - 2 * exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, 1 + exp[0] - 2 * exp[1]);
          }
          texte_corr += `$`;
          break;
        case 4:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
            base ** 2
          }\\times ${base ** 2}}$`;
          texte_corr = `$\\dfrac{${base}\\times ${base}^${exp[0]}}{${
            base ** 2
          }\\times ${base ** 2}}`;
          texte_corr += `=\\dfrac{${base}^{1+${exp[0]}}}{${base}^2\\times ${base}^2}`;
          texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{2+2}}`;
          texte_corr += `=\\dfrac{${base}^{${1 + exp[0]}}}{${base}^{${2 + 2}}}`;
          texte_corr += `=${base}^{${1 + exp[0]}-${2 + 2}}`;
          texte_corr += `=${base}^{${1 + exp[0] - 2 - 2}}`;
          if (1 + exp[0] - 2 - 2 == 0 || 1 + exp[0] - 2 - 2 == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(base, 1 + exp[0] - 2 - 2);
          }
          texte_corr += `$`;
          break;
        case 5:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 2}^${exp[0]}}{${base}}$`;
          texte_corr = `$\\dfrac{${base ** 2}^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{(${base}^2)^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{2\\times ${exp[0]}}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{${2 * exp[0]}}}{${base}}`;
          texte_corr += `=${base}^{${2 * exp[0]}-1}`;
          texte_corr += `=${base}^{${2 * exp[0] - 1}}$`;
          // Inutile de tester l'exposant final car il vaut au minimum 3
          break;
        case 6:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 3, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 3}^${exp[0]}}{${base}}$`;
          texte_corr = `$\\dfrac{${base ** 3}^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{(${base}^3)^${exp[0]}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{3\\times ${exp[0]}}}{${base}}`;
          texte_corr += `=\\dfrac{${base}^{${3 * exp[0]}}}{${base}}`;
          texte_corr += `=${base}^{${3 * exp[0]}-1}`;
          texte_corr += `=${base}^{${3 * exp[0] - 1}}$`;
          // inutile de tester l'exposant final car il vaut au minimum 5
          break;
        case 7:
          base = 3; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 4, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{${base}^${exp[0]}\\times ${base}^${exp[1]}}{${
            base ** 2
          }^${exp[2]}}\\times ${base}$`;
          texte_corr = `$\\dfrac{${base}^${exp[0]}\\times ${base}^${exp[1]}}{${
            base ** 2
          }^${exp[2]}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0]}+${exp[1]}}}{(${base}^2)^${exp[2]}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${
            exp[0] + exp[1]
          }}}{${base}^{2\\times ${exp[2]}}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1]}}}{${base}^{${
            2 * exp[2]
          }}}\\times ${base}`;
          texte_corr += `=\\dfrac{${base}^{${
            exp[0] + exp[1]
          }}\\times ${base}}{${base}^{${2 * exp[2]}}}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1]}+1}}{${base}^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{${base}^{${exp[0] + exp[1] + 1}}}{${base}^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=${base}^{${exp[0] + exp[1] + 1}-${2 * exp[2]}}`;
          texte_corr += `=${base}^{${exp[0] + exp[1] + 1 - 2 * exp[2]}}`;
          if (
            exp[0] + exp[1] + 1 - 2 * exp[2] == 0 ||
            exp[0] + exp[1] + 1 - 2 * exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(base, exp[0] + exp[1] + 1 - 2 * exp[2]);
          }
          texte_corr += `$`;
          break;
        case 8:
          base = 2; // on travaille sur cette base mais on pourrait rendre la base aléatoire
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{${base ** 3}\\times ${base}}{${base ** 2}^${
            exp[0]
          }}$`;
          texte_corr = `$\\dfrac{${base ** 3}\\times ${base}}{${base ** 2}^${
            exp[0]
          }}`;
          texte_corr += `=\\dfrac{${base}^3\\times ${base}}{(${base}^2)^${exp[0]}}`;
          texte_corr += `=\\dfrac{${base}^{3+1}}{${base}^{2\\times${exp[0]}}}`;
          texte_corr += `=\\dfrac{${base}^{4}}{${base}^{${2 * exp[0]}}}`;
          texte_corr += `=${base}^{4-${2 * exp[0]}}`;
          texte_corr += `=${base}^{${3 + 1 - 2 * exp[0]}}`;
          if (3 + 1 - 2 * exp[0] == 0 || 3 + 1 - 2 * exp[0] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(base, 3 + 1 - 2 * exp[0]);
          }
          texte_corr += `$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * 4C30 -- Puissances de 10
 * * Travailler des résultats automatisés
 * @author Sébastien Lozano
 */
function Puissances_de_dix() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  this.titre = "Puissances de 10 : Le sens des règles de calculs";
  sortie_html
    ? (this.consigne = "Écrire sous la forme $\\mathbf{10^n}$.")
    : (this.consigne = "Écrire sous la forme $10^n$.");
  sortie_html ? (this.spacing = 3) : (this.spacing = 2);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 5;
  this.correction_detaillee_disponible = true;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions;
    this.bouton_aide = modal_pdf(
      numero_de_l_exercice,
      "pdf/FichePuissances-4N21.pdf",
      "Aide mémoire sur les puissances (Sébastien Lozano)",
      "Aide mémoire"
    );

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [];
    if (this.sup == 1) {
      type_de_questions_disponibles = [1, 2, 3]; // produit, quotient et exponentiation de puissances de 10
    } else if (this.sup == 2) {
      type_de_questions_disponibles = [4, 5, 6, 7, 8, 9, 10, 11]; // calculs première série
    } else if (this.sup == 3) {
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]; // calculs deuxième série
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );

    // pour pouvoir adapter les couleurs en cas de besoin
    let coul0 = "red";
    let coul1 = "blue";

    for (
      let i = 0,
        exp0,
        exp1,
        exp,
        coul_exp0,
        coul_exp1,
        lettre,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];

      exp0 = randint(1, 9);
      exp1 = randint(1, 9, [exp0]);
      exp = [exp0, exp1]; // on choisit deux exposants différents c'est mieux
      lettre = lettre_depuis_chiffre(i + 1); // on utilise des lettres pour les calculs

      switch (type_de_questions) {
        case 1: // produit de puissances de même base
          texte = `$${lettre}=10^${exp[0]}\\times 10^${exp[1]}$`;

          texte_corr = `$${lettre}=10^${exp[0]}\\times 10^${exp[1]}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=${eclatePuissance(
              10,
              exp[0],
              coul0
            )} \\times ${eclatePuissance(10, exp[1], coul1)}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[0]}}~\\color{black}{+}~\\color{${coul1}}{${exp[1]}}}$ facteurs tous égaux à $10$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=10^{${exp[0]}+${exp[1]}} = 10^{${
            exp[0] + exp[1]
          }}`;
          // attention la base est de type str alors que la fonction switch sur un type number
          if (simpNotPuissance(10, exp[0] + exp[1]) != ` `) {
            texte_corr += `=${simpNotPuissance(10, exp[0] + exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 2: // quotient de puissances de même base
          // Pour que la couleur de la 10 associée à l'exposant max soit toujours rouge.
          if (Math.max(exp[0], exp[1]) == exp[0]) {
            coul_exp0 = coul0;
            coul_exp1 = coul1;
          } else {
            coul_exp0 = coul1;
            coul_exp1 = coul0;
          }

          texte = `$${lettre}=\\dfrac{10^${exp[0]}}{10^${exp[1]}}$`;

          texte_corr = `$${lettre}=\\dfrac{10^${exp[0]}}{10^${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
              10,
              exp[0],
              coul_exp0
            )}}{${eclatePuissance(10, exp[1], coul_exp1)}}$`;
          }
          texte_corr += `<br><br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul1}}{${Math.min(
            exp[0],
            exp[1]
          )}}}$ simplifications par $10$ possibles.`;
          if (this.correction_detaillee) {
            texte_corr += `<br><br>`;
          }
          if (exp[0] - exp[1] == 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(`\\cancel{10}`, exp[0], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=1`;
          } else if (exp[0] - exp[1] < 0) {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp0
              )}}{${eclatePuissance(
                `\\cancel{10}`,
                exp[0],
                coul_exp1
              )}\\times${eclatePuissance(10, exp[1] - exp[0], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=\\dfrac{1}{10^{${exp[1]}-${
              exp[0]
            }}}=\\dfrac{1}{10^{${exp[1] - exp[0]}}}`;
            if (simpNotPuissance(10, exp[1] - exp[0]) != ` `) {
              texte_corr += `=\\dfrac{1}{${simpNotPuissance(
                10,
                exp[1] - exp[0]
              )}}=${simpNotPuissance(10, exp[0] - exp[1])}`;
            } else {
              texte_corr += `=10^{${exp[0] - exp[1]}}`;
            }
          } else {
            if (this.correction_detaillee) {
              texte_corr += `$${lettre}=\\dfrac{${eclatePuissance(
                `\\cancel{10}`,
                exp[1],
                coul_exp0
              )}\\times${eclatePuissance(
                10,
                exp[0] - exp[1],
                coul_exp0
              )}}{${eclatePuissance(`\\cancel{10}`, exp[1], coul_exp1)}}$`;
            }
            texte_corr += `<br><br>`;
            texte_corr += `$${lettre}=10^{${exp[0]}-${exp[1]}}=10^{${
              exp[0] - exp[1]
            }}`;
            if (simpNotPuissance(10, exp[0] - exp[1]) != ` `) {
              texte_corr += `=${simpNotPuissance(10, exp[0] - exp[1])}`;
            }
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 3: // exponentiation
          exp = [randint(2, 4), randint(2, 4)]; // on redéfinit les deux exposants pour ne pas avoir d'écritures trop longues et pour éviter 1
          texte = `$${lettre}=(10^${exp[0]})^{${exp[1]}}$`;

          texte_corr = `$${lettre}=(10^${exp[0]})^{${exp[1]}}$`;
          if (this.correction_detaillee) {
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(10^${exp[0]})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\thickspace\\text{facteurs}}}$`;
            texte_corr += `<br>`;
            texte_corr += `$${lettre}=\\color{${coul0}}{\\underbrace{${eclatePuissance(
              `(\\color{${coul1}}{\\underbrace{${eclatePuissance(
                10,
                exp[0],
                coul1
              )}}_{${exp[0]}\\thickspace\\text{facteurs}}}\\color{${coul0}})`,
              exp[1],
              coul0
            )}}_{${exp[1]}\\times\\color{${coul1}}{${
              exp[0]
            }}\\thickspace\\color{black}{\\text{facteurs}}}}$`;
          }
          texte_corr += `<br>`;
          texte_corr += `Il y a donc $\\mathbf{\\color{${coul0}}{${exp[1]}}~\\color{black}{\\times}~\\color{${coul1}}{${exp[0]}}}$ facteurs tous égaux à $10$`;
          texte_corr += `<br>`;
          texte_corr += `$${lettre}=10^{${exp[0]}\\times${exp[1]}} = 10^{${
            exp[0] * exp[1]
          }}`;
          if (simpNotPuissance(10, exp[0] * exp[1]) != ` `) {
            texte_corr += `= ${simpNotPuissance(10, exp[0] * exp[1])}`;
          }
          texte_corr += `$`;
          texte_corr += `<br>`;
          break;
        case 4:
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 100}{10^${exp[1]} \\times 10^${exp[2]}}$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 100}{10^${exp[1]} \\times 10^${exp[2]}}`;
          texte_corr += ` = \\dfrac{10^${exp[0]}\\times 10^{2}}{10^${exp[1]} \\times 10^${exp[2]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0]}+2}}{10^{${exp[1]}+${exp[2]}}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0] + 2}}}{10^{${
            exp[1] + exp[2]
          }}}`;
          texte_corr += ` = 10^{${exp[0] + 2}-${exp[1] + exp[2]}}`;
          texte_corr += ` = 10^{${exp[0] + 2 - exp[1] - exp[2]}}`;
          if (
            exp[0] + 2 - exp[1] - exp[2] == 0 ||
            exp[0] + 2 - exp[1] - exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, exp[0] + 2 - exp[1] - exp[2]);
          }
          texte_corr += `$`;
          break;
        case 5:
          exp = [randint(1, 7, [1]), randint(1, 7, [1])]; // on a besoin de 2 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 1000}{10^${exp[1]}}$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 1000}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^${exp[0]}\\times 10^3}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0]}+3}}{10^${exp[1]}}`;
          texte_corr += ` = \\dfrac{10^{${exp[0] + 3}}}{10^${exp[1]}}`;
          texte_corr += ` = 10^{${exp[0] + 3}-${exp[1]}}`;
          texte_corr += ` = 10^{${exp[0] + 3 - exp[1]}}`;
          if (exp[0] + 3 - exp[1] == 0 || exp[0] + 3 - exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, exp[0] + 3 - exp[1]);
          }
          texte_corr += `$`;
          break;
        case 6:
          exp = [randint(1, 7, [1]), randint(1, 2)]; // on a besoin de 2 exposants distincts
          // le second exposant ne peut valoir que 1 ou 2 la fonction testExp ne convient pas à l'affichage ici
          if (exp[1] == 2) {
            texte = `$\\dfrac{10\\times 10^${exp[0]}}{100^${exp[1]}}$`;
            texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100^${exp[1]}}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{(10^2)^${exp[1]}}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^{2 \\times ${exp[1]}}}`;
            texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{${2 * exp[1]}}}`;
          } else {
            texte = `$\\dfrac{10\\times 10^${exp[0]}}{100}$`;
            texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100}`;
            texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^2}`;
          }
          texte_corr += `=10^{${1 + exp[0]}-${2 * exp[1]}}`;
          texte_corr += `=10^{${1 + exp[0] - 2 * exp[1]}}`;
          if (1 + exp[0] - 2 * exp[1] == 0 || 1 + exp[0] - 2 * exp[1] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, 1 + exp[0] - 2 * exp[1]);
          }
          texte_corr += `$`;
          break;
        case 7:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{10\\times 10^${exp[0]}}{100\\times 100}$`;
          texte_corr = `$\\dfrac{10\\times 10^${exp[0]}}{100\\times 100}`;
          texte_corr += `=\\dfrac{10^{1+${exp[0]}}}{10^2\\times 10^2}`;
          texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{2+2}}`;
          texte_corr += `=\\dfrac{10^{${1 + exp[0]}}}{10^{${2 + 2}}}`;
          texte_corr += `=10^{${1 + exp[0]}-${2 + 2}}`;
          texte_corr += `=10^{${1 + exp[0] - 2 - 2}}`;
          if (1 + exp[0] - 2 - 2 == 0 || 1 + exp[0] - 2 - 2 == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant 1 est évincé
            texte_corr += `=` + simpExp(10, 1 + exp[0] - 2 - 2);
          }
          texte_corr += `$`;
          break;
        case 8:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{100^${exp[0]}}{10}$`;
          texte_corr = `$\\dfrac{100^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{(10^2)^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{10^{2\\times ${exp[0]}}}{10}`;
          texte_corr += `=\\dfrac{10^{${2 * exp[0]}}}{10}`;
          texte_corr += `=10^{${2 * exp[0]}-1}`;
          texte_corr += `=10^{${2 * exp[0] - 1}}$`;
          // Inutile de tester l'exposant final car il vaut au minimum 3
          break;
        case 9:
          exp = [randint(1, 3, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{1000^${exp[0]}}{10}$`;
          texte_corr = `$\\dfrac{1000^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{(10^3)^${exp[0]}}{10}`;
          texte_corr += `=\\dfrac{10^{3\\times ${exp[0]}}}{10}`;
          texte_corr += `=\\dfrac{10^{${3 * exp[0]}}}{10}`;
          texte_corr += `=10^{${3 * exp[0]}-1}`;
          texte_corr += `=10^{${3 * exp[0] - 1}}$`;
          // inutile de tester l'exposant final car il vaut au minimum 5
          break;
        case 10:
          exp = [randint(1, 7, [1]), randint(1, 7, [1]), randint(1, 4, [1])]; // on a besoin de 3 exposants distincts
          texte = `$\\dfrac{10^${exp[0]}\\times 10^${exp[1]}}{100^${exp[2]}}\\times 10$`;
          texte_corr = `$\\dfrac{10^${exp[0]}\\times 10^${exp[1]}}{100^${exp[2]}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0]}+${exp[1]}}}{(10^2)^${exp[2]}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}}{10^{2\\times ${
            exp[2]
          }}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}}{10^{${
            2 * exp[2]
          }}}\\times 10`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}}\\times 10}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1]}+1}}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=\\dfrac{10^{${exp[0] + exp[1] + 1}}}{10^{${
            2 * exp[2]
          }}}`;
          texte_corr += `=10^{${exp[0] + exp[1] + 1}-${2 * exp[2]}}`;
          texte_corr += `=10^{${exp[0] + exp[1] + 1 - 2 * exp[2]}}`;
          if (
            exp[0] + exp[1] + 1 - 2 * exp[2] == 0 ||
            exp[0] + exp[1] + 1 - 2 * exp[2] == 1
          ) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(10, exp[0] + exp[1] + 1 - 2 * exp[2]);
          }
          texte_corr += `$`;
          break;
        case 11:
          exp = [randint(1, 7, [1])]; // on a besoin de 1 exposant
          texte = `$\\dfrac{1000\\times 10}{100^${exp[0]}}$`;
          texte_corr = `$\\dfrac{1000\\times 10}{100^${exp[0]}}`;
          texte_corr += `=\\dfrac{10^3\\times 10}{(10^2)^${exp[0]}}`;
          texte_corr += `=\\dfrac{10^{3+1}}{10^{2\\times${exp[0]}}}`;
          texte_corr += `=\\dfrac{10^{4}}{10^{${2 * exp[0]}}}`;
          texte_corr += `=10^{4-${2 * exp[0]}}`;
          texte_corr += `=10^{${3 + 1 - 2 * exp[0]}}`;
          if (3 + 1 - 2 * exp[0] == 0 || 3 + 1 - 2 * exp[0] == 1) {
            // on ne teste l'exposant que pour la sortie puisque l'exposant est évincé
            texte_corr += `=` + simpExp(10, 3 + 1 - 2 * exp[0]);
          }
          texte_corr += `$`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Règle à travailler",
    3,
    "1 : Calculs de base\n2 : Calculs plus complexes\n3 : Mélange",
  ];
}

/**
 * problèmes de grandeurs composées
 * @Auteur Jean-Claude Lhote
 * Référence : 4P10
 */
function Problemes_grandeurs_composees() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Résoudre des problèmes de grandeurs composées et de conversion d'unités complexes";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  sortie_html ? (this.spacing = 3) : (this.spacing = 1.5);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.sup = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    // let liste_index_disponibles=[1,2,3,4,5,6,7,8,9,10,11,12,13,14];
    // let liste_index=combinaison_listes(liste_index_disponibles,this.nb_questions);
    let grandeurs = [];
    if (!this.sup) {
      // Si aucune grandeur n'est saisie
      grandeurs = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        grandeurs[0] = this.sup;
        this.nb_questions = 1;
      } else {
        grandeurs = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        this.nb_questions = grandeurs.length;
      }
    }

    let liste_index = combinaison_listes(grandeurs, this.nb_questions);
    let monchoix;
    let type_aide = 1;
    if (!sortie_html) type_aide = 0;
    let solutes = [
      [`sel`, `d'eau`, 300],
      [`sucre`, `d'eau`, 2000],
      [`dioxyde de carbone`, `d'eau`, 3],
      [`bicarbonate de sodium`, `d'eau`, 9],
      [`carbonate de sodium`, `d'eau`, 300],
    ]; //soluté, masse maximale en gramme pour saturer 1 L de solvant
    let materiaux = [
      [`Paladium`, 12000],
      [`acier`, 7800],
      [`fonte`, 7100],
      [`aluminium`, 2700],
      [`argent`, 10500],
      [`bronze`, 8800],
      [`cuivre`, 8960],
      [`fer`, 7860],
      [`lithium`, 530],
      [`mercure`, 13545],
      [`nickel`, 8900],
      [`or`, 19300],
      [`platine`, 21450],
      [`titane`, 4500],
      [`zinc`, 7150],
    ];
    let villes = [
      [`Nice`, 342637, 71.9],
      [`Montpellier`, 281613, 56.9],
      [`Rennes`, 216268, 50.4],
      [`Dijon`, 155090, 40.4],
      [`Orléans`, 114782, 27.5],
      [`Clermont-Ferrand`, 142686, 42.7],
      [`Nantes`, 306694, 65.2],
      [`Paris`, 2190327, 105.4],
      [`Lyon`, 515695, 47.9],
      [`Marseille`, 862211, 240.6],
      [`Bordeaux`, 252040, 49.4],
      [`Nancy`, 104592, 15],
      [`Toulouse`, 475438, 118.3],
      [`Lille`, 232440, 34.8],
      [`Strasbourg`, 279284, 78.3],
    ]; //[Ville, population, superfice en ha, année du recensement]
    let locations = [
      [`un vélo`, 1.5, 2, 8],
      [`un canoé`, 10, 2, 4],
      [`des rollers`, 7, 2, 5],
      [`un char à voile`, 12, 2, 4],
    ];
    let cours = [
      [`de piano`, 20],
      [`de maths`, 25],
      [`yoga`, 5],
      [`dessin`, 12],
      [`voile`, 15],
    ];
    let fruits = [
      [`pêches`, 4, 10, 30],
      [`Noix`, 5.4, 4, 13],
      [`cerises`, 5.6, 11, 20],
      [`pommes`, 2.2, 20, 40],
      [`framboises`, 15, 1, 5],
      [`fraises`, 7.5, 5, 10],
      [`citrons`, 1.5, 15, 30],
      [`bananes`, 1.5, 15, 25],
    ];
    let appareils = [
      [`radiateur`, 2000, 20],
      [`téléviseur`, 350, 12],
      [`four électrique`, 2500, 4],
      [`ordinateur`, 450, 8],
    ]; // [appareil,puissance,durée maxi de fonctionnement]
    let liquides = [
      [`de lait entier`, 1.032],
      [`d'essence`, 0.755],
      [`de diesel`, 0.83],
      [`d'huile`, 0.91],
      [`de bière`, 0.9],
      [`de sable`, 1.6],
    ]; // [nom,densité]
    let rivieres = [
      [`Marne`, `Gournay-sur-Marne`, 110, 550, `avril 1983`, `la `, `de la `],
      [`Seine`, `Alfortville`, 218, 2100, `janvier 1982`, `la `, `de la `],
      [`Oise`, `Pont-Sainte-Maxence`, 109, 665, `février 1995`, `l'`, `de l'`],
      [`Loire`, `Saint-Nazaire`, 931, 5350, `décembre 1999`, `la `, `de la`],
      [`Rhin`, `Strasbourg`, 951, 3310, `juin 2016`, `le `, `du `],
      [`Rhône`, `Beaucaire`, 1690, 11500, `décembre 2003`, `le `, `du `],
      [`Meuse`, `Chooz`, 144, 1610, `janvier 1995`, `la `, `de la `],
    ];
    // [Nom de rivière,Lieu de passage,débit moyen annuel, débitmax, date de la crue, article défini, article partitif]
    let vitesses = [
      [`sur un vélo`, 4, 12, 8],
      [`dans un train`, 50, 100, 5],
      [`dans une voiture`, 15, 30, 5],
      [`en avion`, 150, 250, 12],
      [`à pied`, 2, 4, 5],
    ]; // [moyen de transport, vitesse min,vitesse max en m/s,durée max en h]
    for (
      let i = 0,
        j,
        index,
        index1,
        index2,
        duree,
        quidam,
        nbheures,
        nbminutes,
        nbsecondes,
        vitesse_moy,
        distance,
        masse,
        masse2,
        masse3,
        prix1,
        prix2,
        prix3,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (parseInt(liste_index[i])) {
        case 1: // problème de consommation éléctrique
          index = randint(0, 3);
          let appareil = appareils[index][0];
          let puissance = appareils[index][1];
          let duree_max = appareils[index][2];
          let nbquartsdheures = randint(0, 3);
          nbheures = randint(duree_max / 4, duree_max, [1]);
          duree = nbheures + nbquartsdheures * 0.25;
          let prixkwh = calcul(randint(0, 5) / 100 + 0.14);
          texte = `L'étiquette apposée au dos d'un ${appareil} indique une puissance de ${puissance} Watts. On le fait fonctionner pendant ${Math.floor(
            duree
          )} heures `;
          if (nbquartsdheures != 0)
            texte += `et ${nbquartsdheures * 15} minutes`;
          texte += `.<br>Le prix d'un kWh est de ${tex_nombrec(
            prixkwh
          )} €.<br>`;
          if (sortie_html) {
            // les boutons d'aide uniquement pour la version html
          }
          texte +=
            num_alpha(0) +
            ` Exprimer en kWh l' ` +
            katex_Popup2(
              numero_de_l_exercice + i + 1,
              type_aide,
              "énergie",
              `Définition : énergie (grandeur physique)`,
              `C’est le produit de la puissance électrique (Watt) par le temps (s) et se mesure en Joule (J).<br>1 J=1 W × 1 s.<br>Cependant pour mesurer des énergies plus importantes on utilise plutôt le kiloWattheure (kWh).<br>1 kWh=1000 W × 1 h.`
            ) +
            ` consommée.<br>`;
          texte += num_alpha(1) + ` Calculer la dépense correspondante.`;
          texte_corr =
            num_alpha(0) +
            ` Un ${appareil} d'une puissance de ${puissance} Watts qui fonctionne pendant ${Math.floor(
              duree
            )} heures `;
          if (nbquartsdheures != 0)
            texte_corr += `et ${nbquartsdheures * 15} minutes`;
          texte_corr += ` consomme : <br>`;
          if (nbquartsdheures != 0)
            texte_corr += `$${nbheures}\\text{ h } ${
              nbquartsdheures * 15
            } = ${nbheures}\\text{ h} + ${tex_fraction_reduite(
              nbquartsdheures,
              4
            )}\\text{ h} =${tex_nombre(
              nbheures + nbquartsdheures * 0.25
            )}\\text{ h}$<br>`;
          texte_corr += `$${puissance}\\text{ W}\\times${tex_nombre(
            duree
          )}\\text{ h}=${tex_nombre(
            puissance / 1000
          )}\\text{ kW}\\times${tex_nombre(duree)}\\text{ h}=${tex_nombre(
            calcul(puissance * duree * 0.001)
          )}\\text{ kWh}.$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le prix de cette énergie consommée est : $${tex_nombre(
              prixkwh
            )}$ €$\\text{ /kWh} \\times${tex_nombre(
              calcul(puissance * duree * 0.001)
            )}\\text{ kWh}`;
          if (
            !(
              (prixkwh * puissance * duree) / 10 ==
              Math.round((prixkwh * puissance * duree) / 10)
            )
          )
            texte_corr += `\\approx${arrondi_virgule(
              ((prixkwh * puissance) / 1000) * duree,
              2
            )}$ €`;
          else
            texte_corr += `=${arrondi_virgule(
              ((prixkwh * puissance) / 1000) * duree,
              2
            )}$ €`;
          break;
        case 2: // problèmes de volumes
          index1 = randint(0, 1);
          switch (index1) {
            case 0: // Volume d'une piscine
              let h1 = 180 + randint(0, 10) * 10;
              let h2 = 80 + randint(0, 4) * 10;
              let l = 5 + randint(0, 5);
              let L = l * 2 + randint(0, 4) * 2;
              let deltat = randint(2, 5);
              texte = `Une piscine a la forme d'un prisme droit. La profondeur à son extrémité nord est de ${h1} cm et la profondeur à son extrémité sud est de ${h2} cm.<br>`;
              texte += `D\'une extrémité à l\'autre la pente au fond de la piscine est régulière.<br>La largeur de la piscine (Est-Ouest) est de ${l} m et sa longueur (Nord-Sud) est de ${L} m.<br>`;
              texte +=
                num_alpha(0) +
                ` Calculer le ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "volume",
                  `Définition : volume (grandeur physique)`,
                  `C’est le produit de trois longueurs ou le produit d'une aire et d'une longueur.<br>L'unité de mesure du volume est le mètre cube (m${exposant(
                    3
                  )}) mais on peut aussi rencontrer le litre (L) avec comme correspondance 1dm${exposant(
                    3
                  )}=1L`
                ) +
                ` d'eau en m${exposant(
                  3
                )} contenu dans cette piscine quand elle est pleine.<br>`;
              texte +=
                num_alpha(1) +
                ` Sachant que pour élever la température d'un litre d'eau de 1 degré, il faut une énergie de 1,162 Wattheure.<br> Quelle est l'énergie consommée en kWh pour augmenter de ${deltat} degrés ?<br>`;
              texte_corr =
                num_alpha(0) +
                ` La base de ce prisme droit est un trapèze rectangle de petite base ${h2} cm, de grande base ${h1} cm et de hauteur ${L} m.<br>`;
              texte_corr += `$\\mathcal{A}=\\dfrac{\\left(${h1}\\text{ cm}+${h2}\\text{ cm}\\right)}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=\\dfrac{\\left(${arrondi_virgule(
                h1 / 100
              )}\\text{ m}+${arrondi_virgule(
                h2 / 100
              )}\\text{ m}\\right)}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=\\dfrac{${arrondi_virgule(
                (h1 + h2) / 100
              )}\\text{ m}}{2}\\times${L}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                (h1 + h2) / 200
              )}\\text{ m}\\times${L}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                ((h1 + h2) / 200) * L
              )}\\text{ m}$${exposant(2)}<br>`;
              texte_corr += `Le volume de ce prisme et donc par extension le volume d'eau conteu dans la piscine est :<br>`;
              texte_corr += `$\\mathcal{A}\\times\\mathcal{h}=${arrondi_virgule(
                ((h1 + h2) / 200) * L
              )}\\text{ m}^2\\times${l}\\text{ m}$`;
              texte_corr += ` $=${arrondi_virgule(
                ((h1 + h2) / 200) * L * l
              )}$m${exposant(3)}.<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Convertissons le volume de la piscine en litres : $${arrondi_virgule(
                  ((h1 + h2) / 200) * L * l
                )}\\text{ m}^3=${tex_nombre(
                  (h1 + h2) * L * l * 5
                )}\\text{ dm}^3=${tex_nombre(
                  (h1 + h2) * L * l * 5
                )}\\text{ L}$<br>`;
              texte_corr += ` L'énergie consomée pour élever la température de l'eau de cette piscine de ${deltat} degrés est :<br>`;
              texte_corr += `$\\mathcal{E}=${tex_nombre(
                (h1 + h2) * L * l * 5
              )}\\text{ L}\\times${deltat}\\text{ °C}\\times 1,162 \\dfrac{\\text{Wh}}{\\text{°C}\\times\\text{L}}=${tex_nombre(
                arrondi((h1 + h2) * L * l * 5 * deltat * 1.162, 3)
              )}\\text{ Wh}=${tex_nombre(
                arrondi((((h1 + h2) * L * l) / 200) * deltat * 1.162, 7)
              )}\\text{ kWh}$<br>`;
              break;
            case 1: // Volume d'un tonneau cylindrique
              index2 = randint(0, 5);
              let r = randint(10, 15) * 2;
              let h = randint(0, 10) + r * 4;
              texte = `Un tonneau cylindrique a un rayon de ${r} cm et une hauteur de ${h} cm.<br>`;
              texte +=
                num_alpha(0) +
                ` Calculer le ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "volume",
                  `Définition : volume (grandeur physique)`,
                  `C’est le produit de trois longueurs ou le produit d'une aire et d'une longueur.<br>L'unité de mesure du volume est le mètre cube ($\\text{m}^3$) mais on peut aussi rencontrer le litre (L) avec comme correspondance $\\text{1dm}^3=\\text{1L}$`
                ) +
                ` en dm${exposant(3)} à 0,1 près de ce tonneau.<br>`;
              texte +=
                num_alpha(1) +
                ` Si on le remplit ${liquides[index2][0]} (dont la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  "densité",
                  `Définition : densité (grandeur physique)`,
                  `La densité d'une substance est égale à la masse volumique de la substance divisée par la masse volumique du corps de référence à la même température.<br>Pour les liquides et les solides, l'eau est utilisée comme référence (sa masse volumique est de 1kg/dm$^3$), pour les gaz, la mesure s'effectue par rapport à l'air.<br>Donc pour les liquides, la densité est égale à la masse volumique exprimée en kg/dm$^3$.`
                ) +
                ` est de ${tex_nombrec(liquides[index2][1])}), quelle masse ${
                  liquides[index2][0]
                } en kg contiendra-t-il au gramme près ?<br>`;
              texte_corr =
                num_alpha(0) +
                ` Le volume d'un cylindre est donné par la formule $\\mathcal{A}\\text{ire de base}\\times\\mathcal{h}$.<br> Ici la base est un disque de rayon ${r} cm.<br>`;
              texte_corr += `$\\mathcal{A}\\text{ire de base}\\times\\mathcal{h}=\\pi\\times${r}^{2}\\text{ cm}^2\\times${h}\\text{ cm}=${
                r * r * h
              }\\pi\\text{ cm}^3\\approx${tex_nombre(
                arrondi(r * r * h * Math.PI, 1)
              )}\\text{ cm}^3\\approx${tex_nombre(
                arrondi((r * r * h * Math.PI) / 1000, 1)
              )}\\text{ dm}^3$<br>`;
              texte_corr +=
                num_alpha(1) +
                ` La masse de lait contenue dans ce tonneau est :<br>`;
              texte_corr += `$${tex_nombre(
                arrondi((r * r * h * Math.PI) / 1000, 1)
              )}\\text{ dm}^3\\times ${tex_nombrec(
                liquides[index2][1]
              )} \\times 1 \\dfrac{kg}{dm}^3\\approx${tex_nombre(
                arrondi(((r * r * h * Math.PI) / 1000) * liquides[index2][1], 3)
              )}\\text{ kg}$`;
              break;
          }
          break;
        case 3: // Problème de quantité de mouvement et d'énergie cinétique
          quidam = prenom();
          index1 = randint(0, 4);
          masse = randint(50, 80);
          vitesse_moy = randint(vitesses[index1][1], vitesses[index1][2]); // vitesse choisie pour l'exo
          texte =
            `${quidam} se déplace ${vitesses[index1][0]} à la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              type_aide,
              `vitesse`,
              `Définition : Vitesse (grandeur physique)`,
              `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
            ) +
            ` de ${tex_nombrec(vitesse_moy)} m/s.<br>`;
          texte += `Il pèse ${masse} kg.<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer sa ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              "quantité de mouvement",
              `Définition : quantité de mouvement (grandeur physique)`,
              `C’est le produit de la masse d'un corps par sa vitesse.<br>L'unité de mesure de la quantité de mouvement est le ($\\text{kg.m.s}^{-1}$)`
            ) +
            ` en $\\text{kg.m.s}^{-1}$.<br>`;
          texte +=
            num_alpha(1) +
            ` En déduire son ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 2,
              type_aide,
              "énergie cinétique",
              `Définition : énergie cinétique (grandeur physique)`,
              `L'énergie cinétique d'un corps de masse $m$ (en kg) assimilé à un point matériel se déplaçant à la vitesse $v$ (en m/s) est donné par la formule $E=\\dfrac{1}{2}\\times m\\times v^2$.<br>L'unité de mesure de l'énergie cinétique est le Joule (J).<br>$1J=1\\text{ kg.m}^2\\text{s}^{-2}$.`
            ) +
            ` en Joules.`;
          texte_corr =
            num_alpha(0) +
            ` La quantité de mouvement de ${quidam} est : $${masse} \\text{ kg}\\times ${vitesse_moy}\\text{ m/s}=${tex_nombrec(
              masse * vitesse_moy
            )}\\text{ kg.m.s}^{-1}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` L'énergie cinétique de ${quidam} est : $\\dfrac{1}{2}\\times ${masse} \\text{ kg}\\times (${vitesse_moy}\\text{ m/s})^2=\\dfrac{${masse}\\times${vitesse_moy}^2}{2}\\text{ J}=${tex_nombrec(
              (masse * vitesse_moy ** 2) / 2
            )}\\text{ J}$`;
          break;
        case 4: // problème de moment et de couple de forces qui s'annulent.
          quidam = prenom();
          index = randint(60, 90); //masse du père (recyclage de variable)
          masse = randint(20, 30); //masse de l'enfant
          distance = arrondi(randint(25, 35) / 10);
          texte =
            `${quidam} qui pèse ${masse} kg se trouve sur le siège d'une balançoire "` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              2,
              `trébuchet`,
              `Schéma explicatif`,
              `images/trebuchet.png`
            ) +
            `" dans un jardin d'enfant. Le siège est situé à ${tex_nombre(
              distance
            )} m du pivot central de la balançoire (bras de levier).<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer le ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `moment`,
              `Définition : momnent (grandeur physique)`,
              `Le moment d'une force d'intensité F(en Newton ou kg.m.s$^{-2}$) en un point M par rapport à un pivot P est le produit de F par la distance PM (appelée bras de levier) exprimée en mètres (lorsque cette force s'exerce perpendiculairement au bras de levier). Le moment est l'energie permettant de faire tourner l'objet autour du pivot.<br>L'unité de mesure du moment est le Joule (J).<br>$1J=1\\text{ kg.m}^2\\text{s}^{-2}$.`
            ) +
            ` du ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 2,
              type_aide,
              `poids`,
              `Définition : Poids`,
              `Le poids est le produit de la masse d'un objet par l'accélération de la pesanteur terrestre ($9,81\\text{ m.s}^{-2}$).<br>L'unité du poids est le Newton (N) : 1N=1kg.m.s$^{-2}$`
            ) +
            ` de ${quidam} sur son siège par rapport au pivot central du trébuchet en Joules (on admettra que le bras de levier est horizontal).<br>`;
          texte +=
            num_alpha(1) +
            ` Le père de ${quidam} vient s'installer de l'autre côté du pivot central. Il pèse ${index} kg et s'installe de façon à ce que son poids permette d'équilibrer la balançoire à l'horizontale. Quelle doit être la longueur du bras de levier de son côté ( à quelle distance du pivot est-il assis ) ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` Le moment du poids de ${quidam} appliqué sur son siège par rapport au pivot central du trébuchet est :<br>`;
          index1 = arrondi(masse * 9.81 * distance); //pour éviter d'avoir trop de variable, je recycle
          texte_corr += `$${masse}\\text{ kg} \\times 9,81 \\text{m.s}^{-2} \\times ${tex_nombre(
            distance
          )} \\text{ m} = ${tex_nombre(
            index1
          )}\\text{ kg.m}^2\\text{.s}^{-2}=${tex_nombre(
            index1
          )}\\text{ J}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Afin d'équilibrer le trébuchet, le père de ${quidam} doit se placer de façon que le moment de son poids sur son point d'assise par rapport au pivot central du trébuchet soit égal à celui de ${quidam}, on obtient l'équation suivante où $${mise_en_evidence(
              `d`,
              `black`
            )}$ représente sa distance par rapport au pivot central :<br>`;
          texte_corr += `$ ${index}\\text{ kg}\\times 9,81 \\text{m.s}^{-2} \\times ${mise_en_evidence(
            `d`,
            `black`
          )} \\text{ m}=${tex_nombre(index1)}\\text{ J}$<br>`;
          texte_corr += `D'où $${mise_en_evidence(
            `d`,
            `black`
          )}\\text{ m} = \\dfrac{${tex_nombre(
            index1
          )}\\text{ J}}{${index}\\text{ kg}\\times 9,81 \\text{m.s}^{-2}}\\approx${tex_nombrec(
            arrondi(index1 / (9.81 * index))
          )}\\text{ m}.$`;
          break;
        case 5: //problème de trafic de coyageurs.
          let d1 = randint(3, 6);
          let d2 = randint(3, 6, [d1]);
          let k = randint(5, 8);
          let n1 = k * d2;
          let n2 = k * d1;
          texte =
            num_alpha(0) +
            ` Un bus de ville transporte en moyenne ${n1} personnes à la fois.<br> La longueur moyenne de déplacement est de ${d1} km.<br> Calculer le ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3,
              type_aide,
              `trafic`,
              `Définition : Trafic de voyageurs`,
              `Le trafic de voyageurs est le produit du nombre de voyageurs par la distance parcourue. L'unité est le voyageur.km qui correspond au déplacement d'un voyageur sur 1km`
            ) +
            ` moyen de voyageurs en voyageurs.km.<br> `;
          texte +=
            num_alpha(1) +
            ` Un autre bus de ville transporte en moyenne ${n2} personnes à la fois.<br> La longueur moyenne de déplacement est de ${d2} km.<br> Montrer que le trafic de voyageur est le même qu'à la question ` +
            num_alpha(0);
          texte_corr =
            num_alpha(0) +
            ` Le trafic moyen de ce bus de ville est : $${n1}\\text{voyageurs}\\times${d1}\\text{km}=${
              n1 * d1
            }\\text{voyageurs.km}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le trafic moyen de ce bus de ville est : $${n2}\\text{voyageurs}\\times${d2}\\text{km}=${
              n2 * d2
            }\\text{voyageurs.km}$, donc ces deux bus ont le même trafic.`;
          break;
        case 6: //problème de puissance électrique.
          index = randint(0, 3);
          index1 = randint(0, 3, [index]);
          let I1 = arrondi(appareils[index][1] / 230, 0) + 1;
          texte =
            num_alpha(0) +
            ` Un ${appareils[index][0]} est protégé par un fusible de ${I1} ampères, quelle est la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `puissance`,
              `Définition : Puissance (grandeur physique)`,
              `C’est le produit de la force électromotrice (tension) exprimée en Volt (V) par l'intensité du courant électrique exprimée en ampères (A).<br>L'unité de mesure de la puissance est le Watt (W)`
            ) +
            ` maximale de cet appareil si il fonctionne sur le secteur ?<br>`;
          texte +=
            num_alpha(1) +
            ` Un ${appareils[index1][0]} fonctionne à une puissance maximum de ${appareils[index1][1]} W.<br>Quel est l'ampérage minimum nécessaire pour le fusible qui protégera ce ${appareils[index][0]} des court-ciruits ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` La tension du secteur étant de 230V, la puissance maximale de ce ${appareils[index][0]} est de :<br>`;
          texte_corr += `$230\\text{ V}\\times${I1}\\text{ A}=${
            230 * I1
          }\\text{ W}$<br>`;
          let I2 = Math.floor(appareils[index1][1] / 230) + 1;
          texte_corr +=
            num_alpha(1) +
            ` Pour fonctionner à la puissance maximum, cet appareil a besoin d'un courant d'une intensité de :<br>`;
          texte_corr += `$\\dfrac{${
            appareils[index1][1]
          }\\text{ W}}{230 \\text{ V}} \\approx ${tex_nombrec(
            arrondi(appareils[index1][1] / 230)
          )}\\text{ A}$.<br>`;
          texte_corr += `Le fusible nécessaire pour protéger cet appareil des courts-circuits devra avoir une intensité de rupture minimum de ${I2} ampères.`;
          break;
        case 7: // problème de vitesses
          index2 = randint(0, 2);
          quidam = prenom(); //prenom choisi
          switch (index2) {
            case 0: // problème de déplacements
              index1 = randint(0, 4);
              vitesse_moy = randint(vitesses[index1][1], vitesses[index1][2]); // vitesse choisie pour l'exo
              distance = Math.round(
                (vitesse_moy * 3.6 * vitesses[index1][3] * randint(5, 20)) / 10
              ); //distance choisie pour question b
              duree = randint(2, vitesses[index1][3]);
              texte =
                `${quidam} se déplace ${vitesses[index1][0]} à la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` de ${tex_nombrec(vitesse_moy)} m/s.<br>`;
              texte +=
                num_alpha(0) +
                ` En se déplaçant à cette vitesse pendant ${duree} h, quelle est la distance parcourue par ${quidam} en km ?<br>`;
              texte +=
                num_alpha(1) +
                ` Si ${quidam} veut parcourir ${nombre_avec_espace(
                  distance
                )} km à cette vitesse, combien de temps durera le trajet ? Donner le résultat en heures, minutes et secondes.`;
              texte_corr =
                num_alpha(0) +
                ` La distance parcourue par ${quidam} ${
                  vitesses[index1][0]
                } en ${duree} h à la vitesse de ${tex_nombrec(
                  vitesse_moy
                )} m/s est :<br>`;
              texte_corr += `$${tex_nombrec(
                vitesse_moy
              )}\\text{ m/s}\\times${duree}\\text{ h}=\\dfrac{${tex_nombrec(
                vitesse_moy
              )}\\text{ m}}{1 \\text{ s}}\\times ${duree}\\times ${tex_nombre(
                3600
              )}\\text{ s}`;
              texte_corr += `=${tex_nombrec(
                vitesse_moy * 3600 * duree
              )}\\text{ m}=${tex_nombrec(
                vitesse_moy * 3.6 * duree
              )}\\text{ km}$<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Pour parcourir ${nombre_avec_espace(
                  distance
                )} km à cette vitesse, ${quidam} mettra :<br>`;
              texte_corr += ` Partons de la formule $\\mathcal{V}=\\dfrac{\\mathcal{d}}{\\mathcal{t}}$ et remplaçons : $\\dfrac{${vitesse_moy}\\text{ m}}{1 \\text{ s}}=\\dfrac{${tex_nombre(
                distance
              )}\\text{ km}}{\\mathcal{t}\\text{ h}}$<br>`;
              texte_corr += `Rendons les unités homogènes : $\\dfrac{${vitesse_moy}\\text{ m}}{1 \\text{ s}}=\\dfrac{${tex_nombrec(
                distance * 1000
              )}\\text{ m}}{\\mathcal{t}\\text{ h}\\times ${tex_nombre(
                3600
              )}\\text{ s/h}}$<br>`;
              texte_corr += `Appliquons l'égalité des produits en croix : ${produits_en_croix(
                [
                  [`${vitesse_moy}\\text{ m}`, `1 \\text{ s}`],
                  [
                    `${tex_nombrec(distance * 1000)}\\text{ m}`,
                    `\\mathcal{t}\\times ${tex_nombre(3600)}\\text{ s/h}`,
                  ],
                ]
              )}<br>`;
              texte_corr += `D'où : $\\mathcal{t}=\\dfrac{1 \\text{ s}\\times${tex_nombrec(
                distance * 1000
              )}\\text{ m}}{${vitesse_moy}\\text{ m}\\times${tex_nombre(
                3600
              )}\\text{ s}}$ (t est le nombre décimal d'heures : les mètres et les secondes disparaissent car elles sont présentes au numérateur et au dénominateur.)<br>`;
              texte_corr += `Soit : $\\mathcal{t}\\approx${tex_nombrec(
                (distance * 1000) / vitesse_moy / 3600
              )}\\text{ h}\\approx${tex_nombrec(
                arrondi((distance * 1000) / vitesse_moy, 0)
              )}\\text{ s}\\approx`;
              nbheures = Math.floor((distance * 1000) / vitesse_moy / 3600); //conversion en h min s
              nbminutes = Math.floor(
                (Math.floor((distance * 1000) / vitesse_moy) % 3600) / 60
              );
              nbsecondes = arrondi(
                (distance * 1000) / vitesse_moy -
                  3600 * nbheures -
                  60 * nbminutes,
                0
              );
              texte_corr += `(${tex_nombre(nbheures)}\\times ${tex_nombre(
                3600
              )}+${tex_nombre(nbminutes)}\\times 60+${tex_nombre(
                nbsecondes
              )})\\text{ s}\\approx`;
              if (nbheures != 0)
                texte_corr += `${tex_nombre(nbheures)}\\text{ h }`; //affichage de la réponse
              if (nbminutes != 0)
                texte_corr += `${tex_nombre(nbminutes)}\\text{ min }`;
              texte_corr += `${tex_nombre(nbsecondes)}\\text{ s}$`;
              break;
            case 1: // l'orage et la vitesse du son
              duree = randint(2, 15); //durée pour question a)
              distance = randint(5, 15, [duree]) * 340; //distance de l'orage en m pour question b
              texte =
                `Le son se déplace dans l'air à la ` +
                katex_Popup2(
                  numero_de_l_exercice + i * 3,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` de 340 m/s.<br>`;
              texte +=
                num_alpha(0) +
                ` ${quidam} voit un éclair dans le ciel et compte dans sa tête ${duree} secondes avant d'entendre le tonnerre.<br>`;
              texte += `Quelle est la distance à laquelle l'éclair est tombé ?<br>`;
              texte +=
                num_alpha(1) +
                ` L'éclair suivant tombe sur le paratonnerre situé sur le clocher de l'église du village voisin.<br>`;
              texte += `${quidam} sait que le clocher est situé à ${distance} m de sa position. Combien de temps se passe-t-il avant que ${quidam} n'entende le tonnerre ?`;
              texte_corr =
                num_alpha(0) +
                ` Calculons la distance à laquelle le premier éclair est tombé en utilisant la vitesse du son (on considère que la vitesse de la lumière est telle que l'éclair est visible instantanément) :<br>`;
              texte_corr += `$340\\text{ m/s}=\\dfrac{340\\text{ m}}{1\\text{ s}}=\\dfrac{${mise_en_evidence(
                duree
              )}\\times 340\\text{ m}}{${mise_en_evidence(
                duree
              )}\\times 1\\text{ s}}=\\dfrac{${tex_nombrec(
                duree * 340
              )}}{${duree}\\text{ s}}$<br>`;
              texte_corr += `La distance à laquelle l'éclair est tombé est donc de ${nombre_avec_espace(
                duree * 340
              )} m.<br>`;
              texte_corr +=
                num_alpha(1) +
                ` Avec les données de l'énoncé nous pouvons écrire :<br>`;
              texte_corr += `$\\dfrac{340\\text{ m}}{1\\text{ s}}=\\dfrac{${tex_nombre(
                distance
              )}\\text{ m}}{\\mathcal{T}\\text{ s}}$<br>`;
              texte_corr += `Soit grâce à l'égalité des produits en croix : $\\mathcal{T}\\text{ s}=${quatrieme_proportionnelle(
                `340 \\text{ m}`,
                `1 \\text{ s}`,
                distance + `\\text{ m}`,
                0
              )}=${tex_nombrec(arrondi(distance / 340))}\\text{ s}$<br>`;
              texte_corr += `${quidam} entendra le tonnerre ${tex_nombrec(
                arrondi(distance / 340)
              )} secondes après avoir vu l'éclair tomber sur le clocher.`;
              break;
            case 2: // Le coureur
              vitesse_moy = randint(vitesses[4][1] * 5, vitesses[4][2] * 5) / 5;
              distance = randint(5, 12);
              texte =
                `${quidam} vient de courir ${distance} kilomètres. Sa montre connectée a enregistré l'` +
                katex_Popup2(
                  numero_de_l_exercice + i,
                  type_aide,
                  `allure`,
                  `Définition : allure (grandeur physique)`,
                  `L'allure est le temps exprimé en h,min,s pour parcourir un kilomètre.<br>L'unité est alors h/km ou min/km`
                ) +
                `pour chaque kilomètre parcouru :`;
              let allures = [];
              for (let j = 0; j < distance; j++) {
                duree = Math.round(
                  1000 / (vitesse_moy * (1 + randint(-10, 10) * 0.01))
                );
                nbsecondes = duree % 60;
                nbminutes = (duree - nbsecondes) / 60;
                allures.push([nbminutes, nbsecondes]);
              }
              texte += "$\\def\\arraystretch{1.5}\\begin{array}{|c"; // On construit le tableau des allures
              texte += "|c";
              for (let j = 0; j < allures.length; j++) texte += "|c";
              texte += "}\\hline  \\text{kilomètre}";
              for (let j = 0; j < allures.length; j++)
                texte += "&" + tex_nombre(j + 1);
              texte +=
                "\\\\\\hline \\text{allure en minutes et secondes (par km)}";
              for (j = 0; j < allures.length; j++)
                texte +=
                  "&" +
                  allures[j][0] +
                  `\\text{ min }` +
                  allures[j][1] +
                  `\\text{ s}`;
              texte += "\\\\\\hline\\end{array}$<br>";
              texte +=
                num_alpha(0) +
                ` Calculer la durée totale de la course de ${quidam}.<br>`;
              texte +=
                num_alpha(1) +
                ` En déduire sa	` +
                katex_Popup2(
                  numero_de_l_exercice + i,
                  type_aide,
                  `vitesse`,
                  `Définition : Vitesse (grandeur physique)`,
                  `La vitesse est le quotient de la distance parcourue par le temps de parcours.<br>L'unité officielle est le mètre par seconde ($\\text{m/s}$  ou  $\\text{m.s}^{-1}$) mais on utilise souvent le kilomètre par heure ($\\text{km/h}$  ou  $\\text{km.h}^{-1}$)`
                ) +
                ` moyenne en km/h sur le trajet total.<br>`;
              texte +=
                num_alpha(2) +
                ` ${quidam} s'entraîne pour un semi-marathon (21,0975 km). En courant à la même vitesse, combien de temps durerait son semi-marathon ?`;
              texte_corr =
                num_alpha(0) +
                ` La durée totale de la course de ${quidam} est :<br>`;
              allures.push([0, 0]);
              duree = 0;

              for (let j = 0; j < distance; j++) {
                allures[distance][1] += allures[j][1];
                if (allures[distance][1] > 59) {
                  allures[distance][0] += 1;
                  allures[distance][1] = allures[distance][1] % 60;
                }
                allures[distance][0] += allures[j][0];
                if (allures[distance][0] > 59) {
                  duree++;
                  allures[distance][0] = allures[distance][0] % 60;
                }
              }
              for (let j = 0; j < distance - 1; j++) {
                texte_corr += `${allures[j][0]} min ${allures[j][1]} s + `;
              }
              texte_corr += `${allures[distance - 1][0]} min ${
                allures[distance - 1][1]
              } s = `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += `${allures[distance][0]} min `;
              if (allures[distance][1] != 0)
                texte_corr += `${allures[distance][1]} s.`;
              texte_corr +=
                `<br>` +
                num_alpha(1) +
                ` ${quidam} a effectué ${distance} km en `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += `${allures[distance][0]} min `;
              if (allures[distance][1] != 0)
                texte_corr += `${allures[distance][1]} s<br>Soit `;
              if (duree != 0) texte_corr += `${duree} h `;
              if (allures[distance][0] != 0)
                texte_corr += ` $\\dfrac{${allures[distance][0]}}{60}$ h `;
              if (allures[distance][1] != 0)
                texte_corr += ` $\\dfrac{${allures[distance][1]}}{${tex_nombre(
                  3600
                )}}$ h = `;
              texte_corr += `$\\dfrac{`;
              if (duree != 0)
                texte_corr += `${duree}\\times ${tex_nombre(3600)} + `;
              texte_corr += `${allures[distance][0]}\\times 60+${
                allures[distance][1]
              }}{${tex_nombre(3600)}}$ h = `;
              texte_corr += `$\\dfrac{`;
              if (duree != 0) {
                duree =
                  duree * 3600 +
                  allures[distance][0] * 60 +
                  allures[distance][1];
                texte_corr += `${duree}}`;
              } else {
                duree = allures[distance][0] * 60 + allures[distance][1];
                texte_corr += `${duree}}`;
              }
              texte_corr += `{${tex_nombre(3600)}}$ h.<br>`;
              texte_corr += `Sa vitesse en km/h est par conséquent :<br>$${distance} \\text{ km}\\div\\dfrac{${duree}}{${tex_nombre(
                3600
              )}}\\text{ h}=`;
              texte_corr += `${distance} \\text{ km}\\times\\dfrac{${tex_nombre(
                3600
              )}}{${duree}}\\text{ h}^{-1}=\\dfrac{${distance}\\times${tex_nombre(
                3600
              )}}{${duree}}\\text{km.h}^{-1}`;
              vitesse_moy = arrondi((distance * 3600) / duree);
              texte_corr += `\\approx${tex_nombrec(vitesse_moy)}$ km/h<br>`;
              texte_corr +=
                num_alpha(2) +
                ` Si elle court 21,0975 km à cette vitesse de ${tex_nombre(
                  vitesse_moy
                )} km/h, ${quidam} mettra :<br>`;
              duree = arrondi(21.0975 / vitesse_moy, 4);
              texte_corr += `$\\dfrac{${tex_nombre(
                21.0975
              )} \\text{ km}}{${tex_nombre(
                vitesse_moy
              )} \\text{ km.h}^{-1}}\\approx${tex_nombre(duree)}$ h soit `;
              nbheures = Math.floor(duree);
              duree = (duree - nbheures) * 60;
              nbminutes = Math.floor(duree);
              duree = Math.round((duree - nbminutes) * 60);
              texte_corr += ` environ ${nbheures} h ${nbminutes} min ${duree} s.`;
              break;
          }
          break;
        case 8: //problème de prix massique
          index1 = randint(0, 7);
          index2 = randint(0, 5, [index1]);
          index = randint(0, 5, [index1, index2]);
          masse = arrondi(randint(fruits[index1][2], fruits[index1][3]) / 10);
          masse2 = arrondi(randint(fruits[index2][2], fruits[index2][3]) / 10);
          masse3 = arrondi(randint(fruits[index][2], fruits[index][3]) / 10);
          prix1 = arrondi(masse * fruits[index1][1]);
          prix2 = arrondi(masse2 * fruits[index2][1]);
          prix3 = arrondi(masse3 * fruits[index][1]);
          quidam = prenomF();
          texte = `${quidam} se rends à l'épicerie de son quartier. Elle y achète ${tex_nombre(
            masse
          )} kg de ${fruits[index1][0]} à ${tex_prix(
            fruits[index1][1]
          )} €/kg et pour ${tex_prix(prix2)} € de ${
            fruits[index2][0]
          } à ${tex_prix(fruits[index2][1])} €/kg.<br>`;
          texte += `Enfin, elle achète ${tex_nombre(masse3)} kg de ${
            fruits[index][0]
          } pour ${tex_prix(prix3)} €.<br>`;
          texte +=
            num_alpha(0) +
            ` Combien lui coûtent les ${fruits[index1][0]} ?<br>`;
          texte +=
            num_alpha(1) +
            ` Quelle masse de ${fruits[index2][0]} a-t-elle achetée ?<br>`;
          texte +=
            num_alpha(2) +
            ` Quel est le prix au kilogramme des ${fruits[index][0]} ?`;
          texte_corr =
            num_alpha(0) +
            ` ${quidam} dépense pour les ${fruits[index1][0]} : $${tex_nombre(
              masse
            )}\\text{ kg} \\times ${tex_prix(
              fruits[index1][1]
            )}$ €$\\text{/kg} = ${tex_prix(prix1)}$ €.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` La masse de ${
              fruits[index2][0]
            } qu'elle a achetée est : $${tex_prix(prix2)} $ €$ \\div ${tex_prix(
              fruits[index2][1]
            )}$ €$\\text{/kg} = ${tex_nombre(masse2)}\\text{ kg}$.<br>`;
          texte_corr +=
            num_alpha(2) +
            ` Enfin, ${quidam} a acheté des ${
              fruits[index][0]
            } au prix unitaire de : $${tex_prix(prix3)}$ € $\\div ${tex_nombre(
              masse3
            )}\\text{ kg} = ${tex_prix(fruits[index][1])}$ €$\\text{/kg}$.`;
          break;
        case 9: //problème de prix horaire
          index1 = randint(0, 3);
          index2 = randint(0, 4);
          nbheures = randint(locations[index1][1], locations[index1][2]);
          prix1 = locations[index1][1];
          prix2 = cours[index2][1] * randint(2, 6);
          quidam = prenomF();
          texte = `${quidam} a prévu de louer ${
            locations[index1][0]
          } pendant ${tex_nombre(
            nbheures
          )} heures. L'heure de location coûte ${tex_prix(prix1)} €.<br>`;
          texte += num_alpha(0) + ` Combien cette location va lui coûter ?<br>`;
          texte +=
            num_alpha(1) +
            ` ${quidam} a pris des leçons particulières ${
              cours[index2][0]
            }. En tout ce mois-ci elle a eu ${tex_nombrec(
              prix2 / cours[index2][1]
            )} heures de cours pour ${tex_prix(
              prix2
            )} €. Combien demande son professeur pour une heure de cours ?<br>`;
          texte_corr =
            num_alpha(0) +
            ` ${quidam} va dépenser pour sa location : $${tex_nombre(
              nbheures
            )}\\text{ h} \\times ${tex_prix(prix1)}$ €$\\text{/h} = ${tex_prix(
              nbheures * prix1
            )}$ €.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` L'heure de cours ${cours[index2][0]} coûte : $${tex_prix(
              prix2
            )}$ € $ \\div ${tex_nombre(
              prix2 / cours[index2][1]
            )}\\text{ h} = ${tex_prix(cours[index2][1])}$ €$\\text{/h}$.<br>`;
          break;
        case 10: //problème de densité de population
          index1 = randint(0, 14);
          index2 = randint(0, 14, [index1]);
          let ville1 = villes[index1][0];
          let ville2 = villes[index2][0];
          texte =
            num_alpha(0) +
            ` En 2016, à ${villes[index1][0]} il y avait $${tex_nombre(
              villes[index1][1]
            )}$ habitants pour une superficie de $${tex_nombre(
              villes[index1][2] * 100
            )}$ ha.<br> Calculer la densité de population en hab/km$^2$.<br>`;
          texte +=
            num_alpha(1) +
            ` La même année, la ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `densité de population`,
              `Définition : Densité de population`,
              `C’est le quotient du nombre d'habitants par la superficie en km$^2$.<br>L'unité de la densité de population est l'habitant par km$^2$ (hab/km$^2$).`
            ) +
            ` de ${villes[index2][0]} était de $${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}$ hab/km$^2$ pour une superficie de $${tex_nombrec(
              villes[index2][2] * 100
            )}$ ha.<br> Calculer le nombre d'habitants de ${
              villes[index2][0]
            } à cette date.<br>`;
          texte_corr =
            num_alpha(0) +
            ` En 2016, la densité de population à ${
              villes[index1][0]
            } était de :<br> $\\dfrac{${tex_nombre(
              villes[index1][1]
            )}\\text{ hab}}{${tex_nombre(
              villes[index1][2] * 100
            )}\\text{ ha}}=\\dfrac{${tex_nombre(
              villes[index1][1]
            )}\\text{ hab}}{${tex_nombre(
              villes[index1][2]
            )}\\text{ km}^2}=${tex_nombrec(
              villes[index1][1] / villes[index1][2]
            )}\\text{ hab/km}^{2}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` A cette date, le nombre d'habitants de ${
              villes[index2][0]
            } était de :<br> $${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}\\text{ hab/km}^2\\times ${tex_nombrec(
              villes[index2][2] * 100
            )}\\text{ ha}=${tex_nombrec(
              villes[index2][1] / villes[index2][2]
            )}\\text{ hab/km}^2\\times ${tex_nombrec(
              villes[index2][2]
            )}\\text{ km}^{2}=${tex_nombre(villes[index2][1])}\\text{ hab}$.`;
          break;
        case 11: //problème de masse volumique
          index1 = randint(0, 14);
          index2 = randint(0, 14, [index1]);
          let V1 = randint(50, 100);
          masse2 = randint(5, 30);
          masse = arrondi((materiaux[index1][1] * V1) / 1000000);
          let V2 = arrondi(masse2 / materiaux[index2][1], 7);
          texte =
            num_alpha(0) +
            ` La ` +
            katex_Popup2(
              numero_de_l_exercice + i * 3 + 1,
              type_aide,
              `masse volumique`,
              `Définition : Masse volumique (grandeur physique)`,
              `La masse volumique d'un élément est le quotient de la masse de cet élément par le volume qu'il occupe.<br>L'unité de la masse volumique dépend de la nature de l'élément et peut s'exprimer kg/m$^3$ pour les solides g/L pour les gaz par exemple.`
            ) +
            ` du ${materiaux[index1][0]} est de $${tex_nombre(
              materiaux[index1][1]
            )}\\text{ kg/m}^3$.<br>`;
          texte += `Quelle est la masse d'une pièce de ce métal de $${tex_nombre(
            V1
          )}\\text{ cm}^3$ ?<br>`;
          texte +=
            num_alpha(1) +
            ` Quel est le volume d'une pièce de ${materiaux[index2][0]} ayant une masse de `;
          texte += `$${tex_nombre(masse2)}\\text{ kg}$ (la masse volumique du ${
            materiaux[index2][0]
          } est de $${tex_nombre(materiaux[index2][1])}\\text{ kg/m}^3$)<br>`;
          texte_corr =
            num_alpha(0) +
            ` La masse de cette pièce de ${
              materiaux[index1][0]
            } est de :<br>$${tex_nombre(
              materiaux[index1][1]
            )}\\text{ km/m}^3\\times ${tex_nombre(
              V1
            )}\\text{ cm}^3=${tex_nombre(
              materiaux[index1][1]
            )}\\text{ km/m}^3\\times ${tex_nombrec(
              V1 / 1000000
            )}\\text{ m}^3=${tex_nombre(masse)}\\text{ kg}$.<br>`;
          texte_corr +=
            num_alpha(1) +
            ` Le volume de cette pièce de ${
              materiaux[index2][0]
            } est de :<br>$${tex_nombre(masse2)}\\text{ kg}\\div ${tex_nombre(
              materiaux[index2][1]
            )}\\text{ kg/m}^3\\approx${tex_nombre(
              V2
            )}\\text{ m}^3\\approx${tex_nombrec(
              V2 * 1000000
            )}\\text{ cm}^3$<br>`;
          break;
        case 12: //problème de concentration massique
          index1 = randint(0, 4);
          index2 = randint(0, 4, [index1]);
          let Volume1 = arrondi(randint(2, 15, [10]) / 10);
          let Volume2 = arrondi(randint(2, 15, [10]) / 10);
          if (solutes[index1][2] < 10)
            masse = arrondi(
              (randint(11, solutes[index1][2] * 10) * Volume1) / 10
            );
          else masse = arrondi(randint(2, solutes[index1][2]) * Volume1);
          let concentration2;
          if (solutes[index2][2] < 10)
            concentration2 = arrondi(randint(11, solutes[index2][2] * 10) / 10);
          //concentration en g/L soluté 2.
          else concentration2 = randint(2, solutes[index2][2]);

          texte =
            num_alpha(0) +
            ` On a dissout $${tex_nombre(masse)}\\text{ g}$ de ${
              solutes[index1][0]
            } dans $${tex_nombre(Volume1)}\\text{ litres}$ ${
              solutes[index1][1]
            }.<br>Calculer la concentration massique de cette solution.<br>`;
          texte +=
            num_alpha(1) +
            ` On dispose de $${tex_nombre(
              Volume2
            )}$ litres de solution aqueuse de ${
              solutes[index2][0]
            } à $${tex_nombre(
              concentration2
            )}\\text{ g/L}$.<br>Quelle masse de ${
              solutes[index2][0]
            } a été dissoute dans l'eau ?`;
          texte_corr =
            num_alpha(0) +
            ` La concentration en ${solutes[index1][0]} de cette solution aqueuse est de :<br>`;
          texte_corr += ` $\\dfrac{${tex_nombre(masse)}\\text{ g}}{${tex_nombre(
            Volume1
          )}\\text{ litres}}=${tex_nombrec(
            arrondi(masse / Volume1)
          )}\\text{ g/L}$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` La masse de ${solutes[index2][0]} dissoute est de :<br>`;
          texte_corr += `$${tex_nombre(Volume2)}\\text{ L}\\times ${tex_nombre(
            concentration2
          )}\\text{ g/L}=${tex_nombre(
            arrondi(Volume2 * concentration2)
          )}\\text{ g}$`;
          break;

        case 13: //problème de débit
          index2 = randint(0, 6);
          duree = randint(2, 24);
          let vmax = rivieres[index2][3] * 3600;
          texte =
            `Le ` +
            katex_Popup2(
              numero_de_l_exercice + i,
              type_aide,
              `débit`,
              `Définition : Débit (grandeur physique)`,
              `Le débit est le quotient d'un volume d'eau écoulée dans une section de conduit par le temps d'écoulement.<br>L'unité officielle est le mètre cube par seconde ($\\text{m}^3/\\text{s}$  et dans certains cas on peut utiliser le litre par minute (L/min)`
            ) +
            ` annuel moyen ${rivieres[index2][6]}${
              rivieres[index2][0]
            } mesuré à ${rivieres[index2][1]} est de ${
              rivieres[index2][2]
            } m${exposant(3)}/s.<br>`;
          texte +=
            num_alpha(0) +
            ` Calculer le volume d'eau en m${exposant(
              3
            )} écoulé en ${duree} heures à ce débit.<br>`;
          texte +=
            num_alpha(1) +
            ` En ${rivieres[index2][4]} à ${rivieres[index2][1]}, ${
              rivieres[index2][5]
            }${rivieres[index2][0]} a débité ${nombre_avec_espace(
              vmax
            )} m${exposant(
              3
            )} en une heure. Quel a été alors le débit en m³/s ?`;
          texte_corr =
            num_alpha(0) +
            ` En ${duree} heures il s'écoule en moyenne dans ${rivieres[index2][5]}${rivieres[index2][0]} à ${rivieres[index2][1]} :<br>`;
          texte_corr += `$\\mathcal{V}=${duree}\\text{ h}\\times${
            rivieres[index2][2]
          }\\text{ m}^3\\text{/s}=${duree}\\times 3600\\text{ s}\\times${
            rivieres[index2][2]
          }\\text{ m}^3\\text{/s}=${tex_nombre(
            duree * 3600 * rivieres[index2][2]
          )}\\text{ m}^3$<br>`;
          texte_corr +=
            num_alpha(1) +
            ` En ${rivieres[index2][4]} lors de la crue historique ${rivieres[index2][6]}${rivieres[index2][0]} à ${rivieres[index2][1]} le débit maximal a été de :<br>`;
          texte_corr += `Débit =$${tex_nombre(
            vmax
          )}\\text{ m}^3\\text{/h}=\\dfrac{${tex_nombre(
            vmax
          )}\\text{ m}^3}{1\\text{ h}}=\\dfrac{${tex_nombre(
            vmax
          )}\\text{ m}^3}{${tex_nombre(3600)}\\text{ s}}=${tex_nombrec(
            vmax / 3600
          )}\\text{ m}^3\\text{/s}$<br>`;

          break;
        case 14: // problème de vitesse de téléchargement
          let unites = [`ko`, `Mo`, `Go`];
          index = randint(0, 1);
          if (index == 0) vitesse_moy = randint(200, 999);
          else vitesse_moy = randint(1, 20);
          quidam = prenom();
          nbminutes = randint(3, 10);
          nbsecondes = randint(2, 59);
          masse = arrondi(randint(15, 35) / 10);
          texte =
            num_alpha(0) +
            ` ${quidam} télécharge un fichier depuis un espace de stockage en ligne. Sa ` +
            katex_Popup2(
              numero_de_l_exercice + i,
              type_aide,
              `vitesse de téléchargement`,
              `Définition : Vitesse de téléchargement`,
              `La vitesse de téléchargement est le quotient de la quantité de données téléchargées (en ko,Mo ou Go) par la durée de téléchargement (en seconde).<br>L'unité de cette grandeur quotient est le ko/s (ou Mo/s)`
            ) +
            ` est de ${vitesse_moy} ${unites[index]}/s.<br>`;
          texte += `Le téléchargement dure ${nbminutes} minutes et ${nbsecondes} secondes. Quelle est la taille du fichier téléchargé en ${unites[index]} ?<br>`;
          texte +=
            num_alpha(1) +
            ` ${quidam} veut télécharger un fichier de ${tex_nombre(
              masse
            )} Go. Quelle sera la durée du téléchargement si sa vitesse de téléchargement est de ${vitesse_moy} ${
              unites[index]
            }/s ?<br>`;
          texte_corr =
            num_alpha(0) + ` La taille du fichier téléchargé est :<br>`;
          let taille_fichier = (nbminutes * 60 + nbsecondes) * vitesse_moy;
          texte_corr += `$(${nbminutes}\\times 60 +${nbsecondes})\\text{ s}\\times ${vitesse_moy} \\text{ ${
            unites[index]
          }/s} = ${
            nbminutes * 60 + nbsecondes
          }\\text{ s}\\times ${vitesse_moy} \\text{ ${
            unites[index]
          }/s} = ${taille_fichier} \\text{ ${unites[index]} }$`;
          if (taille_fichier > 1000)
            texte_corr += `$ =${tex_nombrec(taille_fichier / 1000)} \\text{ ${
              unites[index + 1]
            }}.$<br>`;
          texte_corr +=
            num_alpha(1) + ` La durée du téléchargement sera de :<br>`;
          if (index == 0) {
            texte_corr += `$${masse}\\times ${tex_nombrec(
              10 ** 6
            )} \\text{ ko} \\div ${vitesse_moy} \\text{ ${unites[index]}/s}$`;
            taille_fichier = masse * 10 ** 6;
          } else {
            texte_corr += `$${masse}\\times ${tex_nombrec(
              10 ** 3
            )} \\text{ Mo} \\div ${vitesse_moy} \\text{ ${unites[index]}/s}$`;
            taille_fichier = masse * 10 ** 3;
          }
          texte_corr += `$=\\dfrac{${taille_fichier}}{${vitesse_moy}}\\text{ s}`;
          nbheures = Math.floor(taille_fichier / vitesse_moy / 3600);
          nbminutes = Math.floor(
            (taille_fichier / vitesse_moy - 3600 * nbheures) / 60
          );
          nbsecondes = arrondi(
            taille_fichier / vitesse_moy - 3600 * nbheures - 60 * nbminutes,
            0
          );
          if (
            taille_fichier / vitesse_moy ==
            nbsecondes + 60 * nbheures + 3600 * nbheures
          )
            texte_corr += `=`;
          else texte_corr += `\\approx`;
          if (nbheures != 0) texte_corr += `${nbheures} \\text{ h }`;
          if (nbminutes != 0) texte_corr += `${nbminutes} \\text{ min }`;
          if (nbsecondes != 0) texte_corr += `${nbsecondes} \\text { s}`;
          texte_corr += `$`;

          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  //this.besoin_formulaire_case_a_cocher =['Choix des exercices aléatoire'];
  //this.besoin_formulaire2_numerique = ['Type d\'exercice', 14, '1 : Energie consommée\n 2 :  Volumes\n 3 : Quantité de mouvement & Energie cinétique\n 4 : Moment de force\n 5 : Trafic de voyageurs\n 6 : Puissance électrique\n 7 : Vitesses\n 8 : Prix massique\n 9 : Prix horaire\n 10 : Densité de population\n 11 : Masse volumique\n 12 : Concentration massique\n 13 : Débits\n 14 : Transfert de fichiers'];
  this.besoin_formulaire_texte = [
    "Choix des grandeurs",
    "Nombres séparés par des tirets\n 1 : Energie consommée\n 2 :  Volumes\n 3 : Quantité de mouvement & Energie cinétique\n 4 : Moment de force\n 5 : Trafic de voyageurs\n 6 : Puissance électrique\n 7 : Vitesses\n 8 : Prix massique\n 9 : Prix horaire\n 10 : Densité de population\n 11 : Masse volumique\n 12 : Concentration massique\n 13 : Débits\n 14 : Transfert de fichiers",
  ]; // Texte, tooltip
}
/**
 * type 1 : Un nombre est donné par le produit d'un décimal par une puissance de dix, il faut l'écrire en notation scientifique
 * type 2 : On donne la notation scientifique d'un nombre et on doit trouver l'exposant manquant de 10 dans le membre de gauche.
 * @Auteur Jean-Claude Lhote 
 * 4C32-1
 */
function Calculs_avec_puissances_de_dix() {
  "use strict"
  Exercice.call(this)
  this.sup = 1;
  this.sup2 =1;
  this.titre = `Calcul avec les puissances de dix`;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions=5

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 1) this.consigne = `Donner l\'écriture scientifique des nombres suivants.`;
    else this.consigne = `Compléter l'égalité des nombres suivants.`;
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2==1) type_de_questions_disponibles=[0,0,0,1,1];
    else if (this.sup2==2) type_de_questions_disponibles=[0,1,1,2,2];
    else type_de_questions_disponibles=[2,2,3,3,3];

    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions);
    for (let i = 0, texte, texte_corr,nombre,mantisse1,exp1,decalage,mantisse,exp,decimalstring,scientifiquestring, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
//        nombre=calcul(randint(1001,9999)/10**randint(1,6))
//      mantisse=calcul(nombre/10**(Math.floor(Math.log10(nombre))))
//        exp=Math.floor(Math.log10(nombre))
      switch (liste_type_de_questions[i]) {
        case 0 :
          decalage=randint(-1,1,0)
        mantisse = randint(1,9)
        exp=randint(1,5)
        break
        case 1: 
        decalage=randint(-2,2,0)
        mantisse=calcul(randint(11,99)/10)
          exp=randint(1,5)
        break;
        case 2:
          decalage=randint(-3,3,0)
          if (randint(0,1)==1) mantisse=calcul(randint(111,999)/100)
          else mantisse=calcul((randint(1,9)*100+randint(1,9))/100)
          exp=randint(1,7)*choice([-1,1])
        break;
        case 3:
          decalage=randint(-4,4,0)
          if (randint(0,1)==1) mantisse=calcul((randint(1,9)*1000+randint(1,19)*5)/1000)
          else mantisse=calcul(randint(1111,9999)/1000)
          exp=randint(3,7)*choice([-1,1])
        break;
      }
      nombre=calcul(mantisse*10**exp)
      mantisse1=calcul(mantisse*10**decalage)
      exp1=exp-decalage

      decimalstring=`${tex_nombrec(mantisse1)} \\times 10^{${exp1}}`
      scientifiquestring=`${tex_nombre(mantisse)} \\times 10^{${exp}}`
      if (this.sup==1) {
        texte= `$${decimalstring}$`
        texte_corr=`$${mise_en_evidence(`${tex_nombrec(mantisse1)}`,'blue')}\\times ${mise_en_evidence(`10^{${exp1}}`)} = ${mise_en_evidence(`${tex_nombre(mantisse)}\\times 10^{${decalage}}`,'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)} = ${scientifiquestring}$`
      }
      else {
        texte_corr= `$${mise_en_evidence(tex_nombre(mantisse1),'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)}=${mise_en_evidence(tex_nombre(mantisse)+`\\times 10^{${decalage}}`,'blue')}\\times  ${mise_en_evidence(`10^{${exp1}}`)} =${scientifiquestring}$`
        texte=`$${tex_nombre(mantisse1)}\\times 10^{${mise_en_evidence(`....`)}}=${scientifiquestring}$`

      }
      if (this.liste_questions.indexOf(texte) == -1) {
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Type d\'exercices", 2, "1 : Traduire en notation scientifique\n2 : Exercice à trou"];
  this.besoin_formulaire2_numerique = ["Niveaux de difficulté",3, "1 : Facile\n2 : Moyen\n3 : Difficile"];
}

/**
 * Ecrire un nombre décimal en notation scientifique et inversement
 * @Auteur Jean-Claude Lhote
 * 4C32
 */

function Notation_scientifique() {
  "use strict"
  Exercice.call(this)
  this.sup = 1;
  this.sup2 =1;
  this.titre = `Notation scientifique`;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions=5

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 1) this.consigne = `Donner l\'écriture scientifique des nombres suivants.`;
    else this.consigne = `Donner l\'écriture décimale des nombres suivants.`;
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2==1) type_de_questions_disponibles=[0,0,0,1,1];
    else if (this.sup2==2) type_de_questions_disponibles=[0,1,1,2,2];
    else type_de_questions_disponibles=[2,2,3,3,3];

    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions);
    for (let i = 0, texte, texte_corr,mantisse,exp,decimalstring,scientifiquestring, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
      switch (liste_type_de_questions[i]) {
        case 0 :
        mantisse = randint(1,9)
        exp=randint(1,5)
        break
        case 1: 
          mantisse=calcul(randint(11,99)/10)
          exp=randint(1,5)
        break;
        case 2:
          if (randint(0,1)==1) mantisse=calcul(randint(111,999)/100)
          else mantisse=calcul((randint(1,9)*100+randint(1,9))/100)
          exp=randint(1,7)*choice([-1,1])
        break;
        case 3:
          if (randint(0,1)==1) mantisse=calcul((randint(1,9)*1000+randint(1,19)*5)/1000)
          else mantisse=calcul(randint(1111,9999)/1000)
          exp=randint(3,7)*choice([-1,1])
        break;
      }
      decimalstring=tex_nombrec(mantisse*10**exp)
      scientifiquestring=`${tex_nombre(mantisse)}\\times 10^{${exp}}`
      if (this.sup==1) {
        texte= `$${decimalstring}$`
        texte_corr=`$${decimalstring} = ${scientifiquestring}$`
      }
      else {
        texte_corr= `$${scientifiquestring} = ${decimalstring}$`
        texte=`$${scientifiquestring}$`

      }
      if (this.liste_questions.indexOf(texte) == -1) {
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Type d\'exercices", 2, "1 : Traduire en notation scientifique\n2 : Traduire en notation décimale"];
  this.besoin_formulaire2_numerique = ["Niveaux de difficulté",3, "1 : Facile\n2 : Moyen\n3 : Difficile"];
}
/**
 * À partir d'un triangle rectangle, il faut donner l'égalité de Pythagore ou compléter une égalité.
 * @Auteur Rémi Angot
 * SVG Benjamin Angot
 */
// function Egalite_Pythagore() { // Remplacée par Pythagore2D
//   Exercice.call(this); // Héritage de la classe Exercice()
//   this.titre = "Égalité de Pythagore";
//   this.nb_questions = 4;
//   this.nb_cols = 2;
//   this.nb_cols_corr = 2;
//   this.pas_de_version_LaTeX = true;
//   this.sup = 1;
//   this.sup2 = false;

//   this.nouvelle_version = function (numero_de_l_exercice) {
//     // this.bouton_aide = modal_texte_court(numero_de_l_exercice,"Ajouter 9 revient à ajouter 10 et à soustraire 1.")
//     this.liste_questions = []; // Liste de questions
//     this.liste_corrections = []; // Liste de questions corrigées
//     let liste_type_de_questions = combinaison_listes(
//       range1(6),
//       this.nb_questions
//     );
//     if (this.sup == 1) {
//       this.consigne = "Pour chaque triangle, donner l'égalité de Pythagore.";
//     } else {
//       this.consigne = "Compléter.";
//     }

//     for (
//       let i = 0, texte, texte_corr, a, b, cpt = 0;
//       i < this.nb_questions && cpt < 50;

//     ) {
//       const triangle = new Triangles();

//       let nom = triangle.getNom();
//       let A = nom[1];
//       let B = nom[2];
//       let C = nom[3];
//       let texte_corr1 = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$.`;
//       let texte_corr1AB = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$ d'où $${A}${B}^2=${B}${C}^2-${A}${C}^2$.`;
//       let texte_corr1AC = `${nom} est rectangle en ${A}, donc d'après le théorème de Pythagore, on a : $${B}${C}^2=${A}${C}^2+${A}${B}^2$ d'où $${A}${C}^2=${B}${C}^2-${A}${B}^2$.`;
//       let texte_corr2 = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${B}${A}^2$.`;
//       let texte_corr2AB = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${A}${B}^2$ d'où $${A}${B}^2=${A}${C}^2-${B}${C}^2$.`;
//       let texte_corr2BC = `${nom} est rectangle en ${B}, donc d'après le théorème de Pythagore, on a : $${A}${C}^2=${B}${C}^2+${A}${B}^2$ d'où $${B}${C}^2=${A}${C}^2-${A}${B}^2$.`;
//       let texte_corr3 = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${C}${A}^2+${C}${B}^2$.`;
//       let texte_corr3BC = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${A}${C}^2+${B}${C}^2$ d'où $${B}${C}^2=${A}${B}^2-${A}${C}^2$.`;
//       let texte_corr3AC = `${nom} est rectangle en ${C}, donc d'après le théorème de Pythagore, on a : $${A}${B}^2=${A}${C}^2+${B}${C}^2$ d'où $${A}${C}^2=${A}${B}^2-${B}${C}^2$.`;

//       switch (liste_type_de_questions[i]) {
//         case 1:
//           texte = `<div><svg width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 240,40 40,140 " fill="none" stroke="black" />
// 			  <polygon points="40,40 50,40 50,50 40,50" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="250" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="30" y="140" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${A}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//           break;
//         case 2:
//           texte = `<div><svg width="400" height="200" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 240,40 240,140 " fill="none" stroke="black" />
// 			  <polygon points="240,40 230,40 230,50 240,50" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="250" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="250" y="140" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${B}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr2;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr2AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2BC;
//             }
//           }
//           break;
//         case 3:
//           texte = `<div><svg width="200" height"300" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 140,40 40,240" fill="none" stroke="black" />
// 			  <polygon points="40,40 50,40 50,50 40,50" fill="none" stroke="black" />
// 			  <text x="30" y="240" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="150" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${C}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr3;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr3;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr3AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr3BC;
//             }
//           }
//           break;
//         case 4:
//           texte = `<div><svg width="200" height"300" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="40,40 140,40 140,240" fill="none" stroke="black" />
// 			  <polygon points="140,40 140,50 130,50 130,40" fill="none" stroke="black" />
// 			  <text x="30" y="40" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="150" y="40" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="150" y="240" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${B}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr2;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr2AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr2BC;
//             }
//           }
//           break;
//         case 5:
//           texte = `<div><svg width="400" height"200" viewBox="-40 -40 400 200" xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="0,0 200,0 40,80.6" fill="none" stroke="black" />
// 			  <polygon points="40,80.6 50,76.2 46,67.2 36,71.8" fill="none" stroke="black" />
// 			  <text x="40" y="90.6" text-anchor="middle" alignment-baseline="central">${A}</text> 
// 			  <text x="210" y="0" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="-10" y="0" text-anchor="middle" alignment-baseline="central">${C}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${A}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//           break;
//         case 6:
//           texte = `<div><svg width="400" height"200" viewBox="-40 -140 400 200"  xmlns="http://www.w3.org/2000/svg">
// 			  <polygon points="0,0 200,0 40,-80.6" fill="none" stroke="black" />
// 			  <polygon points="40,-80.6 50,-76.2 46,-67.2 36,-71.8" fill="none" stroke="black" />
// 			  <text x="40" y="-90.6" text-anchor="middle" alignment-baseline="central">${C}</text> 
// 			  <text x="210" y="0" text-anchor="middle" alignment-baseline="central">${B}</text>
// 			  <text x="-10" y="0" text-anchor="middle" alignment-baseline="central">${A}</text>
// 			</svg></div>`;
//           if (this.sup2) {
//             texte = `${nom} est rectangle en $${C}$.<br>`;
//           }
//           if (this.sup == 1) {
//             texte_corr = texte_corr1;
//           } else {
//             let cas = randint(1, 3);
//             if (cas == 1) {
//               texte += `$${A}${B}^2=\\ldots$`;
//               texte_corr = texte_corr1AB;
//             }
//             if (cas == 2) {
//               texte += `$${A}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1AC;
//             }
//             if (cas == 3) {
//               texte += `$${B}${C}^2=\\ldots$`;
//               texte_corr = texte_corr1;
//             }
//           }
//       }
//       if (this.liste_questions.indexOf(texte) == -1) {
//         // Si la question n'a jamais été posée, on en créé une autre
//         this.liste_questions.push(texte);
//         this.liste_corrections.push(texte_corr);
//         i++;
//       }
//       cpt++;
//     }
//     liste_de_question_to_contenu(this);
//   };
//   this.besoin_formulaire_numerique = [
//     "Type de questions",
//     2,
//     "1 : Donner l'égalité\n2 : Compléter une égalité avec une addition ou une soustraction",
//   ];
//   this.besoin_formulaire2_case_a_cocher = ["Sans figures"];
// }

/**
 * Signe d'un produit ou d'on quotient de relatifs
 * Plusieurs niveaux 2, 3 ou 4 factieurs, un quotient de 2 nombres, 1  nombre sur un produit de deux nombres, un prooduit de 2 nombres sur un nombre, un quotient de produit de 2 nombres
 * 4C10-0 exercice parent  ?
 * @author Sébastien Lozano
 */

function Signe_produit_quotient_relatifs() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 1;
  if (this.exo == this.beta + "4C10-1") {
    this.sup = 4;
    this.titre = `Signe d'un produit de nombres relatifs`;
  } else if (this.exo == this.beta + "4C10-2") {
    this.sup = 5;
    this.titre = `Signe d'un quotient de nombres relatifs`;
  } else {
    this.titre = `Signe d'un produit ou d'un quotient de nombres relatifs`;
  }

  this.consigne = `Donner le signe des expressions numériques.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !

    if (this.exo == this.beta + "4C10-1") {
      // signe d'un produit
      switch (this.sup) {
        case 1: // 2 facteurs
          type_de_questions_disponibles = [1, 1, 1];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 2: // 3 facteurs
          type_de_questions_disponibles = [2, 2, 2];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 3: // 4 facteurs
          type_de_questions_disponibles = [3, 3, 3];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 4: // Mélange
          type_de_questions_disponibles = [1, 2, 3];
          this.nb_questions = type_de_questions_disponibles.length;
          break;
      }
    } else if (this.exo == this.beta + "4C10-2") {
      // signe d'un quotient
      switch (this.sup) {
        case 1: // quotient de 2 nombres
          type_de_questions_disponibles = [4, 4, 4];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 2: // quotient d'1 nombre sur un produit de 2 nombres
          type_de_questions_disponibles = [5, 5, 5];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 3: // quotient d'1 produit de 2 nombres sur 1 nombre
          type_de_questions_disponibles = [6, 6, 6];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 4: // quotient de 2 produits de 2 nombres
          type_de_questions_disponibles = [7, 7, 7];
          //this.nb_questions = type_de_questions_disponibles.length;
          this.nb_questions = 3;
          break;
        case 5: // Mélange
          type_de_questions_disponibles = [4, 5, 6, 7];
          this.nb_questions = type_de_questions_disponibles.length;
          break;
      }
    } else {
      // signe d'un produit et/ou d'un quotient
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7];
      this.nb_questions = type_de_questions_disponibles.length;
    }

    //let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_type_de_questions = type_de_questions_disponibles; // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on ne choisit que des nombres compris entre 1 et 20
      let nb_max = 20;
      // Le tableau des relatifs necessaires, il m'en faut max 4 !
      let num = new Relatif(
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max),
        randint(-1, 1, [0]) * randint(1, nb_max)
      );

      switch (liste_type_de_questions[i]) {
        case 1: // 2 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[1])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          } et $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(num.relatifs[0], num.relatifs[1])
          )}.`;
          break;
        case 2: // 3 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[2])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 3: // 4 facteurs
          texte = `$ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[3])} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }, `;
          texte_corr += `$ ${ecriture_nombre_relatif(num.relatifs[2])} $ est ${
            num.getSigneString()[2]
          } et $ ${ecriture_nombre_relatif(num.relatifs[3])} $ est ${
            num.getSigneString()[3]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneProduit(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2],
            num.relatifs[3]
          )}`;
          texte_corr += `<br>Donc $ ${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[3]
          )} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2],
              num.relatifs[3]
            )
          )}.`;
          break;
        case 4: // quotient de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(num.relatifs[1])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          } et $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(num.relatifs[0], num.relatifs[1])
          )}.`;
          break;
        case 5: // quotient d'1 nombre sur un produit de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[2])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[1]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[2]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 6: // quotient d'1 produit de 2 nombres sur 1 nombre
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(num.relatifs[2])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }`;
          texte_corr += ` et $ ${ecriture_nombre_relatif(
            num.relatifs[2]
          )} $ est ${num.getSigneString()[2]}.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2]
            )
          )}.`;
          break;
        case 7: // quotient de 2 produits de 2 nombres
          texte = `$ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(num.relatifs[3])}} $`;
          texte_corr = `$ ${ecriture_nombre_relatif(num.relatifs[0])} $ est ${
            num.getSigneString()[0]
          }, $ ${ecriture_nombre_relatif(num.relatifs[1])} $ est ${
            num.getSigneString()[1]
          }, `;
          texte_corr += `$ ${ecriture_nombre_relatif(num.relatifs[2])} $ est ${
            num.getSigneString()[2]
          } et $ ${ecriture_nombre_relatif(num.relatifs[3])} $ est ${
            num.getSigneString()[3]
          }.`;
          texte_corr += `<br> ${num.setRegleSigneQuotient(
            num.relatifs[0],
            num.relatifs[1],
            num.relatifs[2],
            num.relatifs[3]
          )}`;
          texte_corr += `<br>Donc $ \\dfrac{${ecriture_nombre_relatif(
            num.relatifs[0]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[1]
          )}}{${ecriture_nombre_relatif(
            num.relatifs[2]
          )} \\times ${ecriture_nombre_relatif(
            num.relatifs[3]
          )}} $ est ${texte_en_couleur_et_gras(
            num.getSigneProduitString(
              num.relatifs[0],
              num.relatifs[1],
              num.relatifs[2],
              num.relatifs[3]
            )
          )}.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  if (this.exo == this.beta + "4C10-1") {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      4,
      "1 : deux facteurs\n2 : trois facteurs\n3 : quatre facteurs\n4 : Mélange",
    ];
  } else if (this.exo == this.beta + "4C10-2") {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      5,
      "1 : quotient de deux nombres\n2 : quotient d'un nombre sur un produit de deux facteurs\n3 : quotient d'un produit de deux factueurs sur un nombre\n4 : Quotient de deux produits de deux facteurs\n5 : Mélange",
    ];
  } else {
    //this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : sans conversions de longueurs\n2 : avec conversions de longueurs"];
  }
}

/**
 * Signe du produit de relatifs
 * 4C10-1
 * @author Sébastien Lozano
 */
function Signe_produit_relatifs() {
  this.beta = ``;
  this.exo = this.beta + `4C10-1`;
  Signe_produit_quotient_relatifs.call(this);
}

/**
 * Signe du produit de relatifs
 * 4C10-2
 * @author Sébastien Lozano
 */
function Signe_quotient_relatifs() {
  this.beta = ``;
  this.exo = this.beta + `4C10-2`;
  Signe_produit_quotient_relatifs.call(this);
}

/**
 * Encadrer par des puissances de 10
 * 4C30-1
 * @author Sébastien Lozano
 */
function Puissances_encadrement() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4;
  this.nb_questions = 6;
  this.titre = `Encadrer avec des puissances de 10`;

  this.consigne = `Encadrer les nombres suivants par deux puisances de 10 d'exposants consécutifs.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  //this.nb_questions_modifiable = false;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !

    switch (this.sup) {
      case 1: // nombre enier positif
        type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 2: // nombre décimal positif
        type_de_questions_disponibles = [7, 8, 9, 10];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 3: // nombre décimal positif inférieur à 1
        type_de_questions_disponibles = [11, 12, 13, 14];
        //this.nb_questions = type_de_questions_disponibles.length;
        //this.nb_questions = 3;
        break;
      case 4: // Mélange
        type_de_questions_disponibles = [
          choice([1, 2, 3]),
          choice([4, 5, 6]),
          choice([7, 8]),
          choice([9, 10]),
          choice([11, 12]),
          choice([13, 14]),
        ];
        //this.nb_questions = type_de_questions_disponibles.length;
        break;
    }

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    // let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // nombre entier positif, entre 1 et 10, puis 10 et 100 puis ....100 000 et 1 000 000
      let ent_pos = [];
      for (let i = 0; i < 6; i++) {
        ent_pos.push({
          val: `$${tex_nombre(calcul(randint(10 ** i + 1, 10 ** (i + 1))))}$`,
          puissance_inf: `$10^{${i}}$`,
          puissance_sup: `$10^{${i + 1}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** i))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** (i + 1)))}$`,
        });
      }

      // nombre décimal positif 1 et 10 000 avec 1,2,3 puis 4 décimales
      let dec_pos = [];
      for (let i = 0; i < 4; i++) {
        dec_pos.push({
          val: `$${tex_nombre(calcul(randint(10000, 100000) / 10 ** (4 - i)))}$`,
          puissance_inf: `$10^{${i}}$`,
          puissance_sup: `$10^{${i + 1}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** i))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** (i + 1)))}$`,
        });
      }
      // nombre décimal positif inférieur à 1, entre 0,1 et 1 puis entre 0,01 et 0,1 puis 0,001 et 0,0001
      let dec_pos_inf_un = [];
      for (let i = 0; i < 4; i++) {
        dec_pos_inf_un.push({
          val: `$${tex_nombre(calcul(randint(10 ** (4 - i - 1) + 1, 10 ** (4 - i)) / 10000))}$`,
          puissance_inf: `$10^{${-(i + 1)}}$`,
          puissance_sup: `$10^{${-i}}$`,
          puissance_inf_num: `$${tex_nombre(calcul(10 ** -(i + 1)))}$`,
          puissance_sup_num: `$${tex_nombre(calcul(10 ** -i))}$`,
        });
      }

      switch (liste_type_de_questions[i]) {
        case 1: // nombre enier positif
          texte = `${ent_pos[0].val}`;
          texte_corr = `${ent_pos[0].puissance_inf} $\\leqslant$ ${ent_pos[0].val} $\\leqslant$ ${ent_pos[0].puissance_sup}`;
          texte_corr += ` car ${ent_pos[0].puissance_inf} = ${ent_pos[0].puissance_inf_num} et ${ent_pos[0].puissance_sup} = ${ent_pos[0].puissance_sup_num}`;
          break;
        case 2: // nombre enier positif
          texte = `${ent_pos[1].val}`;
          texte_corr = `${ent_pos[1].puissance_inf} $\\leqslant$ ${ent_pos[1].val} $\\leqslant$ ${ent_pos[1].puissance_sup}`;
          texte_corr += ` car ${ent_pos[1].puissance_inf} = ${ent_pos[1].puissance_inf_num} et ${ent_pos[1].puissance_sup} = ${ent_pos[1].puissance_sup_num}`;
          break;
        case 3: // nombre enier positif
          texte = `${ent_pos[2].val}`;
          texte_corr = `${ent_pos[2].puissance_inf} $\\leqslant$ ${ent_pos[2].val} $\\leqslant$ ${ent_pos[2].puissance_sup}`;
          texte_corr += ` car ${ent_pos[2].puissance_inf} = ${ent_pos[2].puissance_inf_num} et ${ent_pos[2].puissance_sup} = ${ent_pos[2].puissance_sup_num}`;
          break;
        case 4: // nombre enier positif
          texte = `${ent_pos[3].val}`;
          texte_corr = `${ent_pos[3].puissance_inf} $\\leqslant$ ${ent_pos[3].val} $\\leqslant$ ${ent_pos[3].puissance_sup}`;
          texte_corr += ` car ${ent_pos[3].puissance_inf} = ${ent_pos[3].puissance_inf_num} et ${ent_pos[3].puissance_sup} = ${ent_pos[3].puissance_sup_num}`;
          break;
        case 5: // nombre enier positif
          texte = `${ent_pos[4].val}`;
          texte_corr = `${ent_pos[4].puissance_inf} $\\leqslant$ ${ent_pos[4].val} $\\leqslant$ ${ent_pos[4].puissance_sup}`;
          texte_corr += ` car ${ent_pos[4].puissance_inf} = ${ent_pos[4].puissance_inf_num} et ${ent_pos[4].puissance_sup} = ${ent_pos[4].puissance_sup_num}`;
          break;
        case 6: // nombre enier positif
          texte = `${ent_pos[5].val}`;
          texte_corr = `${ent_pos[5].puissance_inf} $\\leqslant$ ${ent_pos[5].val} $\\leqslant$ ${ent_pos[5].puissance_sup}`;
          texte_corr += ` car ${ent_pos[5].puissance_inf} = ${ent_pos[5].puissance_inf_num} et ${ent_pos[5].puissance_sup} = ${ent_pos[5].puissance_sup_num}`;
          break;
        case 7: // nombre décimal positif
          texte = `${dec_pos[0].val}`;
          texte_corr = `${dec_pos[0].puissance_inf} $\\leqslant$ ${dec_pos[0].val} $\\leqslant$ ${dec_pos[0].puissance_sup}`;
          texte_corr += ` car ${dec_pos[0].puissance_inf} = ${dec_pos[0].puissance_inf_num} et ${dec_pos[0].puissance_sup} = ${dec_pos[0].puissance_sup_num}`;
          break;
        case 8: // nombre décimal positif
          texte = `${dec_pos[1].val}`;
          texte_corr = `${dec_pos[1].puissance_inf} $\\leqslant$ ${dec_pos[1].val} $\\leqslant$ ${dec_pos[1].puissance_sup}`;
          texte_corr += ` car ${dec_pos[1].puissance_inf} = ${dec_pos[1].puissance_inf_num} et ${dec_pos[1].puissance_sup} = ${dec_pos[1].puissance_sup_num}`;
          break;
        case 9: // nombre décimal positif
          texte = `${dec_pos[2].val}`;
          texte_corr = `${dec_pos[2].puissance_inf} $\\leqslant$ ${dec_pos[2].val} $\\leqslant$ ${dec_pos[2].puissance_sup}`;
          texte_corr += ` car ${dec_pos[2].puissance_inf} = ${dec_pos[2].puissance_inf_num} et ${dec_pos[2].puissance_sup} = ${dec_pos[2].puissance_sup_num}`;
          break;
        case 10: // nombre décimal positif
          texte = `${dec_pos[3].val}`;
          texte_corr = `${dec_pos[3].puissance_inf} $\\leqslant$ ${dec_pos[3].val} $\\leqslant$ ${dec_pos[3].puissance_sup}`;
          texte_corr += ` car ${dec_pos[3].puissance_inf} = ${dec_pos[3].puissance_inf_num} et ${dec_pos[3].puissance_sup} = ${dec_pos[3].puissance_sup_num}`;
          break;
        case 11: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[0].val}`;
          texte_corr = `${dec_pos_inf_un[0].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[0].val} $\\leqslant$ ${dec_pos_inf_un[0].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[0].puissance_inf} = ${dec_pos_inf_un[0].puissance_inf_num} et ${dec_pos_inf_un[0].puissance_sup} = ${dec_pos_inf_un[0].puissance_sup_num}`;
          break;
        case 12: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[1].val}`;
          texte_corr = `${dec_pos_inf_un[1].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[1].val} $\\leqslant$ ${dec_pos_inf_un[1].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[1].puissance_inf} = ${dec_pos_inf_un[1].puissance_inf_num} et ${dec_pos_inf_un[1].puissance_sup} = ${dec_pos_inf_un[1].puissance_sup_num}`;
          break;
        case 13: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[2].val}`;
          texte_corr = `${dec_pos_inf_un[2].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[2].val} $\\leqslant$ ${dec_pos_inf_un[2].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[2].puissance_inf} = ${dec_pos_inf_un[2].puissance_inf_num} et ${dec_pos_inf_un[2].puissance_sup} = ${dec_pos_inf_un[2].puissance_sup_num}`;
          break;
        case 14: // nombre décimal positif inferieur à 1
          texte = `${dec_pos_inf_un[3].val}`;
          texte_corr = `${dec_pos_inf_un[3].puissance_inf} $\\leqslant$ ${dec_pos_inf_un[3].val} $\\leqslant$ ${dec_pos_inf_un[3].puissance_sup}`;
          texte_corr += ` car ${dec_pos_inf_un[3].puissance_inf} = ${dec_pos_inf_un[3].puissance_inf_num} et ${dec_pos_inf_un[3].puissance_sup} = ${dec_pos_inf_un[3].puissance_sup_num}`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : nombre entier positif\n2 : nombre décimal positif\n3 : nombre entier positif inférieur à un\n4 : Mélange",
  ];
}

/**
 * Problèmes additifs et de comparaion sur les rationnels
 * 4C25-0
 * @author Sébastien Lozano
 */
function Problemes_additifs_fractions() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.beta = false;
  this.sup = 1;
  if (this.beta) {
    this.nb_questions = 5;
  } else {
    this.nb_questions = 2;
  }
  this.titre = `Problèmes additifs et de comparaison sur les rationnels`;
  this.consigne = `Justifier vos réponses aux problèmes suivants.`;

  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  //this.nb_questions_modifiable = false;
  sortie_html ? (this.spacing = 2) : (this.spacing = 1.5);
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 1.15);

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.beta) {
      type_de_questions_disponibles = [1, 2, 3, 4, 5];
    } else {
      type_de_questions_disponibles = [choice([1, 2]), choice([3, 4, 5])];
    }

    //let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_type_de_questions = combinaison_listes_sans_changer_ordre(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on aura besoin des méthodes de la classe Fraction()
      let frac = new ListeFraction();
      // on récupère les dénominateurs qui vont bien
      //let denoms_amis = frac.denominateurs_amis;
      //C'est mieux avec ceux là, l'algo trouve plus rapidement une solution avec les contraintes à ajouter dans mathsalea_outils.js quand ça sera possible.
      let denoms_amis = [
        [40, 2, 20, 4, 10, 5, 8],
        [60, 2, 30, 3, 20, 4, 15, 5, 12, 6, 10],
        [80, 2, 40, 4, 20, 5, 16, 8, 10],
      ];
      // on aura besoin de ranger tout ça !
      let frac_rangees, frac_meme_denom_rangees;

      //======================================================
      //======== 		AVEC 3 FRACTIONS			  	========
      //======================================================

      // le tableau d'objets contenant tout le necesssaire, fractions, énoncé, question ... pour les problème avec 3 fractions
      let pb_3_f = [];
      // les numérateurs et dénominateurs des 3 fractions attention les deux premières doivent être inférieures à 1/2 si on veut qu'elles soient toutes positives !
      // et on veut des fractions distinctes !
      let nt1, nt2, nt3, dt1, dt2, dt3;
      let n1, n2, n3, d1, d2, d3;
      // on choisit un tableau de dénominateurs qui vont bien
      let denoms_cool_3 = denoms_amis[randint(0, denoms_amis.length - 1)];
      while (
        nt1 == nt2 ||
        nt1 == nt3 ||
        nt2 == nt3 ||
        nt1 / dt1 >= 1 / 2 ||
        nt2 / dt2 >= 1 / 2
      ) {
        n1 = randint(1, 6);
        d1 = choice(denoms_cool_3);
        n2 = randint(2, 10, [n1]); //on évite n1 pour pouvoir retrouver le texte de la plus grande fraction
        d2 = choice(denoms_cool_3, [d1]);
        n3 = d1 * d2 - n1 * d2 - n2 * d1; //la somme des trois vaut 1 !
        d3 = d1 * d2;

        nt1 = frac.fraction_simplifiee(n1, d1)[0];
        dt1 = frac.fraction_simplifiee(n1, d1)[1];
        nt2 = frac.fraction_simplifiee(n2, d2)[0];
        dt2 = frac.fraction_simplifiee(n2, d2)[1];
        nt3 = frac.fraction_simplifiee(n3, d3)[0];
        dt3 = frac.fraction_simplifiee(n3, d3)[1];
      }

      //======================================================
      //========= indice 0 le triathlon des neiges  ==========
      //======================================================
      pb_3_f.push({
        prenoms: [prenomM()],
        fractionsSimp: [
          nt1,
          dt1,
          "VTT",
          nt2,
          dt2,
          "ski de fond",
          nt3,
          dt3,
          "pied",
        ],
        fractionsB: {
          f1: [nt1, dt1],
          cat1: "VTT",
          f2: [nt2, dt2],
          cat2: "ski de fond",
          f3: [nt3, dt3],
          cat3: "pied",
        },
        enonce: ``,
        question: `Pour quelle discipline, la distance est-elle la plus grande ?`,
        correction: ``,
      });

      // les 3 prénomns doivent être distincts
      let p1, p2, p3; // les 3 prénoms
      while (p1 == p2 || p1 == p3 || p2 == p3) {
        p1 = prenomF();
        p2 = prenomF();
        p3 = prenomF();
      }

      //======================================================
      //=========== 		indice 1 Miss Math		 ===========
      //======================================================
      pb_3_f.push({
        prenoms: [],
        fractionsSimp: [nt1, dt1, p1, nt2, dt2, p2, nt3, dt3, p3],
        fractionsB: {
          f1: [nt1, dt1],
          cat1: p1,
          f2: [nt2, dt2],
          cat2: p2,
          f3: [nt3, dt3],
          cat3: p3,
        },
        enonce: ``,
        question: `Qui a été élue ?`,
        correction: ``,
      });
      let currentDate = new Date();
      let currentAnnee = currentDate.getFullYear();

      //======================================================
      //====== énoncé indice 0 le triathlon des neiges  ======
      //======================================================
      pb_3_f[0].enonce += `Le triathlon des neiges de la vallée des loups comprend trois épreuves qui s'enchaînent : VTT, ski de fond et course à pied.`;
      pb_3_f[0].enonce += `<br>${pb_3_f[0].prenoms[0]}, un passionné de cette épreuve, s'entraîne régulièrement sur le même circuit. `;
      pb_3_f[0].enonce += `<br>À chaque entraînement, il parcourt le circuit de la façon suivante : $\\dfrac{${pb_3_f[0].fractionsB.f1[0]}}{${pb_3_f[0].fractionsB.f1[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].enonce += `$\\dfrac{${pb_3_f[0].fractionsB.f2[0]}}{${pb_3_f[0].fractionsB.f2[1]}}$ à ${pb_3_f[0].fractionsB.cat2} et le reste à ${pb_3_f[0].fractionsB.cat3}.`;

      //======================================================
      //=========== énoncé indice 1 Miss Math		 ===========
      //======================================================
      pb_3_f[1].enonce = `À l'élection de Miss Math ${currentAnnee}, ${pb_3_f[1].fractionsB.cat1} a remporté $\\dfrac{${pb_3_f[1].fractionsB.f1[0]}}{${pb_3_f[1].fractionsB.f1[1]}}$ des suffrages, `;
      pb_3_f[1].enonce += `${pb_3_f[1].fractionsB.cat2} $\\dfrac{${pb_3_f[1].fractionsB.f2[0]}}{${pb_3_f[1].fractionsB.f2[1]}}$ et `;
      pb_3_f[1].enonce += `${pb_3_f[1].fractionsB.cat3} tous les autres.`;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      let frac_meme_denom;
      for (let i = 0; i < 2; i++) {
        pb_3_f[
          i
        ].correction = `Il s'agit d'un problème additif. Il va être necessaire de réduire les fractions au même dénominateur pour les additionner, les soustraire ou les comparer.<br>`;

        if (!(dt1 == dt2)) {
          pb_3_f[
            i
          ].correction += `Réduisons les fractions de l'énoncé au même dénominateur :  `;
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_3_f[i].fractionsB.f1[0],
            pb_3_f[i].fractionsB.f1[1],
            pb_3_f[i].fractionsB.f2[0],
            pb_3_f[i].fractionsB.f2[1],
            pb_3_f[i].fractionsB.f3[0],
            pb_3_f[i].fractionsB.f3[1]
          );
          if (frac_meme_denom[1] == dt1) {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$.<br>`;
          } else if (frac_meme_denom[1] == dt2) {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}}$<br>`;
          } else {
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ et `;
            pb_3_f[
              i
            ].correction += `$\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$.<br>`;
          }
        } else {
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_3_f[i].fractionsB.f1[0],
            pb_3_f[i].fractionsB.f1[1],
            pb_3_f[i].fractionsB.f2[0],
            pb_3_f[i].fractionsB.f2[1],
            pb_3_f[i].fractionsB.f3[0],
            pb_3_f[i].fractionsB.f3[1]
          );
          pb_3_f[
            i
          ].correction += `Les fractions de l'énoncé ont déjà le même dénominateur.`;
        }
      }

      //======================================================
      //==== Correction indice 0 le triathlon des neiges  ====
      //======================================================
      pb_3_f[0].correction += `Calculons alors la distance à `;

      //======================================================
      //======== 		Correction indice 1 Miss Math  	========
      //======================================================
      pb_3_f[1].correction += `Calculons d'abord la fraction des suffrages remportés par `;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      for (let i = 0; i < 2; i++) {
        pb_3_f[i].correction += `${pb_3_f[i].fractionsB.cat3} : <br>`;
        pb_3_f[
          i
        ].correction += `$1-\\dfrac{${pb_3_f[i].fractionsB.f1[0]}}{${pb_3_f[i].fractionsB.f1[1]}}-\\dfrac{${pb_3_f[i].fractionsB.f2[0]}}{${pb_3_f[i].fractionsB.f2[1]}} = `;
        pb_3_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}} = `;
        pb_3_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}-${frac_meme_denom[0]}-${frac_meme_denom[2]}}{${frac_meme_denom[3]}} = `;
        pb_3_f[i].correction += `\\dfrac{${
          frac_meme_denom[1] - frac_meme_denom[0] - frac_meme_denom[2]
        }}{${frac_meme_denom[1]}}`;
        if (!(frac_meme_denom[1] == pb_3_f[0].fractionsB.f3[1])) {
          pb_3_f[
            i
          ].correction += ` = \\dfrac{${pb_3_f[i].fractionsB.f3[0]}}{${pb_3_f[i].fractionsB.f3[1]}}$`;
        } else {
          pb_3_f[i].correction += `$`;
        }
      }

      //======================================================
      //==== Conclusion indice 0 le triathlon des neiges  ====
      //======================================================
      pb_3_f[0].correction += `<br>${pb_3_f[0].prenoms[0]} fait donc $\\dfrac{${pb_3_f[0].fractionsB.f1[0]}}{${pb_3_f[0].fractionsB.f1[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].correction += `$\\dfrac{${pb_3_f[0].fractionsB.f2[0]}}{${pb_3_f[0].fractionsB.f2[1]}}$ à ${pb_3_f[0].fractionsB.cat2} et `;
      pb_3_f[0].correction += `$\\dfrac{${pb_3_f[0].fractionsB.f3[0]}}{${pb_3_f[0].fractionsB.f3[1]}}$ à ${pb_3_f[0].fractionsB.cat3}.`;

      pb_3_f[0].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_3_f[0].correction += `${pb_3_f[0].prenoms[0]} fait donc $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ à ${pb_3_f[0].fractionsB.cat1}, `;
      pb_3_f[0].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ à ${pb_3_f[0].fractionsB.cat2} et `;
      pb_3_f[0].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ à ${pb_3_f[0].fractionsB.cat3}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nt1 / dt1) == calcul(nt2 / dt2) &&
        calcul(nt1 / dt1) == calcul(nt3 / dt3)
      ) {
        pb_3_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `Les trois fractions sont équivalentes, ${pb_3_f[0].prenoms[0]} parcours donc la même distance dans les trois disciplines.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5]
        );
        pb_3_f[0].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_3_f[0].fractionsB.f1[0],
          pb_3_f[0].fractionsB.f1[1],
          pb_3_f[0].fractionsB.f2[0],
          pb_3_f[0].fractionsB.f2[1],
          pb_3_f[0].fractionsB.f3[0],
          pb_3_f[0].fractionsB.f3[1]
        );

        pb_3_f[0].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$.`;

        pb_3_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc à ${
            pb_3_f[0].fractionsSimp[
              pb_3_f[0].fractionsSimp.indexOf(frac_rangees[4]) + 2
            ]
          } que ${pb_3_f[0].prenoms[0]} fait la plus grande distance.`
        )}`;
      }

      //======================================================
      //======== 		Conclusion indice 1 Miss Math  	========
      //======================================================
      pb_3_f[1].correction += `<br>${pb_3_f[1].fractionsB.cat1} a donc remporté $\\dfrac{${pb_3_f[1].fractionsB.f1[0]}}{${pb_3_f[1].fractionsB.f1[1]}}$, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat2} a remporté $\\dfrac{${pb_3_f[1].fractionsB.f2[0]}}{${pb_3_f[1].fractionsB.f2[1]}}$ et `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat3} $\\dfrac{${pb_3_f[1].fractionsB.f3[0]}}{${pb_3_f[1].fractionsB.f3[1]}}$.`;

      pb_3_f[1].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat1} remporte donc $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$, `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat2} $\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ et `;
      pb_3_f[1].correction += `${pb_3_f[1].fractionsB.cat3} $\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$.`;

      if (
        calcul(nt1 / dt1) == calcul(nt2 / dt2) &&
        calcul(nt1 / dt1) == calcul(nt3 / dt3)
      ) {
        pb_3_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `Les trois fractions sont équivalentes, les trois candidates ont donc remporté le même nombre de suffrages.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5]
        );
        pb_3_f[1].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_3_f[1].fractionsB.f1[0],
          pb_3_f[1].fractionsB.f1[1],
          pb_3_f[1].fractionsB.f2[0],
          pb_3_f[1].fractionsB.f2[1],
          pb_3_f[1].fractionsB.f3[0],
          pb_3_f[1].fractionsB.f3[1]
        );

        pb_3_f[1].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$.`;

        pb_3_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc ${
            pb_3_f[1].fractionsSimp[
              pb_3_f[1].fractionsSimp.indexOf(frac_rangees[4]) + 2
            ]
          } qui a été élue.`
        )}`;
      }

      //======================================================
      //======== 		AVEC 4 FRACTIONS			  	========
      //======================================================

      // le tableau d'objets contenant tout le necesssaire, fractions, énoncé, question ... pour les problème avec 4 fractions
      let pb_4_f = [];
      // les numérateurs et dénominateurs des 4 fractions attention les trois premières doivent être inférieures à 1/3 si on veut qu'elles soient toutes positives !
      // et on veut des fractions distinctes
      let nq1, nq2, nq3, nq4, dq1, dq2, dq3, dq4;
      let n4, d4; // en plus parce qu'il y a 4 fractions
      // on choisit un tableau de dénominateurs qui vont bien
      let denoms_cool_4 = denoms_amis[randint(2, denoms_amis.length - 1)];
      while (
        nq1 == nq2 ||
        nq1 == nq3 ||
        nq1 == nq4 ||
        nq2 == nq3 ||
        nq2 == nq4 ||
        nq3 == nq4 ||
        nq1 / dq1 >= 1 / 3 ||
        nq2 / dq2 >= 1 / 3 ||
        nq3 / dq3 >= 1 / 3
      ) {
        n1 = randint(1, 5);
        d1 = choice(denoms_cool_4);
        n2 = randint(1, 11, [n1]); //on évite n1 pour pouvoir retrouver le texte de la plus grande fraction
        d2 = choice(denoms_cool_4);
        n3 = randint(1, 17, [n1, n2]); //on évite n1 et n2 pour pouvoir retrouver le texte de la plus grande fraction
        d3 = choice(denoms_cool_4);
        n4 = d1 * d2 * d3 - n1 * d2 * d3 - n2 * d1 * d3 - n3 * d1 * d2; //la somme des quatre vaut 1 !
        d4 = d1 * d2 * d3;

        nq1 = frac.fraction_simplifiee(n1, d1)[0];
        dq1 = frac.fraction_simplifiee(n1, d1)[1];
        nq2 = frac.fraction_simplifiee(n2, d2)[0];
        dq2 = frac.fraction_simplifiee(n2, d2)[1];
        nq3 = frac.fraction_simplifiee(n3, d3)[0];
        dq3 = frac.fraction_simplifiee(n3, d3)[1];
        nq4 = frac.fraction_simplifiee(n4, d4)[0];
        dq4 = frac.fraction_simplifiee(n4, d4)[1];
      }

      //======================================================
      //=========== 		indice 0 le mandala		 ===========
      //======================================================
      pb_4_f.push({
        //
        prenoms: [prenom()],
        fractionsSimp: [
          nq1,
          dq1,
          "carmin",
          nq2,
          dq2,
          "ocre jaune",
          nq3,
          dq3,
          "turquoise",
          nq4,
          dq4,
          "pourpre",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "carmin",
          f2: [nq2, dq2],
          cat2: "ocre jaune",
          f3: [nq3, dq3],
          cat3: "turquoise",
          f4: [nq4, dq4],
          cat4: "pourpre",
        },
        enonce: ``,
        question: `Quelle est elle la couleur qui recouvre le plus de surface ?`,
        correction: ``,
      });

      //======================================================
      //===========		indice 1 le jardin	 	 ===========
      //======================================================
      pb_4_f.push({
        // indice 1 le jardin
        prenoms: [],
        fractionsSimp: [
          nq1,
          dq1,
          "la culture des légumes",
          nq2,
          dq2,
          "la culture des plantes aromatiques",
          nq3,
          dq3,
          "une serre servant aux semis",
          nq4,
          dq4,
          "la culture des fraisiers",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "la culture des légumes",
          f2: [nq2, dq2],
          cat2: "la culture des plantes aromatiques",
          f3: [nq3, dq3],
          cat3: "une serre servant aux semis",
          f4: [nq4, dq4],
          cat4: "la culture des fraisiers",
        },
        enonce: ``,
        question: `Quelle est la culture qui occupe le plus de surface ?`,
        correction: ``,
      });

      //======================================================
      //===========	indice 2 le stade		 	 ===========
      //======================================================
      pb_4_f.push({
        // indice 2 le stade
        prenoms: [],
        fractionsSimp: [
          nq1,
          dq1,
          "le pays organisateur",
          nq2,
          dq2,
          "l'ensemble des supporters des deux équipes en jeu",
          nq3,
          dq3,
          "les sponsors et officiels",
          nq4,
          dq4,
          "les places en vente libre",
        ],
        fractionsB: {
          f1: [nq1, dq1],
          cat1: "le pays organisateur",
          f2: [nq2, dq2],
          cat2: "l'ensemble des supporters des deux équipes en jeu",
          f3: [nq3, dq3],
          cat3: "les sponsors et officiels",
          f4: [nq4, dq4],
          cat4: "les places en vente libre",
        },
        enonce: ``,
        question: `Quelle est la catégorie la plus importante dans le stade ?`,
        correction: ``,
      });

      //======================================================
      //===========	énoncé indice 0 le mandala 	 ===========
      //======================================================
      pb_4_f[0].enonce = `${pb_4_f[0].prenoms[0]} colorie un mandala selon les proportions suivantes :  $\\dfrac{${pb_4_f[0].fractionsB.f1[0]}}{${pb_4_f[0].fractionsB.f1[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].enonce += `$\\dfrac{${pb_4_f[0].fractionsB.f2[0]}}{${pb_4_f[0].fractionsB.f2[1]}}$ en  ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].enonce += `$\\dfrac{${pb_4_f[0].fractionsB.f3[0]}}{${pb_4_f[0].fractionsB.f3[1]}}$ en  ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].enonce += `le reste en ${pb_4_f[0].fractionsB.cat4}.`;

      //======================================================
      //===========	énoncé indice 1 le jardin 	 ===========
      //======================================================
      pb_4_f[1].enonce = `Un jardin est aménagé selon les proportions suivantes :  $\\dfrac{${pb_4_f[1].fractionsB.f1[0]}}{${pb_4_f[1].fractionsB.f1[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].enonce += `$\\dfrac{${pb_4_f[1].fractionsB.f2[0]}}{${pb_4_f[1].fractionsB.f2[1]}}$ par  ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].enonce += `$\\dfrac{${pb_4_f[1].fractionsB.f3[0]}}{${pb_4_f[1].fractionsB.f3[1]}}$ par  ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].enonce += `le reste par ${pb_4_f[1].fractionsB.cat4}.`;

      //======================================================
      //===========	énoncé indice 2 le stade 	 ===========
      //======================================================
      pb_4_f[2].enonce = `Pour chaque match, les places du stade sont mises en vente dans les proportions suivantes :  $\\dfrac{${pb_4_f[2].fractionsB.f1[0]}}{${pb_4_f[2].fractionsB.f1[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].enonce += `$\\dfrac{${pb_4_f[2].fractionsB.f2[0]}}{${pb_4_f[2].fractionsB.f2[1]}}$ pour  ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].enonce += `$\\dfrac{${pb_4_f[2].fractionsB.f3[0]}}{${pb_4_f[2].fractionsB.f3[1]}}$ pour  ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].enonce += `le reste pour ${pb_4_f[2].fractionsB.cat4}.`;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================

      //let frac_meme_denom;
      for (let i = 0; i < 3; i++) {
        pb_4_f[
          i
        ].correction = `Il s'agit d'un problème additif. Il va être necessaire de réduire les fractions au même dénominateur pour les additionner, les soustraire ou les comparer.<br>`;

        if (!(dq1 == dq2 && dq1 == dq3)) {
          pb_4_f[i].correction += `${!(
            dq1 == dq2 && dq1 == dq3
          )} - ${dq1} - ${dq2} - ${dq3} - Réduisons les fractions de l'énoncé au même dénominateur :  `;
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_4_f[i].fractionsB.f1[0],
            pb_4_f[i].fractionsB.f1[1],
            pb_4_f[i].fractionsB.f2[0],
            pb_4_f[i].fractionsB.f2[1],
            pb_4_f[i].fractionsB.f3[0],
            pb_4_f[i].fractionsB.f3[1],
            pb_4_f[i].fractionsB.f4[0],
            pb_4_f[i].fractionsB.f4[1]
          );
          if (frac_meme_denom[1] == dq1) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}$, `;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}} = \\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$, `;
          }
          if (frac_meme_denom[1] == dq2) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}$ et `;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}} = \\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ et `;
          }
          if (frac_meme_denom[1] == dq3) {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}}$.<br>`;
          } else {
            pb_4_f[
              i
            ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}} = \\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$.<br>`;
          }
        } else {
          frac_meme_denom = frac.reduceSameDenominateur(
            pb_4_f[i].fractionsB.f1[0],
            pb_4_f[i].fractionsB.f1[1],
            pb_4_f[i].fractionsB.f2[0],
            pb_4_f[i].fractionsB.f2[1],
            pb_4_f[i].fractionsB.f3[0],
            pb_4_f[i].fractionsB.f3[1],
            pb_4_f[i].fractionsB.f4[0],
            pb_4_f[i].fractionsB.f4[1]
          );
          pb_4_f[
            i
          ].correction += `Les fractions de l'énoncé ont déjà le même dénominateur : `;
          pb_4_f[
            i
          ].correction += `$\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}$, $\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}$ et $\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}}$.<br>`;
        }
      }

      //======================================================
      //===========	Correction indice 0 le mandala==========
      //======================================================
      pb_4_f[0].correction += `Calculons alors la fraction du mandala recouverte en `;

      //======================================================
      //===========	Correction indice 1 le jardin===========
      //======================================================
      pb_4_f[1].correction += `Calculons d'abord la fraction du jardin occupée par `;

      //======================================================
      //===========	énoncé indice 2 le stade 	 ===========
      //======================================================
      pb_4_f[2].correction += `Calculons d'abord la fraction du stade occupée par `;

      //======================================================
      //=========== 		Correction Commune  	 ===========
      //======================================================
      for (let i = 0; i < 3; i++) {
        pb_4_f[i].correction += `${pb_4_f[i].fractionsB.cat3} : <br>`;
        pb_4_f[
          i
        ].correction += `$1-\\dfrac{${pb_4_f[i].fractionsB.f1[0]}}{${pb_4_f[i].fractionsB.f1[1]}}-\\dfrac{${pb_4_f[i].fractionsB.f2[0]}}{${pb_4_f[i].fractionsB.f2[1]}}-\\dfrac{${pb_4_f[i].fractionsB.f3[0]}}{${pb_4_f[i].fractionsB.f3[1]}} = `;
        pb_4_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}-\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}-\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}} = `;
        pb_4_f[
          i
        ].correction += `\\dfrac{${frac_meme_denom[1]}-${frac_meme_denom[0]}-${frac_meme_denom[2]}-${frac_meme_denom[4]}}{${frac_meme_denom[1]}} = `;
        pb_4_f[i].correction += `\\dfrac{${
          frac_meme_denom[1] -
          frac_meme_denom[0] -
          frac_meme_denom[2] -
          frac_meme_denom[4]
        }}{${frac_meme_denom[1]}}`;
        if (!(frac_meme_denom[1] == pb_4_f[0].fractionsB.f4[1])) {
          pb_4_f[
            i
          ].correction += ` = \\dfrac{${pb_4_f[i].fractionsB.f4[0]}}{${pb_4_f[i].fractionsB.f4[1]}}$`;
        } else {
          pb_4_f[i].correction += `$`;
        }
      }

      //======================================================
      //=========== Conclusion indice 0 le mandala ===========
      //======================================================

      pb_4_f[0].correction += `<br>Le mandala est donc colorié de la façon suivante : $\\dfrac{${pb_4_f[0].fractionsB.f1[0]}}{${pb_4_f[0].fractionsB.f1[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f2[0]}}{${pb_4_f[0].fractionsB.f2[1]}}$ en ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f3[0]}}{${pb_4_f[0].fractionsB.f3[1]}}$ en ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].correction += `$\\dfrac{${pb_4_f[0].fractionsB.f4[0]}}{${pb_4_f[0].fractionsB.f4[1]}}$ en ${pb_4_f[0].fractionsB.cat4}.`;

      pb_4_f[0].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[0].correction += `le mandala est donc colorié de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ en ${pb_4_f[0].fractionsB.cat1}, `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ en ${pb_4_f[0].fractionsB.cat2}, `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ en ${pb_4_f[0].fractionsB.cat3} et `;
      pb_4_f[0].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ en ${pb_4_f[0].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, ${pb_4_f[0].prenoms[0]} colorie donc la même surface avec les quatre couleurs.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[0].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[0].fractionsB.f1[0],
          pb_4_f[0].fractionsB.f1[1],
          pb_4_f[0].fractionsB.f2[0],
          pb_4_f[0].fractionsB.f2[1],
          pb_4_f[0].fractionsB.f3[0],
          pb_4_f[0].fractionsB.f3[1],
          pb_4_f[0].fractionsB.f4[0],
          pb_4_f[0].fractionsB.f4[1]
        );

        pb_4_f[0].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[0].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc en ${
            pb_4_f[0].fractionsSimp[
              pb_4_f[0].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le mandala est le plus recouvert.`
        )}`;
      }

      //======================================================
      //=========== Conclusion indice 1 le jardin	 ===========
      //======================================================
      pb_4_f[1].correction += `<br>Le jardin est donc occupé de la façon suivante : $\\dfrac{${pb_4_f[1].fractionsB.f1[0]}}{${pb_4_f[1].fractionsB.f1[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f2[0]}}{${pb_4_f[1].fractionsB.f2[1]}}$ par ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f3[0]}}{${pb_4_f[1].fractionsB.f3[1]}}$ par ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].correction += `$\\dfrac{${pb_4_f[1].fractionsB.f4[0]}}{${pb_4_f[1].fractionsB.f4[1]}}$ par ${pb_4_f[1].fractionsB.cat4}.`;

      pb_4_f[1].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[1].correction += `le jardin est donc occupé de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ par ${pb_4_f[1].fractionsB.cat1}, `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ par ${pb_4_f[1].fractionsB.cat2}, `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ par ${pb_4_f[1].fractionsB.cat3} et `;
      pb_4_f[1].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ par ${pb_4_f[1].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, la même surface du jardin est donc occupée par les quatre cultures.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[1].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[1].fractionsB.f1[0],
          pb_4_f[1].fractionsB.f1[1],
          pb_4_f[1].fractionsB.f2[0],
          pb_4_f[1].fractionsB.f2[1],
          pb_4_f[1].fractionsB.f3[0],
          pb_4_f[1].fractionsB.f3[1],
          pb_4_f[1].fractionsB.f4[0],
          pb_4_f[1].fractionsB.f4[1]
        );

        pb_4_f[1].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[1].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc par ${
            pb_4_f[1].fractionsSimp[
              pb_4_f[1].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le jardin est le plus occupé.`
        )}`;
      }

      //======================================================
      //=========== Conclusion indice 2 le stade	 ===========
      //======================================================
      pb_4_f[2].correction += `<br>Le stade est donc occupé de la façon suivante : $\\dfrac{${pb_4_f[2].fractionsB.f1[0]}}{${pb_4_f[2].fractionsB.f1[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f2[0]}}{${pb_4_f[2].fractionsB.f2[1]}}$ pour ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f3[0]}}{${pb_4_f[2].fractionsB.f3[1]}}$ pour ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].correction += `$\\dfrac{${pb_4_f[2].fractionsB.f4[0]}}{${pb_4_f[2].fractionsB.f4[1]}}$ pour ${pb_4_f[2].fractionsB.cat4}.`;

      pb_4_f[2].correction += `<br> Avec les mêmes dénominateurs pour pouvoir comparer, `;
      pb_4_f[2].correction += `le stade est donc occupé de la façon suivante : $\\dfrac{${frac_meme_denom[0]}}{${frac_meme_denom[1]}}$ pour ${pb_4_f[2].fractionsB.cat1}, `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[2]}}{${frac_meme_denom[3]}}$ pour ${pb_4_f[2].fractionsB.cat2}, `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[4]}}{${frac_meme_denom[5]}}$ pour ${pb_4_f[2].fractionsB.cat3} et `;
      pb_4_f[2].correction += `$\\dfrac{${frac_meme_denom[6]}}{${frac_meme_denom[7]}}$ pour ${pb_4_f[2].fractionsB.cat4}.`;

      //let frac_rangees,frac_meme_denom_rangees;
      if (
        calcul(nq1 / dq1) == calcul(nq2 / dq2) &&
        calcul(nq1 / dq1) == calcul(nq3 / dq3) &&
        calcul(nq1 / dq1) == calcul(nq4 / dq4)
      ) {
        pb_4_f[2].correction += `<br> ${texte_en_couleur_et_gras(
          `Les quatre fractions sont équivalentes, chaque catégorie a donc la même importance dans le stade.`
        )}`;
      } else {
        frac_meme_denom_rangees = frac.sortFractions(
          frac_meme_denom[0],
          frac_meme_denom[1],
          frac_meme_denom[2],
          frac_meme_denom[3],
          frac_meme_denom[4],
          frac_meme_denom[5],
          frac_meme_denom[6],
          frac_meme_denom[7]
        );
        pb_4_f[2].correction += `<br>Nous pouvons alors ranger ces fractions dans l'ordre croissant : $\\dfrac{${frac_meme_denom_rangees[0]}}{${frac_meme_denom_rangees[1]}}$, $\\dfrac{${frac_meme_denom_rangees[2]}}{${frac_meme_denom_rangees[3]}}$, $\\dfrac{${frac_meme_denom_rangees[4]}}{${frac_meme_denom_rangees[5]}}$, $\\dfrac{${frac_meme_denom_rangees[6]}}{${frac_meme_denom_rangees[7]}}$.`;

        frac_rangees = frac.sortFractions(
          pb_4_f[2].fractionsB.f1[0],
          pb_4_f[2].fractionsB.f1[1],
          pb_4_f[2].fractionsB.f2[0],
          pb_4_f[2].fractionsB.f2[1],
          pb_4_f[2].fractionsB.f3[0],
          pb_4_f[2].fractionsB.f3[1],
          pb_4_f[2].fractionsB.f4[0],
          pb_4_f[2].fractionsB.f4[1]
        );

        pb_4_f[2].correction += `<br>Enfin, nous pouvons ranger les fractions de l'énoncé et la fraction calculée dans l'ordre croissant : $\\dfrac{${frac_rangees[0]}}{${frac_rangees[1]}}$, $\\dfrac{${frac_rangees[2]}}{${frac_rangees[3]}}$, $\\dfrac{${frac_rangees[4]}}{${frac_rangees[5]}}$, $\\dfrac{${frac_rangees[6]}}{${frac_rangees[7]}}$.`;

        pb_4_f[2].correction += `<br> ${texte_en_couleur_et_gras(
          `C'est donc pour ${
            pb_4_f[2].fractionsSimp[
              pb_4_f[2].fractionsSimp.indexOf(frac_rangees[6]) + 2
            ]
          } que le nombre de places est le plus important.`
        )}`;
      }

      switch (liste_type_de_questions[i]) {
        case 1: // Triathlon des neiges --> VTT, ski de fond, course
          texte = `${pb_3_f[0].enonce} <br> ${pb_3_f[0].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_3_f[0].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_3_f[0].correction}`;
          }
          break;
        case 2: //Miss Math --> Noémie, Samia, Alexia
          texte = `${pb_3_f[1].enonce} <br> ${pb_3_f[1].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_3_f[1].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_3_f[1].correction}`;
          }
          break;
        case 3: // Mandala --> carmin, ocre jaune, turquoise, pourpre
          texte = `${pb_4_f[0].enonce} <br> ${pb_4_f[0].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[0].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[0].correction}`;
          }
          break;
        case 4: // Jardin --> légumes, plantes aromatiques, semis, fraisiers
          texte = `${pb_4_f[1].enonce} <br> ${pb_4_f[1].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[1].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[1].correction}`;
          }
          break;
        case 5: // Stade --> pays organisatuers, supporters, sponsors, vente libre
          texte = `${pb_4_f[2].enonce} <br> ${pb_4_f[2].question}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> ${pb_4_f[2].correction}`;
            texte_corr = ``;
          } else {
            texte_corr = `${pb_4_f[2].correction}`;
          }
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',4,"1 : nombre enier positif\n2 : nombre décimal positif\n3 : nombre enier positif inférieur à un\n4 : Mélange"];
}

/**
 * Problème avec lecture de représentation graphique d'une fonction
 * @Auteur Rémi Angot
 * Référence 4F12
 */
function Exploiter_representation_graphique() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Problème s'appuyant sur la lecture d'une représentation graphique";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;
  this.sup = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_probleme
    if (this.sup==1){
      type_de_probleme = "projectile"
    }
    if (this.sup==2){
      type_de_probleme = "velo"
    }
    if (this.sup==3){
      type_de_probleme = "temperature"
    }
    if (this.sup==4){
      type_de_probleme = choice(["temperature","projectile","velo"]);
    }
    let a, b, c, d, f, t1, t2, l1, l2, l3, g1, g2, r, graphique, texte1, texte2;
    switch (type_de_probleme) {
      case "projectile":
        // Parabole qui a pour zéro, 0 et 6,8 ou 10
        // Et qui a pour maximum un multiple de 5
        t1 = choice([6, 8, 10]);
        a = (1 / ((-t1 / 2) * (t1 / 2 - t1))) * choice([10, 15, 20, 25, 30]); // on divise par l'image du max et on multiplie par la valeur souhaitée
        f = (x) => calcul(-a * x * (x - t1));

        // Mettre des dixièmes de secondes à la place des secondes
        let xscale = choice([1, 0.1]);
        g1 = grille(-1, -1, t1 + 2, 8);
        g1.color = "black";
        g1.opacite = 1;
        g2 = grille(-1, -1, t1 + 2, 8, "gray", 0.2, 0.2);
        g3 = axes(0, 0, t1 + 1, 8);
        texte1 = texteParPosition("hauteur (en mètre)", 0.2, 7.3, "droite");
        l1 = labelX(0, calcul((t1 + 1)*xscale), 1, "black", -0.6, xscale);
        l2 = labelY(5, 35, 1, "black", -0.6, 5);
        graphique = courbe(f, 0, t1, "blue", 2, [1,5]);
        texte2 = texteParPosition("temps (en s)", t1 + 0.5, 0.4, "droite");

        this.introduction =
          "On a représenté ci-dessous l’évolution de la hauteur d’un projectile lancé depuis le sol (en mètre) en fonction du temps (en seconde).";

        this.introduction +=
          "<br><br>" +
          mathalea2d(
            {
              xmin: -1,
              ymin: -1,
              xmax: t1 + 3,
              ymax: 8,
              pixelsParCm: 30,
              scale : .6,
            },
            g1,
            g2,
            g3,
            graphique,
            texte1,
            texte2,
            l1,
            l2
          );

        this.introduction +=
          "<br><br>" +
          "À l’aide de ce graphique, répondre aux questions suivantes :";

        this.liste_questions.push(
          "Au bout de combien de temps le projectile retombe-t-il au sol ?"
        );
        this.liste_corrections.push(
          `Au bout de ${tex_nombrec(
            t1 * xscale
          )} s, le projectile retombe au sol car la courbe passe par le point de coordonnées $(${tex_nombrec(
            t1 * xscale
          )}~;~0)$.`
        );

        this.liste_questions.push(
          "Quelle est la hauteur maximale atteinte par le projectile ?"
        );
        this.liste_corrections.push(
          `Le point le plus haut de la courbe a pour abscisse $${tex_nombrec(
            (t1 / 2) * xscale
          )}$ et pour ordonnée $${f(
            t1 / 2
          )}$ donc la hauteur maximale est de $${f(t1 / 2)}$ m.`
        );

        break;
        case 'velo' : 
				let v1 = randint(1,4)
				let v2 = randint(1,3,v1)
				let v3 = v1+v2
				g1 = grille(-1,-1,6,8)
				g1.color = 'black'
				g1.opacite = 1
				g2 = grille(-1,-1,6,8,'gray',.2,.2)
				g3 = axes(0,0,6,7)
				texte1 = texteParPosition('distance (en km)',0.2,7.3,'droite')
				l1 = labelX(0,50,1,'black',-.6,10)
        l2 = labelY(1,6,1,'black',-.6,1)
				texte2 = texteParPosition('temps (en min)',6.5,0.4,'droite')
				let situation = randint(1,3)
				let tempsPause
				let periodeRapide
				if (situation==1){
					l = polyline(point(0,0),point(1,v1),point(2,v1+v2),point(3,v1+v2),point(4,0))
					tempsPause = 20
					periodeRapide = 'de la 20e à la 30e minute'
				}
				if (situation==2){
					l = polyline(point(0,0),point(1,v3),point(2,v3),point(3,v2),point(4,0))
					tempsPause = 10
					periodeRapide = 'durant les 10 premières minutes'

				}
				if (situation==3){
					l = polyline(point(0,0),point(1,v3),point(2,v2),point(3,v2),point(4,0))
					tempsPause = 20
					periodeRapide = 'durant les 10 premières minutes'
				}
				l.epaisseur=2
				l.color = 'blue'

				fille = prenomF()
				this.introduction = `${fille} fait du vélo avec son smartphone sur une voie-verte rectiligne qui part de chez elle. Une application lui permet de voir à quelle distance de chez elle, elle se trouve.`

				this.introduction += '<br><br>' + mathalea2d({
					xmin : -1,
					ymin : -1,
					xmax : 9,
					ymax : 8,
					pixelsParCm : 40,
				},g1,g2,g3,l,texte1,texte2,l1,l2)

				this.introduction += '<br><br>' + 'À l’aide de ce graphique, répondre aux questions suivantes :'

				this.liste_questions.push('Pendant combien de temps a-t-elle fait du vélo ?')
				this.liste_corrections.push(`Elle a fait du vélo pendant 40 minutes.`)

				this.liste_questions.push('Quelle distance a-t-elle parcourue au total ?')
				this.liste_corrections.push(`Le point le plus loin de sa maison est à ${v3} km et ensuite elle revient chez elle, donc la distance totale est de ${2*v3} km.`)

				this.liste_questions.push(`Que se passe-t-il après ${tempsPause} minutes de vélo ?`)
				this.liste_corrections.push(`La distance reste constante alors qu'elle est sur un chemin rectiligne. Elle a donc fait une pause.`)
			
				this.liste_questions.push('À quel moment a-t-elle été la plus rapide ?')
				this.liste_corrections.push(`Elle a été la plus rapide ${periodeRapide} où elle a effectué ${v3} km en 10 minutes.`)
			

			break;
      case "temperature":
        let hmin = randint(2,4)
        let hmax = randint(12,16)
        let tmin = randint(-5,15)
        let tmax = tmin + randint(5,12)

        r = repere({
          xmin: 0,
          ymin: tmin-1,
          ymax: tmax+2,
          xmax: 24,
          xscale: 2,
          legendeX: "Heure",
          legendeY: "Température (en °C)",
        });
        graphique = courbeInterpolee(
          [
            [-2, tmin+2],
            [hmin, tmin],
            [hmax, tmax],
            [26, tmin+2],
          ],
          "blue",
          2,
          r,
          0,
          24
        );
        this.introduction =
          "On a représenté ci-dessous l’évolution de la température sur une journée.";
        this.introduction +=
          "<br><br>" +
          mathalea2d(
            {
              xmin: -1,
              ymin: tmin-2.5,
              xmax: 16,
              ymax: tmax+3,
              pixelsParCm: 40,
            },
            r,
            graphique
          );

        this.introduction +=
          "<br><br>" +
          "À l’aide de ce graphique, répondre aux questions suivantes :";

        this.liste_questions.push(
          "Quelle est la température la plus froide de la journée ?"
        );
        this.liste_corrections.push(`La température la plus basse est ${tmin}°C.`)

        this.liste_questions.push(
          "Quelle est la température la plus chaude de la journée ?"
        );
        this.liste_corrections.push(`La température la plus élevée de la journée est ${tmax}°C.`)
        this.liste_questions.push(
          "À quelle heure fait-il le plus chaud ?"
        );
        this.liste_corrections.push(`C'est à ${hmax} h qu'il fait le plus chaud.`)
        this.liste_questions.push(
          "À quelle heure fait-il le plus froid ?"
        );
        this.liste_corrections.push(`C'est à ${hmin} h qu'il fait le plus froid.`)


        break;
    }

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Choix du problème',3, "1 : Projectile\n2 : Trajet à vélo\n3 : Température\n4 : Au hasard"];
}

/**
 * Tester si un nombre est solution d'une équation
 * * 4L14-0
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tester si un nombre est solution d'une équation";
  this.consigne = "";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  //this.sup2=false;
  if (this.exo == "4L14-1") {
    this.nb_questions = 4;
  } else if (this.exo == "4L14-2") {
    this.nb_questions = 3;
  } else {
    this.nb_questions = 9;
  }

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles;
    if (this.exo == "4L14-1") {
      //type_de_questions_disponibles = [1, 2, 3, 4, 5, 8];
      type_de_questions_disponibles = [choice([1, 2]), 3,choice([4,5]), 8];
    } else if (this.exo == "4L14-2") {
      type_de_questions_disponibles = [9, 6, 7];
    } else {
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 8, 6, 7, 9];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    //let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
    this.consigne = `Justifier si les nombres proposés sont des solutions de l'équation donnée ou non.`;

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let a, b, c, d, x1, x2, x3;
      switch (liste_type_de_questions[i]) {
        case 1: // 3x-a=2x+b   x=a+b
          if (this.sup == 1) {
            a = randint(1, 6);
            b = randint(1, 6, [a]);
            x2 = a + b;
            x1 = randint(2, 10, [x2]);
          } else {
            a = randint(-6, 6, [0]);
            b = randint(-6, 6, [a, 0]);
            x2 = a + b;
            x1 = randint(-10, 10, [0, x2]);
          }

          texte = `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=2x+${ecriture_parenthese_si_negatif(
            b
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a)}=${
            3 * x1 - a
          }$ <br> $2x+${ecriture_parenthese_si_negatif(
            b
          )}=2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)}=${2 * x1 + b}$<br>`;
          texte_corr += `$${3 * x1 - a}\\not=${
            2 * x1 + b
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $3x-${ecriture_parenthese_si_negatif(
              a
            )}=2x+${ecriture_parenthese_si_negatif(b)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${ecriture_parenthese_si_negatif(x2)}$ : <br>`;
          texte_corr += `$3x-${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a)}=${
            3 * x2 - a
          }$ <br> $2x+${ecriture_parenthese_si_negatif(
            b
          )}=2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)}=${2 * x2 + b}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $3x-${ecriture_parenthese_si_negatif(
              a
            )}=2x+${ecriture_parenthese_si_negatif(b)}~$`
          )}`;
          break;
        case 2: // 3x+a=5x-b   x=(a+b)/2 donc a et b impairs pour une solution entière
          if (this.sup == 1) {
            a = randint(1, 9);
            b = randint(0, 4) * 2 + (a % 2);
            x1 = parseInt(Algebrite.eval((a + b) / 2));
            x2 = randint(1, 9, x1);
          } else {
            a = randint(-9, 9, [0]);
            b = randint(-4, 4, [a, 0]) * 2 + (a % 2);
            x1 = parseInt(Algebrite.eval((a + b) / 2));
            x2 = randint(-9, 9, [0, x1]);
          }

          texte = `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=5x-${ecriture_parenthese_si_negatif(
            b
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(a)}=${
            3 * x1 + a
          }$ <br> $5x-${ecriture_parenthese_si_negatif(
            b
          )}=5\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(b)}=${5 * x1 - b}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $3x+${ecriture_parenthese_si_negatif(
              a
            )}=5x-${ecriture_parenthese_si_negatif(b)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$3x+${ecriture_parenthese_si_negatif(
            a
          )}=3\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(a)}=${
            3 * x2 + a
          }$ <br> $5x-${ecriture_parenthese_si_negatif(
            b
          )}=5\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(b)}=${5 * x2 - b}$<br>`;
          texte_corr += `$${3 * x2 + a}\\not=${
            5 * x2 - b
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $3x+${ecriture_parenthese_si_negatif(
              a
            )}=5x-${ecriture_parenthese_si_negatif(b)}~$`
          )}`;
          break;
        case 3: // 10(x-a)=4(2x+b) x=(10a+4b)/2
          if (this.sup == 1) {
            a = randint(1, 3);
            b = randint(1, 3);
            x2 = parseInt(Algebrite.eval((10 * a + 4 * b) / 2));
            x1 = randint(1, 9, x2);
          } else {
            a = randint(-3, 3, [0]);
            b = randint(-3, 3, [0]);
            x2 = parseInt(Algebrite.eval((10 * a + 4 * b) / 2));
            x1 = randint(-9, 9, [0, x2]);
          }

          texte = `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=4(2x+${ecriture_parenthese_si_negatif(
            b
          )})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=10\\times (${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x1 - a}=${
            10 * (x1 - a)
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x1 + b}=${
            4 * (2 * x1 + b)
          }$<br>`;
          texte_corr += `$${10 * (x1 - a)}\\not=${
            4 * (2 * x1 + b)
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $10(x-${ecriture_parenthese_si_negatif(
              a
            )})=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$10(x-${ecriture_parenthese_si_negatif(
            a
          )})=10\\times (${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a)})=10\\times ${x2 - a}=${
            10 * (x2 - a)
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x2 + b}=${
            4 * (2 * x2 + b)
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $10(x-${ecriture_parenthese_si_negatif(
              a
            )})=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}`;
          break;
        case 4: // ax+b=(a+1)x-c x=b+c
          if (this.sup == 1) {
            a = randint(2, 9);
            b = randint(2, 9);
            c = randint(1, 3);
            x1 = b + c;
            x2 = randint(2, 10, x1);
          } else {
            a = randint(2, 9);
            b = randint(2, 9) * randint(-1, 1, 0);
            c = randint(1, 3) * randint(-1, 1, 0);
            x1 = b + c;
            x2 = randint(2, 10, x1) * randint(-1, 1, 0);
          }

          texte = `$${ecriture_parenthese_si_negatif(
            a
          )}x+${ecriture_parenthese_si_negatif(b)}=${
            a + 1
          }x-${ecriture_parenthese_si_negatif(
            c
          )}~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(
            b
          )}=${ecriture_parenthese_si_negatif(
            a
          )}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)}=${a * x1 + b}$ <br> $${
            a + 1
          }x-${ecriture_parenthese_si_negatif(c)}=${
            a + 1
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(c)}=${(a + 1) * x1 - c}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${ecriture_parenthese_si_negatif(
              a
            )}x+${ecriture_parenthese_si_negatif(b)}=${
              a + 1
            }x-${ecriture_parenthese_si_negatif(c)}~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}x+${ecriture_parenthese_si_negatif(
            b
          )}=${ecriture_parenthese_si_negatif(
            a
          )}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)}=${a * x2 + b}$ <br> $${
            a + 1
          }x-${ecriture_parenthese_si_negatif(c)}=${
            a + 1
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(c)}=${(a + 1) * x2 - c}$<br>`;
          texte_corr += `$${a * x2 + b}\\not=${
            (a + 1) * x2 - c
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${ecriture_parenthese_si_negatif(
              a
            )}x+${ecriture_parenthese_si_negatif(b)}=${
              a + 1
            }x-${ecriture_parenthese_si_negatif(c)}~$`
          )}<br><br>`;
          break;
        case 5: // a-2x=b+2x x=(a-b)/4
          if (this.sup == 1) {
            x1 = randint(1, 9);
            b = randint(1, 9);
            a = b + 4 * x1;
            x2 = randint(1, 11, x1);
          } else {
            x1 = randint(-9, 9);
            b = randint(-9, 9, 0);
            a = b + 4 * x1;
            x2 = randint(1, 11, x1);
          }

          texte = `$${a}-2x=${b}+2x~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}=${
            a - 2 * x1
          }$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}=${b + 2 * x1}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${a}-2x=${b}+2x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}-2x=${a}-2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}=${
            a - 2 * x2
          }$ <br> $${b}+2x=${b}+2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}=${b + 2 * x2}$<br>`;
          texte_corr += `$${a - 2 * x2}\\not=${
            b + 2 * x2
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${a}-2x=${b}+2x~$`
          )}<br><br>`;
          break;
        case 6: // ax-ab=x²-bx (a-x)(x-b)=0 solutions a et b.
          if (this.sup == 1) {
            b = randint(2, 9);
            a = randint(2, 9, [b]);
            x3 = b;
            x1 = a;
            x2 = randint(1, 9, [x1, x3]);
          } else {
            a = randint(-9, 9, [0, 1]);
            b = randint(-9, 9, [0, a]);
            x1 = a;
            x3 = b;
            x2 = randint(-9, 9, [x1, x3]);
          }
          texte = `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=x^2-${ecriture_parenthese_si_negatif(
            b
          )}x~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x1 - a * b
          }$ <br> $x^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times  x=${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x1)}=${
            x1 * x1
          }-${ecriture_parenthese_si_negatif(b * x1)}=${x1 * x1 - b * x1}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x2 - a * b
          }$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x2)}=${
            x2 * x2
          }-${ecriture_parenthese_si_negatif(b * x2)}=${x2 * x2 - b * x2}$<br>`;
          texte_corr += `$${a * x2 - a * b}\\not=${
            x2 * x2 - b * x2
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$${a}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=${a}\\times ${ecriture_parenthese_si_negatif(
            x3
          )}-${ecriture_parenthese_si_negatif(a * b)}=${
            a * x3 - a * b
          }$ <br> $x^2-${b}\\times  x=${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            b
          )}\\times ${ecriture_parenthese_si_negatif(x3)}=${
            x3 * x3
          }-${ecriture_parenthese_si_negatif(b * x3)}=${x3 * x3 - b * x3}$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $${a}x-${ecriture_parenthese_si_negatif(
              a * b
            )}=x^2-${ecriture_parenthese_si_negatif(b)}x~$`
          )}`;
          break;
        case 7: // adx-bd=acx²-bcx  --- (ax-b)(d-cx)=0 solutions b/a et d/c.
          if (this.sup == 1) {
            c = randint(2, 5);
            a = randint(2, 5);
            x2 = randint(2, 6);
            x3 = randint(2, 6, x2);
            x1 = randint(1, 7, [x2, x3]);
            b = a * x2;
            d = c * x3;
          } else {
            c = randint(2, 5) * randint(-1, 1, 0);
            a = randint(2, 5) * randint(-1, 1, 0);
            x2 = randint(1, 6) * randint(-1, 1, 0);
            x3 = randint(1, 6, x2) * randint(-1, 1, 0);
            x1 = randint(1, 7, [x2, x3]) * randint(-1, 1, 0);
            b = a * x2;
            d = c * x3;
          }
          texte = `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * c
          }x^2-${ecriture_parenthese_si_negatif(
            b * c
          )}x~$ pour $~x=${x1}~$, pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x1 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x1)}=${
            a * c * x1 * x1
          }-${ecriture_parenthese_si_negatif(b * c * x1)}=${
            a * c * x1 * x1 - b * c * x1
          }$<br>`;
          texte_corr += `$${a * d * x1 - d * b}\\not=${
            a * c * x1 * x1 - b * c * x1
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x2 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x2)}=${
            a * c * x2 * x2
          }-${ecriture_parenthese_si_negatif(b * c * x2)}=${
            a * c * x2 * x2 - b * c * x2
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ est donc solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$${a * d}x-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d
          }\\times ${ecriture_parenthese_si_negatif(
            x3
          )}-${ecriture_parenthese_si_negatif(b * d)}=${
            a * d * x3 - d * b
          }$ <br> $${a * c}x^2-${ecriture_parenthese_si_negatif(b * c)}x=${
            a * c
          }\\times ${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            b * c
          )}\\times ${ecriture_parenthese_si_negatif(x3)}=${
            a * c * x3 * x3
          }-${ecriture_parenthese_si_negatif(b * c * x3)}=${
            a * c * x3 * x3 - b * c * x3
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $${
              a * d
            }x-${ecriture_parenthese_si_negatif(b * d)}=${
              a * c
            }x^2-${ecriture_parenthese_si_negatif(b * c)}x~$`
          )}`;
          break;
        case 8: // 12x-4a=4(2x+b) x=(4a+4b)/4
          if (this.sup == 1) {
            a = randint(1, 3);
            b = randint(1, 3);
            x2 = parseInt(Algebrite.eval((4 * a + 4 * b) / 4));
            x1 = randint(9, x2);
          } else {
            a = randint(-3, 3, [0]);
            b = randint(-3, 3, [0]);
            x2 = parseInt(Algebrite.eval((4 * a + 4 * b) / 4));
            x1 = randint(-9, 9, [0, x2]);
          }

          texte = `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=4(2x+${ecriture_parenthese_si_negatif(
            b
          )})~$ pour $~x=${x1}~$ puis pour $~x=${x2}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=12\\times ${ecriture_parenthese_si_negatif(
            x1
          )}-${ecriture_parenthese_si_negatif(4 * a)}=${
            12 * x1 - 4 * a
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x1 + b}=${
            4 * (2 * x1 + b)
          }$<br>`;
          texte_corr += `$${12 * x1 - 4 * a}\\not=${
            4 * (2 * x1 + b)
          }$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ n'est donc pas solution de l'équation $12x-${ecriture_parenthese_si_negatif(
              4 * a
            )}=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$12x-${ecriture_parenthese_si_negatif(
            4 * a
          )}=12\\times ${ecriture_parenthese_si_negatif(
            x2
          )}-${ecriture_parenthese_si_negatif(4 * a)}=${
            12 * x2 - 4 * a
          }$ <br> $4(2x+${ecriture_parenthese_si_negatif(
            b
          )})=4\\times (2\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(b)})=4\\times ${2 * x2 + b}=${
            4 * (2 * x2 + b)
          }$<br>`;
          texte_corr += `On trouve le même résultat pour le membre de gauche et pour le membre de droite donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $12x-${ecriture_parenthese_si_negatif(
              4 * a
            )}=4(2x+${ecriture_parenthese_si_negatif(b)})~$`
          )}<br><br>`;
          break;
        case 9: // x²-bx-ax+ab=0 (a-x)(x-b)=0 solutions a et b.
          if (this.sup == 1) {
            b = randint(2, 9);
            a = randint(2, 9);
            x3 = b;
            x1 = a;
            x2 = randint(1, 9, [x1, x3]);
          } else {
            do {
              a = randint(-9, 9, [0, 1]);
              b = randint(-9, 9, [0, a]);
              x1 = a;
              x3 = b;
              x2 = randint(-9, 9, [x1, x3]);
            } while (a + b == 0 || a + b == 1);
          }
          texte = `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}x-${ecriture_parenthese_si_negatif(
            a * b
          )}=0~$ pour $~x=${x1}~$ , pour $~x=${x2}~$ puis pour $~x=${x3}$`;
          texte_corr = `Pour $x=${x1}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x1
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x1
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x1 * x1
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x1
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x1 * x1 - (a + b) * x1 + a * b
          }$<br>`;
          texte_corr += `On trouve bien $0$ pour le membre de gauche donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x1}$ est donc solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x2}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x2
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x2
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x2 * x2
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x2
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x2 * x2 - (a + b) * x2 + a * b
          }$<br>`;
          texte_corr += `$${
            x2 * x2 - (a + b) * x2 + a * b
          }\\not=0$ donc l'égalité n'est pas vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x2}$ n'est donc pas solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}<br><br>`;
          texte_corr += `Pour $x=${x3}$ : <br>`;
          texte_corr += `$x^2-${ecriture_parenthese_si_negatif(
            b + a
          )}\\times  x+${ecriture_parenthese_si_negatif(
            a * b
          )}=${ecriture_parenthese_si_negatif(
            x3
          )}^2-${ecriture_parenthese_si_negatif(
            a + b
          )}\\times ${ecriture_parenthese_si_negatif(
            x3
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x3 * x3
          }-${ecriture_parenthese_si_negatif(
            (a + b) * x3
          )}+${ecriture_parenthese_si_negatif(a * b)}=${
            x3 * x3 - (a + b) * x3 + a * b
          }$<br>`;
          texte_corr += `On trouve bien $0$ pour le membre de gauche donc l'égalité est vraie.<br>`;
          texte_corr += `${texte_en_couleur(
            `$x=${x3}$ est donc solution de l'équation $x^2-${ecriture_parenthese_si_negatif(
              b + a
            )}x-${ecriture_parenthese_si_negatif(a * b)}=0~$`
          )}`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Entiers naturels\n2 : Entiers relatifs",
  ];
  //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];
}

/**
 * Tester si un nombre est solution d'une équation degré 1
 * * 4L14-1
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation_deg1() {
  this.exo = "4L14-1";
  Tester_si_un_nombre_est_solution_d_une_equation.call(this);
  this.titre = `Tester si un nombre est solution d'une équation du premier degré`;
}

/**
 * Tester si un nombre est solution d'une équation degré 2
 * * 4L14-2
 * * adaptation de l'exo 5L14 de Rémi Angot
 * @author Sébastien Lozano
 */
function Tester_si_un_nombre_est_solution_d_une_equation_deg2() {
  this.exo = "4L14-2";
  Tester_si_un_nombre_est_solution_d_une_equation.call(this);
  this.titre = `Tester si un nombre est solution d'une équation du second degré`;
  //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];
}

/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue
 * * 4L13-1
 * @author Sébastien Lozano
 */
function Forme_litterale_introduire_une_lettre(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue";
	this.consigne = "Exprimer le prix total de l'achat, en fonction des lettres introduites dans l'énoncé.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles=[1];			
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// une fonction pour gérer le pluriel 
			function pluriel(n,obj) {
				if (n>1) {
					return obj.plur
				} else {
					return obj.sing
				};
			};
			
			// une fonction pour gérer la chaine de sortie et supprimer le coeff 1 !
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
			};

			// on definit un tableau de couples possibles			
			let situations = [
				{prenom:prenom(),elt1:{lettre:'c',article:'un',sing:'crayon',plur:'crayons'},elt2:{lettre:'g',article:'une',sing:'gomme',plur:'gommes'}},
				{prenom:prenom(),elt1:{lettre:'r',article:'une',sing:'règle',plur:'règles'},elt2:{lettre:'e',article:'une',sing:'équerre',plur:'équerres'}},
				{prenom:prenom(),elt1:{lettre:'p',article:'une',sing:'poire',plur:'poires'},elt2:{lettre:'b',article:'une',sing:'banane',plur:'bananes'}},
				{prenom:prenom(),elt1:{lettre:'c',article:'un',sing:'couteau',plur:'couteaux'},elt2:{lettre:'f',article:'une',sing:'fourchette',plur:'fourchettes'}},
				{prenom:prenom(),elt1:{lettre:'m',article:'un',sing:'marteau',plur:'marteaux'},elt2:{lettre:'e',article:'une',sing:'enclume',plur:'enclumes'}},
			]
			let enonces = [];
			let n = randint(1,6);
			let p = randint(1,6);
			let situation = situations[randint(0,situations.length-1)];
			enonces.push({
				enonce:`${situation.prenom} veut acheter ${n} ${pluriel(n,situation.elt1)} et ${p} ${pluriel(p,situation.elt2)}.
				<br>On note $${situation.elt1.lettre}$	le prix d'${situation.elt1.article} ${situation.elt1.sing} et $${situation.elt2.lettre}$	le prix d'${situation.elt2.article} ${situation.elt2.sing}.`,
				question:``,
        correction:`
        ${situation.prenom} va payer $${n}$ fois le prix d'${situation.elt1.article} ${situation.elt1.sing} et $${p}$ fois le prix d'${situation.elt2.article} ${situation.elt2.sing}.
        <br> C'est à dire $${n}\\times ${situation.elt1.lettre} + ${p}\\times ${situation.elt2.lettre} = ${sliceUn(n)}${situation.elt1.lettre} + ${sliceUn(p)}${situation.elt2.lettre}$.
        <br>${texte_en_couleur(`Donc le prix total de l'achat est  $${sliceUn(n)}${situation.elt1.lettre} + ${sliceUn(p)}${situation.elt2.lettre}$.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue afin de mettre en équation un problème
 * à partir de figure géométriques élémentaires
 * * 4L13-0
 * @author Sébastien Lozano
 */
function Mettre_en_equation_sans_resoudre(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 9;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Mettre en équation un problème sans objectif de résolution";
	this.consigne = "Donner une équation qui permet de résoudre le problème.<br>On ne demande pas de résoudre l'équation.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1,2];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		type_de_questions_disponibles=[1];			

		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
      // une fonction pour dire le nom du polygone
      function myPolyName(n) {
        let sortie = {
          article:``,
          name: ``,
          nameParSommets: ``,
        };
        switch (n) {
          case 3:
            sortie.article = `du `;
            sortie.name = `triangle équilatéral`;
            sortie.nameParSommets = `ABC`;
            break;
          case 4:
            sortie.article = `du `;
            sortie.name = `carré`;
            sortie.nameParSommets = `ABCD`;
            break;
          case 5:
            sortie.article = `du `;
            sortie.name = `pentagone régulier`;
            sortie.nameParSommets = `ABCDE`;
            break;
          case 6:
            sortie.article = `de l'`;
            sortie.name = `hexagone régulier`;
            sortie.nameParSommets = `ABCDEF`;
            break;
          case 7:
            sortie.article = `de l'`;
            sortie.name = `heptagone régulier`;
            sortie.nameParSommets = `ABCDEFG`;
            break;
          case 8:
            sortie.article = `de l'`;
            sortie.name = `octogone régulier`;
            sortie.nameParSommets = `ABCDEFGH`;
            break;
        }
        return sortie;
      }

      // on choisit le nombre de côtés su polygone
      let n = randint(3, 8);
      //on choisit un nom pour la variable
      let variables = ['t','u','v','w','y','z'];
      let inc = variables[randint(0,variables.length-1)];
      //on choisit une unité
      let unites = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
      let unite = unites[randint(0, unites.length - 1)];
      //on prépare le polygone
      let po = polygoneRegulierParCentreEtRayon(point(0, 0), 4, n);
      po.opacite = 0.5;
      po.epaisseur = 2;
      //on pépare la côte
      let s = segment(po.listePoints[0], po.listePoints[1]);
      s.styleExtremites = `<->`;
      // on fait un test pour coder les angles droits du carré
      let anglesDroitsIfIsCarre;
      if (n==4) {
        anglesDroitsIfIsCarre = codageCarre(po)
      } else {
         anglesDroitsIfIsCarre= {}
      };
      // on finit les appels
      let mesAppels = [
        po,       
        codeSegments('X','blue',po.listePoints),        
        afficheCoteSegment(s,`${inc}`,1,'red',2,0.5,'black'),
        nommePolygone(po,myPolyName(n).nameParSommets),
        anglesDroitsIfIsCarre  
      ];
      // on prépare l'objet polygone
      let polygone = {
        nb_cotes: n,
        unite: unite,
        article:myPolyName(n).article,
        nom: myPolyName(n).name,
        let_cote: inc,
        perimetre: randint(200, 500),
        fig: mathalea2d(
          {
          xmin : -7,
          ymin : -5,
          xmax : 7,
          ymax : 5,
          pixelsParCm : 20,
          scale:0.5//0.7
          },
          mesAppels          
        )};      
      
			let enonces = [];
			enonces.push({
				enonce:`On considère la figure suivante où l'unité est le $${polygone.unite}$.<br>${prenom()} se demande pour quelle valeur de ${polygone.let_cote}, exprimée en $${polygone.unite}$, le périmètre ${polygone.article}${polygone.nom} est égal à $${polygone.perimetre}$ $${polygone.unite}$ .<br> ${polygone.fig}`,
				question:``,
        correction:`La figure est un ${polygone.nom}, il a donc ${polygone.nb_cotes} côtés de même longueur.<br>
        Cette longueur est notée ${polygone.let_cote}, le périmètre de la figure, exprimé en fonction de ${polygone.let_cote}, vaut donc $${polygone.nb_cotes}\\times$ ${polygone.let_cote}.<br>
        D'après l'énoncé, ce périmètre vaut $${polygone.perimetre}$ $${polygone.unite}$.<br>
        L'équation suivante permet donc de résoudre le problème : <br>
        ${texte_en_couleur(`$${polygone.nb_cotes}\\times$ ${polygone.let_cote} $= ${polygone.perimetre}$.`)}`
      });
      // pour être sûr d'avoir deux figures différentes
      let p = randint(3, 8,[n]);
      polygone.nb_cotes = p;
			enonces.push({
				enonce:`On considère la figure suivante où l'unité est le $${polygone.unite}$.<br>${prenom()} se demande pour quelle valeur de ${polygone.let_cote}, exprimée en $${polygone.unite}$, le périmètre ${polygone.article}${polygone.nom} est égal à $${polygone.perimetre}$ $${polygone.unite}$ .<br> ${polygone.fig}`,
				question:``,
        correction:`La figure est un ${polygone.nom}, il a donc ${polygone.nb_cotes} côtés de même longueur.<br>
        Cette longueur est notée ${polygone.let_cote}, le périmètre de la figure, exprimé en fonction de ${polygone.let_cote}, vaut donc $${polygone.nb_cotes}\\times$ ${polygone.let_cote}.<br>
        D'après l'énoncé, ce périmètre vaut $${polygone.perimetre}$ $${polygone.unite}$.<br>
        L'équation suivante permet donc de résoudre le problème : <br>
        ${texte_en_couleur(`$${polygone.nb_cotes}\\times$ ${polygone.let_cote} $= ${polygone.perimetre}$.`)}`
      })

			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
 * Graphiques_et_proportionnalite
 * 4P10-1
 * @author Sébastien Lozano
 */
function Graphiques_et_proportionnalite() {
  'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème de proportionnalité à l'aide d'un graphique";
	this.consigne = "";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 1.5 : this.spacing = 1; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // on prévoit un peu d'aléatoire pour les prix unitaires
      let pu_oranges = choice([1.2,1.4,1.6,1.8]);
      let pu_baguettes = choice([0.6,0.8,1.2]);
      // on prévoit un tableau avec des situations
      let situations = [
        {lieu:`l'épicerie`,prenom:prenom(),articles:`oranges`,art_articles:`d'oranges`,prix_unitaire:pu_oranges,qte:`poids`,qte_max:10,qte2:3,unite:`kg d'`,legendeX:`poids en kg`,legendeY:`prix en €`,fig:{},fig_corr:{}},
        {lieu:`la boulangerie`,prenom:prenom(),articles:`baguettes`,art_articles:`de baguettes`,prix_unitaire:pu_baguettes,qte:`nombre`,qte_max:10,qte2:3,unite:``,legendeX:`quantité`,legendeY:`prix en €`,fig:{},fig_corr:{}}
      ]
      // on en choisit une
      let situation = situations[randint(0,situations.length-1)];    
      let r;
      let xscale=1;
      let yscale=2;
      // on finit les appels
      let mesAppels = [        
        r = repere({
          xmin: 0,
          ymin: 0,
          ymax: situation.qte_max*situation.prix_unitaire+4,
          xmax: situation.qte_max,
          xscale: xscale,
          yscale:yscale,
          legendeX: situation.legendeX,
          legendeY: situation.legendeY,
          grilleSecondaireVisible: true,
          grilleSecondaireDistance : 0.2,
          positionLegendeY:[0.3,situation.qte_max*situation.prix_unitaire+4+0.4]
        }),
      ];
      let f = x => calcul(situation.prix_unitaire*x);
      mesAppels.push(f,courbe(f,0,situation.qte_max,'black',1.5,r));
      // on prépare l'objet figure
      let  fig = mathalea2d(
          {
          xmin : -xscale,
          ymin : -yscale,
          xmax : situation.qte_max/xscale+3,
          ymax : (situation.qte_max*situation.prix_unitaire+4)/2+1,
          pixelsParCm : 40
          },
          mesAppels          
      );
      situation.fig = fig;      

      // on prépare les appels supplémentaires pour la correction
      let mesAppels_corr=mesAppels;
      let A = point(situation.qte_max,0);
      let B = point(situation.qte_max,calcul(situation.qte_max*situation.prix_unitaire/yscale));
      let s1 = segment(A,B,"red");
      s1.epaisseur = 2;
      s1.pointilles = true;
      s1.styleExtremites = `->`;
      let C = point(0,calcul(situation.qte_max*situation.prix_unitaire/yscale));
      let s2 = segment(B,C,"red");
      s2.epaisseur = 2;
      s2.pointilles = true;
      s2.styleExtremites = `->`;

      let D = point(situation.qte2,0);
      let E = point(situation.qte2,calcul(situation.qte2*situation.prix_unitaire/yscale));
      let s3 = segment(D,E,"blue");
      s3.epaisseur = 2;
      s3.pointilles = true;
      s3.styleExtremites = `->`;
      let F = point(0,calcul(situation.qte2*situation.prix_unitaire/yscale));
      let s4 = segment(E,F,"blue");
      s4.epaisseur = 2;
      s4.pointilles = true;
      s4.styleExtremites = `->`;

      // on ajoute les appels pour la correction
      mesAppels_corr.push(
        s1,
        s2,
        s3,
        s4        
      )

      // on prépare l'objet figure correction
      let  fig_corr = mathalea2d(
        {
        xmin : -xscale,
        ymin : -yscale,
        xmax : situation.qte_max/xscale+3,
        ymax : (situation.qte_max*situation.prix_unitaire+4)/2+1,
        pixelsParCm : 40
        },
        mesAppels_corr          
      );
      situation.fig_corr = fig_corr;

   

      // un compteur pour les sous-questions
      let k=0;
      let k_corr=0;

			let enonces = [];
			enonces.push({
        enonce:`
          À ${situation.lieu}, ${situation.prenom} utilise le graphique ci-dessous pour indiquer le prix de ses ${situation.articles} en fonction du ${situation.qte} ${situation.art_articles}.
          <br>${situation.fig}
          <br> ${num_alpha(k++)} Justifier que c'est une situation de proportionnalité à l'aide du graphique.
          <br> ${num_alpha(k++)} Quel est le prix de $${situation.qte_max}$ ${situation.unite}  ${situation.articles}?
          <br> ${num_alpha(k++)} Quel est le prix de $${situation.qte2}$ ${situation.unite}  ${situation.articles}?
          `,
				//question:``,
        correction:`
        <br> ${num_alpha(k_corr++)} Ce graphique est une droite qui passe par l'origine.
        <br> ${texte_en_couleur(`C'est donc bien le graphique d'une situation de proportionnalité.`)}

        <br> ${num_alpha(k_corr++)} Par lecture graphique, en utilisant les pointillés rouges du graphe ci-dessous, ${texte_en_couleur(`$${situation.qte_max}$ ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ €.`)}
        <br> ${situation.fig_corr}
        <br> ${num_alpha(k_corr++)} Pour $${situation.qte2}$ ${situation.unite}  ${situation.articles}, la lecture graphique est moins facile, nous allons détailler deux méthodes.
        <br><br> ${texte_gras(`Première méthode par lecture graphique :`)} 
        <br> Il faut prendre en compte que chaque petit carreau représente $${tex_prix(0.4)}$ € et utiliser les pointillés bleus.
        <br><br> ${texte_gras(`Seconde méthode en calculant une quatrième proportionnelle :`)}
        <br> $${situation.qte_max}$ ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ €
        donc $${situation.qte2}$ ${situation.unite}  ${situation.articles} coûtent : <br> $(${tex_prix(calcul(situation.qte_max*situation.prix_unitaire))}$ € $\\div ${situation.qte_max}$ ${situation.articles} $)\\times (${situation.qte2}$ ${situation.articles})  $= ${tex_prix(calcul(situation.qte2*situation.prix_unitaire))}$ €
        <br><br>${texte_en_couleur(`Quelle que soit la méthode utilisée, ${situation.qte2} ${situation.unite}  ${situation.articles} coûtent $${tex_prix(calcul(situation.qte2*situation.prix_unitaire))}$ €.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          //texte = `${fig}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	  
}

/** 
 * * Trouver l'erreur dans une equation
 * * 4L15-0
 * @author Sébastien Lozano
 */
function Trouver_erreur_resol_eq_deg1(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 5;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Trouver l'erreur dans une résolution d'équation du premier degré";
	this.consigne = "Trouver l'erreur dans les résolutions suivantes.<br>On ne demande pas de résoudre l'équation.";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1,2,3,4,5];			
		} else {
      type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),5]);
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      //on choisit un nom pour l'inconnue
      let variables = ['x','t','u','v','w','y','z'];
      let inc = variables[randint(0,variables.length-1)];
      
      // on choisit les paramètres
      let a = randint(-9,9,[-1,0,1]);
      let b = randint(-9,9,[-1,0,1]);
      let c = randint(-9,9,[-1,0,1,a,-a]);
      let d = randint(-9,9,[-1,0,1]);

      // une fonction pour gérer le signe
      function signeDansEq(nb) {
        if (nb > 0) {
          return {signe:`+`,operation:`soustraire`,chgt_signe:nb};
        } else {
          return {signe:``,operation:`ajouter`,chgt_signe:nb*(-1)};
        };
      };

      // une fonction pour gérer le genre du prénom et le pronom associé
      function genreEtPrenom() {
        let n = randint(0,1);
        if (n==0) {
          return {prenom:prenomM(),pronom:`il`};
        } else {
          return {prenom:prenomF(),pronom:`elle`};
        };
      };

      // deux fonctionx pour conditionner la simplification d'une fraction
      function isSimp(n,d){
        if (fraction_simplifiee(n,d)[0]!=n) {
          return true;
        } else {
          return false;
        };
      };

      function simpFrac(n,d) {  
        if (isSimp(n,d)) {
          if (fraction_simplifiee(n,d)[1]==1) {
            return `$= ${fraction_simplifiee(n,d)[0]}$`;
          } else if (fraction_simplifiee(n,d)[0]==0) {  
            return `$ = 0`;
          } else {         
            return `$= \\dfrac{${fraction_simplifiee(n,d)[0]}}{${fraction_simplifiee(n,d)[1]}}$`;
          };
        } else {
          if (fraction_simplifiee(n,d)[1]==1) {
            return `$= ${fraction_simplifiee(n,d)[0]}$`;
          } else if (fraction_simplifiee(n,d)[0]==0) {  
            return `$ = 0$`;
          } else {         
            return ` `; 
          };          
        }  
      };


      let currentGenreEtPrenom = genreEtPrenom();



      // pour les situations
      let situations = [
        {//case 1 --> ax+b=d+cx  erreur à l'étape 1 on passe cx de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} ${signeDansEq(b).signe} ${b} = ${d} $`,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b} $`,
          et3:`${texte_gras(`Étape 3 :`)} $${a+c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b} $`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(-b).signe} ${-b}}{${a+c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d-b}}{${a+c}}$ ${simpFrac(d-b,a+c)}`,
          err:`
            L'erreur se situe à l'étape 1.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(c).signe} ${c}${inc}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(c).operation} $${signeDansEq(c).chgt_signe}${inc}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,          
          eq_corr_et1:`
          ${texte_gras(`Étape 1 : `)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres. 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} 
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres. 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres.
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 2 --> ax+b=d+cx  erreur à l'étape 2 on passe b de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,// l'erreur est là on passe de l'autre côté
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(b).signe} ${b}}{${a-c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d+b}}{${a-c}}$ ${simpFrac(d+b,a-c)}`,
          err:`
            L'erreur se situe à l'étape 2.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(b).signe} ${b}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(b).operation} $${signeDansEq(b).chgt_signe}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc}$`,          
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $ ${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} 
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 3 --> ax+b=cx+d  erreur à l'étape 2 on passe cx de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(c).signe} ${c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,// l'erreur est là on passe de l'autre côté
          et3:`${texte_gras(`Étape 3 :`)} $${a+c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(-b).signe} ${-b}}{${a+c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d-b}}{${a+c}}$ ${simpFrac(d-b,a+c)}`,
          err:`
            L'erreur se situe à l'étape 2.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(c).signe} ${c}${inc}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(c).operation} $${signeDansEq(c).chgt_signe}${inc}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 4 --> ax+b=cx+d  erreur à l'étape 1 on passe b de l'autre côté
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(b).signe} ${b}$`,// l'erreur est là on passe de l'autre côté
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(b).signe} ${b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = \\dfrac{${d} ${signeDansEq(b).signe} ${b}}{${a-c}} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = \\dfrac{${d+b}}{${a-c}}$ ${simpFrac(d+b,a-c)}`,
          err:`
            L'erreur se situe à l'étape 1.
            <br>${currentGenreEtPrenom.prenom} "a fait passer" le terme $${signeDansEq(b).signe} ${b}$ "de l'autre côté"
            or pour obtenir une équation équivalente, il s'agit d'opérer de la même manière sur les deux membres de l'équation.
            <br>Ici il faut ${signeDansEq(b).operation} $${signeDansEq(b).chgt_signe}$ aux deux membres.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
        {//case 5 --> ax+b=cx+d  erreur à l'étape 4 on soustrait au lieu de diviser
          pronom:currentGenreEtPrenom.pronom,
          prenom:currentGenreEtPrenom.prenom,
          a:a,
          b:b,
          c:c,
          d:d,
          inc:inc,
          eq:`$${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          et1:`${texte_gras(`Étape 1 :`)} $${a}${inc} = ${c}${inc} ${signeDansEq(d).signe} ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et2:`${texte_gras(`Étape 2 :`)} $${a}${inc} ${signeDansEq(-c).signe} ${-c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et3:`${texte_gras(`Étape 3 :`)} $${a-c}${inc} = ${d} ${signeDansEq(-b).signe} ${-b}$`,
          et4:`${texte_gras(`Étape 4 :`)} $${inc} = ${d} ${signeDansEq(-b).signe} ${-b} - ${ecriture_parenthese_si_negatif(a-c)} $`,
          et_fin:`${texte_gras(`Étape 5 :`)} $${inc} = ${d-b-a+c}$`,
          err:`
            L'erreur se situe à l'étape 4.
            <br>${currentGenreEtPrenom.prenom} soustrait le coefficient de ${inc} au lieu de diviser par ce coefficient.
            <br>Or $${a-c}${inc}$ représente la multiplication $${a-c}\\times ${inc}$, et l'opération inverse de la multiplication c'est la division et non la soustraction.
            <br>Ici il faut diviser les deux membres par $${a-c}$.            
            `,
          eq_corr:`${texte_gras(`Équation d'origine : `)} $${a}${inc} ${signeDansEq(b).signe} ${b} = ${c}${inc} ${signeDansEq(d).signe} ${d} $`,
          eq_corr_et1:`
          ${texte_gras(`Étape 1 :`)} $${mise_en_evidence(signeDansEq(c).operation)}$ $${mise_en_evidence(signeDansEq(c).chgt_signe)}$${texte_en_couleur(`$${inc}$`)} aux deux membres 
          <br> $${a}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)} $${signeDansEq(b).signe} ${b} = ${d} ${signeDansEq(c).signe} ${c}${inc} ${mise_en_evidence(signeDansEq(-c).signe)} ${mise_en_evidence(-c)}$${texte_en_couleur(`$${inc}$`)}
          <br>${texte_gras(`Étape 2 : `)} On réduit.
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} = ${d}$
          `,// l'erreur est là, on passe de l'autre côté d'où l'oubli du chgt de signe
          eq_corr_et2:`
          ${texte_gras(`Étape 3 :`)} $${mise_en_evidence(signeDansEq(b).operation)}$ $${mise_en_evidence(signeDansEq(b).chgt_signe)}$ aux deux membres 
          <br> $${a-c}${inc} ${signeDansEq(b).signe} ${b} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)} = ${d} ${mise_en_evidence(signeDansEq(-b).signe)} ${mise_en_evidence(-b)}$
          <br>${texte_gras(`Étape 4 : `)} Réduction à nouveau.
          <br> $${a-c}${inc} = ${d-b}$
          `,
          eq_corr_et3:`
          ${texte_gras(`Étape 5 :`)} $${mise_en_evidence(`\\textbf{diviser par}`)}$ $${mise_en_evidence(a-c)}$ les deux membres
          <br> $\\dfrac{${a-c}${inc}}{${mise_en_evidence(a-c)}} = \\dfrac{${d-b}}{${mise_en_evidence(a-c)}}$
          <br>$${inc} = \\dfrac{${d-b}}{${a-c}}$ ${simpFrac(d-b,a-c)}
          `,
        },
  
      ];



      let enonces = [];
      for (let k=0;k<5;k++) {
        enonces.push({
        enonce:`
          ${situations[k].prenom} doit résoudre l'équation suivante : ${situations[k].eq}.
          <br> Voilà ce qu'${situations[k].pronom} écrit :
          <br>${situations[k].et1}
          <br>${situations[k].et2}
          <br>${situations[k].et3}
          <br>${situations[k].et4}
          <br>${situations[k].et_fin}
        `,
				question:``,
        correction:`
        ${situations[k].err}
        <br>
        ${texte_gras(`=== Voici une proposition de résolution détaillée : ===`)}         
        <br>${situations[k].eq_corr}
        <br>${situations[k].eq_corr_et1}
        <br>${situations[k].eq_corr_et2}
        <br>${situations[k].eq_corr_et3}
        `
      });
    };
		
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte += `
             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 3 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          break;				
        case 4 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
         case 5 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;				

			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/** 
 * * Dessiner selon un programme scratch
 * * 4Algo1-0
 * @author Sébastien Lozano
 */
function Tracer_avec_scratch(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Dessiner avec scratch";
  //this.consigne = "Dessiner la figure qui va être tracée avec le script fourni.";
  this.consigne = "Laquelle des 4 figures ci-dessous va être tracée avec le script fourni ?";
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
  //sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;
  
  this.liste_packages = "scratch3";

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//type_de_questions_disponibles=[1];			

		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // une fonction pour gérer la sortie HTML/LaTeX
      // code est un string contenant le code svg ou tikz
      function scratchblocks_Tikz(code_svg,code_tikz) {
        if (sortie_html) {
          return code_svg;
        } else {
          return code_tikz;
        };
      };

    // une fonction pour dire le nom du polygone
    function myPolyName(n) {
      let sortie = {
        name: ``,
        nameParSommets: ``,
        nb_pas:``
      };
      switch (n) {
        case 2:
          sortie.name=`segment`;
          sortie.nameParSommets = `AB`;
          sortie.nb_pas = 400;
        case 3:
          sortie.name = `triangle équilatéral`;
          sortie.nameParSommets = `ABC`;
          sortie.nb_pas = 400;
          break;
        case 4:
          sortie.name = `carré`;
          sortie.nameParSommets = `ABCD`;
          sortie.nb_pas = 400;
          break;
        case 5:
          sortie.name = `pentagone régulier`;
          sortie.nameParSommets = `ABCDE`;
          sortie.nb_pas = 300;
          break;
        case 6:
          sortie.name = `hexagone régulier`;
          sortie.nameParSommets = `ABCDEF`;
          sortie.nb_pas = 250;
          break;
        case 7:
          sortie.name = `heptagone régulier`;
          sortie.nameParSommets = `ABCDEFG`;
          sortie.nb_pas = 200;
          break;
        case 8:
          sortie.name = `octogone régulier`;
          sortie.nameParSommets = `ABCDEFGH`;
          sortie.nb_pas = 200;
          break;
        case 9:
          sortie.name = `ennéagone régulier`;
          sortie.nameParSommets = `ABCDEFGHI`;
          sortie.nb_pas = 200;
          break;

      }
      return sortie;
    }


      // on définit le nombre de côtés du polygone régulier
      let n = randint(3,8,[7]);

      let situations = [
        {//polygones réguliers
          nb_cotes:n,
          nom:myPolyName(n).name,
          code_svg:`
          <pre class='blocks'>
          quand le drapeau vert pressé
          stylo en position d'écriture
          répéter (${n}) fois
            avancer de (${myPolyName(n).nb_pas}) pas
            tourner droite de ((360)/(${n})) degrés
          fin                  
          </pre>          
          `,
          code_tikz:`
          \\begin{scratch}
            \\blockinit{quand \\greenflag est cliqué}
            \\blockpen{stylo en position d’écriture}
            \\blockrepeat{répéter \\ovalnum{${n}} fois}
              {
                \\blockmove{avancer de \\ovalnum{${myPolyName(n).nb_pas}}}
                \\blockmove{tourner \\turnright{} de \\ovaloperator{\\ovalnum{360}/\\ovalnum{${n}}} degrés}
              }
          \\end{scratch}
          `,
          fig:``,
          fig_corr:``,
        },
      ];
      // on prépare la fenetre mathalea2d
      let fenetreMathalea2D = {xmin:-4,ymin:-10,xmax:30,ymax:2,pixelsParCm:20,scale:0.5}
  //    if (sortie_html) {
        pixelsParCm = 100;
        unitesLutinParCm = 100;
      // } else {
      //   pixelsParCm = 200;
      //   unitesLutinParCm = 200;  
      // }
      // on prépare un tableau avec l'abscisse de démarrage du lutin pour tracer le figures
      // ce tableau permettra de placer aléatoirement la bonne figure et de la refaire en rouge ?
      let tab_abs_dem_lutin2; 
      if (n==6) {
        tab_abs_dem_lutin2 = [0,3*myPolyName(n).nb_pas,6*myPolyName(n).nb_pas,9*myPolyName(n).nb_pas]       
      } else if (n==8) {
        tab_abs_dem_lutin2 = [0,4*myPolyName(n).nb_pas,8*myPolyName(n).nb_pas,12*myPolyName(n).nb_pas]       
      } else {
        tab_abs_dem_lutin2 = [0,2*myPolyName(n).nb_pas,4*myPolyName(n).nb_pas,6*myPolyName(n).nb_pas]       
      };
      // on mélange tout ça !
      tab_abs_dem_lutin2 = shuffle(tab_abs_dem_lutin2);
      // Les figures de l'énoncé         
      // le lutin2  trace le cadre en pointillés
      let lutin2=creerLutin();
      lutin2.color="black";
      lutin2.pointilles=true;
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      baisseCrayon(lutin2);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin2);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin2);
      leveCrayon(lutin2);
      //le lutin2 fait la bonne figure
      lutin2.pointilles = false;
      lutin2.color="blue";
      allerA(tab_abs_dem_lutin2[0],0,lutin2);
      baisseCrayon(lutin2);      
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin2);
        tournerD(calcul(360/n),lutin2);
      };
      // le lutin2 fait un polygone régulier avec un côté de plus 
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[1],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n+1+1; k++) {
        avance(myPolyName(n+1).nb_pas,lutin2);
        tournerD(calcul(360/(n+1)),lutin2);
      };

      // le lutin2 fait un polygone régulier avec un côté de moins 
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[2],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n; k++) {
        avance(myPolyName(n-1).nb_pas,lutin2);
        tournerD(calcul(360/(n-1)),lutin2);
      };

      // le lutin2 fait une figure ouverte à n côtés
      leveCrayon(lutin2);
      allerA(tab_abs_dem_lutin2[3],0,lutin2);
      baisseCrayon(lutin2);
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin2);
        tournerD(calcul((360/n)-10),lutin2);
      };
      allerA(tab_abs_dem_lutin2[3],0,lutin2);

      let mesAppels_enonce = [
        lutin2,
      ]
      situations[0].fig = mathalea2d(
        fenetreMathalea2D,
        mesAppels_enonce
        );

      // les figures de la correction
      // le lutin3  trace le cadre
      let lutin3=creerLutin();
      lutin3.color="black";
      lutin3.pointilles=true;
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      baisseCrayon(lutin3);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmax*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymin*pixelsParCm,lutin3);
      allerA(fenetreMathalea2D.xmin*pixelsParCm,fenetreMathalea2D.ymax*pixelsParCm,lutin3);
      leveCrayon(lutin3);
      // le lutin3 fait la bonne figure      
      lutin3.pointilles = false;
      lutin3.color="green"
      allerA(tab_abs_dem_lutin2[0],0,lutin3);
      baisseCrayon(lutin3);      
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin3);
        tournerD(calcul(360/n),lutin3);
      };
      // le lutin3 fait un polygone régulier avec un côté de plus 
      lutin3.color="red";
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[1],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n+1+1; k++) {
        avance(myPolyName(n+1).nb_pas,lutin3);
        tournerD(calcul(360/(n+1)),lutin3);
      };

      // le lutin3 fait un polygone régulier avec un côté de moins 
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[2],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n; k++) {
        avance(myPolyName(n-1).nb_pas,lutin3);
        tournerD(calcul(360/(n-1)),lutin3);
      };

      // le lutin3 fait une figure ouverte à n côtés
      leveCrayon(lutin3);
      allerA(tab_abs_dem_lutin2[3],0,lutin3);
      baisseCrayon(lutin3);
      for (let k=1;k<n+1; k++) {
        avance(myPolyName(n).nb_pas,lutin3);
        tournerD(calcul((360/n)-10),lutin3);
      };
      allerA(tab_abs_dem_lutin2[3],0,lutin3);
      
      let mesAppels_corr = [
        lutin3,
      ]
      situations[0].fig_corr = mathalea2d(
        fenetreMathalea2D,
        mesAppels_corr
        );


			let enonces = [];
			enonces.push({
        enonce:`
        ${scratchblocks_Tikz(situations[0].code_svg,situations[0].code_tikz)}
        <br> 
        ${situations[0].fig}
        `,
				question:``,
        correction:`
        <br> Les figures rouges sont erronées.
        <br> La figure tracée par le programme a ${situations[0].nb_cotes} côtés de même longueur et ${situations[0].nb_cotes} angles de même mesure, c'est un ${situations[0].nom}.
        <br>${texte_en_couleur(`La bonne figure est donc la figure verte.`)}
        <br><br>
        ${situations[0].fig_corr}
        `
      });
      enonces.push({
				enonce:`énoncé type 2`,
				question:``,
        correction:`${texte_en_couleur(`correction type2`)}`
      });

			switch (liste_type_de_questions[i]){
				case 1 : 
          texte = `${enonces[0].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[0].correction}`;
          };
          break;	
        case 2 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
					break;				
			}
			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
}

/**
* Effectuer une division entre 2 nombres relatifs écrite sous la forme d'une fraction.
*
* * On peut choisir de n'avoir que des tables de multiplications, par défaut il y a aussi des divisions simples par 2, 3 ou 4
* @Auteur Rémi Angot
* 4C10-4
*/
function Exercice_quotients_relatifs(){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Quotient de deux entiers relatifs"
	this.consigne = 'Calculer'
  this.spacing = 2;
  this.nb_questions = 6;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = combinaison_listes(['-+','+-','--','++'],this.nb_questions);
    let liste_type_de_nombres = combinaison_listes(['tables','horstables'],this.nb_questions);
    if (this.sup){
      liste_type_de_nombres = combinaison_listes(['tables'],this.nb_questions);
    }
		for (let i = 0, a, b, q, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50;) { // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (liste_type_de_nombres[i]=='tables'){
        b = randint(2,9);
        a = b * randint(2,9);
      } else {
        b = choice([11,12,13,14,15,16,20,60,80]);
        a = b * randint(2,4)
      }
      switch (liste_type_de_questions[i]) {
        case '-+':
          a *= -1;
          break;
        case '+-':
          b *= -1;
          break;
        case '--':
          a *= -1;
          b *= -1;
        default:
          break;
      }
      texte = `$\\dfrac{${a}}{${b}}$`
      texte_corr = `$\\dfrac{${a}}{${b}}=${calcul(a/b)}$`
				
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;
		}
		liste_de_question_to_contenu(this);
	}
	this.besoin_formulaire_case_a_cocher = ['Utiliser seulement les tables de multiplications de 2 à 9'];		
}

/**
* Effectuer des multiplications de relatifs dans un tableau à double entrée
*
* @Auteur Rémi Angot
* 4C10-5
*/
function Exercice_tableau_multiplications_relatifs (){
	Exercice.call(this); // Héritage de la classe Exercice()
	this.sup = false ;
	this.titre = "Multiplications de deux entiers relatifs dans un tableau à double entrée"
	this.consigne = 'Calculer'
  this.spacing = 1;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;

	this.nouvelle_version = function(numero_de_l_exercice){
		this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_signes1 = combinaison_listes([-1,1],4);
    let liste_signes2 = combinaison_listes([-1,1],4);
    let a1 = randint(2,9);
    let a2 = randint(2,9,a1);
    let a3 = randint(2,9,[a1,a2]);
    let a4 = randint(2,9,[a1,a2,a3]);
    let b1 = randint(2,9);
    let b2 = randint(2,9,b1);
    let b3 = randint(2,9,[b1,b2]);
    let b4 = randint(2,9,[b1,b2,b3]);
    a1 *= liste_signes1[0]
    a2 *= liste_signes1[1]
    a3 *= liste_signes1[2]
    a4 *= liste_signes1[3]
    b1 *= liste_signes1[0]
    b2 *= liste_signes1[1]
    b3 *= liste_signes1[2]
    b4 *= liste_signes1[3]

    let texte = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    \\times & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} &  &  & &  \\\\
    \\hline
    ${ecriture_algebrique(b2)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b3)} & & & & \\\\
    \\hline
    ${ecriture_algebrique(b4)} & & & & \\\\
    \\hline
    \\end{array}$`

    let texte_corr = `$\\def\\arraystretch{1.5}\\begin{array}{|c|c|c|c|c|}
    \\hline
    \\times & ${ecriture_algebrique(a1)} & ${ecriture_algebrique(a2)} & ${ecriture_algebrique(a3)} & ${ecriture_algebrique(a4)} \\\\
    \\hline
    ${ecriture_algebrique(b1)} & ${ecriture_algebrique(a1*b1)} & ${ecriture_algebrique(a2*b1)} & ${ecriture_algebrique(a3*b1)} & ${ecriture_algebrique(a4*b1)} \\\\
    \\hline
    ${ecriture_algebrique(b2)} & ${ecriture_algebrique(a1*b2)} & ${ecriture_algebrique(a2*b2)} & ${ecriture_algebrique(a3*b2)} & ${ecriture_algebrique(a4*b2)} \\\\
    \\hline
    ${ecriture_algebrique(b3)} & ${ecriture_algebrique(a1*b3)} & ${ecriture_algebrique(a2*b3)} & ${ecriture_algebrique(a3*b3)} & ${ecriture_algebrique(a4*b3)} \\\\
    \\hline
    ${ecriture_algebrique(b4)} & ${ecriture_algebrique(a1*b4)} & ${ecriture_algebrique(a2*b4)} & ${ecriture_algebrique(a3*b4)} & ${ecriture_algebrique(a4*b4)} \\\\
    \\hline
    \\end{array}$`
    this.liste_questions.push(texte);
	  this.liste_corrections.push(texte_corr);
	  liste_de_question_to_contenu(this);
    
	}
}


/**
 * Plusieurs type de calcul avec des entiers.
 *
 * Sans parenthèses :
 * * a+b*c
 * * a+b÷c
 * * a/b*c
 * * a*b÷c
 * * a*b+c
 * * a-b+c
 * * a+b+c*d
 * * a*b+c*d
 * * a*b*c+d
 * * a*b-c÷d
 * * a*b+c÷d
 *
 * Avec parenthèses :
 * * a*(b-c)
 * * (a-b)*c
 * * (a-b)÷c
 * * a÷(b+c)
 * * (a-b)÷c
 * * a*(b-c)*d
 * * a*b*(c-d)
 * * a*(b-c*d)
 * * (a+b*c)÷d
 * * a*(b-c*d)
 * * a*b÷(c+d)
 * * a*(b÷c+d)
 * * a-(b+c)
 * * (a+b+c)*d
 * @Auteur Rémi Angot
 * 4C11
 */
function Priorites_et_relatifs() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculs utilisant les priorités opératoires";
  this.consigne = "Calculer";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup == 1) {
      liste_questions_disponibles = range1(11);
    } else if (this.sup == 2) {
      liste_questions_disponibles = range1(20, range1(11));
    } else {
      liste_questions_disponibles = range1(20);
    }
    let liste_type_de_questions = combinaison_listes(
      liste_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, a, b, c, d, signes, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: //a+b*c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]); 
          }
          texte = `$${a}${ecriture_algebrique(b)}\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${a}${mise_en_evidence('~' + ecriture_algebrique(b) + "\\times" + ecriture_parenthese_si_negatif(c))}=${a}${ecriture_algebrique(b * c)
          }=${a + b * c}$`;
          break;
        case 2: //a+b/c
          a = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          b = c * randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            b = c * randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}${ecriture_algebrique(b)}\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${a}${mise_en_evidence('~' + ecriture_algebrique(b) + "\\div" + ecriture_parenthese_si_negatif(c))}=${a}${
            ecriture_algebrique(b/c)
          }=${a + b / c}$`;
          break;
        case 3: //a/b*c
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          a = b * randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            a = b * randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\div${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\div" + ecriture_parenthese_si_negatif(b))}\\times${ecriture_parenthese_si_negatif(c)}=${
            a / b
          }\\times${ecriture_parenthese_si_negatif(c)}=${(a / b) * c}$`;
          break;
        case 4: // a*b/c
          if (choice([true, false])) {
            //a est un multiple de c
            c = randint(2, 6)*choice([-1,1]);
            a = c * randint(2, 5)*choice([-1,1]);
            b = randint(2, 6)*choice([-1,1]);
            while (a>0 && b>0 && c>0) {
              c = randint(2, 6)*choice([-1,1]);
              a = c * randint(2, 5)*choice([-1,1]);
              b = randint(2, 6)*choice([-1,1]);
            }
          } else {
            // b est un multiple de c
            c = randint(2, 6)*choice([-1,1]);
            b = c * randint(2, 5)*choice([-1,1]);
            a = randint(2, 6)*choice([-1,1]);
            while (a>0 && b>0 && c>0) {
              c = randint(2, 6)*choice([-1,1]);
              b = c * randint(2, 5)*choice([-1,1]);
              a = randint(2, 6)*choice([-1,1]);
            }
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}\\div${ecriture_parenthese_si_negatif(c)}=${
            a * b
          }\\div${ecriture_parenthese_si_negatif(c)}=${(a * b) / c}$`;
          break;
        case 5: //a*b+c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}${ecriture_algebrique(c)}=${
            a * b
          }${ecriture_algebrique(c)}=${a * b + c}$`;
          break;
        case 6: //a-b+c
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0) {
            a = randint(2, 11)*choice([-1,1]);
            b = randint(2, 11)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}-(${ecriture_algebrique(b)})${ecriture_algebrique(c)}$`;
          texte_corr = `$${a}${mise_en_evidence(ecriture_algebrique(-b))}${ecriture_algebrique(c)}=${a - b}${ecriture_algebrique(c)}=${
            a - b + c
          }$`;
          break;
        case 7: //a+b+c*d
          a = randint(2, 20)*choice([-1,1]);
          b = randint(2, 20)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 20)*choice([-1,1]);
            b = randint(2, 20)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}${ecriture_algebrique(b)}${ecriture_algebrique(c)}\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${a}${ecriture_algebrique(b)}${mise_en_evidence(
            ecriture_algebrique(c) + "\\times" + ecriture_parenthese_si_negatif(d)
          )}=${a}${ecriture_algebrique(b)}${ecriture_algebrique(c * d)}=${a + b + c * d}$`;
          break;
        case 8: //a*b+c*d
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 20)*choice([-1,1]);
            b = randint(2, 20)*choice([-1,1]);
            c = randint(2, 11)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${
            a + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(b)
          }${ecriture_algebrique(c) + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(d)}=${a * b}${ecriture_algebrique(c * d)}=${
            a * b + c * d
          }$`;
          break;
        case 9:  //a*b*c+d
          a = randint(2, 5)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]);
          c = randint(2, 5)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            a = randint(2, 5)*choice([-1,1]);
            b = randint(2, 5)*choice([-1,1]);
            c = randint(2, 5)*choice([-1,1]);
            d = randint(2, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + ecriture_parenthese_si_negatif(b)
          )}\\times${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)}=${mise_en_evidence(a * b + "\\times" + ecriture_parenthese_si_negatif(c))}${ecriture_algebrique(d)}
          =${a * b * c}${ecriture_algebrique(d)}
          =${a * b * c + d}$`;
          break;
        case 10: 
          a = randint(2, 11)*choice([-1,1]);
          b = randint(2, 11)*choice([-1,1]);
          d = randint(2, 11)*choice([-1,1]);
          c = d * randint(2, 8)*choice([-1,1]);
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}${ecriture_algebrique(c)}\\div${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${
            a + mise_en_evidence("\\times") + ecriture_parenthese_si_negatif(b)
          + ecriture_algebrique(c) + mise_en_evidence("\\div") + ecriture_parenthese_si_negatif(d)}=${a * b}${ecriture_algebrique(c/d)}=${
            a * b + c / d
          }$`;
          break;
        case 11: // a*(b+c)
          a = randint(2, 11)*choice([-1,1]);
          b = randint(1, 11)*choice([-1,1]);
          c = randint(1, 11)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            a = randint(2, 11)*choice([-1,1]);
            b = randint(1, 11)*choice([-1,1]);
            c = randint(1, 11)*choice([-1,1]);
          }
          texte = `$${a}\\times(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}\\times${ecriture_parenthese_si_negatif(b+c)}=${a * (b + c)}$`;
          break;
        case 12: // (a+b)*c
        a = randint(1, 11)*choice([-1,1]);
        b = randint(1, 11)*choice([-1,1]);
        c = randint(2, 11)*choice([-1,1]);
        while (a>0 && b>0 && c>0){
          a = randint(1, 11)*choice([-1,1]);
          b = randint(1, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
        }
          texte = `$(${a}${ecriture_algebrique(b)})\\times${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$(${mise_en_evidence(a + ecriture_algebrique(b))})\\times${ecriture_parenthese_si_negatif(c)}=${
            a + b }\\times${ecriture_parenthese_si_negatif(c)}=${(a + b) * c}$`;
          break;
        case 13: // (a+b)/c
          c = randint(2, 11)*choice([-1,1]);
          b = randint(11, 39)*choice([-1,1]);
          a = c * randint(2, 9)*[choice([-1,1])] - b;
          while (a>0 && b>0 && c>0) {
            c = randint(2, 11)*choice([-1,1]);
            b = randint(11, 39)*choice([-1,1]);
            a = c * randint(2, 9)*[choice([-1,1])] - b;
          }
          texte = `$(${a}${ecriture_algebrique(b)})\\div${ecriture_parenthese_si_negatif(c)}$`;
          texte_corr = `$(${mise_en_evidence(a  + ecriture_algebrique(b))})\\div${ecriture_parenthese_si_negatif(c)}=${
            a + b
          }\\div${ecriture_parenthese_si_negatif(c)}=${(a + b) / c}$`;
          break;
        case 14: // a/(b+c)
          b = randint(2, 5)*choice([-1,1]);
          c = randint(2, 6)*choice([-1,1]);
          a = (b + c) * randint(2, 9)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            b = randint(2, 5)*choice([-1,1]);
            c = randint(2, 6)*choice([-1,1]);
            a = (b + c) * randint(2, 9)*choice([-1,1]);
          }
          texte = `$${a}\\div(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}\\div(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}\\div${
            ecriture_parenthese_si_negatif(b + c)}=${a / (b + c)}$`;
          break;
        case 15: // a(b+c)*d
          c = randint(11, 39)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]) - c;
          a = randint(2, 5)*choice([-1,1]);
          d = randint(2, 5)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0){
            c = randint(11, 39)*choice([-1,1]);
            b = (randint(2, 5) - c)*choice([-1,1]);
            a = randint(2, 5)*choice([-1,1]);
            d = randint(2, 5)*choice([-1,1]);
          }
          texte = `$${a}\\times(${b}${ecriture_algebrique(c)})\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(b + ecriture_algebrique(c))})\\times${ecriture_parenthese_si_negatif(d)}=${a}\\times${ecriture_parenthese_si_negatif(b + c)}\\times${ecriture_parenthese_si_negatif(d)}=${a * (b + c) * d}$`;
          break;
        case 16: //a*b*(c+d)
          d = randint(11, 39)*choice([-1,1]);
          c = randint(2, 5)*choice([-1,1])-d;
          a = randint(2, 5)*choice([-1,1]);
          b = randint(2, 5)*choice([-1,1]);
          while (a>0 && b>0 && c>0 && d>0) {
            d = randint(11, 39)*choice([-1,1]);
            c = randint(2, 5)*choice([-1,1])-d;
            a = randint(2, 5)*choice([-1,1]);
            b = randint(2, 5)*choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times(${c}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\times(${mise_en_evidence(
            c + ecriture_algebrique(d))})=${a}\\times${ecriture_parenthese_si_negatif(b)}\\times${ecriture_parenthese_si_negatif(c+d)}=${a * b * (c + d)}$`;
          break;
        case 17: // a*(b/c+d)
          a = randint(2, 11)*choice([-1,1]);
          c = randint(2, 11)*choice([-1,1]);
          b = c * randint(2, 5)*choice([-1,1]);
          d = randint(2, 6)*choice([-1,1]);
          texte = `$${a}\\times(${b}\\div${ecriture_parenthese_si_negatif(c)}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `\\div` + ecriture_parenthese_si_negatif(c)
          )}${ecriture_algebrique(d)})=${a}\\times(${mise_en_evidence(
            b / c + ecriture_algebrique(d)
          )})=${a}\\times${ecriture_parenthese_si_negatif(b / c + d)}=${a * (b / c + d)}$`;
          break;
          case 18: //a*b/(c+d)
          a = randint(2, 11);
          b = randint(2, 11);
          while (liste_des_diviseurs(a * b).length < 5) {
            a = randint(2, 11);
            b = randint(2, 11);
          }
          let liste = liste_des_diviseurs(a * b);
          if (liste.length > 2) {
            liste.pop(); //on supprime le plus grand diviseur qui est le produit
            enleve_element(liste, a); //on supprime a
            enleve_element(liste, b); //on supprime b

          }
          let somme = choice(liste, [1])*choice([-1,1]); // la somme doit être un diviseur différent de 1
          c = randint(-30, 30,[0]);
          d = somme - c;
          
          while (a>0 && b>0 && c>0 && d>0) {
            a *= choice([-1,1]);
            b *= choice([-1,1]);
          }
          texte = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div(${c}${ecriture_algebrique(d)})$`;
          texte_corr = `$${a}\\times${ecriture_parenthese_si_negatif(b)}\\div(${mise_en_evidence(
            c + ecriture_algebrique(d))})=${mise_en_evidence(a + "\\times" + ecriture_parenthese_si_negatif(b))}\\div${ecriture_parenthese_si_negatif(c+d)}=${
            a * b
          }\\div${ecriture_parenthese_si_negatif(c + d)}=${(a * b) / (c + d)}$`;
          break;
        case 19: // a-(b+c)
          a = randint(1, 9)*choice([-1,1]);
          b = randint(1, 9)*choice([-1,1]);
          c = randint(1, 9)*choice([-1,1]);
          while (a>0 && b>0 && c>0){
            a = randint(1, 9)*choice([-1,1]);
            b = randint(1, 9)*choice([-1,1]);
            c = randint(1, 9)*choice([-1,1]);
          }
          texte = `$${a}-(${b}${ecriture_algebrique(c)})$`;
          texte_corr = `$${a}-(${mise_en_evidence(b + ecriture_algebrique(c))})=${a}-(${ecriture_algebrique(b+c)})=${a+ecriture_algebrique(-b-c)}=${a-b-c}$`;
          break;
        case 20: // (a+b+c)*d
          a = randint(1, 9)*choice([-1,1]);
          b = randint(1, 9)*choice([-1,1]);
          c = randint(1, 9)*choice([-1,1]);
          d = randint(2,5)*choice([-1,1])
          while (a>0 && b>0 && c>0){
            a = randint(1, 9)*choice([-1,1]);
            b = randint(1, 9)*choice([-1,1]);
            c = randint(1, 9)*choice([-1,1]);
          }
          texte = `$(${a+ecriture_algebrique(b)+ecriture_algebrique(c)})\\times${ecriture_parenthese_si_negatif(d)}$`;
          texte_corr = `$(${mise_en_evidence(a+ecriture_algebrique(b)+ecriture_algebrique(c))})\\times${ecriture_parenthese_si_negatif(d)}=${a+b+c}\\times${ecriture_parenthese_si_negatif(d)}=${(a+b+c)*d} $`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de calculs",
    3,
    "1 : Sans opérations entre parenthèses\n2: Avec des opérations entre parenthèses\n3: Avec ou sans opérations entre parenthèses",
  ];
}

/**
 * Exercices sur le théorème de Pythagore avec MathALEA2D
 * @Auteur Rémi Angot
 * 4G20
 */
function Pythagore2D() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer une longueur avec le théorème de Pythagore";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 1;
  type_exercice = 'Calculer'

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = [];
    if (this.sup==1) {
      this.consigne = "Dans chaque cas, donner l'égalité de Pythagore."
    } else if (this.sup==2){
      this.consigne = "Dans chaque cas, compléter l'égalité en utilisant le théorème de Pythagore."
    } else {
         this.consigne = "Dans chaque cas, calculer la longueur manquante."
    }
    if (this.sup == 2 || type_exercice == 'Calculer' ){
      liste_type_de_questions = combinaison_listes(['AB','BC','AC'],this.nb_questions) 
    }
    for (let i = 0, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt < 50;)
     {
      texte = '';
      texte_corr = '';
      let A1 = point(0,0)
      let B1 = point(calcul(randint(22,50)/10),0)
      let C1 = similitude(B1,A1,90,calcul(randint(22,50)/10)/longueur(A1,B1))
      let p1 = polygone(A1,B1,C1)
      p1.isVisible = false
      let p2 = rotation(p1,A1,randint(0,360))
      let A = p2.listePoints[0]
      let B = p2.listePoints[1]
      let C = p2.listePoints[2]
      let codage = codageAngleDroit(B,A,C)
      let xmin = Math.min(A.x,B.x,C.x)-1
      let ymin = Math.min(A.y,B.y,C.y)-1
      let xmax = Math.max(A.x,B.x,C.x)+1
      let ymax = Math.max(A.y,B.y,C.y)+1
      let nomDuPolygone = creerNomDePolygone(3)
      let nomme = nommePolygone(p2,nomDuPolygone)
      let affAB = afficheLongueurSegment(B,A)
      let affAC = afficheLongueurSegment(A,C)
      let affBC = afficheLongueurSegment(C,B)
      let longueurAB = longueur(A,B,1)
      let longueurAC = longueur(A,C,1)
      let longueurBC = longueur(B,C,1)
      let mesObjetsATracer = [codage,p2,nomme]

      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='AB'){
        mesObjetsATracer.push(affAC,affBC)
      }
      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='BC'){
        mesObjetsATracer.push(affAC,affAB)
      }
      if (type_exercice == 'Calculer' && liste_type_de_questions[i]=='AC'){
        mesObjetsATracer.push(affAB,affBC)
      }

      if (!sortie_html) {texte = '~\\\\'}
      texte += mathalea2d({xmin:xmin, xmax:xmax, ymin:ymin, ymax:ymax, scale:.6},mesObjetsATracer) ;
      if (this.sup==2){
        if (liste_type_de_questions[i]=='AB'){
          texte += `<br>$${A.nom+B.nom}^2=\\ldots$`
        }
        if (liste_type_de_questions[i]=='BC'){
          texte += `<br>$${B.nom+C.nom}^2=\\ldots$`
        }
        if (liste_type_de_questions[i]=='AC'){
          texte += `<br>$${A.nom+C.nom}^2=\\ldots$`
        }
      }
      if (!sortie_html && i!=this.nb_questions-1) {texte += '\\columnbreak'} //pour la sortie LaTeX sauf la dernière question
      
      texte_corr = `Le triangle $${nomDuPolygone}$ est rectangle en $${A.nom}$ donc d'après le théorème de Pythagore, on a : `;
      texte_corr += `$${B.nom+C.nom}^2=${A.nom+B.nom}^2+${A.nom+C.nom}^2$`
      if (this.sup==2){
        if (liste_type_de_questions[i]=='AB'){
          texte_corr += ` d'où $${A.nom+B.nom}^2=${B.nom+C.nom}^2-${A.nom+C.nom}^2$.`
        }
        if (liste_type_de_questions[i]=='BC'){
          texte_corr += `.`
        }
        if (liste_type_de_questions[i]=='AC'){
          texte_corr += ` d'où $${A.nom+C.nom}^2=${B.nom+C.nom}^2-${A.nom+B.nom}^2$.`
        }
      }
      if (type_exercice == "Calculer"){
        if (liste_type_de_questions[i]=='AB'){
          texte_corr += ` donc $${A.nom+B.nom}^2=${B.nom+C.nom}^2-${A.nom+C.nom}^2$`
          texte_corr += `<br> $${A.nom+B.nom}^2=${tex_nombre(longueurBC)}^2-${tex_nombre(longueurAC)}^2=${tex_nombrec(longueurBC**2-longueurAC**2)}$`
          if (calcul(Math.sqrt(longueurBC**2-longueurAC**2),1)==calcul(Math.sqrt(longueurBC**2-longueurAC**2),2)){
            texte_corr += `<br> $${A.nom+B.nom}=${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAC**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${A.nom+B.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAC**2),1))}$ cm.`
          }
        }
        if (liste_type_de_questions[i]=='BC'){
          texte_corr += `<br> $${B.nom+C.nom}^2=${tex_nombre(longueurAB)}^2+${tex_nombre(longueurAC)}^2=${tex_nombrec(longueurAB**2+longueurAC**2)}$`
          if (calcul(Math.sqrt(longueurAB**2+longueurAC**2),1)==calcul(Math.sqrt(longueurAB**2+longueurAC**2),2)){
            texte_corr += `<br> $${B.nom+C.nom}=${tex_nombre(calcul(Math.sqrt(longueurAB**2+longueurAC**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${B.nom+C.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurAB**2+longueurAC**2),1))}$ cm.`
          }
        }
        if (liste_type_de_questions[i]=='AC'){
          texte_corr += ` donc $${A.nom+C.nom}^2=${B.nom+C.nom}^2-${A.nom+B.nom}^2$`
          texte_corr += `<br> $${A.nom+C.nom}^2=${tex_nombre(longueurBC)}^2-${tex_nombre(longueurAB)}^2=${tex_nombrec(longueurBC**2-longueurAB**2)}$`
          if (calcul(Math.sqrt(longueurBC**2-longueurAB**2),1)==calcul(Math.sqrt(longueurBC**2-longueurAB**2),2)){
            texte_corr += `<br> $${A.nom+C.nom}=${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAB**2),1))}$ cm.`
          } else {
            texte_corr += `<br> $${A.nom+C.nom}\\approx${tex_nombre(calcul(Math.sqrt(longueurBC**2-longueurAB**2),1))}$ cm.`
          }
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Donner l'égalité de Pythagore\n2 : Compléter l'égalité de Pythagore\n3 : Calculer une longueur manquante"];
}
// 4G20-1
function Egalite_Pythagore2D(){
  Pythagore2D.call(this);
  this.titre = "Donner ou compléter une égalité de Pythagore"
  this.sup = 1;
  type_exercice = ''
  this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Donner l'égalité de Pythagore\n2 : Compléter l'égalité de Pythagore"];

}var liste_des_exercices_disponibles = {
  "CM000": Tables_additions_soustractions,
  "CM001": Tables_de_multiplications,
  "CM002": Tables_de_divisions,
  "CM003": Tables_de_multiplications_et_divisions,
  "CM004": Quatre_operations,
  "CM005": Ajouter9,
  "CM006": Soustraire9,
  "CM007": Ajouter11,
  "CM008": Soustraire11,
  "CM009": Moitie,
  "CM010": Tiers,
  "CM011": Quart,
  "CM012": Complement_a_100,
  "CM013": Complement_a_une_dizaine,
  "CM014": Double_moitie_tiers_triple,
  "CM015": Somme_de_deux_nombres_maries,
  "CM016": Diviser_par_10_100_1000,
  "CM017": Diviser_decimal_par_10_100_1000,
  "CM018": Somme_de_deux_nombres_maries_et_un_entier,
  "CM019": Le_compte_est_bonV3,
  "CM020": Le_compte_est_bonV4,
  "CM021": Compte_Est_Bon,
  "c3C10-1" : Tables_de_multiplications,
  "c3C10-4" : Exercice_tables_d_additions_cycle3,
  "c3C11" : Division_cycle3,
  "c3N10" : Ecrire_entiers_cycle3,
  "6C10": Additions_soustractions_multiplications_posees,
  "6C11": Divisions_euclidiennes,
  "6C10-1": Tables_de_multiplications,
  "6C10-2": Exercice_tables_de_multiplications_et_multiples_de_10,
  "6C10-3": Exercice_tables_de_multiplications_et_decimaux,
  "6C10-4": Exercice_tables_d_additions,
  "6C13": Vocabulaire_et_operations,
  "6C20": Additionner_soustraires_decimaux,
  "6C21": Divisions_euclidiennes_niv2,
  "6C23" : Exercice_additionner_des_fractions_6e,
  "6C30": Multiplier_decimaux,
  "6C30-1": Multiplier_decimaux_par_10_100_1000,
  "6C30-2": Produit_de_decimaux_a_partir_d_un_produit_connu,
  "6C31": Division_decimale,
  "6C32": Probleme_course,
  "6C33": Priorites,
  //"6C99" : separation6C,
  "6D10": Conversions_de_durees,
  "6D101": Heures_decimales,
  "6D11": Somme_de_durees,
  "6D12": Calculs_de_durees_ou_d_horaires,
  "6G10": Notation_segment_droite_demi_droite,
  "6G10-1": Description_segment_droite_demi_droite,
  "6G10-2" : Utiliser_le_codage_pour_decrire_6e,
  "6G11": Tracer_des_perpendiculaires,
  "6G12": Tracer_des_paralleles,
  "6G12-1": Tracer_des_perpendiculaires_et_des_paralleles,
  "beta6G14" : Test_main_levee,
  "6G20" : Nommer_et_coder_des_polygones,
  "6G20-2": Vocabulaire_des_triangles_6e,
  "6G21" : Construire_un_triangle_6e,
  "6G23-2": Tracer_triangle_2_angles,
  "6G24": Transformations_6e,
  "6G24-1" : Symetrie_axiale_point_6e,
  "6G24-2" : Symetrie_axiale_figure_6e,
  "6G25-1": Pavages_et_reflexion,
  "6G25-2": Pavages_et_symetries,
  "6G42" : Solide_6e,
  "6G43" : Utiliser_vocabulaire_pave,
  "6M11-1": Perimetre_ou_aire_de_carres_rectangles_triangles,
  "6M11-2": Perimetre_ou_aire_de_figures_composees,
  "6M10": Reglages_6M10,
  "6M12": Reglages_6M12,
  "6M20": Aire_de_triangles,
  "6M22": Reglages_6M22,
  "6M22-1": Perimetre_aire_disques,
  "6M22-2": Perimetre_aire_et_portions_de_disques,
  "6M23": Exercice_conversions_aires,
  "6M25": Connaitre_formules_de_perimetre_et_aires,
  "6M30": Calcul_de_volumes_6e,
  "6M31": Exercice_conversions_volumes,
  "6M31-2": Unites_de_volumes_et_de_capacite,
  "6N10" : Ecrire_nombres_entiers,
  "6N10-1": Exercice_numeration_entier,
  "6N10-2": Decomposition_nombre_decimal,
  "6N10-3": chiffre_nombre_de,
  "beta6N10-4" : Ecrire_nombres_entiers_formates,
  "6N11": Lire_abscisse_entiere,
  "6N11-2": Placer_un_point_abscisse_entiere,
  "6N11-3": Encadrer_un_entier_par_deux_entiers_consecutifs,
  "6N11-4": Ranger_ordre_croissant_decroissant,
  "6N12": Multiplier_entier_par_10_100_1000,
  "6N13": Exercice_6N13,
  "6N14" : Representer_une_fraction,
  "6N20": Exercice_fractions_decomposer,
  "6N20-2": Exercice_fractions_differentes_ecritures,
  "6N21": Lire_abscisse_fractionnaire,
  "6N22" : Ajouter_des_fractions_d_unite,
  "6N22-1" : Rapports_sur_un_segment,
  "6N23": Exercice_ecriture_decimale_a_partir_de_fraction_decimale,
  "beta6N23-0" : Ecrire_nombres_decimal,
  "6N23-1": Exercice_differentes_ecritures_nombres_decimaux,
  "6N24": Exercice_6N24,
  "6N24-1": Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000,
  "6N30": Lire_abscisse_decimale,
  "6N30-1" : Lire_abscisse_decimale_bis,
  "6N30-2": Placer_points_sur_axe,
  "6N31": Comparer_decimaux,
  "6N31-1": Encadrer_un_decimal_par_deux_entiers_consecutifs,
  "6N31-2":Ordre_de_grandeur_operations_decimaux,
  "6N32" :Fractions_d_unite,
  "6N33": Fraction_d_un_nombre,
  "6N33-0" : Fraction_d_une_quantite,
  "6N33-1": Pourcentage_d_un_nombre,
  "6N33-2" : Calculer_un_pourcentage,
  "6N33-3" : Appliquer_un_pourcentage,
  "6N34": Reglages_6N34,
  "6N41": Egalites_entre_fractions,
  "6N43": Criteres_de_divisibilite,
  "6N43-2": Tableau_criteres_de_divisibilite,
  "6P10": Proportionnalite_pas_proportionnalite,
  "6P11": Proportionnalite_par_linearite,
  "6P11-1": Proportionnalite_par_linearite_bis,
  "5A10": Liste_des_diviseurs_5e,
  "5A11": Tableau_criteres_de_divisibilite,
  "5A12-1": Premier_ou_pas_5e,
  "5A13": Exercice_decomposer_en_facteurs_premiers,
  "5C11": Traduire_une_phrase_par_une_expression,
  "5C11-1": Traduire_une_expression_par_une_phrase,
  "5C11-2": Ecrire_une_expression_mathador,
  "5C12": Calculer_une_expression_numerique,
  "5C12-1": Traduire_une_phrase_par_une_expression_et_calculer,
  "5G10": Symetrie_axiale_5e,
  "5G12": Pavages_et_demi_tour,
  "5G11": Transformations_5e,
  "5G10-1" : Symetrie_axiale_point_5e,
  "5G10-2" : Symetrie_axiale_figure_5e,
  "5G11-1" : Symetrie_centrale_point,
  "5G11-2" : Symetrie_centrale_figure,
  "5G21-1": Constructibilite_des_triangles_longueurs,
  "5G20-1": Vocabulaire_des_triangles_5e,
  "5G22": DroiteRemarquableDuTriangle,
  "5G30" : Utiliser_le_codage_pour_decrire_5e,
  "5G31": Exercice_angles_triangles,
  "5G31-1": Constructibilite_des_triangles_angles,
  "5N11-1": Tableaux_et_pourcentages,
  "5N13": Exercice_fractions_simplifier,
  "5N13-2": Egalites_entre_fractions,
  "5N110": Variation_en_pourcentages,
  "5N14": Exercice_comparer_deux_fractions,
  "5N14-2": Exercice_comparer_quatre_fractions,
  "5N20": Exercice_additionner_des_fractions_5e,
  "5N20-2": Exercice_additionner_ou_soustraire_des_fractions_5e,
  "5L10": Ecrire_une_expression_litterale,
  "5L10-1": Traduire_une_phrase_par_une_expression_litterale,
  "5L10-2": Traduire_un_programme_de_calcul,
  "5L10-3": Traduire_une_expression_litterale_par_une_phrase,
  "5L10-4": Tableaux_et_fonction,
  "5N20-0": Problemes_additifs_fractions_5e,
  "5L12": Reduire_une_expression_litterale,
  "5L12-1": Reduire_dinstinction_somme_produit,
  "5L13": Calculer_la_valeur_d_une_expression_litterale,
  "5L13-1": Calculer_une_expression_litterale,
  "5L13-2": Exercice_substituer,
  "5L13-3": Traduire_une_phrase_par_une_expression_litterale_et_calculer,
  "5L13-4": Calculer_une_expression_litteraleBis,
  "5L13-5":Calculer_la_valeur_d_une_expression_litterale_deg1_inc1,
  "5L13-6":Determiner_derniere_operation_exp_num,
  "5L14": Tester_une_egalite,
  "5M10": Aire_du_parallelogramme,
  "5M20": Calcul_de_volumes_5e,
  "5P10": Tableaux_et_proportionnalite,
  "5R10-0": Trouver_oppose,
  "5R11": Lire_abscisse_relative,
  "5R11-2": Placer_points_sur_axe_relatifs,
  "5R12": Reperage_point_du_quart_de_plan,
  "5R12-2": Reperage_point_du_plan,
  "5R20": Exercice_additions_relatifs,
  "5R20-2": Exercice_additions_relatifs_a_trou,
  "5R20-3": Exercice_additions_de_5_relatifs, //on pourrait le corriger avec regroupement des termes de même signe 
  "5R20-4": Problemes_additifs_relatifs_5e, 
  "5R20-5": Exercice_tableau_additions_relatifs,
  "5R21": Exercice_soustractions_relatifs,
  "5R22": Exercice_additions_et_soustraction_de_relatifsV2,
  "5R22-2": Exercice_simplification_somme_algebrique,
  "5S13": Calculer_des_frequences,
  "5S14": Calculer_des_moyennes,
  "5S21": fonctions_probabilite1,
  "4Algo1-0": Tracer_avec_scratch,
  "4C10-0": Signe_produit_quotient_relatifs,
  "4C10-1": Signe_produit_relatifs,
  "4C10-2": Signe_quotient_relatifs,
  "4C10-3": Exercice_multiplications_relatifs,
  "4C10-4": Exercice_quotients_relatifs,
  "4C10-5": Exercice_tableau_multiplications_relatifs,
  "4C11": Priorites_et_relatifs,
  "4C25-0": Problemes_additifs_fractions,
  "4C30": Puissances_de_dix,
  "4C30-1": Puissances_encadrement,
  "4C32" : Notation_scientifique,
  "4C32-1" : Calculs_avec_puissances_de_dix,
  "4C33-1": Puissances_d_un_relatif_1,
  "4C33-3": Puissances_d_un_relatif_2,
  "4G40": Transformations_4e,
  "4L10": Exercice_developper,
  "4L13-0": Mettre_en_equation_sans_resoudre,
  "4L13-1": Forme_litterale_introduire_une_lettre,
  "4L14-0": Tester_si_un_nombre_est_solution_d_une_equation,
  "4L14-1": Tester_si_un_nombre_est_solution_d_une_equation_deg1,
  "4L14-2": Tester_si_un_nombre_est_solution_d_une_equation_deg2,
  "4L15-0": Trouver_erreur_resol_eq_deg1,
  "4L20": Exercice_equation1,
  "4G53": Calcul_de_volumes_4e,
  "4C21-1": Exercice_additionner_des_fractions,
  "4C21": Exercice_additionner_ou_soustraire_des_fractions,
  "4C22-1": Exercice_trouver_l_inverse,
  "4C22": Exercice_multiplier_fractions,
  "4C22-2": Exercice_diviser_fractions,
  "4C23": Exercice_additionner_fraction_produit,
  "4F12": Exploiter_representation_graphique,
  "4P10": Problemes_grandeurs_composees,
  "4P10-1" : Graphiques_et_proportionnalite,  
  "4G11": Pavages_et_translation,
  "4G20" : Pythagore2D,
  "4G20-1": Egalite_Pythagore2D, // Anciennement Egalite_Pythagore,
  "4G20-2": Racine_caree_de_carres_parfaits,
  "4G20MG32": Exercice_Pythagore,
  "4G21": Reciproque_Pythagore,
  "4G22": Problemes_Pythagore,
  "4G30": Thales_4eme,
  "4G31": Reciproque_Thales_4eme,
  "4G40": Exercice_Trigo_longueurs_4e,
  "4G41": Exercice_Trigo_angles_4e,
  "3A10": DivisionEuclidienne_multiplesDiviseurs_Criteres,
  "3A11": Premier_ou_pas,
  "3A11-1": Premier_ou_pas_critere_par7_par11,
  "3A11-2": Decomposition_facteurs_premiers,
  "3A11-3": Lister_Diviseurs_Par_Decomposition_facteurs_premiers,
  "3A12": Fractions_irreductibles,
  "3A13": PPCM_Engrenages,
  "3G43": Calcul_de_volumes_3e,
  "3L10": Oppose_expression,
  "3L10-1": Parentheses_precedes_de_moins_ou_plus,
  "3L11": Exercice_developper,
  "3L11-1": Double_distributivite,
  "3L11-2": Reduction_si_possible,
  "3L11-3": Distributivite_simple_double_reduction,
  "3L11-4": Factoriser_par_nombre_ou_x,
  "3L12-1": Developper_Identites_remarquables3,
  "3L12": Factoriser_Identites_remarquables3,
  "3L13": Exercice_equation1, //identique à 4L20
  "3L13-1": Exercice_equation1_2,
  "beta3L13-2": Eq_resolvantes_Thales,
  "3L14": Resoudre_une_equation_produit_nul,
  "3L14-1": Resoudre_une_equation_produit_nul_niv2,
  "3L15": Resoudre_une_equation_x2_egal_A,
  "3P10": Evolutions_en_pourcentage,
  "3P10-1": Coefficient_evolution,
  "3G10-1": Transformations_du_plan_et_coordonnees,
  "3G10-2": Transformations_3e,
  "3G12": Pavages_et_rotation,
  "3G20": Exercice_Thales,
  "3G20-1": Problemes_Thales,
  "3G21": Reciproque_Thales,
  "3G22": Agrandissement_reduction,
  "3G23": TrianglesSemblables,
  "3G30": Exercice_Trigo_longueurs,
  "3G31": Exercice_Trigo_angles,
  "3F1-act": fonction_notion_vocabulaire,
  "3F10" : Image_antecedent_depuis_tableau_ou_fleche,
  "3F12": fonctions_calculs_d_images,
  "3F12-2": Image_fonction_algebrique,
  "3F12-3": Tableau_de_valeurs,
  "3F12-4": Image_graphique,
  "3F13": Antecedent_graphique,
  "3F21": Lecture_expression_fonctions_lineaires,
  "3F21-1": Lecture_expression_fonctions_affines,
  "3S15": Calculer_des_etendues,
  "3S20": fonctions_probabilite2,
  "2N10": Existence_d_une_racine_carree,
  "2N10-1": proprietes_racine_carree,
  "2N11": Extraire_un_carre_parfait_d_une_racine_carree,
  "2N11-1": Simplifier_une_somme_de_racines_carrees,
  "2N12": Double_distributivité_avec_racine_carree,
  "2N12-1": identites_remarquables_et_racine_carree,
  "2N20": ensemble_de_nombres,
  "2N21": parite,
  "2N22": valeur_absolue,
  "2N23": valeur_absolue_et_equation,
  "2N24": intervalles_de_R,
  "2N25": union_et_intersection_intervalles_de_R,
  "2G10": Distance,
  "2G11": Milieu,
  "2G12": Nature_polygone,
  "2L10": Developper_Identites_remarquables2,
  "2L11": Factoriser_Identites_remarquables2,
  "1N10": Terme_d_une_suite_definie_explicitement,
  "1N11": Terme_d_une_suite_definie_par_recurrence, 
  "1E10" : Calcul_discriminant,
  "1E11" : Resoudre_equation_degre_2,
  "PEA11": Passer_d_une_base_a_l_autre,
  "PEA11-1": Passer_de_la_base_12_ou_16_a_la_10,
  "betaTESTseb": Tests_du_Seb,
  P001: Code_LaTeX_personnalise,
  // 'P002': LaTeX_static,
  P003: feuille_d_axes_gradues,
  cours: Questions_de_cours,
  LaTeX: Code_LaTeX_personnalise,
  // 'Perso' : HTML_personnalise,
  // 'TsvgjsKatex' : tests_SVGJS_KATEX,  
};

//Pour modifier les exercices lorsqu'ils sont en mode diaporama
var est_diaporama = false;

if (window.location.href.indexOf("cm.html") > 0) {
  est_diaporama = true;
}

//Efface de la liste des exercices disponibles tout ceux qui n'ont pas de version HTML
if (sortie_html) {
  var codeMG32 = "";
}

for (var i in liste_des_exercices_disponibles) {
  let exercice = new liste_des_exercices_disponibles[i]();
  if (sortie_html && exercice.pas_de_version_HMTL) {
    delete liste_des_exercices_disponibles[i];
  }
  if (!sortie_html && exercice.pas_de_version_LaTeX) {
    delete liste_des_exercices_disponibles[i];
  }
}

/**
 * Classe parente de tous les exercices
 *
 * @Auteur Rémi Angot
 */
function Exercice() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "";
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.introduction = "";
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1.5;
  this.spacing_corr = 1;
  this.beamer = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = false; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.consigne_modifiable = true;
  this.nb_questions_modifiable = true;
  this.nb_cols_modifiable = true;
  this.nb_cols_corr_modifiable = true;
  this.spacing_modifiable = true;
  this.spacing_corr_modifiable = true;
  this.correction_detaillee_disponible = false;
  this.correction_detaillee = true;
  this.bouton_aide = false;
  // this.bouton_aide = modal_texte_court(numero_de_l_exercice,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_texte_long(numero_de_l_exercice,titre,texte,label_bouton="Aide",icone="info circle")
  // this.bouton_aide = modal_youtube(numero_de_l_exercice,id_youtube,texte,label_bouton="Aide - Vidéo",icone="youtube")
  // this.bouton_aide = modal_pdf(numero_de_l_exercice,url_pdf,texte="Aide",label_bouton="Aide - PDF",icone="file pdf")
  this.pas_de_version_LaTeX = false;
  this.MG32editable = false; //pas d'interface par défaut pour les figures MG32
  this.nouvelle_version = function (numero_de_l_exercice) {};
  this.liste_packages = []; // string ou liste de string avec le nom des packages spécifiques à ajouter dans le préambule
}
/**
 * Pour imprimer des repères vierges pour les élèves.
 * @Auteur Jean-Claude Lhote
 * référence : P003
 */
function feuille_d_axes_gradues() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer des droites graduées";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 3;
  this.sup = 10;
  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;
  this.liste_packages = "axes_gradues";

  this.nouvelle_version = function (numero_de_l_exercice) {
    let pas;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    pas = parseInt(this.sup);
    for (let i = 0, id_unique, texte; i < 16; i++) {
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          "",
          6,
          1,
          pas,
          [],
          [],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(2, " ", 1, pas, [], [], false);
        this.liste_questions.push(texte);
      }
    }
    if (!sortie_html)
      liste_de_question_to_contenu_sans_numero_et_sans_consigne(this);
  };
  this.besoin_formulaire_numerique = [`Nombres de parts`, 10, ""];
}

/**
 * Lire l'abscisse entière d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11
 */
function Lire_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse entière d'un point (grands nombres)";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 4;
  this.liste_packages = ["tkz-euclide"];

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Milliers\n2 : Dizaines de mille\n3 : Centaines de mille\n4 : Mélange",
  ];
}
/**
 * Placer un point d'abscisse entière
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N11-2
 */
function Placer_un_point_abscisse_entiere() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse entière (grands nombres)";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer des entiers sur un axe (milliers)
          abs0 = randint(1, 9) * 1000;
          pas1 = 0.001;
          pas2 = 10;
          break;

        case 2: // Placer des entiers sur un axe (dizaines de mille)
          abs0 = randint(5, 15) * 10000;
          pas1 = 0.0001;
          pas2 = 10;
          break;

        case 3: // Placer des entiers sur un axe (centaines de mille)
          abs0 = randint(35, 85) * 100000;
          pas1 = 0.00001;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );
      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3> Placer les points : ${l1}(${string_nombre(
          abs1
        )}), ${l2}(${string_nombre(abs2)}), ${l3}(${string_nombre(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${string_nombre(
          abs1
        )}), $${l2}$(${string_nombre(abs2)}), $${l3}$(${string_nombre(
          abs3
        )}) sont placés ci dessous}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Ordre de grandeur : milliers\n2 : Ordre de grandeur : dizaines de mille\n3 : centaines de mille\n4 : Mélange",
  ];
}

/**
 * Questions statiques issues d'un fichier Markdown
 *
 * Les thèmes sont des titres de niveaux 2
 *
 * suivies d'une liste qui alterne question et réponse
 * @Auteur Rémi Angot
 * Référence : cours
 */
function Questions_de_cours() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Questions de cours";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.consigne_modifiable = false;
  this.sup = ""; // thème des questions
  this.sup2 = "questions_de_cours.txt"; //url des questions
  this.pas_de_version_LaTeX = true;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let liste_questions = []; // Liste de questions
    let liste_corrections = []; // Liste de questions corrigées
    let dictionnaire_de_questions = {};
    let dictionnaire_de_questions_pret = false;
    let contenu_HTML = "";
    let contenu_correction_HTML = "";
    $.get(this.sup2, function (txt) {
      // Récupère le fichier txt et transforme en un dictionnaire {'id_theme':[[questions],[réponses]]}
      let tableau_par_theme = txt
        .match(/##((?=[^#]).|\n)*/g)
        .map((v) => v.trim());
      // Recherche les chaines de caractères commençant par ## et ne comportant pas d'autres #
      for (let i = 0; i < tableau_par_theme.length; i++) {
        let tableau_titre = tableau_par_theme[i].match(/##.*/g);
        let questions_et_reponses = tableau_par_theme[i]
          .match(/\*((?=[^*#]).|\n)*/g)
          .map((v) => v.trim());
        // Recherche les chaines de caractères commençant par * et ne comportant pas d'autres * ou de #
        let titre = tableau_titre[0].replace("## ", "");
        // Récupère le titre du thème sans ##
        let tableau_questions = [];
        let tableau_reponses = [];
        for (let i = 0; i < questions_et_reponses.length; i++) {
          if (i % 2 == 0) {
            //rang pair => questions
            tableau_questions[i / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
            // Supprime les * devant chaque questions
          } else {
            //rang impair => réponses
            tableau_reponses[(i - 1) / 2] = questions_et_reponses[i].replace(
              "* ",
              ""
            );
          }
          dictionnaire_de_questions[titre] = [
            tableau_questions,
            tableau_reponses,
          ];
        }
      }

      // Je n'utilise pas this.nb_questions ou this.sup car this n'est pas clairement défini dans cette fonction
      if (exercice[numero_de_l_exercice].sup == "") {
        exercice[numero_de_l_exercice].sup = choice(
          Object.keys(dictionnaire_de_questions)
        ); // Si on n'a pas spécifié un thème, on en prend un au hasard.
      }

      let nb_questions = exercice[numero_de_l_exercice].nb_question;
      if (dictionnaire_de_questions[exercice[numero_de_l_exercice].sup]) {
        // Si le thème existe dans le dictionnaire alors on adapte le nombre de questions
        nb_questions = Math.min(
          exercice[numero_de_l_exercice].nb_questions,
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0]
            .length
        );
      }
      for (let i = 0; i < nb_questions; i++) {
        liste_questions.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][0][i]
        );
        liste_corrections.push(
          dictionnaire_de_questions[exercice[numero_de_l_exercice].sup][1][i]
        );
      }
      shuffle2tableaux(liste_questions, liste_corrections);
      // Mélange les questions et les réponses (sans perdre les associations)
      dictionnaire_de_questions_pret = true;
    });

    let id_unique = `${numero_de_l_exercice}_${Date.now()}`;
    if (sortie_html) {
      this.contenu = `<div id=div_exo${id_unique}></div>`;
      this.contenu_correction = `<div id=div_corr_exo${id_unique}></div>`;
    }

    if (!window.divExist) {
      window.divExist = [];
    } // Si divExist n'existe pas on le créé
    // divExist est un tableau dans lequel on stocke les listenner sur la création des div
    window.divExist[id_unique] = setInterval(function () {
      if ($(`#div_exo${id_unique}`).length && dictionnaire_de_questions_pret) {
        // Attends que le div existe et que le dictionnaire de questions soit prêt
        contenu_HTML = html_enumerate(liste_questions, this.spacing);
        contenu_correction_HTML = html_enumerate(
          liste_corrections,
          this.spacing
        );
        $(`#div_exo${id_unique}`).html(contenu_HTML); //Vide le div pour éviter les SVG en doublon
        $(`#div_corr_exo${id_unique}`).html(contenu_correction_HTML); //Vide le div pour éviter les SVG en doublon
        renderMathInElement(document.body, {
          delimiters: [
            { left: "\\[", right: "\\]", display: true },
            { left: "$", right: "$", display: false },
          ],
          throwOnError: true,
          errorColor: "#CC0000",
          strict: "warn",
          trust: false,
        });
        clearInterval(divExist[numero_de_l_exercice]); //Arrête le timer
      }
    }, 100); // Vérifie toutes les 100ms
  };
  this.besoin_formulaire_texte = ["Thème des questions", "De la forme 6M1"];
  this.besoin_formulaire2_texte = [
    "Liste des questions",
    "URL du fichier texte contenant les questions et réponses.",
  ];
}

/**
 * Lire l'abscisse décimale d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30
 */
function Lire_abscisse_decimale() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des décimaux sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer des décimaux sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer des décimaux sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}
/**
 * Lire l'abscisse fractionnaire d'un point
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N21
 */
function Lire_abscisse_fractionnaire() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse fractionnaire d'un point";
  this.consigne = "Lire l'abscisse de chacun des points suivants et donner le résultat sous la forme d'une fraction.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 1: // Placer des demis aux quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2, 3, 4]);
          break;

        case 2: // Placer des cinquièmes aux neuvièmes sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = randint(5, 9);
          break;

        case 3: // Placer des demis aux neuvièmes à partir d'un entier >=1 sur un axe
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = randint(2, 9);
          break;
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [abs0 + 1 / pas1, 1, 0],
            [abs0 + 2 / pas1, 2, 0],
            [abs0 + 3 / pas1, 3, 0],
            [abs0 + 4 / pas1, 4, 0],
            [abs0 + 5 / pas1, 5, 0],
            [abs0 + 6 / pas1, 6, 0],
          ],
          true
        );
        this.contenu_correction+=`<br>`
        if (pgcd(x11,pas2)!=1||pgcd(x22,pas2)!=1||pgcd(x33,pas2)!=1) this.contenu_correction+=`Remarque : `
        if (pgcd(x11,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\phantom{espace}$`
        if (pgcd(x22,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\phantom{espace}$`
        if (pgcd(x33,pas2)!=1) this.contenu_correction+=`$${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\phantom{espace}$`
  
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          true
        );
        if (pgcd(x11,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x1*pas2+x11,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x1*pas2+x11,pas2)}\\right)$.`
        if (pgcd(x22,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x2*pas2+x22,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x2*pas2+x22,pas2)}\\right)$.`
        if (pgcd(x33,pas2)!=1) texte_corr+=`<br>$\\left(${tex_fraction(x3*pas2+x33,pas2)}$ peut se simplifier en $${tex_fraction_reduite(x3*pas2+x33,pas2)}\\right)$.`
  
        this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
      }     
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Demis, tiers ou quarts avec zéro placé\n2 : Des cinquièmes aux neuvièmes avec zéro placé \n3 : Toutes les fractions précédentes mais zéro non visible\n4 : Mélange",
  ];
}
/**
 * Exercice calqué sur lire abscisse fractionnaire sauf que le résultat attendu est en écriture décimale.
 * demis, quart, cinquièmes dixièmes et centièmes
 * @Auteur Jean-Claude Lhote
 * Référence 6N30-1
 */
function Lire_abscisse_decimale_bis() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Lire l'abscisse décimale d'un point repéré par une fraction";
  this.consigne = "Lire l\’abscisse de chacun des points suivants et donner le résultat sous la forme d\’un nombre en écriture décimale.";
  this.nb_questions = 3;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 5)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);
      switch (type_de_questions[i]) {
        case 3: // Placer des demis ou des quarts sur un axe
          abs0 = 0;
          pas1 = 1;
          pas2 = choice([2,4]);
          break;

        case 4: // Placer des cinquièmes 
          abs0 = 0;
          pas1 = 1;
          pas2 = 5
          break;

        case 1: // Placer des dixièmes
          abs0 = randint(1, 5);
          pas1 = 1;
          pas2 = 10
          break;
        case 2: // Placer des centièmes
          abs0 = calcul(randint(10, 50)/10);
          pas1 = 10;
          pas2 = 10
          break;       
      }
      x1 = randint(0, 1);
      x2 = randint(2, 3);
      x3 = randint(4, 5);
      x11 = randint(1, pas2 - 1);
      x22 = randint(1, pas2 - 1);
      x33 = randint(1, pas2 - 1);
      if (sortie_html) {
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0 + 1 / pas1), 1, 0],
            [calcul(abs0 + 2 / pas1), 2, 0],
            [calcul(abs0 + 3 / pas1), 3, 0],
            [calcul(abs0 + 4 / pas1), 4, 0],
            [calcul(abs0 + 5 / pas1), 5, 0],
            [calcul(abs0 + 6 / pas1), 6, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11],
            [l2, x2, x22],
            [l3, x3, x33],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = Latex_reperage_sur_un_axe(
          2,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Dixièmes\n2 : Centièmes\n3 : Demis et quarts\n4 : Cinquièmes\n5 : Mélange",
  ];
}

/**
 * Placer un point d'abscisse décimale
 * @Auteur Jean-Claude Lhote et Rémi Angot
 * référence 6N30-2
 */
function Placer_points_sur_axe() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Placer un point d'abscisse décimale";
  this.consigne = " Placer trois points sur un axe gradué.";
  this.nb_questions = 5;
  this.nb_questions_modifiable = true;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.sup = 1;
  this.type_exercice = "SVGJS";
  this.liste_packages = "tkz-euclide";

  this.nouvelle_version = function (numero_de_l_exercice) {
    // numero_de_l_exercice est 0 pour l'exercice 1
    let type_de_questions;
    this.liste_questions = [];
    this.liste_corrections = [];
    this.contenu = ""; // Liste de questions
    this.contenu_correction = ""; // Liste de questions corrigées
    if (this.sup == 4)
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    else
      type_de_questions = combinaison_listes(
        [parseInt(this.sup)],
        this.nb_questions
      );

    this.contenu = html_consigne(this.consigne);
    for (
      let i = 0,
        abs0,
        abs1,
        abs2,
        abs3,
        l1,
        l2,
        l3,
        x1,
        x2,
        x3,
        x11,
        x22,
        x33,
        pas1,
        pas2,
        id_unique,
        texte,
        texte_corr;
      i < this.nb_questions;
      i++
    ) {
      l1 = lettre_depuis_chiffre(i * 3 + 1);
      l2 = lettre_depuis_chiffre(i * 3 + 2);
      l3 = lettre_depuis_chiffre(i * 3 + 3);

      switch (type_de_questions[i]) {
        case 1: // Placer un point sur un axe (1 décimale)
          abs0 = randint(0, 9);
          pas1 = 1;
          pas2 = 10;
          break;

        case 2: // Placer un point sur un axe (2 décimales)
          abs0 = randint(0, 90) / 10;
          pas1 = 10;
          pas2 = 10;
          break;

        case 3: // Placer un point sur un axe (3 décimales)
          abs0 = randint(0, 990) / 100;
          pas1 = 100;
          pas2 = 10;
          break;
      }
      x1 = randint(0, 2);
      x2 = randint(3, 4);
      x3 = randint(5, 6);
      x11 = randint(1, 9);
      x22 = randint(1, 9);
      x33 = randint(1, 3);
      abs1 = arrondi(
        abs0 + x1 / pas1 + x11 / pas1 / pas2,
        type_de_questions[i]
      ); // le type de questions est égal au nombre de décimales.
      abs2 = arrondi(
        abs0 + x2 / pas1 + x22 / pas1 / pas2,
        type_de_questions[i]
      );
      abs3 = arrondi(
        abs0 + x3 / pas1 + x33 / pas1 / pas2,
        type_de_questions[i]
      );

      if (sortie_html) {
        texte_corr = "";
        this.contenu += `<h3>Placer les points : ${l1}(${tex_nombrec(
          abs1
        )}), ${l2}(${tex_nombrec(abs2)}), ${l3}(${tex_nombrec(abs3)})</h3>`;
        id_unique = `${i}_${Date.now()}`;
        this.contenu += `<div id="div_svg${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        this.contenu_correction += `<div id="div_svg_corr${numero_de_l_exercice}${id_unique}" style="width: 90%; height: 200px;  "></div>`;
        SVG_reperage_sur_un_axe(
          `div_svg_corr${numero_de_l_exercice}${id_unique}`,
          abs0,
          6,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
      } else {
        //sortie Latex
        texte = `{\\small Placer les points : $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(abs3)})}<br>`;
        texte += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );
        texte_corr = `{\\small Les points $${l1}$(${tex_nombrec(
          abs1
        )}), $${l2}$(${tex_nombrec(abs2)}), $${l3}$(${tex_nombrec(
          abs3
        )}) sont placés ci dessus}<br>`;
        texte_corr += Latex_reperage_sur_un_axe(
          2.4,
          abs0,
          pas1,
          pas2,
          [
            [l1, x1, x11, true],
            [l2, x2, x22, true],
            [l3, x3, x33, true],
          ],
          [
            [calcul(abs0, 0), 0, 0],
            [calcul(abs0 + 1 / pas1, 0), 1, 0],
          ],
          false
        );

        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
      }
    }
    if (!sortie_html) liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Un chiffre après la virgule\n2 : Deux chiffres après la virgule \n3 : Trois chiffres après la virgule\n4 : Mélange",
  ];
}

/**
 * Conversions de durées.
 * * 1 : H vers min ou H ou min ou Hmin vers s
 * * 2 : h vers j-h
 * * 3 : s vers HMS
 * * 4 : h vers semaines j h
 * * 5 : toutes les conversions
 * @Auteur Rémi Angot
 * Référence 6D10
 */
function Conversions_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 5;
  this.titre = "Convertir des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.spacing = 2;
  this.nb_questions = 5;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_sous_type_de_questionv1 = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_sous_type_de_questionv2 = combinaison_listes(
      [0, 1, 2],
      this.nb_questions
    );
    let type_de_questions = [];
    if (this.sup < 5) {
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    }
    if (this.sup == 5) {
      type_de_questions = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    }

    for (
      let i = 0, h, m, s, j, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        let sous_type_de_question = liste_sous_type_de_questionv1[i];
        if (sous_type_de_question == 1) {
          h = randint(2, 11);
          texte = `$${h}~\\text{h en minute}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times60~~\\text{min} = ${tex_nombre(
            h * 60
          )}~\\text{min}$`;
        }
        if (sous_type_de_question == 2) {
          h = choice([1, 2, 10, 20]);
          texte = `$${h}~\\text{h en secondes}$`;
          texte_corr = `$${h}~\\text{h} = ${h}\\times3~600~\\text{s} = ${tex_nombre(
            h * 3600
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 3) {
          m = randint(2, 59);
          texte = `$${m}~\\text{min en secondes}$`;
          texte_corr = `$${m}~\\text{min} = ${m}\\times60~\\text{s} = ${tex_nombre(
            m * 60
          )}~\\text{s}$`;
        }
        if (sous_type_de_question == 4) {
          h = randint(1, 2);
          m = randint(2, 59);
          texte = `$${h}~\\text{h}~${m}~\\text{min en secondes}$`;
          texte_corr = `$${h}~\\text{h}~${m}~\\text{min} = ${h}\\times3~600~\\text{s} + ${m}\\times60~\\text{s} = ${tex_nombre(
            h * 3600
          )}+${tex_nombre(m * 60)}~\\text{s} = ${tex_nombre(
            h * 3600 + m * 60
          )}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 2) {
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(h + 24 * j)}~\\text{h en jours et heures}$`;
        texte_corr = `$${tex_nombre(
          h + 24 * j
        )}~\\text{h} = ${j}\\times24~\\text{h} + ${h}~\\text{h} = ${j}~\\text{j}~${h}~\\text{h}$`;
      }

      if (type_de_questions[i] == 3) {
        h = liste_sous_type_de_questionv2[i];
        m = randint(1, 59);
        s = randint(1, 59);
        if (h > 0) {
          texte = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            h * 3600 + m * 60 + s
          )}~\\text{s} = ${tex_nombre(h * 3600)}~\\text{s}+${
            m * 60 + s
          }~\\text{s} =${h}~\\text{h}+${m}\\times60~\\text{s}+${s}~\\text{s}=${h}~\\text{h}~${m}~\\text{min}~${s}~\\text{s}$`;
        } else {
          texte = `$${tex_nombre(m * 60 + s)}~\\text{s au format HMS}$`;
          texte_corr = `$${tex_nombre(
            m * 60 + s
          )}~\\text{s} = ${m}\\times60~\\text{s}+${s}~\\text{s}=${m}~\\text{min}~${s}~\\text{s}$`;
        }
      }
      if (type_de_questions[i] == 4) {
        s = randint(1, 9); // nombre de semaines
        j = randint(1, 6);
        h = randint(1, 23);
        texte = `$${tex_nombre(
          h + 24 * j + 24 * 7 * s
        )}~\\text{h en semaines jours et heures}$`;
        if (s > 1) {
          // pour la gestion du pluriel de semaines
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaines}~${j}~\\text{j}~${h}~\\text{h}$`;
        } else {
          texte_corr = `$${tex_nombre(h + 24 * j + 24 * 7 * s)}~\\text{h} = ${
            j + 7 * s
          }\\times24~\\text{h} + ${h}~\\text{h} = ${
            j + 7 * s
          }~\\text{j}~${h}~\\text{h} = ${s}\\times7~\\text{j} + ${j}~\\text{j}~${h}~\\text{h} = ${s}~\\text{semaine}~${j}~\\text{j}~${h}~\\text{h}$`;
        }
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : Conversions en s ou min\n2 : Conversions en jours-heures \n3 : Conversions en HMS\n4 : Conversions en semaines-jours-heures \n5 : Tous types de conversions",
  ];
}

/**
 * Convertir une heure décimale dans le format HMS
 *
 * La partie décimale est 25, 75 ou un seul chiffre
 * @Auteur Rémi Angot
 * Référence 6D101
 */
function Heures_decimales() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Utiliser les heures décimales";
  this.consigne = "Compléter les égalités suivantes";
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, partie_entiere, partie_decimale, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      partie_entiere = randint(1, 12);
      partie_decimale = choice([1, 2, 3, 4, 5, 6, 7, 8, 9, 25, 75]);
      texte = `$${partie_entiere},${partie_decimale}~\\text{h}=\\dotfill$`;
      if (partie_decimale == 25) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~15~\\text{min}$`;
      } else if (partie_decimale == 75) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{3}{4}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~45~\\text{min}$`;
      } else if (partie_decimale == 5) {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{1}{2}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}~30~\\text{min}$`;
      } else {
        texte_corr = `$${partie_entiere},${partie_decimale}~\\text{h}=${partie_entiere}~\\text{h}+\\dfrac{${partie_decimale}}{10}~\\text{h}`;
        texte_corr += `=${partie_entiere}~\\text{h}+${partie_decimale}\\times6~\\text{min}=${partie_entiere}~\\text{h}~${
          partie_decimale * 6
        }~\\text{min}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions de durées de différents :
 * * MS+MS=1hMS sans retenue sur les s
 * * MS+MS=1hMS avec retenue
 * * HM+HM avec retenue
 * * HMS+HMS avec retenue sur les min
 * * HMS+HMS avec retenues min et s
 * @Auteur Rémi Angot
 * Référence 6D11
 */
function Somme_de_durees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additionner des durées";
  this.consigne = "Compléter les égalités suivantes";
  this.sup = 1; // 2 niveaux de difficultés
  this.spacing = 2;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions;

    if (this.sup == 1) {
      type_de_questions = combinaison_listes([1, 3], this.nb_questions);
    } else {
      type_de_questions = combinaison_listes(
        [1, 2, 3, 4, 5],
        this.nb_questions
      );
    }
    for (
      let i = 0, h1, h2, m1, m2, s1, s2, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (type_de_questions[i] == 1) {
        s1 = randint(11, 39);
        s2 = randint(1, 20);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s}= 1~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 2) {
        s1 = randint(21, 39);
        s2 = randint(40, 59);
        m1 = randint(20, 59);
        m2 = randint(40, 59);
        texte = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${m1}~\\text{min}~${s1}~\\text{s}+${m2}~\\text{min}~${s2}~\\text{s}= ${
          m1 + m2
        }~\\text{min}~${s1 + s2}~\\text{s} = ${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} = 1~\\text{h}~${m1 + m2 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }
      if (type_de_questions[i] == 3) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}+${h2}~\\text{h}~${m2}~\\text{min}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min} = ${h1 + h2 + 1}~\\text{h}~${
          m1 + m2 - 60
        }~\\text{min}$`;
      }
      if (type_de_questions[i] == 4) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(1, 60 - s1 - 1);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}= ${
          h1 + h2
        }~\\text{h}~${m1 + m2}~\\text{min}~${s1 + s2}~\\text{s} = ${
          h1 + h2 + 1
        }~\\text{h}~${m1 + m2 - 60}~\\text{min}~${s1 + s2}~\\text{s}$`;
      }
      if (type_de_questions[i] == 5) {
        h1 = randint(2, 12);
        h2 = randint(2, 11);
        m1 = randint(30, 50);
        m2 = randint(30, 50);
        s1 = randint(2, 55);
        s2 = randint(60 - s1, 59);
        texte = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=\\dotfill$`;
        texte_corr = `$${h1}~\\text{h}~${m1}~\\text{min}~${s1}~\\text{s}+${h2}~\\text{h}~${m2}~\\text{min}~${s2}~\\text{s}=`;
        texte_corr += ` ${h1 + h2}~\\text{h}~${m1 + m2}~\\text{min}~${
          s1 + s2
        }~\\text{s} = ${h1 + h2}~\\text{h}~${m1 + m2 + 1}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s} =${h1 + h2 + 1}~\\text{h}~${m1 + m2 + 1 - 60}~\\text{min}~${
          s1 + s2 - 60
        }~\\text{s}$`;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 2]; //"1 : Additions simples\n2 : Additions avec d'��ventuelles conversions"]
}

/**
 * Problèmes où il faut calculer la durée d'un évèbement ou un horaire.
 * Paramétrage possible :
 * * 1 : calculs de durées
 * * 2 : calculer l'heure de début
 * * 3 : calculer l'heure de fin
 * * 4 : mélange des 3 types précédents
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Calculs_de_durees_ou_d_horaires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer des durées ou déterminer un horaire";
  this.consigne = "";
  this.sup = 4;
  this.spacing = 2;
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    const type_de_contexte = combinaison_listes(
      [1, 2, 3, 4, 5],
      this.nb_questions
    );
    let type_de_questions; // 1 : calcul de durées // 2 : calcul de l'horaire de début // 3 : calcul de l'horaire de fin // 4 : mélange

    if (this.sup < 4) {
      // que des questions de niveau 1 ou que des questions de niveau 2
      type_de_questions = combinaison_listes([this.sup], this.nb_questions);
    } else {
      // un mélange équilibré de questions
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    }

    for (
      let i = 0, d1, h1, m1, d2, h2, m2, d, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      //d1 : heure de début (h1 heures m1 min)
      //d2 : heure de fin (h2 heures m2 min)
      //d : durée
      if (type_de_contexte[i] == 1) {
        h1 = randint(20, 22);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 2;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `La diffusion d'un film commence à ${d1} et se termine à ${d2}. Combien de temps a duré ce film ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le film dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Un film dure ${d} et commence à ${d1}. À quelle heure se terminera-t-il ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Le film terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un film de ${d} termine à ${d2}. À quelle heure a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le film a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 2) {
        h1 = randint(20, 23);
        m1 = randint(35, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + 1;
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Sur son service de streaming favori, ${prenom()} commence à regarder une série à ${d1} et celle-ci se termine à ${d2}. Combien de temps a duré l'épisode ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La série a duré ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenom()} allume son ordinateur à ${d1} pour regarder une série de ${d}. À quelle heure la série s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La série s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une série de ${d} à ${d2}. À quelle la série a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Elle a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 3) {
        h1 = randint(8, 21);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 59); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Une émission télévisée est diffusée de ${d1} à ${d2}. Combien de temps dure-t-elle ?`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `L'émission dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une émission télévisée de ${d} commence à ${d1}. À quelle heure s'achèvera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `L'émission s'achèvera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `${prenom()} termine de regarder une émission de ${d} à ${d2}. À quelle heure l'émission a-t-elle commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `L'émission a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 4) {
        h1 = randint(13, 16);
        m1 = randint(1, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(1, 2);
        m2 = randint(1, 58); // pas forcément de retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(13, 16);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + randint(1, 2);
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un papa regarde la compétition de gymnastique de sa fille  de ${d1} à ${d2}. Calculer la durée de cette compétition.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `La compétition dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `Une compétition de gymnastique commence à ${d1} et dure ${d}. À quelle heure sera-t-elle terminée ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `La compétition terminera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Une compétition de gymnastique qui se termine à ${d2} a duré ${d}. À quelle heure a-t-elle commencé.`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `La compétition a commencé à ${d1}.`;
        }
      }

      if (type_de_contexte[i] == 5) {
        h1 = randint(8, 15);
        m1 = randint(25, 58);
        d1 = h1 * 60 + m1;
        h2 = h1 + randint(2, 5);
        m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
        d2 = h2 * 60 + m2;
        d = d2 - d1;
        while (d < 27 || d > 75 || d == 60) {
          h1 = randint(20, 23);
          m1 = randint(35, 58);
          d1 = h1 * 60 + m1;
          h2 = h1 + 2;
          m2 = randint(1, m1); // pour s'assurer qu'il y a une retenue dans d2-d1
          d2 = h2 * 60 + m2;
          d = d2 - d1;
        }
        d1 = minToHoraire(d1);
        d2 = minToHoraire(d2);
        d = minToHour(d);

        if (type_de_questions[i] == 1) {
          texte = `Un train part à ${d1} et arrive à destination à ${d2}. Calculer la durée du trajet.`;
          texte_corr = `${d2} - ${d1} = ${d}`;
          texte_corr += "<br>";
          texte_corr += `Le trajet dure ${d}.`;
        }
        if (type_de_questions[i] == 2) {
          texte = `${prenomF()} monte dans le train à ${d1} pour un trajet qui doit durer ${d}. À quelle heure arrivera-t-elle ?`;
          texte_corr = `${d1} + ${d} = ${d2}`;
          texte_corr += "<br>";
          texte_corr += `Elle arrivera à ${d2}.`;
        }
        if (type_de_questions[i] == 3) {
          texte = `Un train arrive en gare à ${d2} après un trajet de ${d}. À quelle heure le voyage a-t-il commencé ?`;
          texte_corr = `${d2} - ${d} = ${d1}`;
          texte_corr += "<br>";
          texte_corr += `Le voyage a commencé à ${d1}.`;
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Calcul de durée\n2 : Calcul de l'horaire de fin\n3 : Calcul de l'horaire de début\n4 : 3 types de questions",
  ];
}

/**
 * Additions et/ou soustractions classique et/ou à trou.
 *
 * Par défaut c'est un mélange d'additions, soustractions avec et sans trou avec des nombres jusqu'à 20.
 * @Auteur Rémi Angot
 * Référence 6D12
 */
function Tables_additions_soustractions() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 20;
  this.sup2 = 6; // additions|additions à trous|soustractions|soustractions à trous|mélange sans trou|mélange avec trou
  this.titre = "Additions et de soustractions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_type_de_questions = [];
    if (this.sup2 == 1) {
      liste_type_de_questions = combinaison_listes(
        ["addition"],
        this.nb_questions
      );
    }
    if (this.sup2 == 2) {
      liste_type_de_questions = combinaison_listes(
        ["addition_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 3) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 4) {
      liste_type_de_questions = combinaison_listes(
        ["soustraction_a_trou"],
        this.nb_questions
      );
    }
    if (this.sup2 == 5) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "soustraction"],
        this.nb_questions
      );
    }
    if (this.sup2 == 6) {
      liste_type_de_questions = combinaison_listes(
        ["addition", "addition_a_trou", "soustraction", "soustraction_a_trou"],
        this.nb_questions
      );
    }
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);

      switch (liste_type_de_questions[i]) {
        case "addition":
          texte = `$${a} + ${b} = \\dotfill$`;
          texte_corr = `$${a} + ${b} = ${a + b}$`;
          break;
        case "addition_a_trou":
          texte = `$${a} + \\ldots\\ldots = ${a + b}$`;
          texte_corr = `$${a} + ${mise_en_evidence(b)} = ${a + b}$`;
          break;
        case "soustraction":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - ${b} = \\dotfill$`;
          texte_corr = `$${a} - ${b} = ${a - b}$`;
          break;
        case "soustraction_a_trou":
          if (a == b) {
            a = randint(2, this.sup, b);
          }
          if (a < b) {
            b = [a, (a = b)][0]; //échange les variables a et b
          }
          texte = `$${a} - \\ldots\\ldots = ${a - b}$`;
          texte_corr = `$${a} - ${mise_en_evidence(b)} = ${a - b}$`;
          break;
      }

      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 9999]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    6,
    "1 : Additions\n2: Additions à trous\n3: Soustractions\n4 : Soustractions à trous\n5 : Additions et soustractions \n6 : Additions et soustractions avec ou sans trous",
  ];
}

/**
 * Tables de multiplications classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence 6C10-1
 */
function Tables_de_multiplications(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = choice(["classique", "a_trous"]);
      }
      if (type_de_questions == "classique") {
        // classique
        if (choice([true, false])) {
          texte = `$ ${tex_nombre(a)} \\times ${tex_nombre(b)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombre(a * b)}$`;
        } else {
          texte = `$ ${tex_nombre(b)} \\times ${tex_nombre(a)} = \\dotfill$`;
          texte_corr = `$ ${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombre(a * b)}$`;
        }
      } else {
        // a trous
        if (tables.length > 2) {
          // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
          texte = choice([
            "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
            "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
          ]);
        } else {
          // Sinon on demande forcément le 2e facteur
          texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
        }

        texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
* Référence CM002
  */
function Tables_de_divisions(tables_par_defaut = "2-3-4-5-6-7-8-9") {
  //Diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    var type_de_questions = "a_trous";
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }
      if (type_de_questions == "classique") {
        // classique
        texte = "$ " + a * b + " \\div " + a + " = \\dotfill $";
      } else {
        // a trous
        if (choice([true, false])) {
          texte = `$ ${a * b} \\div \\ldots\\ldots = ${b}$`;
        } else {
          texte = `$ \\ldots\\ldots \\div ${a}  = ${b}$`;
        }
      }
      texte_corr = `$ ${a * b} \\div ${a} = ${b}$`;
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Tables de multiplications et de divisions classiques, à trou ou un mélange des deux.
 *
 * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut
 * @Auteur Rémi Angot
 * Référence CM003
 */
function Tables_de_multiplications_et_divisions(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier ou diviser deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.sup2 = 1; // classique|a_trous|melange
  this.titre = "Tables de multiplications et de divisions";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    let liste_type_de_questions = combinaison_listes(
      ["classique", "a_trous"],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let operation = combinaison_listes(["x", "div"], this.nb_questions); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let type_de_questions;
    for (let i = 0, a, b, texte, texte_corr; i < this.nb_questions; i++) {
      a = couples[i][0];
      b = couples[i][1];
      if (this.sup2 == 1) {
        type_de_questions = "classique";
      } else if (this.sup2 == 2) {
        type_de_questions = "a_trous";
      } else {
        type_de_questions = liste_type_de_questions[i];
      }

      if (operation[i] == "x") {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a + " \\times " + b + " = \\dotfill $";
          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        } else {
          // a trous
          if (tables.length > 2) {
            // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher
            texte = choice([
              "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $",
              "$ \\ldots\\ldots" + " \\times " + b + " = " + a * b + " $",
            ]);
          } else {
            // Sinon on demande forcément le 2e facteur
            texte = "$ " + a + " \\times \\ldots\\ldots = " + a * b + " $";
          }

          texte_corr = "$ " + a + " \\times " + b + " = " + a * b + " $";
        }
      } else {
        if (type_de_questions == "classique") {
          // classique
          texte = "$ " + a * b + " \\div " + b + " = \\dotfill $";
        } else {
          // a trous
          if (choice([true, false])) {
            texte = `$ ${a * b} \\div \\ldots\\ldots = ${a}$`;
          } else {
            texte = `$ \\ldots\\ldots \\div ${b}  = ${a}$`;
          }
        }
        texte_corr = `$ ${a * b} \\div ${b} = ${a}$`;
      }
      if (est_diaporama) {
        texte = texte.replace("= \\dotfill", "");
      }
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_numerique = [
    "Style de questions",
    3,
    "1 : Classique\n2: À trous\n3: Mélangé",
  ];
}

/**
 * Mélange équitable d'additions, de soustractions, de multiplications et de divisions
 *
 * * Niveau 1 Addition 2 chiffres + 1 chiffre, soustraction 2 chiffres - 1 chiffre, tables de 2 à 5
 * * Niveau 2 Addition 2 chiffres + 2 chiffres ne dépassant pas 100, soustraction dont le résultat est entre 11 et 19, tables de 6 à 9
 * * Niveau 3 Addition 2 chiffre + 2 chiffres dépassant 100, soustraction dont le résultat est entre 21 et 39, table de 7, 8, 11 ou 12,
 * @Auteur Rémi Angot
* Référence CM004
  */
function Quatre_operations() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Les quatre opérations";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // addition
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(11, 69);
            b = randint(11, 29);
          }
          if (this.sup == 3) {
            a = randint(11, 89);
            b = randint(110 - a, 110 - a + 50);
          }
          texte = `$${a}+${b}$`;
          texte_corr = `$${a}+${b}=${a + b}$`;
          break;
        case 2: // soustraction
          if (this.sup == 1) {
            a = randint(11, 89);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(20, 89);
            b = randint(a - 19, a - 11);
          }
          if (this.sup == 3) {
            a = randint(40, 89);
            b = randint(a - 39, a - 21);
          }
          texte = `$${a}-${b}$`;
          texte_corr = `$${a}-${b}=${a - b}$`;
          break;
        case 3: // multiplication
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a}\\times${b}$`;
          texte_corr = `$${a}\\times${b}=${a * b}$`;
          break;
        case 4: // division
          if (this.sup == 1) {
            a = randint(2, 5);
            b = randint(2, 9);
          }
          if (this.sup == 2) {
            a = randint(6, 9);
            b = randint(6, 9);
          }
          if (this.sup == 3) {
            a = choice([7, 8, 11, 12]);
            b = randint(2, 9);
          }
          texte = `$${a * b}\\div${a}$`;
          texte_corr = `$${a * b}\\div${a}=${b}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Niveau de difficulté", 3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence CM005
*/
function Ajouter9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_texte_court(
      numero_de_l_exercice,
      "Ajouter 9 revient à ajouter 10 et à soustraire 1."
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+9$`;
      texte_corr = `$${a}+9=${a + 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6N12
 */
function Multiplier_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier un entier par 10, 100, 1 000...";
  this.consigne = "Calculer";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.bouton_aide = modal_url(numero_de_l_exercice,'https://mathix.org/glisse-nombre/index.html',
      "Glisse-nombre"
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1,2,3,4,choice([5,6]),7,8,9];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_b = []
      if (this.sup==2){
        liste_de_b = combinaison_listes([10,100,1000,10000,100000],this.nb_questions)
      } else {
        liste_de_b = combinaison_listes([10,100,1000],this.nb_questions)
      }
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(1,9)
          break;
        case 2:
          a = randint(2,9)*10
          break;
        case 3:
          a = randint(2,9)*100
          break;
        case 4:
          a = randint(2,9)*1000
          break;
        case 5:
          a = randint(1,9)*100+randint(1,9)
          break;
        case 6:
          a = randint(1,9)*1000+randint(1,9)
          break;
        case 7:
          a = randint(1,9)*100 + randint(1,9)*10 + randint(1,9)
          break;
          case 8:
            a = randint(1,9)*10000+randint(1,9)*100
            break;
        case 9:
          a = randint(1,9)*10 + randint(1,9)
          break;
            
      }
      
      b = liste_de_b[i]
      if (choice([true,false])) {
        texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`
        texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombre(a*b)}$`
      } else {
        texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`
        texte_corr = `$${tex_nombre(b)}\\times${tex_nombre(a)}=${tex_nombre(a*b)}$`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',2,'1 : Multiplication par 10, 100 ou 1 000\n2 : Multiplication par 10, 100, 1 000, 10 000 ou 100 000'];
}

/**
 * Un nombre à 2 chiffres ne terminant pas par 9 - 9
 * @Auteur Rémi Angot
 * Référence CM006
*/
function Soustraire9() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 9";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(1, 9) * 10 + randint(0, 8);
      texte = `$${a}-9$`;
      texte_corr = `$${a}-9=${a - 9}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres non multiple de 10 + 11
 * @Auteur Rémi Angot
 * Référence CM007
*/
function Ajouter11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Ajouter 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(0, 9) * 10 + randint(1, 9);
      texte = `$${a}+11$`;
      texte_corr = `$${a}+11=${a + 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Un nombre à 2 chiffres -11
 * @Auteur Rémi Angot
 * Référence CM008
*/
function Soustraire11() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Soustraire 11";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 1, 1, 1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (liste_type_de_questions[i] == 1) {
        a = randint(12, 99);
      } else {
        a = randint(2, 9) * 10;
      }

      texte = `$${a}-11$`;
      texte_corr = `$${a}-11=${a - 11}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de deux nombres dont les chiffres des unités sont des compléments à 10
 * @Auteur Rémi Angot
 * Référence CM015
*/
function Somme_de_deux_nombres_maries() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 9) * 10 + u1;
      b = randint(1, 9) * 10 + u2;

      texte = `$${a}+${b}$`;
      texte_corr = `$${a}+${b}=${a + b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Somme de 3 nombres dont 2 ont des chiffres des unités compléments à 10
 * @Auteur Rémi Angot
 * Référence CM018
*/
function Somme_de_deux_nombres_maries_et_un_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Somme de deux nombres mariés et un entier";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, c, u1, u2, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      u1 = randint(1, 9);
      u2 = 10 - u1;
      a = randint(1, 4) * 10 + u1;
      b = randint(1, 4) * 10 + u2;
      c = randint(1, 100 - a - b);

      switch (liste_type_de_questions[i]) {
        case 1:
          texte = `$${a}+${b}+${c}$`;
          texte_corr = `$${a}+${b}+${c}=${a + b + c}$`;
          break;
        case 2:
          texte = `$${a}+${c}+${b}$`;
          texte_corr = `$${a}+${c}+${b}=${a + b + c}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Mettre en relation un calcul, une traduction en français, une expression, un résultat, pour les décliner dans différents exercices.
 * Exercice sur le vocabulaire : somme,différence, produit, quotient...
 * @Auteur Jean-Claude Lhote
 * Référence 6C13
 */
function Vocabulaire_et_operations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Traduire des phrases en calculs et réciproquement";
  this.consigne = "";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 4;
  this.sup2 = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let decimal;
    let expf, expn, expc, resultats;
    let type_de_questions_disponibles;
    if (this.sup < 4) type_de_questions_disponibles = [parseInt(this.sup)];
    else type_de_questions_disponibles = [1, 2, 3];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup2) decimal = 10 ** randint(1, 2);
    else decimal = 1;

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      resultats = Choisir_expression_numerique(1, decimal);
      expf = resultats[0];
      expn = resultats[1];
      expc = resultats[2];
      texte = ``;
      texte_corr = ``;
      switch (liste_type_de_questions[i]) {
        case 1:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul (il n’est pas demandé d’effectuer ce calcul) : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.`;
          break;
        case 2:
          if (expn.indexOf("ou") > 0)
            expn = expn.substring(0, expn.indexOf("ou")); // on supprime la deuxième expression fractionnaire
          texte +=
            num_alpha(i) + `Traduire le calcul par une phrase en français : `;
          texte += `${expn}`;
          expf = `l` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expn} est ${expf}.`;
          break;
        case 3:
          texte +=
            num_alpha(i) +
            `Traduire la phrase par un calcul et effectuer ce calcul : `;
          expf = `l` + expf.substring(1);
          texte += `${expf}.`;
          expf = `L` + expf.substring(1);
          texte_corr += num_alpha(i) + `${expf} s'écrit ${expn}.<br>`;
          texte_corr += `${expc}.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu_sans_numero(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    4,
    "1 : Phrase -> Calcul\n 2 : Calcul -> Phrase\n 3 : Phrase -> Calcul + résultat\n 4 : Mélange",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Décimaux", false];
}

/**
 * Un "Le compte est bon" avec des solutions "formatées" pour travailler certains incontournables du calcul mental
 *  @Auteur Jean-Claude Lhote
 * Référence CM020
 */
function Compte_Est_Bon() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Atteindre le résultat souhaité avec 6 nombres et les 4 opérations";
  this.consigne =
    "Trouve le résultat en utilisant les quatre opérations et les nombres du tirage (une seule fois).";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de calcul souhaité

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions, a, b, c, d, e, f, cible, tirage, choix;
    if (!this.sup) {
      // Si rien n'est saisi
      type_de_questions = combinaison_listes([1, 2, 3], this.nb_questions);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        type_de_questions = combinaison_listes(
          [parseInt(this.sup)],
          this.nb_questions
        );
      } else {
        type_de_questions = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < type_de_questions.length; i++)
          type_de_questions[i] = parseInt(type_de_questions[i]);
        this.nb_questions = type_de_questions.length;
      }
    }
    choix = combinaison_listes(range1(5), this.nb_questions);
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (type_de_questions[i]) {
        case 1:
          a = randint(2, 9);
          b = randint(2, 8, a);
          c = randint(1, 9, [a, b]);
          d = randint(1, 9, [a, b, c]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}+${d}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times${b}+${c}-${d}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}+${d}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 + c - d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}-10\\times${b}+${c}-${d}$`;
              break;
            default:
              cible = calcul(a * 100 + (b + c) * 10 + d);
              tirage = shuffle([100, 10, a, b, c, d]);
              texte_corr = `Le compte est bon : $${cible}=100\\times${a}+10\\times(${b}+${c})+${d}$`;
          }
          break;

        case 2:
          a = randint(3, 9);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * 100 + b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}+${c}$`;
              break;
            case 2:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}+10\\times${b}-${c}$`;
              break;
            case 3:
              cible = calcul(a * 100 - b * 10 + c);
              tirage = shuffle([50, 50, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=(50+50)\\times${a}-10\\times${b}+${c}$`;
              break;
            case 4:
              cible = calcul(a * 100 - b * 10 - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=2\\times50\\times${a}-10\\times${b}-${c}$`;
              break;
            default:
              cible = calcul(a * 100 + b * 10 - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=4\\times25\\times${a}+10\\times${b}-${c}$`;
          }
          break;
        case 3:
          a = randint(2, 5);
          b = randint(3, 8, a);
          c = randint(3, 9, [a, b]);
          switch (choix[i]) {
            case 1:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})+${c}$`;
              break;
            case 2:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([50, 2, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(50\\times2+10\\times${b})-${c}$`;
              break;
            case 3:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})+${c}$`;
              break;
            case 4:
              cible = calcul(a * (100 + b * 10) - c);
              tirage = shuffle([25, 4, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times(25\\times4+10\\times${b})-${c}$`;
              break;
            default:
              cible = calcul(a * (100 + b * 10) + c);
              tirage = shuffle([25, 75, 10, a, b, c]);
              texte_corr = `Le compte est bon : $${cible}=${a}\\times((25+75)+10\\times${b})+${c}$`;
          }
          break;
      }
      texte = `Voici le tirage : `;
      for (let i = 0; i < 5; i++) texte += `${tirage[i]} ; `;
      texte += `${tirage[5]}.<br>`;
      texte += `Et le nombre à trouver est : ${cible}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Niveaux de difficultés (1 à 3)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}


/**
 * Générateur de tirages pour un compte est bon avec en correction la solution mathador (4 opérations différentes).
 * @Auteur Jean-Claude Lhote
 * référence CM019
 */

function Le_compte_est_bonV3() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon"';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 30;
  this.sup2 = 70;
  var max_solution = 70;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression;
    let min_solution = parseInt(this.sup);
    max_solution = parseInt(this.sup2);
    if (min_solution > max_solution) {
      min_solution = max_solution;
      this.sup = this.sup2;
    }
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      solution_mathador = Trouver_solution_mathador(min_solution, max_solution);
      tirage = solution_mathador[0];
      solution = solution_mathador[1];
      expression = solution_mathador[3];

      texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
      texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
      texte_corr += `ou $${solution_mathador[4]}$.<br>`;
      texte_corr += `En effet : <br>`;
      for (let i = 0; i < 4; i++) {
        texte_corr += `$${solution_mathador[2][i]}$<br>`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Limite inférieure", max_solution];
  this.besoin_formulaire2_numerique = ["Limite supérieure", 100];
}
/**
 * @Auteur Jean-Claude Lhote
  * référence CM020
 * Dans cette version, il est possible de choisir 1,2,3,4 ou 5 nombres du tirage et de contraindre la cible entre deux valeurs
 */
function Le_compte_est_bonV4() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = 'Générateur de "Le compte est bon" version semi-aléatoire';
  this.consigne =
    "Écrire un calcul égal au nombre cible en utilisant les 5 nombres, 4 opérations différentes et éventuellement des parenthèses.";
  this.nb_questions = 1;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let solution_mathador = [];
    let tirage, solution, expression, min, max, texte, texte_corr;
    let minmax = [];
    let a, b, c, d, e;
    if (!this.sup2) {
      // Si rien n'est saisi
      min = 0;
      max = 100;
    } else {
      if (typeof this.sup2 == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        min = 0;
        max = this.sup2;
      } else {
        minmax = this.sup2.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        min = minmax[0];
        max = minmax[1];
      }
    }
    if (!this.sup) {
      // Si rien n'est saisi
      solution_mathador = Trouver_solution_mathador(min, max);
    } else {
      if (typeof this.sup == "number") {
        // Si c'est un nombre c'est qu'il y a qu'une seule grandeur
        solution_mathador = Trouver_solution_mathador(min, max, this.sup);
      } else {
        tirage = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des -
        for (let i = 0; i < tirage.length; i++) tirage[i] = parseInt(tirage[i]);
        solution_mathador = Trouver_solution_mathador(min, max, ...tirage);
      }
    }

    tirage = solution_mathador[0];
    solution = solution_mathador[1];
    expression = solution_mathador[3];

    texte = `Le tirage est le suivant : $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ <br>La cible est : $${solution}$`;
    texte_corr = `Pour le tirage $${tirage[0]}~;~${tirage[1]}~;~${tirage[2]}~;~${tirage[3]}~;~${tirage[4]}$ et pour la cible $${solution}$, la solution est : $${expression}=${solution}$ `;
    texte_corr += `ou $${solution_mathador[4]}$.<br>`;
    texte_corr += `En effet : <br>`;
    for (let i = 0; i < 4; i++) {
      texte_corr += `$${solution_mathador[2][i]}$<br>`;
    }
    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des nombres du tirage (de aucun à cinq)",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
  this.besoin_formulaire2_texte = [
    "Intervalle pour la cible (ou rien pour cible non contrainte)",
    "Minimum-Maximum (éviter de trop contraindre la cible, cela peut bloquer le programme)",
  ]; // Texte, tooltip

  // this.besoin_formulaire2_numerique = ['Limite supérieure',100];
}
/**
 * @Auteur Jean-Claude Lhote
 * @param {number} min Valeur minimum pour la solution
 * @param {number} max Valeur maximum pour la solution
 * Cette fonction produit aléatoirement un tirage de 5 nombres, une solution, un tableau contenant les calculs successifs, une chaine contenant l'expression mathador correspondante
 * @returns {array} [tirage=[a,b,c,d,e],solution (compris entre min et max),operations_successives=[string1,string2,string3,string4,string5],expression]
 * les string1 à 5 ainsi que l'expresion sont ) mettre en mode maths.
 * sert dans les exercices CM019,
 */
function Trouver_solution_mathador(
  min,
  max,
  A = 1,
  B = 4,
  C = 8,
  D = 3,
  E = 5
) {
  let eureka,
    a,
    b,
    c,
    d,
    e,
    tirage,
    nombres_restants,
    operations_restantes,
    expression_en_cours_f,
    expression_en_cours_d,
    op,
    part1_f,
    part2_f,
    part1_d,
    part2_d,
    operations_successives = [],
    solution;
  let liste_choix = [
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    6,
    6,
    6,
    6,
    7,
    7,
    8,
    8,
    8,
    8,
    9,
    9,
    9,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
  ];
  eureka = false;
  let nb_determines = arguments.length - 2;
  while (eureka == false) {
    tirage = [];

    if (nb_determines < 1) a = parseInt(choice(liste_choix));
    else a = A;
    if (nb_determines < 2)
      b = parseInt(choice(liste_choix, [13, 14, 15, 16, 17, 18, 19, 20, a]));
    else b = B;
    if (nb_determines < 3)
      c = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, a, b])
      );
    else c = C;
    if (nb_determines < 4)
      d = parseInt(
        choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20, b, c])
      );
    else d = D;
    if (nb_determines < 5)
      e = parseInt(choice(liste_choix, [12, 13, 14, 15, 16, 17, 18, 19, 20]));
    else e = E;
    tirage.push(a, b, c, d, e);
    nombres_restants = shuffle(tirage);
    operations_restantes = ["\\times", "+", "-", "\\div"];
    operations_restantes = shuffle(operations_restantes);
    expression_en_cours_f = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];
    expression_en_cours_d = [
      `${nombres_restants[0]}`,
      `${nombres_restants[1]}`,
      `${nombres_restants[2]}`,
      `${nombres_restants[3]}`,
      `${nombres_restants[4]}`,
    ];

    while (nombres_restants.length > 1) {
      b = nombres_restants.pop();
      a = nombres_restants.pop();
      part2_f = expression_en_cours_f.pop();
      part1_f = expression_en_cours_f.pop();
      part2_d = expression_en_cours_d.pop();
      part1_d = expression_en_cours_d.pop();

      op = operations_restantes.pop();
      if (op == "\\times") {
        c = a * b;
        expression_en_cours_f.push(`${part1_f}${op}${part2_f}`);
        expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
        nombres_restants.push(c);
      } else if (op == "\\div") {
        if (a % b == 0) {
          c = a / b;
          if (part1_f[0] == "\\") {
            part1_f = part1_f.substring(6, part1_f.length);
            part1_f = part1_f.substring(0, part1_f.length - 7);
          }
          if (part2_f[0] == "\\") {
            part2_f = part2_f.substring(6, part2_f.length);
            part2_f = part2_f.substring(0, part2_f.length - 7);
          }
          expression_en_cours_f.push(`\\dfrac{${part1_f}}{${part2_f}}`);
          expression_en_cours_d.push(`${part1_d}${op}${part2_d}`);
          nombres_restants.push(c);
        } else break;
      } else if (op == "-") {
        if (a > b) {
          c = a - b;
          expression_en_cours_f.push(
            `\\left(${part1_f}${op}${part2_f}\\right)`
          );
          expression_en_cours_d.push(
            `\\left(${part1_d}${op}${part2_d}\\right)`
          );
          nombres_restants.push(c);
        } else break;
      } else if (op == "+") {
        c = a + b;
        if (part2_f.substring(0, 2) == "\\l") {
          part2_f = part2_f.substring(6, part2_f.length);
          part2_f = part2_f.substring(0, part2_f.length - 7);
        }
        expression_en_cours_f.push(`\\left(${part1_f}${op}${part2_f}\\right)`);
        if (part2_d.substring(0, 2) == "\\l") {
          part2_d = part2_d.substring(6, part2_d.length);
          part2_d = part2_d.substring(0, part2_d.length - 7);
        }
        expression_en_cours_d.push(`\\left(${part1_d}${op}${part2_d}\\right)`);
        nombres_restants.push(c);
      }
      operations_successives.push(`${a}` + op + `${b}=${c}`);
    }

    if (nombres_restants.length == 1 && operations_restantes.length == 0) {
      solution = nombres_restants[0];
      if (solution >= min && solution <= max) {
        eureka = true;
        if (
          expression_en_cours_f[0][0] == "\\" &&
          expression_en_cours_f[0][1] == `l`
        ) {
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            6,
            expression_en_cours_f[0].length
          );
          expression_en_cours_f[0] = expression_en_cours_f[0].substring(
            0,
            expression_en_cours_f[0].length - 7
          );
        }
        if (
          expression_en_cours_d[0][0] == "\\" &&
          expression_en_cours_d[0][1] == `l`
        ) {
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            6,
            expression_en_cours_d[0].length
          );
          expression_en_cours_d[0] = expression_en_cours_d[0].substring(
            0,
            expression_en_cours_d[0].length - 7
          );
        }
        return [
          tirage,
          solution,
          operations_successives,
          expression_en_cours_f,
          expression_en_cours_d,
        ];
      } else operations_successives = [];
    } else operations_successives = [];
  }
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * Référence 6N10
 */

function Ecrire_nombres_entiers() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 3
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles;
    if (this.sup2==1) type_de_questions_disponibles=[1,1,1,2,2]
    else if (this.sup2==2) type_de_questions_disponibles=[1,2,2,2,3]
    else if (this.sup2==3)  type_de_questions_disponibles=[2,2,3,3,4]
    else type_de_questions_disponibles=[2,3,3,4,4]

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
      }
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(nombre)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(nombre)} : \\dotfill`
        else texte = `${nombreEnLettres(nombre)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(nombre)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Niveau', 4, '1 : Élémentaire\n2 : Facile\n3 : Moyen\n4 : Difficile']
}

/**
 * 6N10-4
 * Supprimer les zéros inutiles, séparer les classes d'un nombre entier.
 * @Auteur Jean-Claude Lhote
 */
function Ecrire_nombres_entiers_formates() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire correctement les grands nombres entiers."
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 2
  this.nouvelle_version = function (numero_de_l_exercice) {
  this.consigne=`Écrire les nombres en chiffres en supprimant les zéros inutiles et en séparant les classes.`
  this.liste_questions = []; // Liste de questions
  this.liste_corrections = []; // Liste de questions corrigées 
  function zeroSuperflus(n) {
    let nzero=randint(0,2),nombrestring=n.toString()
    for (let k=0;k<nzero;k++) nombrestring=`0`+nombrestring
    return nombrestring
  }
  for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,nombrestring, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        for (let j = 0; j < 3; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 0; j < 3; j++) {
          nombre += tranche[j] * 10 ** (j*3)
        }
        if (tranche[2]==0) nombre=0
      }
      nombrestring=zeroSuperflus(nombre)
        if (!est_diaporama) texte = `$${nombrestring}$ : \\dotfill`
        else texte =`$${nombrestring}$`
       if (!est_diaporama) texte_corr = `$${nombrestring}=${tex_nombre(nombre)}$.`
       else texte_corr = `${tex_nombre(nombre)}.`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  //this.besoin_formulaire2_numerique = ['Niveau', 3, '1 : Facile\n2 : Moyen\n3 : Difficile']
}
/**
 * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement
 * On peut fixer la classe maximale : unités, miliers, millions, milliards
 * @Auteur Jean-Claude Lhote
 * 6N23-0
 */

function Ecrire_nombres_decimal() {
  "use strict"
  Exercice.call(this)
  this.titre = "Écrire un nombre décimal en chiffres ou en lettres"
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1
  this.sup2 = 1
  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.sup == 2)
      this.consigne = "Écrire le nombre en chiffres"
    else
      this.consigne = "Écrire le nombre en lettres"
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées 
    let type_de_questions_disponibles = [parseInt(this.sup2)+1]; // <1 000, <1 000 000) 
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b,c,nombre,tranche,part_ent,part_dec,nb_dec, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
  
      nombre = 0
      tranche=[]
      while (nombre == 0) {
        tranche.splice(0)
        part_ent=0
        part_dec=0
        for (let j = 0; j < liste_type_de_questions[i]; j++) {
          a = randint(1,9)
          b=randint(1,9)
          c=randint(1,9)
          tranche.push(choice([0,100,20,80,a,a*100,a*100+b*10+c,a*100+80+b,a*10,a*100+b*10+1]))
        }
        for (let j = 1; j < liste_type_de_questions[i]; j++) {
          part_ent+= tranche[j] * 10 ** ((j-1)*3)
         // nombre += tranche[j] * 10 ** ((j-1)*3)
        }
        part_dec=tranche[0]
        nombre=calcul(part_ent+part_dec/1000)
        // if (tranche[liste_type_de_questions[i]-1]==0) nombre=0
        if (tranche[1]<2) nombre=0
        if (tranche[0]==0) nombre=0
        
      }
      if (part_dec%10!=0) nb_dec=3
      else if (part_dec%100!=0) nb_dec=2
      if (this.sup == 1) {
        if (!est_diaporama) texte = `$${tex_nombre(nombre)}$ : \\dotfill`
        else texte =`$${tex_nombre(nombre)}$`
       if (!est_diaporama) texte_corr = `$${tex_nombre(nombre)}$ : ${nombreEnLettres(nombre)}.`
       else texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}.`
      }
      else {
        if (!est_diaporama) texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : \\dotfill`
        else texte = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)}`
        if (!est_diaporama) texte_corr = `${nombreEnLettres(part_ent)} unités et ${nombreEnLettres(part_dec)} : $${tex_nombre(nombre)}$.`
        else texte_corr = `$${tex_nombre(nombre)}$.`
      }
      texte=texte.replace('et-un unités','et-une unités')
      texte_corr=texte_corr.replace('et-un unités','et-une unités')
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type d\'exercice', 2, '1 : Écrire en lettres un nombre donné en chiffres\n2 : Écrire en chiffres un nombre donné en lettres'];
  this.besoin_formulaire2_numerique = ['Classe maximum', 2, '1 : Unités\n2 : Milliers']
}

/**
 * Le nombre de dizaines, centaines et milliers étant donné, il faut écrire le nombre.
 *
 * 2 fois sur 5 il y a chevauchement entre les classes
 * @Auteur Rémi Angot
 * 6N10-1
 */
function Exercice_numeration_entier() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Écrire un nombre à partir de son nombre de dizaines, de centaines, de milliers...";
  this.consigne = "Écrire en chiffres chacun des nombres.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 2, 2],
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, rang_a, rang_b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 8) * 10 + randint(1, 5);
      b = randint(2, 8) * 10 + randint(1, 5);
      let rangs = [
        "unités",
        "dizaines",
        "centaines",
        "milliers",
        "dizaines de mille",
        "centaines de mille",
        "millions",
      ];
      rang_a = randint(0, 2);
      if (liste_type_de_questions[i] == 1) {
        rang_b = randint(rang_a + 2, 6);
      } else {
        rang_b = rang_a + 1;
      }

      texte = `$\\text{${b}  ${rangs[rang_b]} et ${a} ${rangs[rang_a]}}$`;
      texte_corr = `$${b} \\text{ ${rangs[rang_b]} et }${a} \\text{ ${
        rangs[rang_a]
      } : } ${tex_nombre(b*Math.pow(10, rang_b))} + ${a*tex_nombre(Math.pow(10, rang_a))} =${tex_nombre(
        b * Math.pow(10, rang_b) + a * Math.pow(10, rang_a)
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Des questions sur le nombre ou le chiffre de centaines, de dizaines, de dixièmes, de centièmes...
 * @Auteur Rémi Angot
 * Référence 6N10-2
 */
function Decomposition_nombre_decimal() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Décomposer un nombre décimal (nombre de..., chiffre de...)";
  this.consigne = "Compléter les phrases suivantes.";
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      1,
      2,
      choice([3, 4, 5]),
      choice([6, 7, 8]),
      choice([9, 10]),
      choice([11, 12]),
    ]; // sans chevauchement ou avec chevauchement
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let m = randint(1, 9); // le nombre sera le même pour tout l'exercice
    let c = randint(0, 9, [m]);
    let d = randint(0, 9, [m, c]);
    let u = randint(0, 9, [m, c, d]);
    let di = randint(0, 9, [m, c, d, u]);
    let ci = randint(0, 9, [m, c, d, u, di]);
    let mi = randint(1, 9, [m, c, d, u, di, ci]);
    let n =
      m.toString() +
      "" +
      c.toString() +
      d.toString() +
      u.toString() +
      "," +
      di.toString() +
      ci.toString() +
      mi;
    //calcul ne semble pas marcher avec 7 chiffres significatifs
    this.consigne = `On considère le nombre $${n}$. Compléter les phrases suivantes.`;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          texte = "La partie entière de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(m * 1000 + c * 100 + d * 10 + u)}$`;
          break;
        case 2:
          texte = "La partie décimale de ce nombre est : ";
          texte_corr =
            texte + `$${tex_nombrec(di / 10 + ci / 100 + mi / 1000)}$`;
          break;
        case 3:
          texte = "Le chiffre des dizaines de ce nombre est : ";
          texte_corr = texte + `$${d}$`;
          break;
        case 4:
          texte = "Le chiffre des centaines de ce nombre est : ";
          texte_corr = texte + `$${c}$`;
          break;
        case 5:
          texte = "Le chiffre des miliers de ce nombre est : ";
          texte_corr = texte + `$${m}$`;
          break;
        case 6:
          texte = "Le chiffre des dixièmes de ce nombre est : ";
          texte_corr = texte + `$${di}$`;
          break;
        case 7:
          texte = "Le chiffre des centièmes de ce nombre est : ";
          texte_corr = texte + `$${ci}$`;
          break;
        case 8:
          texte = "Le chiffre des millièmes de ce nombre est : ";
          texte_corr = texte + `$${mi}$`;
          break;
        case 9:
          texte = "Le nombre de dizaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(d + c * 10 + m * 100)}$`;
          break;
        case 10:
          texte = "Le nombre de centaines de ce nombre est : ";
          texte_corr = texte + `$${tex_nombrec(c + m * 10)}$`;
          break;
        case 11:
          texte = "Le nombre de dixièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(di + u * 10 + d * 100 + c * 1000 + m * 10000)}$`;
          break;
        case 12:
          texte = "Le nombre de centièmes de ce nombre est : ";
          texte_corr =
            texte +
            `$${tex_nombrec(
              ci + di * 10 + u * 100 + d * 1000 + c * 10000 + m * 100000
            )}$`;
          break;
      }

      texte_corr += ".";
      texte += "\\ldots";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * 100-...=
 * @Auteur Rémi Angot
* Référence CM012
 */
function Complement_a_100() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à 100";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(11, 89);
      texte = `$100-${a}$`;
      texte_corr = `$100-${a}=${100 - a}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Une soustraction dont le premier terme est un multiple de 10
 * @Auteur Rémi Angot
 * Référence CM013
*/
function Complement_a_une_dizaine() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Complément à une dizaine";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, 9) * 10;
      b = randint(2, a - 11);
      texte = `$${a}-${b}$`;
      texte_corr = `$${a}-${b}=${a - b}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Division d'un entier par 10, 100, 1000
 * @Auteur Rémi Angot
 * Référence CM016
*/
function Diviser_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un entier par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([randint(1, 9), randint(11, 99), randint(101, 999)]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Un entier à un 1 ou 2 chiffres, un nombre décimal avec une partie décimale à un ou 2 chiffres à diviser par 10, 100 ou 1000
 * @Auteur Rémi Angot
 * Référence CM017
*/
function Diviser_decimal_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Diviser un nombre décimal par 10, 100 ou 1000";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice([
        randint(1, 9),
        randint(11, 99),
        calcul(randint(11, 99) / 10),
        calcul(randint(101, 999) / 100),
        calcul(randint(1, 9) / 10),
      ]);
      b = choice([10, 100, 1000]);
      texte = `$${tex_nombre(a)}\\div${tex_nombre(b)}$`;
      texte_corr = `$${tex_nombre(a)}\\div${tex_nombre(b)}=${tex_nombrec(
        a / b
      )}$`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer la moitié d'un nombre pair, d'un impair inférieur à 20, d'un multiple de 200, d'un nombre de la forme a00 avec a impair, d'un nombre de la forme
 *  a,b avec a et b pairs ou 1xx avec xx un nombre pair
 * @Auteur Rémi Angot
 * Référence CM009
*/
function Moitie() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Moitié";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(6);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 2
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 2: // Impair inférieur à 20
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${a * 2 + 1}$`;
          texte_corr = `$\\text{La moitié de }${
            a * 2 + 1
          } \\text{ est } ${tex_nombrec(a + 5 / 10)}$`;
          break;
        case 3: // Table de 200
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre(a * 2 * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            a * 2 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // a00 avec a impair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombre((a * 2 + 1) * 100)}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombre(
            (a * 2 + 1) * 100
          )} \\text{ est } ${tex_nombre(a * 100 + 50)}$`;
          break;
        case 5: // a,b avec a et b pairs
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )}$`;
          texte_corr = `$\\text{La moitié de }${tex_nombrec(
            a * 2 + (b * 2) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
        case 6: // 1xx avec xx un nombre pair
          a = randint(2, 9);
          texte = `$\\text{La moitié de }${100 + a * 2}$`;
          texte_corr = `$\\text{La moitié de }${100 + a * 2} \\text{ est } ${
            50 + a
          }$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le tiers d'un multiple de 3, d'un multiple de 300, d'un multiple de 30 ou d'un nombre a,b avec a et b multiples de 3
 * @Auteur Rémi Angot
* Référence CM010
 */
function Tiers() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tiers";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 3
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
        case 2: // Table de 300
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 3: // Table de 30
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombre(a * 3 * 10)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombre(
            a * 3 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 4: // a,b avec a et b divisibles par 3
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le tiers de }${tex_nombrec(a * 3 + (b * 3) / 100)}$`;
          texte_corr = `$\\text{Le tiers de }${tex_nombrec(
            a * 3 + (b * 3) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le quart d'un multiple de 4, d'un impair, d'un multiple de 400, d'un multiple de 40, d'un nombre a,b avec a et b multiples de 4
 * @Auteur Rémi Angot
 * Référence CM011
*/
function Quart() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Quart";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(5);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Table de 4
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${a * 4}$`;
          texte_corr = `$\\text{Le quart de }${a * 4} \\text{ est } ${a}$`;
          break;
        case 2: // Impair
          a = randint(2, 9);
          b = choice([1, 2, 3]);
          texte = `$\\text{Le quart de }${a * 4 + b}$`;
          texte_corr = `$\\text{Le quart de }${
            a * 4 + b
          } \\text{ est } ${tex_nombrec(a + b / 4)}$`;
          break;
        case 3: // Table de 400
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 100
          )} \\text{ est } ${tex_nombre(a * 100)}$`;
          break;
        case 4: // Table de 40
          a = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombre(a * 4 * 10)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombre(
            a * 4 * 10
          )} \\text{ est } ${tex_nombre(a * 10)}$`;
          break;
        case 5: // a,b avec a et b divisibles par 4
          a = randint(2, 9);
          b = randint(2, 9);
          texte = `$\\text{Le quart de }${tex_nombrec(a * 4 + (b * 4) / 100)}$`;
          texte_corr = `$\\text{Le quart de }${tex_nombrec(
            a * 4 + (b * 4) / 100
          )} \\text{ est } ${tex_nombrec(a + b / 100)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Calculer le double ou le triple d'un nombre, calculer la moitié d'un nombre pair ou le tiers d'un multiple de 3
 * @Auteur Rémi Angot
* Référence CM014
 */
function Double_moitie_tiers_triple() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Double, moitié, tiers, triple";
  this.consigne = "Calculer";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 1; // niveau de difficulté

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = range1(4);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, a, b, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // Double
          a = randint(2, 9);
          texte = `$\\text{Le double de }${a}$`;
          texte_corr = `$\\text{Le double de }${a} \\text{ est } ${a * 2}$`;
          break;
        case 2: // Moitié
          a = randint(2, 9) * 2;
          texte = `$\\text{La moitié de }${a * 2}$`;
          texte_corr = `$\\text{La moitié de }${a * 2} \\text{ est } ${a}$`;
          break;
        case 3: // Triple
          a = randint(2, 9);
          texte = `$\\text{Le triple de }${a}$`;
          texte_corr = `$\\text{Le triple de }${a} \\text{ est } ${a * 3}$`;
          break;
        case 4: // Tiers
          a = randint(2, 9);
          texte = `$\\text{Le tiers de }${a * 3}$`;
          texte_corr = `$\\text{Le tiers de }${a * 3} \\text{ est } ${a}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Les 2 facteurs peuvent terminer par aucun, 1, 2 ou 3 zéros
 * @Auteur Rémi Angot
* Référence 6C10-2
 */
function Exercice_tables_de_multiplications_et_multiples_de_10(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et multiples de 10";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, texte, texte_corr, melange;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      if (a > 1) {
        k1 = choice([1, 10, 100, 1000]);
      } else {
        k1 = choice([10, 100, 1000]);
      }
      k2 = choice([1, 10, 100, 1000]);
      a = k1 * a;
      b = k2 * b;
      melange = randint(0, 1);
      if (melange == 1) {
        // échange a et b pour que les multiplications ne soient pas toujours dans le même ordre (surtout lorsque tables n'a qu'un seul élément)
        let c = a;
        a = b;
        b = c;
      }

      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a * b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Multiplier deux nombres décimaux
 * @Auteur Rémi Angot
 * Référence 6C10-3
 */
function Exercice_tables_de_multiplications_et_decimaux(
  tables_par_defaut = "2-3-4-5-6-7-8-9"
) {
  //Multiplier deux nombres
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = tables_par_defaut;
  this.titre = "Tables de multiplications et nombres décimaux";
  this.consigne = "Calculer";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (!this.sup) {
      // Si aucune table n'est saisie
      this.sup = "2-3-4-5-6-7-8-9";
    }
    let tables = [];
    if (typeof this.sup == "number") {
      // Si c'est un nombre c'est qu'il y a qu'une seule table
      tables[0] = this.sup;
    } else {
      tables = this.sup.split("-"); // Sinon on créé un tableau à partir des valeurs séparées par des ;
    }
    let couples = creer_couples(
      tables,
      [2, 3, 4, 5, 6, 7, 8, 9, 10],
      this.nb_questions
    ); //Liste tous les couples possibles (2,3)≠(3,2)
    for (
      let i = 0, a, b, k1, k2, couple, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      a = couples[i][0];
      b = couples[i][1];
      couple = choice([
        [1, 10],
        [1, 100],
        [1, 1000],
        [10, 100],
        [10, 1000],
        [100, 100],
        [100, 1000],
      ]);
      k1 = couple[0];
      k2 = couple[1];
      a = Algebrite.eval(a / k1);
      b = Algebrite.eval(b / k2);
      if (a == 1) {
        a = 0.01;
      }
      if (b == 1) {
        b = 0.1;
      }
      texte =
        "$ " + tex_nombre(a) + " \\times " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " \\times " +
        tex_nombre(b) +
        " = " +
        tex_nombre(Algebrite.eval(a * b)) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_texte = [
    "Choix des tables",
    "Nombres séparés par des tirets",
  ]; // Texte, tooltip
}

/**
 * Additionner deux entiers
 * @Auteur Rémi Angot
 * Référence 6C10-4
 */
function Exercice_tables_d_additions(max = 20) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Addition de deux entiers";
  this.consigne = "Calculer";
  this.sup = max; // Le paramètre accessible à l'utilisateur sera la valeur maximale
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = randint(2, this.sup);
      b = randint(2, this.sup);
      texte = "$ " + tex_nombre(a) + " + " + tex_nombre(b) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_nombre(a) +
        " + " +
        tex_nombre(b) +
        " = " +
        tex_nombre(a + b) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Simplifier une fraction, le facteur commun est inférieur à une valeur donnée en paramètre qui est 11 par défaut
 * @Auteur Rémi Angot
 *  5N13
 */
function Exercice_fractions_simplifier(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = max; // Correspond au facteur commun
  this.titre = "Simplification de fractions";
  this.consigne = "Simplifier les fractions suivantes.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    for (
      let i = 0, fraction, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      fraction = choice(liste_fractions); //
      a = fraction[0];
      b = fraction[1];
      k = randint(2, this.sup);
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même réponse
      texte =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction("\\phantom{00000000000000}", "") +
        " = " +
        tex_fraction("\\phantom{0000}", "") +
        " $";
      texte_corr =
        "$ " +
        tex_fraction(k * a, k * b) +
        " = " +
        tex_fraction(k + " \\times " + a, k + " \\times " + b) +
        " = " +
        tex_fraction(a, b) +
        " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
  this.besoin_formulaire_numerique = [
    "Valeur maximale du facteur commun",
    99999,
  ];
}

/**
 * Écrire une fraction avec un nouveau dénominateur qui est un multiple de son dénominateur (ce multiple est inférieur à une valeur maximale de 11 par défaut)
 * @Auteur Rémi Angot
 * 5N13-2 et 6N41
 */
function Egalites_entre_fractions() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 11; // Correspond au facteur commun
  this.titre = "Égalités entre fractions simples";
  this.consigne = "Compléter les égalités.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux
    let liste_type_de_questions = combinaison_listes(
      [1, 1, 1, 1, 2],
      this.nb_questions
    );
    for (
      let i = 0, fraction, a, b, c, d, k, texte, texte_corr, cpt = 0;
      i < this.nb_questions;
      i++
    ) {
      if (liste_type_de_questions[i] == 1) {
        // égalité entre 2 fractions
        fraction = choice(liste_fractions); //
        a = fraction[0];
        b = fraction[1];
        k = randint(2, this.sup);
        c = k * a;
        d = k * b;
        enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même fraction de départ
        texte = `$${tex_fraction(a, b)} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${tex_fraction(a, b)} = ${tex_fraction(
          a + mise_en_evidence("\\times" + k),
          b + mise_en_evidence("\\times" + k)
        )} = ${tex_fraction(c, d)}$`;
      } else {
        //écrire un entier sous la forme d'une fraction
        a = randint(1, 9);
        d = randint(2, 9);
        c = a * d;
        texte = `$${a} = ${tex_fraction(
          "\\phantom{00000000000000}",
          "\\phantom{00000000000000}"
        )} = ${tex_fraction("\\phantom{0000}", d)}$`;
        texte_corr = `$${a} = \\dfrac{${a}}{1} =${tex_fraction(
          a + mise_en_evidence("\\times" + d),
          "1" + mise_en_evidence("\\times" + d)
        )} = ${tex_fraction(c, d)}$`;
      }

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale du facteur commun", 99];
}

/**
 * Un nombre est-il divisible par :
 *
 * * 2, 5, 10 ?
 * * 3, 9 ?
 * * 2, 3, 5, 9, 10 ?
 * * 2, 3, 5, 9, 10  et un autre nombre qui peut être 7, 13, 17, ou 19 ?
 * @Auteur Rémi Angot
 * 6N43
 */
function Criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne = "Répondre aux questions suivantes en justifiant.";
  this.spacing = 2;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_des_exercices_disponibles;
    if (this.sup == 1) {
      liste_des_exercices_disponibles = [2, 5, 10];
    }
    if (this.sup == 2) {
      liste_des_exercices_disponibles = [3, 9];
    }
    if (this.sup == 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10];
    }
    if (this.sup > 3) {
      liste_des_exercices_disponibles = [2, 3, 5, 9, 10, "autre"];
    }
    let liste_type_de_questions = combinaison_listes(
      liste_des_exercices_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, fraction, n, u, texte, texte_corr, somme_string, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 2:
          u = randint(1, 2);
          n = randint(10, 999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $2$ ?`;
          if (u % 2 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $2$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $2$.`;
          }
          break;

        case 3:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $3$ ?`;
          if (calcul(somme_string) % 3 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              calcul(somme_string) / 3
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $3$ donc $${tex_nombre(
              n
            )}$ est divisible par $3$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=3\\times${
              (calcul(somme_string) - (calcul(somme_string) % 3)) / 3
            }+${calcul(somme_string) % 3}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $3$.`;
          }
          break;

        case 9:
          n = choice([randint(100, 999), randint(10000, 99999)]).toString(); // transformé en string pour avoir accès aux chiffres
          somme_string = somme_des_chiffre(n);
          texte = `$${tex_nombre(n)}$ est-il divisible par $9$ ?`;
          if (calcul(somme_string) % 9 == 0) {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              calcul(somme_string) / 9
            }$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ est divisible par $9$ donc $${tex_nombre(
              n
            )}$ est divisible par $9$.`;
          } else {
            texte_corr = `$${somme_string}=${calcul(somme_string)}=9\\times${
              (calcul(somme_string) - (calcul(somme_string) % 9)) / 9
            }+${calcul(somme_string) % 9}$<br>`;
            texte_corr += `La somme des chiffres de $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $9$.`;
          }
          break;

        case 5:
          u = choice([randint(1, 9, [0, 5]), randint(1, 9, [0, 5]), 5, 0]); // 1 fois sur 2 ça sera divisible par 5
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $5$ ?`;
          if (u % 5 == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $5$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $5$.`;
          }
          break;

        case 10:
          u = choice([randint(1, 9), 0]); // 1 fois sur 2 ça sera divisible par 10
          n = randint(10, 9999) * 10 + u;
          texte = `$${tex_nombre(n)}$ est-il divisible par $10$ ?`;
          if (u == 0) {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(n)}$ est divisible par $10$.`;
          } else {
            texte_corr = `Le chiffre des unités de $${tex_nombre(
              n
            )}$ est $${u}$ donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $10$.`;
          }
          break;

        case "autre":
          n = randint(100, 999);
          u = choice([7, 7, 7, 7, 13, 17, 19]);
          if (u == 7) {
            n = choice(
              [randint(10, 99) * 10 + 7],
              7 * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par 7, un divisible par 7, un au hasard
          } else {
            n = choice(
              [randint(10, 99) * 100 + u],
              u * randint(11, 99),
              randint(100, 999)
            ); //un nombre qui se termine par u, un divisible par u, un au hasard
          }
          texte = `$${tex_nombre(n)}$ est-il divisible par $${u}$ ?`;
          texte_corr = `On ne connait pas de critère de divisibilité par $${u}$, on calcule donc la division euclidienne de $${tex_nombre(
            n
          )}$ par $${u}$.<br>`;
          if (n % u == 0) {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${tex_nombre(
              n / u
            )}$<br>`;
            texte_corr += `Le reste de la division euclidienne est nul donc $${tex_nombre(
              n
            )}$ est divisible par $${u}$.`;
          } else {
            texte_corr += `$${tex_nombre(n)}=${u}\\times${(n - (n % u)) / u}+${
              n % u
            }$<br>`;
            texte_corr += `Le reste de la division euclidienne n'est pas nul donc $${tex_nombre(
              n
            )}$ n'est pas divisible par $${u}$.`;
          }

          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Choix des questions",
    4,
    "1 : Critères de divisibilité par 2, 5, 10\n\
2 : Critères de divisibilité par 3,9\n3 : Critères de divisibilité par 2, 3, 5, 9, 10\n4 : Avec ou sans critère de divisibilité",
  ];
}

/**
 * Un nombre est-il divisible par 2, 3, 5, 9 ?
 *
 *
 * @Auteur Rémi Angot
 * 6N43-2
 */
function Tableau_criteres_de_divisibilite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = 4; // Correspond au facteur commun
  this.titre = "Critères de divisibilité";
  this.consigne =
    "Compléter le tableau en mettant oui ou non dans chaque case.";
  this.spacing = 1;
  this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_des_nombres_possibles = [
      "div2",
      "div3",
      "div39",
      "div5",
      "div25",
      "div23",
      "div239",
      "div35",
      "div2359",
      "divrien",
    ];
    // divisible par 2, divisible par 3, divisible par 3 et 9...

    let liste_des_types_de_nombres = combinaison_listes(
      liste_des_nombres_possibles,
      this.nb_questions
    );
    let tableau_de_nombres = [];
    let tableau_de_nombres_avec_correction = [];
    let liste_de_facteurs = [
      7,
      11,
      13,
      17,
      19,
      23,
      29,
      31,
      37,
      41,
      43,
      47,
      53,
      59,
      61,
      67,
      71,
      73,
      79,
      83,
      89,
      97,
      101,
      103,
      107,
      109,
      113,
      127,
      131,
      137,
      139,
      149,
      151,
      157,
      163,
      167,
      173,
      179,
      181,
      191,
      193,
      197,
      199,
      211,
      223,
      227,
      229,
      233,
      239,
      241,
      251,
      257,
      263,
      269,
      271,
      277,
      281,
      283,
      293,
    ];
    for (let i = 0; i < this.nb_questions; i++) {
      switch (liste_des_types_de_nombres[i]) {
        case "div2":
          tableau_de_nombres[i] = 2 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div3":
          tableau_de_nombres[i] = 3 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div39":
          tableau_de_nombres[i] = 9 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div5":
          tableau_de_nombres[i] = 5 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div25":
          tableau_de_nombres[i] = 10 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div23":
          tableau_de_nombres[i] = 6 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} \\\\`;
          break;
        case "div239":
          tableau_de_nombres[i] = 18 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} & \\color{blue} \\text{oui} \\\\`;
          break;
        case "div35":
          tableau_de_nombres[i] = 15 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\color{blue} \\text{oui} & \\color{blue} \\text{oui} & \\text{non} \\\\`;
          break;
        case "div2359":
          tableau_de_nombres[i] = 90 * choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\color{blue} \\text{oui} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
        case "divrien":
          tableau_de_nombres[i] = choice(liste_de_facteurs);
          tableau_de_nombres_avec_correction[i] = `${tex_nombre(
            tableau_de_nombres[i]
          )} & \\text{non} & \\text{non} & \\text{non} & \\text{non} \\\\`;
          break;
      }
    }

    if (sortie_html) {
      texte = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }

    texte += `\\hline\n`;
    texte += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte += `${tex_nombre(tableau_de_nombres[i])} & & & & \\\\\n`;
      texte += `\\hline\n`;
    }

    texte += `\\end{array}\n$`;

    if (sortie_html) {
      texte_corr = `$\\def\\arraystretch{2.5}\\begin{array}{|l|c|c|c|c|}\n`;
    } else {
      texte_corr = `$\\begin{array}{|l|c|c|c|c|}\n`;
    }
    texte_corr += `\\hline\n`;
    texte_corr += `\\text{... est divisible} & \\text{par }2 & \\text{par }3 & \\text{par }5 & \\text{par }9\\\\\n`;
    texte_corr += `\\hline\n`;
    for (var i = 0; i < this.nb_questions; i++) {
      texte_corr += tableau_de_nombres_avec_correction[i];
      texte_corr += `\\hline\n`;
    }

    texte_corr += `\\end{array}$\n`;

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Exercice sur la notion de proportionnalité (ou pas)
 * @Auteur Jean-Claude Lhote
 * référence 6P10
 */
function Proportionnalite_pas_proportionnalite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Reconnaître une situation de proportionnalité";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1.4;
  sortie_html ? this.spacing_corr = 1.5 : this.spacing_corr = 1;
  this.nb_questions = 5;
  this.nb_cols_corr = 1;
  this.nb_cols = 1;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_choix_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_choix = combinaison_listes(
      liste_choix_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    let tirages = [[]];
    let index3 = [];
    let villes = ["Moscou", "Berlin", "Paris", "Bruxelles", "Rome", "Belgrade"];
    let verbes = [
      "double",
      "triple",
      "quadruple",
      "est multiplié par 5",
      "est multiplié par 6",
    ];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "canetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];

    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        choix,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_choix[i]) {
        case 1:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle  repart avec ${y} ${objet} pour $${tex_prix(
            somme
          )}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombre(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€ $=${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€.<br>`;
          texte_corr += `A l'aide de ces données, on constate que le prix des ${objet} et leur quantité sont tous les deux multipliés par le même nombre, donc ces deux grandeurs sont proportionnelles.<br>`;
          break;
        case 2:
          index1 = liste_index[i];
          prenoms = [prenomF(), prenomM()];
          index2 = randint(0, liste_de_choses[index1].length - 1);
          objet = liste_de_choses[index1][index2];
          pu =
            liste_de_prix_unit[index1][index2] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          y = randint(2, 5);
          somme = calcul(y * pu, 2);
          pu -= 0.1;
          p = y * randint(2, 5);
          z = calcul(p * pu, 2);
          texte = `${prenoms[0]} achète ${liste_de_lieux[index1]} des ${objet}. `;
          texte += `Elle a obtenu ${y} ${objet} pour $${tex_prix(somme)}$€. ${
            prenoms[1]
          } achète quant à lui, au même endroit ${p} ${objet} pour $${tex_prix(
            z
          )}$€.<br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quantité achetée  ?<br>`;
          texte_corr = `${prenoms[0]} dépense $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>`;
          texte_corr = `${prenoms[1]} a acheté  $${mise_en_evidence(
            tex_nombrec(p / y)
          )}$ fois la quantité des ${objet} achetée par ${
            prenoms[0]
          } pour $${mise_en_evidence(
            tex_prix(somme),
            "blue"
          )}$€.<br>Il a payé $${tex_prix(z)}$€.<br>Mais $${mise_en_evidence(
            tex_nombrec(p / y)
          )}\\times${mise_en_evidence(tex_prix(somme), "blue")}$€ $=${tex_prix(
            calcul((p * somme) / y)
          )}$€.<br>`;
          texte_corr += `À l'aide de ces données, on constate que le prix unitaire des ${objet} n'est pas le même pour ${prenoms[0]} qui en a acheté $${y}$ que pour ${prenoms[1]} qui en a acheté ${p}, donc ces deux grandeurs ne sont pas proportionnelles.<br>`;
          break;
        case 3:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = randint(5, 20, x) * 100;
          x = x * 100;
          n = arrondi(calcul((x / 60) * (1 + randint(0, 2) * 0.2)), 0);
          p = arrondi(calcul((y / 60) * (1 + randint(0, 2) * 0.2)), 0);
          index1 = calcul(x / n); //vitesse fille
          index2 = calcul(y / p); //vitesse garçon

          texte = `${prenoms[0]} habite à $${tex_nombre(x)}$ m du collège. Elle met ${n} minutes pour s'y rendre depuis chez elle.<br>`;
          texte += `${prenoms[1]}, lui, habite à $${tex_nombre(y)}$ m du collège. Il met ${p} minutes pour s'y rendre depuis chez lui.<br>`;
          texte += `Le temps mis pour venir au collège est-il proportionnel à la distance du foyer au collège ?<br>`;
          texte_corr = `${prenoms[0]} parcourt chaque minute environ $${tex_nombrec(arrondi(index1, 1))}$ m.<br>`;
          texte_corr += `${
            prenoms[1]
          } parcourt chaque minute environ $${tex_nombrec(arrondi(index2, 1))}$ m.<br>`;
          if (index1 == index2)
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue sont proportionnelles (si l'on compare leur vitesse moyenne)`;
          else
            texte_corr += `Pour ces deux élèves le temps mis et la distance parcourue ne sont pas proportionnelles (si l'on compare leur vitesse moyenne).<br>`;
          break;
        case 4:
          prenoms = [prenomF(), prenomM()];
          x = randint(5, 20);
          y = x + randint(25, 35);
          texte = `${prenoms[0]} vient d'avoir ${x} ans cette année. Son père ${prenoms[1]} vient de fêter  son ${y}ème anniversaire.<br>`;
          texte += `L'âge de son père est-il proportionnel à l'âge de ${prenoms[0]} ?<br>`;
          texte_corr = `Aujourd'hui la différence d'âge entre ${
            prenoms[0]
          } et ${prenoms[1]} est de ${y - x} ans.<br>`;
          texte_corr += `Dans ${x} années, ${prenoms[0]} aura ${
            2 * x
          } ans, c'est à dire le double d'aujourd'hui.<br>`;
          texte_corr += `Son père ${prenoms[1]} aura ${
            x + y
          } ans cette année-là.<br>Quand l'âge de ${
            prenoms[0]
          } double, l'âge de ${prenoms[1]} ne double pas, donc l'âge de ${
            prenoms[0]
          } et l'âge de son père ne sont pas propotionnels.<br>`;
          break;
        case 5:
          index1 = randint(0, 5);
          index2 = randint(0, 4);
          texte = `Une épidémie se répand dans la ville de ${villes[index1]}.<br>`;
          texte += `Le nombre de malades ${verbes[index2]} tous les ${
            index2 + 2
          } jours.<br>`;
          texte += `Le nombre de malades est-il proportionnel au nombre de jours passés depuis le début de l'épidémie ?<br>`;
          texte_corr = `Admettons qu'il y ait 10 malades le premier jour. Le ${
            1 + 2 + index2
          }ème jour il y aura $10 \\times ${index2 + 2} = ${
            10 * (index2 + 2)
          }$ malades.<br>`;
          texte_corr += `Entre le premier jour et le ${
            3 + index2
          }ème jour, le nombre de malades est multiplié par ${
            index2 + 2
          } mais le nombre de jours est multiplié par ${3 + index2}.<br>`;
          texte_corr += `Donc le nombre de malades n'est pas proportionnel au nombre de jours passés.<br>`;
          break;
        case 6:
          prenoms = [prenomF(), prenomM()];
          index1 = randint(0, 5);
          objet = liste_de_choses[4][index1];
          index2 = randint(0, 4);
          pu =
            liste_de_prix_unit[4][index1] *
            (1 + randint(1, 2) * 0.2 * randint(-1, 1));
          n = randint(2, 6);
          p = randint(0, 3);
          tirages[0] = [n, n * pu];
          tirages[1] = [n + 1, (n + 1) * pu];
          tirages[2] = [2 * n + 1, (2 * n + 1) * pu];
          tirages[3] = [3 * n + 3, (3 * n + 3) * pu];
          met = choice([true, false]);
          if (!met) tirages[p][1] -= 0.1;
          texte = `${prenoms[1]} relève les prix des ${objet} sur un catalogue par correspondance en fonction de la quantité saisie dans le panier<br>`;
          texte += `Il note les prix dans le tableau suivant :<br> <br>`;
          texte += `$\\def\\arraystretch{1.5}\\begin{array}{|c`; // construction du tableau des effectifs en un seul morceau
          for (let j = 0; j <= tirages.length; j++) texte += `|c`;
          texte += `|}\\hline  \\text{${objet}}`;
          for (let j = 0; j < tirages.length; j++) texte += `&${tirages[j][0]}`;
          texte += `\\\\\\hline \\text{Prix (en €})`;
          for (let j = 0; j < tirages.length; j++)
            texte += `&${tex_prix(arrondi(tirages[j][1], 2))}`;
          texte += `\\\\\\hline\\end{array}$<br> <br>`;
          texte += `Le prix des ${objet} est-il proportionnel à la quatité achetée ?<br>`;
          texte_corr = `Il faut calculer le prix unitaire des ${objet} dans chaque cas de figure :<br><br>`;
          if (met) index3 = range(3);
          else index3 = range(3, [p]);
          texte_corr += `$`;
          for (let j = 0; j < index3.length; j++) {
            texte_corr += `\\dfrac{${tex_prix(
              arrondi(tirages[index3[j]][1], 2)
            )}}{${tirages[index3[j]][0]}}=`;
          }
          texte_corr += `${tex_prix(pu)}$<br><br>`;
          if (!met) {
            texte_corr += `Mais $\\dfrac{${tex_prix(
              arrondi(tirages[p][1], 2)
            )}}{${tirages[p][0]}}=${tex_prix(
              arrondi(calcul(tirages[p][1] / tirages[p][0]), 2)
            )}$€/${objet.substring(0, objet.length - 1)}<br>`;
            texte_corr += `Le prix des ${objet} n'est pas proportionnel à leur nombre.<br>`;
          } else {
            texte_corr += `Le prix des ${objet} est bien proportionnel à leur nombre.<br>`;
          }
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * On donne une relation de proportionnalité du type n objets coûtent x€ et on demande le prix de y objets
 * et le nombre d'objets qu'on peut acheter avec z€.
 * @Auteur Jean-Claude Lhote
 * référence 6P11
*/
function Proportionnalite_par_linearite() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Résoudre des problèmes de proportionnalité en utilisant la linéarité simple";
  this.consigne = "Répondre aux questions posées en justifiant";
  sortie_html ? (this.spacing = 2) : (this.spacing = 1);
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1);
  this.nb_questions = 5;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_index_disponibles = [0, 1, 2, 3, 4];
    let liste_index = combinaison_listes(
      liste_index_disponibles,
      this.nb_questions
    );
    let liste_de_lieux = [
      "dans un magasin de bricolage",
      "dans une animalerie",
      "au supermarché local",
      "à l'épicerie",
      "dans la boutique du musée",
    ];
    let liste_de_choses = [[]];
    let liste_de_prix_unit = [[]];
    liste_de_choses[0] = [
      "articles",
      "outils",
      "accessoires",
      "pièces d'outillage",
      "pinceaux",
      "ampoules",
      "tournevis",
      "spatules",
      "raccords de tuyaux",
    ];
    liste_de_choses[1] = [
      "poissons rouges",
      "cannetons",
      "perruches",
      "phasmes",
      "colliers anti-puces",
      "souris",
      "lapereaux",
      "paquets de graines",
    ];
    liste_de_choses[2] = [
      "sets de tables",
      "verres",
      "assiettes",
      "os à macher",
      "dosettes de café",
      "packs de lait",
      "paquets de pâtes",
    ];
    liste_de_choses[3] = [
      "mangues",
      "ananas",
      "fruits de la passion",
      "melons",
      "paquets de madeleines de Commercy",
      "bergamottes",
      "bredeles",
      "pots de cancoillotte",
    ];
    liste_de_choses[4] = [
      "cartes",
      "livres",
      "gravures",
      "puzzles",
      "maquettes",
      "roches",
      "jeux de société",
    ];
    liste_de_prix_unit[0] = [5, 4, 1.25, 3, 0.5, 1.5, 2, 6, 4.5];
    liste_de_prix_unit[1] = [1.5, 7, 20, 2.5, 25, 2, 15, 8];
    liste_de_prix_unit[2] = [1.25, 1.5, 2, 0.5, 5, 4.5, 3];
    liste_de_prix_unit[3] = [2, 2.5, 1.25, 1.5, 4, 7, 12, 3];
    liste_de_prix_unit[4] = [0.5, 5, 7, 13.5, 10, 15, 20];
    for (
      let i = 0,
        x,
        y,
        z,
        pu,
        n,
        p,
        somme,
        prenoms,
        index1,
        index2,
        objet,
        met,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      index1 = liste_index[i];
      prenoms = [prenomF(), prenomM()];
      index2 = randint(0, liste_de_choses[index1].length - 1);
      objet = liste_de_choses[index1][index2];
      pu =
        liste_de_prix_unit[index1][index2] *
        (1 + randint(1, 2) * 0.2 * randint(-1, 1));
      n = randint(3, 6);
      y = n * randint(2, 5);
      x = calcul(n * pu, 2);
      somme = calcul(y * pu, 2);
      met = false;
      while (met == false) {
        p = n * randint(2, 5);
        if (p != y) met = true;
      }
      z = calcul(p * pu, 2);

      texte = `${prenoms[0]} a repéré ${liste_de_lieux[index1]} des ${objet} qui l\'intéressent.<br> `;
      texte += `Elle lit que ${n} ${objet} coûtent ${tex_prix(x)} €. `;
      texte += `Elle veut en acheter ${y}.<br> Combien va-t-elle dépenser ?<br>`;
      texte_corr = `${y} ${objet}, c'est ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}.<br> Si ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coûtent ${tex_prix(x)} €, alors ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${texte_en_couleur(
        n,
        "blue"
      )} ${objet} coutent ${texte_en_couleur(
        tex_nombrec(y / n)
      )} fois ${tex_prix(x)} €.<br>`;
      texte_corr += `Donc ${prenoms[0]} dépensera ${texte_en_couleur(
        tex_nombrec(y / n)
      )} $\\times$ ${tex_prix(x)} € = ${tex_prix(somme)} €.<br>`;
      texte += `${
        prenoms[1]
      } veut lui aussi acheter ces ${objet}. Il dispose de ${tex_prix(
        z
      )} €.<br> Combien peut-il en acheter ?<br>`;
      texte_corr += `${tex_prix(z)} €, c'est ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €.<br> Si avec ${tex_prix(
        x
      )} € on peut acheter ${texte_en_couleur(
        n,
        "blue"
      )} ${objet}, alors avec ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${tex_prix(x)} €, on peut acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} fois ${texte_en_couleur(n, "blue")} ${objet}.<br>`;
      texte_corr += `Donc ${prenoms[1]} pourra acheter ${texte_en_couleur(
        tex_nombrec(z / x)
      )} $\\times$ ${texte_en_couleur(n, "blue")} = ${p} ${objet}.<br>`;
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.
 * @Auteur Rémi Angot
 * 6N20-2
 */
function Exercice_fractions_differentes_ecritures() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1) puis donner l'écriture décimale.";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1 puis donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, cpt = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions && cpt < 50;

    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " =  $";
      texte_corr =
        "$ " +
        tex_fraction(a, b) +
        " = " +
        n +
        "+" +
        tex_fraction(c, b) +
        " = " +
        ed +
        " $";

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}

/**
 * @Auteur Rémi Angot
 * 6N20
 */
function Exercice_fractions_decomposer() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Décomposer une fraction (partie entière + fraction inférieure à 1).";
  this.consigne =
    "Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1.";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.sup = false; // Donner l'écriture décimale

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 5, ",2"],
      [2, 5, ",4"],
      [3, 5, ",6"],
      [4, 5, ",8"],
      [1, 8, ",125"],
      [3, 8, ",375"],
      [1, 10, ",1"],
      [3, 10, ",3"],
      [7, 10, ",7"],
      [9, 10, ",9"],
    ]; // Fractions irréductibles avec une écriture décimale exacte
    liste_fractions1 = [
      [1, 2, ",5"],
      [1, 4, ",25"],
      [3, 4, ",75"],
      [1, 8, ",125"],
    ];
    liste_fractions1.push(
      choice([
        [1, 10, ",1"],
        [2, 10, ",2"],
        [3, 10, ",3"],
        [7, 10, ",7"],
        [9, 10, ",9"],
      ])
    );
    liste_fractions1.push(
      choice([
        [1, 5, ",2"],
        [2, 5, ",4"],
        [3, 5, ",6"],
        [4, 5, ",8"],
      ])
    ); // liste_fractions pour les 6 premières questions
    for (
      let i = 0, fraction, a, b, c, n, texte, texte_corr;
      i < this.nb_questions;
      i++
    ) {
      if (i < 6) {
        fraction = choice(liste_fractions1);
        enleve_element(liste_fractions1, fraction);
      } else {
        fraction = choice(liste_fractions);
      }
      //
      c = fraction[0];
      b = fraction[1];
      n = randint(1, 4);
      a = n * b + c;
      ed = n + fraction[2];
      enleve_element(liste_fractions, fraction); // Il n'y aura pas 2 fois la même partie décimale
      texte =
        "$ " +
        tex_fraction(a, b) +
        " = \\phantom{0000} + " +
        tex_fraction("\\phantom{00000000}", "") +
        " $";
      texte_corr =
        "$ " + tex_fraction(a, b) + " = " + n + "+" + tex_fraction(c, b) + " $";
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
    }
    liste_de_question_to_contenu(this); //Espacement de 2 em entre chaque questions.
  };
}
/**
 * 6N14
 * Représenter des fractions simples avec des disques partagés de façon adéquate.
 * @Auteur Jean-Claude Lhote
 */
function Representer_une_fraction() {
    Exercice.call(this); // Héritage de la classe Exercice()
    this.titre = "Représenter des fractions";
    this.consigne = "";
    this.nb_questions = 4;
    this.nb_cols = 2;
    this.nb_cols_corr = 2;
    this.sup = 3;
  
    this.nouvelle_version = function (numero_de_l_exercice) {
      this.liste_questions = []; // Liste de questions
      this.liste_corrections = []; // Liste de questions corrigées
      let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
      ppc=20
        if (sortie_html) {
          sc=0.5
        } else {
          sc=0.4
        }
  
      let  params = {
        xmin: -2.2,
        ymin: -2.2,
        xmax: 18,
        ymax: 3,
        pixelsParCm: ppc,
        scale: sc,
      },den,num,f
      
      let liste = combinaison_listes([2,3,4,5,6], this.nb_questions);
  
      for (
        let i = 0, texte, texte_corr, cpt = 0;
        i < this.nb_questions && cpt < 50;) {
        objets=[]
        den=liste[i]
        num=randint(1,den*3)
        f=fraction(num,den)
        texte=`Sachant qu'un disque représente une unité, représenter la fraction $${f.texFraction()}$ en coloriant la part correspondante.<br>`
        texte+=mathalea2d(params,fraction(den*3,den).representation(0,0,2,0,'gateau','white'))
        texte_corr =`Voici sur ces dessins, colorié en bleu, la part correspondante à la fraction $${f.texFraction()}$ :<br>`
        texte_corr += mathalea2d(params,f.representation(0,0,2,randint(0,den-1),'gateau','blue'))
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
    };
    this.besoin_formulaire_numerique = [
      "Type de cahier",
      3,
      `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
    ];

  
}

/**
 * Conversions de longueur en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De dam, hm, km vers m
 * * 2 : De dm, cm, mm vers m
 * * 3 : Conversions en mètres
 * * 4 : Toutes les conversions de longueurs
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions_de_longueurs(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de longueurs";
  this.consigne = "Compléter";
  this.spacing = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", 10],
      [" h", 100],
      [" k", 1000],
    ];
    let prefixe_div = [
      [" d", 10],
      [" c", 100],
      [" m", 1000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_unite1 = combinaison_listes([0,1,2,3,4,5,6],this.nb_questions)
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let type_de_questions
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i]; //Plutôt que de prendre un préfix au hasard, on alterne entre 10,100 et 1000
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";

        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = liste_unite1[i]
        let unite2 = randint(Math.max(0,unite1-3),Math.min(unite1+3,6),unite1)
        if (unite1>unite2){
          [unite1,unite2]=[unite2,unite1]
        }
        let ecart = unite2-unite1; // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, ecart)) +
            tex_texte(liste_unite[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : De dam, hm, km vers m\n\
2 : De dm, cm, mm vers m\n3 : Conversions en mètres\n4 : Toutes les conversions de longueurs",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions  mètres, litres, grammes, octets (et euros pour la version LaTeX) en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * * 1 : De da, h, k vers l'unité de référence
 * * 2 : De d, c, m vers l'unité de référence
 * * 3 : Multiplications ou divisions vers l'unité de référence
 * * 4 : Conversions d'octets
 * * 5 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 */
function Exercice_conversions(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre =
    "Conversions de longueurs, masses, contenance, prix ou unités informatiques";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.correction_avec_des_fractions = false;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", 10],
      ["h", 100],
      ["k", 1000],
    ]; //['M',1000000],['G',1000000000],['T',1000000000000]];
    let prefixe_div = [
      ["d", 10],
      ["c", 100],
      ["m", 1000],
    ]; //['$\\mu{}$',1000000]];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        unite,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        liste_unite_info = ["o", "ko", "Mo", "Go", "To"];
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir
        if (k < 2) {
          // Choix de l'unité
          unite = choice(["m", "L", "g"]);
        } else if (k == 2) {
          if (sortie_html) {
            unite = choice(["m", "L", "g"]); // pas de signe € pour KaTeX
          } else {
            unite = choice(["m", "L", "g", "€"]);
          }
        } else {
          unite = "o";
        }
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (
        div &&
        type_de_questions < 4 &&
        this.correction_avec_des_fractions
      ) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_fraction(tex_nombre(a), tex_nombre(prefixe_div[k][1])) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else if (div && type_de_questions < 4) {
        unite = choice(["m", "L", "g"]);
        resultat = Algebrite.eval(a / prefixe_div[k][1]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " = \\dotfill " +
          tex_texte(unite) +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          tex_nombre(prefixe_div[k][1]) +
          tex_texte(unite) +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "$";
      } else {
        // pour type de question = 4
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 1000 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite1]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite2]) +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite1]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite1]) +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " = \\dotfill " +
            tex_texte(liste_unite_info[unite2]) +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite_info[unite1]) +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 3 * ecart)) +
            tex_texte(liste_unite_info[unite2]) +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite_info[unite2]) +
            "$";
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    5,
    "1 : De da, h, k vers l'unité de référence\n\
2 : De d, c, m vers l'unité de référence\n3 : Multiplications ou divisions vers l'unité de référence\n4 : Conversions avec les octets\n5: Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'aires en utilisant le préfixe pour déterminer la multiplication ou division à faire.
 *
 * Dans la correction, on montre que l'on multiplie ou divisie à 2 reprises par le coefficient donné par le préfixe
 *
 * * 1 : De dam², hm², km² vers m²
 * * 2 : De dm², cm², mm² vers m²
 * * 3 : Conversions en mètres-carrés
 * * 4 : Conversions avec des multiplications ou des divisions
 * * 5 : Conversions avec des ares, des centiares et des hectares
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M23
 */
function Exercice_conversions_aires(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions d'aires";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      [" da", "\\times10\\times10", 100],
      [" h", "\\times100\\times100", 10000],
      [" k", "\\times1~000\\times1~000", 1000000],
    ];
    let prefixe_div = [
      [" d", "\\div10\\div10", 100],
      [" c", "\\div100\\div100", 10000],
      [" m", "\\div1~000\\div1~000", 1000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    let liste_de_k = combinaison_listes([0, 1, 2], this.nb_questions);
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 6) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 5);
      }
      // k = randint(0,2); // Choix du préfixe
      k = liste_de_k[i];
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        prefixe_multi = [
          [" da", "\\times10\\times10", 100],
          [" h", "\\times100\\times100", 10000],
          [" k", "\\times1~000\\times1~000", 1000000],
        ]; // On réinitialise cette liste qui a pu être modifiée dans le cas des ares
        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (div && type_de_questions < 4) {
        prefixe_div = [
          [" d", "\\div10\\div10", 100],
          [" c", "\\div100\\div100", 10000],
          [" m", "\\div1~000\\div1~000", 1000000],
        ];
        k = randint(0, 1); // Pas de conversions de mm^2 en m^2 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_div[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^2" +
          " =  " +
          tex_nombre(a) +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        if (randint(0, 1) > 0) {
          resultat = Algebrite.eval(a * Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\times" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            "$";
        } else {
          resultat = Algebrite.eval(a / Math.pow(10, 2 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^2" +
            " =  " +
            tex_nombre(a) +
            "\\div" +
            tex_nombre(Math.pow(10, 2 * ecart)) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^2" +
            "$";
        }
      } else if (type_de_questions == 5) {
        // Pour type_de_questions==5
        prefixe_multi = [
          ["ha", 10000],
          ["a", 100],
        ];
        k = randint(0, 1);
        resultat = Algebrite.eval(a * prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " = \\dotfill " +
          tex_texte(unite) +
          "^2" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0]) +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(prefixe_multi[k][1]) +
          tex_texte(unite) +
          "^2" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^2" +
          "$";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    6,
    "1 : Conversions en m² avec des multiplications\n\
2 : Conversions en m² avec des divisions\n3 : Conversions en m² avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions\n\
5 : Conversions d'hectares et ares en m² \n6 : Toutes les conversions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions de volumes.
 *
 * Dans la correction, on ne voit qu'une multiplication ou qu'un division pour obtenir le résultat
 *
 * * 1 : Conversions en mètres-cubes avec des multiplications
 * * 2 : Conversions en mètres-cubes avec des divisions
 * * 3 : Conversions en mètres-cubes avec des multiplications ou divisions
 * * 4 : Conversions avec des multiplications ou divisions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31
 */
function Exercice_conversions_volumes(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions de volume";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prefixe_multi = [
      ["da", "10\\times10\\times10", 1000],
      ["h", "100\\times100\\times100", 1000000],
      ["k", "1~000\\times1~000\\times1~000", 1000000000],
    ];
    let prefixe_div = [
      ["d", "10\\div10\\div10", 1000],
      ["c", "100\\div100\\div100", 1000000],
      ["m", "1~000\\div1~000\\div1~000", 1000000000],
    ];
    let unite = "m";
    let liste_unite = ["mm", "cm", "dm", "m", "dam", "hm", "km"];
    for (
      let i = 0,
        a,
        k,
        div,
        resultat,
        type_de_questions,
        texte,
        texte_corr,
        liste_unite_info,
        cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // On limite le nombre d'essais pour chercher des valeurs nouvelles
      if (this.sup < 5) {
        type_de_questions = this.sup;
      } else {
        type_de_questions = randint(1, 4);
      }
      k = randint(0, 2); // Choix du préfixe
      if (type_de_questions == 1) {
        // niveau 1
        div = false; // Il n'y aura pas de division
      } else if (type_de_questions == 2) {
        // niveau 2
        div = true; // Avec des divisions
      } else if (type_de_questions == 3) {
        div = choice([true, false]); // Avec des multiplications ou des divisions
      } else if (type_de_questions == 4) {
        div = choice([true, false]); // Avec des multiplications ou des divisions sans toujours revenir au m^2
      }

      if (this.sup2) {
        // Si la case pour les nombres décimaux est cochée
        a = choice([
          arrondi(randint(1, 19) + randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 10, 1),
          arrondi(randint(1, 9) / 100, 2),
          arrondi(randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100, 2),
        ]);
        // XX,X 0,X 0,0X X,XX
      } else {
        a = choice([
          randint(1, 9),
          randint(1, 9) * 10,
          randint(1, 9) * 100,
          randint(1, 9) * 10 + randint(1, 9),
        ]);
        // X, X0, X00, XX
      }

      if (!div && type_de_questions < 4) {
        // Si il faut multiplier pour convertir

        resultat = Algebrite.eval(a * prefixe_multi[k][2]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_multi[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\times" +
          prefixe_multi[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (div && type_de_questions < 4) {
        k = randint(0, 1); // Pas de conversions de mm^3 en m^3 avec des nombres décimaux car résultat inférieur à 10e-8
        resultat = Algebrite.eval(a / prefixe_multi[k][2]).toString(); // Attention aux notations scientifiques pour 10e-8
        texte =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " = \\dotfill " +
          tex_texte(unite) +
          "^3" +
          "$";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          tex_texte(prefixe_div[k][0] + unite) +
          "^3" +
          " =  " +
          tex_nombre(a) +
          "\\div" +
          prefixe_div[k][1] +
          tex_texte(unite) +
          "^3" +
          " = " +
          tex_nombre(resultat) +
          tex_texte(unite) +
          "^3" +
          "$";
      } else if (type_de_questions == 4) {
        let unite1 = randint(0, 3);
        let ecart = randint(1, 2); // nombre de multiplication par 10 pour passer de l'un à l'autre
        if (ecart > 4 - unite1) {
          ecart = 4 - unite1;
        }
        let unite2 = unite1 + ecart;
        let multiplications_par_1000 = "";

        if (randint(0, 1) > 0) {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\times 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\times 1~000 \\times 1~000";
              break;
            case 3:
              multiplications_par_1000 =
                "\\times 1~000 \\times 1~000 \\times 1~000";
              break;
          }
          resultat = Algebrite.eval(a * Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            "$";
        } else {
          switch (ecart) {
            case 1:
              multiplications_par_1000 = "\\div 1~000";
              break;
            case 2:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000";
              break;
            case 3:
              multiplications_par_1000 = "\\div 1~000 \\div 1~000 \\div 1~000";
              break;
          }
          resultat = Algebrite.eval(a / Math.pow(10, 3 * ecart));
          texte =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " = \\dotfill " +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
          texte_corr =
            "$ " +
            tex_nombre(a) +
            tex_texte(liste_unite[unite1]) +
            "^3" +
            " =  " +
            tex_nombre(a) +
            multiplications_par_1000 +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            " = " +
            tex_nombre(resultat) +
            tex_texte(liste_unite[unite2]) +
            "^3" +
            "$";
        }
      }
      // else if(type_de_questions==5) { // Pour type_de_questions==5
      // 	prefixe_multi = [['L',0.001],['dL',0.0001],['cL',0.00001],['mL',0.000001]];
      // 	k = randint(0,1)
      // 	resultat = Algebrite.eval(a*prefixe_multi[k][1]).toString(); // Utilise Algebrite pour avoir le résultat exact même avec des décimaux
      // 	texte = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' = \\dotfill ' + tex_texte(unite)  + '^3' + '$';
      // 	texte_corr = '$ '+ tex_nombre(a) + tex_texte(prefixe_multi[k][0]) + ' =  ' + tex_nombre(a) + '\\times' + tex_nombre(prefixe_multi[k][1]) + tex_texte(unite)  + '^3'
      // 		 + ' = ' + tex_nombre(resultat) + tex_texte(unite)+ '^2' + '$';
      // }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("= \\dotfill", "\\text{ en }");
        }
        if (sortie_html) {
          texte = texte.replace(
            "\\dotfill",
            "................................................"
          );
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    4,
    "1 : Conversions en mètres-cubes avec des multiplications\n\
2 : Conversions en mètres-cubes avec des divisions\n3 : Conversions en mètres-cubes avec des multiplications ou divisions\n4 : Conversions avec des multiplications ou divisions",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Conversions d'unités de volumes vers les unités de capacité ou inversement.
 *
 * Dans la correction, on passe systématiquement par l'équivalence dm3 = L
 *
 * * 1 : De dam3, m3, dm3, cm3 ou mm3 vers L ou inversement
 * * 2 :
 * * 3 :
 * * 4 :
 * * 5 :
 * * 6 : Un mélange de toutes les conversions
 * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)
 * @Auteur Rémi Angot
 * Référence 6M31-2
 */
function Unites_de_volumes_et_de_capacite(niveau = 1) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = niveau; // Niveau de difficulté de l'exercice
  this.sup2 = false; // Avec des nombres décimaux ou pas
  this.titre = "Conversions avec des unités de volumes ou de capacités";
  this.consigne = "Compléter";
  this.spacing = 2;
  this.nb_questions = 8;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup == 1) {
      liste_type_de_questions = combinaison_listes(
        ["dam3toL", "m3toL", "dm3toL", "cm3toL"],
        this.nb_questions
      );
    }
    if (this.sup == 2) {
      liste_type_de_questions = combinaison_listes(
        ["Ltodm3", "Ltocm3", "Ltom3"],
        this.nb_questions
      );
    }
    if (this.sup == 3) {
      liste_type_de_questions = combinaison_listes(
        [
          "dam3toL",
          "m3toL",
          "dm3toL",
          "cm3toL",
          "mm3toL",
          "Ltodm3",
          "Ltocm3",
          "Ltom3",
        ],
        this.nb_questions
      );
    }
    let liste_de_n = [];
    if (this.sup2) {
      liste_de_n = combinaison_listes([1, 2, 3, 4], this.nb_questions);
    } else {
      liste_de_n = combinaison_listes([1, 2, 3, 4, 5, 6], this.nb_questions);
    }
    for (
      let i = 0, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      if (this.sup2) {
        switch (liste_de_n[i]) {
          case 1:
            n = calcul(randint(2, 9) / 10);
            break;
          case 2:
            n = calcul(randint(11, 99) / 100);
            break;
          case 3:
            n = calcul(randint(1, 9) * 10 + randint(1, 9) / 10);
            break;
          case 4:
            n = calcul(
              randint(11, 99, [10, 20, 30, 40, 50, 60, 70, 80, 90]) / 100
            );
            break;
        }
      } else {
        switch (liste_de_n[i]) {
          case 1:
            n = randint(2, 9);
            break;
          case 2:
            n = randint(11, 99);
            break;
          case 3:
            n = randint(1, 9) * 10;
            break;
          case 4:
            n = randint(1, 9) * 100;
            break;
          case 5:
            n = randint(11, 99) * 100;
            break;
          case 6:
            n = randint(1, 9) * 1000;
            break;
        }
      }
      switch (liste_type_de_questions[i]) {
        case "dam3toL":
          texte = `$${tex_nombre(n)}~\\text{dam}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dam}^3=${tex_nombre(
            n
          )}\\times1~000\\times1~000~\\text{dm}^3=${tex_nombrec(
            n * 1000000
          )}~\\text{L}$`;
          break;
        case "m3toL":
          texte = `$${tex_nombre(n)}~\\text{m}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{m}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{dm}^3=${tex_nombrec(n * 1000)}~\\text{L}$`;
          break;
        case "dm3toL":
          texte = `$${tex_nombre(n)}~\\text{dm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{dm}^3=${tex_nombre(
            n
          )}~\\text{L}$`;
          break;
        case "cm3toL":
          texte = `$${tex_nombre(n)}~\\text{cm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{cm}^3=${tex_nombre(
            n
          )}\\div 1~000~\\text{dm}^3=${tex_nombrec(n / 1000)}~\\text{L}$`;
          break;
        case "mm3toL":
          texte = `$${tex_nombre(n)}~\\text{mm}^3=\\dotfill~\\text{L}$`;
          texte_corr = `$${tex_nombre(n)}~\\text{mm}^3=${tex_nombre(
            n
          )}\\div1~000\\div 1~000~\\text{dm}^3=${tex_nombrec(
            n / 1000000
          )}~\\text{L}$`;
          break;
        case "Ltodm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{dm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3$`;
          break;
        case "Ltocm3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{cm}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(
            n
          )}\\times1~000~\\text{cm}^3=${tex_nombrec(n * 1000)}~\\text{cm}^3$`;
          break;
        case "Ltom3":
          texte = `$${tex_nombre(n)}~\\text{L}=\\dotfill~\\text{m}^3$`;
          texte_corr = `$${tex_nombre(n)}~\\text{L}=${tex_nombre(
            n
          )}~\\text{dm}^3=${tex_nombre(n)}\\div1~000~\\text{m}^3=${tex_nombrec(
            n / 1000
          )}~\\text{m}^3$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Unités de volume vers litre\n2 : Litre vers unités de volume\n3 : Unités de volumes vers litre ou inversement ",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des nombres décimaux"];
}

/**
 * Déterminer le périmètre et l'aire d'un carré, d'un rectangle, d'un triangle rectangle, d'un cercle
 *
 * * 1 : Carré, rectangle et triangle rectangle
 * * 2: Uniquement des cercles
 * * 3 : Les 4 sont demandés
 * @Auteur Rémi Angot
 */
function Exercice_perimetres_et_aires(difficulte = 1) {
  //Calculer le périmètre et l'aire de figures
  Exercice.call(this); // Héritage de la classe Exercice()
  this.sup = difficulte;
  this.titre = "Calculs de périmètres et d'aires";
  this.consigne =
    "Pour chacune des figures, calculer son périmètre puis son aire (valeur exacte et si nécessaire valeur approchée au dixième près).";
  this.spacing = 1;
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let triplets_pythagoriciens = [
      [3, 4, 5],
      [6, 8, 10],
      [15, 8, 17],
      [24, 10, 26],
      [5, 12, 13],
      [12, 16, 20],
      [21, 20, 29],
      [9, 40, 41],
    ];
    let type_de_questions_disponibles = [
      "carre",
      "rectangle",
      "triangle_rectangle",
      "cercle",
    ];
    if (this.sup == 1) {
      enleve_element(type_de_questions_disponibles, "cercle");
      this.nb_cols = 1;
    } else if (this.sup == 2) {
      type_de_questions_disponibles = ["cercle"];
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case "carre":
          let cote = randint(2, 11);
          let nom_carre = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un carré $${nom_carre}$ de $${cote}$ cm de côté .`;
          } else {
            texte = `Un carré $${nom_carre}$ tel que $${
              nom_carre[0] + nom_carre[1]
            } = ${cote}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_carre}}=4\\times${cote}~\\text{cm}=${
            4 * cote
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_carre}}=${cote}~\\text{cm}\\times${cote}~\\text{cm}=${
            cote * cote
          }~\\text{cm}^2$`;
          break;
        case "rectangle":
          let L = randint(3, 11);
          let l = randint(2, L - 1);
          let nom_rectangle = creerNomDePolygone(4);
          if (choice([true, false])) {
            // 2 énoncés possibles équiprobables
            texte = `Un rectangle $${nom_rectangle}$ de $${L}$ cm de longueur et de $${l}$ cm de largeur.`;
          } else {
            texte = `Un rectangle $${nom_rectangle}$ tel que $${
              nom_rectangle[0] + nom_rectangle[1] + " = " + L
            }$ cm et $${nom_rectangle[1] + nom_rectangle[2] + " = " + l}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_rectangle}}=(${L}~\\text{cm}+${l}~\\text{cm})\\times2=${
            (L + l) * 2
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_rectangle}}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
            L * l
          }~\\text{cm}^2$`;
          break;
        case "triangle_rectangle":
          let triplet = choice(triplets_pythagoriciens);
          enleve_element(triplets_pythagoriciens, triplet);
          let a = triplet[0];
          let b = triplet[1];
          let c = triplet[2];
          let nom_triangle = creerNomDePolygone(3);
          if (choice([true, false])) {
            texte = `Un triangle $${nom_triangle}$ rectangle en $${
              nom_triangle[1]
            }$ tel que $${
              nom_triangle[0] + nom_triangle[1] + " = " + a
            }$ cm, $${nom_triangle[1] + nom_triangle[2] + " = " + b}$ cm\
 et $${nom_triangle[0] + nom_triangle[2] + " = " + c}$ cm.`;
          } else {
            texte = `Un triangle rectangle $${nom_triangle}$ a pour côtés : $${a}$ cm, $${c}$ cm et $${b}$ cm.`;
          }

          texte_corr = `$\\mathcal{P}_{${nom_triangle}}=${a}~\\text{cm}+${b}~\\text{cm}+${c}~\\text{cm}=${
            a + b + c
          }~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}_{${nom_triangle}}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${Algebrite.eval(
            (a * b) / 2
          )}~\\text{cm}^2$`;
          break;
        case "cercle":
          let R = randint(3, 11);
          let donne_le_diametre = choice([true, false]);
          if (donne_le_diametre) {
            texte = `Un cercle de $${2 * R}$ cm de diamètre.`;
            texte_corr = `Le diamètre est de $${
              2 * R
            }$ cm donc le rayon est de $${R}$~cm.<br>`;
          } else {
            texte = `Un cercle de $${R}$ cm de rayon.`;
            texte_corr = "";
          }

          texte_corr += `$\\mathcal{P}=2\\times${R}\\times\\pi~\\text{cm}=${
            2 * R
          }\\pi~\\text{cm}\\approx${arrondi_virgule(
            2 * R * Math.PI,
            1
          )}~\\text{cm}$<br>`;
          texte_corr += `$\\mathcal{A}=${R}\\times${R}\\times\\pi~\\text{cm}^2=${
            R * R
          }\\pi~\\text{cm}^2\\approx${arrondi_virgule(
            R * R * Math.PI,
            1
          )}~\\text{cm}^2$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Carré, rectangle et triangle rectangle\n2: Cercles\n3: Mélangé",
  ];
}

/**
 * On donne une fraction qui a pour dénominateur 10, 100 ou 1 000, il faut donner l'écriture décimale.
 *
 * Le numérateur est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N23
 */
function Exercice_ecriture_decimale_a_partir_de_fraction_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Donner l'écriture décimale d'une fraction décimale";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      texte =
        "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
      texte_corr =
        "$ " +
        tex_fraction(tex_nombre(a), tex_nombre(b)) +
        " = " +
        tex_nombre(Algebrite.eval(a / b)) +
        " $";
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        if (est_diaporama) {
          texte = texte.replace("=\\dotfill", "");
        }
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplier ou diviser un nombre entier par 10, 100 ou 1 000
 *
 * Le nombre entier est de la forme X, XX, X0X, X00X ou XXX
 * @Auteur Rémi Angot
 * 6N24-1
 */
function Exercice_multiplier_ou_diviser_un_nombre_entier_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplier ou diviser un nombre entier par 10, 100 ou 1 000";
  this.consigne = "Donner l'écriture décimale";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    for (
      let i = 0, a, b, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      a = choice(
        [
          randint(2, 9),
          randint(11, 99),
          randint(1, 9) * 100 + randint(1, 9),
          randint(1, 9) * 1000 + randint(1, 9),
        ],
        randint(101, 999)
      );
      // X, XX, X0X, X00X,XXX
      b = choice([10, 100, 1000]);
      if (choice([true, false])) {
        texte =
          "$ " + tex_fraction(tex_nombre(a), tex_nombre(b)) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_fraction(tex_nombre(a), tex_nombre(b)) +
          " = " +
          tex_nombre(Algebrite.eval(a / b)) +
          " $";
      } else {
        texte =
          "$ " + tex_nombre(a) + "\\times" + tex_nombre(b) + " = \\dotfill $";
        texte_corr =
          "$ " +
          tex_nombre(a) +
          "\\times" +
          tex_nombre(b) +
          " = " +
          tex_nombre(Algebrite.eval(a * b)) +
          " $";
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ["Valeur maximale", 99999];
}

/**
 * Comparer deux nombres décimaux
 *
 * Les types de comparaisons sont :
 * * ab ? ba
 * * aa,bb ? aa,cc
 * * a,b  a,cc avec b>c
 * * 0,ab 0,ba
 * * 0,a0b 0,b0a
 * * a,b a,b0
 * * 0,0ab 0,0a0b
 * * a,bb  a,ccc avec b>c
 * * a+1,bb  a,cccc avec cccc>bb
 *
 * aa, bb, cc correspondent à des nombres à 2 chiffres (ces 2 chiffres pouvant être distincts)
 * @Auteur Rémi Angot
 * 6N31
 */
function Comparer_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Comparer des nombres décimaux";
  this.consigne = "Compléter avec le signe < , > ou =.";
  this.nb_questions = 8;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [
      choice([1, 4, 5]),
      2,
      2,
      3,
      6,
      7,
      8,
      9,
    ]; // une seule question du type inversion de chiffres (1,4,5)
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let x,
        y,
        a,
        b,
        c,
        d,
        zero_inutile = false;

      switch (liste_type_de_questions[i]) {
        case 1: // ab ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = a * 10 + b;
          y = b * 10 + a;
          break;
        case 2: // aa,bb aa,cc
          a = randint(1, 99);
          b = randint(11, 99);
          c = randint(11, 99);
          x = calcul(a + b / 100);
          y = calcul(a + c / 100);
          break;
        case 3: // a,b  a,cc avec b>c
          a = randint(1, 99);
          b = randint(1, 8);
          c = randint(1, b * 10);
          x = calcul(a + b / 10);
          y = calcul(a + c / 100);
          break;
        case 4: // 0,ab 0,ba
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 10 + b) / 100);
          y = calcul((b * 10 + a) / 100);
          break;
        case 5: // 0,a0b 0,b0a
          a = randint(1, 9);
          b = randint(1, 9, a);
          x = calcul((a * 100 + b) / 1000);
          y = calcul((b * 100 + a) / 1000);
          break;
        case 6: // a,b a,b0
          a = randint(11, 999);
          while (a % 10 == 0) {
            // pas de nombre divisible par 10
            a = randint(11, 999);
          }
          x = calcul(a / 10);
          y = x;
          zero_inutile = true;
          break;
        case 7: // 0,0ab 0,0a0b
          a = randint(1, 9);
          b = randint(1, 9);
          x = calcul(a / 100 + b / 1000);
          y = calcul(a / 100 + b / 10000);
          break;
        case 8: // a,bb  a,ccc avec b>c
          a = randint(11, 99);
          b = randint(11, 99);
          c = randint(100, b * 10);
          x = calcul(a + b / 100);
          y = calcul(a + c / 1000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
        case 9: // a+1,bb  a,cccc avec cccc>bb
          a = randint(11, 98);
          b = randint(11, 99);
          c = randint(b * 100, 10000);
          x = calcul(a + 1 + b / 100);
          y = calcul(a + c / 10000);
          if (randint(1, 2) == 1) {
            [x, y] = [y, x];
          }
          break;
      }

      texte = `${tex_nombre(x)}\\ldots\\ldots${tex_nombre(y)}`;
      if (parseFloat(x) > parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} > ${tex_nombre(y)}`;
      } else if (parseFloat(x) < parseFloat(y)) {
        texte_corr = `${tex_nombre(x)} < ${tex_nombre(y)}`;
      } else {
        texte_corr = `${tex_nombre(x)} = ${tex_nombre(y)}`;
      }

      if (zero_inutile) {
        if (randint(1, 2) == 1) {
          texte = `${tex_prix(x)}\\ldots\\ldots${tex_nombre(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_prix(x)} > ${tex_nombre(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_prix(x)} < ${tex_nombre(y)}`;
          } else {
            texte_corr = `${tex_prix(x)} = ${tex_nombre(y)}`;
          }
        } else {
          texte = `${tex_nombre(x)}\\ldots\\ldots${tex_prix(y)}`;
          if (parseFloat(x) > parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} > ${tex_prix(y)}`;
          } else if (parseFloat(x) < parseFloat(y)) {
            texte_corr = `${tex_nombre(x)} < ${tex_prix(y)}`;
          } else {
            texte_corr = `${tex_nombre(x)} = ${tex_prix(y)}`;
          }
        }
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Déduire un pourcentage par complément à 100%
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-2
 */
function Calculer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes de calcul de pourcentage par complément à 100%";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles=[1,2,3]
    let liste_choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_moyens=[`en bus`,`en deux-roues`,`à  pieds`,`en voiture`]
    let liste_sports=[`le foot`,`la natation`,`le basket`,`le ping-pong`,`le volley`,`la gym`]
    let liste_hobbies=[`la couture`,`le cinéma`,`la musique`,`le sport`,`la programmation`,`le jardinage`,`la cuisine`]
    let p1,p2,p3,moy1,moy2,moy3
    let objets,centre=point(5,5),depart=point(10,5)

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;
    ) {
      objets=[]
      p1=randint(6,9)*5
      p2=randint(6,9)*5
      p3=100-p1-p2
      switch(liste_choix[i]) {
        case 1: // Les moyens de déplacement maison collège
          [moy1,moy2,moy3]=combinaison_listes(liste_moyens,3)
          texte = `Dans un collège, $${p1}\\%$ des élèves ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des élèves qui ${moy3} ?` 
          texte_corr=`Les élèves qui ${moy1} ou qui ${moy2} représentent $${p1}\\%$ + $${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100 - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des élèves ${moy3}.<br>`
          break;
          case 2: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_sports,3)
          texte = `Dans une association sportive, $${p1}\\%$ des ados pratiquent ${moy1}, $${p2}\\%$ ${moy2} et les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des ados qui pratiquent ${moy3} ?`
          texte_corr=`Les ados qui pratiquent ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des ados de cette association sportive pratiquent ${moy3}.<br>`
          break;
          case 3: // Les sports pratiqués par les ados
          [moy1,moy2,moy3]=combinaison_listes(liste_hobbies,3)
          texte = `Dans une association culturelle, $${p1}\\%$ des membres ont comme passe-temps favorit ${moy1}, pour $${p2}\\%$ c'est ${moy2} et pour les autres ${moy3}.<br>`
          texte += `Quel est le pourcentage des membres qui préfèrent ${moy3} ?`
          texte_corr=`Les membres qui préfère ${moy1} ou ${moy2} représentent $${p1}\\% + ${p2}\\% = ${p1+p2}\\%$.<br>`
          texte_corr+=`Donc on calcule : $100\\% - ${p1+p2}\\% = ${p3}\\%$<br>`
          texte_corr+=`$${p3}\\%$ des membres de cette association culturelle préfèrent ${moy3}.<br>`
          break;

      }
      objets.push(codeAngle(depart,centre,p1*3.6,4.9,'','black',2,1,'red',0.4),texteParPoint(`${moy1.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*1.8),3),0) )
      objets.push(codeAngle(rotation(depart,centre,p1*3.6),centre,p2*3.6,4.9,'','black',2,1,'blue',0.4),texteParPoint(`${moy2.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,p1*3.6+p2*1.8),3),0) )
      objets.push(codeAngle(depart,centre,-p3*3.6,4.9,'','black',2,1,'yellow',0.4),texteParPoint(`${moy3.substring(3)}`,pointSurSegment(centre,rotation(depart,centre,-p3*1.8),3),0) )
      texte_corr+=mathalea2d({xmin : 0,ymin : 0,xmax : 10, ymax : 10,pixelsParCm : 20,scale : 0.5,mainlevee:false,amplitude:1}, ...objets)

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}
/**
 * Calculer le montant d'une réduction donnée en pourcentage d'un prix initial
 * @Auteur Jean-Claude Lhote
 * Référence 6N33-3
 */
function Appliquer_un_pourcentage() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problèmes avec des calculs de pourcentages";
  this.nb_questions = 1;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles=[1,2]
    let choix=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    liste_pourcentages = [10, 20, 30, 40, 50];
    let article=[[`Un pull`,20,40],[`Une chemise`,15,35],[`Un pantalon`,30,60],[`Un T-shirt`,15,25],[`Une jupe`,20,40]]
    let legume=[[`Une aubergine`,100,200],[`Un melon`,200,300],[`Une tomate`,50,100],[`Une betterave`,75,100],[`Une carotte`,30,50]]
    let liste_index=[0,1,2,3,4]
    let prix=[],pourcent=[],masse=[]
    let index=combinaison_listes(liste_index,this.nb_questions)
    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pourcent[i]=choice(liste_pourcentages)
      switch(choix[i]){
      case 1 :
      prix[i]=randint(article[index[i]][1],article[index[i]][2])
      texte=`${article[index[i]][0]} coûtant $${prix[i]}$€ bénéficie d'une réduction de $${pourcent[i]} \\%$.<br>`
      texte+=`Quel est le montant en euro de cette réduction ?`
      texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${prix[i]}$€ :<br>`
      texte_corr+= `$${pourcent[i]}\\%\\text{ de }${prix[i]}=${tex_fraction(pourcent[i],100)}\\times${prix[i]}=(${pourcent[i]}\\times${prix[i]})\\div100=${tex_nombre(pourcent[i] * prix[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * prix[i]) / 100))}$<br>`;
      texte_corr+=`Le montant de la réduction est de ${tex_prix(calcul(prix[i]*pourcent[i]/100))}€`
      break;
      case 2 :
        masse[i]=randint(legume[index[i]][1],article[index[i]][2])
        texte=`${legume[index[i]][0]} pesant $${masse[i]}$ grammes a subit une croissance de $${pourcent[i]} \\%$.<br>`
        texte+=`Quel est la masse supplémentaire en grammes correspondant à cette croissance ?`
        texte_corr=`On doit calculer $${pourcent[i]}\\%$ de $${masse[i]}$ grammes :<br>`
        texte_corr+= `$${pourcent[i]}\\%\\text{ de }${masse[i]}=${tex_fraction(pourcent[i],100)}\\times${masse[i]}=(${pourcent[i]}\\times${masse[i]})\\div100=${tex_nombre(pourcent[i] * masse[i])}\\div100=${tex_nombre(Algebrite.eval((pourcent[i] * masse[i]) / 100))}$<br>`;
        texte_corr+=`La masse a augmenté de $${tex_nombre(calcul(masse[i]*pourcent[i]/100))}$ g.`
         
      break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Calculer 10, 20, 30, 40 ou 50% d'un nombre
 * @Auteur Rémi Angot + Jean-claude Lhote
 * 6N33-1
 */
function Pourcentage_d_un_nombre() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer le pourcentage d'un nombre de tête";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  this.spacing = 2;
  this.spacing_corr = 2.5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_pourcentages = [10, 20, 30, 40, 50];

    for (
      let i = 0, p, n, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      p = choice(liste_pourcentages);
      n = choice([
        randint(2, 9),
        randint(2, 9) * 10,
        randint(1, 9) * 10 + randint(1, 2),
      ]);
      texte = `$${p}~\\%~\\text{de }${n}$`;
      if (p == 50) {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${n}\\div${2}=${tex_nombre(
          Algebrite.eval(n / 2)
        )}$`; // calcul de n/2 si p = 50%
      } else {
        texte_corr = `$${p}~\\%~\\text{de }${n}=${tex_fraction(
          p,
          100
        )}\\times${n}=(${p}\\times${n})\\div100=${tex_nombre(
          p * n
        )}\\div100=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=\\dfrac{${p}\\times${n}}{100}=${tex_fraction(p*n,100)}=${tex_nombre(Algebrite.eval(p*n/100))}$`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=(${n}\\div100)\\times${p}=${tex_nombrec(
            calcul(n / 100)
          )}\\times${p}=${tex_nombre(Algebrite.eval((p * n) / 100))}$`;
        //		texte_corr += `$\\phantom {Blanc}${p}~\\%~\\text{de }${n}=${tex_fraction(p,100)}\\times${n}=${tex_fraction(n,100)}\\times${p}=${tex_nombrec(calcul(n/100))}\\times${p}=${tex_nombre(Algebrite.eval(p*n/100))}$<br>`
        if (this.sup2)
          texte_corr += `<br>$${p}~\\%~\\text{de }${n}=${tex_fraction(
            p,
            100
          )}\\times${n}=${tex_nombrec(calcul(p / 100))}\\times${n}=${tex_nombre(
            Algebrite.eval((p * n) / 100)
          )}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Valeur maximale',99999];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes"];
}
/**
 * Tracer un segment de longueur une fraction de l'unité.
 * @Auteur Jean-Claude Lhote
 * 6N32
 */

function Fractions_d_unite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Représenter une fraction de l\'unité";
  this.nb_questions = 5;
  this.consigne = "Colorier en bleu un segment de longueur ...";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles,g,carreaux,sc,unit
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac,frac_unite, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([4,5,6,10])
          num=randint(1,den-1)
     break
        case 2 :
          den=choice([2,3,4])
          if (den==3)  num=randint(3,2*den-1,den)
          else num=randint(3,3*den-1,den)
         break
        case 3 :
          den=choice([4,5,6,10])
          if (den==4) num=randint(5,3*den-1,den)
          else num=randint(5,2*den-1,den)
        break
        case 4:
          den=choice([2,3,4,5,6,10])
          if (den==2||den==4) num=randint(den+1,3*den-1,den)
          else num=randint(den+1,2*den-1,den)
        break
      }
      if (den%3==0) unit=12
      else if (den%5==0) unit=10
      else unit=8
      frac=fraction(num,den)
      frac_unite=fraction(3*den-1,den)
      texte=`$${frac.texFraction()}$ unité en prenant ${unit} carreaux pour une unité.`
      if (this.sup2 < 3) g = grille(0, 0,26, 2, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.6;
        carreaux = seyes(0, 0, 26, 2);
      } else {
        sc = 0.5;
        carreaux = "";
      }
 
      
      texte_corr=mathalea2d({xmin:0,ymin:0,xmax:26,ymax:2,pixelsParCm:20,scale:sc},frac.representation(1,1,unit,0,'segment','blue',0,1),g,carreaux)



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",4,"1 : fracion inférieure à 1\n2 : demis, tiers et quarts\n3 : quarts, cinquièmes, sixièmes et dixièmes\n4 : toutes les fractions entre 1 et 3"];
this.besoin_formulaire2_numerique = ["Type de cahier",2,"1 :  petits carreaux\n2 : Cahier gros carreaux type Seyes"];
}
/**
 * Calculer la fracton d'une quantité avec ou sans dessin.
 * @Auteur Jean-Claude Lhote
 * référence 6N33-0
 */
function Fraction_d_une_quantite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'une quantité";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = 1;
  this.sup2=true
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles
    let liste_type_de_questions=[]
    if (this.sup<5)
      type_de_questions_disponibles=[parseInt(this.sup)]
    else
      type_de_questions_disponibles=[1,2,3,4]
    liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, den,num ,choix,longueur,numIrred,denIrred,k, masse,frac, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]){
        case 1 :
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 2 :
          den=choice([2,3,4,5,10])
          num=randint(1,3*den,den)
          frac=fraction(num,den)
          texte=`À combien de minutes correspondent $${frac.texFraction()}$ d\'heure ?<br>`
          if (this.sup2){
            texte+=`Cette fraction est représentée ci dessous :<br>`
            texte+=mathalea2d({xmin:0,ymin:0,xmax:15,ymax:5},frac.representation(2.5,2.5,2,0,'gateau','blue'))
          }
          texte_corr=`Comme l\'heure est partagée en ${den} parts égales, chaque part représente $${tex_fraction(1,den)}$ d\'heure, soit $${calcul(60/den)}$ minutes.<br>`
          texte_corr+=`Ici, il y a $${tex_fraction(num,den)}$ d\'heure, ce qui représente $${num}$ fois plus, soit $${num}\\times${calcul(60/den)}=${calcul(num*60/den)}$.<br>`
          texte_corr+=`$${frac.texFraction()}$ d\'heure correspond donc à $${calcul(num*60/den)}$ minutes.`
        break
        case 3 :
          masse=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          frac=fraction(numIrred,denIrred)
          frac2=frac.entierMoinsFraction(1)
          texte=`Voici une tablette de chocolat dont la masse totale est de $${masse}$ grammes. Quelqu'un en a déjà consommé les $${frac.texFractionSimplifiee()}$.<br>`
          choix=randint(1,2)
          if (choix==1) {
            texte+=`Quelle masse de chocoloat a-t-elle été consommée ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.`
          }
          else {
            texte+=`Quelle masse de chocolat reste-t-il ?<br>`
            texte_corr=`Comme la tablette a une masse de $${masse}$ grammes, $${tex_fraction(1,denIrred)}$ de la tablette représente une masse de $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Ici, il y a $${frac.texFractionSimplifiee()}$ de la tablette qui a été consommé, ce qui représente $${numIrred}$ fois plus, soit $${numIrred}\\times${calcul(masse/denIrred)}=${calcul(numIrred*masse/denIrred)}$.<br>`
            texte_corr+=`La masse de chocolat consommée est $${calcul(numIrred*masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${masse}-${calcul(numIrred*masse/denIrred)}=${calcul(masse-numIrred*masse/denIrred)}$ grammes de chocolat.<br>`
            texte_corr+=`une autre façon de faire est d'utiliser la fraction restante : $${tex_fraction(denIrred,denIrred)}-${frac.texFractionSimplifiee()}=${tex_fraction(denIrred-numIrred,denIrred)}$.<br>`
            texte_corr+=`$${tex_fraction(denIrred-numIrred,denIrred)}$ de $${masse}$ grammes c\'est $${denIrred-numIrred}$ fois $${calcul(masse/denIrred)}$ grammes.<br>`
            texte_corr+=`Il reste donc : $${denIrred-numIrred}\\times${calcul(masse/denIrred)}=${(denIrred-numIrred)*masse/denIrred}$ grammes de chocolat.`

           }
          if (this.sup2){
          texte+=`La tablette de chocolat est représentée ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:-0.5,xmax:5,ymax:7},frac2.representationIrred(0,0,4,0,'baton','brown'))
         }
        break
        case 4:
          den=choice([2,3,4,5,10])
          num=randint(1,den-1)
          longueur=choice([120,180,240,300])
          denIrred=choice([2,3,4,5,10])
          numIrred=randint(1,denIrred-1)
          while (pgcd(denIrred,numIrred)!=1||calcul(denIrred/numIrred)==2){
            denIrred=choice([2,3,4,5,10])
            numIrred=randint(1,denIrred-1)      
          }
          k=calcul(300/denIrred)
          den=calcul(denIrred*k)
          num=calcul(numIrred*k)
          frac=fraction(num,den)
          texte=`Un bâton de $${tex_nombrec(longueur/100)}$ mètre`
          if (longueur>=200) texte+=`s`
          texte+=` de longueur est coupé à $${frac.texFractionSimplifiee()}$ de sa longueur.<br>`
          texte+=`Calculer la longueur de chacun des morceaux en mètres.<br>`
          if (this.sup2){
            texte+=`Ce bâton est représenté ci dessous :<br>`
          texte+=mathalea2d({xmin:-0.5,ymin:0,xmax:10,ymax:2},frac.representationIrred(0,1,8,0,'segment','blue',"0",`${tex_nombre(calcul(longueur/100))}`))
          }
          texte_corr=`$${tex_fraction(1,denIrred)}$ de $${tex_nombrec(longueur/100)}$ représente $${tex_nombrec(longueur/100)} \\div ${denIrred} = ${tex_nombrec(longueur/100/denIrred)}$.<br>`
          texte_corr+=`Le premier morceau du bâton correspondant à $${frac.texFractionSimplifiee()}$ du bâton mesure : $${numIrred} \\times ${tex_nombrec(longueur/100/denIrred)}=${tex_nombrec(numIrred*longueur/100/denIrred)}$ m.<br>`
          texte_corr+=`Le deuxième morceau mesure donc : $${tex_nombrec(longueur/100)}-${tex_nombrec(numIrred*longueur/100/denIrred)}=${tex_nombrec(longueur/100-numIrred*longueur/100/denIrred)}$ m.`

        break
      }



      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
    cpt++;
  }
  liste_de_question_to_contenu(this);
};
this.besoin_formulaire_numerique = ["Type d\'exercices",5,"1 : Heures & minutes (inférieur à 1h)\n2 : Heures & minutes (jusqu\'à 3h)\n3 : tablettes de chocolat\n4 : Bâton cassé\n5 : Mélange"];
this.besoin_formulaire2_case_a_cocher = ["Avec dessin", true];
}
/**
 * Calculer la fracton d'un nombre divisible par le dénominateur ... ou pas.
 *
 * Par défaut la division du nombre par le dénominateur est inférieure à 11
 * @Auteur Rémi Angot + Jean-Claude Lhote
 * référence 6N33
 */
function Fraction_d_un_nombre(max = 11) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer la fraction d'un nombre";
  this.nb_questions = 5;
  this.consigne = "Calculer";
  sortie_html ? (this.spacing_corr = 3.5) : (this.spacing_corr = 2);
  sortie_html ? (this.spacing = 2) : (this.spacing = 2);
  this.sup = true;
  this.sup2 = false;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_fractions = [
      [1, 2],
      [1, 3],
      [2, 3],
      [1, 4],
      [3, 4],
      [1, 5],
      [2, 5],
      [3, 5],
      [4, 5],
      [1, 6],
      [5, 6],
      [1, 7],
      [2, 7],
      [3, 7],
      [4, 7],
      [5, 7],
      [6, 7],
      [1, 8],
      [3, 8],
      [5, 8],
      [7, 8],
      [1, 9],
      [2, 9],
      [4, 9],
      [5, 9],
      [7, 9],
      [8, 9],
      [1, 10],
      [3, 10],
      [7, 10],
      [9, 10],
    ]; // Couples de nombres premiers entre eux

    for (
      let i = 0, a, b, k, n, j, fraction, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      fraction = choice(liste_fractions);
      a = fraction[0];
      b = fraction[1];
      k = randint(1, 11);
      j = false;
      if (this.sup) n = b * k;
      else if (randint(0, 1) == 0) n = b * k;
      else n = randint(10, b * 11);
      texte = `$${tex_fraction(a, b)}\\times${n}=$`;
      texte_corr = ``;
      if (a == 1) {
        // Si n * 1/b
        if (calcul(n / b - arrondi(n / b, 4)) == 0)
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=${n}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}$`;
        // si résultat décimal
        else
          texte_corr += `$${tex_fraction(a, b)}\\times${n}=${tex_fraction(
            n,
            b
          )}${simplification_de_fraction_avec_etapes(n, b)}$`; //si résultat non décimal
      } else {
        if (calcul(n / b - arrondi(n / b, 4)) == 0) {
          //si n/b décimal calcul (n/b)*a
          texte_corr += `$${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\div${mise_en_evidence(
            b
          )})\\times${a}=${tex_nombrec(
            Algebrite.eval(n / b)
          )}\\times${a}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
        } else {
          if (calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0) {
            // si n/b non décimal, alors on se rabat sur (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_nombrec(Algebrite.eval((n / b) * a))}$<br>`;
          } else {
            // si autre méthode et résultat fractionnaire calcul (n*a)/b
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
          }
          j = true;
        }
        if (
          calcul((n * a) / b - arrondi((n * a) / b, 4)) == 0 &&
          this.sup2 &&
          !j
        ) {
          // Si autres méthodes et si (a*n)/b décimal calcul (n*a)/b
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
            b
          )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(b)}=${tex_nombrec(
            Algebrite.eval((n / b) * a)
          )}$<br>`;
        } else {
          // si autre méthode et résultat fractionnaire calcul (n*a)/b
          if (this.sup2 && !j)
            texte_corr += ` $${tex_fraction(
              a,
              mise_en_evidence(b)
            )}\\times${n}=(${n}\\times${a})\\div${mise_en_evidence(
              b
            )}=${Algebrite.eval(n * a)}\\div${mise_en_evidence(
              b
            )}=${tex_fraction(n * a, mise_en_evidence(b))}$<br>`;
        }
        // si autre méthode et a/b décimal calcul (a/b)*n
        if ((b == 2 || b == 4 || b == 5 || b == 8 || b == 10) && this.sup2)
          texte_corr += ` $${tex_fraction(
            a,
            mise_en_evidence(b)
          )}\\times${n}=(${a}\\div${mise_en_evidence(
            b
          )})\\times${n}=${tex_nombrec(
            Algebrite.eval(a / b)
          )}\\times${n}=${tex_nombrec(Algebrite.eval((n / b) * a))}$`;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_case_a_cocher = ["Forcer résultat entier", true];
  this.besoin_formulaire2_case_a_cocher = ["Plusieurs méthodes", false];
}

/**
 * On achète 2 aliments dont on connait la masse (un en grammes et l'autre en kilogrammes) et le prix au kilogramme. Il faut calculer le prix total.
 * @Auteur Rémi Angot
 * Référence 6C32
 */
function Probleme_course() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Problème - Les courses";
  this.consigne = "";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let prenom = choice([
      "Benjamin",
      "Léa",
      "Aude",
      "Julie",
      "Corinne",
      "Mehdi",
      "Joaquim",
    ]);
    let masse_en_kg_de_aliment1 = Algebrite.eval(
      randint(2, 5) + randint(1, 9) / 10
    );
    let prix_aliment1 = Algebrite.eval(randint(2, 4) + randint(1, 9) / 10);
    let aliment1 = choice(["courgettes", "carottes", "pommes"]);
    let masse_en_g_de_aliment2 = randint(21, 97) * 10;
    let prix_aliment2 = Algebrite.eval(randint(12, 23) + randint(1, 9) / 10);
    let aliment2 = choice(["boeuf", "veau", "poulet"]);

    texte = `${prenom} achète ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg de ${aliment1} à ${tex_prix(prix_aliment1)} €/kg `;
    texte += `et ${masse_en_g_de_aliment2} g de ${aliment2} à ${tex_prix(
      prix_aliment2
    )} €/kg. Quel est le prix total à payer ?`;
    texte_corr =
      `Prix des ${aliment1} : ${tex_nombre(
        masse_en_kg_de_aliment1
      )} kg × ${tex_prix(prix_aliment1)} €/kg = ${tex_prix(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )} €` + "<br>";
    texte_corr +=
      `Prix du ${aliment2} : ${tex_nombre(
        Algebrite.eval(masse_en_g_de_aliment2 / 1000)
      )} kg × ${tex_prix(prix_aliment2)} €/kg = ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )} € ` + "<br>";
    texte_corr += `Prix total à payer : ${tex_nombre(
      Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
    )} € + ${tex_nombre(
      Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
    )} € ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €<br>`;
    texte_corr += `<br><i>Le prix total aurait aussi pu être trouvé en un seul calcul</i> : ${tex_nombre(
      masse_en_kg_de_aliment1
    )} kg × ${tex_prix(prix_aliment1)} €/kg + ${tex_nombre(
      Algebrite.eval(masse_en_g_de_aliment2 / 1000)
    )} kg × ${tex_prix(prix_aliment2)} €/kg ≈ ${arrondi_virgule(
      Algebrite.eval(
        masse_en_kg_de_aliment1 * prix_aliment1 +
          (masse_en_g_de_aliment2 * prix_aliment2) / 1000
      )
    )} €.`;

    if (!sortie_html) {
      texte_corr =
        `Prix des ${aliment1} : $${tex_nombre(
          masse_en_kg_de_aliment1
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment1
        )}~\\text{\\euro{}/kg} = ${tex_prix(
          Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr +=
        `Prix du ${aliment2} : $${tex_nombre(
          Algebrite.eval(masse_en_g_de_aliment2 / 1000)
        )}~\\text{kg}\\times${tex_prix(
          prix_aliment2
        )}~\\text{\\euro{}/kg} = ${tex_nombre(
          Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
        )}~\\text{\\euro}$` + "<br>";
      texte_corr += `Prix total à payer : $${tex_nombre(
        Algebrite.eval(masse_en_kg_de_aliment1 * prix_aliment1)
      )}~\\text{\\euro} + ${tex_nombre(
        Algebrite.eval((masse_en_g_de_aliment2 * prix_aliment2) / 1000)
      )}~\\text{\\euro} \\approx ${arrondi_virgule(
        Algebrite.eval(
          masse_en_kg_de_aliment1 * prix_aliment1 +
            (masse_en_g_de_aliment2 * prix_aliment2) / 1000
        )
      )}~\\text{\\euro}$<br>`;
    }

    this.liste_questions.push(texte);
    this.liste_corrections.push(texte_corr);

    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Calculer l'aire de 3 triangles dont une hauteur est tracée.
 *
 * Une figure dynamique est disponible sur laquelle on peut déplacer le pied de la hauteur.
 *
 * Il n'existe pas de version LaTeX de cet exercice.
 * @Auteur Rémi Angot
 * Référence 6M20
 */
function Aire_de_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Aires de triangles";
  this.consigne =
    "Calculer l'aire des 3 triangles suivants (vous pouvez déplacer certains points).";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_cotes = shuffle([3, 4, 5, 6, 7]); //pour s'assurer que les 3 côtés sont différents
    let c1 = tableau_des_cotes[0];
    let c2 = tableau_des_cotes[1];
    let c3 = tableau_des_cotes[2];
    let tableau_des_hauteurs = shuffle([3, 4, 5, 6]); //pour s'assurer que les 3 hauteurs sont différents
    let h1 = tableau_des_hauteurs[0];
    let h2 = tableau_des_hauteurs[1];
    let h3 = tableau_des_hauteurs[2];

    let codeBase64 = "";
    if (randint(1, 2) == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAuP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAKgAAAAAAAD#wAAAAAAAAAwABQDwAAAAAAABAYSAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwBgAAAAAAABAFAAAAAAAAAMAAUAXmRub7wU+AAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAwCYAAAAAAABAFAAAAAAAAAMAAT#nUJEwLKgdAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwC#8AAAAAAAAMA7AAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRADAJgAAAAAAAMA7AAAAAAAAAwABQHpQAAAAAABATYAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFADDWm90SREAAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMAkAAAAAAAAQBAAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwBAAAAAAAABAIAAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAoAAAAAAAAQBAAAAAAAAADAAFAS4AAAAAAAEBywAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwCIAAAAAAABACAAAAAAAAAMAAUAXx81SzkwjAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAAAAAAAAAAAAQAgAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwAgAAAAAAADAPAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAGAAAAAFoAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAhAAAAJgAAAAcBAAAAWgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAGAQAAAAAAABAAAAAgAAAAgAAABeAAAAAyBjbQIAAABfAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAOwAAAEMAAAABAAAAAGIAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAGIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAGMAAAADAQAAAGIAAAAAABAAAAEAAQAAADsAAABDAAAABAAAAABiAARhbmcnAAAAZAAAADsAAABDAAAABQEAAABiAAAAOwAAAEMAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA+AAAAQwAAAAEAAAAAaAAAAAABEAAAAQABAAAAPgE#8AAAAAAAAAAAAAIAAAAAaAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAaQAAAAMBAAAAaAAAAAAAEAAAAQEBAAAAPgAAAEMAAAAEAAAAAGgABGFuZycAAABqAAAAPgAAAEMAAAAFAQAAAGgAAAA+AAAAQwAAAAYAAAAAaAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAD4AAABDAAAABwEAAABoAAAAAABAMAAAAAAAAEAQAAAAAAAAAAAAbhAAAAAAAAEAAAACAAAACAAAAGwAAAADIGNtAgAAAG0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAEQAAAAEAAAAAcAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAcAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAcQAAAAMBAAAAcAAAAAAAEAAAAQABAAAADgAAABEAAAAEAAAAAHAABGFuZycAAAByAAAADgAAABEAAAAFAQAAAHAAAAAOAAAAEQAAAAYAAAAAcAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAABwEAAABwAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAdhAAAAAAAAEAAAACAAAACAAAAHQAAAADIGNtAgAAAHUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAHAAAAAEAAAAAeAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAeAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAeQAAAAMBAAAAeAAAAAAAEAAAAQABAAAAHwAAABwAAAAEAAAAAHgABGFuZycAAAB6AAAAHwAAABwAAAAFAQAAAHgAAAAfAAAAHAAAAAYAAAAAeAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAcAAAABwEAAAB4AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAfhAAAAAAAAEAAAACAAAACAAAAHwAAAADIGNtAgAAAH0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAOwAAAAEAAAAAgAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAgAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAgQAAAAMBAAAAgAAAAAAAEAAAAQABAAAAOAAAADsAAAAEAAAAAIAABGFuZycAAACCAAAAOAAAADsAAAAFAQAAAIAAAAA4AAAAOwAAAAYAAAAAgAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAAA7AAAABwEAAACAAAAAAADAJAAAAAAAAEAyAAAAAAAAAAAAhhAAAAAAAAEAAAACAAAACAAAAIQAAAADIGNtAgAAAIUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAOAAAAGAAAAAEAAAAAiAAAAAABEAAAAQABAAAADgE#8AAAAAAAAAAAAAIAAAAAiAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAiQAAAAMBAAAAiAAAAAAAEAAAAQABAAAADgAAABgAAAAEAAAAAIgABGFuZycAAACKAAAADgAAABgAAAAFAQAAAIgAAAAOAAAAGAAAAAYAAAAAiAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAAYAAAABwEAAACIAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAjhAAAAAAAAEAAAACAAAACAAAAIwAAAADIGNtAQAAAI0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAARAAAAGAAAAAEAAAAAkAAAAAABEAAAAQABAAAAEQE#8AAAAAAAAAAAAAIAAAAAkAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAkQAAAAMBAAAAkAAAAAAAEAAAAQABAAAAEQAAABgAAAAEAAAAAJAABGFuZycAAACSAAAAEQAAABgAAAAFAQAAAJAAAAARAAAAGAAAAAYAAAAAkAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABEAAAAYAAAABwEAAACQAAAAAABAMQAAAAAAAD#wAAAAAAAAAAAAlhAAAAAAAAEAAAACAAAACAAAAJQAAAADIGNtAQAAAJUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAfAAAAJgAAAAEAAAAAmAAAAAABEAAAAQABAAAAHwE#8AAAAAAAAAAAAAIAAAAAmAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAmQAAAAMBAAAAmAAAAAAAEAAAAQABAAAAHwAAACYAAAAEAAAAAJgABGFuZycAAACaAAAAHwAAACYAAAAFAQAAAJgAAAAfAAAAJgAAAAYAAAAAmAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAB8AAAAmAAAABwEAAACYAAAAAADAMAAAAAAAAEAqAAAAAAAAAAAAnhAAAAAAAAEAAAACAAAACAAAAJwAAAADIGNtAQAAAJ0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAAmAAAAHAAAAAEAAAAAoAAAAAABEAAAAQABAAAAJgE#8AAAAAAAAAAAAAIAAAAAoAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAoQAAAAMBAAAAoAAAAAAAEAAAAQABAAAAJgAAABwAAAAEAAAAAKAABGFuZycAAACiAAAAJgAAABwAAAAFAQAAAKAAAAAmAAAAHAAAAAYAAAAAoAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAcAAAABwEAAACgAAAAAABAMQAAAAAAAEAUAAAAAAAAAAAAphAAAAAAAAEAAAACAAAACAAAAKQAAAADIGNtAQAAAKUAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA4AAAAQwAAAAEAAAAAqAAAAAABEAAAAQABAAAAOAE#8AAAAAAAAAAAAAIAAAAAqAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAqQAAAAMBAAAAqAAAAAAAEAAAAQABAAAAOAAAAEMAAAAEAAAAAKgABGFuZycAAACqAAAAOAAAAEMAAAAFAQAAAKgAAAA4AAAAQwAAAAYAAAAAqAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADgAAABDAAAABwEAAACoAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAArhAAAAAAAAEAAAACAAAACAAAAKwAAAADIGNtAQAAAK0AAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAAA7AAAAQwAAAAEAAAAAsAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAsAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAsQAAAAMBAAAAsAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAALAABGFuZycAAACyAAAAOwAAAEMAAAAFAQAAALAAAAA7AAAAQwAAAAYAAAAAsAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADsAAABDAAAABwEAAACwAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAthAAAAAAAAEAAAACAAAACAAAALQAAAADIGNtAQAAALUAAAAH##########8=";
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAABAAAABgAQTG9uZ3VldXJPcmllbnRlZQArIzE6IExlIHByZW1pZXIgcG9pbnQKIzI6IExlIGRldXhpw6htZSBwb2ludAAAAAIAAAADAAAAAAn#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAUEAAAAA#####wAAAAAAAUIAAAAA##########8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####AAAAAAEQAAABAAEAAAAAAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAAC#####wAAAAEACENTZWdtZW50Af####8AAAAAABAAAAEAAQAAAAAAAAAB#####wAAAAIAE0NNZXN1cmVBbmdsZU9yaWVudGUA#####wAEYW5nJwAAAAMAAAAAAAAAAf####8AAAABAAlDTG9uZ3VldXIB#####wAAAAAAAAAB#####wAAAAEAB0NNaWxpZXUA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAAAAAAB#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQH#####AAAAAABAAAAAAAAAAMAAAAAAAAAAAAAABxAAAAAAAAEAAAAC#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAAAAgAAAAYAAAABAAAAw#####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2#####wAAAAEACkNDb25zdGFudGVACSH7VEQtGP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmYAAAABAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAAAAAACAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUA8ZmZmZmZmAAAAAgAAAAMA#####wEAAAAAEAAAAQABAAAAAQAAAAMAAAAGAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAoAAAAAAAAAAAABMQAAAAUA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACYzEAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmgxAAE0AAAACkAQAAAAAAAAAAAADQD#####AAJjMgABNQAAAApAFAAAAAAAAAAAAA0A#####wACaDIAATQAAAAKQBAAAAAAAAAAAAANAP####8AAmMzAAE1AAAACkAUAAAAAAAAAAAADQD#####AAJoMwABNAAAAApAEAAAAAAAAAAAAAsA#####wAAAAAAEAABQQDAMgAAAAAAAMAwAAAAAAAAAwABQFDAAAAAAABAQoAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAIAAAADv####8AAAACAAlDQ2VyY2xlT1IAAAAADwEAAAAAAQAAAA4AAAAIAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA8AAAAAABAAAUIAwDMAAAAAAADACAAAAAAAAAMAAUAS60sQO3OGAAAAEAAAAAMBAAAADwAAAAAAEAAAAQABAAAADgAAABEAAAACAP####8AAAAAABAAAUgAP#AAAAAAAAA#8AAAAAAAAAMAAT#ouymi+6YKAAAAEv####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAABMAAAASAAAADwD#####AQAAAAABAAAAEwAAAAgAAAAJAP####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAUAAAAFf####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAFgAAABMA#####wAAAAAAEAABQwBAIAAAAAAAAMAoAAAAAAAAAwACAAAAFgAAAAMA#####wAAAAAAEAAAAQABAAAADgAAABgAAAADAP####8AAAAAABAAAAEAAQAAABgAAAARAAAAAwD#####AAAAAAAQAAABAQEAAAATAAAAGAAAAAsA#####wAAAAAAEAABRABAEAAAAAAAAAAAAAAAAAAAAwABQH0QAAAAAABAZGAAAAAAAAAAAA4A#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAAAQAAAAIAAAACAAAACgAAABwAAAAPAAAAAB0BAAAAAAEAAAAcAAAACAAAAAoAAAAAEAEAAAAdAAAAAAAQAAFFAMAyAAAAAAAAwDAAAAAAAAADAAFAA5gUsW2nVQAAAB4AAAADAQAAAB0AAAAAABAAAAEAAQAAABwAAAAfAAAAAgD#####AAAAAAAQAAFHAMA3AAAAAAAAwCIAAAAAAAADAAE#5pq7A1eUfwAAACAAAAARAP####8BAAAAABAAAAEAAQAAACEAAAAgAAAADwD#####AQAAAAABAAAAIQAAAAgAAAALAAAAABIA#####wAAACIAAAAjAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACQAAAATAP####8AAAAAABAAAUYAwDIAAAAAAAC#8AAAAAAAAAMAAgAAACQAAAADAP####8AAAAAABAAAAEAAQAAABwAAAAmAAAAAwD#####AAAAAAAQAAABAAEAAAAmAAAAHwAAAAMA#####wAAAAAAEAAAAQEBAAAAIQAAACYAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAABMAAAAY#####wAAAAEAC0NNZWRpYXRyaWNlAAAAACoBAAAAAA0AAAEAAQAAABMAAAAYAAAABgAAAAAqAQAAAAANAAABBQAAAAATAAAAGAAAAA8AAAAAKgEAAAAAAQAAACwAAAAKQDAAAAAAAAABAAAAEgAAAAAqAAAAKwAAAC0AAAATAAAAACoBAAAAAA0AAAEFAAEAAAAuAAAABQEAAAAqAAAAEwAAABgAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACEAAAAmAAAAFAAAAAAxAQAAAAANAAABAAEAAAAhAAAAJgAAAAYAAAAAMQEAAAAADQAAAQUAAAAAIQAAACYAAAAPAAAAADEBAAAAAAEAAAAzAAAACkAwAAAAAAAAAQAAABIAAAAAMQAAADIAAAA0AAAAEwAAAAAxAQAAAAANAAABBQABAAAANQAAAAUBAAAAMQAAACEAAAAmAAAACwD#####AAAAAAAQAAFNAMAgAAAAAAAAwD0AAAAAAAADAAFAdBAAAAAAAEBwcAAAAAAAAAAADgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAOAAAAA8AAAAAOQEAAAAAAQAAADgAAAAIAAAADAAAAAAQAQAAADkAAAAAABAAAU4AwBwAAAAAAADAOgAAAAAAAAMAAUAJOHyA#SdXAAAAOgAAAAMBAAAAOQAAAAAAEAAAAQABAAAAOAAAADv#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAADgAAAA7AAAAAgD#####AAAAAAAQAAFJAMAIAAAAAAAAwDwAAAAAAAADAAE#99qox0vglgAAAD0AAAARAP####8BAAAAABAAAAEAAQAAAD4AAAA9AAAADwD#####AQAAAAABAAAAPgAAAAgAAAANAAAAABIA#####wAAAD8AAABAAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAAEEAAAATAP####8AAAAAABAAAU8AwBwAAAAAAABAHAAAAAAAAAMAAgAAAEEAAAADAP####8AAAAAABAAAAEAAQAAADsAAABDAAAAAwD#####AAAAAAAQAAABAAEAAABDAAAAOAAAAAMA#####wAAAAAAEAAAAQEBAAAAOwAAAD4AAAADAP####8AAAAAABAAAAEBAQAAAD4AAABD#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAAAAAEAAAABQDAAAAAAAAAAAABDAAAAPgAAADsAAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAYAAAAEwAAAA4AAAAWAP####8AAAAAAAEAAAABQDAAAAAAAAAAAAAmAAAAIQAAABwAAAAOAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAD4AAABDAAAAFAAAAABLAQAAAAANAAABAAEAAAA+AAAAQwAAAAYAAAAASwEAAAAADQAAAQUAAAAAPgAAAEMAAAAPAAAAAEsBAAAAAAEAAABNAAAACkAwAAAAAAAAAQAAABIAAAAASwAAAEwAAABOAAAAEwAAAABLAQAAAAANAAABBQABAAAATwAAAAUBAAAASwAAAD4AAABDAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEwAAABgAAAABAAAAAFIAAAAAARAAAAEAAQAAABMBP#AAAAAAAAAAAAACAAAAAFIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFMAAAADAQAAAFIAAAAAABAAAAEBAQAAABMAAAAYAAAABAAAAABSAARhbmcnAAAAVAAAABMAAAAYAAAABQEAAABSAAAAEwAAABgAAAAGAAAAAFIAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAGAAAAAcBAAAAUgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAFgQAAAAAAABAAAAAgAAAAgAAABWAAAAAyBjbQIAAABXAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAAAwAAAAIAAAACAAAAIQAAACYAAAABAAAAAFoAAAAAARAAAAEAAQAAACEBP#AAAAAAAAAAAAACAAAAAFoAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAFsAAAADAQAAAFoAAAAAABAAAAEBAQAAACEAAAAmAAAABAAAAABaAARhbmcnAAAAXAAAACEAAAAmAAAABQEAAABaAAAAIQAAACYAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAADAAAAAgAAAAIAAAA7AAAAQwAAAAEAAAAAYAAAAAABEAAAAQABAAAAOwE#8AAAAAAAAAAAAAIAAAAAYAAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAYQAAAAMBAAAAYAAAAAAAEAAAAQABAAAAOwAAAEMAAAAEAAAAAGAABGFuZycAAABiAAAAOwAAAEMAAAAFAQAAAGAAAAA7AAAAQwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAD4AAABDAAAAAQAAAABmAAAAAAEQAAABAAEAAAA+AT#wAAAAAAAAAAAAAgAAAABmAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABnAAAAAwEAAABmAAAAAAAQAAABAQEAAAA+AAAAQwAAAAQAAAAAZgAEYW5nJwAAAGgAAAA+AAAAQwAAAAUBAAAAZgAAAD4AAABDAAAABgAAAABmAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAPgAAAEMAAAAHAQAAAGYAAAAAAMAyAAAAAAAAwAgAAAAAAAAAAABsEAAAAAAAAQAAAAIAAAAIAAAAagAAAAMgY20CAAAAawAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAA4AAAARAAAAAQAAAABuAAAAAAEQAAABAAEAAAAOAT#wAAAAAAAAAAAAAgAAAABuAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAABvAAAAAwEAAABuAAAAAAAQAAABAAEAAAAOAAAAEQAAAAQAAAAAbgAEYW5nJwAAAHAAAAAOAAAAEQAAAAUBAAAAbgAAAA4AAAARAAAABgAAAABuAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAABEAAAAHAQAAAG4AAAAAAMA2AAAAAAAAQDQAAAAAAAAAAAB0EAAAAAAAAQAAAAIAAAAIAAAAcgAAAAMgY20CAAAAcwAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAQAAAADAAAAAgAAAB8AAAAcAAAAAQAAAAB2AAAAAAEQAAABAAEAAAAfAT#wAAAAAAAAAAAAAgAAAAB2AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB3AAAAAwEAAAB2AAAAAAAQAAABAAEAAAAfAAAAHAAAAAQAAAAAdgAEYW5nJwAAAHgAAAAfAAAAHAAAAAUBAAAAdgAAAB8AAAAcAAAABgAAAAB2AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHwAAABwAAAAHAQAAAHYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB8EAAAAAAAAQAAAAIAAAAIAAAAegAAAAMgY20CAAAAewAAAA4A#####wAQTG9uZ3VldXJPcmllbnRlZQAAAAMAAAACAAAAAgAAADgAAAA7AAAAAQAAAAB+AAAAAAEQAAABAAEAAAA4AT#wAAAAAAAAAAAAAgAAAAB+AAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAAB#AAAAAwEAAAB+AAAAAAAQAAABAAEAAAA4AAAAOwAAAAQAAAAAfgAEYW5nJwAAAIAAAAA4AAAAOwAAAAUBAAAAfgAAADgAAAA7AAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAOwAAADgAAAABAAAAAIQAAAAAARAAAAEAAQAAADsBP#AAAAAAAAAAAAACAAAAAIQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIUAAAADAQAAAIQAAAAAABAAAAEAAQAAADsAAAA4AAAABAAAAACEAARhbmcnAAAAhgAAADsAAAA4AAAABQEAAACEAAAAOwAAADgAAAAGAAAAAIQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAOAAAAAcBAAAAhAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAIoQAAAAAAABAAAAAgAAAAgAAACIAAAAAyBjbQIAAACJAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAEQAAABgAAAABAAAAAIwAAAAAARAAAAEAAQAAABEBP#AAAAAAAAAAAAACAAAAAIwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAI0AAAADAQAAAIwAAAAAABAAAAEAAQAAABEAAAAYAAAABAAAAACMAARhbmcnAAAAjgAAABEAAAAYAAAABQEAAACMAAAAEQAAABgAAAAGAAAAAIwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAARAAAAGAAAAAcBAAAAjAAAAAAAQBQAAAAAAABAMwAAAAAAAAAAAJIQAAAAAAABAAAAAgAAAAgAAACQAAAAAyBjbQEAAACRAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAADgAAABgAAAABAAAAAJQAAAAAARAAAAEAAQAAAA4BP#AAAAAAAAAAAAACAAAAAJQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJUAAAADAQAAAJQAAAAAABAAAAEAAQAAAA4AAAAYAAAABAAAAACUAARhbmcnAAAAlgAAAA4AAAAYAAAABQEAAACUAAAADgAAABgAAAAGAAAAAJQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAOAAAAGAAAAAcBAAAAlAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAJoQAAAAAAABAAAAAgAAAAgAAACYAAAAAyBjbQEAAACZAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAAB8AAAABAAAAAJwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAJwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ0AAAADAQAAAJwAAAAAABAAAAEAAQAAACYAAAAfAAAABAAAAACcAARhbmcnAAAAngAAACYAAAAfAAAABQEAAACcAAAAJgAAAB8AAAAGAAAAAJwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHwAAAAcBAAAAnAAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAAgAAACgAAAAAyBjbQEAAAChAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAMAAAACAAAAJgAAABwAAAABAAAAAKQAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKQAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAKUAAAADAQAAAKQAAAAAABAAAAEAAQAAACYAAAAcAAAABAAAAACkAARhbmcnAAAApgAAACYAAAAcAAAABQEAAACkAAAAJgAAABwAAAAGAAAAAKQAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAHAAAAAcBAAAApAAAAAAAQAgAAAAAAABAMwAAAAAAAAAAAKoQAAAAAAABAAAAAgAAAAgAAACoAAAAAyBjbQEAAACpAAAADgD#####ABBMb25ndWV1ck9yaWVudGVlAAAABAAAAAIAAAACAAAAJgAAACEAAAABAAAAAKwAAAAAARAAAAEAAQAAACYBP#AAAAAAAAAAAAACAAAAAKwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAK0AAAAEAAAAAKwABGFuZycAAACuAAAAJgAAACEAAAAFAQAAAKwAAAAmAAAAIQAAAAYAAAAArAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAhAAAABwEAAACsAAAAAABALgAAAAAAAEAmAAAAAAAAAAAAsRAAAAAAAAEAAAACAAAACAAAAK8AAAADIGNtAQAAALAAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOwAAAAEAAAAAswAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAswAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAtAAAAAMBAAAAswAAAAAAEAAAAQABAAAAQwAAADsAAAAEAAAAALMABGFuZycAAAC1AAAAQwAAADsAAAAFAQAAALMAAABDAAAAOwAAAAYAAAAAswAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA7AAAABwEAAACzAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAuRAAAAAAAAEAAAACAAAACAAAALcAAAADIGNtAQAAALgAAAAOAP####8AEExvbmd1ZXVyT3JpZW50ZWUAAAAEAAAAAwAAAAIAAABDAAAAOAAAAAEAAAAAuwAAAAABEAAAAQABAAAAQwE#8AAAAAAAAAAAAAIAAAAAuwAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAvAAAAAMBAAAAuwAAAAAAEAAAAQABAAAAQwAAADgAAAAEAAAAALsABGFuZycAAAC9AAAAQwAAADgAAAAFAQAAALsAAABDAAAAOAAAAAYAAAAAuwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEMAAAA4AAAABwEAAAC7AAAAAABAKAAAAAAAAEAsAAAAAAAAAAAAwRAAAAAAAAEAAAACAAAACAAAAL8AAAADIGNtAQAAAMAAAAAH##########8=";
    }
    texte_corr = `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times AB\\times HC=\\dfrac{1}{2}\\times${c1}~\\text{cm}\\times ${h1}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c1 * h1) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{DEF}=\\dfrac{1}{2}\\times DE\\times GF=\\dfrac{1}{2}\\times${c2}~\\text{cm}\\times ${h2}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c2 * h2) / 2)
    )}~\\text{cm}^2$`;
    texte_corr += "<br>";
    texte_corr += `$\\mathcal{A}_{ABC}=\\dfrac{1}{2}\\times MN\\times IO=\\dfrac{1}{2}\\times${c3}~\\text{cm}\\times ${h3}~\\text{cm}=${tex_nombre(
      Algebrite.eval((c3 * h3) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c1", "${c1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c2", "${c2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c3", "${c3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h1", "${h1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h2", "${h2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h3", "${h3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };
}

/**
 * 4 cercles sont tracés, 2 dont on connait le rayon et 2 dont on connait le diamètre.
 * * 1 : Calculer le périmètre de cercles
 * * 2 : Calculer l'aire de disques
 * * 3 : Calculer le périmètre et l'aire de disques
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M22-1
 */
function Perimetre_aire_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de disques";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let tableau_des_rayons = shuffle([2, 3, 4, 5, 6, 7, 8]); //pour s'assurer que les 4 rayons sont différents
    let r1 = tableau_des_rayons[0];
    let r2 = tableau_des_rayons[1];
    let r3 = tableau_des_rayons[2];
    let r4 = tableau_des_rayons[3];
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre des 4 cercles suivants.";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire des 4 disques suivants.";
    }
    if (this.sup == 3) {
      this.consigne = "Calculer le périmètre et l'aire des 4 disques suivants.";
    }

    this.consigne +=
      "</br>Donner la valeur exacte et une valeur approchée au dixième près.";

    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAAEAAAAQABAAAAMQAAACQAAAAaAP####8BAAAAABAAAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDUAAAAAAADANwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDEpAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAZDI0woMikAAAAdAP####8AAAAAAMA3AAAAAAAAwDUAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAABkMjTCgzKQAAAB0A#####wAAAAAAwDgAAAAAAADANQAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAGQyNMKDQpAAAADv##########";
    //	let codeBase64 = "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAEv#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFPAMAoAAAAAAAAAAAAAAAAAAAFAAFACAAAAAAAAEB#UAAAAAAA#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBgAAAAAAAAAAAAAAAAAAAUAAUA8ZmZmZmZmAAAAAv####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAQAAAAP#####AAAAAQAWQ0Ryb2l0ZVBlcnBlbmRpY3VsYWlyZQD#####AQAAAAAQAAABAAEAAAABAAAABP####8AAAABAAlDQ2VyY2xlT0EA#####wEAAAAAAQAAAAEAAAAD#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAUAAAAG#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAQUAAQAAAAcAAAAJAP####8BAAAAAA4AAUoAwCgAAAAAAADAEAAAAAAAAAUAAgAAAAf#####AAAAAgAHQ1JlcGVyZQD#####AObm5gABAAAAAQAAAAMAAAAJAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEACkNVbml0ZXhSZXAA#####wAEdW5pdAAAAAr#####AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAH#####AAAAAQAKQ09wZXJhdGlvbgMAAAABP#AAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAC#####8AAAABAAtDUG9pbnRJbWFnZQD#####AQAAAAAQAAJXIgEBAAAAAAMAAAAM#####wAAAAEACUNMb25ndWV1cgD#####AAAAAQAAAA3#####AAAAAQANQ1BvaW50QmFzZUVudAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAyAAAAAAAAAQEAAAARAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAQAAAAoAAAAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAEAwAAAAAAAAAQEAAAARAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAUAAQAAAApAMQAAAAAAAAAAAAAAAAAAAQH#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEAAAABH#####AAAAAQALQ01lZGlhdHJpY2UAAAAAEwEAAAAAEAAAAQABAAAAEAAAABH#####AAAAAQAHQ01pbGlldQAAAAATAQAAAAAQAAABBQAAAAAQAAAAEf####8AAAACAAlDQ2VyY2xlT1IAAAAAEwEAAAAAAQAAABUAAAABQDAAAAAAAAABAAAACAAAAAATAAAAFAAAABYAAAAJAAAAABMBAAAAABAAAAEFAAEAAAAXAAAAEAEAAAATAAAAEAAAABH#####AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABMBAAAAAQAAABgRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAGQAAABIA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAEgAAABEAAAATAAAAABsBAAAAABAAAAEAAQAAABIAAAARAAAAFAAAAAAbAQAAAAAQAAABBQAAAAASAAAAEQAAABUAAAAAGwEAAAAAAQAAAB0AAAABQDAAAAAAAAABAAAACAAAAAAbAAAAHAAAAB4AAAAJAAAAABsBAAAAABAAAAEFAAEAAAAfAAAAEAEAAAAbAAAAEgAAABEAAAAWAQAAABsBAAAAAQAAACARAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAAIf####8AAAABABBDUG9pbnREYW5zUmVwZXJlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAUAAAAAAAAAAAAAUAqAAAAAAAAAAAAFwD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACgAAAAFAKgAAAAAAAAAAAAFAKgAAAAAAAAAAABcA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAoAAAABQBQAAAAAAAAAAAABQBDMzMzMzM0AAAAXAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAKAAAAAUAqAAAAAAAAAAAAAUAQzMzMzMzN#####wAAAAEAB0NDYWxjdWwA#####wACcjEAATgAAAABQCAAAAAAAAAAAAAYAP####8AAnIyAAE4AAAAAUAgAAAAAAAAAAAAGAD#####AAJyMwABOAAAAAFAIAAAAAAAAAAAABgA#####wACcjQAATgAAAABQCAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAjAAAADQMAAAAOAAAAJwAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAkAAAADQMAAAAOAAAAKAAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAlAAAADQMAAAAOAAAAKQAAAAFAAAAAAAAAAAAAAAAVAP####8AAAAAAAEAAAAmAAAADQMAAAAOAAAAKgAAAAFAAAAAAAAAAAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABP+2jc+MfDgIAAAArAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAT#oCnbou8r7AAAALgAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAFAA2#XuqaBNQAAACwAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAUiuM2Ua#MAAAAt#####wAAAAEADUNEZW1pRHJvaXRlT0EA#####wEAAAAADQAAAQABAAAAMQAAACQAAAAaAP####8BAAAAAA0AAAEAAQAAADIAAAAl#####wAAAAEAI0NBdXRyZVBvaW50SW50ZXJzZWN0aW9uRHJvaXRlQ2VyY2xlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAsAAAAMwAAADEAAAAbAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAtAAAANAAAADL#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQEBAAAAIwAAAC8AAAAcAP####8AAAAAABAAAAEBAQAAADEAAAA1AAAAHAD#####AAAAAAAQAAABAQEAAAAyAAAANgAAABwA#####wAAAAAAEAAAAQEBAAAAJgAAADAAAAAUAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwAAAAAjAAAALwAAABQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAACYAAAAwAAAAFgD#####AAAAAABAEAAAAAAAAEAUAAAAAAAAAAAAOxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAyBjbQIAAAAnAAAAGAD#####AAJkMgAEMipyMgAAAA0CAAAAAUAAAAAAAAAAAAAADgAAACgAAAAYAP####8AAmQzAAQyKnIzAAAADQIAAAABQAAAAAAAAAAAAAAOAAAAKQAAABYA#####wAAAAAAQBQAAAAAAADALAAAAAAAAAAAACQQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPgAAABYA#####wAAAAAAQBAAAAAAAADAMQAAAAAAAAAAACUQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAMgY20CAAAAPwAAABYA#####wAAAAAAQBAAAAAAAABAAAAAAAAAAAAAADwQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJjbQIAAAAqAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUAC6DhJtPdjAAAAKwAAABkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAE#54KANM#JugAAACwAAAAZAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABQAH6z0QhlKUAAAAtAAAAGQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAUABlMNYoHZ0AAAALv####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwDAAAAAAAADAMwAAAAAAAAAAAEMQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzEkAAAAHQD#####AAAAAABAGAAAAAAAAMAwAAAAAAAAAAAARBAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAA8kXG1hdGhjYWx7Q31fMiQAAAAdAP####8AAAAAAMAyAAAAAAAAwDQAAAAAAAAAAABFEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAADyRcbWF0aGNhbHtDfV8zJAAAAB0A#####wAAAAAAwDMAAAAAAADAMAAAAAAAAAAAAEYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAPJFxtYXRoY2Fse0N9XzQkAAAADv##########";
    //  Si affichage LaTeX alors bug de MG32
    texte_corr = "";
    if (this.sup == 1) {
      //si on ne demande pas les aires
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;
    }

    if (this.sup == 2) {
      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    if (this.sup == 3) {
      texte_corr = `$\\mathcal{P}_1=2\\times${r1}\\times\\pi=${
        2 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r1 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_2=${2 * r2}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r2 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_3=${2 * r3}\\times\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r3 * Math.PI), 1)
      )}$ cm<br>`;
      texte_corr += `$\\mathcal{P}_4=2\\times${r4}\\times\\pi=${
        2 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(2 * r4 * Math.PI), 1)
      )}$ cm<br>`;

      texte_corr += `<br>`;

      texte_corr += `$\\mathcal{A}_1=${r1}\\times${r1}\\times\\pi=${
        r1 * r1
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r1 * r1 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_2$ est ${
        2 * r2
      } cm donc son rayon est ${r2} cm.<br>`;
      texte_corr += `$\\mathcal{A}_2=${r2}\\times${r2}\\times\\pi=${
        r2 * r2
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r2 * r2 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `Le diamètre de $\\mathcal{C}_3$ est ${
        2 * r3
      } cm donc son rayon est ${r3} cm.<br>`;
      texte_corr += `$\\mathcal{A}_3=${r3}\\times${r3}\\times\\pi=${
        r3 * r3
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r3 * r3 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
      texte_corr += `$\\mathcal{A}_4=${r4}\\times${r4}\\times\\pi=${
        r4 * r4
      }\\pi\\approx${tex_nombre(
        arrondi(Algebrite.eval(r4 * r4 * Math.PI), 1)
      )}~\\text{cm}^2$<br>`;
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r1", "${r1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r4", "${r4}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * 3 figures sont données, 1 quart de disque, un demi-disque et un 3-quarts de disque
 * * 1 : Calculer les périmètres
 * * 2 : Calculer les aires
 * * 3 : Calculer les périmètres et aires
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Rééférence 6M22-2
 */
function Perimetre_aire_et_portions_de_disques(pa = 3) {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de portions de cercles";
  this.consigne =
    "Calculer le périmètre et l'aire de chacune des figures suivantes";
  this.sup = pa; // 1 : périmètre, 2 : aire, 3 : périmètres et aires
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let r = randint(1, 5);
    let r2 = randint(2, 4);
    let r3 = randint(2, 4);
    let figure = randint(1, 2);
    let codeBase64 = "";
    if (this.sup == 1) {
      this.consigne = "Calculer le périmètre de chacune des figures suivantes";
    }
    if (this.sup == 2) {
      this.consigne = "Calculer l'aire de chacune des figures suivantes";
    }

    if (figure == 1) {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAIoAAACNQAAAQEAAAAAAAAAAQAAAE######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAAN#####wAAAAEADENBcmNEZUNlcmNsZQD#####AAAAAAABAAAACQAAAA######AAAAAUBWgAAAAAAAAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAARAAAADAD#####AAAAEgAAABAAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwABAAAAEwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAATAAAABgD#####AAAAAAAQAAABAAEAAAAVAAAACf####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAJAAAAD#####8AAAABAAtDTWVkaWF0cmljZQAAAAAXAQAAAAAQAAABAAEAAAAJAAAADwAAAAcAAAAAFwEAAAAAEAAAAQUAAAAACQAAAA8AAAAKAAAAABcBAAAAAAEAAAAZAAAAAUAwAAAAAAAAAQAAAAwAAAAAFwAAABgAAAAaAAAADQAAAAAXAQAAAAAQAAABBQABAAAAGwAAAAkBAAAAFwAAAAkAAAAP#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQEAAAAXAAAAAAEAAAAcEQAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAADIGNtAQAAAB3#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAAWAAAAEwD#####AAAA#wACAQAAABEAAAACAP####8AAnIyAAE1AAAAAUAUAAAAAAAAAAAACgD#####AQAA#wABAAAACf####8AAAABAApDT3BlcmF0aW9uAAAAABQAAAAACwAAAAoAAAALAAAAIQAAAAFAAAAAAAAAAAAAAAAMAP####8AAAALAAAAIgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAAjAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAACMAAAAKAP####8BAAAAAAEAAAAlAAAACwAAACEAAAAADAD#####AAAACwAAACYAAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACcAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACcAAAAOAP####8AAAAAAAEAAAAlAAAAKQAAACgAAAAGAP####8AAAAAABAAAAEAAQAAACgAAAApAAAAEAD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAAoAAAAKQAAABEAAAAALAEAAAAAEAAAAQABAAAAKAAAACkAAAAHAAAAACwBAAAAABAAAAEFAAAAACgAAAApAAAACgAAAAAsAQAAAAABAAAALgAAAAFAMAAAAAAAAAEAAAAMAAAAACwAAAAtAAAALwAAAA0AAAAALAEAAAAAEAAAAQUAAQAAADAAAAAJAQAAACwAAAAoAAAAKQAAABIBAAAALAAAAAABAAAAMREAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAyAAAABwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAACQAAACkAAAAPAP####8BAAAAABAAAAEAAQAAADQAAAArAAAACgD#####AQAAAAABAAAANAAAABQAAAAACwAAAAEAAAABQAAAAAAAAAAAAAAADAD#####AAAANQAAADYAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANwAAAA0A#####wEAAAAAEAABRQAAAAAAAAAAAEAIAAAAAAAAAwABAAAANwAAAAQA#####wEAAAABEAAAAQABAAAAOQE#8AAAAAAAAAAAAAoA#####wEAAAAAAQAAADkAAAALAAAAAQAAAAAMAP####8AAAA6AAAAOwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAA8AAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAQAAADwAAAAMAP####8AAAA1AAAAOwAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAAPwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA######wAAAAEAEUNHcmFuZEFyY0RlQ2VyY2xlAP####8AAAAAAAEAAAA5AAAAPgAAAEAAAAAGAP####8AAAAAABAAAAEAAQAAAEAAAAA5AAAABgD#####AAAAAAAQAAABAAEAAAA5AAAAPgAAABMA#####wAAAP8AAgIAAABDAAAAEwD#####AAAA#wACAgAAAEQAAAAQAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEAAAAA5AAAAEQAAAABHAQAAAAAQAAABAAEAAABAAAAAOQAAAAcAAAAARwEAAAAAEAAAAQUAAAAAQAAAADkAAAAKAAAAAEcBAAAAAAEAAABJAAAAAUAwAAAAAAAAAQAAAAwAAAAARwAAAEgAAABKAAAADQAAAABHAQAAAAAQAAABBQABAAAASwAAAAkBAAAARwAAAEAAAAA5AAAAEgEAAABHAAAAAABARgAAAAAAAAAAAAAAAAAAAAAATBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABNAAAACP##########";

      if (this.sup == 1) {
        //si on ne demande pas les aires
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r2
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{1}{2}\\times${
          2 * r2
        }\\times\\pi+${2 * r2}=${r2}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r3} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{3}{4}\\times2\\times${r3}\\times\\pi+${r3}+${r3}=${tex_nombre(
          Algebrite.eval((6 * r3) / 4)
        )}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(((6 * r3) / 4) * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est la moitié d'un disque de diamètre ${
          2 * r2
        } cm donc de ${r2} cm de rayon.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{1}{2}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          Algebrite.eval((r2 * r2) / 2)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r2 * r2) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est trois quarts d'un disque de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{3}{4}\\times${r3}\\times${r3}\\times\\pi=${tex_nombre(
          Algebrite.eval((3 / 4) * r3 * r3)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r3 * r3 * Math.PI), 1)
        )}~\\text{cm}^2$`;
      }
    } else {
      codeBase64 =
        "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAL2AAACOAAAAQEAAAAAAAAAAQAAAGX#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAHQ0NhbGN1bAD#####AAJyMwABNgAAAAFAGAAAAAAAAP####8AAAABAApDUG9pbnRCYXNlAP####8BAAAAAA4AAVUAwCQAAAAAAABAEAAAAAAAAAUAAEAsZmZmZmZmQCxmZmZmZmb#####AAAAAQAUQ0Ryb2l0ZURpcmVjdGlvbkZpeGUA#####wEAAAAAEAAAAQABAAAAAgE#8AAAAAAAAP####8AAAABAA9DUG9pbnRMaWVEcm9pdGUA#####wEAAAAADgABVgDAAAAAAAAAAEAQAAAAAAAABQABQDxmZmZmZmYAAAAD#####wAAAAEACENTZWdtZW50AP####8BAAAAABAAAAEAAQAAAAIAAAAE#####wAAAAEAB0NNaWxpZXUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAIAAAAE#####wAAAAIADENDb21tZW50YWlyZQD#####AQAAAAAAAAAAAAAAAEAYAAAAAAAAAAAABgwAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAEx#####wAAAAEACUNMb25ndWV1cgD#####AAAAAgAAAAQAAAADAP####8BAAAAABAAAU8AAAAAAAAAAABACAAAAAAAAAMAAUBRQAAAAAAAQGQAAAAAAAAAAAACAP####8AAXIAATQAAAABQBAAAAAAAAAAAAAEAP####8BAAAAARAAAAEAAQAAAAkBP#AAAAAAAAD#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAEAAAAJ#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAoA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAM#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAIAAAANAAAADQD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAADAAEAAAANAAAABgD#####AAAAAAAQAAABAAEAAAAJAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8BAAAAABAAAAEAAQAAAAkAAAAQ#####wAAAAEAFENJbXBsZW1lbnRhdGlvblByb3RvAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAAkAAAAP#####wAAAAEAC0NNZWRpYXRyaWNlAAAAABIBAAAAABAAAAEAAQAAAAkAAAAPAAAABwAAAAASAQAAAAAQAAABBQAAAAAJAAAADwAAAAoAAAAAEgEAAAAAAQAAABQAAAABQDAAAAAAAAABAAAADAAAAAASAAAAEwAAABUAAAANAAAAABIBAAAAABAAAAEFAAEAAAAWAAAACQEAAAASAAAACQAAAA######AAAAAQAPQ1ZhbGV1ckFmZmljaGVlAQAAABIAAAAAAQAAABcRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAGAAAAAIA#####wACcjIAATQAAAABQBAAAAAAAAAAAAAKAP####8BAAD#AAEAAAAJ#####wAAAAEACkNPcGVyYXRpb24AAAAAEgAAAAALAAAACgAAAAsAAAAaAAAAAUAAAAAAAAAAAAAAAAwA#####wAAAAsAAAAbAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAABwAAAANAP####8BAAAAABAAAUcAAAAAAAAAAABACAAAAAAAAAMAAQAAABwAAAAKAP####8BAAAAAAEAAAAeAAAACwAAABoAAAAADAD#####AAAACwAAAB8AAAANAP####8BAAAAABAAAUIAAAAAAAAAAABACAAAAAAAAAMAAgAAACAAAAANAP####8BAAAAABAAAUMAAAAAAAAAAABACAAAAAAAAAMAAQAAACAAAAAGAP####8BAAAAABAAAAEAAQAAACEAAAAiAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAAAhAAAAIgAAABAAAAAAJAEAAAAAEAAAAQABAAAAIQAAACIAAAAHAAAAACQBAAAAABAAAAEFAAAAACEAAAAiAAAACgAAAAAkAQAAAAABAAAAJgAAAAFAMAAAAAAAAAEAAAAMAAAAACQAAAAlAAAAJwAAAA0AAAAAJAEAAAAAEAAAAQUAAQAAACgAAAAJAQAAACQAAAAhAAAAIgAAAAcA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAAAAAkAAAAiAAAADgD#####AQAAAAAQAAABAAEAAAArAAAAIwAAAAoA#####wEAAAAAAQAAACsAAAASAgAAAAE#+AAAAAAAAAAAAAsAAAAaAAAAAAwA#####wAAACwAAAAtAAAADQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAgAAAC4AAAANAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAMAAQAAAC4AAAAEAP####8BAAAAARAAAAEAAQAAADABP#AAAAAAAAAAAAAKAP####8BAAAAAAEAAAAwAAAACwAAAAEAAAAADAD#####AAAAMQAAADIAAAANAP####8BAAAAABAAAUkAAAAAAAAAAABACAAAAAAAAAMAAgAAADMAAAANAP####8BAAAAABAAAUgAAAAAAAAAAABACAAAAAAAAAMAAQAAADMAAAAMAP####8AAAAsAAAAMgAAAA0A#####wEAAAAAEAABRAAAAAAAAAAAAEAIAAAAAAAAAwACAAAANgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAAA2AAAABgD#####AQAAAAAQAAABAAEAAAA3AAAAMAAAAAYA#####wAAAAAAEAAAAQABAAAAMAAAADUAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAADcAAAAwAAAAEAAAAAA7AQAAAAAQAAABAAEAAAA3AAAAMAAAAAcAAAAAOwEAAAAAEAAAAQUAAAAANwAAADAAAAAKAAAAADsBAAAAAAEAAAA9AAAAAUAwAAAAAAAAAQAAAAwAAAAAOwAAADwAAAA+AAAADQAAAAA7AQAAAAAQAAABBQABAAAAPwAAAAkBAAAAOwAAADcAAAAwAAAAEQEAAAA7AQAAAABARgAAAAAAAAAAAAAAAAAAAAAAQBEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABBAAAADAD#####AAAAEQAAAAwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQACAAAAQwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABDAAAABgD#####AAAAAAAQAAABAAEAAAAwAAAANAAAAA4A#####wEAAP8AEAAAAQACAAAAHgAAACMAAAAMAP####8AAABHAAAAHwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAADAAEAAABIAAAADQD#####AQAAAAAQAAFGAAAAAAAAAAAAQAgAAAAAAAADAAIAAABIAAAABgD#####AAAAAAAQAAABAAEAAAAeAAAASgAAAAYA#####wAAAAAAEAAAAQABAAAAHgAAACH#####AAAAAQAMQ0FyY0RlQ2VyY2xlAP####8AAAAAAAEAAAAJAAAADwAAAEQAAAAPAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAACAAAAAgAAAEoAAAAeAAAAEAAAAABOAQAAAAAQAAABAAEAAABKAAAAHgAAAAcAAAAATgEAAAAAEAAAAQUAAAAASgAAAB4AAAAKAAAAAE4BAAAAAAEAAABQAAAAAUAwAAAAAAAAAQAAAAwAAAAATgAAAE8AAABRAAAADQAAAABOAQAAAAAQAAABBQABAAAAUgAAAAkBAAAATgAAAEoAAAAeAAAAEQEAAABOAAAAAADAKgAAAAAAAAAAAAAAAAAAAAAAUxEAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAABUAAAADwD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAgAAAAIAAAA1AAAANAAAABAAAAAAVgEAAAAAEAAAAQABAAAANQAAADQAAAAHAAAAAFYBAAAAABAAAAEFAAAAADUAAAA0AAAACgAAAABWAQAAAAABAAAAWAAAAAFAMAAAAAAAAAEAAAAMAAAAAFYAAABXAAAAWQAAAA0AAAAAVgEAAAAAEAAAAQUAAQAAAFoAAAAJAQAAAFYAAAA1AAAANAAAABEBAAAAVgAAAAAAAAAAAAAAAADACAAAAAAAAAAAAFsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAAXAAAAAYA#####wAAAAAAEAAAAQABAAAACQAAAEQAAAATAP####8AAAAAAAEAAAAwAAAANP####8AAAABQGaAAAAAAAD#####AAAAAQARQ0dyYW5kQXJjRGVDZXJjbGUA#####wAAAAAAAQAAAB4AAAAh#####wAAAAFAcOAAAAAAAP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAA#wACAgAAAF4AAAAVAP####8AAAD#AAICAAAAEAAAABUA#####wAAAP8AAgAAAABLAAAAFQD#####AAAA#wACAAAAAEwAAAAI##########8=";
      texte_corr = `La première figure est un quart de cercle de rayon ${r} cm auquel il faut ajouter les 2 rayons qui ferment la figure.<br>`;

      if (this.sup == 1) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
      }

      if (this.sup == 2) {
        texte_corr = `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }

      if (this.sup == 3) {
        texte_corr = `La première figure est un quart de disque, son périmètre est composé d'un quart de cercle de rayon ${r} cm et de 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_1=\\dfrac{1}{4}\\times2\\times${r}\\times\\pi+${r}+${r}=${tex_nombre(
          Algebrite.eval(r / 2)
        )}\\pi+${2 * r}\\approx${tex_nombre(
          arrondi(Algebrite.eval((r / 2) * Math.PI + 2 * r), 1)
        )}$ cm<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque, son périmètre est composé de trois quarts d'un cercle de rayon ${r2} cm et 2 rayons qui ferment la figure.<br>`;
        texte_corr += `$\\mathcal{P}_2=\\dfrac{3}{4}\\times2\\times${r2}\\times\\pi+${r2}+${r2}=${tex_nombre(
          (6 / 4) * r2
        )}\\pi+${2 * r2}\\approx${tex_nombre(
          arrondi(Algebrite.eval((6 / 4) * r2 * Math.PI + 2 * r2), 1)
        )}$ cm<br>`;
        texte_corr += `La troisième figure est un demi-disque, son périmètre est composé d'un demi-cercle de diamètre ${
          2 * r3
        } cm et d'un diamètre qui ferme la figure.<br>`;
        texte_corr += `$\\mathcal{P}_3=\\dfrac{1}{2}\\times${
          2 * r3
        }\\times\\pi+${2 * r3}=${r3}\\pi+${2 * r3}\\approx${tex_nombre(
          arrondi(Algebrite.eval(r3 * Math.PI + 2 * r3), 1)
        )}$ cm<br>`;
        texte_corr += `La première figure est un quart de disque de rayon ${r} cm.<br>`;
        texte_corr += `$\\mathcal{A}_1=\\dfrac{1}{4}\\times${r}\\times${r}\\times\\pi=${tex_nombre(
          Algebrite.eval((r * r) / 4)
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r * r) / 4) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La deuxième figure est trois quarts d'un disque rayon ${r2} cm.<br>`;
        texte_corr += `$\\mathcal{A}_2=\\dfrac{3}{4}\\times${r2}\\times${r2}\\times\\pi=${tex_nombre(
          (3 / 4) * r2 * r2
        )}\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval((3 / 4) * r2 * r2 * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
        texte_corr += `La troisième figure est un demi-cercle de diamètre ${
          2 * r3
        } cm donc de rayon ${r3} cm.<br>`;
        texte_corr += `$\\mathcal{A}_3=\\dfrac{1}{2}\\times${r3}\\times${r3}\\times\\pi=${
          (r3 * r3) / 2
        }\\pi\\approx${tex_nombre(
          arrondi(Algebrite.eval(((r3 * r3) / 2) * Math.PI), 1)
        )}~\\text{cm}^2$<br>`;
      }
    }

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r", "${r}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r2", "${r2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "r3", "${r3}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    3,
    "1 : Périmètres\n\
2 : Aires\n3 : Périmètres et aires",
  ];
}

/**
 * Un carré, un rectangle et un triangle rectangle sont tracés.
 *
 * Il faut calculer les aires et périmètres.
 *
 * Pas de version LaTeX
 * @Auteur Rémi Angot
 * Référence 6M11-1
 */
function Perimetre_ou_aire_de_carres_rectangles_triangles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires carrés, rectangles et triangles rectangles";
  this.consigne = "Calculer le périmètre et l'aire des 3 figures suivantes";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 3) : (this.spacing_corr = 2);
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [600, 450];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let c = randint(2, 6);
    let L = randint(2, 5);
    let l = randint(1, 4);
    while (l == L) {
      // Le rectangle ne doit pas être un carré
      l = randint(1, 4);
    }
    let a = randint(2, 5);
    let b = randint(2, 5);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAH0AAAB9AAAAQEAAAAAAAAAAQAAAH######AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wABYwABNQAAAAFAFAAAAAAAAAAAAAkA#####wABTAABNQAAAAFAFAAAAAAAAAAAAAkA#####wABbAABMgAAAAFAAAAAAAAAAAAAAAkA#####wABYgABNQAAAAFAFAAAAAAAAAAAAAkA#####wABYQABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAAAEAABQQDALgAAAAAAAAAAAAAAAAAABQABQDkAAAAAAABAaOAAAAAAAP####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAADf####8AAAACAAlDQ2VyY2xlT1IAAAAADgEAAAAAAQAAAA3#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAA4AAAAAABAAAUIAQAgAAAAAAAAAAAAAAAAAAAUAAUAYC8chUUHEAAAADwAAAAUBAAAADgAAAAAAEAAAAQABAAAADQAAABAAAAAGAAAAAA4BAAAAAA0AAAEFAAAAAA0AAAAQ#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAA4BAAAAAA0AAAEAAQAAAA0AAAAQAAAACwAAAAAOAQAAAAABAAAAEgAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAOAAAAEwAAABT#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAOAQAAAAANAAABBQABAAAAFf####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADgAAAAABAAAAFhAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAyBjbQEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAADQAAABEAAAASAP####8BAAAAABAAAAEAAQAAABAAAAAR#####wAAAAEACUNDZXJjbGVPQQD#####AQAAAAABAAAAEAAAAA0AAAATAP####8BAAAAAAEAAAANAAAAEAAAAA8A#####wAAABkAAAAaAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAABwAAAAQAP####8AAAAAABAAAUMAQBAAAAAAAADANQAAAAAAAAUAAgAAABwAAAAPAP####8AAAAYAAAAGwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAfAAAAEAD#####AAAAAAAQAAFEAMAsAAAAAAAAwDcAAAAAAAAFAAIAAAAf#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABQAAAA0AAAAQAAAAHgAAACEAAAANAAAABQD#####AAAAAAAQAAABAAEAAAAQAAAAHgAAAAUA#####wAAAAAAEAAAAQABAAAAHgAAACEAAAAFAP####8AAAAAABAAAAEAAQAAACEAAAAN#####wAAAAIAF0NNYXJxdWVBbmdsZUdlb21ldHJpcXVlAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAhAAAADQAAABAAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAANAAAAEAAAAB4AAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAQAAAAHgAAACEAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAAAeAAAAIQAAAA0AAAACAP####8AAAAAABAAAUgAwDEAAAAAAADAAAAAAAAAAAUAAUBymAAAAAAAQHEHCj1wo9cAAAAKAP####8AG1NlZ21lbnQgZGUgbG9uZ3VldXIgZG9ubsOpZQAAAAYAAAADAAAAAgAAAAkAAAAqAAAACwAAAAArAQAAAAABAAAAKgAAAAwAAAAJAAAAAA0BAAAAKwAAAAAAEAABRQBACAAAAAAAAAAAAAAAAAAABQABP8sfH32jwU4AAAAsAAAABQEAAAArAAAAAAAQAAABAAEAAAAqAAAALQAAAAYAAAAAKwEAAAAADQAAAQUAAAAAKgAAAC0AAAAOAAAAACsBAAAAAA0AAAEAAQAAACoAAAAtAAAACwAAAAArAQAAAAABAAAALwAAAAFAMAAAAAAAAAEAAAAPAAAAACsAAAAwAAAAMQAAABAAAAAAKwEAAAAADQAAAQUAAQAAADIAAAARAQAAACsAAAAAAQAAADMQAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAMgY20BAAAACQAAABIA#####wEAAAAAEAAAAQABAAAALQAAAC4AAAASAP####8BAAAAABAAAAEAAQAAACoAAAAuAAAACwD#####AQAAAAABAAAALQAAAAwAAAAKAAAAAAsA#####wEAAAAAAQAAACoAAAAMAAAACgAAAAAPAP####8AAAA1AAAANwAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAA5AAAAEAD#####AAAAAAAQAAFGAEAAAAAAAAAAwDgAAAAAAAAFAAIAAAA5AAAADwD#####AAAANgAAADgAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAPAAAABAA#####wAAAAAAEAABRwDALgAAAAAAAMA2AAAAAAAABQACAAAAPAAAAAUA#####wAAAAAAEAAAAQABAAAALQAAADsAAAAFAP####8AAAAAABAAAAEAAQAAADsAAAA+AAAABQD#####AAAAAAAQAAABAAEAAAA+AAAAKgAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAALQAAADsAAAADAAAAAEIAAAAAABAAAAEAAQAAAC0BP#AAAAAAAAAAAAAEAAAAAEIAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAEP#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAABCAAJhbgAAAEQAAAAtAAAAOwAAAAgBAAAAQgAAAC0AAAA7AAAABgAAAABCAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAADv#####AAAAAQANQ1BvaW50UHJvamV0ZQAAAABCAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAAA7AAAAQwAAABYAAAAAQgACbWEAAABEAAAALQAAAEj#####AAAAAQAOQ1Rlc3RFeGlzdGVuY2UAAAAAQgADdG1hAAAASQAAABEBAAAAQgAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAEcQAAAAAAABAAAAAv####8AAAABAA1DRm9uY3Rpb24zVmFyAAAAAAwAAABK#####wAAAAEACkNPcGVyYXRpb24AAAAADAAAAEUAAAAMAAAASQAAAAwAAABFAAAAAyBjbQEAAABGAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAALQAAADsAAAA+AAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAOwAAAD4AAAAqAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAPgAAACoAAAAtAAAAFQD#####AAAA#wACAAAAAUAwAAAAAAAAAAAAKgAAAC0AAAA7AAAAAgD#####AAAAAAAQAAFJAEAIAAAAAAAAAAAAAAAAAAAFAAFAbkAAAAAAAEB5kAAAAAAAAAAACgD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAABAAAAAgAAAAIAAAAMAAAAUAAAAAsAAAAAUQEAAAAAAQAAAFAAAAAMAAAADAAAAAANAQAAAFEAAAAAABAAAUoAwAgAAAAAAADAOgAAAAAAAAUAAT##e1lPr88TAAAAUgAAAAUBAAAAUQAAAAAAEAAAAQABAAAAUAAAAFMAAAASAP####8BAAAAABAAAAEAAQAAAFMAAABUAAAACwD#####AQAAAAABAAAAUwAAAAwAAAALAAAAAA8A#####wAAAFUAAABWAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFcAAAAQAP####8AAAAAABAAAUsAwDIAAAAAAADACAAAAAAAAAUAAgAAAFcAAAAFAP####8AAAAAABAAAAEAAQAAAFMAAABZAAAABQD#####AAAAAAAQAAABAAEAAABZAAAAUAAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAIAAAACAAAAUwAAAFkAAAADAAAAAFwAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAFwAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAF0AAAAWAAAAAFwAAmFuAAAAXgAAAFMAAABZAAAACAEAAABcAAAAUwAAAFkAAAAGAAAAAFwAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAWQAAABcAAAAAXAAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAWQAAAF0AAAAWAAAAAFwAAm1hAAAAXgAAAFMAAABiAAAAGAAAAABcAAN0bWEAAABjAAAAEQEAAABcAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAYRAAAAAAAAEAAAACAAAAGQAAAAAMAAAAZAAAABoAAAAADAAAAF8AAAAMAAAAYwAAAAwAAABfAAAAAyBjbQEAAABgAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABZAAAAUAAAAAMAAAAAZgAAAAAAEAAAAQABAAAAWQE#8AAAAAAAAAAAAAQAAAAAZgAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAZwAAABYAAAAAZgACYW4AAABoAAAAWQAAAFAAAAAIAQAAAGYAAABZAAAAUAAAAAYAAAAAZgAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFkAAABQAAAAFwAAAABmAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABQAAAAZwAAABYAAAAAZgACbWEAAABoAAAAWQAAAGwAAAAYAAAAAGYAA3RtYQAAAG0AAAARAQAAAGYAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAABrEAAAAAAAAQAAAAIAAAAZAAAAAAwAAABuAAAAGgAAAAAMAAAAaQAAAAwAAABtAAAADAAAAGkAAAADIGNtAQAAAGoAAAAVAP####8AAAD#AAIAAAABQDAAAAAAAAAAAABQAAAAUwAAAFn#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQA#####wAAAP8AAgEAAAARAAAAGwD#####AAAA#wACAQAAACMAAAAbAP####8AAAD#AAIBAAAAJAAAABsA#####wAAAP8AAgEAAAAlAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAgAAAAIAAABQAAAAUwAAAAMAAAAAdQAAAAAAEAAAAQABAAAAUAE#8AAAAAAAAAAAAAQAAAAAdQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAdgAAABYAAAAAdQACYW4AAAB3AAAAUAAAAFMAAAAIAQAAAHUAAABQAAAAUwAAAAYAAAAAdQAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFAAAABTAAAAFwAAAAB1AAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABTAAAAdgAAABYAAAAAdQACbWEAAAB3AAAAUAAAAHsAAAAYAAAAAHUAA3RtYQAAAHwAAAARAQAAAHUAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAAB6EAAAAAAAAQAAAAIAAAAZAAAAAAwAAAB9AAAAGgAAAAAMAAAAeAAAAAwAAAB8AAAADAAAAHgAAAADIGNtAQAAAHkAAAAH##########8=";
    let c2 = Math.sqrt(a * a + b * b);
    let pIJK = Algebrite.eval(a + b + c2).d.toFixed(1);

    texte_corr = `$\\mathcal{P}_{ABCD}=${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}+${c}~\\text{cm}=${
      4 * c
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{ABCD}=${c}~\\text{cm}\\times${c}~\\text{cm}=${
      c * c
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{EFGH}=${L}~\\text{cm}+${l}~\\text{cm}+${L}~\\text{cm}+${l}~\\text{cm}=${
      2 * L + 2 * l
    }~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{EFGH}=${L}~\\text{cm}\\times${l}~\\text{cm}=${
      L * l
    }~\\text{cm}^2$`;
    texte_corr += `<br>$\\mathcal{P}_{IJK}=${a}~\\text{cm}+${b}~\\text{cm}+${tex_nombre(
      c2.toFixed(1)
    )}~\\text{cm}=${tex_nombre(pIJK)}~\\text{cm}$`;
    texte_corr += `<br>$\\mathcal{A}_{IJK}=${a}~\\text{cm}\\times${b}~\\text{cm}\\div2=${tex_nombre(
      Algebrite.eval((a * b) / 2)
    )}~\\text{cm}^2$`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L", "${L}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l", "${l}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "a", "${a}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "b", "${b}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;

    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu(this);
  };

  // 	this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Périmètres\n\
  // 2 : Aires\n3 : Périmètres et aires"];
}

/**
 * Deux figures composés de rectangles et de triangles sont tracés.
 *
 * Il faut calculer le périmètre et l'aire par addition ou soustraction d'aires
 *
 * Pas de version LaTeX
 *
 * Un seul type de figure pour l'instant.
 * @Auteur Rémi Angot
 * Référence 6M11-2
 */
function Perimetre_ou_aire_de_figures_composees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.pas_de_version_LaTeX = true;
  this.titre = "Périmètres et aires de figures composées";
  this.consigne = "Calculer le périmètre et l'aire des 2 figures suivantes";
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.type_exercice = "MG32";
  this.taille_div_MG32 = [500, 500];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_corrections = []; // Liste de questions corrigées
    let L1 = randint(4, 7);
    let l1 = randint(2, 4);
    let L2 = randint(2, 4);
    if (L1 == l1) {
      l1--;
    } // pour que le rectangle ne soit pas un carré
    let c = randint(4, 7);
    let h = randint(2, c - 1);
    let codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAQzAAACtAAAAQEAAAAAAAAAAQAAAKj#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFVAMAkAAAAAAAAQBAAAAAAAAAFAABAMU+dsi0OVkAxT52yLQ5W#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAABAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAVYAwAAAAAAAAABAEAAAAAAAAAUAAUBBT52yLQ5WAAAAAv####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAABAAAAA#####8AAAABAAdDTWlsaWV1AP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAA#####8AAAACAAxDQ29tbWVudGFpcmUA#####wEAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAUMAAAAAAABAAAAAAAAAAEAAAAAAAAAAAABMf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAD#####wAAAAEAB0NDYWxjdWwA#####wACTDEAATUAAAABQBQAAAAAAAAAAAAJAP####8AAmwxAAEzAAAAAUAIAAAAAAAAAAAACQD#####AAJMMgABMwAAAAFACAAAAAAAAAAAAAIA#####wAAAAABEAABQwBACAAAAAAAAAAAAAAAAAAABQABQFKgAAAAAABAaW4UeuFHrv####8AAAABABRDSW1wbGVtZW50YXRpb25Qcm90bwD#####ABtTZWdtZW50IGRlIGxvbmd1ZXVyIGRvbm7DqWUAAAAGAAAAAwAAAAIAAAAIAAAAC#####8AAAACAAlDQ2VyY2xlT1IAAAAADAEAAAAAAQAAAAv#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAACAD#####AAAAAQAPQ1BvaW50TGllQ2VyY2xlAQAAAAwAAAAAARAAAUQAQAgAAAAAAAAAAAAAAAAAAAUAAT++v3IzOUsjAAAADQAAAAUBAAAADAAAAAAAEAAAAQABAAAACwAAAA4AAAAGAAAAAAwBAAAAABAAAAEFAAAAAAsAAAAO#####wAAAAEAC0NNZWRpYXRyaWNlAAAAAAwBAAAAABAAAAEAAQAAAAsAAAAOAAAACwAAAAAMAQAAAAABAAAAEAAAAAFAMAAAAAAAAAH#####AAAAAQAQQ0ludERyb2l0ZUNlcmNsZQAAAAAMAAAAEQAAABL#####AAAAAQAQQ1BvaW50TGllQmlwb2ludAAAAAAMAQAAAAAQAAABBQABAAAAE#####8AAAABAA9DVmFsZXVyQWZmaWNoZWUBAAAADAAAAAABAAAAFBAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAAEAAAAI#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wEAAAAAEAAAAQABAAAACwAAAA8AAAASAP####8BAAAAABAAAAEAAQAAAA4AAAAPAAAACwD#####AQAAAAABAAAACwAAAAwAAAAJAAAAAAsA#####wEAAAAAAQAAAA4AAAAMAAAACQAAAAAPAP####8AAAAWAAAAGAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAaAAAAEAD#####AQAAAAAQAAFCAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAaAAAADwD#####AAAAFwAAABkAAAAQAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAHQAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAdAAAACwD#####AQAAAAABAAAAHwAAAAwAAAAKAP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAHAAAAB8AAAAPAP####8AAAAhAAAAIAAAABAA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAIAAAAiAAAAEAD#####AQAAAAAQAAFBAAAAAAAAAAAAQAgAAAAAAAAFAAEAAAAi#####wAAAAEACUNQb2x5Z29uZQD#####AAAAAAABAAAABgAAAA4AAAALAAAAHAAAAB8AAAAkAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAJAAAABwAAAAOAAAAACYBAAAAABAAAAEAAQAAACQAAAAcAAAABgAAAAAmAQAAAAAQAAABBQAAAAAkAAAAHAAAAAsAAAAAJgEAAAAAAQAAACgAAAABQDAAAAAAAAABAAAADwAAAAAmAAAAJwAAACkAAAAQAAAAACYBAAAAABAAAAEFAAEAAAAqAAAACAEAAAAmAAAAJAAAABwAAAARAQAAACYAAAAAAQAAACsRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAALAAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAIAAAACAAAAHAAAAAsAAAAOAAAAAC4BAAAAABAAAAEAAQAAABwAAAALAAAABgAAAAAuAQAAAAAQAAABBQAAAAAcAAAACwAAAAsAAAAALgEAAAAAAQAAADAAAAABQDAAAAAAAAABAAAADwAAAAAuAAAALwAAADEAAAAQAAAAAC4BAAAAABAAAAEFAAEAAAAyAAAACAEAAAAuAAAAHAAAAAsAAAARAQAAAC4AAAAAAQAAADMRAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAABAAAANP####8AAAACABdDTWFycXVlQW5nbGVHZW9tZXRyaXF1ZQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAADgAAAAsAAAAcAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAABwAAAAkAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAHAAAAB8AAAAOAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAACwAAAA4AAAAfAAAABQD#####AAAAAAAQAAABAQEAAAAfAAAADgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAADgAAACQAAAAOAAAAADsBAAAAABAAAAEAAQAAAA4AAAAkAAAABgAAAAA7AQAAAAAQAAABBQAAAAAOAAAAJAAAAAsAAAAAOwEAAAAAAQAAAD0AAAABQDAAAAAAAAABAAAADwAAAAA7AAAAPAAAAD4AAAAQAAAAADsBAAAAABAAAAEFAAEAAAA#AAAACAEAAAA7AAAADgAAACQAAAAJAP####8AAWMAATcAAAABQBwAAAAAAAAAAAACAP####8AAAAAABAAAABACAAAAAAAAAAAAAAAAAAABQABQGlwAAAAAABAfecKPXCj1wAAAAoA#####wAbU2VnbWVudCBkZSBsb25ndWV1ciBkb25uw6llAAAABgAAAAMAAAACAAAAQgAAAEMAAAALAAAAAEQBAAAAAAEAAABDAAAADAAAAEIAAAAADQEAAABEAAAAAAAQAAAAQAgAAAAAAAAAAAAAAAAAAAUAAT#LiKDqIUKnAAAARQAAAAUBAAAARAAAAAAAEAAAAQEBAAAAQwAAAEYAAAAGAAAAAEQBAAAAABAAAAEFAAAAAEMAAABGAAAADgAAAABEAQAAAAAQAAABAAEAAABDAAAARgAAAAsAAAAARAEAAAAAAQAAAEgAAAABQDAAAAAAAAABAAAADwAAAABEAAAASQAAAEoAAAAQAAAAAEQBAAAAABAAAAEFAAEAAABLAAAAEQEAAABEAAAAAAEAAABMEAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAQAAAEIAAAAKAP####8ADUNhcnLDqSBkaXJlY3QAAAAFAAAAAgAAAAIAAABDAAAARgAAAAUAAAAATgEAAAAAEAAAAQABAAAAQwAAAEYAAAASAAAAAE4AAAAAABAAAAEBAQAAAEMAAABP#####wAAAAEACUNDZXJjbGVPQQAAAABOAAAAAAEBAAAAQwAAAEYAAAAPAAAAAE4AAABQAAAAUQAAABABAAAATgEAAAAAEAABSAEFAAIAAABS#####wAAAAEADENUcmFuc2xhdGlvbgAAAABOAAAAQwAAAEb#####AAAAAQALQ1BvaW50SW1hZ2UBAAAATgEAAAAAEAABRwEFAAAAAFMAAABUAAAABQD#####AAAAAAAQAAABAQEAAABGAAAAVQAAAAUA#####wAAAAAAEAAAAQEBAAAAVQAAAFMAAAAFAP####8AAAAAABAAAAEBAQAAAFMAAABDAAAAFAD#####AQAAAAEBAAAABQAAAEMAAABGAAAAVQAAAFMAAABDAAAACQD#####AAFyAAEyAAAAAUAAAAAAAAAAAAAACwD#####AQAAAAEBAAAAUwAAAAwAAABaAAAAAA8A#####wAAAFcAAABbAAAAEAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAFwAAAAQAP####8BAAAAABAAAUYAAAAAAAAAAABACAAAAAAAAAUAAgAAAFwAAAASAP####8BAAAAABAAAAEBAQAAAF4AAABXAAAACQD#####AAFoAAE0AAAAAUAQAAAAAAAAAAAACwD#####AQAAAAEBAAAAXgAAAAwAAABgAAAAAA8A#####wAAAF8AAABhAAAAEAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAGIAAAAQAP####8BAAAAABAAAUUAAAAAAAAAAABACAAAAAAAAAUAAgAAAGIAAAAUAP####8AAAAAAAEAAAAGAAAAVQAAAEYAAABDAAAAUwAAAGQAAABVAAAABQD#####AAAAAAAQAAABAQEAAABeAAAAZP####8AAAABAA5DTWFycXVlU2VnbWVudAD#####AAAAAAABAQAAAFYAAAAZAP####8AAAAAAAEBAAAARwAAABkA#####wAAAAAAAQEAAABYAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAEYAAABDAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAARgAAAEMAAABTAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAUwAAAFUAAABGAAAAFQD#####AAAAAAABAAAAAUAwAAAAAAAAAAAAVQAAAFMAAABDAAAACgD#####ABJNZXN1cmUgZGUgbG9uZ3VldXIAAAAFAAAAAQAAAAIAAABkAAAAXgAAAA4AAAAAbgEAAAAAEAAAAQABAAAAZAAAAF4AAAAGAAAAAG4BAAAAABAAAAEFAAAAAGQAAABeAAAACwAAAABuAQAAAAABAAAAcAAAAAFAMAAAAAAAAAEAAAAPAAAAAG4AAABvAAAAcQAAABAAAAAAbgEAAAAAEAAAAQUAAQAAAHIAAAAIAQAAAG4AAABkAAAAXgAAAAoA#####wASTWVzdXJlIGRlIGxvbmd1ZXVyAAAABQAAAAEAAAACAAAAVQAAAGQAAAAOAAAAAHUBAAAAABAAAAEAAQAAAFUAAABkAAAABgAAAAB1AQAAAAAQAAABBQAAAABVAAAAZAAAAAsAAAAAdQEAAAAAAQAAAHcAAAABQDAAAAAAAAABAAAADwAAAAB1AAAAdgAAAHgAAAAQAAAAAHUBAAAAABAAAAEFAAEAAAB5AAAACAEAAAB1AAAAVQAAAGQAAAAKAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAAFMAAABkAAAADgAAAAB8AQAAAAAQAAABAAEAAABTAAAAZAAAAAYAAAAAfAEAAAAAEAAAAQUAAAAAUwAAAGQAAAALAAAAAHwBAAAAAAEAAAB+AAAAAUAwAAAAAAAAAQAAAA8AAAAAfAAAAH0AAAB#AAAAEAAAAAB8AQAAAAAQAAABBQABAAAAgAAAAAgBAAAAfAAAAFMAAABkAAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAACCAAAAUwAAAGQAAAADAAAAAIMAAAAAABAAAAEAAQAAAFMBP#AAAAAAAAAAAAAEAAAAAIMAAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAIT#####AAAAAgATQ01lc3VyZUFuZ2xlT3JpZW50ZQAAAACDAAJhbgAAAIUAAABTAAAAZAAAAAYAAAAAgwAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAFMAAABk#####wAAAAEADUNQb2ludFByb2pldGUAAAAAgwAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAZAAAAIQAAAAaAAAAAIMAAm1hAAAAhQAAAFMAAACI#####wAAAAEADkNUZXN0RXhpc3RlbmNlAAAAAIMAA3RtYQAAAIkAAAARAQAAAIMAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACHEAAAAAAAAQAAAAL#####AAAAAQANQ0ZvbmN0aW9uM1ZhcgAAAAAMAAAAiv####8AAAABAApDT3BlcmF0aW9uAAAAAAwAAACGAAAADAAAAIkAAAAMAAAAhgAAAAABAAAAggAAAAoA#####wAeQWZmaWNoYWdlIGRlIGxvbmd1ZXVyIG9yaWVudMOpAAAABwAAAAEAAAADAAAAewAAAGQAAABVAAAAAwAAAACMAAAAAAAQAAABAAEAAABkAT#wAAAAAAAAAAAABAAAAACMAAAAAAAQAAJXJwAAAAAAAAAAAEAIAAAAAAAABQABQGDAAAAAAAAAAACNAAAAGgAAAACMAAJhbgAAAI4AAABkAAAAVQAAAAYAAAAAjAAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGQAAABVAAAAGwAAAACMAAAAAAAQAAJXIgAAAAAAAAAAAEAIAAAAAAAABQAAAABVAAAAjQAAABoAAAAAjAACbWEAAACOAAAAZAAAAJEAAAAcAAAAAIwAA3RtYQAAAJIAAAARAQAAAIwAAAAAAEAAAAAAAAAAwAAAAAAAAAAAAACQEAAAAAAAAQAAAAIAAAAdAAAAAAwAAACTAAAAHgAAAAAMAAAAjwAAAAwAAACSAAAADAAAAI8AAAAAAQAAAHsAAAAKAP####8AHkFmZmljaGFnZSBkZSBsb25ndWV1ciBvcmllbnTDqQAAAAcAAAABAAAAAwAAAHQAAABkAAAAXgAAAAMAAAAAlQAAAAAAEAAAAQABAAAAZAE#8AAAAAAAAAAAAAQAAAAAlQAAAAAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAUBgwAAAAAAAAAAAlgAAABoAAAAAlQACYW4AAACXAAAAZAAAAF4AAAAGAAAAAJUAAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABkAAAAXgAAABsAAAAAlQAAAAAAEAACVyIAAAAAAAAAAABACAAAAAAAAAUAAAAAXgAAAJYAAAAaAAAAAJUAAm1hAAAAlwAAAGQAAACaAAAAHAAAAACVAAN0bWEAAACbAAAAEQEAAACVAAAAAABAAAAAAAAAAMAAAAAAAAAAAAAAmRAAAAAAAAEAAAACAAAAHQAAAAAMAAAAnAAAAB4AAAAADAAAAJgAAAAMAAAAmwAAAAwAAACYAAAAAAEAAAB0AAAACgD#####AB5BZmZpY2hhZ2UgZGUgbG9uZ3VldXIgb3JpZW50w6kAAAAHAAAAAQAAAAMAAABBAAAADgAAACQAAAADAAAAAJ4AAAAAABAAAAEAAQAAAA4BP#AAAAAAAAAAAAAEAAAAAJ4AAAAAABAAAlcnAAAAAAAAAAAAQAgAAAAAAAAFAAFAYMAAAAAAAAAAAJ8AAAAaAAAAAJ4AAmFuAAAAoAAAAA4AAAAkAAAABgAAAACeAAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADgAAACQAAAAbAAAAAJ4AAAAAABAAAlciAAAAAAAAAAAAQAgAAAAAAAAFAAAAACQAAACfAAAAGgAAAACeAAJtYQAAAKAAAAAOAAAAowAAABwAAAAAngADdG1hAAAApAAAABEBAAAAngAAAAAAQAAAAAAAAADAAAAAAAAAAAAAAKIQAAAAAAABAAAAAgAAAB0AAAAADAAAAKUAAAAeAAAAAAwAAAChAAAADAAAAKQAAAAMAAAAoQAAAAABAAAAQQAAABkA#####wAAAAAAAQEAAABXAAAAB###########";
    let DA = arrondi(Math.sqrt(L2 ** 2 + l1 ** 2), 1);
    let t1 = arrondi(Math.sqrt(4 + h ** 2), 1); // longueur d'un côté du triangle
    let t2 = arrondi(Math.sqrt((c - 2) ** 2 + h ** 2), 1); // longueur de l'autre côté d'un triangle
    let texte_corr = "";
    texte_corr += `La première figure est composée d'un rectangle de ${L1} cm par ${l1} cm`;
    texte_corr += ` et d'un triangle rectangle dont les côtés de l'angle droit mesurent ${L2} cm et ${l1} cm.<br>`;
    texte_corr += `$\\mathcal{P}_{1}=${L1 + L2}+${tex_nombre(
      DA
    )}+${L1}+${l1}=${tex_nombrec(L1 + L2 + DA + L1 + l1)}$ cm.<br>`;
    texte_corr += `$\\mathcal{A}_{1}=${L1}\\times${l1}+${L2}\\times${l1}\\div2=${
      L1 * l1
    }+${calcul((L2 * l1) / 2)}=${calcul(L1 * l1 + (L2 * l1) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;
    texte_corr += "<br><br>";
    texte_corr += `La deuxième figure est un carré de côté ${c} cm auquel il faut enlever un triangle de ${c} cm de base et ${h} cm de hauteur.<br>`;
    texte_corr += `$\\mathcal{P}_{2}=${c}+${c}+${c}+${tex_nombre(
      t1
    )}+${tex_nombre(t2)}=${tex_nombrec(3 * c + t1 + t2)}$ cm<br>`;
    texte_corr += `$\\mathcal{A}_{2}=${c}\\times${c}-${c}\\times${h}\\div2=${
      c * c
    }-${(c * h) / 2}=${tex_nombrec(c ** 2 - (c * h) / 2)}~${tex_texte(
      " cm"
    )}^2$.`;

    this.MG32codeBase64 = codeBase64;
    this.MG32code_pour_modifier_la_figure = `
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L1", "${L1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "l1", "${l1}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "L2", "${L2}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "c", "${c}");
	        mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "h", "${h}");
	        mtg32App.calculate("MG32svg${numero_de_l_exercice}");
	        mtg32App.display("MG32svg${numero_de_l_exercice}");
	      `;
    this.liste_corrections.push(texte_corr);
    liste_de_question_to_contenu_sans_numero(this);
  };
}

/**
 * Citer des formules de périmètre, des formules d'aire ou la définition de π
 * @Auteur Rémi Angot
 * Référence 6M25
 */
function Connaitre_formules_de_perimetre_et_aires() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Connaitre le cours sur le périmètre et l'aire";
  this.consigne = "Calculer";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    liste_type_de_questions = combinaison_listes(
      [
        "pi",
        "prectangle",
        "pcarre",
        "acarre",
        "arectangle",
        "pcercle",
        "acercle",
        "atrianglerectangle",
        "atriangle",
      ],
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case "pi":
          texte = "Rappeler la définition du nombre $\\pi$.";
          texte_corr = "$\\pi$ est la longueur d'un cercle de diamètre 1.";
          break;
        case "prectangle":
          texte = "Donner une formule du périmètre du rectangle.";
          texte_corr =
            "$\\mathcal{P}_{\\text{rectangle}}=(L+l)\\times2=L\\times2+l\\times2=L+l+L=l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "pcarre":
          texte = "Donner une formule du périmètre du carré.";
          texte_corr =
            "$\\mathcal{P}_{\\text{carré}}=c\\times4=c+c+c+c$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "arectangle":
          texte = "Donner une formule de l'aire du rectangle.";
          texte_corr = "$\\mathcal{A}_{\\text{rectangle}}=L\\times l$<br><br>";
          texte_corr += "Avec $L$ la longueur et $l$ la largeur du rectangle.";
          break;
        case "acarre":
          texte = "Donner une formule de l'aire du carré.";
          texte_corr = "$\\mathcal{A}_{\\text{carré}}=c\\times c=c^2$<br><br>";
          texte_corr += "Avec $c$ la longueur du côté du carré.";
          break;
        case "atrianglerectangle":
          texte = "Donner une formule de l'aire du triangle rectangle.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=a\\times b \\div2=\\dfrac{a\\times b}{2}$<br><br>";
          texte_corr +=
            "Avec $a$ et $b$ les longueurs des côtés de l'angle droit.";
          break;
        case "atriangle":
          texte = "Donner une formule de l'aire d'un triangle quelconque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{triangle rectangle}}=b\\times h \\div2=\\dfrac{b\\times h}{2}$<br><br>";
          texte_corr +=
            "Avec $b$ la longueur d'un côté et $h$ la longueur de la hauteur relative à ce côté.";
          break;
        case "pcercle":
          texte =
            "Donner une formule de la longueur d'un cercle (aussi appelée circonférence).";
          texte_corr =
            "$\\mathcal{P}_{\\text{cercle}}=D\\times \\pi = 2\\times R \\times \\pi = 2\\pi{}R$<br><br>";
          texte_corr += "Avec $D$ le diamètre et $R$ le rayon de ce cercle.";
          break;
        case "acercle":
          texte = "Donner une formule de l'aire d'un disque.";
          texte_corr =
            "$\\mathcal{A}_{\\text{disque}}=R\\times R\\times\\pi=\\pi R^2$<br><br>";
          texte_corr += "Avec $R$ le rayon de ce disque.";
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Compléter des égalités sur les nombres décimaux
 * * n/100 = .../10 + .../100
 * * n/100 = .../100 + .../10
 * * .../100 = u+ d/10 + c/100
 * * u = .../10
 * * u = .../100
 * * n/10 = ... + .../10 + .../100
 * @Auteur Rémi Angot
 * 6N23-1
 */
function Exercice_differentes_ecritures_nombres_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Différentes écritures des nombres décimaux";
  this.consigne = "Compléter l'égalité puis donner l'écriture décimale.";
  this.spacing = 2;
  this.spacing_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      let u = randint(2, 9); //chiffre des unités
      let d = randint(1, 9); //chiffre des dixièmes
      let c = randint(1, 9); //chiffre des centièmes
      let n = 100 * u + 10 * d + c;
      let ecriture_decimale;
      switch (type_de_questions) {
        case 1: // n/100 = .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;

          break;
        case 2: // n/100 = .../100 + .../10
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction(n, "100")}=\\ldots\\ldots+${tex_fraction(
            "",
            100
          )}+${tex_fraction("", 10)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            c,
            100
          )}+${tex_fraction(d, 10)}=${ecriture_decimale}$`;
          break;
        case 3: // .../100 = u+ d/10 + c/100
          ecriture_decimale = tex_nombre(calcul(u + d / 10 + c / 100));
          texte = `$${tex_fraction("", "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, "100")}=${u}+${tex_fraction(
            d,
            "10"
          )}+${tex_fraction(c, "100")}=${ecriture_decimale}$`;
          break;
        case 4: // u = .../10
          texte = `$${u}=${tex_fraction("", "10")}$`;
          texte_corr = `$${u}=${tex_fraction(10 * u, "10")}$`;
          break;
        case 5: // u = .../100
          texte = `$${u}=${tex_fraction("", "100")}$`;
          texte_corr = `$${u}=${tex_fraction(100 * u, "10")}$`;
          break;
        case 6: // n/10 = ... + .../10 + .../100
          ecriture_decimale = tex_nombre(calcul(n / 10));
          texte = `$${tex_fraction(n, 10)}=\\ldots\\ldots+${tex_fraction(
            "",
            10
          )}+${tex_fraction("", 100)}=\\ldots$`;
          texte_corr = `$${tex_fraction(n, 10)}=${u * 10 + d}+${tex_fraction(
            c,
            10
          )}+${tex_fraction(0, 100)}=${ecriture_decimale}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions, soustractions et multiplications posées de nombres entiers
 *
 * * abcd +efg
 * * abc0-efg
 * * 1abc-def
 * * abc*d0e tables de 2 à 5
 * * abc*de tables de 5 à 9
 * @Auteur Rémi Angot
 * Référence 6C10 
 */
function Additions_soustractions_multiplications_posees() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Additions, soustractions et multiplications posées de nombres entiers";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 5;
  // this.pas_de_version_HMTL=true;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4, 5];
    let liste_type_de_questions = combinaison_listes_sans_changer_ordre(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    if (this.nb_questions == 3) {
      liste_type_de_questions = [1, 2, 5];
    }
    if (this.nb_questions == 4) {
      liste_type_de_questions = [1, 2, 4, 5];
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // abcd +efg
          a =
            randint(1, 9) * 10000 +
            randint(5, 9) * 1000 +
            randint(5, 9) * 100 +
            randint(7, 9) * 10 +
            randint(1, 9);
          b = randint(5, 9) * 100 + randint(7, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${b}$`;
          !sortie_html
            ? (texte_corr = `$\\opadd{${a}}{${b}}$`)
            : (texte_corr = `$${tex_nombre(a)}+${b}=${tex_nombre(a + b)}$`);
          break;
        case 2: // abc0-efg
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          e = randint(b, 9);
          f = randint(c, 9);
          g = randint(2, 9);
          x = a * 1000 + b * 100 + c * 10;
          y = e * 100 + f * 10 + g;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}+${y}=${tex_nombre(x + y)}$`);
          break;
        case 3: // 1abc-def
          a = randint(1, 9);
          b = randint(1, 9);
          c = randint(1, 9);
          d = randint(a, 9);
          e = randint(1, 9);
          f = randint(c, 9);
          x = 1000 + a * 100 + b * 10 + c;
          y = d * 100 + e * 10 + f;
          texte = `$${tex_nombre(x)}-${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opsub{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}-${y}=${tex_nombre(x - y)}$`);
          break;
        case 4: // abc*d0e tables de 2 à 5
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, 5);
          e = randint(2, 5);
          x = 100 * a + 10 * b + c;
          y = d * 100 + e;
          texte = `$${tex_nombre(x)}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
        case 5: // abc*de tables de 5 à 9
          a = randint(5, 9);
          b = randint(5, 9);
          c = randint(5, 9);
          d = randint(5, 9);
          e = randint(5, 9);
          x = 100 * a + 10 * b + c;
          y = 10 * d + e;
          texte = `$${x}\\times${y}$`;
          !sortie_html
            ? (texte_corr = `$\\opmul{${x}}{${y}}$`)
            : (texte_corr = `$${tex_nombre(x)}\\times${y}=${tex_nombre(
                x * y
              )}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        if (!sortie_html && i == 0) {
          texte_corr = `\\setlength\\itemsep{2em}` + texte_corr;
        } // espacement entre les questions
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Additions et soustractions de nombres décimaux
 * * xxx-xx,x
 * * xxx-xx,xx
 * * xxx,x-xxx
 * * x0x-xx9,x
 * * xxx+xx,x
 * * xxx+xx,xx
 * * xxx,x+xxx
 * * x0x+xx9,x
 * @Auteur Rémi Angot
 * Référence 6C20
 */
function Additionner_soustraires_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Additions et soustractions de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon les opérations posées ne sont pas jolies
  this.nb_questions = 4;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let liste_de_type_d_additions = combinaison_listes(
      [5, 6, 7, 8],
      this.nb_questions
    );
    let liste_de_type_de_soustractions = combinaison_listes(
      [1, 2, 3, 4],
      this.nb_questions
    );
    let liste_type_de_questions = [];
    for (let i = 0; i < this.nb_questions; i++) {
      if (i + 1 < this.nb_questions / 2) {
        // première moitié sont des additions mais si c'est impair on prendra plus de soustractions
        liste_type_de_questions.push(liste_de_type_d_additions[i]);
      } else {
        liste_type_de_questions.push(liste_de_type_de_soustractions[i]);
      }
    }

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx-xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 2: // xxx-xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 3: // xxx,x-xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 4: // x0x-xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}-${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}-${tex_nombre(b)}=${tex_nombrec(
                a - b
              )}$`)
            : (texte_corr = `$\\opsub[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 5: // xxx+xx,x
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 6: // xxx+xx,xx
          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9);
          b = calcul(
            randint(5, 9) * 10 +
              randint(6, 9) +
              randint(1, 9) / 10 +
              randint(1, 9) / 100
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 7: // xxx,x+xxx
          a = calcul(
            randint(5, 9) * 100 +
              randint(2, 5) * 10 +
              randint(1, 9) +
              randint(1, 9) / 10
          );
          b = randint(1, 4) * 100 + randint(6, 9) * 10 + randint(1, 9);
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
        case 8: // x0x+xx9,x
          a = calcul(randint(5, 9) * 100 + randint(1, 5));
          b = calcul(
            randint(1, 4) * 100 + randint(1, 9) * 10 + 9 + randint(1, 9) / 10
          );
          texte = `$${tex_nombre(a)}+${tex_nombre(b)}$`;
          sortie_html
            ? (texte_corr = `$${tex_nombre(a)}+${tex_nombre(b)}=${tex_nombrec(
                a + b
              )}$`)
            : (texte_corr = `$\\opadd[decimalsepsymbol={,}]{${a}}{${b}}$`);
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.
 *
 * Niveau de difficulté 1 :
 * * division par 2, 3 , 4 ou 5
 * * division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 :
 * * division par 11, 12, 15, 25
 * * division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
 * * division par un multiple de 10 et un 0 dans le quotient
 * @Auteur Rémi Angot
 * Référence 6C11
 */
function Divisions_euclidiennes() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions euclidiennes";
  this.consigne =
    "Poser et effectuer les divisions euclidiennes suivantes puis donner l'égalité fondamentale correspondante.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opidiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    if (this.sup==0) type_de_questions_disponibles=[1,1,1,1]
    else if (this.sup ==1)  type_de_questions_disponibles = [1, 2, 2, 3]
    else if  (this.sup==2) type_de_questions_disponibles = [4, 4, 5, 6];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // division par 2, 3 , 4 ou 5
          q = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = randint(2, 5);
          break;
        case 2: // division par 6 à 9
          q = randint(5, 9) * 100 + randint(2, 5) * 10 + randint(5, 9);
          b = randint(6, 9);
          break;
        case 3: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            q = randint(2, 9) * 1000 + randint(2, 9) * 100 + randint(2, 9);
          } else {
            q = randint(2, 9) * 1000 + randint(2, 9) * 10 + randint(2, 9);
          }
          b = randint(7, 9);
          break;
        case 4: // division par 11, 12, 15, 25
          q = randint(1, 5) * 100 + randint(1, 5) * 10 + randint(1, 5);
          b = choice([11, 12, 15, 25]);
          break;
        case 5: // division par 13,14,21,22,23 ou 24 et un 0 dans le quotient
          q = randint(1, 5) * 1000 + randint(6, 9) * 100 + randint(1, 5);
          b = choice([11, 12, 13, 14, 21, 22, 23, 24]);
          break;
        case 6: // division par un multiple de 10 et un 0 dans le quotient
          q = randint(6, 9) * 1000 + randint(6, 9) * 10 + randint(1, 5);
          b = randint(2, 9) * 10;
          break;
      }
      r = randint(0, b - 1); //reste inférieur au diviseur
      a = b * q + r;
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (r == 0) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${q}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${q}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}=${b}\\times${q}+${r}$`)
          : (texte_corr = `$\\opidiv[voperation=top]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}=${b}\\times${q}+${r}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : Quotient inférieur à 10\n2: Quotient à 2 chiffres",
  ];
}

/**
 * Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.
 *
 * Niveau de difficulté 1 :
 * * entier divisé par 4 quotient : xx,25 ou xx,75
 * * entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
 * * entier divisé par 6 quotient : xxx,5
 * * quotient xx,xx division par 2, 3 , 4 ou 5
 * * quotient x,xxx division par 6 à 9
 * * un 0 dans le quotient
 *
 * Niveau de difficulté 2 : division par 3, 7 ou 9
 * @Auteur Rémi Angot
 * Référence 6C31
 */
function Division_decimale() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Divisions décimales";
  this.consigne =
    "Effectuer les divisions décimales suivantes et donner la valeur exacte de leur quotient.";
  this.spacing = 2;
  sortie_html ? (this.spacing_corr = 2) : (this.spacing_corr = 1); //Important sinon opdiv n'est pas joli
  this.nb_questions = 4;
  this.sup = 1;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    this.sup == 1
      ? (type_de_questions_disponibles = [choice([1, 2, 3]), 4, 5, 6])
      : (type_de_questions_disponibles = [7, 8, 9]);
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, q, r;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // entier divisé par 4 quotient : xx,25 ou xx,75
          b = 4;
          a = (randint(2, 9) * 10 + randint(2, 9)) * 4 + choice([1, 3]);
          q = calcul(a / b);
          break;
        case 2: // entier divisé par 8 quotient : x,125 ou x,375 ou x,625 ou x,875
          b = 8;
          a = randint(2, 9) * 8 + choice([1, 3, 5, 7]);
          q = calcul(a / b);
          break;
        case 3: // entier divisé par 6 quotient : xxx,5
          b = 6;
          q = calcul(
            randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) + 0.5
          );
          a = q * 6;
          break;
        case 4: // quotient xx,xx division par 2, 3 , 4 ou 5
          q = calcul(
            randint(2, 5) * 10 +
              randint(2, 5) +
              randint(2, 5) / 10 +
              randint(2, 5) / 100
          );
          b = randint(2, 5);
          a = calcul(b * q);
          break;
        case 5: // quotient x,xxx division par 6 à 9
          q = calcul(
            randint(6, 9) +
              randint(5, 9) / 10 +
              randint(6, 9) / 100 +
              randint(6, 9) / 1000
          );
          b = randint(6, 9);
          a = calcul(b * q);
          break;
        case 6: // un 0 dans le quotient
          if (randint(1, 2) == 1) {
            //x0x,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) + randint(2, 9) / 10
            );
          } else {
            //xx0,x
            q = calcul(
              randint(2, 9) * 100 + randint(2, 9) * 10 + randint(2, 9) / 10
            );
          }
          b = randint(7, 9);
          a = calcul(b * q);
          break;
        case 7: // division par 7
          a = randint(2, 9) * 7 + randint(1, 6);
          b = 7;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 8: // division par 9
          a = calcul((randint(11, 19) * 9) / 10 + randint(1, 8) / 10);
          b = 9;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
          break;
        case 9: //division par 3
          a = calcul((randint(11, 99) * 3) / 100 + randint(1, 2) / 100);
          b = 3;
          q = Algebrite.eval(Math.floor(Algebrite.eval((a / b) * 1000)) / 1000);
      }
      if (this.sup == 2) {
        this.consigne =
          "Effectuer les divisions décimales suivantes et donner une valeur approchée de leur quotient au millième près.";
      }
      texte = `$${tex_nombre(a)}\\div${b}$`;
      if (this.sup == 1) {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}=${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}=${tex_nombre(q)}$`);
      } else {
        sortie_html
          ? (texte_corr = `$${tex_nombre(a)}\\div${b}\\approx${tex_nombre(q)}$`)
          : (texte_corr = `$\\opdiv[displayintermediary=all,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${a}}{${b}}$\\\\\\\\$${tex_nombre(
              a
            )}\\div${b}\\approx${tex_nombre(q)}$`);
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de questions",
    2,
    "1 : Déterminer le quotient exact\n2: Déterminer un quotient approché au millième près",
  ];
}

/**
 * Multiplication de deux nombres décimaux
 *
 * * xxx * xx,x chiffres inférieurs à 5
 * * xx,x * x,x
 * * x,xx * x0x
 * * 0,xx * x,x
 * @Auteur Rémi Angot
 * Référence 6C30
 */
function Multiplier_decimaux() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications posées de nombres décimaux";
  this.consigne = "Poser et effectuer les calculs suivants.";
  this.spacing = 2;
  this.spacing_corr = 1; //Important sinon le calcul posé ne fonctionne pas avec opmul et spacing
  this.nb_questions = 4;
  this.liste_packages = "xlop";

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    let type_de_questions_disponibles = [1, 2, 3, 4];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, c, d, e, f, g, x, y;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // xxx * xx,x chiffres inférieurs à 5
          a = randint(2, 5) * 100 + randint(2, 5) * 10 + randint(2, 5);
          b = calcul(randint(2, 5) * 10 + randint(2, 5) + randint(2, 5) / 10);
          break;
        case 2: // xx,x * x,x
          a = calcul(randint(2, 9) * 10 + randint(2, 9) + randint(2, 9) / 10);
          b = calcul(randint(6, 9) + randint(6, 9) / 10);
          break;
        case 3: // x,xx * x0x
          a = calcul(randint(2, 9) + randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) * 100 + randint(2, 9));
          break;
        case 4: // 0,xx * x,x
          a = calcul(randint(2, 9) / 10 + randint(2, 9) / 100);
          b = calcul(randint(2, 9) + randint(2, 9) / 10);
          break;
      }

      texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
      sortie_html
        ? (texte_corr = `$${tex_nombre(a)}\\times${tex_nombre(b)}=${tex_nombrec(
            a * b
          )}$`)
        : (texte_corr = `$\\opmul[decimalsepsymbol={,}]{${a}}{${b}}$`);

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
}

/**
 * Multiplication d'un nombre décimal dans différentes écritures par 10, 100, 1000
 *
 *  * Type 1 : écriture décimale
 *  * Type 2 : écriture fractionnaire
 *  * Type 3 : écritures fractionnaires et décimales
 *
 *
 *  * Sup2 : avec ou sans calculs à trous
 * @Auteur Rémi Angot
* Référence 6C30-1
  *
 */
function Multiplier_decimaux_par_10_100_1000() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Multiplications d'un nombre décimal par 10, 100 ou 1 000.";
  this.consigne = "Calculer.";
  this.sup = 3;
  this.sup2 = false;
  this.spacing = 2;
  this.spacing_corr = 2;
  this.nb_questions = 8;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [];
    if (this.sup == 1 && !this.sup2) type_de_questions_disponibles = [1, 2];
    if (this.sup == 1 && this.sup2)
      type_de_questions_disponibles = [1, 2, 5, 6];
    if (this.sup == 2 && !this.sup2) type_de_questions_disponibles = [3, 4];
    if (this.sup == 2 && this.sup2)
      type_de_questions_disponibles = [3, 4, 3, 4, 7, 8, 9, 10];
    if (this.sup == 3 && !this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4];
    if (this.sup == 3 && this.sup2)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    if (this.sup2) this.consigne = "Calculer et compléter.";

    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    let liste_de_facteurs = combinaison_listes(
      [10, 100, 1000],
      this.nb_questions
    );

    for (
      let i = 0, texte, texte_corr, cpt = 0, a, b, den;
      i < this.nb_questions && cpt < 50;

    ) {
      type_de_questions = liste_type_de_questions[i];
      switch (type_de_questions) {
        case 1: // a,abcd × 10
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(a)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_nombre(a)} \\times ${tex_nombre(
            b
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 2: // 10 × a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_nombre(a)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_nombre(
            a
          )} = ${tex_nombrec(a * b)}$`;
          break;
        case 3: // abcd/10 × 10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times${tex_nombre(b)}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${tex_nombre(
            b
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 4: // 10 × abcd/10
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(a, den)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            den
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 5: // .... × 10 = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$\\ldots \\times${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(a)
          )} \\times ${tex_nombre(b)} = ${tex_nombrec(a * b)}$`;
          break;
        case 6: // 10 × .... = a,abcd
          a = choice([randint(11, 99), randint(100, 999)]);
          a = calcul(a / choice([10, 100, 1000, 10000]));
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)} \\times \\ldots = ${tex_nombrec(a * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${mise_en_evidence(
            tex_nombre(a)
          )}  = ${tex_nombrec(a * b)}$`;
          break;
        case 7: // case 3 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, den)}\\times \\ldots = ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${tex_fraction(a, den)} \\times ${mise_en_evidence(
            tex_nombre(b)
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 8: // case 4 avec un trou sur l'entier
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$ \\ldots \\times${tex_fraction(a, den)}= ${tex_nombrec(
            (a / den) * b
          )}$`;
          texte_corr = `$${mise_en_evidence(
            tex_nombre(b)
          )} \\times ${tex_fraction(a, den)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 9: // case 3 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_fraction(a, "\\ldots")}\\times${tex_nombre(
            b
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} \\times ${tex_nombre(b)} = ${tex_fraction(
            a * b,
            den
          )} = ${tex_nombrec((a / den) * b)}$`;
          break;
        case 10: // case 4 avec trou sur la fraction
          a = choice([randint(11, 99), randint(100, 999), randint(2, 9)]);
          den = choice([10, 100, 1000]);
          b = liste_de_facteurs[i];
          texte = `$${tex_nombre(b)}\\times${tex_fraction(
            a,
            "\\ldots"
          )} = ${tex_nombrec((a / den) * b)}$`;
          texte_corr = `$${tex_nombre(b)} \\times ${tex_fraction(
            a,
            mise_en_evidence(tex_nombre(den))
          )} = ${tex_fraction(a * b, den)} = ${tex_nombrec((a / den) * b)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Types de calculs",
    3,
    "1 : Écriture décimale\n2 : Écriture fractionnaire\n3 : Écritures décimales et fractionnaires",
  ];
  this.besoin_formulaire2_case_a_cocher = ["Avec des calculs à trous"];
}

/**
 * Plusieurs type de calcul avec des entiers.
 *
 * Sans parenthèses :
 * * a+b*c
 * * a+b÷c
 * * a÷b*c
 * * a-b*c
 * * a*b÷c
 * * a*b+c
 * * a-b+c
 * * a+b+c*d
 * * a*b+c*d
 * * a*b*c-d
 * * a*b-c÷d
 * * a*b+c÷d
 *
 * Avec parenthèses :
 * * a*(b-c)
 * * (a-b)*c
 * * (a-b)÷c
 * * a÷(b+c)
 * * (a-b)÷c
 * * a*(b-c)*d
 * * a*b*(c-d)
 * * a*(b-c*d)
 * * (a+b*c)÷d
 * * a*(b-c*d)
 * * a*b÷(c+d)
 * * a*(b÷c+d)
 * @Auteur Rémi Angot
 * Référence 6C33
 */
function Priorites() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculer en utilisant les priorités opératoires";
  this.consigne = "Calculer";
  this.nb_questions = 5;
  this.nb_cols = 2;
  this.nb_cols_corr = 1;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_questions_disponibles = []; //
    if (this.sup == 1) {
      liste_questions_disponibles = range1(12);
    } else if (this.sup == 2) {
      liste_questions_disponibles = range1(22, range1(12));
    } else {
      liste_questions_disponibles = range1(22);
    }
    let liste_type_de_questions = combinaison_listes(
      liste_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, a, b, c, d, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}+${b}\\times${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\times" + c)}=${a}+${
            b * c
          }=${a + b * c}$`;
          break;
        case 2:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 11);
          texte = `$${a}+${b}\\div${c}$`;
          texte_corr = `$${a}+${mise_en_evidence(b + "\\div" + c)}=${a}+${
            b / c
          }=${a + b / c}$`;
          break;
        case 3:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * randint(2, 11);
          texte = `$${a}\\div${b}\\times${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\div" + b)}\\times${c}=${
            a / b
          }\\times${c}=${(a / b) * c}$`;
          break;
        case 4:
          b = randint(2, 11);
          c = randint(2, 11);
          a = b * c + randint(2, 11);
          texte = `$${a}-${b}\\times${c}$`;
          texte_corr = `$${a}-${mise_en_evidence(b + "\\times" + c)}=${a}-${
            b * c
          }=${a - b * c}$`;
          break;
        case 5:
          if (choice([true, false])) {
            //a est un multiple de c
            c = randint(2, 6);
            a = c * randint(2, 5);
            b = randint(2, 6);
          } else {
            // b est un multiple de c
            c = randint(2, 6);
            b = c * randint(2, 5);
            a = randint(2, 6);
          }
          texte = `$${a}\\times${b}\\div${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}\\div${c}=${
            a * b
          }\\div${c}=${(a * b) / c}$`;
          break;
        case 6:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          texte = `$${a}\\times${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "\\times" + b)}+${c}=${
            a * b
          }+${c}=${a * b + c}$`;
          break;
        case 7:
          b = randint(20, 59);
          a = b + randint(11, 29);
          c = randint(11, 29);
          texte = `$${a}-${b}+${c}$`;
          texte_corr = `$${mise_en_evidence(a + "-" + b)}+${c}=${a - b}+${c}=${
            a - b + c
          }$`;
          break;
        case 8:
          a = randint(2, 20);
          b = randint(2, 20);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}+${b}+${c}\\times${d}$`;
          texte_corr = `$${a}+${b}+${mise_en_evidence(
            c + "\\times" + d
          )}=${a}+${b}+${c * d}=${a + b + c * d}$`;
          break;
        case 9:
          a = randint(2, 11);
          b = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          texte = `$${a}\\times${b}+${c}\\times${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\times" + d)}=${a * b}+${c * d}=${
            a * b + c * d
          }$`;
          break;
        case 10:
          a = randint(2, 5);
          b = randint(2, 5);
          c = randint(2, 5);
          d = randint(2, a * b * c - 1);
          texte = `$${a}\\times${b}\\times${c}-${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}\\times${c}-${d}=${mise_en_evidence(a * b + "\\times" + c)}-${d}=${
            a * b * c - d
          }$`;
          break;
        case 11:
          a = randint(3, 11);
          b = randint(3, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}-${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}-${mise_en_evidence(c + "\\div" + d)}=${a * b}-${c / d}=${
            a * b - c / d
          }$`;
          break;
        case 12:
          a = randint(2, 11);
          b = randint(2, 11);
          d = randint(2, 11);
          c = d * randint(2, 8);
          texte = `$${a}\\times${b}+${c}\\div${d}$`;
          texte_corr = `$${mise_en_evidence(
            a + "\\times" + b
          )}+${mise_en_evidence(c + "\\div" + d)}=${a * b}+${c / d}=${
            a * b + c / d
          }$`;
          break;
        case 13:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c + randint(2, 11);
          texte = `$${a}\\times(${b}-${c})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})=${a}\\times${b - c}=${a * (b - c)}$`;
          break;
        case 14:
          b = randint(11, 39);
          a = b + randint(2, 11);
          c = randint(2, 11);
          texte = `$(${a}-${b})\\times${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\times${c}=${
            a - b
          }\\times${c}=${(a - b) * c}$`;
          break;
        case 15:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 16:
          b = randint(2, 5);
          c = randint(2, 6);
          a = (b + c) * randint(2, 9);
          texte = `$${a}\\div(${b}+${c})$`;
          texte_corr = `$${a}\\div(${mise_en_evidence(b + `+` + c)})=${a}\\div${
            b + c
          }=${a / (b + c)}$`;
          break;
        case 17:
          c = randint(2, 11);
          b = randint(11, 39);
          a = b + c * randint(2, 9);
          texte = `$(${a}-${b})\\div${c}$`;
          texte_corr = `$(${mise_en_evidence(a + `-` + b)})\\div${c}=${
            a - b
          }\\div${c}=${(a - b) / c}$`;
          break;
        case 18:
          c = randint(11, 39);
          b = c + randint(2, 5);
          a = randint(2, 5);
          d = randint(2, 5);
          texte = `$${a}\\times(${b}-${c})\\times${d}$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `-` + c
          )})\\times${d}=${a}\\times${b - c}\\times${d}=${a * (b - c) * d}$`;
          break;
        case 19:
          d = randint(11, 39);
          c = d + randint(2, 5);
          a = randint(2, 5);
          b = randint(2, 5);
          texte = `$${a}\\times${b}\\times(${c}-${d})$`;
          texte_corr = `$${a}\\times${b}\\times(${mise_en_evidence(
            c + `-` + d
          )})=${a}\\times${b}\\times${c - d}=${a * b * (c - d)}$`;
          break;
        case 20:
          a = randint(2, 11);
          c = randint(2, 11);
          d = randint(2, 11);
          b = c * d + randint(2, 11);
          texte = `$${a}\\times(${b}-${c}\\times${d})$`;
          texte_corr = `$${a}\\times(${b}-${mise_en_evidence(
            c + `\\times` + d
          )})=${a}\\times(${mise_en_evidence(b + `-` + c * d)})=${a}\\times${
            b - c * d
          }=${a * (b - c * d)}$`;
          break;
        case 21:
          a = randint(2, 11);
          b = randint(2, 11);
          if (liste_des_diviseurs(a * b).length <= 2) {
          }
          let liste = liste_des_diviseurs(a * b);
          if (liste.length > 2) {
            liste.pop(); //on supprime le plus grand diviseur qui est le produit
          }
          if (liste.length > 2) {
            enleve_element(liste, liste[1]); //on supprime le plus petit diviseur (autre que 1)
          }

          let somme = choice(liste, [1]); // la somme doit être un diviseur différent de 1
          c = randint(1, somme - 1);
          d = somme - c;
          texte = `$${a}\\times${b}\\div(${c}+${d})$`;
          texte_corr = `$${a}\\times${b}\\div(${mise_en_evidence(
            c + `+` + d
          )})=${mise_en_evidence(a + "\\times" + b)}\\div${c + d}=${
            a * b
          }\\div${c + d}=${(a * b) / (c + d)}$`;
          break;
        case 22:
          a = randint(2, 11);
          c = randint(2, 11);
          b = c * randint(2, 5);
          d = randint(2, 6);
          texte = `$${a}\\times(${b}\\div${c}+${d})$`;
          texte_corr = `$${a}\\times(${mise_en_evidence(
            b + `\\div` + c
          )}+${d})=${a}\\times(${mise_en_evidence(
            b / c + `+` + d
          )})=${a}\\times${b / c + d}=${a * (b / c + d)}$`;
          break;
      }

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de calculs",
    3,
    "1 : Sans parenthèses\n2: Avec parenthèses\n3: Avec ou sans parenthèses",
  ];
}

/**
 * @Auteur Rémi Angot
 */
function Code_LaTeX_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Code LaTeX personnalisé";
  this.pas_de_version_HMTL = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "%Votre code LaTeX";
  this.sup2 = "%Votre code LaTeX pour le corrigé";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "Code LaTeX énoncé",
    "Par exemple : \\input{mon_fichier}",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = [
    "Code LaTeX correction",
    "Par exemple : \\input{mon_fichier_corr}",
  ];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * @Auteur Rémi Angot
 */
function HTML_personnalise() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Exercice personnalisé";
  this.pas_de_version_HMTL = false;
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Énoncé de l'exercice";
  this.sup2 = "Énoncé de la correction";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_long_texte = ["Exercice"]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  this.besoin_formulaire2_texte = ["Correction"];
  this.besoin_formulaire_case_a_cocher = false; // Sinon this.besoin_formulaire_case_a_cocher = [texte];

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.contenu = this.sup;
    this.contenu_correction = this.sup2;
  };
}

/**
 * Pavages et symétrie axiale.
 * Pas de version LaTeX
 * référence 6G25-1
 */
function Pavages_et_reflexion() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage triangulaire";
  this.pas_de_version_LaTeX = true;
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAIP#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAAjQwAAAAAUBEAAAAAAAAAAAABQD#####AAN5TTEAATAAAAABAAAAAAAAAAAAAAANAP####8BAAAAABAAAk0xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAEAAAAAgAAAARAAAADQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAP####8AAAABAAxDVHJhbnNsYXRpb24A#####wAAABMAAAABAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAABYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAFv####8AAAABAAlDUG9seWdvbmUA#####wAAfwAAAQAAAAQAAAAXAAAAGAAAABkAAAAX#####wAAAAEAEENTdXJmYWNlUG9seWdvbmUA#####wAAfwAAAAAFAAAAGgAAAAUA#####wACbngAATcAAAABQBwAAAAAAAAAAAAFAP####8AAm55AAE3AAAAAUAcAAAAAAAAAAAADAD#####AObm5gABAAAAAQAAAAwAAAAPAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAAAAAADQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAHgAAAAgAAAAcAAAACAAAAB3#####AAAAAQAHQ01pbGlldQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAB8AAAAFAP####8AA3hOMwABOAAAAAFAIAAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAATQAAAABQBAAAAAAAAAAAAAFAP####8AA3lNMwACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAD#ABAAAk4zAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAAIQAAAAgAAAAiAAAADQD#####AQAA#wAQAAJNMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACMAAAAIAAAAJP####8AAAABAAtDTWVkaWF0cmljZQD#####AAAA#wAQAAABAAIAAAAlAAAAJgAAAAUA#####wADeE4yAAEwAAAAAQAAAAAAAAAAAAAABQD#####AAN5TjIAATYAAAABQBgAAAAAAAAAAAAFAP####8AA3lNMgABNgAAAAFAGAAAAAAAAAAAAAUA#####wADeE0yAAEwAAAAAQAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACNDIAAAABQEUAAAAAAAAAAAAFAP####8AA3lOMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTjEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAuAAAACAAAAC8AAAASAP####8AAH8AARAABChkMSkBAAI#7MzMzMzMzQAAADAAAAAS#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADAAAAAcBAAAACAAAABwAAAABP#AAAAAAAAD#####AAAAAQAIQ1NlZ21lbnQA#####wAAAAAAEAAAAQABAAAAAQAAADIAAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAADwAAAAcBAAAACAAAAB0AAAABP#AAAAAAAAAAAAAEAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABAAAAAAAAAAAAAAAzAAAADgD#####AAAAAQAAADQAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA1AAAANgAAABQA#####wEAAAAAEAAAAQABAAAANQAAADcAAAAEAP####8BAAAAARAAAVUAAAAAAAAAAABACAAAAAAAAAUAAT#Q3iTV#EVNAAAAOP####8AAAACAA1DTWVzdXJlQWZmaXhlAP####8AAXoAAAAeAAAAOf####8AAAABAA1DRm9uY0NvbXBsZXhlAP####8AA251bQASMipyZSh6KSsyKm54KmltKHopAAAABwAAAAAHAgAAAAFAAAAAAAAAAP####8AAAACAAlDRm9uY3Rpb25M#####wAAAAIAEUNWYXJpYWJsZUZvcm1lbGxlAAAAAAAAAAcCAAAABwIAAAABQAAAAAAAAAD#####AAAAAQAXQ1Jlc3VsdGF0VmFsZXVyQ29tcGxleGUAAAAcAAAAF00AAAAYAAAAAAABegAAAA8A#####wH#AP8AAQAAAAQAAAABAAAADAAAAA8AAAAB#####wAAAAIACENNZXN1cmVZAP####8AAnlVAAAACQAAADn#####AAAAAgAIQ01lc3VyZVgA#####wACeFUAAAAJAAAAOQAAAA4A#####wAAAAEAAAA5AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAPwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAA#AAAADwD#####AQAAAAABAAAABAAAAEAAAABBAAAAQgAAAED#####AAAAAgASQ0xpZXVPYmpldFBhclB0TGllAP####8AAAAAAAAAQwAAAAgAAAAdAAAAOQAAAAYAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAAAcAP####8AAAAAAAAARAAAAAgAAAAcAAAANQAAAAoAAAA1AAAANwAAADgAAAA5AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAACgD#####AAAADAAAAAFATgAAAAAAAAAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAEYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAARgAAAA8A#####wH#AP8ABAAAAAQAAABHAAAASAAAAEkAAABHAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAPwAAAAkA#####wEAAAAAEAABQQAAAAAAAAAAAEAIAAAAAAAABQAAAABJAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABLAAAATAAAAE0AAABLAAAAHAD#####AQAAAAAAAE4AAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAAHAD#####AAAAAAAAAE8AAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABLAAAATAAAAE0AAABOAAAATwAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#VVUdaMaS+AAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAOQAAAE0AAAABP+VVR1oxpL4AAAAFAP####8AA3hVJwAbaW50KHhVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPgAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAAAAAAUA#####wADeVUnABtpbnQoeVUqMTAwMDAwMCswLjUpLzEwMDAwMDAAAAAHAwAAABcCAAAABwAAAAAHAgAAAAgAAAA9AAAAAUEuhIAAAAAAAAAAAT#gAAAAAAAAAAAAAUEuhIAAAAAA#####wAAAAEAD0NDYWxjdWxDb21wbGV4ZQD#####AAJ6VQAJeFUnK2kqeVUnAAAABwAAAAAZAAAAUwAAAAcC#####wAAAAEAC0NDb25zdGFudGVpAAAAGQAAAFQAAAAdAP####8ABG51bVUABm51bSh6Kf####8AAAABABZDQXBwZWxGb25jdGlvbkNvbXBsZXhlAAAAOwAAABkAAAA6#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAADAMQAAAAAAAMAkAAAAAAAAAAAAURAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAIAAABWAAAAHQD#####AAVudW1VMQAGbnVtVSsxAAAABwAAAAAZAAAAVgAAAAE#8AAAAAAAAAAAACAA#####wEAAAAAwC4AAAAAAADAIAAAAAAAAAAAAFIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAWAAAABwA#####wAAAAAAAABXAAAACAAAAB0AAAA5AAAABwAAADkAAAA6AAAAPwAAAE0AAABRAAAAVgAAAFcAAAAcAP####8AAAAAAAAAWgAAAAgAAAAcAAAANQAAAAsAAAA1AAAANwAAADgAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAWgAAABwA#####wAAAAAAAABZAAAACAAAAB0AAAA5AAAACAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAHAD#####AAAAAAAAAFwAAAAIAAAAHAAAADUAAAAMAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFIAAABWAAAAWAAAAFkAAABcAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAABQAAAAOAP####8AAAABAAAAXgAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABfAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAF8AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAXwAAAA8A#####wD#AAAAAgAAAAQAAABgAAAAYQAAAGIAAABgAAAAEAD#####AP8AAAAAAAUAAABjAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAZQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAABmAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAZgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAUAAAADgD#####AAAAAQAAABMAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAATAAAAawAAAA4A#####wAAAGwAAAAmAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAARwAAAG0AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABIAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEkAAABtAAAADwD#####AAAA#wABAAAABAAAAG4AAABvAAAAcAAAAG4AAAAQAP####8AAAD#AAAABQAAAHEAAAAOAP####8AAAABAAAADwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADQAAABzAAAAFAD#####AAAAAAAQAAABAAEAAAB0AAAAH#####8AAAABABBDSW50RHJvaXRlRHJvaXRlAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAM#####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAfwAAQDUAAAAAAADARQAAAAAAAQAAAHYQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAAUAP####8AAAD#ABAAAAEAAQAAAAEAAAA0AAAAIQD#####AQAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAeAAAACcAAAAiAP####8AAAD#AMBAAAAAAAAAwAgAAAAAAAAAAAB5EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMykpAAAAIQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAMQAAAHUAAAAiAP####8AAH8AAMBEgAAAAAAAP#AAAAAAAAAAAAB7EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMSkpAAAAEQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAALQAAACz#####AAAAAQAJQ0Ryb2l0ZU9tAP####8A#wAAABAAAAEAAgAAAAkAAAB9AAAAAT#wAAAAAAAAAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAADMAAAAiAP####8A#wAAAMA1AAAAAAAAwEKAAAAAAAAAAAB#EAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikpAAAAIQD#####AP8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAfgAAAHUAAAAiAP####8A#wAAAMAUAAAAAAAAQCYAAAAAAAAAAACBEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woMikp################";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wEAAAAAAAAAAAUcAAAC0gAAAQEAAAAAAAAAAQAAAMz#####AAAAAQAKQ0NhbGNDb25zdAD#####AAJwaQAWMy4xNDE1OTI2NTM1ODk3OTMyMzg0Nv####8AAAABAApDQ29uc3RhbnRlQAkh+1RELRj#####AAAAAQAKQ1BvaW50QmFzZQD#####AAAAAAEQAAFPAAAAAAAAAAAAQAgAAAAAAAAFAAFATMAAAAAAAEBTYUeuFHri#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8BAAAAARAAAAEAAQAAAAEBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQABQF6AAAAAAAAAAAAC#####wAAAAEAB0NDYWxjdWwA#####wAEem9vbQABOAAAAAFAIAAAAAAAAP####8AAAABAAtDSG9tb3RoZXRpZQD#####AAAAAf####8AAAABAApDT3BlcmF0aW9uAwAAAAE#8AAAAAAAAAAAAAcBAAAAAUA0AAAAAAAA#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAT#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAABEAABSQAAAAAAAAAAAEAIAAAAAAAABQAAAAADAAAABf####8AAAABAAlDUm90YXRpb24A#####wAAAAH#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAUBOAAAAAAAAAAAACQD#####AQAAAAEQAAFKAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAYAAAAH#####wAAAAIAB0NSZXBlcmUA#####wDm5uYAAQAAAAEAAAAGAAAACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAE#8AAAAAAAAAAAAAE#8AAAAAAAAAAAAAUA#####wACeEIAATYAAAABQBgAAAAAAAAAAAAFAP####8AAnlCAAEwAAAAAQAAAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAABEAABQgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAAAoAAAAIAAAACwAAAAUA#####wACeEMAATAAAAABAAAAAAAAAAAAAAAFAP####8AAnlDAAE2AAAAAUAYAAAAAAAAAAAADQD#####AQAAAAEQAAFDAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAADQAAAAgAAAAOAAAABQD#####AAN4TTEAATgAAAABQCAAAAAAAAAAAAAFAP####8AA3lNMQABMgAAAAFAAAAAAAAAAAAAAA0A#####wEAAAAAEAACTTEAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAQAAAACAAAABEAAAANAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAEwAAAAEAAAAJAP####8BAAAAABAAAVcAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAABQAAAAOAP####8AAAABAAAAFQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAAWAAAACQD#####AQAAAAAQAAFYAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAAAWAAAACQD#####AQAAAAAQAAFZAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAAAW#####wAAAAEACUNQb2x5Z29uZQD#####AQB#AAABAAAABAAAABcAAAAYAAAAGQAAABf#####AAAAAQAQQ1N1cmZhY2VQb2x5Z29uZQD#####AQB#AAAAAAUAAAAaAAAABQD#####AAJueAABNwAAAAFAHAAAAAAAAAAAAAUA#####wACbnkAATcAAAABQBwAAAAAAAAAAAAMAP####8A5ubmAAEAAAABAAAADAAAAA8AAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAAAAAANAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAeAAAACAAAABwAAAAIAAAAHf####8AAAABAAdDTWlsaWV1AP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAHwAAAAUA#####wADeE4zAAIyNgAAAAFAOgAAAAAAAAAAAAUA#####wADeU4zAAEyAAAAAUAAAAAAAAAAAAAABQD#####AAN4TTMAAjE2AAAAAUAwAAAAAAAAAAAABQD#####AAN5TTMAAjIyAAAAAUA2AAAAAAAAAAAADQD#####AQAA#wAQAAJOMwAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACEAAAAIAAAAIgAAAA0A#####wEAAP8AEAACTTMAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAAjAAAACAAAACT#####AAAAAQALQ01lZGlhdHJpY2UA#####wEAAP8AEAAAAQACAAAAJQAAACYAAAAFAP####8AA3hOMgACMTQAAAABQCwAAAAAAAAAAAAFAP####8AA3lOMgABMgAAAAFAAAAAAAAAAAAAAAUA#####wADeU0yAAIxNAAAAAFALAAAAAAAAAAAAAUA#####wADeE0yAAEyAAAAAUAAAAAAAAAAAAAADQD#####AQB#AAAQAAJOMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAJAAAACAAAACgAAAAIAAAAKQAAAA0A#####wEAfwAAEAACTTIAAAAAAAAAAABACAAAAAAAAAUAAAAACQAAAAgAAAArAAAACAAAACoAAAAFAP####8AA3hOMQACMTYAAAABQDAAAAAAAAAAAAAFAP####8AA3lOMQACMTAAAAABQCQAAAAAAAAAAAANAP####8BAAAAABAAAk4xAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAkAAAAIAAAALgAAAAgAAAAvAAAAEgD#####AQB#AAEQAAQoZDEpAQACP+zMzMzMzM0AAAAwAAAAEv####8AAAABABFDUG9pbnRQYXJBYnNjaXNzZQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAAwAAAAHAQAAAAgAAAAcAAAAAT#wAAAAAAAA#####wAAAAEACENTZWdtZW50AP####8AAAAAABAAAAEAAQAAAAEAAAAyAAAAEwD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAA8AAAAHAQAAAAgAAAAdAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAQAAAAAAAAAAAAAAMwAAAA4A#####wAAAAEAAAA0AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANQAAADYAAAAUAP####8BAAAAABAAAAEAAQAAADUAAAA3AAAABAD#####AQAAAAEQAAFVAAAAAAAAAAAAQAgAAAAAAAAFAAE#0N4k1fxFTQAAADj#####AAAAAgANQ01lc3VyZUFmZml4ZQD#####AAF6AAAAHgAAADn#####AAAAAQANQ0ZvbmNDb21wbGV4ZQD#####AANudW0AEjIqcmUoeikrMipueCppbSh6KQAAAAcAAAAABwIAAAABQAAAAAAAAAD#####AAAAAgAJQ0ZvbmN0aW9uTP####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAAHAgAAAAcCAAAAAUAAAAAAAAAA#####wAAAAEAF0NSZXN1bHRhdFZhbGV1ckNvbXBsZXhlAAAAHAAAABdNAAAAGAAAAAAAAXoAAAAPAP####8B#wD#AAEAAAAEAAAAAQAAAAwAAAAPAAAAAf####8AAAACAAhDTWVzdXJlWQD#####AAJ5VQAAAAkAAAA5#####wAAAAIACENNZXN1cmVYAP####8AAnhVAAAACQAAADkAAAAOAP####8AAAABAAAAOQAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAEAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAD8AAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAPAAAAPwAAAA8A#####wEAAAAAAQAAAAQAAABAAAAAQQAAAEIAAABA#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AAAAAAAAAEMAAAAIAAAAHQAAADkAAAAGAAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAAHAD#####AAAAAAAAAEQAAAAIAAAAHAAAADUAAAAKAAAANQAAADcAAAA4AAAAOQAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAAoA#####wAAAAwAAAABQE4AAAAAAAAAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAARgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAwAAABGAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAADwAAAEYAAAAPAP####8B#wD#AAQAAAAEAAAARwAAAEgAAABJAAAARwAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEcAAAA#AAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASAAAAD8AAAAJAP####8BAAAAABAAAUEAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAD8AAAAPAP####8BAAAAAAEAAAAEAAAASwAAAEwAAABNAAAASwAAABwA#####wEAAAAAAABOAAAACAAAAB0AAAA5AAAABgAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAABwA#####wAAAAAAAABPAAAACAAAABwAAAA1AAAACgAAADUAAAA3AAAAOAAAADkAAAA#AAAASwAAAEwAAABNAAAATgAAAE8AAAATAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAA5AAAATQAAAAE#1VVHWjGkvgAAABMA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADkAAABNAAAAAT#lVUdaMaS+AAAABQD#####AAN4VScAG2ludCh4VSoxMDAwMDAwKzAuNSkvMTAwMDAwMAAAAAcDAAAAFwIAAAAHAAAAAAcCAAAACAAAAD4AAAABQS6EgAAAAAAAAAABP+AAAAAAAAAAAAABQS6EgAAAAAAAAAAFAP####8AA3lVJwAbaW50KHlVKjEwMDAwMDArMC41KS8xMDAwMDAwAAAABwMAAAAXAgAAAAcAAAAABwIAAAAIAAAAPQAAAAFBLoSAAAAAAAAAAAE#4AAAAAAAAAAAAAFBLoSAAAAAAP####8AAAABAA9DQ2FsY3VsQ29tcGxleGUA#####wACelUACXhVJytpKnlVJwAAAAcAAAAAGQAAAFMAAAAHAv####8AAAABAAtDQ29uc3RhbnRlaQAAABkAAABUAAAAHQD#####AARudW1VAAZudW0oein#####AAAAAQAWQ0FwcGVsRm9uY3Rpb25Db21wbGV4ZQAAADsAAAAZAAAAOv####8AAAABAA9DVmFsZXVyQWZmaWNoZWUA#####wEAAAAAwDEAAAAAAADAJAAAAAAAAAAAAFEQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAACAAAAVgAAAB0A#####wAFbnVtVTEABm51bVUrMQAAAAcAAAAAGQAAAFYAAAABP#AAAAAAAAAAAAAgAP####8BAAAAAMAuAAAAAAAAwCAAAAAAAAAAAABSEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAgAAAFgAAAAcAP####8AAAAAAAAAVwAAAAgAAAAdAAAAOQAAAAcAAAA5AAAAOgAAAD8AAABNAAAAUQAAAFYAAABXAAAAHAD#####AAAAAAAAAFoAAAAIAAAAHAAAADUAAAALAAAANQAAADcAAAA4AAAAOQAAADoAAAA#AAAATQAAAFEAAABWAAAAVwAAAFoAAAAcAP####8AAAAAAAAAWQAAAAgAAAAdAAAAOQAAAAgAAAA5AAAAOgAAAD8AAABNAAAAUgAAAFYAAABYAAAAWQAAABwA#####wAAAAAAAABcAAAACAAAABwAAAA1AAAADAAAADUAAAA3AAAAOAAAADkAAAA6AAAAPwAAAE0AAABSAAAAVgAAAFgAAABZAAAAXAAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAUAAAADgD#####AAAAAQAAAF4AAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAABAAAAXwAAAAkA#####wH#AP8AEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAXwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABfAAAADwD#####Af8AAAACAAAABAAAAGAAAABhAAAAYgAAAGAAAAAQAP####8B#wAAAAAABQAAAGMAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAmAAAAFAAAAA4A#####wAAAAEAAABlAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAAQAAAGYAAAAJAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAMAAAAZgAAAAkA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA8AAABmAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAJgAAABQAAAAOAP####8AAAABAAAAEwAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABMAAABrAAAADgD#####AAAAbAAAACYAAAAJAP####8B#wD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABHAAAAbQAAAAkA#####wH#AP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAEgAAABtAAAACQD#####Af8A#wAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAASQAAAG0AAAAPAP####8BAAD#AAEAAAAEAAAAbgAAAG8AAABwAAAAbgAAABAA#####wEAAP8AAAAFAAAAcQAAAA4A#####wAAAAEAAAAPAAAACQD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAANAAAAHMAAAAUAP####8AAAAAABAAAAEAAQAAAHQAAAAf#####wAAAAEAEENJbnREcm9pdGVEcm9pdGUA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAADEAAAAz#####wAAAAIADENDb21tZW50YWlyZQD#####AQB#AABANQAAAAAAAMBFAAAAAAABAAAAdhAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAABQA#####wAAAP8AEAAAAQABAAAAAQAAADQAAAAhAP####8BAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAB4AAAAJwAAACIA#####wEAAP8AwEAAAAAAAADACAAAAAAAAAAAAHkQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAhAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAxAAAAdQAAACIA#####wAAfwAAwESAAAAAAAA#8AAAAAAAAAAAAHsQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgxKSkAAAARAP####8BAH8AABAAAkgyAAAAAAAAAAAAQAgAAAAAAAAFAAAAAC0AAAAs#####wAAAAEACUNEcm9pdGVPbQD#####Af8AAAAQAAABAAIAAAAJAAAAfQAAAAE#8AAAAAAAAAAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAAzAAAAIgD#####Af8AAADANQAAAAAAAMBCgAAAAAAAAAAAfxAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAACEA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAH4AAAB1AAAAIgD#####Af8AAADAFAAAAAAAAEAmAAAAAAAAAAAAgRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDIpKQAAABEA#####wEAfwAAEAACSDEAAAAAAAAAAABACAAAAAAAAAUAAAAAEgAAADAAAAAUAP####8BAH8AABAAAAEAAgAAABIAAAAwAAAABAD#####AQB#AAEQAANNJzEAAAAAAAAAAABACAAAAAAAAAUAAT#YiIhSPtDkAAAAhP####8AAAABAAlDTG9uZ3VldXIA#####wAAAAEAAAAM#####wAAAAIAD0NNZXN1cmVBYnNjaXNzZQD#####AAJrMQAAAIMAAAASAAAAhQAAAAYA#####wAAAIMAAAAIAAAAhwAAAAkA#####wEAfwAAEAACVycAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAAIj#####AAAAAQANQ1BvaW50UHJvamV0ZQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAGAAAADEAAAAGAP####8AAACKAAAACAAAAIcAAAAJAP####8BAH8AABAAAlgnAAAAAAAAAAAAQAgAAAAAAAAFAAAAABgAAACLAAAAJgD#####AQB#AAAQAAJZJwAAAAAAAAAAAEAIAAAAAAAABQAAAAAZAAAAMQAAAAYA#####wAAAI0AAAAIAAAAhwAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACOAAAADwD#####AQB#AAACAAAABAAAAIkAAACMAAAAjwAAAIkAAAAQAP####8BAH8AAAAABQAAAJD#####AAAAAQAPQ1N5bWV0cmllQXhpYWxlAP####8AAAAxAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAFwAAAJIAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAAAYAAAAkgAAAAkA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAABkAAACSAAAADwD#####AQB#AAACAAAABAAAAJMAAACUAAAAlQAAAJMAAAAQAP####8BAH8AAAAABQAAAJb#####AAAAAgAXQ01hY3JvQW5pbWF0aW9uUG9pbnRMaWUA#####wAAfwAB#####wpAi1QAAAAAAEA#hR64UeuGAgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAFYW5pbTEAAAAAAAAUAAAAZAAAADwAAACFAAEA#####wAAAAEAEUNNYWNyb0Rpc3Bhcml0aW9uAP####8AAH8AAf####8KQIs8AAAAAABAT8KPXCj1wwIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTEAAAAAAAgAAACRAAAAkAAAABsAAAAaAAAAMQAAAHcAAACXAAAAlv####8AAAABABBDTWFjcm9BcHBhcml0aW9uAP####8AAH8AAf####8KQItEAAAAAABAV+FHrhR64gIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MQAAAAAACAAAAJEAAACQAAAAGwAAABoAAAAxAAAAdwAAAJcAAACWAP####8AAAABAAtDTWFjcm9QYXVzZQD#####AAB#AAH#####EECN1AAAAAAAQEJCj1wo9cMCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVQYXVzZQAAAAAAAf####8AAAABABFDTWFjcm9TdWl0ZU1hY3JvcwD#####AAB#AAH#####EEBTYAAAAAAAQCMKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGEAAAAAAAQAAACaAAAAmAAAAJkAAACbAAAAFAD#####AQB#AAAQAAABAAIAAAAtAAAALAAAAAQA#####wEAfwAAEAADTScyAAAAAAAAAAAAQAgAAAAAAAAFAAE#089zR#b9RQAAAJ0AAAAlAP####8AAmsyAAAAfQAAAC0AAACeAAAAJgD#####AAB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAH4AAAAGAP####8AAACgAAAACAAAAJ8AAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABgAAAAoQAAACYA#####wEAfwAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAAB+AAAABgD#####AAAAowAAAAgAAACfAAAACQD#####AQB#AAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYgAAAKQAAAAJAP####8BAH8AABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAApAAAAA8A#####wH#AAAAAgAAAAQAAACiAAAApQAAAKYAAACiAAAAEAD#####Af8AAAAAAAUAAACnAAAAKAD#####AP8AAAH#####CkCLlAAAAAAAQGKQo9cKPXECAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMgAAAAAAABQAAABkAAAAPAAAAJ4AAQAAAAAnAP####8AAAB+AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAYAAAAKoAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABhAAAAqgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAGIAAACqAAAADwD#####Af8AAAACAAAABAAAAKsAAACsAAAArQAAAKsAAAAQAP####8B#wAAAAAABQAAAK4AAAApAP####8A#wAAAf####8KQIu0AAAAAABAZpCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTIAAAAAAAkAAABkAAAAYwAAAKgAAACnAAAArwAAAK4AAAB+AAAAggAAAIAAAAAqAP####8A#wAAAf####8KQIvMAAAAAABAahCj1wo9cQIAAAAAAAAAAAAAAAABAAAAAAAAAAAACWFwcGFyYWl0MgAAAAAACQAAAGQAAABjAAAAqAAAAKcAAACvAAAArgAAAH4AAACCAAAAgAAAAAAsAP####8A#wAAAf####8QQGhwAAAAAABAIwo9cKPXDAIAAAAAAAAAAAAAAAABAAAAAAAAAAAADENvcnJlY3Rpb24gYgAAAAAABAAAALEAAACpAAAAsAAAAJsAAAARAP####8B#wAAABAAAkgzAAAAAAAAAAAAQAgAAAAAAAAFAAAAACYAAAAlAAAAFAD#####Af8AAAAQAAABAAIAAAAmAAAAJQAAAAQA#####wH#AAAAEAADTSczAAAAAAAAAAAAQAgAAAAAAAAFAAE#0spidDyBMgAAALQAAAAlAP####8AAmszAAAAswAAACYAAAC1AAAAJgD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbgAAACcAAAAmAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAJwAAAAYA#####wAAALcAAAAIAAAAtgAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAAC5AAAABgD#####AAAAuAAAAAgAAAC2AAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAcAAAALsAAAAGAP####8AAACzAAAACAAAALYAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABvAAAAvQAAAA8A#####wEAAP8AAgAAAAQAAAC6AAAAvgAAALwAAAC6AAAAJwD#####AAAAJwAAAAkA#####wH#AAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAAG4AAADAAAAACQD#####Af8AAAAQAAAAAAAAAAAAAABACAAAAAAAAAUAAAAAbwAAAMAAAAAJAP####8B#wAAABAAAAAAAAAAAAAAAEAIAAAAAAAABQAAAABwAAAAwAAAAA8A#####wEAAP8AAgAAAAQAAADBAAAAwgAAAMMAAADBAAAAEAD#####AQAA#wAAAAUAAADEAAAAEAD#####AQAA#wAAAAUAAAC#AAAAKAD#####AAAA#wH#####CkCL9AAAAAAAQHAoUeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAVhbmltMwAAAAAAABQAAABkAAAAPAAAALUAAQAAAAApAP####8AAAD#Af####8KQIwEAAAAAABAcjhR64UeuAIAAAAAAAAAAAAAAAABAAAAAAAAAAAAB21hc3F1ZTMAAAAAAAgAAAByAAAAcQAAAMYAAAC#AAAAxQAAAMQAAAAnAAAAegAAACoA#####wAAAP8B#####wpAjAwAAAAAAEB0CFHrhR64AgAAAAAAAAAAAAAAAAEAAAAAAAAAAAAJYXBwYXJhaXQzAAAAAAAIAAAAcgAAAHEAAADGAAAAvwAAAMUAAADEAAAAJwAAAHoAAAAALAD#####AAAA#wH#####EEBzWAAAAAAAQCUKPXCj1wwCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAxDb3JyZWN0aW9uIGMAAAAAAAQAAADJAAAAxwAAAJsAAADIAAAALAD#####AAAA#wH#####EECMdAAAAAAAQHb4UeuFHrgCAAAAAAAAAAAAAAAAAQAAAAAAAAAAAApDb3JyZWN0aW9uAAAAAAADAAAAnAAAALIAAADKAAAAhv##########";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées

    let texte = ``,
      texte_corr = ``;
    let tabfigA = [],
      tabfigB = [];
    let nx = 7,
      ny = 7,
      xB = 6,
      yB = 0,
      xC = 0,
      yC = 6,
      zoom = 8;
    let xM1, yM1, xN1, yN1, xM2, yM2, xN2, yN2, xM3, yM3, xN3, yN3;
    let trouver = false,
      indexa,
      numa,
      anum,
      indexaxe1,
      xmil1,
      ymil1,
      indexb,
      numb,
      bnum,
      indexaxe2,
      xmil2,
      ymil2,
      indexc,
      numc,
      cnum,
      indexaxe3,
      xmil3,
      ymil3;
    let point = [0, 0, 0];

    for (let y = 0; y < ny; y++) {
      // On initialise les tableaux avec les coordonnées des points de référence (A,B,C et D) de chaque translaté et son numéro dans le pavage.
      for (let x = 0; x < nx; x++) {
        tabfigA.push([2 + x * 6, 2 + y * 6, 2 * x + 2 * y * nx]);
        tabfigB.push([4 + x * 6, 4 + y * 6, 2 * x + 2 * y * nx + 1]);
      }
    }

    // Première question : une figure dans tabfigA, une symétrie par rapport à une droite parallèle à y=-x, l'image est dans tabfigB	 !
    // L'axe de symétrie est la médiatrice du segment d'extrémités les centres de gravités des figures A et B.

    indexa = randint(0, nx * ny - 1);
    numa = tabfigA[indexa][2];
    indexaxe1 = randint(0, nx * ny - 1); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    //on calcule les coordonnées du milieu de [BC] on ajoute aux coordonnées du milieu de [BC] celles du vecteur BB'. (j'aurais pu réduire mais cela aurait rendu le calcul plus opaque)
    xmil1 = tabfigA[indexaxe1][0] - 2;
    ymil1 = tabfigA[indexaxe1][1] - 2;
    point = [tabfigA[indexa][0], tabfigA[indexa][1]];
    point = image_point_par_transformation(2, point, [xmil1, ymil1]);

    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigB[j][0] && point[1] == tabfigB[j][1]) {
          trouver = true;
          anum = tabfigB[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexa = randint(0, nx * ny - 1);
        numa = tabfigA[indexa][2];
        indexaxe1 = randint(0, nx * ny - 1);
        xmil1 = tabfigA[indexaxe1][0] - 2;
        ymil1 = tabfigA[indexaxe1][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = image_point_par_transformation(2, point, [xmil1, ymil1]);
      }
    }
    xM1 = tabfigA[indexa][0];
    yM1 = tabfigA[indexa][1];
    xN1 = point[0];
    yN1 = point[1];

    texte = `Le point O peut être déplacé pour recadrer éventuellement le pavage.<br>`;
    texte +=
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ ?<br>`,
        `green`
      );
    texte_corr =
      num_alpha(0) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numa} dans la symétrie par rapport à la droite $(d_1)$ porte le numéro ${anum}.<br>`,
        `green`
      );
    // Deuxième question : une figure dans tabfigA, une symétrie par rapport à une parallèle à y=x ql'image est une figure dans tabfigA
    // On tracera la médiatrice du segment d'extrémité les 2 centres de gravités symétriques.
    indexb = randint(0, nx * ny - 1);
    numb = tabfigA[indexb][2];
    indexaxe2 = randint(0, nx * ny - 1, [indexb]); // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil2 = tabfigA[indexaxe2][0] - 2;
    ymil2 = tabfigA[indexaxe2][1] - 2;
    point = image_point_par_transformation(
      1,
      [tabfigA[indexb][0], tabfigA[indexb][1]],
      [xmil2, ymil2]
    );
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          bnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexb = randint(0, nx * ny - 1);
        numb = tabfigA[indexb][2];
        indexaxe2 = randint(0, nx * ny - 1);
        xmil2 = tabfigA[indexaxe2][0] - 2;
        ymil2 = tabfigA[indexaxe2][1] - 2;
        point = image_point_par_transformation(
          1,
          [tabfigA[indexb][0], tabfigA[indexb][1]],
          [xmil2, ymil2]
        );
      }
    }
    xM2 = tabfigA[indexb][0];
    yM2 = tabfigA[indexb][1];
    xN2 = point[0];
    yN2 = point[1];

    texte +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(d_2)$ ?<br>`,
        `red`
      );
    texte_corr +=
      num_alpha(1) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numb} dans la symétrie par rapport à la droite $(2)$ porte le numéro ${bnum}.<br>`,
        `red`
      );

    // troisième question : une figure dans tabfigB, une symétrie par rapport à une parallèle à y=0, l'image est dans tabfigA
    indexc = 3; //randint(0,nx*ny-1)
    numc = tabfigB[indexc][2];
    indexaxe3 = 14; //randint(0,nx*ny-1) // l'index aléatoire dans le tableau des centres de gravité des figA sert à choisir un point de passage pour l'axe (xG-2,yG-2).
    xmil3 = tabfigA[indexaxe3][0] - 2;
    ymil3 = tabfigA[indexaxe3][1] - 2;
    point = [tabfigB[indexc][0], tabfigB[indexc][1]];
    point = changement_de_base_ortho_tri(
      image_point_par_transformation(
        3,
        changement_de_base_tri_ortho(point),
        changement_de_base_tri_ortho([xmil3, ymil3])
      )
    );
    point[0] = arrondi(point[0], 1); // Les coordonnées sont censées être entières mais les calculs JS laissent toujours de cent-milliardièmes indésirables.
    point[1] = arrondi(point[1], 1);
    trouver = false;
    while (trouver == false) {
      for (let j = 0; j < nx * ny; j++) {
        if (point[0] == tabfigA[j][0] && point[1] == tabfigA[j][1]) {
          trouver = true;
          cnum = tabfigA[j][2];
          break;
        }
      }
      if (trouver == false) {
        indexc = randint(0, nx * ny - 1);
        numc = tabfigB[indexc][2];
        indexaxe3 = randint(0, nx * ny - 1);
        xmil3 = tabfigA[indexaxe3][0] - 2;
        ymil3 = tabfigA[indexaxe3][1] - 2;
        point = [tabfigA[indexa][0], tabfigA[indexa][1]];
        point = changement_de_base_ortho_tri(
          image_point_par_transformation(
            3,
            changement_de_base_tri_ortho(point),
            [xmil3, ymil3]
          )
        );
        point[0] = arrondi(point[0], 1);
        point[1] = arrondi(point[1], 1);
      }
    }

    xM3 = tabfigB[indexc][0];
    yM3 = tabfigB[indexc][1];
    xN3 = point[0];
    yN3 = point[1];

    texte +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` Quel est le numéro de la figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ ?<br>`,
        `blue`
      );
    texte_corr +=
      num_alpha(2) +
      texte_en_couleur_et_gras(
        ` La figure symétrique de la figure ${numc} dans la symétrie par rapport à la droite $(d_3)$ porte le numéro ${cnum}.<br>`,
        `blue`
      );

    if (sortie_html) {
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xB", "${xB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yB", "${yB}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xC", "${xC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yC", "${yC}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM1", "${xM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM1", "${yM1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN1", "${xN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN1", "${yN1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM2", "${xM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM2", "${yM2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN2", "${xN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN2", "${yN2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xM3", "${xM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yM3", "${yM3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN3", "${xN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN3", "${yN3}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "nx", "${nx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "ny", "${ny}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "zoom", "${zoom}");

			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.executeMacro("MG32svgcorr${numero_de_l_exercice}","Correction")
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;

      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_cor = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

/**
 * Calcul de volumes (cube et pavé droit).
 * @Auteur Jean-Claude Lhote
 * référence 6M30
 */

function Calcul_de_volumes() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Calculs de volumes";
  this.consigne = "Calculer en détaillant le volume des solides donnés";
  this.nb_questions = 4;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) type_de_questions_disponibles = [1, 2];
    // sixième : cube et pavé droit
    else if (this.classe == 5) type_de_questions_disponibles = [1, 2, 3, 4];
    // cinquième : on ajoute les prismes et le cylindre
    else if (this.classe == 4)
      type_de_questions_disponibles = [1, 2, 3, 4, 5, 6];
    // Quatrième : on ajoute pyramides et cones
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6, 7]; // Troisième : on ajoute les boules.
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let liste_unites = [
      [`~\\text{m}`, `~\\text{m}^3`],
      [`~\\text{dm}`, `~\\text{dm}^3`],
      [`~\\text{cm}`, `~\\text{cm}^3`],
      [`~\\text{mm}`, `~\\text{mm}^3`],
    ];
    for (
      let i = 0, texte, texte_corr, L, l, h, c, r, A, j, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      switch (liste_type_de_questions[i]) {
        case 1: // cube
          c = randint(2, 10);
          j = randint(0, 3); // pour le choix de l'unité
          texte = `Un cube de $${c} ${liste_unites[j][0]}$ d'arête.`;
          texte_corr = `$\\mathcal{V}= c^3 =c \\times c \\times c = ${c}${
            liste_unites[j][0]
          }\\times${c}${liste_unites[j][0]}\\times${c}${
            liste_unites[j][0]
          }=${tex_nombrec(c * c * c)}${liste_unites[j][1]}$`;
          break;
        case 2: // pavé droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            l = randint(2, 5);
            h = randint(3, 6);
            L = randint(6, 10);
            texte = `Un pavé droit de $${l}${liste_unites[j][0]}$ de largeur, de $${L}${liste_unites[j][0]}$ de longueur et de $${h}${liste_unites[j][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${L}${liste_unites[j][0]}\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(l * L * h)}${liste_unites[j][1]}$`;
          } else {
            // avec conversion
            j = randint(1, 2); // pour le choix de l'unité	centrale
            l = randint(2, 5);
            h = randint(3, 6) * 10;
            L = arrondi(randint(6, 10) / 10, 1);
            texte = `Un pavé droit de $${l}${
              liste_unites[j][0]
            }$ de largeur, de $${tex_nombre(L)}${
              liste_unites[j - 1][0]
            }$ de longueur et de $${h}${liste_unites[j + 1][0]}$ de hauteur.`;
            texte_corr = `$\\mathcal{V}= l \\times L \\times h = ${l}${
              liste_unites[j][0]
            }\\times${tex_nombre(L)}${liste_unites[j - 1][0]}\\times${h}${
              liste_unites[j + 1][0]
            }=${l}${liste_unites[j][0]}\\times${L * 10}${
              liste_unites[j][0]
            }\\times${h / 10}${liste_unites[j][0]}=${tex_nombrec(
              arrondi(l * L * h)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 3: // Cylindre
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_nombrec(
              r * r * h
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi(r * r * h * Math.PI, 1)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cylindre de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\pi \\times R ^2 \\times h =\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\pi\\times${r * r}${liste_unites[j][0]}^2\\times${h}${
              liste_unites[j][0]
            }=${tex_nombrec(r * r * h)}\\pi${
              liste_unites[j][1]
            }\\approx${tex_nombrec(calcul(r * r * h * Math.PI, 1))}${
              liste_unites[j][1]
            }$`;
          }
          break;
        case 4: // prisme droit
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Un prisme droit de hauteur $${l}${liste_unites[j][0]}$ et dont les bases sont des triangles de base $${c}${liste_unites[j][0]}$ et de hauteur correspondante $${h}${liste_unites[j][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j][0]}}{2}\\times${l}${
              liste_unites[j][0]
            }=${tex_nombrec(arrondi(calcul((c * h * l) / 2), 1))}${
              liste_unites[j][1]
            }$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Un prisme droit de hauteur $${l}${
              liste_unites[j - 1][0]
            }$ et dont les bases sont des triangles de base $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\mathcal{B} \\times h=\\dfrac{${c}${
              liste_unites[j][0]
            }\\times${h}${liste_unites[j + 1][0]}}{2}\\times${tex_nombrec(l)}${
              liste_unites[j - 1][0]
            }=\\dfrac{${c}${liste_unites[j][0]}\\times${tex_nombrec(
              calcul(h / 10)
            )}${liste_unites[j][0]}}{2}\\times${l * 10}${
              liste_unites[j][0]
            }=${tex_nombrec(calcul((c * h * l) / 2))}${liste_unites[j][1]}$`;
          }
          break;
        case 5: // cone
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(2, 15);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombre(h)}${
              liste_unites[j][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${h}${liste_unites[j][0]}=${tex_fraction(
              r * r * h,
              3
            )}\\pi${liste_unites[j][1]}\\approx${tex_nombrec(
              arrondi((r * r * h * Math.PI) / 3)
            )}${liste_unites[j][1]}$`;
          } else {
            j = randint(2, 3); // pour le choix de l'unité
            r = randint(2, 10);
            h = randint(20, 150);
            texte = `Un cône de $${r}${
              liste_unites[j][0]
            }$ de rayon et de $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ de hauteur.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(calcul(h / 10))}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times\\pi\\times\\left(${r}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h)}${
              liste_unites[j][0]
            }=${tex_fraction(r * r * h, 3)}\\pi\\approx${tex_nombrec(
              calcul((r * r * h * Math.PI) / 3, 1)
            )}${liste_unites[j][1]}$`;
          }
          break;
        case 6: // pyramide
          if (this.sup == 1) {
            //sans conversion
            j = randint(0, 3); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(2, 5);
            l = randint(6, 10);
            texte = `Une pyramide de hauteur $${h}${liste_unites[j][0]}$ et dont la base  est un carré de $${c}${liste_unites[j][0]}$ de côté.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${liste_unites[j][0]}\\right)^2\\times${h}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * c * h) / 3), 1)
              )}${liste_unites[j][1]}$`;
          } else {
            j = randint(1, 2); // pour le choix de l'unité
            c = randint(2, 10);
            h = randint(30, 50);
            l = arrondi(randint(5, 15) / 10, 1);
            texte = `Une pyramide de hauteur $${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }$ et dont la base  est un carré de $${c}${
              liste_unites[j][0]
            }$ et de hauteur correspondante $${h}${liste_unites[j + 1][0]}$.`;
            texte_corr = `$\\mathcal{V}=\\dfrac{1}{3} \\times \\mathcal{B} \\times h=\\dfrac{1}{3}\\times\\left(${c}${
              liste_unites[j][0]
            }\\right)^2\\times${tex_nombrec(h / 10)}${
              liste_unites[j - 1][0]
            }=\\dfrac{1}{3}\\times${c * c}${
              liste_unites[j][0]
            }^2\\times${tex_nombrec(h)}${liste_unites[j][0]}`;
            if (calcul((c * c * h) / 3, false) == arrondi((c * c * h) / 3, 1))
              texte_corr += `=${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
            else
              texte_corr += `\\approx${tex_nombrec(
                arrondi(calcul((c * h * c) / 3), 1)
              )}${liste_unites[j][1]}$`;
          }
          break;
        case 7: // boule
          j = randint(0, 3); // pour le choix de l'unité
          r = randint(2, 10);
          texte = `Une boule de $${r}${liste_unites[j][0]}$ de rayon.`;
          texte_corr = `$\\mathcal{V}=\\dfrac{4}{3} \\times \\pi \\times R^3=\\dfrac{4}{3}\\times\\pi\\times\\left(${r}${
            liste_unites[j][0]
          }\\right)^3=${tex_fraction(calcul(4 * r * r * r), 3)}\\pi${
            liste_unites[j][1]
          }\\approx${tex_nombrec(
            arrondi(calcul((4 * Math.PI * r * r * r) / 3), 1)
          )}${liste_unites[j][1]}$`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Niveau de difficulté",
    2,
    "1 : pas de conversion\n2 : avec conversion",
  ];
}

/**
 * Transformations : trouvers un point numéroté par une des transformations du plan. Fonction générale utilisée sur tous les niveaux
 * @Auteur Jean-Claude Lhote
 * Pas de version LaTeX
 */
function Transformations() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  // this.titre = "Trouver l'image d'un point par une transformation du plan";
  this.consigne = "";
  this.nb_questions = 1;
  this.nb_questions_modifiable = false;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.pas_de_version_LaTeX = true;
  // this.sup = 1; // 1 pour les 6ème, 2 pour les 5èmes, 3 pour les 4èmes, et 4 pour les 3èmes.
  sortie_html ? (this.spacing_corr = 2.5) : (this.spacing_corr = 1.5);
  this.liste_packages = "tkz-euclide";
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.type_exercice = "MG32";
    this.MG32editable = false;
    this.taille_div_MG32 = [700, 700];
    this.MG32codeBase64 =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAAAAAAEAAABt#####wAAAAEACkNDYWxjQ29uc3QA#####wACcGkAFjMuMTQxNTkyNjUzNTg5NzkzMjM4NDb#####AAAAAQAKQ0NvbnN0YW50ZUAJIftURC0Y#####wAAAAEAB0NDYWxjdWwA#####wACeU8AATQAAAABQBAAAAAAAAAAAAACAP####8AAnhPAAE0AAAAAUAQAAAAAAAA#####wAAAAEACkNQb2ludEJhc2UA#####wEAAAAADgABRwDAKAAAAAAAAAAAAAAAAAAABQABQEnAAAAAAABAhAQo9cKPXP####8AAAABABRDRHJvaXRlRGlyZWN0aW9uRml4ZQD#####ANjY2AAQAAABAQEAAAADAT#wAAAAAAAA#####wAAAAEAD0NQb2ludExpZURyb2l0ZQD#####AQAAAAAOAAFJAMAcAAAAAAAAQDQAAAAAAAAFAAFAUIAAAAAAAAAAAAT#####AAAAAQAJQ0Ryb2l0ZUFCAP####8BAAAAABAAAAEAAQAAAAMAAAAF#####wAAAAEAFkNEcm9pdGVQZXJwZW5kaWN1bGFpcmUA#####wDY2NgAEAAAAQEBAAAAAwAAAAb#####AAAAAQAJQ0NlcmNsZU9BAP####8BAAAAAAEAAAADAAAABf####8AAAABABBDSW50RHJvaXRlQ2VyY2xlAP####8AAAAHAAAACP####8AAAABABBDUG9pbnRMaWVCaXBvaW50AP####8BAAAAAA4AAUoAwC4AAAAAAABAGAAAAAAAAAUAAgAAAAn#####AAAAAgAHQ1JlcGVyZQD#####AObm5gEBAAAAAwAAAAUAAAAKAQEBAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAT#wAAAAAAAAAAAAAT#wAAAAAAAA#####wAAAAEAEENQb2ludERhbnNSZXBlcmUA#####wEAAAAAEAABUQAAAAAAAAAAAEAIAAAAAAAABQAAAAALAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAA#####wAAAAEADENUcmFuc2xhdGlvbgD#####AAAAAwAAAAX#####AAAAAQALQ1BvaW50SW1hZ2UA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAANAP####8AAAADAAAACgAAAA4A#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAABQCIAAAAAAAAAAAAOAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAADgD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEf####8AAAABAAhDU2VnbWVudAD#####AQAAAAAQAAABAAEAAAAMAAAAEgAAAAUA#####wEAAAAADgACUjEAAAAAAAAAAABACAAAAAAAAAUAAT#uZmZmZmZmAAAAFAAAAA0A#####wAAAAwAAAATAAAADgD#####AQAAAAAOAAJSMgAAAAAAAAAAAEAIAAAAAAAABQAAAAAVAAAAFgAAABAA#####wEAAAAAEAAAAQABAAAAFQAAABcAAAAFAP####8Bf39#AA4AAlMxAAAAAAAAAAAAQAgAAAAAAAADAAE#u38NRim38QAAABgAAAALAP####8A5ubmAAEAAAAMAAAADgAAABAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABP#AAAAAAAAAAAAABP#AAAAAAAAD#####AAAAAgAIQ01lc3VyZVgA#####wADeFMxAAAAGgAAABn#####AAAAAgAIQ01lc3VyZVkA#####wADeVMxAAAAGgAAABkAAAACAP####8ACE5vbVBvaW50AAoxMCp5UzEreFMx#####wAAAAEACkNPcGVyYXRpb24AAAAAEwIAAAABQCQAAAAAAAD#####AAAAAQAPQ1Jlc3VsdGF0VmFsZXVyAAAAHAAAABQAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAUBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAABQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAFgD#####AAAAAAAAAB8AAAABQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAABYA#####wEAAAAAAAAZAAAAAUAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAABYA#####wCkpKQAAAAhAAAAAUAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAAoA#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAAkAAAADgD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAADAD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAAL#####wAAAAIACUNGb25jdGlvbgAAAAAUAAAAAgAAABkAAAAAFAAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMxAAExAAAAAT#wAAAAAAAAAAAABAD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAgD#####AAN4eCcAATEAAAABP#AAAAAAAAAAAAAPAP####8AAAAoAAAAFAAAACwAAAAEAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAACAP####8AA3l5JwABMQAAAAE#8AAAAAAAAAAAAA8A#####wAAACgAAAAUAAAALwAAABoA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAT#wAAAAAAAAAAAAAgD#####AARiaXMyAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAKAAAABQAAAAyAAAADwD#####AAAAAwAAAAE#8AAAAAAAAAAAAA4A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAFAHmZmZmZmZgAAAAIA#####wACeE4AATMAAAABQAgAAAAAAAAAAAAMAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAFAGAAAAAAAAAAAAAFAFAAAAAAAAAAAAAIA#####wACeU4AAi0xAAAAGwAAAAE#8AAAAAAAAAAAAAwA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAAEwAAAAABQBgAAAAAAAAAAAAUAAAANwAAABMAAAAAAUAUAAAAAAAAAAAAFAAAADkAAAACAP####8ACEFmZmljaGVOAAEwAAAAAQAAAAAAAAAAAAAAAgD#####AAhBZmZpY2hlTQABMAAAAAEAAAAAAAAAAAAAAA8A#####wAAAAMAAAATAwAAAAE#8AAAAAAAAAAAABQAAAA7AAAADgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAPAP####8AAAADAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAPAAAAA4A#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAADsAAAAOAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTQAAAB0A#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABTgAAAAIA#####wAEbnVtMAACMjMAAAABQDcAAAAAAAAAAAACAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAAZAgAAABMDAAAAFAAAAEUAAAABQCQAAAAAAAAAAAACAP####8AAngwAAxtb2QobnVtMCwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAUAAAARQAAAAFAJAAAAAAAAAAAAAwA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAUAAAARwAAABQAAABGAAAAAgD#####AARudW0yAAIyNwAAAAFAOwAAAAAAAAAAAAIA#####wACeTIADGludChudW0yLzEwKQAAABkCAAAAEwMAAAAUAAAASQAAAAFAJAAAAAAAAAAAAAIA#####wACeDIADG1vZChudW0yLDEwKQAAAB4GAAAAFAAAAEkAAAABQCQAAAAAAAAAAAAMAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAFAAAAEsAAAAUAAAASgAAAAIA#####wAEbnVtMQACNTEAAAABQEmAAAAAAAAAAAACAP####8AAnkxAAxpbnQobnVtMS8xMCkAAAAZAgAAABMDAAAAFAAAAE0AAAABQCQAAAAAAAAAAAACAP####8AAngxAAxtb2QobnVtMSwxMCkAAAAeBgAAABQAAABNAAAAAUAkAAAAAAAAAAAADAD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAABQAAABPAAAAFAAAAE4AAAACAP####8ACEFmZmljaGVPAAExAAAAAT#wAAAAAAAAAAAADwD#####AAAAAwAAABMDAAAAAT#wAAAAAAAAAAAAFAAAAFEAAAAOAP####8AAAAAABIAAU8AwDEAAAAAAADAQgAAAAAAAAkAAAAAKAAAAFIAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAKv####8AAAABAAxDRHJvaXRlSW1hZ2UA#####wAAAAAAEAAAAQACAAAAKQAAAFQAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAAMgAAAB8A#####wAAAAAAEAAAAQACAAAAMQAAAFYAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALAAAAB8A#####wAAAAAAEAAAAQADAAAAKwAAAFgAAAAPAP####8AAAAoAAAAEwMAAAABP#AAAAAAAAAAAAAUAAAALwAAAB8A#####wAAAAAAEAAAAQADAAAALgAAAFr#####AAAAAgAJQ0NlcmNsZU9SAP####8BAAAAAAMAAAAoAAAAAUAUAAAAAAAAAAAAAAkA#####wAAAFcAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAF0AAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAXQAAAAkA#####wAAAFsAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAQAAAGAAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYAAAAAkA#####wAAAFUAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGMAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYwAAAAkA#####wAAAFkAAABcAAAACgD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAgAAAGYAAAAKAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAZgAAAB0A#####wAAAAAAwDYAAAAAAADARoAAAAAAAAAAAF8QAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgyKSkAAAAdAP####8AAAAAAMA9AAAAAAAAwD8AAAAAAAAAAABiEAAAAAAAAAAAAAAAAAABAAAAAAAAAAAACChkI0woNCkpAAAAHQD#####AAAAAADAAAAAAAAAAMBHAAAAAAAAAAAAZRAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAgoZCNMKDEpKQAAAB0A#####wAAAAAAQBwAAAAAAADAPQAAAAAAAAAAAGgQAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAIKGQjTCgzKSkAAAAn##########8=";
    this.MG32codeBase64corr =
      "TWF0aEdyYXBoSmF2YTEuMAAAABI+TMzNAAJmcv###wEA#wAAAADEAACIuAAAgIkAAICKAAB9FwAAgCoAAH0TAAB9EgAAgCcAAIAoAAB9FAAAgK4AAIB8AACAhAAAgAsAAIAlAACAIAAAgA0AAIAOAACBWQAAgAwAAIDxAACBJwAAgHkAAIB7AACAegAAgCQAAIFxAACAbQAAgGoAAIC7AACAvAAAfR0AAH0eAACAgAAAgYMAAIAPAACAEwAAgBIAAIAXAACAFgAAgF4AAIBfAACAZQAAfRAAAIDrAACAEAAAgEgAAIAUAAB9KAAAgBoAAIAdAACA6QAAgVAAAIFRAACBDAAAgQ0AAIFSAACBUwAAgB4AAIAcAACAGwAAgBkAAIBgAACBIAAAgN4AAIDfAACBCgAAgOAAAIFDAACASQAAgEoAAIEXAACBGAAAgDMAAIB2AACA7AAAgO0AAIDYAACA2QAAgNoAAIDbAACAcgAAgXkAAIFiAACBZAAAgE0AAIAfAACAIgAAgCMAAIAhAACAxwAAgT0AAIELAACBBAAAgC0AAIFMAACAMAAAgSoAAIErAACALgAAgDEAAIDyAACBaQAAgWcAAIGlAACBdQAAgC8AAIA1AACAWQAAgFwAAH0KAAB9CwAAgUkAAIFLAAB9DgAAfQ8AAH0RAAB9FQAAfSQAAIBuAACAawAAgLAAAIFXAACAsQAAgVYAAICyAACBVAAAgLcAAIC4AACAswAAgPcAAIC0AACAtQAAgQYAAIEfAACBAgAAgY4AAIGPAACBAwAAgOMAAID2AACBBwAAgQkAAIEpAACBKAAAgOgAAIBvAACAcAAAgHQAAIBQAACA3QAAfRkAAH0YAACBbAAAgHEAAIFtAACBbgAAgXIAAIGGAAB9IwAAgQgAAIDkAACA5wAAgOUAAIDuAAB9KwAAfS0AAH0qAAB9LAAAgW8AAIFwAACBeAAAgXcAAH0mAACA8AAAfSUAAIEiAAB9KQAAfScAAIGjAACBpAAAfR8AAH0gAAB9IQAAfSIAAIBiAACAYwAAgGcAAIBoAACAaQAAgMkAAIBLAACArwAAgSwAAIDhAACA4gAAAAAFHAAAAtIAAAEBAAAAAQAAAAYACFN5bWV0cmllAClDbHF1ZXIgc3VyIGxlIHBvaW50CkNsaXF1ZXIgc3VyIGxhIGRyb2l0ZQAAAAIAAAAGAAAAABr#####AAAAAQARQ0VsZW1lbnRHZW5lcmlxdWUAAAAAAAT#####AAAAAAAAAAAACf##########AAAAAQAHQ0NhbGN1bAD#####AAJ5TwABNP####8AAAABAApDQ29uc3RhbnRlQBAAAAAAAAAAAAABAP####8AAnhPAAE0AAAAAkAQAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKf####8AAAACAAlDRm9uY3Rpb24C#####wAAAAEACkNPcGVyYXRpb24D#####wAAAAEAD0NSZXN1bHRhdFZhbGV1cgAAAAUAAAACQCQAAAAAAAAAAAABAP####8AAngxAAxtb2QobnVtMSwxMCn#####AAAAAQANQ0ZvbmN0aW9uMlZhcgYAAAAFAAAABQAAAAJAJAAAAAAAAP####8AAAABAA9DU3ltZXRyaWVBeGlhbGUA#####wAAAAH#####AAAAAQALQ1BvaW50SW1hZ2UB#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAI#####wAAAAEAB0NNaWxpZXUA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAAAAAAJ#####wAAAAEACENTZWdtZW50Af####8AAAD#ABAAAAEAAgAAAAAAAAAKAAAACgH#####AAAA#wAQAAABAAIAAAAKAAAACf####8AAAACAAlDQ2VyY2xlT1IA#####wEAAP8AAgAAAAoAAAACP9MzMzMzMzMA#####wAAAAEAEENJbnREcm9pdGVDZXJjbGUA#####wAAAAsAAAAN#####wAAAAEAEENQb2ludExpZUJpcG9pbnQA#####wAAAP8AEgAAAAAAAAAAAAAAQAgAAAAAAAAHAAIAAAAOAAAACgD#####AQAAAAAQAAABAAEAAAAKAAAAD#####8AAAABABZDRHJvaXRlUGVycGVuZGljdWxhaXJlAP####8AAAAAAA0AAAEBAQAAAAoAAAAQ#####wAAAAEACUNDZXJjbGVPQQD#####AAAAAAEBAAAACgAAAA8AAAAMAP####8AAAARAAAAEgAAAA0A#####wAAAP8AEgAAAQcAAgAAABP#####AAAAAQAMQ1RyYW5zbGF0aW9uAP####8AAAAKAAAADwAAAAgA#####wAAAP8AEgAAAQcAAAAAFAAAABX#####AAAAAQAJQ1BvbHlnb25lAf####8AAAD#AAIAAAAFAAAACgAAAA8AAAAWAAAAFAAAAAr#####AAAAAQAOQ01hcnF1ZVNlZ21lbnQB#####wAAAP8AAgAAAAALAAAAEgH#####AAAA#wACAAAAAAwAAAABAAABNP####8AAAABAApDQ2FsY0NvbnN0AP####8AAnBpABYzLjE0MTU5MjY1MzU4OTc5MzIzODQ2AAAAAkAJIftURC0YAAAAAQD#####AAJ5TwABNAAAAAJAEAAAAAAAAAAAAAEA#####wACeE8AATQAAAACQBAAAAAAAAD#####AAAAAQAKQ1BvaW50QmFzZQD#####AQAAAAAOAAFHAMAoAAAAAAAAAAAAAAAAAAAFAAFAScAAAAAAAECEBCj1wo9c#####wAAAAEAFENEcm9pdGVEaXJlY3Rpb25GaXhlAP####8A2NjYABAAAAEBAQAAAAMBP#AAAAAAAAD#####AAAAAQAPQ1BvaW50TGllRHJvaXRlAP####8BAAAAAA4AAUkAwBwAAAAAAABANAAAAAAAAAUAAUBQgAAAAAAAAAAABP####8AAAABAAlDRHJvaXRlQUIA#####wEAAAAAEAAAAQABAAAAAwAAAAUAAAAOAP####8A2NjYABAAAAEBAQAAAAMAAAAGAAAADwD#####AQAAAAABAAAAAwAAAAUAAAAMAP####8AAAAHAAAACAAAAA0A#####wEAAAAADgABSgDALgAAAAAAAEAYAAAAAAAABQACAAAACf####8AAAACAAdDUmVwZXJlAP####8A5ubmAQEAAAADAAAABQAAAAoBAQEAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACP#AAAAAAAAAAAAACP#AAAAAAAAD#####AAAAAQAQQ1BvaW50RGFuc1JlcGVyZQD#####AQAAAAAQAAFRAAAAAAAAAAAAQAgAAAAAAAAFAAAAAAsAAAACAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAQAP####8AAAADAAAABQAAAAgA#####wEAAAAADgACUTEAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA0AAAAQAP####8AAAADAAAACgAAAAgA#####wEAAAAADgACUTIAAAAAAAAAAABACAAAAAAAAAUAAAAADAAAAA######AAAAAQALQ0hvbW90aGV0aWUA#####wAAAAwAAAACQCIAAAAAAAAAAAAIAP####8BAAAAAA4AAlEzAAAAAAAAAAAAQAgAAAAAAAAFAAAAAA4AAAARAAAACAD#####AQAAAAAOAAJRNAAAAAAAAAAAAEAIAAAAAAAABQAAAAAQAAAAEQAAAAoA#####wEAAAAAEAAAAQABAAAADAAAABIAAAAWAP####8BAAAAAA4AAlIxAAAAAAAAAAAAQAgAAAAAAAAFAAE#7mZmZmZmZgAAABQAAAAQAP####8AAAAMAAAAEwAAAAgA#####wEAAAAADgACUjIAAAAAAAAAAABACAAAAAAAAAUAAAAAFQAAABYAAAAKAP####8BAAAAABAAAAEAAQAAABUAAAAXAAAAFgD#####AX9#fwAOAAJTMQAAAAAAAAAAAEAIAAAAAAAAAwABP7t#DUYpt#EAAAAYAAAAGAD#####AObm5gABAAAADAAAAA4AAAAQAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAj#wAAAAAAAAAAAAAj#wAAAAAAAA#####wAAAAIACENNZXN1cmVYAP####8AA3hTMQAAABoAAAAZ#####wAAAAIACENNZXN1cmVZAP####8AA3lTMQAAABoAAAAZAAAAAQD#####AAhOb21Qb2ludAAKMTAqeVMxK3hTMQAAAAQAAAAABAIAAAACQCQAAAAAAAAAAAAFAAAAHAAAAAUAAAAb#####wAAAAEAD0NWYWxldXJBZmZpY2hlZQD#####AQAAAABAKAAAAAAAAEAxAAAAAAAAAAAAGQ4AAf###wAAAAEAAAACAAAAAkBGgAAAAAAAAAAAAAIAAAAd#####wAAAAIAEkNMaWV1T2JqZXRQYXJQdExpZQD#####AQAAAAAAAB4AAAACQCQAAAAAAAAAAAAZAAAABQAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHgD#####AAAAAAAAAB8AAAACQCQAAAAAAAAAAAAVAAAACQAAABUAAAAXAAAAGAAAABkAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAB4A#####wEAAAAAAAAZAAAAAkAkAAAAAAAAAAAAGQAAAAIAAAAZAAAAGQAAAB4A#####wCkpKQAAAAhAAAAAkAkAAAAAAAAAAAAFQAAAAUAAAAVAAAAFwAAABgAAAAZAAAAIQAAAA0A#####wEAAAAAEAAAAQUAAQAAAAn#####AAAAAQAKQ1VuaXRleFJlcAD#####AAR1bml0AAAACwAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAkAAAACAD#####AQAAAAAQAAJXIgBAJAAAAAAAAEAYAAAAAAAAAQAAAAAFAAAAJf####8AAAABAAlDTG9uZ3VldXIA#####wAAAAMAAAAmAAAAGQD#####AQAAAAAQAAJPIgDAMQAAAAAAAMBBAAAAAAAACQAAAAALAAAAAwAAAAAFAAAAAgAAAAMAAAAABQAAAAH#####AAAAAQAJQ0Ryb2l0ZU9tAP####8BAAAAABAAAAEAAQAAAAsAAAAoAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMxAAExAAAAAj#wAAAAAAAAAAAAFQD#####AQAAAAEQAAABAAEAAAAoAT#wAAAAAAAAAAAAAQD#####AAN4eCcAATEAAAACP#AAAAAAAAAAAAAaAP####8AAAAoAAAABQAAACwAAAAVAP####8BAAAAARAAAAEAAQAAACgAP#AAAAAAAAAAAAABAP####8AA3l5JwABMQAAAAI#8AAAAAAAAAAAABoA#####wAAACgAAAAFAAAALwAAACEA#####wEAAAAAEAAAAQABAAAACwAAACj#####AAAAAQAMQ01vaW5zVW5haXJlAAAAAj#wAAAAAAAAAAAAAQD#####AARiaXMyAAExAAAAAj#wAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAAyAAAAGgD#####AAAAAwAAAAI#8AAAAAAAAAAAAAgA#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAFAAAAACgAAAA0#####wAAAAEAEUNQb2ludFBhckFic2Npc3NlAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAADAAAABQAAAAJAHmZmZmZmZgAAAAEA#####wACeE4AATMAAAACQAgAAAAAAAAAAAAZAP####8BAAAAAQ4AAU0AwCwAAAAAAADAOQAAAAAAAAMAAAAACwAAAAJAGAAAAAAAAAAAAAJAFAAAAAAAAAAAAAEA#####wACeU4AAi0xAAAAIgAAAAI#8AAAAAAAAAAAABkA#####wEAAAABDgABTgDAKAAAAAAAAMA9AAAAAAAAAwAAAAALAAAABAAAAAACQBgAAAAAAAAAAAAFAAAANwAAAAQAAAAAAkAUAAAAAAAAAAAABQAAADkAAAABAP####8ACEFmZmljaGVOAAExAAAAAj#wAAAAAAAAAAAAAQD#####AAhBZmZpY2hlTQABMQAAAAI#8AAAAAAAAAAAABoA#####wAAAAMAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAA7AAAACAD#####AQAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAMAAAAAOAAAAD0AAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAPAAAAAgA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAADgAAAA#AAAAGgD#####AAAAAwAAAAQDAAAAAj#wAAAAAAAAAAAABQAAADsAAAAIAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAA6AAAAQf####8AAAACAAxDQ29tbWVudGFpcmUA#####wAAAAAAwC4AAAAAAADAOAAAAAAAAAAAAEAQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTQAAACQA#####wAAAAAAwCoAAAAAAADAOgAAAAAAAAAAAEIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAABTgAAAAEA#####wAEbnVtMAACMjMAAAACQDcAAAAAAAAAAAABAP####8AAnkwAAxpbnQobnVtMC8xMCkAAAADAgAAAAQDAAAABQAAAEUAAAACQCQAAAAAAAAAAAABAP####8AAngwAAxtb2QobnVtMCwxMCkAAAAGBgAAAAUAAABFAAAAAkAkAAAAAAAAAAAAGQD#####AAAAAAAQAAAAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAAAUAAABHAAAABQAAAEYAAAABAP####8ABG51bTIAAjI3AAAAAkA7AAAAAAAAAAAAAQD#####AAJ5MgAMaW50KG51bTIvMTApAAAAAwIAAAAEAwAAAAUAAABJAAAAAkAkAAAAAAAAAAAAAQD#####AAJ4MgAMbW9kKG51bTIsMTApAAAABgYAAAAFAAAASQAAAAJAJAAAAAAAAAAAABkA#####wAAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAFAAAASwAAAAUAAABKAAAAAQD#####AARudW0xAAI1MQAAAAJASYAAAAAAAAAAAAEA#####wACeTEADGludChudW0xLzEwKQAAAAMCAAAABAMAAAAFAAAATQAAAAJAJAAAAAAAAAAAAAEA#####wACeDEADG1vZChudW0xLDEwKQAAAAYGAAAABQAAAE0AAAACQCQAAAAAAAAAAAAZAP####8AAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAABQAAAE8AAAAFAAAATgAAAAEA#####wAIQWZmaWNoZU8AATEAAAACP#AAAAAAAAAAAAAaAP####8AAAADAAAABAMAAAACP#AAAAAAAAAAAAAFAAAAUQAAAAgA#####wEAAAAAEgABTwDAMQAAAAAAAMBCAAAAAAAACQAAAAAoAAAAUgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAq#####wAAAAEADENEcm9pdGVJbWFnZQD#####AAAAAAAQAAABAAIAAAApAAAAVAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAyAAAAJQD#####AAAAAAAQAAABAAIAAAAxAAAAVgAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAsAAAAJQD#####AAAAAAAQAAABAAMAAAArAAAAWAAAABoA#####wAAACgAAAAEAwAAAAI#8AAAAAAAAAAAAAUAAAAvAAAAJQD#####AAAAAAAQAAABAAMAAAAuAAAAWgAAAAsA#####wEAAAAAAwAAACgAAAACQBAAAAAAAAAAAAAADAD#####AAAAVwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAXQAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABdAAAADAD#####AAAAWwAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQABAAAAYAAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAIAAABgAAAADAD#####AAAAVQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAYwAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABjAAAADAD#####AAAAWQAAAFwAAAANAP####8BAAAAABAAAAAAAAAAAAAAAEAIAAAAAAAACQACAAAAZgAAAA0A#####wEAAAAAEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAEAAABmAAAAJAD#####AAAAAADANgAAAAAAAMBGgAAAAAAAAAAAXxAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDIpKQAAACQA#####wAAAAAAwD0AAAAAAADAPwAAAAAAAAAAAGIQAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAIKGQjTCg0KSkAAAAkAP####8AAAAAAMAAAAAAAAAAwEcAAAAAAAAAAABlEAAAAAAAAAAAAAAAAAACAAAAAAAAAAAACChkI0woMSkpAAAAJAD#####AAAAAABAHAAAAAAAAMA9AAAAAAAAAAAAaBAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAgoZCNMKDMpKf####8AAAABAAVDRm9uYwD#####AARhYnNuAAltb2QoeCwxMCkAAAAGBv####8AAAACABFDVmFyaWFibGVGb3JtZWxsZQAAAAAAAAACQCQAAAAAAAAAAXgAAAAmAP####8ABG9yZG4ACWludCh4LzEwKQAAAAMCAAAABAMAAAAnAAAAAAAAAAJAJAAAAAAAAAABeAAAAAEA#####wACbjEAATEAAAACP#AAAAAAAAAAAAABAP####8AAm4yAAEyAAAAAkAAAAAAAAAAAAAAAQD#####AAJuMwACNzcAAAACQFNAAAAAAAAAAAABAP####8AAm40AAE1AAAAAkAUAAAAAAAAAAAAAQD#####AAJuNQACNTYAAAACQEwAAAAAAAAAAAABAP####8AAm42AAE2AAAAAkAYAAAAAAAAAAAAAQD#####AAJuNwABNwAAAAJAHAAAAAAAAAAAAAEA#####wACbjgAAjg1AAAAAkBVQAAAAAAAAAAAAQD#####AAJuOQACNTMAAAACQEqAAAAAAAAAAAAZAP####8BAAD#ABIAAlAxAAAAAAAAAAAAQAgAAAAAAAAJAAAAAAv#####AAAAAQAOQ0FwcGVsRm9uY3Rpb24AAABtAAAABQAAAG8AAAAoAAAAbgAAAAUAAABvAAAAGQD#####AQAA#wASAAJQMgAAAAAAAAAAAEAIAAAAAAAABwAAAAALAAAAKAAAAG0AAAAFAAAAcAAAACgAAABuAAAABQAAAHAAAAAZAP####8BAAD#ABIAAnAzAAAAAAAAAAAAQAgAAAAAAAAHAAAAAAsAAAAoAAAAbQAAAAUAAABxAAAAKAAAAG4AAAAFAAAAcQAAABkA#####wEAAP8AEgACUDQAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHIAAAAoAAAAbgAAAAUAAAByAAAAGQD#####AQAA#wASAAJQNQAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAcwAAACgAAABuAAAABQAAAHMAAAAZAP####8BAAD#ABIAAlA2AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB0AAAAKAAAAG4AAAAFAAAAdAAAABkA#####wEAAP8AEgACUDcAAAAAAAAAAABACAAAAAAAAAkAAAAACwAAACgAAABtAAAABQAAAHUAAAAoAAAAbgAAAAUAAAB1AAAAGQD#####AQAA#wASAAJQOAAAAAAAAAAAAEAIAAAAAAAACQAAAAALAAAAKAAAAG0AAAAFAAAAdgAAACgAAABuAAAABQAAAHYAAAAZAP####8BAAD#ABIAAlA5AAAAAAAAAAAAQAgAAAAAAAAJAAAAAAsAAAAoAAAAbQAAAAUAAAB3AAAAKAAAAG4AAAAFAAAAdwAAACYA#####wAFdGVzdG4ABzEtKHg8MCkAAAAEAQAAAAI#8AAAAAAAAAAAAAQEAAAAJwAAAAAAAAACAAAAAAAAAAAAAXgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABvAAAACAD#####AAAA#wESAANQJzEAAAAAAAAAAABACAAAAAAAAAkAAAAAeAAAAIIAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABwAAAACAD#####AAAA#wESAANQJzIAAAAAAAAAAABACAAAAAAAAAkAAAAAeQAAAIQAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABxAAAACAD#####AAAA#wESAANQJzMAAAAAAAAAAABACAAAAAAAAAkAAAAAegAAAIYAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAByAAAACAD#####AAAA#wESAANQJzQAAAAAAAAAAABACAAAAAAAAAkAAAAAewAAAIgAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAABzAAAACAD#####AAAA#wESAANQJzUAAAAAAAAAAABACAAAAAAAAAkAAAAAfAAAAIoAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB0AAAACAD#####AAAA#wESAANQJzYAAAAAAAAAAABACAAAAAAAAAkAAAAAfQAAAIwAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB1AAAACAD#####AAAA#wESAANQJzcAAAAAAAAAAABACAAAAAAAAAkAAAAAfgAAAI4AAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB2AAAACAD#####AAAA#wESAANQJzgAAAAAAAAAAABACAAAAAAAAAkAAAAAfwAAAJAAAAAaAP####8AAAAoAAAABAMAAAACP#AAAAAAAAAAAAAoAAAAgQAAAAUAAAB3AAAACAD#####AAAA#wESAANQJzkAAAAAAAAAAABACAAAAAAAAAkAAAAAgAAAAJL#####AAAAAQAUQ0ltcGxlbWVudGF0aW9uUHJvdG8A#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACDAAAAVQAAAAEAAAAAlAADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACUAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAJQAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAlAADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAlAABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAJgAAAACQCQAAAAAAAAAAAABAAAAAJQAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAmAAAAAJAJAAAAAAAAAAAAAcAAAAAlAAAAFUAAAAIAQAAAJQAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACDAAAAmwAAAAkAAAAAlAAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIMAAACcAAAACgEAAACUAAAA#wAQAAABAAIAAACDAAAAnQAAAAoBAAAAlAAAAP8AEAAAAQACAAAAnQAAAJwAAAALAAAAAJQBAAD#AAIAAACdAAAAAj#TMzMzMzMzAAAAAAwAAAAAlAAAAJ4AAACgAAAADQAAAACUAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAKEAAAAKAAAAAJQBAAAAABAAAAEAAQAAAJ0AAACiAAAADgAAAACUAAAAAAAQAAABAQEAAACdAAAAowAAAA8AAAAAlAAAAAABAQAAAJ0AAACiAAAADAAAAACUAAAApAAAAKUAAAANAAAAAJQAAAD#ABAAAAEHAAIAAACmAAAAEAAAAACUAAAAnQAAAKIAAAAIAAAAAJQAAAD#ABAAAAEHAAAAAKcAAACoAAAAEQEAAACUAAAA#wACAAAABQAAAJ0AAACiAAAAqQAAAKcAAACdAAAAEgEAAACUAP8AAAEBAAAAAJ4AAAASAQAAAJQA#wAAAQEAAAAAnwAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACFAAAAVwAAAAEAAAAArQADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAACtAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAK0AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAArQADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAArQABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAALEAAAACQCQAAAAAAAAAAAABAAAAAK0AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAsQAAAAJAJAAAAAAAAAAAAAcAAAAArQAAAFcAAAAIAQAAAK0AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACFAAAAtAAAAAkAAAAArQAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIUAAAC1AAAACgEAAACtAAAA#wAQAAABAAIAAACFAAAAtgAAAAoBAAAArQAAAP8AEAAAAQACAAAAtgAAALUAAAALAAAAAK0BAAD#AAIAAAC2AAAAAj#TMzMzMzMzAAAAAAwAAAAArQAAALcAAAC5AAAADQAAAACtAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAALoAAAAKAAAAAK0BAAAAABAAAAEAAQAAALYAAAC7AAAADgAAAACtAAAAAAAQAAABAQEAAAC2AAAAvAAAAA8AAAAArQAAAAABAQAAALYAAAC7AAAADAAAAACtAAAAvQAAAL4AAAANAAAAAK0AAAD#ABAAAAEHAAIAAAC#AAAAEAAAAACtAAAAtgAAALsAAAAIAAAAAK0AAAD#ABAAAAEHAAAAAMAAAADBAAAAEQEAAACtAAAA#wACAAAABQAAALYAAAC7AAAAwgAAAMAAAAC2AAAAEgEAAACtAP8AAAEBAQAAALcAAAASAQAAAK0A#wAAAQEBAAAAuAAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACHAAAAWQAAAAEAAAAAxgADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADGAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAMYAA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAAxgADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAAxgABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAMoAAAACQCQAAAAAAAAAAAABAAAAAMYAAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAAygAAAAJAJAAAAAAAAAAAAAcAAAAAxgAAAFkAAAAIAQAAAMYAAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACHAAAAzQAAAAkAAAAAxgAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIcAAADOAAAACgEAAADGAAAA#wAQAAABAAIAAACHAAAAzwAAAAoBAAAAxgAAAP8AEAAAAQACAAAAzwAAAM4AAAALAAAAAMYBAAD#AAIAAADPAAAAAj#TMzMzMzMzAAAAAAwAAAAAxgAAANAAAADSAAAADQAAAADGAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAANMAAAAKAAAAAMYBAAAAABAAAAEAAQAAAM8AAADUAAAADgAAAADGAAAAAAAQAAABAQEAAADPAAAA1QAAAA8AAAAAxgAAAAABAQAAAM8AAADUAAAADAAAAADGAAAA1gAAANcAAAANAAAAAMYAAAD#ABAAAAEHAAIAAADYAAAAEAAAAADGAAAAzwAAANQAAAAIAAAAAMYAAAD#ABAAAAEHAAAAANkAAADaAAAAEQEAAADGAAAA#wACAAAABQAAAM8AAADUAAAA2wAAANkAAADPAAAAEgEAAADGAP8AAAEBAgAAANAAAAASAQAAAMYA#wAAAQECAAAA0QAAACkA#####wAIU3ltZXRyaWUAAAASAAAABgAAAAIAAACJAAAAWwAAAAEAAAAA3wADeU8xAAE0AAAAAkAQAAAAAAAAAAAAAQAAAADfAAN4TzEAATQAAAACQBAAAAAAAAAAAAABAAAAAN8AA2JpcwABMQAAAAI#8AAAAAAAAAAAAAEAAAAA3wADbnVtAAI1MQAAAAJASYAAAAAAAAAAAAEAAAAA3wABeQALaW50KG51bS8xMCkAAAADAgAAAAQDAAAABQAAAOMAAAACQCQAAAAAAAAAAAABAAAAAN8AAXgAC21vZChudW0sMTApAAAABgYAAAAFAAAA4wAAAAJAJAAAAAAAAAAAAAcAAAAA3wAAAFsAAAAIAQAAAN8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACJAAAA5gAAAAkAAAAA3wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAIkAAADnAAAACgEAAADfAAAA#wAQAAABAAIAAACJAAAA6AAAAAoBAAAA3wAAAP8AEAAAAQACAAAA6AAAAOcAAAALAAAAAN8BAAD#AAIAAADoAAAAAj#TMzMzMzMzAAAAAAwAAAAA3wAAAOkAAADrAAAADQAAAADfAAAA#wAQAAAAAAAAAAAAAABACAAAAAAAAAcAAgAAAOwAAAAKAAAAAN8BAAAAABAAAAEAAQAAAOgAAADtAAAADgAAAADfAAAAAAAQAAABAQEAAADoAAAA7gAAAA8AAAAA3wAAAAABAQAAAOgAAADtAAAADAAAAADfAAAA7wAAAPAAAAANAAAAAN8AAAD#ABAAAAEHAAIAAADxAAAAEAAAAADfAAAA6AAAAO0AAAAIAAAAAN8AAAD#ABAAAAEHAAAAAPIAAADzAAAAEQEAAADfAAAA#wACAAAABQAAAOgAAADtAAAA9AAAAPIAAADoAAAAEgEAAADfAP8AAAEBAwAAAOkAAAASAQAAAN8A#wAAAQEDAAAA6v####8AAAABAAlDUm90YXRpb24A#####wAAACgAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACLAAAA+AAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAIsAAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAD5#####wAAAAIAE0NNYXJxdWVBbmdsZU9yaWVudGUA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAIsAAAAoAAAA+QAAAAASAP####8A#wAAAAEBAAAA+gAAABIA#####wD#AAAAAQEAAAD7#####wAAAAEAEkNBcmNEZUNlcmNsZURpcmVjdAD#####AP8AAAABAAAAKAAAAIsAAAD5AAAAKgD#####AAAAKAAAACIAAAACQFaAAAAAAAAAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACNAAABAAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAI0AAAAKAP####8AAAD#ABAAAAEAAQAAACgAAAEBAAAAEgD#####AP8AAAABAQAAAQMAAAASAP####8A#wAAAAEBAAABAgAAACsA#####wD#AAAAAQAAAAFAMAAAAAAAAAAAAI0AAAAoAAABAQD#####AAAAAQAUQ0FyY0RlQ2VyY2xlSW5kaXJlY3QA#####wD#AAAAAQAAACgAAACNAAABAf####8AAAABABFDU3ltZXRyaWVDZW50cmFsZQD#####AAAAKAAAAAgA#####wAAAP8AEAAAAAAAAAAAAAAAQAgAAAAAAAAJAAAAAI8AAAEIAAAACgD#####AAAA#wAQAAABAAEAAACPAAAAKAAAAAoA#####wAAAP8AEAAAAQABAAAAKAAAAQkAAAASAP####8A#wAAAAECAAABCwAAABIA#####wD#AAAAAQIAAAEKAAAAEAD#####AAAAQAAAAEIAAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAACRAAABDv####8AAAABAAhDVmVjdGV1cgD#####AP8AAAAQAAABAAEAAACRAAABDwAAAAAvAP####8A#wAAABAAAAEAAQAAAEAAAABCAAAAAAoA#####wD#AAAAEAAAAQEBAAAAQAAAAJEAAAAKAP####8A#wAAABAAAAEBAQAAAEIAAAEPAAAAAQD#####AAFrAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAUAAAEUAAAACAD#####AAAA#wESAAFBAAAAAAAAAAAAQAgAAAAAAAAJAAAAAJMAAAEVAAAACgD#####AAAA#wAQAAABAQEAAAAoAAAAkwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAARYAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAACT#####wAAAAEAC0NNZWRpYXRyaWNlAAAAARkBAAAAABAAAAEAAQAAACgAAACTAAAACQAAAAEZAQAAAAAQAAABBQAAAAAoAAAAkwAAAAsAAAABGQEAAAAAAQAAARsAAAACQDAAAAAAAAABAAAADAAAAAEZAAABGgAAARwAAAANAAAAARkBAAAAABAAAAEFAAEAAAEdAAAAIAEAAAEZAAAAKAAAAJMAAAApAP####8AEk1lc3VyZSBkZSBsb25ndWV1cgAAAAUAAAABAAAAAgAAACgAAAEWAAAAMAAAAAEgAQAAAAAQAAABAAEAAAAoAAABFgAAAAkAAAABIAEAAAAAEAAAAQUAAAAAKAAAARYAAAALAAAAASABAAAAAAEAAAEiAAAAAkAwAAAAAAAAAQAAAAwAAAABIAAAASEAAAEjAAAADQAAAAEgAQAAAAAQAAABBQABAAABJAAAACABAAABIAAAACgAAAEWAAAAFgD#####Af8AAAASAAFGAAAAAAAAAAAAQAgAAAAAAAAFAAE#585Z#OWfzwAAARgAAAAeAP####8A#wAAAAABJwAAAAQAAAAABQAAARQAAAACP#AAAAAAAAAAAAEnAAAAAgAAAScAAAEnAAAAAQD#####AANuMTAAAjE5AAAAAkAzAAAAAAAAAAAAGQD#####Af8AAAASAANQMTAAAAAAAAAAAABACAAAAAAAAAUAAAAACwAAACgAAABtAAAABQAAASkAAAAoAAAAbgAAAAUAAAEpAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAAKAAAAIEAAAAFAAABKQAAAAgA#####wAAAP8BEgAEUCcxMAAAAAAAAAAAAEAIAAAAAAAACQAAAAEqAAABKwAAAAoA#####wAAAP8AEAAAAQEBAAAAKAAAASwAAAABAP####8AAmsyAAE0AAAAAkAQAAAAAAAAAAAAGgD#####AAAAKAAAAAQDAAAAAj#wAAAAAAAAAAAABQAAAS4AAAAIAP####8AAAD#ABAAAAAAAAAAAAAAAEAIAAAAAAAACQAAAAEsAAABLwAAABYA#####wEAAP8AEgABRQAAAAAAAAAAAEAIAAAAAAAABQABP+MmybJsmyQAAAEtAAAAHgD#####AP8AAAAAATEAAAAEAAAAAAMAAAAABQAAAS4AAAACP#AAAAAAAAAAAAExAAAAAgAAATEAAAExAAAACgD#####AAAA#wAQAAABAQEAAAAoAAABMAAAACf##########w==";
    this.liste_questions = [];
    this.liste_corrections = []; // Liste de questions corrigées
    let antecedents = [0, 0, 0],
      images = [0, 0, 0],
      k = [1, 1, 1],
      k1,
      k2,
      xO = 4,
      yO = 4,
      xu,
      yu,
      point_reseau; // k : rapports d'homothéties, (xO,yO) point de rencontre des droites et centre, les composantes du vecteur de translation : (xu,yu)
    let bis1 = 0,
      bis2 = 0,
      xx = 0,
      yy = 0,
      AfficheO = 1,
      AfficheN = 0,
      AfficheM = 0;
    let n = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1];
    let texte = ``,
      texte_corr = ``;
    let point = [[]];
    let transformation = parseInt(this.sup) - 1;
    let liste_type_de_questions = [
      [1, 2, 3, 4],
      [1, 2, 3, 4, 7],
      [1, 2, 3, 4, 7, 8],
      [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
    ];
    let choix_transformation = combinaison_listes(
      liste_type_de_questions[transformation],
      3
    );
    xu = randint(-3, 3);
    if (xu == 0) yu = randint(-3, 3, [0]);
    // pas de vecteur nul de translation.
    else yu = randint(-3, 3);
    for (let j = 0; j < 3; j++) {
      if (choix_transformation[j] == 10) {
        k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
        k2 = k[j];
      } else if (choix_transformation[j] == 9) {
        k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
        k1 = k[j];
      }
      antecedents[j] = randint(0, 99);
      point[j] = image_point_par_transformation(
        choix_transformation[j],
        [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
        [xO, yO],
        [xu, yu],
        k[j]
      );
      images[j] = point[j][0] + point[j][1] * 10;
      // Limitation des points invariants
      if (choix_transformation[j] == 1 && images[j] % 11 == 0) point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
      if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
        point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
      if (choix_transformation[j] == 4 && images[j] % 10 == 4) point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
      if (
        (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
        antecedents[j] == 44
      )
        point[j][0] = -1; // point O impossible pour rotation
      if (choix_transformation[j] == 10 && antecedents[j] == 44)
        point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2
      // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
      if (
        point[j][0] - Math.floor(point[j][0]) == 0 &&
        point[j][1] - Math.floor(point[j][1]) == 0
      )
        point_reseau = true;
      else point_reseau = false;
      // On vérifie que l'image est bien un point du réseau sinon, on change.
      while (
        point[j][0] < 0 ||
        point[j][0] > 9 ||
        point[j][1] < 0 ||
        point[j][1] > 9 ||
        point_reseau == false
      ) {
        if (choix_transformation[j] == 10) {
          k[j] = choice([2, 4]) * randint(-1, 1, [0]); // rapport d'homothétie < 1 ( 0.5 ou 0.25 )
          k2 = k[j];
        } else if (choix_transformation[j] == 9) {
          k[j] = choice([1, 2, 3]) * randint(-1, 1, [0]); // rapport d'homothétie >=1 (1,2 ou 3)
          k1 = k[j];
        }
        antecedents[j] = randint(0, 99);
        point[j] = image_point_par_transformation(
          choix_transformation[j],
          [antecedents[j] % 10, Math.floor(antecedents[j] / 10)],
          [xO, yO],
          [xu, yu],
          k[j]
        );
        images[j] = point[j][0] + point[j][1] * 10;
        // Limitation des points invariants
        if (choix_transformation[j] == 1 && images[j] % 11 == 0)
          point[j][0] = -1; // Point impossible sur (d1) pour sa symétrie
        if (choix_transformation[j] == 3 && Math.floor(images[j] / 10 == 4))
          point[j][0] = -1; // Point impossible sur (d3) pour sa symétrie
        if (choix_transformation[j] == 4 && images[j] % 10 == 4)
          point[j][0] = -1; // Point impossible sur  (d4) pour sa symétrie
        if (
          (choix_transformation[j] == 5 || choix_transformation[j] == 5) &&
          antecedents[j] == 44
        )
          point[j][0] = -1; // point O impossible pour rotation
        if (choix_transformation[j] == 10 && antecedents[j] == 44)
          point[j][0] = -1; // point O impossible par homothétie de rapport 1/k2

        // pour éviter les points en dehors des clous dans homothétie de rapport 1/k2
        if (
          point[j][0] - Math.floor(point[j][0]) == 0 &&
          point[j][1] - Math.floor(point[j][1]) == 0
        )
          point_reseau = true;
        else point_reseau = false;
      }
    }
    // n[i] est un tableau contenant -1 pour la transformation d'indice i si elle n'est pas utilisée, et contenant le numéro du point concerné si la transformation i est utilisée pour ce point.
    // Je l'utilise pour faire apparaître la correction liée au point et à la transformation.
    for (let j = 0; j < 3; j++) {
      n[choix_transformation[j] - 1] = antecedents[j];
    }
    for (let i = 0; i < 3; i++) {
      switch (choix_transformation[i]) {
        case 1:
          bis1 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_1)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_1)$ est le point ${images[i]}.<br>`;
          break;

        case 2:
          bis2 = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_2)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_2)$ est le point ${images[i]}.<br>`;
          break;

        case 3:
          xx = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_3)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_3)$ est le point ${images[i]}.<br>`;
          break;

        case 4:
          yy = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro du symétrique du point ${antecedents[i]} par rapport à la droite $(d_4)$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` Le symétrique du point ${antecedents[i]} par rapport à $(d_4)$ est le point ${images[i]}.<br>`;
          break;

        case 5:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 6:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de  l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 90° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 7:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la symétrie de centre O.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la symétrie de centre O est le point ${images[i]}.<br>`;
          break;

        case 11:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 12:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 60° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 13:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens anti-horaire est le point ${images[i]}.<br>`;
          break;

        case 14:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la rotation de centre O et d'angle 120° dans le sens horaire est le point ${images[i]}.<br>`;
          break;

        case 8:
          AfficheN = 1;
          AfficheM = 1;
          // AfficheOO=1
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par la translation qui transforme M en N.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par la translation qui transforme M en N est le point ${images[i]}.<br>`;
          break;

        case 9:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1}.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${antecedents[i]} par l'homothétie de centre O et de rapport ${k1} est le point ${images[i]}.<br>`;
          break;

        case 10:
          AfficheO = 1;
          texte +=
            num_alpha(i) +
            ` Donner le numéro de l'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$.<br>`;
          texte_corr +=
            num_alpha(i) +
            ` L'image du point ${
              antecedents[i]
            } par l'homothétie de centre O et de rapport $${tex_fraction_reduite(
              1,
              k2
            )}$ est le point ${images[i]}.<br>`;
          break;
      }
    }
    if (sortie_html) {
      /*
			booléens permettant l'affichage des éléments si =1 et le masquage si =0
			bis1 affiche la droite de coefficient directeur 1 passant par O'
			bis2 affiche la droite de coefficient directeur -1 passant par O'
			xx' affiche la droite horizontale passant par O'
			yy' affiche la droite verticale passant par O'
			AfficheO' affiche O' comme son nom l'indique.
			AfficheN, AffichM pour afficher les points M et N définissant la translation.
			
			*/
      this.MG32code_pour_modifier_la_figure = `
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t0", "${choix_transformation[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t1", "${choix_transformation[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "t2", "${choix_transformation[2]}");						
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svg${numero_de_l_exercice}", "AfficheN", "${AfficheN}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k", "${k1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "k2", "${k2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n1", "${n[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n2", "${n[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n3", "${n[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n4", "${n[3]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n5", "${n[4]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n6", "${n[5]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n7", "${n[6]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n8", "${n[7]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n9", "${n[8]}");	
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "n10", "${n[9]}");									
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num0", "${antecedents[0]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num1", "${antecedents[1]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "num2", "${antecedents[2]}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yO", "${yO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xO", "${xO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yN", "${yu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xN", "${xu}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "yy\'", "${yy}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "xx\'", "${xx}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis1", "${bis1}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "bis2", "${bis2}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheO", "${AfficheO}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheM", "${AfficheM}");
			mtg32App.giveFormula2("MG32svgcorr${numero_de_l_exercice}", "AfficheN", "${AfficheN}");	

			
			
			mtg32App.calculate("MG32svg${numero_de_l_exercice}");
			mtg32App.display("MG32svg${numero_de_l_exercice}");
			mtg32App.calculate("MG32svgcorr${numero_de_l_exercice}");
			mtg32App.display("MG32svgcorr${numero_de_l_exercice}");
			`;
      this.liste_questions.push(texte);
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    } else {
      texte = ``;
      texte_corr = ``;
      this.liste_questions.push(texte); // on envoie la question
      this.liste_corrections.push(texte_corr);
      liste_de_question_to_contenu_sans_numero(this);
    }
  };
  // this.besoin_formulaire_numerique = ['Transformations',5, '1 : Symétries axiales\n 2 : Symétries centrales\n 3 : Rotations\n 4 : Translations\n 5 : Homothéties\n'];
}

// Exercices paramétrés pour correspondre au référentiel
// Référence 5P10
//function Proportionnalite_pas_proportionnalite_5e(){
//  Proportionnalite_pas_proportionnalite.call(this)
  // Pas de paramètres Sup
//}

// Référence 6C23
function Exercice_additionner_des_fractions_6e() {
  Exercice_additionner_des_fractions_5e.call(this);
  this.level=6
  this.titre= "Additionner des fractions de même dénominateur"
}
/**
 * @Auteur Jean-Claude Lhote
 * vocabulaire arête, face, perpendicularité dans l'espace, parallélisme dans l'espace
 * référence : 6G43
 */
function Utiliser_vocabulaire_pave() {
  Solide_6e.call(this);
  this.titre = "Utiliser le vocabulaire associé au pavé droit"
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G11
 */
function Tracer_des_perpendiculaires() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires";
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12
 */
function Tracer_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des parallèles";
  this.sup = 2;
  this.besoin_formulaire_numerique = false;
}
/**
 * @Auteur Jean-Claude Lhote
 * référence 6G12-1
 */
function Tracer_des_perpendiculaires_et_des_paralleles() {
  Parallele_et_Perpendiculaires.call(this);
  this.titre = "Tracer des perpendiculaires et des parallèles";
  this.sup = 3;
  this.besoin_formulaire_numerique = false;
}
/**
 * Exercice en html seulement. Symétrie centrale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 5G12
 */
function Pavages_et_demi_tour() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie centrale dans un pavage";
  this.sup = 2;
}
/**
 * Exercice en html seulement. Symétrie axiale dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 6G25-2
 */
function Pavages_et_symetries() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une symétrie axiale dans un pavage carré";
  this.sup = 1;
}
/**
 * Exercice en html seulement. Translations dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 4G11
 */
function Pavages_et_translation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une translation dans un pavage";
  this.sup = 3;
}
/**
 * Exercice en html seulement. Rotationss dans un pavage.
 * @Auteur Jean-Claude Lhote
 * référence 3G12
 */
function Pavages_et_rotation() {
  Pavages_et_transformations.call(this);
  this.titre =
    "Trouver l'image d'une figure par une rotation de 90 degrés dans un pavage";
  this.sup = 4;
}

/**
 * Lire les coordonnées d'un point du quart de plan positif avec une précision allant de l'unité à 0,25.
 * @Auteur Jean-Claude Lhote
 * référence 6N33
 */
function Reperage_point_du_quart_de_plan() {
  Reperage_point_du_plan.call(this);
  this.titre = "Déterminer les coordonnées (positives) d'un point";
  this.quart_de_plan = true;
}
// 3F21
function Lecture_expression_fonctions_lineaires() {
  Lecture_expression_fonctions_affines.call(this);
  this.titre = "Déterminer une fonction linéaire";
  this.lineaire = true;
}
// 3L14-1
function Resoudre_une_equation_produit_nul_niv2() {
  Resoudre_une_equation_produit_nul.call(this);
  this.titre = "Résoudre une équation produit nul (niveau 2)";
  this.sup = 2;
}
// Référence 6C21

function Divisions_euclidiennes_niv2() {
  Divisions_euclidiennes.call(this);
  this.sup = 2;
  this.titre = "Divisions euclidiennes - Niveau 2";
}
//4G40
function Exercice_Trigo_longueurs_4e() {
  Exercice_Trigo_longueurs.call(this);
  this.sup = 1;
  this.besoin_formulaire_numerique = false;
  this.titre =
    "Utiliser le cosinus pour calculer une longueur dans un triangle rectangle";
}
// 4G41
function Exercice_Trigo_angles_4e() {
  this.sup = 1;
  this.quatrieme = true;
  this.titre =
    "Utiliser le cosinus pour calculer la mesure d'un angle dans un triangle rectangle";
  Exercice_Trigo_angles.call(this);
}
// référence 6G24
function Transformations_6e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}

// 5G10
function Symetrie_axiale_5e() {
  Transformations.call(this);
  this.sup = 1;
  this.titre = `Trouver l'image d'un point par une symétrie axiale`;
  this.pas_de_version_LaTeX = true;
}
// 5G11
function Transformations_5e() {
  Transformations.call(this);
  this.sup = 2;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale`;
  this.pas_de_version_LaTeX = true;
}
// 4G40
function Transformations_4e() {
  Transformations.call(this);
  this.sup = 3;
  this.titre = `Trouver l'image d'un point par une symétrie axiale ou centrale ou par une translation`;
  this.pas_de_version_LaTeX = true;
}
// 3G10-2
function Transformations_3e() {
  Transformations.call(this);
  this.sup = 4;
  this.titre = `Trouver l'image d'un point par une transformation choisie aléatoirement`;
  this.pas_de_version_LaTeX = true;
}
// Référence 6M30
function Calcul_de_volumes_6e() {
  this.sup = 1;
  this.classe = 6;
  Calcul_de_volumes.call(this);
}

// 5M20
function Calcul_de_volumes_5e() {
  this.sup = 1;
  this.classe = 5;
  Calcul_de_volumes.call(this);
}
// 4G53
function Calcul_de_volumes_4e() {
  this.sup = 1;
  this.classe = 4;
  Calcul_de_volumes.call(this);
}
// 3G43
function Calcul_de_volumes_3e() {
  this.sup = 1;
  this.classe = 3;
  Calcul_de_volumes.call(this);
}


function Exercice_6N13() {
  this.sup = 1;
  this.titre = "Utiliser les préfixes multiplicateurs (déca à kilo)";
  Exercice_conversions.call(this);
}
// 6N24
function Exercice_6N24() {
  Exercice_conversions.call(this);
  this.sup = 3;
  this.titre =
    "Utiliser les préfixes multiplicateurs et diviseurs (milli à kilo)";
  this.correction_avec_des_fractions = true;
  this.spacing_corr = 2;
}
// Référence 6M12
function Reglages_6M12() {
  Exercice_conversions_de_longueurs.call(this);
  this.sup = 3;
  this.nb_questions = 8;
}

function Reglages_6M23() {
  Exercice_conversions_aires.call(this);
  this.sup = 3;
  this.nb_cols_corr = 1;
}
// Référence 6M10
function Reglages_6M10() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 1;
}
// Référence 6M22
function Reglages_6M22() {
  Exercice_perimetres_et_aires.call(this);
  this.sup = 2;
  this.titre = "Périmètres et aires de disques (à partir d'un texte).";
}

function Reglages_6N34() {
  Exercice_conversions.call(this);
  this.sup = 5;
  this.titre = "Conversions avec tous les préfixes de milli à tera.";
}

// 4G30
function Thales_4eme() {
  //Dans cette version, pas de configuration papillon reservée aux 3èmes.
  Exercice_Thales.call(this);
  this.quatrieme = true;
  sortie_html? this.spacing = 1.5 : this.spacing = 1; 
}
// 4G31
function Reciproque_Thales_4eme() {
  Reciproque_Thales.call(this);
  this.quatrieme = true;
}

/**
 * Vocabulaire des triangles
 * 6G20-2 ; 5G20-1
 * @author Sébastien Lozano
 */

function Vocabulaire_des_triangles() {
  "use strict";
  Exercice.call(this); // Héritage de la classe Exercice()
  this.consigne = "Donner la nature des triangles en justifiant.";
  this.sup = 1;
  this.titre = "Vocabulaire des triangles";
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.nb_questions_modifiable = false;

  this.liste_packages = `bclogo`;

  let type_de_questions_disponibles;

  this.nouvelle_version = function (numero_de_l_exercice) {
    if (this.classe == 6) {
      if (this.sup == 1) {
        this.nb_questions = 4;
      } else {
        //this.nb_questions = 9;
        this.nb_questions = 5;
      }
    } else if (this.classe == 5) {
      //this.nb_questions = 11;
      this.nb_questions = 5;
    }

    let texte_intro = ``;
    if (sortie_html) {
      if (this.classe == 6) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés de même longueur.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      } else if (this.classe == 5) {
        texte_intro += `- Un <b>triangle quelconque</b> est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle isocèle</b> est un triangle qui a deux côtés ou deux angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle équilatéral</b> est un triangle qui a trois côtés ou trois angles de même mesure.`;
        texte_intro += `<br>`;
        texte_intro += `- Un <b>triangle rectangle</b> est un triangle qui a un angle droit.`;
      }
      // this.introduction = lampe_message({
      // 	titre : `Quelques définitions`,
      // 	texte : texte_intro,
      // 	couleur : `nombres`
      // });

      this.bouton_aide = modal_texte_long(
        numero_de_l_exercice,
        //`<i class="lightbulb outline icon"></i> Quelques définitions`,
        `<i class="info circle icon"></i> Quelques définitions`,
        texte_intro,
        "Aide",
        "info circle"
      );
    } else {
      if (this.classe == 6) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés de même longueur.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés de même longueur.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      } else if (this.classe == 5) {
        texte_intro = tex_enumerate_sans_numero(
          [
            `- Un \\textbf{triangle quelconque} est un triangle qui ne présente aucune relation particulière entre ses angles ou ses côtés.`,
            `- Un \\textbf{triangle isocèle} est un triangle qui a deux côtés ou deux angles de même mesure.`,
            `- Un \\textbf{triangle équilatéral} est un triangle qui a trois côtés ou trois angles de même mesure.`,
            `- Un \\textbf{triangle rectangle} est un triangle qui a un angle droit.`,
          ],
          1
        );
      }

      this.introduction = lampe_message({
        titre: `Quelques définitions`,
        texte: texte_intro,
        couleur: `nombres`,
      });
    }

    if (this.classe == 6) {
      if (this.sup == 1) {
        type_de_questions_disponibles = [1, 3, 5, 7]; //6e facile isocèle, équilatéral et rectangle.
      } else if (this.sup == 2) {
        //type_de_questions_disponibles = [1,3,4,5,6,7,8,9]; //6e tout sauf par les angles
        type_de_questions_disponibles = [1, 4, 6, 8, 9]; //6e les autres cas sauf par les angles
      }
    } else if (this.classe == 5) {
      // type_de_questions_disponibles = [1,2,3,4,5,6,7,8,9,10,11]; // 5e : on ajoute la caractéisation par les angles
      type_de_questions_disponibles = [
        choice([1, 2]),
        choice([3, 4, 10]),
        choice([5, 6, 11]),
        7,
        choice([8, 9]),
      ]; // 5e : tout sauf les basiques de 6e, on ajoute la caractéisation par les angles
    }
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    ); // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
    //let liste_type_de_questions = type_de_questions_disponibles // Tous les types de questions sont posées --> à remettre comme ci dessus

    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, l1, l2, l3, a1, a2, a3, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      // on fixe longueur min et max en cm
      let l_min = 2;
      let l_max = 20;
      // on fixe angle min et max en degré
      let a_min = 30;
      let a_max = 100;

      // on crée les triangles
      let triangle_quelconque = new Triangles();
      let triangle_isocele = new Triangles();
      let triangle_equilateral = new Triangles();
      let triangle_rectangle = new Triangles();
      let triangle_isocele_rectangle = new Triangles();

      switch (liste_type_de_questions[i]) {
        case 1: // triangle quelconque par les longueurs sans conversion
          while (!triangle_quelconque.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            l3 = randint(l_min, l_max, [l1, l2]);
            triangle_quelconque.l1 = l1;
            triangle_quelconque.l2 = l2;
            triangle_quelconque.l3 = l3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getLongueurs()[0]
          } $= ${triangle_quelconque.l1}$ cm ; `;
          texte += `${triangle_quelconque.getLongueurs()[1]} $= ${
            triangle_quelconque.l2
          }$ cm et ${triangle_quelconque.getLongueurs()[2]} $= ${
            triangle_quelconque.l3
          }$ cm.`;
          texte_corr = `Les 3 côtés du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;
        case 2: // triangle quelconque par les angles
          while (!triangle_quelconque.isTrueTriangleAngles()) {
            a1 = randint(a_min, a_max);
            a2 = randint(a_min, a_max, a1);
            a3 = randint(a_min, a_max, [a1, a2]);
            triangle_quelconque.a1 = a1;
            triangle_quelconque.a2 = a2;
            triangle_quelconque.a3 = a3;
          }

          texte = `${triangle_quelconque.getNom()} est un triangle tel que ${
            triangle_quelconque.getAngles()[0]
          } $= ${triangle_quelconque.a1}\\degree$ ; `;
          texte += ` ${triangle_quelconque.getAngles()[1]} $= ${
            triangle_quelconque.a2
          }\\degree$ et  ${triangle_quelconque.getAngles()[2]} $= ${
            triangle_quelconque.a3
          }\\degree$ .`;
          texte_corr = `Les 3 angles du triangle ${triangle_quelconque.getNom()} sont différents donc ${triangle_quelconque.getNom()} est un triangle quelconque.`;
          break;

        case 3: // triangle isocèle sans conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1}$ cm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `Les longueurs des côtés ${
            triangle_isocele.getCotes()[0]
          } et ${
            triangle_isocele.getCotes()[1]
          } du triangle ${triangle_isocele.getNom()} valent toutes les deux $${
            triangle_isocele.l1
          }$ cm donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 4: // triangle isocèle avec conversion
          while (!triangle_isocele.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            l2 = randint(l_min, l_max, l1);
            triangle_isocele.l1 = l1;
            triangle_isocele.l2 = l1;
            triangle_isocele.l3 = l2;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getLongueurs()[0]
          } $= ${triangle_isocele.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele.getLongueurs()[1]} $= ${
            triangle_isocele.l2
          }$ cm et ${triangle_isocele.getLongueurs()[2]} $= ${
            triangle_isocele.l3
          }$ cm.`;
          texte_corr = `${triangle_isocele.getLongueurs()[0]} $= ${
            triangle_isocele.l1 * 10
          }$ mm $= ${triangle_isocele.l1}$ cm = ${
            triangle_isocele.getLongueurs()[1]
          }, ${triangle_isocele.getNom()} a donc deux côtés égaux, c'est un triangle isocèle en ${
            triangle_isocele.getSommets()[1]
          }.`;
          break;
        case 5: // triangle équilatéral sans conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2
          }$ cm et ${triangle_equilateral.getLongueurs()[2]} $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr = `Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 6: // triangle équilatéral avec conversion
          while (!triangle_equilateral.isTrueTriangleLongueurs()) {
            l1 = randint(l_min, l_max);
            triangle_equilateral.l1 = l1;
            triangle_equilateral.l2 = l1;
            triangle_equilateral.l3 = l1;
          }
          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getLongueurs()[0]
          } $= ${triangle_equilateral.l1}$ cm ; `;
          texte += `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm et ${triangle_equilateral.getLongueurs()[2]} $= ${tex_nombre(
            triangle_equilateral.l3 / 10
          )}$ dm.`;
          texte_corr = `${triangle_equilateral.getLongueurs()[1]} $= ${
            triangle_equilateral.l2 * 10
          }$ mm $= ${triangle_equilateral.l2}$ cm.`;
          texte_corr += `<br> ${
            triangle_equilateral.getLongueurs()[2]
          } $= ${tex_nombre(triangle_equilateral.l3 / 10)}$ dm $= ${
            triangle_equilateral.l3
          }$ cm.`;
          texte_corr += `<br> ${triangle_equilateral.getLongueurs()[0]} $= ${
            triangle_equilateral.l1
          }$ cm.`;
          texte_corr += `<br> Les longeurs des trois côtés du triangle ${triangle_equilateral.getNom()} sont égales donc c'est un triangle équilatéral.`;
          break;
        case 7: // triangle rectangle pas de conversion necessaire
          triangle_rectangle.l1 = randint(l_min, l_max);
          triangle_rectangle.l2 = randint(l_min, l_max, l1);
          triangle_rectangle.a1 = 90;

          texte = `${triangle_rectangle.getNom()} est un triangle tel que ${
            triangle_rectangle.getLongueurs()[0]
          } $= ${triangle_rectangle.l1}$ cm ; `;
          texte += `${triangle_rectangle.getLongueurs()[1]} $= ${
            triangle_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += ` qui a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_rectangle.getNom()} a un angle droit en ${
              triangle_rectangle.getSommets()[1]
            } donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_rectangle.getAngles()[0]} $= ${
              triangle_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_rectangle.getAngles()[0]
            } du triangle ${triangle_rectangle.getNom()} est un angle droit donc ${triangle_rectangle.getNom()} est rectangle en ${
              triangle_rectangle.getSommets()[1]
            }.`;
          }

          break;
        case 8: // triangle isocèle rectangle sans conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          }$= ${triangle_isocele_rectangle.l1}$ cm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm `;
          texte += `et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $=$ ${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
              triangle_isocele_rectangle.l1
            }$ cm donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 9: // triangle isocèle rectangle avec conversion
          triangle_isocele_rectangle.l1 = randint(l_min, l_max);
          triangle_isocele_rectangle.l2 = triangle_isocele_rectangle.l1;
          triangle_isocele_rectangle.a1 = 90;

          texte = `${triangle_isocele_rectangle.getNom()} est un triangle tel que ${
            triangle_isocele_rectangle.getLongueurs()[0]
          } $= ${triangle_isocele_rectangle.l1 * 10}$ mm ; `;
          texte += `${triangle_isocele_rectangle.getLongueurs()[1]} $= ${
            triangle_isocele_rectangle.l2
          }$ cm`;
          texte += ` et `;
          if (this.classe == 6) {
            texte += `qui a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr = `Le triangle ${triangle_isocele_rectangle.getNom()} a un angle droit en ${
              triangle_isocele_rectangle.getSommets()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          } else {
            texte += `${triangle_isocele_rectangle.getAngles()[0]} $= ${
              triangle_isocele_rectangle.a1
            }\\degree$.`;
            texte_corr = `L'angle ${
              triangle_isocele_rectangle.getAngles()[0]
            } du triangle ${triangle_isocele_rectangle.getNom()} est un angle droit donc ${triangle_isocele_rectangle.getNom()} est rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> ${
              triangle_isocele_rectangle.getLongueurs()[0]
            } $= ${triangle_isocele_rectangle.l1 * 10}$ mm $= ${
              triangle_isocele_rectangle.l1
            }$ cm =${
              triangle_isocele_rectangle.getLongueurs()[1]
            } donc ${triangle_isocele_rectangle.getNom()} est isocèle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
            texte_corr += `<br> Le triangle ${triangle_isocele_rectangle.getNom()} est donc isocèle et rectangle en ${
              triangle_isocele_rectangle.getSommets()[1]
            }.`;
          }
          break;
        case 10: // triangle isocèle par les angles
          a3 = -1;
          while (a3 < 0) {
            triangle_isocele.a1 = randint(a_min, a_max);
            triangle_isocele.a2 = triangle_isocele.a1;
            a3 = 180 - 2 * triangle_isocele.a1;
            triangle_isocele.a3 = a3;
          }
          texte = `${triangle_isocele.getNom()} est un triangle tel que ${
            triangle_isocele.getAngles()[0]
          } $= ${triangle_isocele.a1}\\degree$ ; `;
          texte += ` ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a2
          }\\degree$ et  ${triangle_isocele.getAngles()[2]} $= ${
            triangle_isocele.a3
          }\\degree$ .`;
          texte_corr = `Le triangle ${triangle_isocele.getNom()} a deux angles égaux, ${
            triangle_isocele.getAngles()[0]
          } = ${triangle_isocele.getAngles()[1]} $= ${
            triangle_isocele.a1
          }\\degree$ donc ${triangle_isocele.getNom()} est un triangle isocèle en ${
            triangle_isocele.getSommets()[0]
          }.`;
          break;
        case 11: // triangle équilatéral par les angles
          triangle_equilateral.a1 = 60;
          triangle_equilateral.a2 = 60;
          triangle_equilateral.a3 = 60;

          texte = `${triangle_equilateral.getNom()} est un triangle tel que ${
            triangle_equilateral.getAngles()[0]
          } $= ${triangle_equilateral.a1}\\degree$ ; `;
          texte += ` ${triangle_equilateral.getAngles()[1]} $= ${
            triangle_equilateral.a2
          }\\degree$ et  ${triangle_equilateral.getAngles()[2]} $= ${
            triangle_equilateral.a3
          }\\degree$.`;
          texte_corr = `Le triangle ${triangle_equilateral.getNom()} a trois angles égaux, ${
            triangle_equilateral.getAngles()[0]
          } = ${triangle_equilateral.getAngles()[1]} = ${
            triangle_equilateral.getAngles()[2]
          } $= ${
            triangle_equilateral.a1
          }\\degree$ donc ${triangle_equilateral.getNom()} est un triangle équilateral.`;
          break;
      }
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };

  if (this.classe == 6) {
    this.besoin_formulaire_numerique = [
      "Niveau de difficulté",
      2,
      "1 : sans conversions de longueurs\n2 : avec conversions de longueurs",
    ];
  }
}

/**
 * @Auteur Jean-Claude Lhote
 * Placer les sommets et les égalités de longueur...
 * Référence 6G20
 */
function Nommer_et_coder_des_polygones() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Nommer et coder des polygones";
  this.consigne =
    "Nommer les figures en fonction de l'énoncé puis ajouter le codage.";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.4
      }

    let params 
    
    let liste = combinaison_listes([1, 2, 3, 4, 5, 6, 7, 8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let pol, polcode, polsom, polnom
      function choisir_polygone(n) { // n compris entre 1 et 8 (1 à 4 pour un triangle, 5 à 8 pour une quadrilatère)
        let A, B, C, D
        let nom = creerNomDePolygone(4, "PQ"), pnom, q, p, pcode, enonce
        switch (n) {
          case 1: // triangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, randint(25, 80), nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est isocèle en $${nom[0]}$.<br>`
            break
          case 2: // triangle équilatéral
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 60, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C, B, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est équilatéral.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 3: // triangle rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = similitude(B, A, 90, randint(30, 100) / 100, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = codageAngleDroit(B, A, C)
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle en $${nom[0]}$.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 4: // triangle rectangle isocèle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(0, 10) / 10, nom[1])
            C = rotation(B, A, 90, nom[2])
            q = polygone(A, B, C)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2])
            pcode = [codeSegments('||', 'blue', A, B, A, C), codageAngleDroit(B, A, C),codeAngle(B,C,A,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(C,B,A,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le triangle $${nom[0] + nom[1] + nom[2]}$ est rectangle et isocèle en $${nom[0]}$.`
            break
          //on choisit un quadrilatère 
          case 5: // carré
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            q = carre(A, B)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, B, C, C, D, D, A), codageAngleDroit(B, A, D), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un carré.<br>$\\phantom{et sa longueur est AB}$`
            break
          case 6: // rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = similitude(A, B, -90, randint(30, 80) / 100, nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('||', 'blue', A, B, C, D), codeSegments('|', 'red', C, B, A, D), codageAngleDroit(B, A, C), codageAngleDroit(A, B, C), codageAngleDroit(B, C, D), codageAngleDroit(A, D, C)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un rectangle et $${nom[0] + nom[1]}$ est sa longueur.`
            break
          case 7: // losange
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            C = rotation(A, B, randint(100, 150), nom[2])
            D = translation(C, vecteur(B, A), nom[3])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codeSegments('O', 'blue', A, B, B, C, C, D, D, A),codeAngle(C,D,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(C,B,A,0.8,'||','red',2,0.8,'red',0.2),codeAngle(B,C,D,0.8,'|','blue',2,0.8,'blue',0.2),codeAngle(D,A,B,0.8,'|','blue',2,0.8,'blue',0.2)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un losange et [$${nom[0] + nom[2]}$] est sa plus grande diagonale.`
            break
          case 8: // trapèze rectangle
            A = point(3, randint(0, 20) / 10, nom[0])
            B = point(randint(7, 8), randint(10, 30) / 10, nom[1])
            D = similitude(B, A, 90, randint(30, 80) / 100, nom[3])
            C = translation(D, homothetie(vecteur(A, B), A, randint(30, 80) / 100), nom[2])
            q = polygone(A, B, C, D)
            p = rotation(q, barycentre(q), randint(0, 360))
            A = p.listePoints[0]
            B = p.listePoints[1]
            C = p.listePoints[2]
            D = p.listePoints[3]
            pnom = nommePolygone(p, nom[0] + nom[1] + nom[2] + nom[3])
            pcode = [codageAngleDroit(B, A, D), codageAngleDroit(C, D, A)]
            enonce = `le quadrilatère $${nom[0] + nom[1] + nom[2] + nom[3]}$ est un trapèze rectangle de grande base $${nom[0] + nom[1]}$ de hauteur $${nom[0] + nom[3]}$.`
            break
        }
        return [p, nom, pcode, pnom, enonce]
      }
      [pol, polnom, polcode, polsom, texte] = choisir_polygone(liste[i]);
      if (pol.listePoints.length==4){
      Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)-1)
      Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)-1)
      Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x,pol.listePoints[3].x)+1)
      Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y,pol.listePoints[3].y)+1)
      }
      else{
        Xmin=Math.floor(Math.min(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)-1)
        Ymin=Math.floor(Math.min(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)-1)
        Xmax=Math.ceil(Math.max(pol.listePoints[0].x,pol.listePoints[1].x,pol.listePoints[2].x)+1)
        Ymax=Math.ceil(Math.max(pol.listePoints[0].y,pol.listePoints[1].y,pol.listePoints[2].y)+1)
   
      }
      params = {
        xmin: Xmin,
        ymin: Ymin,
        xmax: Xmax,
        ymax: Ymax,
        pixelsParCm: ppc,
        scale: sc,
      }
      if (this.sup < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
    else g = ''
    if (this.sup == 2) {
      k = 0.8;
      carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
    } else {
      k = 0.5;
      carreaux = "";
    }

      pol.epaisseur=2
      texte += `<br>` + mathalea2d(params, pol, polnom,g,carreaux)
      texte_corr = mathalea2d(params, pol, polnom, polcode, polsom,g,carreaux)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
    pixelsParCm=20
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Représenter une somme de fracions de même dénominateur sur un segment gradué de façon adaptée.
 * @Auteur Jean-Claude Lhote
 * 6N14-2
 */
function Ajouter_des_fractions_d_unite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "mettre bout à bout des segments";
  this.consigne = "";
  this.nb_questions = 4;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.sup = 3;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc, g, k, carreaux,objets
    ppc=20
      if (sortie_html) {
        sc=0.5
      } else {
        sc=0.3
      }

    let params,den,num=[0,0,0,0],f=[]
    
    let liste = combinaison_listes([5,6,7,8], this.nb_questions);

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;) {
      objets=[]
      den=liste[i]
      num[0]=randint(1,den-1)
      num[1]=randint(1,den-1,num[0])
      num[2]=randint(1,den-1,num[1])
      num[3]=randint(1,den-1,[num[2],num[0]])
      for (let j=0;j<4;j++)
        f[j]=fraction(num[j],den)

           
      texte=`On place bout à bout 4 segments de longueurs respectives$ ${f[0].texFraction()}$, $${f[1].texFraction()}$, $${f[2].texFraction()}$ et $${f[3].texFraction()}$.<br>`
      texte+=`Quelle est la longueur du segment obtenu ?`
      texte_corr =`Voici sur ces dessins, coloriés en rouge, les différents segments :<br>`
      for (let j=0;j<4;j++) 
        objets.push(f[j].representation(0,5-j*1.25,5,0,'segment','red',0,1,1))
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 6,
        ymax: 6,
        pixelsParCm: ppc,
        scale: 0.5,
      }
      texte_corr += mathalea2d(params,...objets)
      texte_corr+=`<br>Ce qui donne en les mettant bout à bout :<br>`
      params = {
        xmin: -0.4,
        ymin: -1.5,
        xmax: 20,
        ymax: 1,
        pixelsParCm: ppc,
        scale: sc,
      }
      texte_corr+=mathalea2d(params,fraction(num[0]+num[1]+num[2]+num[3],den).representation(0,0,5,0,'segment','red',0,1,0.6))
      texte_corr+=`<br>La longueur du segment ainsi obtenu est : $${fraction(num[0]+num[1]+num[2]+num[3],den).texFraction()}$`
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10
 */
function Notation_segment_droite_demi_droite() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Notation des droites, segments et demi-droites";
  this.consigne =
    "Compléter les programmes de constructions qui ont permis d'obtenir ces figures.";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 2;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(3, "PQ");
      let A = point(0, 0, p[0], "above left");
      let B = point(1, 1.2, p[1], "above");
      let C = point(2.2, -0.3, p[2], "above right");
      let dAB, dAC, dBC, dABCorr, dACCorr, dBCCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, notation;
        switch (randint(1, 4)) {
          case 1:
            trait = droite(A, B);
            notation = `$(${A.nom}${B.nom})$`;
            break;
          case 2:
            trait = demiDroite(A, B);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 3:
            trait = demiDroite(B, A);
            notation = `$[${A.nom}${B.nom})$`;
            break;
          case 4:
            trait = segment(A, B);
            notation = `$[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, notation];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      [dAC, dACCorr] = creerDroiteDemiSegment(A, C);
      [dBC, dBCCorr] = creerDroiteDemiSegment(B, C);
      let labels = labelPoint(A, B, C);

      texte = `Placer 3 points $${p[0]}$, $${p[1]}$ et $${p[2]}$ non alignés puis tracer... <br><br>`;
      texte += mathalea2d(
        { xmin: -1, ymin: -1, xmax: 3, ymax: 2.5, pixelsParCm: 40, scale: 1 },
        dAB,
        dBC,
        dAC,
        labels
      );
      texte_corr = `...tracer ${dABCorr}, ${dBCCorr}, ${dACCorr}.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Utiliser les notations des segments, droites et demi-droites
 * @Auteur Rémi Angot
 * Référence 6G10-1
 */
function Description_segment_droite_demi_droite() {
  "use strict"
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Description et notation des droites, segments et demi-droites";
  this.consigne =
    "Faire une phrase pour décrire le plus précisemment possible la figure et donner sa notation mathématique";
  this.nb_questions = 3;
  this.nb_cols = 3;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let type_de_questions_disponibles = [1, 4, choice([2, 3])];
    let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      pixelsParCm = 40;
      let p = creerNomDePolygone(2, "P");
      let A = point(0, calcul(randint(0, 20) / 10), p[0]);
      let B = point(4, calcul(randint(0, 20) / 10), p[1]);
      let t1 = tracePointSurDroite(A, B);
      let t2 = tracePointSurDroite(B, A);
      let dAB, dABCorr;
      function creerDroiteDemiSegment(A, B) {
        let trait, correction;
        switch (liste_type_de_questions[i]) {
          case 1:
            trait = droite(A, B);
            correction = `La droite qui passe par les points $${A.nom}$ et $${B.nom}$ notée $(${A.nom}${B.nom})$.`;
            break;
          case 2:
            trait = demiDroite(A, B);
            correction = `La demi-droite d'origine $${A.nom}$ passant par $${B.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 3:
            trait = demiDroite(B, A);
            correction = `La demi-droite d'origine $${B.nom}$ passant par $${A.nom}$ notée $[${A.nom}${B.nom})$.`;
            break;
          case 4:
            trait = segment(A, B);
            correction = `Le segment d'extrémités $${A.nom}$ et $${B.nom}$ noté $[${A.nom}${B.nom}]$`;
            break;
        }
        return [trait, correction];
      }
      [dAB, dABCorr] = creerDroiteDemiSegment(A, B);
      let labels = labelPoint(A, B);
      texte = mathalea2d(
        { xmin: -2, ymin: -1, xmax: 7, ymax: 3, pixelsParCm: 40, scale: 0.6 },
        dAB,
        t1,
        t2,
        labels
      );
      texte_corr = dABCorr;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * Vocabulaire des triangles
 * 6G20-2
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_6e() {
  this.classe = 6;
  Vocabulaire_des_triangles.call(this);
}

/**
 * Vocabulaire des triangles
 * 5G20-1
 * @author Sébastien Lozano
 */
function Vocabulaire_des_triangles_5e() {
  this.classe = 5;
  Vocabulaire_des_triangles.call(this);
}
// Référence 6G21
function Construire_un_triangle_6e() {
  Construire_un_triangle.call(this)
  this.classe=6
}
/**
 * 
 * 
 * Réfrence 6G21 et ... (exercice en 5e ? pas encore fait)
 */
function Construire_un_triangle() {
  "use strict"
  Exercice.call(this)
  this.titre = "Construire un triangle aux instruments";
  this.nb_questions = 2;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []
    this.liste_corrections = []
    let type_de_questions_disponibles,A,B,C,lAB,lBC,lAC,cA,cB,T,dBC,dAB,objets_enonce,objets_correction,params_enonce,params_correction,nom,sommets
    if (this.classe == 6) type_de_questions_disponibles = [1,2]
    else type_de_questions_disponibles = [1, 2, 3, 4, 5, 6]
    let liste_type_de_questions = combinaison_listes(type_de_questions_disponibles, this.nb_questions)
    for (let i = 0, texte, texte_corr, cpt = 0; i < this.nb_questions && cpt < 50;) {
      objets_enonce=[]
      objets_correction=[]
      texte =`Le triangle ci-dessous a été réalisé à main levée.<br>Construire ce triangle avec les instruments de géométrie en respectant les mesures indiquées.<br>`
      texte_corr=`Voici la construction que tu devais réaliser.<br>`
      nom=creerNomDePolygone(3,"PQ")
      sommets=[]
      for(let i=0;i<3;i++) sommets.push(nom[i])
      sommets=shuffle(sommets)
      A=point(0,0,sommets[0])
      switch (liste_type_de_questions[i]) {
        case 1:
          lAC=randint(35,45)
          lBC=calcul(randint(35,45,lAC)/10)
          lAB=calcul(randint(46,60)/10)
          lAC=calcul(lAC/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          cB=cercle(B,lBC)
          C=pointIntersectionCC(cA,cB,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),traceCompas(B,C,30,'gray',1,2),afficheLongueurSegment(B,A),afficheLongueurSegment(C,B),afficheLongueurSegment(A,C))
          texte_corr+=`Pour cette construction, nous avons utilisé le compas et la règle graduée.<br>`
          break;

        case 2:
          lAC=randint(70,80)/10
          lAB=calcul(randint(46,60)/10)
          B=pointAdistance(A,lAB,randint(-45,45),sommets[1])
          cA=cercle(A,lAC)
          dAB=droite(A,B)
          dBC=droiteParPointEtPerpendiculaire(B,dAB)
          C=pointIntersectionLC(dBC,cA,sommets[2],1)
          objets_enonce.push(afficheLongueurSegment(B,A),afficheLongueurSegment(C,A),codageAngleDroit(A,B,C))
          objets_correction.push(traceCompas(A,C,30,'gray',1,2),codageAngleDroit(A,B,C),afficheLongueurSegment(B,A),afficheLongueurSegment(C,A))
          texte_corr+=`Pour cette construction, nous avons utilisé la règle graduée, l'équerre et le compas.<br>`
          break

        case 3:

          break
      }
      T=polygoneAvecNom(A,B,C)
      objets_enonce.push(T[0],T[1])
      objets_correction.push(T[0],T[1])
      params_enonce={xmin : Math.min(A.x-1,B.x-1,C.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1),xmax : Math.max(A.x+1,B.x+1,C.x+1),ymax : Math.max(A.y+1,B.y+1,C.y+1),pixelsParCm : 30, scale : 1,mainlevee : true,amplitude : 1}
      params_correction={xmin : Math.min(A.x-1,B.x-1,C.x-2),ymin : Math.min(A.y-1,B.y-1,C.y-2),xmax : Math.max(A.x+1,B.x+1,C.x+2),ymax : Math.max(A.y+1,B.y+1,C.y+2),pixelsParCm : 30, scale : 1}
      texte+=mathalea2d(params_enonce,objets_enonce)
      texte_corr+=mathalea2d(params_correction,objets_correction)
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

function Test_main_levee() {
  "use strict";
  Exercice.call(this);

  this.titre = "Test de main levée";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = false;
  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions=[]
    this.liste_corrections=[]
    let A=point(5,5)
    let B=point(10,5)
    let D=point(10,10)
//    let a=codeAngle(B,A,D,4)
    let C=cercleCentrePoint(A,B,'green')
    C.epaisseur=2
    C.opacite=0.5
    let E=cercleCentrePoint(B,A,'red')
    E.epaisseur=2
    E.opacite=0.5
    let s=segment(A,B,'red')
    s.epaisseur=5
    s.opacite=0.4
    pixelsParCm=20
    scale=3
    let cote=afficheCoteSegment(s)
    let crochD=crochetD(B)
    let crochG=crochetG(A)

 //   let m=mediatrice(A,B,'d','purple')
    let cons=constructionMediatrice(A,B,true,'orange','//','O','black',2)

    let texte=mathalea2d({xmin:-1,ymin:0,xmax:16,ymax:11,pixelsParCm:20,scale:3,mainlevee:this.sup,amplitude:1},[cote,crochD,crochG,codeAngle(A,B,-90,3,'||','black',2,1,'yellow',0.5),C,s,E,tracePoint(A,B,D)])
    pixelsParCm=20
    let texte_corr=""
    this.liste_questions.push(texte );
    this.liste_corrections.push(texte_corr );
   liste_de_question_to_contenu(this)  
  }

  this.besoin_formulaire_case_a_cocher = ["main levee"];	
}

/**
 * Exercice du test de positionnement 5e
 * Variantes à venir...
 * @Auteur Jean-Claude Lhote
 * Référence 6G10-2
 */
function Utiliser_le_codage_pour_decrire_6e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=6
}
// 5G30
function Utiliser_le_codage_pour_decrire_5e(){
  Utiliser_le_codage_pour_decrire.call(this)
  this.classe=5
}
function Utiliser_le_codage_pour_decrire(){
  "use strict"
  Exercice.call(this);
  this.titre = "Utiliser le codage pour décrire une figure";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
    let type_de_questions_disponibles;
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc,nom,sommets=[],params_enonce,params_correction,objets_enonce,objets_correction
    let A,B,C,D,E,F,s1,s2,s3,s4,s5,s6,s7,s8,medAC,medBC,dBD,dBC,dAC,dAF
    if (this.classe==6) type_de_questions_disponibles=[1,2,3]
    else type_de_questions_disponibles=[1,2,3,4]
    let liste_type_de_questions=combinaison_listes(type_de_questions_disponibles,this.nb_questions)
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce=[]
      objets_correction=[]
      params_enonce={}
      params_correction={}
/*      nom=creerNomDePolygone(6,"PQ")
      for (let i=0;i<6;i++) 
        sommets.push(nom[i])
      sommets=shuffle(sommets)
*/
      sommets.push('A','B','C','D','E','F')
      A=point(0,0,sommets[0],'left')
      switch (liste_type_de_questions[i]){
      case 1 :
      C=pointAdistance(A,randint(5,7),randint(-45,45),sommets[2],'right')
      s2=segment(A,C)
      B=similitude(C,A,-85,randint(5,7)/10,sommets[1],'below')
      s1=segment(A,B)
      E=pointSurSegment(A,hC,longueur(A,C)/2.2,sommets[4],'below')
      medBC=mediatrice(C,B)
      medAC=mediatrice(A,C)
      dBC=droite(C,B)
      dBD=rotation(dBC,B,randint(-40,-20))
      dAC=droite(A,C)
      dAF=rotation(dAC,A,randint(30,40))
      D=pointIntersectionDD(dBD,medBC,sommets[3],'below')
      D.x+=randint(-2,2,0)/5
      F=pointIntersectionDD(dAF,medAC,sommets[5],'above')
      F.x+=randint(-2,2,0)/5
      s5=segment(B,D)
      s6=segment(C,D)
      s3=segment(A,F)
      s7=segment(C,F)
      s8=segment(E,F)
      s4=segment(B,C)
        params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_enonce.push(s1,s2,s4,s8,s7,s3,s6,s5,codageAngleDroit(B,A,C),codeSegments('//','black',A,F,F,C),codeSegments('|||','black',A,E,E,C),codeSegments('O','black',B,D,D,C),labelPoint(A,B,C,D,E,F),codageAngleDroit(A,E,F))
        texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- deux segments de même longueur ;<br>`
        texte+=`- le milieu d'un segment ;<br>`
        texte+=`- un triangle rectangle ;<br>`
        texte+=`- un triangle isocèle ;<br>`
        texte_corr=`- Deux segments de même mesure : [$${sommets[0]+sommets[4]}$] et $[${sommets[4]+sommets[2]}]$ ou $[${sommets[0]+sommets[5]}]$ et $[${sommets[5]+sommets[2]}]$`
        texte_corr+=` ou $[${sommets[1]+sommets[3]}]$ et $[${sommets[3]+sommets[2]}]$.<br>`
        texte_corr+=`- $E$ est le milieu du segment $[${sommets[0]+sommets[2]}]$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[1]+sommets[2]}$ est un triangle rectangle en $${sommets[0]}$, $${sommets[0]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$ et $${sommets[2]+sommets[4]+sommets[5]}$ est un triangle rectangle en $${sommets[4]}$.<br>`
        texte_corr+=`- $${sommets[0]+sommets[5]+sommets[2]}$ est un triangle isocèle en $${sommets[5]}$ et $${sommets[1]+sommets[3]+sommets[2]}$ est un triangle isocèle en $${sommets[3]}$.<br>`
        break
        case 2 : 
        B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
        C=similitude(A,B,randint(85,90),0.95,sommets[2],'below')
        D=similitude(B,A,randint(-93,-87),1,sommets[3],'below')
        F=similitude(B,C,-55,0.8,sommets[5],'right')
        E=similitude(C,D,57,randint(85,115)/100,sommets[4],'right')
        s1=segment(D,E)
        s2=segment(C,E)
        s4=segment(C,F)
        s5=segment(B,F)
        s6=polygone(A,B,C,D)
        params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
        objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s4,s5,s6)
        objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
        objets_correction.push(codeSegments('||','black',D,E,C,E),codeSegments('O','black',A,B,B,C,C,D,D,A),codeSegments('|||','black',F,C,B,F))
        texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un carré et $${sommets[3]+sommets[2]+sommets[4]}$ est un triangle équilatéral ($${sommets[4]}$ est à l'intérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=` $${sommets[1]+sommets[2]+sommets[5]}$ est un triangle isocèle en $${sommets[5]}$ ($${sommets[5]}$ est à l'extérieur du carré $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$).<br>`
        texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
        texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 3:
          B=pointAdistance(A,randint(5,7),randint(-45,45),sommets[1],'above')
          C=similitude(A,B,randint(85,90),0.5,sommets[2],'below')
          D=similitude(B,A,randint(-93,-87),0.53,sommets[3],'below')
          s1=segment(D,B)
          s2=segment(A,C)
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above')
          F=affiniteOrtho(E,droite(B,C),-1.1,sommets[5],'right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(C,F)
          params_correction={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_correction.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_correction.push(codageAngleDroit(D,A,B),codageAngleDroit(A,B,C),codageAngleDroit(B,C,D),codageAngleDroit(C,D,A))
          objets_correction.push(codeSegments('||','black',D,E,E,B,A,E,E,C,F,C,B,F),codeSegments('O','black',A,B,D,C),codeSegments('/','black',A,D,B,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte+=`Représenter cette configuration par un schéma à main levée et ajouter les codages nécéssaires.`
          texte_corr=`Voilà ci-dessous un schéma qui pourrait convenir à la situation.<br>`
        break
        case 4 :
          B=pointAdistance(A,randint(6,7),randint(-30,30),sommets[1],'above right')
          F=similitude(A,B,randint(-70,-50),randint(80,90)/100,sommets[5],'left')
          D=similitude(B,A,angleOriente(A,B,F)+randint (3,5),randint(15,20)/10,sommets[3],'below')
          C=translation2Points(point(B.x+1,B.y+1),A,D,sommets[2],'below right')
          E=pointIntersectionDD(droite(A,C),droite(D,B),sommets[4],'above right')
          s3=polygone(A,B,C,D)
          s4=segment(B,F)
          s5=segment(A,F)
          s1=segment(B,D)
          s2=segment(A,C)
          params_enonce={xmin:Math.min(A.x-1,B.x-1,C.x-1,D.x-1,E.x-1,F.x-1),ymin : Math.min(A.y-1,B.y-1,C.y-1,D.y-1,E.y-1,F.y-1),xmax:Math.max(A.x+1,B.x+1,C.x+1,D.x+1,E.x+1,F.x+1),ymax:Math.max(A.y+1,B.y+1,C.y+1,D.y+1,E.y+1,F.y+1),pixelsParCm:20,scale:1,mainlevee:true,amplitude:1}
          objets_enonce.push(labelPoint(A,B,C,D,E,F),s1,s2,s3,s4,s5)
          objets_enonce.push(codeAngle(D,A,B,2,'|','red',2),codeAngle(B,C,D,2,'|','red',2),codeAngle(A,B,F,2,'|','red',2))
          objets_enonce.push(codeAngle(A,B,C,2,'||','blue',2),codeAngle(A,D,C,2,'||','blue',2))
          objets_enonce.push(codeAngle(B,A,F,2,'','green',3),codeAngle(B,F,A,2,'','green',3))
          
          objets_enonce.push(codeSegments('||','black',B,E,E,D),codeSegments('O','black',A,E,E,C))
          texte=`$${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ est un rectangle. Ses diagonales se coupent en $${sommets[4]}$.<br>`
          texte+=`$${sommets[4]+sommets[1]+sommets[5]+sommets[2]}$ est un losange.<br>`
          texte=`<br>À l'aide du schéma ci-dessous, déterminer :<br>`
        texte+=`- la nature du triangle $${sommets[0]+sommets[1]+sommets[5]}$ ;<br>`
        texte+=`- la nature du quadrilatère $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ ;<br>`
        texte+=`- la nature de l'angle $\\widehat{FBC}$ ;<br>`
          texte_corr=`Le triangle $${sommets[0]+sommets[1]+sommets[5]}$ a deux angles de même mesure, c'est donc un triangle isocèle en $${sommets[1]}$.<br>`
          texte_corr+=`Le quadrilatère  $${sommets[0]+sommets[1]+sommets[2]+sommets[3]}$ a des diagonales qui se coupent en leur milieu, c'est donc un parallélogramme.<br>`
          texte_corr+=`Dans un parallélogramme, les angles consécutifs sont supplémentaires (leur somme vaut 180°).<br`
          texte_corr+=` D'après le codage, l'angle \\widehat{${sommets[2]+sommets[1]+sommets[5]}$} est la somme de deux angles supplémentaires. C'est donc un angle plat.<br>`
          
         
        break
      }
        if (objets_enonce.length>0) texte+=mathalea2d(params_enonce,objets_enonce)
        if (objets_correction.length>0) texte_corr+=mathalea2d(params_correction,objets_correction)
        if (this.liste_questions.indexOf(texte) == -1) {
          // Si la question n'a jamais été posée, on en créé une autre
          this.liste_questions.push(texte);
          this.liste_corrections.push(texte_corr);
          i++;
        }
        cpt++;
      }
      liste_de_question_to_contenu(this);
   };
}


/**
 * Fonction générale pour exercices de constructions de parallèles et perpendiculaires
 * références 6G11, 6G12 et 6G12-1
 */
function Parallele_et_Perpendiculaires() {
  "use strict";
  Exercice.call(this);
  this.titre = "Tracer des parallèles et des perpendiculaires";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  type_de_questions_disponibles = [parseInt(this.sup)]; // Le choix 1 ou 2 ou 3 : 1=perpendiculaires, 2=parallèles, 3=des perpendiculaires et des paralèlles
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc=20, sc;
   
    let A,
      B,
      C,
      D,
      xE,
      E,
      F,
      CC,
      DD,
      EE,
      d,
      s1,
      s2,
      enonce,
      correction,
      dB,
      dC,
      dD,
      dE,
      g,
      lC,
      lD,
      lE,
      cB,
      cC,
      cD,
      cE,
      cF,
      cG,
      FF,
      BB,
      carreaux,
      k,
      objets_enonce = [],
      objets_correction = [],
      
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      objets_enonce.splice(0)
      objets_correction.splice(0)
      if (this.sup2 == 2) 
        k = 0.8;
      else 
        k = 0.5;
      switch (liste_type_de_questions[i]) {
        case 1:
          A = point(0, 0, "A", "above left");
          B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
          d = droite(A, B);
          d.isVisible = true;
          C = point(randint(2, 3), randint(3, 4), "C", "above left");
          D = point(randint(7, 8), randint(-7, -6), "D");
          dB = droiteParPointEtPerpendiculaire(B, d);
          xE = 11;
          E = pointSurDroite(dB, 11, "E", "left");
          while (!Number.isInteger(E.y)) {
            xE++;
            E = pointSurDroite(dB, xE, "E", "left");
          }
          F = point(E.x, B.y);
          s1 = segment(B, F, "red");
          s1.epaisseur = 2;
          s1.pointilles = true;
          s2 = segment(F, E, "blue");
          s2.epaisseur = 2;
          s2.pointilles = true;
          dC = droiteParPointEtPerpendiculaire(C, d);
          dD = droiteParPointEtPerpendiculaire(D, d);
          BB = rotation(A, B, 90);
          CC = pointIntersectionDD(dC, d, "M", "below right");
          DD = pointIntersectionDD(dD, d, "N", "above left");
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          cB = codageAngleDroit(A, B, BB);
          cC = codageAngleDroit(C, CC, B);
          cD = codageAngleDroit(D, DD, B);
          objets_correction.push(s1,
            s2,
            dC,
            dD,
            dB,
            cB,
            cC,
            cD,
            d,
            tracePoint(A, B, C, D, E, CC, DD),
            labelPoint(A, B, C, D, E, CC, DD),
            afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              -0.5,
              "red",
              1,
              -0.5,
              "red"
            )
          );
          objets_enonce.push(
            tracePoint(A, B, C, D),
            labelPoint(A, B, C, D),
            d,
          );
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=
            num_alpha(1) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=
            num_alpha(2) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nommer $M$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(3) +
            ` Tracer la droite perpendiculaire à $(AB)$ passant par $D$ et nommer $N$ le point d'intersection de cette droite avec la droite $(AB)$.<br>`;
          enonce +=
            num_alpha(4) +
            ` Mesurer ensuite les distances $AM$ et $AN$.<br> Pour l'auto-correction comparer ces mesures avec celles données dans la correction<br>`;
               correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm et $AN \\approx ${tex_nombre(lD)}$ cm.<br>`;
          correction += `Pour la perpendiculaire en $B$, contrôle la position du point $E$.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,CC.y,DD.y)+1)
          break;
        case 2:
          A = point(2, 0, "A",'below left');
          B = point(12, randint(-4, 4, 0), "B");
          d = droite(A, B);
          d.isVisible = true;
          C = point(0, randint(3, 4), "C",'above');
          D = point(randint(7, 8), randint(-7, -6), "D",'below right');
          E = point(randint(4, 5), randint(5,6), "E",'below right');
          F = point(2, -3, "F", "left");
 
          dE = droiteParPointEtParallele(E, d);
          dC = droiteParPointEtParallele(C, d);
          dD = droiteParPointEtParallele(D, d);
          p = droite(A, F);
          p.isVisible = true;
          CC = pointIntersectionDD(dC, p,'M','above left');
          DD = pointIntersectionDD(dD, p,'N','above left');
          EE = pointIntersectionDD(dE, p,'O','above left');
          lC = arrondi(longueur(CC, A) * k, 1);
          lD = arrondi(longueur(DD, A) * k, 1);
          lE = arrondi(longueur(EE, A) * k, 1);
          objets_correction.push(dC,dD,dE,d,p,tracePoint(A, B, C, D, E,F),labelPoint(A, B, C, D, E,F,CC,DD,EE),afficheCoteSegment(segment(A,CC),`${tex_nombre(lC)} cm`,.2,'red',1,0.5,'red'),afficheCoteSegment(segment(DD,A),`${tex_nombre(lD)} cm`,-0.2,'green',1,-0.5,'green'),afficheCoteSegment(segment(A,EE),`${tex_nombre(lE)} cm`,-0.2,'blue',1,-0.5,'blue'))
          objets_enonce.push(tracePoint(A, B, C, D,E,F),labelPoint(A, B, C, D,E,F),d,p);
        
          if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
          else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
          enonce +=num_alpha(1)+` Tracer la droite parallèle à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(AF)$.<br>`;
          enonce += num_alpha(4)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)
          break;
          case 3:
            A = point(0, 0, "A", "above left");
            B = point(10, randint(-4, 4, [-1, 0, 1]), "B", "above right");
            d = droite(A, B);
            d.isVisible = true;
            C = point(randint(2, 3), randint(3, 4), "C", "above left");
            D = point(randint(7, 8), randint(-7, -6), "D");
            dB = droiteParPointEtPerpendiculaire(B, d);
            xE = 11;
            E = pointSurDroite(dB, 11, "E", "left");
            while (!Number.isInteger(E.y)) {
              xE++;
              E = pointSurDroite(dB, xE, "E", "left");
            }
            F = point(E.x, B.y);
            dE = droiteParPointEtParallele(E, d);
            dD = droiteParPointEtParallele(D, d);
            dC = droiteParPointEtPerpendiculaire(C,d)
            BB = rotation(A, B, 90);
            CC = pointIntersectionDD(dC, d, "M", "below right");
            DD = pointIntersectionDD(dD, dB, "N", "above left");
            EE = pointIntersectionDD(dC,dE ,'O','above left');
            FF = pointIntersectionDD(dD,dC)

            lC = arrondi(longueur(CC, A) * k, 1);
            lD = arrondi(longueur(DD, A) * k, 1);
            lE = arrondi(longueur(EE, A) * k, 1);
            cB = codageAngleDroit(A, B, BB);
            cC = codageAngleDroit(C, CC, B);
            cD = codageAngleDroit(D, DD, B,'red');
            cE = codageAngleDroit(B,E,EE,'red')
            cF = codageAngleDroit(C,EE,E,'red')
            cG = codageAngleDroit(C,FF,D,'red')

            objets_correction.push(dC,dD,dB,dE,cB,cC,cD,cE,cF,cG,d,tracePoint(A, B, C, D, E, CC, DD,EE),labelPoint(A, B, C, D, E, CC, DD,EE),afficheCoteSegment(
              segment(A, CC),
              `${tex_nombre(lC)} cm`,
              0.5,
              "red",
              1,
              0.5,
              "red"
            ),
            afficheCoteSegment(
              segment(A, DD),
              `${tex_nombre(lD)} cm`,
              0,
              "blue",
              1,
              -0.5,
              "blue"
            ),
            afficheCoteSegment(
              segment(A, EE),
              `${tex_nombre(lE)} cm`,
              0,
              "green",
              1,
              -0.5,
              "green"
            ));
            objets_enonce.push(tracePoint(A, B, C, D,E),labelPoint(A, B, C, D,E),d);
            if (sortie_html) enonce = num_alpha(0) + ` Reproduire la figure ci-dessous.<br>`;
            else enonce = num_alpha(0) + ` Utiliser un crayon à papier afin de pouvoir gommer si besoin.<br>`;
             enonce +=num_alpha(1)+` Tracer la droite perpendiculaire à $(AB)$ passant par $B$.<br>`;
          enonce +=num_alpha(2)+` Tracer la droite perpendiculaire à $(AB)$ passant par $C$ et nomme $M$, le point d'intersection de cette droite avec la droite $(AB)$.<br>`
          enonce +=num_alpha(3)+` Tracer la droite parallèle à $(AB)$ passant par $D$ et nomme $N$, le point d'intersection de cette droite avec la droite $(BE)$.<br>`;
          enonce += num_alpha(4)+ ` Tracer la droite parallèle à $(AB)$ passant par $E$ et nomme $O$, le point d'intersection de cette droite avec la droite $(CM)$.<br>`
          enonce += num_alpha(5)+` Mesurer les distances $AM$, $AN$ et $AO$. Pour l'auto-correction, comparer ces mesures avec celles données par  l'ordinateur dans la correction.<br>`;
         
          correction = `<br>$AM \\approx ${tex_nombre(
            lC
          )}$ cm, $AN \\approx ${tex_nombre(
            lD
          )}$ cm et $AO \\approx${tex_nombre(
            lE
          )}$ cm.<br>`;
          correction+=`Les angle droits en rouge se justifient par la propriété :<br> ${texte_en_couleur(`Si deux droites sont parallèles, toutes droite perpendiculaire à l'une est aussi perpendiculaire à l'autre`,'red')}.<br>`
          correction +=`Vérifier les angles droits à l'équerre.<br>`
          Xmin=Math.floor(Math.min(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)-1)
          Xmax=Math.ceil(Math.max(A.x,B.x,C.x,D.x,E.x,F.x,EE.x,CC.x,DD.x)+1)
          Ymin=Math.floor(Math.min(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)-1)
          Ymax=Math.ceil(Math.max(A.y,B.y,C.y,D.y,E.y,F.y,EE.y,CC.y,DD.y)+1)

          break
      }
      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        sc = 0.8;
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
      } else {
        sc = 0.5;
        carreaux = "";
      }
      objets_enonce.push(g,carreaux)
      objets_correction.push(g,carreaux)
      
      enonce += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
       objets_enonce
      );
      correction += mathalea2d(
        {
          xmin: Xmin,
          ymin: Ymin,
          xmax: Xmax,
          ymax: Ymax,
          pixelsParCm: ppc,
          scale: sc,
        },
        objets_correction
      );
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  //	this.besoin_formulaire_numerique = ['Type de questions', 3, `1 : Perpendiculaires\n 2 : Parallèles\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}


/**
 * Produire une forme littérale en introduisant une lettre pour désigner une valeur inconnue
 * * 6P11-1
 * @author Sébastien Lozano
 */
function Proportionnalite_par_linearite_bis(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Résoudre un problème relevant de la proportionnalité avec les propriétés de linéarité.";
  this.consigne = "";
  sortie_html ? this.spacing = 1.5 : this.spacing = 1;
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	//sortie_html? this.spacing = 3 : this.spacing = 2; 
	//sortie_html? this.spacing_corr = 3 : this.spacing_corr = 2;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [1];			
		} else {
			type_de_questions_disponibles = [1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		type_de_questions_disponibles=[1];			
		let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		//let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
			
			// une fonction pour gérer le pluriel 
			function pluriel(n,obj) {
				if (n>1) {
					return obj.achat_plur
				} else {
					return obj.achat_sing
				};
			};
			
			// une fonction pour gérer la chaine de sortie et supprimer le coeff 1 !
			function sliceUn(n) {
				if (n==1) {
					return ``;
				} else {
					return `${n}`;
				};
      };
      
      //une fonction pour calculer la différence positive entre deux entiers
      function diffInt(n,p) {
        if (n>p) {
          return calcul(n-p);
        } else if (n<p) {
          return calcul(p-n);
        } else {
          return 0;
        }
      };

      // un compteur pour les sous-questions
      let k=0;
      let k_corr=0;
      // on crée un tableau d'objets pour les situations possibles
      let n1,n2,n3,n4,n_max;
      do {
        n1 = randint(1,9);
        n2 = randint(1,9,[n1]);
        n3 = n1+n2;
        n4 = diffInt(n1,n2);
        n_max=randint(10,19,[n3]);
      }	while (n4==1);
      //n1 sera toujours le plus grand sinon on intervertit les deux
      let temp;
      if (n1<n2) {
        temp = n1;
        n1 = n2;
        n2 = temp;
      };	
			let situations = [
        {lieu:`la boulangerie "Au bon pain"`,achat_sing:`pain au chocolat`,achat_plur:`pains au chocolat`,prenom1:prenom(),prenom2:prenom(),prenom3:prenom(),prenom4:prenom(),prenom_max:prenom(),n1:n1,n2:n2,n3:n3,n4:n4,n_max:n_max,pu:0.9}
			]
			let enonces = [];
      let situation = situations[randint(0,situations.length-1)];
      
			enonces.push({
        enonce:`
          Dans ${situation.lieu}, ${situation.prenom1} achète $${situation.n1}$ ${pluriel(situation.n1,situation)} et paie $${tex_prix(situation.pu*situation.n1)}$ €.
          <br>${situation.prenom2} achète $${situation.n2}$ ${pluriel(situation.n2,situation)} et paie $${tex_prix(situation.pu*situation.n2)}$ €.
          <br>
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom3} pour $${situation.n3}$ ${pluriel(situation.n3,situation)} ?
          <br>${num_alpha(k++)} Combien paiera ${situation.prenom4} pour $${situation.n4}$ ${pluriel(situation.n4,situation)} ?
          <br>${num_alpha(k++)} Quel est le nombre maximum de ${situation.achat_plur} que ${situation.prenom_max} peut acheter avec $${tex_prix(situation.pu*situation.n_max)}$ € ?
          `,
				question:``,
        correction:`
        C'est une situation de proportionnalité. Nous pouvons donc utiliser les propriétés de linéarité de la proportionnalité.
        <br>C'est ce que nous allons faire pour les deux premières questions.
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}+${situation.n2}$ ${pluriel(situation.n3,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € + $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom3} paiera donc $${tex_prix(situation.pu*situation.n3)}$ € pour $${situation.n3}$ ${pluriel(situation.n3,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} Pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Pour $${situation.n2}$ ${pluriel(situation.n2,situation)}, on paie $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> Donc pour $${situation.n1}-${situation.n2}$ ${pluriel(situation.n4,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ € - $${tex_prix(situation.pu*situation.n2)}$ €.
        <br> ${texte_en_couleur(`${situation.prenom4} paiera donc $${tex_prix(situation.pu*situation.n4)}$ € pour $${situation.n4}$ ${pluriel(situation.n4,situation)}.`)}
        <br>
        <br>${num_alpha(k_corr++)} On peut utiliser l'une ou l'autre des informations de l'énoncé pour répondre en revenant à l'unité.
        <br> Par exemple pour $${situation.n1}$ ${pluriel(situation.n1,situation)}, on paie $${tex_prix(situation.pu*situation.n1)}$ €.
        <br> Donc $1$ ${situation.achat_sing} coûte $${tex_prix(situation.pu*situation.n1)}\\div ${situation.n1} = ${tex_prix(situation.pu)}$ €.
        <br> Pour $${tex_prix(situation.pu*situation.n_max)}$ € nous aurons donc $${tex_prix(situation.pu*situation.n_max)}\\div ${tex_prix(situation.pu)}$ € $= ${situation.n_max}$ ${pluriel(situation.n_max,situation)}.
        <br> ${texte_en_couleur(`Avec $${tex_prix(situation.pu*situation.n_max)}$ €, ${situation.prenom_max} pourra donc acheter $${situation.n_max}$ ${pluriel(situation.n_max,situation)}.`)}
        `
			})
			switch (liste_type_de_questions[i]){
				case 1 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
					break;				
			}
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
}

/**
 * Un nombre à 2 chiffres (non multiple de 10) + 9
 * @Auteur Rémi Angot
 * Référence 6G23-2
 */
function Tracer_triangle_2_angles() {
  Exercice.call(this); // Héritage de la classe Exercice()
  this.titre = "Tracer un triangle dont on connait une longueur et 2 angles";
  this.consigne = "";
  this.nb_questions = 3;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;

  this.nouvelle_version = function (numero_de_l_exercice) {
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées

    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
      let c = calcul(randint(30, 70) / 10);
      let angle1 = randint(20, 70);
      let angle2 = randint(20, 70);
      let p = creerNomDePolygone(3);
      texte = `Tracer un triangle $${p}$ tel que $${p[0] + p[1]}=${tex_nombre(
        c
      )}$ cm, $\\widehat{${
        p[1] + p[0] + p[2]
      }}=${angle1}\\degree$ et $\\widehat{${
        p[0] + p[1] + p[2]
      }}=${angle2}\\degree$.`;
      texte += `<br> Mesurer $${p[0] + p[2]}$ et $${p[1] + p[2]}$.`;
      let A0 = point(0, 0, p[0], "left");
      let B0 = point(c, 0, p[1], "right");
      let s0 = segmentAvecExtremites(A0, B0);
      let t1 = afficheLongueurSegment(B0, A0);

      let A1 = point(B0.x + 4, 0, p[0], "left");
      let B1 = point(A1.x + c, 0, p[1], "right");
      let s1 = segment(A1, B1);
      s1.styleExtremites = "-|";
      let c1 = rotation(B1, A1, angle1);
      let C1 = pointSurSegment(c1, A1, -3);
      let s2 = segment(A1, C1);
      let t2 = afficheMesureAngle(B1, A1, C1);

      let A2 = point(B1.x + 4, 0, p[0], "left");
      let B2 = point(A2.x + c, 0, p[1], "right");
      let s3 = segment(A2, B2);
      let c2 = rotation(B2, A2, angle1);
      let C2 = pointSurSegment(c2, A2, -3);
      let s4 = segment(A2, C2);
      let c3 = rotation(A2, B2, -angle2);
      let C3 = pointSurSegment(c3, B2, -3);
      let t3 = afficheMesureAngle(A2, B2, C3);
      let s5 = segment(B2, C3);
      let d1 = droite(A2, C2);
      d1.isVisible = false;
      let d2 = droite(B2, C3);
      d2.isVisible = false;
      let C = pointIntersectionDD(d1, d2, p[2]);
      let l = labelPoint(A0, B0, A1, B1, A2, B2, C);

      if (sortie_html) {
        texte_corr = mathalea2d(
          { xmin: -1, xmax: 3 * c + 10, ymin: -1, ymax: 10 },
          s0,
          s1,
          s2,
          s3,
          s4,
          s5,
          t1,
          t2,
          t3,
          l
        );
        texte_corr += '<br><br>'
      } else {
        texte_corr = "";
      }
      texte_corr += `$${p[0] + p[2]}\\approx${tex_nombre(
        longueur(A2, C, 1)
      )}$ cm et $${p[1] + p[2]}\\approx${tex_nombre(longueur(B2, C, 1))}$ cm.`;

      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(texte);
        this.liste_corrections.push(texte_corr);
        i++;
      }
      cpt++;
    }
    liste_de_question_to_contenu(this);
  };
  //this.besoin_formulaire_numerique = ['Niveau de difficulté',3];
}

/**
 * fonction servant à plusieurs exercice autour du cube et du pavé droit
 * références : 6G42 et 6G43
 * @Auteur Jean-Claude Lhote
 */
function Solide_6e() {
  "use strict";
  Exercice.call(this);
  this.titre = "Connaître les propriétés du cube et du pavé droit";
  this.nb_questions = 1;
  this.nb_cols = 1;
  this.nb_cols_corr = 1;
  this.sup = 1;
  this.sup2 = 1;
  this.nouvelle_version = function (numero_de_l_exercice) {
  let type_de_questions_disponibles;
  if (this.sup==3) type_de_questions_disponibles=[1,2]
 else type_de_questions_disponibles = [parseInt(this.sup)]; 
 if (this.titre=="Utiliser le vocabulaire associé au pavé droit") 
    for (let n=0;n<type_de_questions_disponibles.length;n++)
      type_de_questions_disponibles[n]+=2
  let liste_type_de_questions = combinaison_listes(
      type_de_questions_disponibles,
      this.nb_questions
    );
    this.liste_questions = []; // Liste de questions
    this.liste_corrections = []; // Liste de questions corrigées
    let Xmin, Xmax, Ymin, Ymax, ppc, sc;
 
    if (this.sup2 == 1) sc = 0.5;
    else sc = 0.8;

    let A,B,C,D,E,F,G,H,
      AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,
      lAB,lBC,lAE,anglepersp,coeffpersp,
      codesseg=[],
      enonce,
      correction,
      carreaux,g,
      objets_enonce = [],
      objets_correction = [],
     k,
      p;
    for (
      let i = 0, texte, texte_corr, cpt = 0;
      i < this.nb_questions && cpt < 50;

    ) {
     let nom = creerNomDePolygone(8, "PQ"),
     anglepersp=choice([30,45,-30,-45,150,135,-150,-135])
      if (anglepersp%10==0) coeffpersp=0.6
      else coeffpersp=0.4
      objets_correction=[]
      objets_enonce=[]
      switch (liste_type_de_questions[i]) {
        case 1: //cube
          enonce=`${nom} est un cube.<br>`
          if (sortie_html) enonce +=` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le cube ${nom}.<br>`

          break;
        case 2:

          enonce=`${nom} est un pavé droit.<br>`
          if (sortie_html) enonce += ` Reproduire la figure ci-dessous sur le cahier.<br>`;
          enonce += ` Repasse tous les segments de même longueur dans une même couleur.<br>`;
          correction=`Le pavé droit ${nom}.<br>`

           break;
        case 3 :
          enonce=`${nom} est un cube.<br>`
          break;
 
        case 4 :
          enonce=`${nom} est un pavé droit.<br>`
          break;
      }
      let aretes_paralleles=[[[0,1],[3,2],[4,5],[7,6]],[[0,3],[1,2],[4,7],[5,6]],[[0,4],[1,5],[2,6],[3,7]]]
      let faces_paralleles=[[[0,1,2,3],[4,5,6,7]],[[0,4,7,3],[1,5,6,2]],[[0,1,5,4],[3,2,6,7]]]
      let aretes_perp=[[[0,1],[0,4],[0,3],[1,5],[1,2]],[[0,4],[0,1],[0,3],[4,5],[4,7]],[[0,3],[0,1],[0,4],[3,2],[3,7]],[[1,2],[1,0],[1,5],[2,3],[2,6]],[[1,5],[1,0],[1,2],
      [5,4],[5,6]],[[5,4],[5,1],[5,6],[4,0],[4,7]],[[5,6],[5,1],[5,4],[6,2],[6,7]]
      ,[[6,2],[6,5],[6,7],[2,1],[2,3]],[[2,3],[2,1],[2,6],[3,0],[3,7]],[[3,7],[3,2],[3,0],[7,4],[7,6]],[[7,4],[4,0],[4,5],[7,3],[7,6]],[[7,6],[6,2],[6,5],[7,3],[7,4]]]
      let faces_perp=[[[0,1,2,3],[1,5,6,2],[2,6,7,3],[3,7,4,0],[0,1,5,4]],[[1,5,6,2],[0,1,2,3],[2,6,7,3],[5,6,7,4],[1,5,4,0]],[[0,1,5,4],[1,5,6,2],[4,5,6,7],[0,4,7,3],[0,1,2,3]],
      [[4,5,6,7],[0,1,5,4],[1,5,6,2],[2,6,7,3],[0,4,7,3]],[[0,4,7,3],[0,1,2,3],[0,1,5,4],[4,5,6,7],[3,2,6,7]],[[3,2,6,7],[0,1,2,3],[1,5,6,2],[4,5,6,7],[0,4,7,3]]]
      let k,l,s
      switch (randint(1,4)) {
        case 1 : // citer les arêtes parallèles à une arrête donnée
        [k,l,s]=[randint(0,2),randint(0,3),randint(0,1)]
          enonce+=`Citer toutes les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$].<br>`
        correction = `Les arêtes parallèles à [$${nom[aretes_paralleles[k][l][s]]+nom[aretes_paralleles[k][l][(s+1)%2]]}$] sont [$${nom[aretes_paralleles[k][(l+1)%4][s]]+nom[aretes_paralleles[k][(l+1)%4][(s+1)%2]]}$], [$${nom[aretes_paralleles[k][(l+2)%4][s]]+nom[aretes_paralleles[k][(l+2)%4][(s+1)%2]]}$] et [$${nom[aretes_paralleles[k][(l+3)%4][s]]+nom[aretes_paralleles[k][(l+3)%4][(s+1)%2]]}$].<br>`
      break;
      case 2: // coter la face parallèle à une face donnée
       [k,l,s]=[randint(0,2),randint(0,1),randint(0,3)]
       enonce+=`Quelle est la face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ ?<br>`
       correction = `La face parallèle à $${nom[faces_paralleles[k][l][s]]+nom[faces_paralleles[k][l][(s+1)%4]]+nom[faces_paralleles[k][l][(s+2)%4]]+nom[faces_paralleles[k][l][(s+3)%4]]}$ est la face $${nom[faces_paralleles[k][(l+1)%2][s]]+nom[faces_paralleles[k][(l+1)%2][(s+1)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+2)%4]]+nom[faces_paralleles[k][(l+1)%2][(s+3)%4]]}$.<br>`
      break;
      case 3: // citer les arêtes perpendiculaires à une arête donnée
        [k,l,s]=[randint(0,11),0,randint(0,1)]
        enonce+=`Quelles sont les arêtes peprendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] ?<br>`
        correction = `Les arêtes perpendiculaires à l'arête [$${nom[aretes_perp[k][l][s]]+nom[aretes_perp[k][l][(s+1)%2]]}$] sont [$${nom[aretes_perp[k][1][s]]+nom[aretes_perp[k][1][(s+1)%2]]}$], [$${nom[aretes_perp[k][2][s]]+nom[aretes_perp[k][2][(s+1)%2]]}$], [$${nom[aretes_perp[k][3][s]]+nom[aretes_perp[k][3][(s+1)%2]]}$] et [$${nom[aretes_perp[k][4][s]]+nom[aretes_perp[k][4][(s+1)%2]]}$].`
      break;
      case 4 : // citer les faces perpendiculaires à une face donnée
        [k,l,s]=[randint(0,5),0,randint(0,3)]
        enonce+=`Quelles sont les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ ?<br>` 
        correction =`Les faces perpendiculaires à la face $${nom[faces_perp[k][l][s]]+nom[faces_perp[k][l][(s+1)%4]]+nom[faces_perp[k][l][(s+2)%4]]+nom[faces_perp[k][l][(s+3)%4]]}$ `
        correction +=`sont les faces $${nom[faces_perp[k][l+1][s]]+nom[faces_perp[k][l+1][(s+1)%4]]+nom[faces_perp[k][l+1][(s+2)%4]]+nom[faces_perp[k][l+1][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+2][s]]+nom[faces_perp[k][l+2][(s+1)%4]]+nom[faces_perp[k][l+2][(s+2)%4]]+nom[faces_perp[k][l+2][(s+3)%4]]}$, `
        correction+=`$${nom[faces_perp[k][l+3][s]]+nom[faces_perp[k][l+3][(s+1)%4]]+nom[faces_perp[k][l+3][(s+2)%4]]+nom[faces_perp[k][l+3][(s+3)%4]]}$ et `
        correction+=`$${nom[faces_perp[k][l+4][s]]+nom[faces_perp[k][l+4][(s+1)%4]]+nom[faces_perp[k][l+4][(s+2)%4]]+nom[faces_perp[k][l+4][(s+3)%4]]}$.`
    
        break;
      }

        switch (liste_type_de_questions[i]%2) {
          case 1 :
      A = point(6, 0, nom[0], "left");
      B = point(11, 0, nom[1], "right");
      C = point(11,5, nom[2], "right");
      D = point(6,5, nom[3],"left");
      p=polygone(A,B,C,D)
      E = similitude(B,A,anglepersp,coeffpersp,nom[4],'left')
      E.x=Math.round(E.x)
      E.y=Math.round(E.y)
          break;
          case 0:
            A = point(5, 0, nom[0], "left");
            B = point(9+randint(1,3), 0, nom[1], "right");
            C = point(B.x,randint(3,7), nom[2], "right");
            D = point(A.x,C.y, nom[3],"left");
            p=polygone(A,B,C,D)
            E = similitude(B,A,anglepersp,coeffpersp*randint(5,12)/10,nom[4],'left')
            E.x=Math.round(E.x)
            E.y=Math.round(E.y)
            break ;
        }  
      p=polygone(A,B,C,D)
      F = translation2Points(E,A,B,nom[5],'right')
      G = translation2Points(F,B,C,nom[6],'right')
      H = translation2Points(G,C,D,nom[7],'left')
      AB=segment(A,B)
      BC=segment(B,C)
      CD=segment(C,D)
      DA=segment(D,A)
      EF=segment(E,F)
      FG=segment(F,G)
      GH=segment(G,H)
      HE=segment(H,E)
      AE=segment(A,E)
      BF=segment(B,F)
      CG=segment(C,G)
      DH=segment(D,H)
      AB.epaisseur=2
      BC.epaisseur=2
      CD.epaisseur=2
      DA.epaisseur=2
      EF.epaisseur=2
      FG.epaisseur=2
      GH.epaisseur=2
      HE.epaisseur=2
      AE.epaisseur=2
      BF.epaisseur=2
      CG.epaisseur=2
      DH.epaisseur=2
      AB.color='black'
      BC.color='black'
      CD.color='black'
      DA.color='black'
      EF.color='black'
      FG.color='black'
      GH.color='black'
      HE.color='black'
      AE.color='black'
      BF.color='black'
      CG.color='black'
      DH.color='black'
      if (G.y<C.y&&G.x<C.x) {
        CG.pointilles=true
        CG.color='gray'
        CG.opacite=0.7
        GH.pointilles=true
        GH.color='gray'
        GH.opacite=0.7
        FG.pointilles=true
        FG.color='gray'
        FG.opacite=0.7
      }
      else if (E.y>A.y&&E.x>A.x) {
        AE.pointilles=true
        EF.pointilles=true
        HE.pointilles=true
        AE.color='gray'
        EF.color='gray'
        HE.color='gray'
        AE.opacite=0.7
        EF.opacite=0.7
        HE.opacite=0.7
      }
      else if (F.x<B.x&&F.y>B.y) {
        BF.pointilles=true
        FG.pointilles=true
        EF.pointilles=true
        BF.color='gray'
        FG.color='gray'
        EF.color='gray'
        BF.opacite=0.7
        FG.opacite=0.7
        EF.opacite=0.7
      }
      else if (H.x>D.x&&H.y<D.y) {
        DH.pointilles=true
        GH.pointilles=true
        HE.pointilles=true
        DH.color='gray'
        GH.color='gray'
        HE.color='gray'
        DH.opacite=0.7
        GH.opacite=0.7
        HE.opacite=0.7
      }
      Xmin = Math.min(A.x,E.x)-1;
      Ymin = Math.min(A.y,E.y)-1;
      Xmax = Math.max(B.x,F.x)+2;
      Ymax = Math.max(D.y,H.y)+1;
      ppc = 20;

      if (this.sup2 < 3) g = grille(Xmin, Ymin, Xmax, Ymax, "gray", 0.7);
      else g = "";
      if (this.sup2 == 2) {
        carreaux = seyes(Xmin, Ymin, Xmax, Ymax);
        sc=0.8
      }
      else {
        carreaux = "";
        sc=0.5
      }
      objets_enonce.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),p,
        g,
        carreaux
      );
     
    let  params = {
      xmin: Xmin,
      ymin: Ymin,
      xmax: Xmax,
      ymax: Ymax,
      pixelsParCm: ppc,
      scale: sc,
    }
  
   
        enonce += mathalea2d(params, objets_enonce);
      if (liste_type_de_questions[i]==1) {
        codesseg=[codeSegments('||','green',[A,B,C,D,A,E,F,G,H,E]),codeSegments('||','green',B,F,C,G,D,H)]
        AB.color='green'
        BC.color='green'
        CD.color='green'
        DA.color='green'
        EF.color='green'
        FG.color='green'
        GH.color='green'
        HE.color='green'
        AE.color='green'
        BF.color='green'
        CG.color='green'
        DH.color='green'
      }
      else {
        codesseg=[codeSegments('||','green',A,B,C,D,E,F,G,H),codeSegments('O','red',A,E,B,F,C,G,D,H),codeSegments('×','blue',D,A,B,C,F,G,H,E)]
        AB.color='green'
        BC.color='blue'
        CD.color='green'
        DA.color='blue'
        EF.color='green'
        FG.color='blue'
        GH.color='green'
        HE.color='blue'
        AE.color='red'
        BF.color='red'
        CG.color='red'
        DH.color='red'
      }
    objets_correction.push(AB,BC,CD,DA,EF,FG,GH,HE,AE,BF,CG,DH,labelPoint(A,B,C,D,E,F,G,H),
        g,
        carreaux
      );
      if (liste_type_de_questions[i]<3) correction += mathalea2d(params, objets_correction,codesseg);
    
      if (this.liste_questions.indexOf(texte) == -1) {
        // Si la question n'a jamais été posée, on en créé une autre
        this.liste_questions.push(enonce + "<br>");
        this.liste_corrections.push(correction + "<br>");
        i++;
      }
      cpt++;
    }

    liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Type de solides', 3, `1 : Cubes\n 2 : Pavés droits\n 3 : Mélange`]
  this.besoin_formulaire2_numerique = [
    "Type de cahier",
    3,
    `1 : Cahier à petits careaux\n 2 : Cahier à gros carreaux (Seyes)\n 3 : Feuille blanche`,
  ];
}

/** 
 * * Calculer le produit de deux décimaux à partir d'un produit de deux entiers
 * * 6C30-2
 * @author Sébastien Lozano
 */

function Produit_de_decimaux_a_partir_d_un_produit_connu(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Calculer le produit de deux décimaux connaissant le produit de deux entiers";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      // pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> (d1u1xp1)xd2u2
          d1:randint(1,9),
          u1:randint(1,9),
          d2:randint(1,9),
          u2:randint(1,9),
          p1:randint(-3,3,[0]),
          p2:randint(-3,3,[0]),
				},	
			];      
			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)} =  ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1))}$
					`
        });
        enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p2))}$
					`
				});
				enonces.push({
          enonce:`
            Sachant que $${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}$,
            calculer $${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))}$
					`,
					question:``,
					correction:`
					$${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(10**situations[0].p1)))}\\times ${tex_nombre(calcul((situations[0].d2*10+situations[0].u2)*(10**situations[0].p2)))} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${tex_nombrec(10**situations[0].p1)} \\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p2)} = ${calcul(situations[0].d1*10+situations[0].u1)}\\times ${calcul(situations[0].d2*10+situations[0].u2)}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombre(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2)))}\\times ${tex_nombrec(10**situations[0].p1)}\\times ${tex_nombrec(10**situations[0].p2)} = ${tex_nombrec(calcul((situations[0].d1*10+situations[0].u1)*(situations[0].d2*10+situations[0].u2))*calcul(10**situations[0].p1)*calcul(10**situations[0].p2))}$
					`
				});

			//};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
     			break;	
     		case 1 : 
          texte = `${enonces[1].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[1].correction}`;
          };
          break;
     		case 2 : 
          texte = `${enonces[2].enonce}`;
          if (this.beta) {
            texte += `<br>`;
            texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
            texte_corr = ``;	
          } else {
            texte_corr = `${enonces[2].correction}`;
          };
          break;							
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};


/** 
 * * Encadrer_un_decimal_par_deux_entiers_consecutifs
 * * 6N31-1
 * @author Sébastien Lozano
 */

function Encadrer_un_decimal_par_deux_entiers_consecutifs(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 3;
	} else {
		this.nb_questions = 3;
	};	

	this.titre = "Encadrer un décimal par deux entiers consécutifs";	
	this.consigne = `Encadrer chaque nombre proposé par deux nombres entiers consécutifs.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0,1,2]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let m=randint(1,9),
      c=randint(1,9),
      d=randint(1,9),
      u=randint(1,9),
      di=randint(1,9),
      ci=randint(1,9),
      mi=randint(1,9);

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
				},		
			];

			let enonces = [];
			//for (let k=0;k<3;k++) {
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01 + mi*0.001))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1 + ci*0.01))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});
				enonces.push({
					enonce:`
          $\\ldots < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < \\ldots$          
					`,
					question:``,
					correction:`
					$${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1))} < ${tex_nombre(m*1000 + c*100 + d*10 + u*1 + calcul(di*0.1))} < ${mise_en_evidence(tex_nombre(m*1000 + c*100 + d*10 + u*1 + 1))}$					`
				});

        //};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
        	break;				
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
	}
};

/** 
 * * Ordre de grandeur d'une opération entre décimaux
 * * 6N31-2
 * @author Sébastien Lozano
 */

function Ordre_de_grandeur_operations_decimaux(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 1;
	} else {
		this.nb_questions = 1;
	};	

	this.titre = "Ordre de grandeur et opérations sur les décimaux";	
	this.consigne = `Pour chaque opération proposée dans la première colonne, cocher la case correspondant à l'ordre de grandeur du résultat.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0];			
		} else {
      //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);
      type_de_questions_disponibles = shuffle([0]);
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

      let ligne_entete = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];
      let ligne_entete_corr = ['\\text{Opération}',`\\phantom{000}`+tex_nombre('1')+`\\phantom{000}`,`\\phantom{00}`+tex_nombre('10')+`\\phantom{00}`,`\\phantom{00}`+tex_nombre('100')+`\\phantom{00}`,`\\phantom{0}`+tex_nombre('1000')+`\\phantom{0}`,tex_nombre('10000'),tex_nombre('100000')];

      let m=randint(1,9,[4,5,6]),
      c=randint(1,9),
      c1=randint(1,9),
      c2=randint(1,9),
      c3=randint(1,9,[4,5,6]),
      c4=randint(1,4),
      d=randint(1,9),
      d1=randint(1,9),
      d2=randint(1,9),
      d3=randint(1,9),
      u=randint(1,9),
      u1=randint(1,9),
      u2=randint(1,9),
      u3=randint(1,9);

      let cbis,d1bis;
      do {
        cbis = randint(2,9);
        d1bis = randint(2,9);
      } while (cbis*d1bis>3 && cbis*d1bis<7);

      let div_aleatoire_ope_3 = choice([10,100]);
      let div_aleatoire_ope_5 = choice([1,10,100,1000]);
      let mult_aleatoire_ope_4 = choice([0.1,0.01,0.001]);

      // une fonction pour ordre de grandeur en fonction de ... opération 1
      function myOrdreOpe1(c,d) {
        if (c*d>=60) {
          return ['','','','','',mise_en_evidence(`X`)]; 
        } else {
          return ['','','','',mise_en_evidence(`X`),'']; 
        };
      };
      
      // une fonction pour ordre de grandeur en fonction de ... opération 2
      function myOrdreOpe2(c1,c2) {
        if (c1+c2/10>=600) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 3
      function myOrdreOpe3(n) {
        if (n>=7) {
          return ['','','',mise_en_evidence(`X`),'','']; 
        } else {
          return ['','',mise_en_evidence(`X`),'','','']; 
        };
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 4
      function myOrdreOpe4(d,n) {
        let sortie;
        switch (d) {
          case 0.1:
            if (n>=7) {
              sortie = ['','','',mise_en_evidence(`X`),'',''];
            } else {
              sortie = ['','',mise_en_evidence(`X`),'','',''];
            };            
            break;
          case 0.01: 
            if (n>=7) {
              sortie = ['','',mise_en_evidence(`X`),'','',''];              
            } else {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            };            
            break;
          case 0.001: 
            if (n>=7) {
              sortie = ['',mise_en_evidence(`X`),'','','',''];
            } else {
              sortie = [mise_en_evidence(`X`),'','','','',''];
            };       
            break;            
        }
        return sortie;
      };

      // une fonction pour ordre de grandeur en fonction de ... opération 5
      function myOrdreOpe5(mult) {
        let sortie;
        switch (mult) {
          case 1:
            return sortie = ['','','',mise_en_evidence(`X`),'','']; 
            break;
          case 10:
            return sortie = ['','',mise_en_evidence(`X`),'','','']; 
            break;
          case 100:
            return sortie = ['',mise_en_evidence(`X`),'','','','']; 
            break;
          case 1000:
            return sortie = [mise_en_evidence(`X`),'','','','','']; 
            break;        
        };
        return sortie;
      };

      let situations = [
        {
          operation:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1}`,
          operation_corr:`${cbis*100+d*10+u*1}\\times ${d1bis*10+u1*1} \\simeq  ${(cbis*100)}\\times ${(d1bis*10)} \\text{ soit } ${tex_nombre((cbis*100)*(d1bis*10))}`,
          operation_coche:myOrdreOpe1(cbis,d1bis),
        },
        {
          operation:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1}`,
          operation_corr:`${tex_nombre((c2*100+d2*10+u1*1)/10)}+${c1*100+d1*10+u1*1} \\simeq ${c2*100/10}+${c1*100} \\text{ soit } ${c2*100/10 + c1*100}`,
          operation_coche:myOrdreOpe2(c1*100,c2*100),
        },
        {
          operation:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)}`,
          operation_corr:`${c3*100+d3*10+u3*1}-${tex_nombre((c2*100+d2*10+u2*1)/div_aleatoire_ope_3)} \\simeq ${c3*100+d3*10}-${tex_nombre((c2*100)/div_aleatoire_ope_3)} \\text{ soit } ${c3*100+d3*10-(c2*100)/div_aleatoire_ope_3}`,
          operation_coche:myOrdreOpe3(c3),
        },
        {
          operation:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)}`,
          operation_corr:`${tex_nombre(m*1000+c3*100+d2*10+u1*1)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\simeq ${tex_nombre(m*1000)}\\times ${tex_nombre(mult_aleatoire_ope_4)} \\text{ soit } ${tex_nombre(m*1000*mult_aleatoire_ope_4)}`,
          operation_coche:myOrdreOpe4(mult_aleatoire_ope_4,m),
        },
        {
          operation:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m}`,
          operation_corr:`${tex_nombre((m*1000+c4*100+d3*10+u*1)/div_aleatoire_ope_5)}\\div ${m} \\simeq ${tex_nombre((m*1000)/div_aleatoire_ope_5)}\\div ${m} \\text{ soit } ${tex_nombre((m*1000)/div_aleatoire_ope_5/m)}`,
          operation_coche:myOrdreOpe5(div_aleatoire_ope_5),
        },

      ];

      situations = shuffle(situations);
            
			let enonces = [];
			for (let k=0;k<1;k++) {
				enonces.push({
          enonce:`
          ${tab_C_L(ligne_entete,[situations[0].operation,situations[1].operation,situations[2].operation,situations[3].operation,situations[4].operation],
          [            
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
            '','','','','','',
          ]
          )}
          `,
          question:``,
          correction:`
          Commençons par calculer un ordre de grandeur du résultat de chaque opération dans la première colonne du tableau.
          <br>
          ${tab_C_L(ligne_entete_corr,[situations[0].operation_corr,situations[1].operation_corr,situations[2].operation_corr,situations[3].operation_corr,situations[4].operation_corr,],
          [            
            situations[0].operation_coche[0],situations[0].operation_coche[1],situations[0].operation_coche[2],situations[0].operation_coche[3],situations[0].operation_coche[4],situations[0].operation_coche[5],
            situations[1].operation_coche[0],situations[1].operation_coche[1],situations[1].operation_coche[2],situations[1].operation_coche[3],situations[1].operation_coche[4],situations[1].operation_coche[5],
            situations[2].operation_coche[0],situations[2].operation_coche[1],situations[2].operation_coche[2],situations[2].operation_coche[3],situations[2].operation_coche[4],situations[2].operation_coche[5],
            situations[3].operation_coche[0],situations[3].operation_coche[1],situations[3].operation_coche[2],situations[3].operation_coche[3],situations[3].operation_coche[4],situations[3].operation_coche[5],
            situations[4].operation_coche[0],situations[4].operation_coche[1],situations[4].operation_coche[2],situations[4].operation_coche[3],situations[4].operation_coche[4],situations[4].operation_coche[5],
          ]
          )}				
          `
          });
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
};

/** 
 * * Donner le chiffre des ... le nombre de ...
 * * 6N10-3
 * @author Sébastien Lozano
 */

function chiffre_nombre_de(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 6;
	};	

	this.titre = "Chiffre des ... Nombre de ...";	
	this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = shuffle([0,1,2,3,4,5]);			
      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      let u,d,c,mu,md,mc,mmu,mmd,mmc;
      mmc = randint(0,9,[0]);
      mmd = randint(0,9,[mmc]);
      mmu = randint(0,9,[mmc,mmd]);
      mc = randint(0,9,[mmu,mmd,mmc]);
      md = randint(0,9,[mmu,mmd,mmc,mc]);
      mu = randint(0,9,[mmu,mmd,mmc,mc,md]);
      c = randint(0,9,[mmu,mmd,mmc,mu,md,mc]);
      d = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c]);
      u = randint(0,9,[mmu,mmd,mmc,mu,md,mc,c,d]);
      //let nb = randint(100000000,999999999);
      //let nb_str = nb.toString();
      let nb_str = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
      let nb = Number(nb_str);
      let tranches = ['unites','milliers','millions'];
      let cdu = ['unites','dizaines','centaines'];
      let chiffre_nombre = {
        chiffre:{
          unites:{
            unites:{determinant:`des`,cdu:['unités',''],rangs:[8]},
            dizaines:{determinant:`des`,cdu:['dizaines',''],rangs:[7]},
            centaines:{determinant:`des`,cdu:['centaines',''],rangs:[6]},
          },
          milliers:{
            unites:{determinant:`des`,cdu:['unités de milliers',''],rangs:[5]},
            dizaines:{determinant:`des`,cdu:['dizaines de milliers',''],rangs:[4]},
            centaines:{determinant:`des`,cdu:['centaines de milliers',''],rangs:[3]},
          },
          millions:{
            unites:{determinant:`des`,cdu:['unités de millions',''],rangs:[2]},
            dizaines:{determinant:`des`,cdu:['dizaines de millions',''],rangs:[1]},
            centaines:{determinant:`des`,cdu:['centaines de millions',''],rangs:[0]},
          },  
        },
        nombre:{
          unites:{
            unites:{determinant:`d'`,cdu:['unités',1],rangs:[0,1,2,3,4,5,6,7,8]},
            dizaines:{determinant:`de`,cdu:['dizaines',10],rangs:[0,1,2,3,4,5,6,7]},
            centaines:{determinant:`de`,cdu:['centaines',100],rangs:[0,1,2,3,4,5,6]},
          },
          milliers:{
            unites:{determinant:`d'`,cdu:['unités de milliers',1000],rangs:[0,1,2,3,4,5]},
            dizaines:{determinant:`de`,cdu:['dizaines de milliers',10000],rangs:[0,1,2,3,4]},
            centaines:{determinant:`de`,cdu:['centaines de milliers',100000],rangs:[0,1,2,3]},
          },
          millions:{
            unites:{determinant:`d'`,cdu:['unités de millions',1000000],rangs:[0,1,2]},
            dizaines:{determinant:`de`,cdu:['dizaines de millions',10000000],rangs:[0,1]},
            centaines:{determinant:`de`,cdu:['centaines de millions',100000000],rangs:[0]},
          },
        },
      };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> chiffre des
          type:'chiffre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 1 --> chiffre des
          type:'chiffre',
          tranche:'milliers',
          cdu:choice(cdu),              
				},
        {//case 2 --> chiffre des
          type:'chiffre',
          tranche:'millions',
          cdu:choice(cdu),                  
				},
        {//case 3 --> nombre de
          type:'nombre',
          tranche:'unites',
          cdu:choice(cdu),         
				},
        {//case 4 --> nombre de
          type:'nombre',
          tranche:'milliers',
          cdu:choice(cdu),         
        },
        {//case 5 --> nombre de
          type:'nombre',
          tranche:'millions',
          cdu:choice(cdu),         
        },		
      ];
      
      //une fonction pour la correction selon le type de question
      function chiffre_nombre_corr(type,str,rang) {
        let sortie;
        if (type == 'chiffre') {
          sortie = str.split('')[rang[0]];
        };
        if (type == 'nombre') {
          sortie=str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            sortie+=str.split('')[rang[k]]
          };
        };
        return sortie;
      };

      // une fonction pour la justification supplémentaire dans le cas nombre de ...
      function nombre_de_justif(type,str,rang,cdu_num) {
        let sortie;
        if (type == 'chiffre') {
          sortie = '';
        };
        if (type == 'nombre') {
          let nb_de = str.split('')[rang[0]];
          for (let k=1; k<rang.length;k++) {
            nb_de+=str.split('')[rang[k]]
          };
          let j = rang[rang.length-1];
          j++;
          let nb_de_reste = '';
          while (j != 9) {            
            nb_de_reste += str.split('')[j];
            j++;
          };
          sortie = `comme $${tex_nombre(str)} = ${tex_nombre(nb_de)}\\times ${tex_nombre(cdu_num)}+${tex_nombre(nb_de_reste)}$ alors `;
        };
        return sortie;
      };

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
          enonce:`
          Dans $${tex_nombre(nb)}$, quel est le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} ?					
					`,
					question:``,
          correction:`
          Dans $${tex_nombre(nb)}$,           
          ${nombre_de_justif(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[1])}          
          le ${situations[k].type} ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].determinant}  ${chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].cdu[0]} est 
          $${mise_en_evidence(tex_nombre(chiffre_nombre_corr(situations[k].type,nb_str,chiffre_nombre[situations[k].type][situations[k].tranche][situations[k].cdu].rangs)))}$					
					`
				});
			};
            
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
     		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
     		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
     		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
     		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;	
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
					break;			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
* * Encadrer un nombre entier par deux entier consécutifs
* * 6N11-3
* @author Sébastien Lozano
*/

function Encadrer_un_entier_par_deux_entiers_consecutifs(){
  'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 6;
	} else {
		this.nb_questions = 3;
	};	

  this.titre = "Encadrer un entier entre deux entiers consécutifs";	
  this.consigne = ``;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1,2,3,4,5];			
		} else {
      type_de_questions_disponibles = shuffle([choice([0,1]),choice([2,3]),choice([4,5])]);      			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
        // on déclare des variables pour avoir des nombres entre 1000 et 9999 puis 10000 et 99999 etc ...
        let m,dm,cm,mi,dmi,cmi;
        //pour la précision d'encadrement
        let precision;

        //selon la precision on veut certains chiffres plus souvant que d'autres ...
        function myNombres(nb_chiffres) {
          let sortie = '';
          // on fabrique le nombre à partir de ses chiffres et on veut des cas limites
          let u,d,c,mu,md,mc,mmu,mmd,mmc;
          let N = choice([[randint(0,9,[0]),0,0,0,0,0,0,0,0],[randint(0,9,[0]),9,9,9,9,9,9,9,9],[randint(0,9,[0]),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9),randint(0,9)]]);
          mmc = N[0];
          mmd = N[1];
          mmu = N[2];
          mc = N[3];
          md = N[4];
          mu = N[5];
          c = N[6];
          d = N[7];
          u = N[8];
          switch (nb_chiffres) {
            case 4:
              mu = randint(0,9,[0]);
              sortie = mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 5:
              md = randint(0,9,[0]);
              sortie = md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 6:
              mc = randint(0,9,[0]);
              sortie = mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 7:
              mmu = randint(0,9,[0]);
              sortie = mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 8:
              mmd = randint(0,9,[0]);
              sortie = mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
            case 9:
              mmc = randint(0,9,[0]);
              sortie = mmc.toString()+mmd.toString()+mmu.toString()+mc.toString()+md.toString()+mu.toString()+c.toString()+d.toString()+u.toString();
              break;
                
          };
          return sortie;
        };

        this.sup = Number(this.sup); // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !
        switch (this.sup) {
          case 1:
            this.consigne = `Compléter avec le nombre entier qui précède et le nombre entier qui suit.`;
            precision=1;
            break;
          case 2:
            this.consigne = `Compléter avec le multiple de 10 qui précède et le multiple de 10 qui suit.`;
            precision=10;
            break;
          case 3:
            this.consigne = `Compléter avec le multiple de 100 qui précède et le multiple de 100 qui suit.`;
            precision=100;
            break;
        };

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 -->
          nombre: Number(myNombres(4)),
        },
        {//case 1 -->
          nombre: Number(myNombres(5)),
        },
        {//case 2 -->
          nombre: Number(myNombres(6)),
        },
        {//case 3 -->
          nombre: Number(myNombres(7)),
        },
        {//case 4 -->
          nombre: Number(myNombres(8)),
        },
        {//case 5 -->
          nombre: Number(myNombres(9)),
        },
      ];
      
      // une fonction pour les correction à la precision près
      function encadrement_corr(nb,precision) {
          if (precision == 1) {
            return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
          } else if(precision == 10 || precision == 100) {
            if (nb%precision == 0) {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision-precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            } else {
              return `$${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision))} < ${tex_nombre(nb)} < ${mise_en_evidence(tex_nombre(Math.trunc(nb/precision)*precision+precision))}$`;
            };
          };       
      };

      let enonces = [];
      for (let k=0;k<situations.length;k++) {
        enonces.push({
          enonce:`
          $\\ldots < ${tex_nombre(situations[k].nombre)} < \\ldots$		
          `,
          question:``,
          correction:`
          ${encadrement_corr(situations[k].nombre,precision)}
          `
        });
      };
          
      // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
        case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          break;	
        case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
          break;	
        case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
          break;
        case 5 : 
					texte = `${enonces[5].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[5].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[5].correction}`;
					};
        	break;			
			};						
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);
  };
  this.besoin_formulaire_numerique = ['Niveau de difficulté',3,"1 : Encadrer entre deux entiers consécutifs\n2 : Encadrer entre deux multiples consécutifs de dix\n3 : Encadrer entre deux multiples consécutifs de cent"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	

};

/** 
* * Ranger une liste de nombres dans l'odre croissant ou décroissant
* * 6N11-4
* @author Sébastien Lozano
*/

function Ranger_ordre_croissant_decroissant(){
 'use strict';
 Exercice.call(this); // Héritage de la classe Exercice()
 this.beta = false;	
 this.sup=1;
 if (this.beta) {
   this.nb_questions = 2;
 } else {
   this.nb_questions = 2;
 };	

 this.titre = "Ranger une liste de nombres entiers dans l'ordre croissant ou décroissant";	
 //this.consigne = `Classer les nombres suivants dans l'ordre indiqué.`;	
 
 this.nb_cols = 1;
 this.nb_cols_corr = 1;
 //this.nb_questions_modifiable = false;
 sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
 sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

 let type_de_questions_disponibles;	

 this.nouvelle_version = function(numero_de_l_exercice){
   if (this.beta) {
     type_de_questions_disponibles = [0,1];			
   } else {
         //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
         type_de_questions_disponibles = [0,1];			
   };

   this.liste_questions = []; // Liste de questions
   this.liste_corrections = []; // Liste de questions corrigées
   
   //let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
   let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
   
   for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
     // les chiffres
     let c1 = randint(1,9);
     let c2 = randint(1,9,[c1]);
     let c3 = randint(1,9,[c1,c2]);
     let c4 = randint(1,9,[c1,c2,c3]);
     let c5 = randint(1,9,[c1,c2,c3,c4]);

     // pour les situations, autant de situations que de cas dans le switch !
     let situations = [
       {//case 0 -->
        ordre:'croissant',
        symbole: `$${mise_en_evidence('<')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },
       {//case 1 -->
        ordre:'décroissant',
        symbole: `$${mise_en_evidence('>')}$`,
        n1: Number(c1.toString()+c2.toString()+c3.toString()+c4.toString()+c5.toString()),
        n2: Number(c1.toString()+c3.toString()+c2.toString()+c4.toString()+c5.toString()),
        n3: Number(c1.toString()+c2.toString()+c5.toString()+c4.toString()+c3.toString()),
        n4: Number(c1.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n5: Number('1'.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
        n6: Number(c1.toString()+c2.toString()+randint(0,9).toString()+randint(0,9).toString()+randint(0,9).toString()),
       },   
     ];

     // une fonction pour gérer l'ordre
     function myOrdre(ordre,tab) {
      tab.sort((a,b) => a - b);          
      switch (ordre) {
        case 'croissant':
          return tab;
        case 'décroissant':
          return tab.reverse();          
      };
     };

     let enonces = [];
     let nombres = [];
     let nombres_ranges = [];
     for (let k=0;k<situations.length;k++) {
      nombres = shuffle([situations[k].n1,situations[k].n2,situations[k].n3,situations[k].n4,situations[k].n5,situations[k].n6]);
      nombres_ranges = [];
      nombres.forEach(element => {
        nombres_ranges.push(element);        
      });           
      myOrdre(situations[k].ordre,nombres_ranges);         
      enonces.push({
        enonce:`Classer les nombres suivants dans l'ordre ${situations[k].ordre} :<br>
        $${tex_nombre(nombres[0])}$   ;   $${tex_nombre(nombres[1])}$   ;   $${tex_nombre(nombres[2])}$   ;   $${tex_nombre(nombres[3])}$   ;   $${tex_nombre(nombres[4])}$   ;   $${tex_nombre(nombres[5])}$          
        `,
        question:``,
        correction:`Les nombres rangés dans l'ordre ${texte_en_couleur_et_gras(situations[k].ordre)} :<br>
        $${tex_nombre(nombres_ranges[0])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[1])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[2])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[3])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[4])}$   ${situations[k].symbole}   $${tex_nombre(nombres_ranges[5])}$
        `
      });
     };
           
           // autant de case que d'elements dans le tableau des situations
     switch (liste_type_de_questions[i]){
      case 0 : 
        texte = `${enonces[0].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
          texte += `             `
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[0].correction}`;
        };
        break;	
      case 1 : 
        texte = `${enonces[1].enonce}`;
        if (this.beta) {
          texte += `<br>`;
          texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
          texte_corr = ``;	
        } else {
          texte_corr = `${enonces[1].correction}`;
        };
        break;			
     };			
     
     if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
       this.liste_questions.push(texte);
       this.liste_corrections.push(texte_corr);
       i++;
     }
     cpt++;	
   }
   liste_de_question_to_contenu(this);
 }
 //this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
 //this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};


/** 
 * * Exo test pour quand j'en ai besoin
 * * pas de numéro
 * * Tests
 * @author Sébastien Lozano
 */

function Tests_du_Seb(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
	this.beta = true;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Exo test pour quand j'en ai besoin";	
	this.consigne = `Consigne `;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
          //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
          type_de_questions_disponibles = [0,1];	
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
				{//case 0 -->
				},
				{//case 1 -->
				},
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Type ${k}<br>	
          ${JSON.stringify(decomp_fact_prem_array(238))}<br>			
          ${typeof decomp_fact_prem_array(238)}<br>
          ${JSON.stringify(obtenir_liste_facteurs_premiers(238))}<br>
          ${typeof obtenir_liste_facteurs_premiers(238)}<br>
					`,
					question:``,
					correction:`
					Correction type ${k}
					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          break;	
        case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          break;
			
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/** 
 * * Exprimer un rapport de longueurs sur un segment
 * * 6N22-1
 * @author Sébastien Lozano
 */

function Rapports_sur_un_segment(){
	'use strict';
	Exercice.call(this); // Héritage de la classe Exercice()
  this.beta = false;	
	this.sup=1;
	if (this.beta) {
		this.nb_questions = 2;
	} else {
		this.nb_questions = 2;
	};	

	this.titre = "Rapport de deux longueurs sur un segment";	
	this.consigne = `Sur tous les axes, les graduations sont régulières.`;	
	
	this.nb_cols = 1;
	this.nb_cols_corr = 1;
	//this.nb_questions_modifiable = false;
	sortie_html? this.spacing = 2.5 : this.spacing = 1.5; 
	sortie_html? this.spacing_corr = 2.5 : this.spacing_corr = 1.5;

	let type_de_questions_disponibles;	

	this.nouvelle_version = function(numero_de_l_exercice){
		if (this.beta) {
			type_de_questions_disponibles = [0,1];			
		} else {
       //type_de_questions_disponibles = shuffle([choice([1,3]),choice([2,4]),0]);      			
       type_de_questions_disponibles = [0,1];			
		};

		this.liste_questions = []; // Liste de questions
		this.liste_corrections = []; // Liste de questions corrigées
		
		//let liste_type_de_questions  = combinaison_listes(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées mais l'ordre diffère à chaque "cycle"
		let liste_type_de_questions = combinaison_listes_sans_changer_ordre(type_de_questions_disponibles,this.nb_questions) // Tous les types de questions sont posées --> à remettre comme ci dessus		
		
		for (let i = 0, texte, texte_corr, cpt=0; i < this.nb_questions && cpt<50; ) {
      // une fonction pour le singulier pluriel
      function sing_plur(nombre,singulier,pluriel) {
        if (nombre>1) {
          return pluriel
        } else {
          return singulier
        };
      };

      // on choisit deux entiers pour former les fractions
      let entier_max = 9;
      let m = randint(1,entier_max);
      let n = randint(1,entier_max,m); // on évite l'autre pour éviter la fraction 1
      let params = {
        xmin: -0.4,
        ymin: -2,
        xmax: 15*entier_max,// pour éviter un cadrage trop large
        ymax: 1,
        pixelsParCm: 20,
        scale: 1,
      }
      // on colle la figure à l'énoncé
      let y_enonce = -1.2;

      // on a parfois des figure trop petites ou trop grandes
      //
      let rayon;
      rayon = 5;
      // if (m<n) {
      //   rayon = 15
      // } else {
      //   rayon = 15/Math.ceil(m/n)
      // };

      //on choisit de façon aléatoire un triplet de noms pour les points
      let noms_choix = [['A','B','C'],['D','E','F'],['I','J','K'],['L','M','N']]
      let noms = noms_choix[randint(0,noms_choix.length-1)];

			// pour les situations, autant de situations que de cas dans le switch !
			let situations = [
        {//case 0 --> m < n
          m:Math.min(m,n),
          n:Math.max(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.min(m,n),Math.max(m,n)).representation(0,0,rayon,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.min(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.max(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,rayon,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,(Math.min(m,n)/Math.max(m,n))*rayon,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
        {//case 1 --> m > n
          m:Math.max(m,n),
          n:Math.min(m,n),
          rapport:`\\dfrac{${noms[0]+noms[1]}}{${noms[0]+noms[2]}}`,
          rapport_inverse:`\\dfrac{${noms[0]+noms[2]}}{${noms[0]+noms[1]}}`,          
          fig:mathalea2d(
              params,
              fraction(Math.max(m,n),Math.min(m,n)).representation(0,0,5,0,'segment','',noms[0],noms[1],1,noms[2]),             
            ),
          segment_corr1:`\\textcolor{red}{[${noms[0]+noms[2]}]}`,
          longueur_corr1:`\\textcolor{red}{${noms[0]+noms[2]}}`,
          m_color_corr:`\\textcolor{red}{${Math.max(m,n)}}`,          
          n_color_corr:`\\textcolor{blue}{${Math.min(m,n)}}`,
          fig_corr1:mathalea2d(
            params,
            fraction(Math.max(m,n),Math.min(m,n)).representation(0,y_enonce,5,0,'segment','red',noms[0],noms[1],1,noms[2]),             
          ),
          segment_corr2:`\\textcolor{blue}{[${noms[0]+noms[1]}]}`,
          longueur_corr2:`\\textcolor{blue}{${noms[0]+noms[1]}}`,
          fig_corr2:mathalea2d(
            params,
            fraction(Math.min(m,n),Math.max(m,n)).representation(0,y_enonce,(Math.max(m,n)/Math.min(m,n))*5,0,'segment','blue',noms[0],noms[2],1,noms[1]),             
          )
        },
		
			];

			let enonces = [];
			for (let k=0;k<situations.length;k++) {
				enonces.push({
					enonce:`
          Exprimer les rapports suivants $${situations[k].rapport}$ et $${situations[k].rapport_inverse}$.
          <br>
          ${situations[k].fig}     			
					`,
					question:``,
          correction:`
          Les graduations étant régulières, comptons le nombre de graduations pour chaque segment :<br>
          ${situations[k].fig_corr1}<br>
          Le segment $${situations[k].segment_corr1}$ compte $${situations[k].m_color_corr}$ ${sing_plur(situations[k].m,'graduation','graduations')}.<br>
          ${situations[k].fig_corr2}<br>
          Le segment $${situations[k].segment_corr2}$ compte $${situations[k].n_color_corr}$ ${sing_plur(situations[k].n,'graduation','graduations')}.<br><br>
          Donc $\\dfrac{${situations[k].longueur_corr2}}{${situations[k].longueur_corr1}}=\\dfrac{${situations[k].n_color_corr}}{${situations[k].m_color_corr}}$
          et $\\dfrac{${situations[k].longueur_corr1}}{${situations[k].longueur_corr2}}=\\dfrac{${situations[k].m_color_corr}}{${situations[k].n_color_corr}}$<br><br>
          $\\textbf{D'où $\\mathbf{${situations[k].rapport}=}${fraction(situations[k].n,situations[k].m).texFractionSimplifiee()}$ et $\\mathbf{${situations[k].rapport_inverse}=}${fraction(situations[k].m,situations[k].n).texFractionSimplifiee()}$}$<br>

					`
				});
			};
            
            // autant de case que d'elements dans le tableau des situations
			switch (liste_type_de_questions[i]){
				case 0 : 
					texte = `${enonces[0].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[0].correction}`;
						texte += `             `
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[0].correction}`;
					};
          			break;	
        		case 1 : 
					texte = `${enonces[1].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[1].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[1].correction}`;
					};
          			break;
        		case 2 : 
					texte = `${enonces[2].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[2].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[2].correction}`;
					};
          			break;				
        		case 3 : 
					texte = `${enonces[3].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[3].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[3].correction}`;
					};
					break;				
         		case 4 : 
					texte = `${enonces[4].enonce}`;
					if (this.beta) {
						texte += `<br>`;
						texte += `<br> =====CORRECTION======<br>${enonces[4].correction}`;
						texte_corr = ``;	
					} else {
						texte_corr = `${enonces[4].correction}`;
					};
					break;				
			};			
			
			if (this.liste_questions.indexOf(texte)==-1){ // Si la question n'a jamais été posée, on en créé une autre
				this.liste_questions.push(texte);
				this.liste_corrections.push(texte_corr);
				i++;
			}
			cpt++;	
		}
		liste_de_question_to_contenu(this);

	}
	//this.besoin_formulaire_numerique = ['Niveau de difficulté',2,"1 : Entiers naturels\n2 : Entiers relatifs"];
	//this.besoin_formulaire2_case_a_cocher = ["Avec des équations du second degré"];	
};

/**
 * @Auteur Rémi Angot
 */
function LaTeX_static() {
  // Classe parente de tous les exercices qui seront créés
  this.titre = "Fichier statique";
  this.pas_de_version_HMTL = false;
  this.consigne = "";
  this.consigne_correction = "";
  this.liste_questions = [];
  this.liste_corrections = [];
  this.contenu = "";
  this.contenu_correction = "";
  this.nb_questions = 10;
  this.nb_cols = 2;
  this.nb_cols_corr = 2;
  this.spacing = 1;
  this.spacing_corr = 1;
  this.beamer = false;
  this.sup = "Nom du fichier";

  this.consigne_modifiable = false;
  this.nb_questions_modifiable = false;
  this.nb_cols_modifiable = false;
  this.nb_cols_corr_modifiable = false;
  this.spacing_modifiable = false;
  this.spacing_corr_modifiable = false;

  this.besoin_formulaire_numerique = false; // Sinon this.besoin_formulaire_numerique = [texte,max,tooltip facultatif];
  this.besoin_formulaire_texte = [
    "url du fichier",
    "nom du fichier sans l'extension",
  ]; // Sinon this.besoin_formulaire_texte = [texte,tooltip];
  //this.besoin_formulaire2_texte = ['Code LaTeX correction','Par exemple : \\input{mon_fichier_corr}'];

  this.nouvelle_version = function (numero_de_l_exercice) {
    //this.contenu_correction = '%£tex/probleme_altitude_corr£'
    //this.contenu = '%£tex/probleme_altitude£'
    this.contenu = "%£" + this.sup + "£";
    this.contenu_correction = "%£" + this.sup + "_corr£";
    //liste_des_exercices_statiques.push(this.sup)
  };
}

// FIN DES EXERCICES
// Gestion des listes d'exercices

jQuery(document).ready(function () {
  // Ne se fait qu'après que le DOM soit entièrement défini

  // Trie par ordre alphabétique les exercices disponibles
  liste_des_exercices_disponibles = tridictionnaire(
    liste_des_exercices_disponibles
  );

  // Détermine le nombre d'exercices par niveaux
  let nombre_d_exercices_disponibles_c3 = 0;
  let nombre_d_exercices_disponibles_6 = 0;
  let nombre_d_exercices_disponibles_5 = 0;
  let nombre_d_exercices_disponibles_4 = 0;
  let nombre_d_exercices_disponibles_3 = 0;
  let nombre_d_exercices_disponibles_2 = 0;
  let nombre_d_exercices_disponibles_1 = 0;
  let nombre_d_exercices_disponibles_T = 0;
  let nombre_d_exercices_disponibles_CM = 0;
  let nombre_d_exercices_disponibles_prof = 0;
  let nombre_d_exercices_disponibles_PE = 0;
  let nombre_d_exercices_disponibles_beta = 0;
  for (var id in liste_des_exercices_disponibles) {
    if (id[0] == "c" && id[1] == "3") {
      nombre_d_exercices_disponibles_c3 += 1;
    }
    if (id[0] == 6) {
      nombre_d_exercices_disponibles_6 += 1;
    }
    if (id[0] == 5) {
      nombre_d_exercices_disponibles_5 += 1;
    }
    if (id[0] == 4) {
      nombre_d_exercices_disponibles_4 += 1;
    }
    if (id[0] == 3) {
      nombre_d_exercices_disponibles_3 += 1;
    }
    if (id[0] == 2) {
      nombre_d_exercices_disponibles_2 += 1;
    }
    if (id[0] == 1) {
      nombre_d_exercices_disponibles_1 += 1;
    }
    if (id[0] == "T") {
      nombre_d_exercices_disponibles_T += 1;
    }
    if (id[0] == "C") {
      nombre_d_exercices_disponibles_CM += 1;
    }
    if (id[0] == "P" && id[1] == "0") {
      nombre_d_exercices_disponibles_prof += 1;
    }
    if (id[0] == "P" && id[1] == "E") {
      nombre_d_exercices_disponibles_PE += 1;
    }
    if (id[0] == "b" && id[1] == "e") {
      nombre_d_exercices_disponibles_beta += 1;
    }
  }

  //
  let liste_html_des_exercices_c3 =[];
  let liste_html_des_exercices_6 = [];
  let liste_html_des_exercices_5 = [];
  let liste_html_des_exercices_4 = [];
  let liste_html_des_exercices_3 = [];
  let liste_html_des_exercices_2 = [];
  let liste_html_des_exercices_1 = [];
  let liste_html_des_exercices_T = [];
  let liste_html_des_exercices_CM = [];
  let liste_html_des_exercices_prof = [];
  let liste_html_des_exercices_PE = [];
  let liste_html_des_exercices_beta = [];

  // Affiche de la liste des exercices disponibles
  let liste_html_des_exercices =
    '<h3 class="ui block header">Exercices disponibles</h3>\n\n';

  function liste_html_des_exercices_d_un_theme(theme){
    let liste = '';
    let dictionnaire = filtreDictionnaire(liste_des_exercices_disponibles,theme);
    for (let id in dictionnaire) {
      let exercice_tmp = new dictionnaire[id]();
      liste +=
        `<span class="id_exercice">${id}</span> - <a class="lien_id_exercice" numero="${id}">${exercice_tmp.titre}</a></br>\n`;
    }
    return liste;
  }

  function liste_html_des_exercices_d_un_niveau(liste_de_themes){ // liste_de_themes = [['6N1','6N1 - Numérations et fractions niveau 1'] , [' ',' '] ]
    let liste = '';
    for (let theme of liste_de_themes){
      liste += `<h3>${theme[1]}</h3>`;
      liste += liste_html_des_exercices_d_un_theme(theme[0]);
    }
    return liste;
  }

  liste_html_des_exercices_c3 = liste_html_des_exercices_d_un_niveau([
    ['c3C1','c3C1 - Calculs niveau 1'],['c3N1','c3N1 - Numération Niveau 1']])
  
  liste_html_des_exercices_6 = liste_html_des_exercices_d_un_niveau([
    ['6C1','6C1 - Calculs niveau 1'],['6C2','6C2 - Calculs niveau 2'],['6C3','6C3 - Calculs niveau 3'],
    ['6M1','6M1 - Grandeurs et mesures niveau 1'],['6M2','6M2 - Grandeurs et mesures niveau 2'],['6M3', '6M3 - Volumes'],['6P1','6P1 - Proportionnalité'],
    ['6G1','6G1 - Géométrie niveau 1'],['6G2','6G2 - Géométrie niveau 2'],['6G3','6G3 - Géométrie niveau 3'],['6G4','6G4 - Géométrie niveau 4'],
    ['6D1','6D1 - Les durées'],
    ['6N1','6N1 - Numération et fractions niveau 1'],['6N2','6N2 - Numération et fractions niveau 2'],['6N3','6N3 - Numération et fractions niveau 3'],['6N4','6N4 - Numération et fractions niveau 4']])
    liste_html_des_exercices_5 = liste_html_des_exercices_d_un_niveau([
      ['5A1','5A1 - Arithmetique'],['5C1','5C1 - Calculs'],
      ['5G1','5G1 - Symétries'],['5G2','5G2 - Triangles'],['5G3','5G3 - Angles'],['5G4','5G4 - Parallélogrammes'],['5G5','5G5 - Espace'],
      ['5L1','5L1 - Calcul littéral'],
      ['5M1','5M1 - Périmètres et aires'],['5M2','5M2 - Volumes'],['5M3','5M3 - Durées'],
      ['5N1','5N1 - Numération et fractions niveau 1'],['5N2','5N2 - Calculs avec les fractions'],
      ['5P1','5P1 - Proportionnalité'],['5R1','5R1 - Relatifs niveau 1'],['5R2','5R2 - Relatifs niveau 2'],
      ['5S1','5S1 - Statistiques'],['5S2','5S2 - Probabilités']
    ])
    liste_html_des_exercices_4 = liste_html_des_exercices_d_un_niveau([
      ['4C1','4C1 - Relatifs'],['4C2','4C2 - Fractions'],['4C3','4C3 - Puissances'],
      ['4F1','4F1 - Notion de fonction'],
      ['4G1','4G1 - Translation et rotation'],['4G2','4G2 - Théorème de Pythagore'],['4G3','4G3 - Théorème de Thalès'],['4G4',"4G4 - Cosinus d'un angle"],['4G5',"4G5 - Espace"],
      ['4L1','4L1 - Calcul littéral'],['4L2','4L2 - Équation'],['4P1','4P1 - Proportionnalité'],['4S1','4S1 - Statistiques'],['4S2','4S2 - Probabilités'],
      ['4Algo1','4Algo1 - Algorithmique']
    ])
    liste_html_des_exercices_3 = liste_html_des_exercices_d_un_niveau([
      ['3A1','3A1 - Arithmetique'],
      ['3F1','3F1 - Généralités sur les fonctions'],['3F2','3F2 - Fonctions affines et linéaires'],
      ['3G1','3G1 - Homothétie et rotation'],['3G2','3G2 - Théorème de Thalès'],['3G3','3G3 - Trigonométrie'],['3G4',"3G4 - Espace"],
      ['3L1','3L1 - Calcul littéral'],['3P1','3P1 - Proportionnalité'],['3S1','3S1 - Statistiques'],['3S2','3S2 - Probabilités']
    ])

  for (var id in liste_des_exercices_disponibles) {
    let exercice_tmp = new liste_des_exercices_disponibles[id]();
    
    if (id[0] == 2) {
      liste_html_des_exercices_2 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 1) {
      liste_html_des_exercices_1 +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == 'T') {
      liste_html_des_exercices_T +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "E") {
      liste_html_des_exercices_PE +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "C") {
      liste_html_des_exercices_CM +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "P" && id[1] == "0") {
      liste_html_des_exercices_prof +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
    if (id[0] == "b" && id[1] == "e") {
      liste_html_des_exercices_beta +=
        '<span class="id_exercice">' +
        id +
        '</span> - <a class="lien_id_exercice" numero="' +
        id +
        '">' +
        exercice_tmp.titre +
        "</a></br>\n";
    }
  }

  // Change l'ordre des exercices suivant l'URL
  if (window.location.href.indexOf("beta") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Beta (${nombre_d_exercices_disponibles_beta})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_beta;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else if (window.location.href.indexOf("cm.html") > 0) {
    liste_html_des_exercices += `<div class="ui accordion"><div class="active title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="active content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cours Moyen(${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `</div>`;
  } else {
    liste_html_des_exercices += `<div class="ui accordion"><div class="title"><i class="dropdown icon"></i>Cours Moyen (${nombre_d_exercices_disponibles_c3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_c3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Sixième (${nombre_d_exercices_disponibles_6})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_6;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Cinquième (${nombre_d_exercices_disponibles_5})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_5;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Quatrième (${nombre_d_exercices_disponibles_4})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_4;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Troisième (${nombre_d_exercices_disponibles_3})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_3;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Seconde (${nombre_d_exercices_disponibles_2})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_2;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Première (${nombre_d_exercices_disponibles_1})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_1;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Terminale (${nombre_d_exercices_disponibles_T})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_T;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>CRPE (${nombre_d_exercices_disponibles_PE})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_PE;
    liste_html_des_exercices += `</div>`;
    liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Calcul mental (${nombre_d_exercices_disponibles_CM})</div><div class="content">`;
    liste_html_des_exercices += liste_html_des_exercices_CM;
    liste_html_des_exercices += `</div>`;
    // Ajoute les outils prof sur mathalealatex
    if (window.location.href.indexOf("mathalealatex.html") > 0) {
      liste_html_des_exercices += `<div class="title"><i class="dropdown icon"></i>Outils pour le professeur (${nombre_d_exercices_disponibles_prof})</div><div class="content">`;
      liste_html_des_exercices += liste_html_des_exercices_prof;
      liste_html_des_exercices += `</div>`;
    }
    liste_html_des_exercices += `</div>`;
  }

  $("#liste_des_exercices").html(liste_html_des_exercices);

  // Gère le clic sur un exercice de la liste
  $(".lien_id_exercice").click(function () {
    let numero = $(this).attr("numero");
    if ($("#choix_des_exercices").val() == "") {
      $("#choix_des_exercices").val($("#choix_des_exercices").val() + numero);
    } else {
      $("#choix_des_exercices").val(
        $("#choix_des_exercices").val() + "," + numero
      );
    }
    liste_des_exercices = $("#choix_des_exercices")
      .val()
      .replace(/\s/g, "")
      .replace(";", ",")
      .split(",");
    mise_a_jour_de_la_liste_d_exercice();

    // Actualise KaTeX pour les titres d'exercices utilisant LaTeX
    renderMathInElement(document.body, {
      delimiters: [
        { left: "\\[", right: "\\]", display: true },
        { left: "$", right: "$", display: false },
      ],
      throwOnError: true,
      errorColor: "#CC0000",
      strict: "warn",
      trust: false,
    });
  });
});

