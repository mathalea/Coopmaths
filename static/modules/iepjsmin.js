var iep=function(i){var r={};function n(t){if(r[t]){return r[t].exports}var e=r[t]={i:t,l:false,exports:{}};i[t].call(e.exports,e,e.exports,n);e.l=true;return e.exports}n.m=i;n.c=r;n.d=function(t,e,i){if(!n.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:i})}};n.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="https://instrumenpoche.sesamath.net/iep/";return n(n.s=104)}([function(t,e,i){var r=i(6);var n=i(124);r({global:true,forced:parseFloat!=n},{parseFloat:n})},function(t,e,i){i(131);i(33);i(56);i(0);i(44);i(45);i(132);i(135);i(46);i(89);i(23);i(137);i(139);i(140);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var m={svgsn:"http://www.w3.org/2000/svg",caracteresGrecs:["alpha","beta","gamma","delta","epsilon","zeta","eta"," theta","kappa","lambda","mu","nu","xi","pi","rho","sigma","tau","phi","chi","psi","omega","Gamma","Delta","Xi","Pi","Sigma","Phi","Chi","Psi","Omega"],caracteresGrecsUtf8:["α","β","γ","δ","ε","ζ","η","θ","κ","λ","μ","ν","ξ","π","ρ","σ","τ","φ","χ","ψ","ω","Γ","Δ","Ξ","Π","Σ","Φ","Χ","Ψ","Ω"],convDegRad:Math.PI/180,convRadDeg:180/Math.PI,sin30:.5,zero:function t(e){return Math.abs(e)<1e-9},zeroAngle:function t(e){return Math.abs(e)<1e-7},mesurePrincDeg:function t(e){var i=Math.floor((e+180)/360);var r=e-360*i;if(r===-180)r=180;return r},parseXMLDoc:function t(e){var i,r;if(window.DOMParser){i=new DOMParser;r=i.parseFromString(e,"text/xml")}else{r=new ActiveXObject("Microsoft.XMLDOM");r.async=false;r.loadXML(e)}return r},estInstrument:function t(e){return e==="compas"||e==="compasLeve"||e==="crayon"||e==="equerre"||e==="rapporteur"||e==="regle"||e==="requerre"},indiceFinBalise:function t(e){var i,r,n;var s=false;if(e.indexOf("<font")===0){r="</font>";s=true}else{n=e.indexOf(">");if(n===-1)return e.length;i=e.substring(0,n+1);r=i.substring(0,1)+"/"+i.substring(1)}var a=e.indexOf(r);if(a===-1){if(s){var o=e.indexOf("<font",5);if(o!==-1)return o}return-1}else return a+r.length},analyseExposantOuIndice:function t(e){var i=e.trim();var r={};var n=i.indexOf(",");var s=i.indexOf(")");r.erreur=n===-1||s===-1;if(r.erreur){r.texte="";return r}r.operande=i.substring(3,n);r.exposant=i.substring(n+1,s);r.texte=i.substring(s+1);return r},indiceParentheseFermante:function t(e,i){var r;var n;var s=1;r=i+1;while(r<e.length){n=e.charAt(r);if(n==="("){s++}else{if(n===")"){s--}}if(s===0)break;r++}if(s===0)return r;else return-1},chiffre:function t(e){var i="0123456789";return i.indexOf(e)!==-1},valeur_approchee:function t(e,i){var r=Math.pow(10,i);return Math.round(e/r)*r},mettre_en_pixels:function t(e,i,r,n,s){var a=(n-s)/(i-r);var o=n-a*i;return a*e+o},elimineDoublonsXML:function t(e){var i;var r;var n;var s;var a;var o="";var u=["objet","mouvement","vitesse","tempo","abscisse","ordonnee","id","couleur","pointille","echelle","angle","cible","texte","ecrire","rotation","translation","epaisseur","opacite","masquer","montrer","crayon","equerre","regle","compas","reglequerre","sens","hauteur","largeur","haut","gauche","Xmin","Ymin","Xmax","yMax","Xgrad","Ygrad","image","police","taille","ordonnee_bas_droite","abscisse_bas_droite","ordonnee_haut_gauche","abscisse_haut_gauche"];var c=e.split(/<action/gi);for(i=0;i<c.length;i++){n=c[i];for(r=0;r<u.length;r++){var l=new RegExp(" "+u[r]+'[^\\w ]*= *"[\\w]*"',"i");s=n.search(l);if(s!==-1){a=n.substring(s+1).search(l);if(a!==-1){n=n.replace(l,"")}}}o+=i===0?n:"<action"+n}return o},infoBalise:function t(e,i,r,n,s,a){this.bold=e;this.italic=i;this.underline=r;this.couleur=n;this.fontface=s;this.taille=a},remplaceAccentsHtml:function t(e){var i=["&agrave;","&acirc;","&aelig;","&egrave;","&eacute;","&ecirc;","&icirc;","&ocirc;","&ouml;","&oslash;","&Oslash;","&ugrave;","&ucirc;","&apos;"];var r=["à","â","æ","è","é","ê","î","ô","ö","ø","Ø","ù","û","'"];var n;for(n=0;n<i.length;n++){e=e.replace(new RegExp(i[n],"g"),r[n])}return e},remplaceBalises:function t(e){e=e.replace(/<B>/g,"<b>");e=e.replace(/<\/B>/g,"</b>");e=e.replace(/<I>/g,"<i>");e=e.replace(/<\/I>/g,"</i>");e=e.replace(/<U>/g,"<u>");e=e.replace(/<\/U>/g,"</u>");e=e.replace(/£lt£i£gt£/gi,"<i>");e=e.replace(/£i£/gi,"<i>");e=e.replace(new RegExp("£lt£/i£gt£","gi"),"</i>");e=e.replace(new RegExp("£/i£","gi"),"</i>");e=e.replace(/£lt£b£gt£/gi,"<b>");e=e.replace(/£b£/gi,"<b>");e=e.replace(new RegExp("£lt£/b£gt£","gi"),"</b>");e=e.replace(new RegExp("£/b£","gi"),"</b>");e=e.replace(/£lt£u£gt£/gi,"<u>");e=e.replace(/£u£/gi,"<u>");e=e.replace(new RegExp("£lt£/u£gt£","gi"),"</u>");e=e.replace(new RegExp("£/u£","gi"),"</u>");e=e.replace(/£lt£br£gt£/gi,"<br>");e=e.replace(new RegExp("£lt£br/£gt£","gi"),"<br>");e=e.replace(/£br£/gi,"<br>");e=e.replace(new RegExp("£br/£","gi"),"<br>");e=e.replace(/£lt£font/gi,"<font");e=e.replace(new RegExp("£lt£/font£gt£","gi"),"</font>");e=e.replace(/£lt£bold£gt£/gi,"<b>");e=e.replace(new RegExp("£lt£/bold£gt£","gi"),"</b>");e=e.replace(/£lt£/gi,"<");e=e.replace(/£gt£/gi,">");e=e.replace(/£inferieurstrict£/gi,"<");e=e.replace(/£superieurstrict£/gi,">");e=e.replace(/£guillemet£/gi,'"');return e},remplaceCarSpe:function t(e){var i;var r;var n;var s=e;if(e.indexOf("£")!==-1){var a=["alpha2","plus","moins","fois","divise","petitf","petitebarre","grandebarre","prime","seconde","puceronde","grandC","euler","petitg","petith","Ironde","Lronde","lronde","grandN","Pronde","grandQ","Rronde","grandR","grandZ","Eronde","Fronde","Nronde","flecheG","flecheH","flecheD","flecheB","flecheDG","flecheGD","flecheHB","flecheBH","croissant","decroissant","alaligneadroite","alaligneagauche","doubleflecheG","doubleflecheD","doubleflecheDG","doubleflecheGD","flecheGbarre","flecheDbarre","flecheGcreuse","flecheHcreuse","flecheDcreuse","flecheBcreuse","qqsoit","pourtout","quelquesoit","complement","differentielpartiel","ilexiste","ilnexistepas","vide","nabla","appartienta","nappartientpasa","contient","petitcontient","grandproduit","grandcoproduit","grandesomme","petitebarrefine","moinsouplus","antislash","asterisque","racine","proportionnela","infini","angle","anglespherique","divise","nedivisepas","parallelea","nestpasparallelea","etlogique","oulogique","inter","intersection","union","integrale","doubleintegrale","tripleintegrale","integralecurviligne","integralesurfacique","integralevolumique","egaleasymptotiquea","environdroit","environegala","environ","egalpardefinition","differentde","identiquea","inferieura","superieura","inclusdans","contient","nestpasinclusdans","necontientpas","sommedirecte","differencedirecte","produittensoriel","divisiondirecte","produitdirect","top","perpendiculairea","antecedentde","imagede","angledroitarc","point","pv"];var o=["α","+","-","×","÷","f","–","—","'",'"',"•","ℂ","ℂ","ℊ","ℏ","ℑ","ℒ","ℓ","ℕ","℘","ℚ","ℜ","ℝ","ℤ","ℰ","ℱ","ℵ","←","↑","→","↓","↔","↔","↕","↕","↗","↘","↳","↵","⇐","⇒","⇔","⇔","⇤","⇥","⇦","⇧","⇨","⇩","∀","∀","∀","∁","∂","∃","∄","∅","∇","∈","∉","∋","∍","∏","∐","∑","−","∓","∖","∗","√","∝","∞","∡","∢","∣","∤","//","∦","∧","∨","∩","∩","∪","∫","∬","∭","∮","∯","∰","≃","≃","≅","≈","≝","≠","≡","≤","≥","⊂","⊃","⊄","⊅","⊕","⊖","⊗","⊘","⊙","⊤","⊥","⊶","⊷","⊾","⋅",";"];for(i=0;i<a.length;i++){r="£"+a[i]+"£";n=o[i];if(s.indexOf(r)!==-1)s=s.replace(new RegExp(r,"gi"),n)}}return s},accoladeFermante:function t(e,i){var r,n,s;s=1;r=i+1;while(r<e.length){n=e.charAt(r);if(n==="{"){s++}else{if(n==="}"){s--}}if(s===0)break;r++}if(s===0)return r;else return-1},contientBaliseLaTeX:function t(e){return e.indexOf("\\frac")!==-1||e.indexOf("\\sqrt")!==-1||e.indexOf("}^{")!==-1||e.indexOf("}_{")!==-1||e.indexOf("\\widehat{")!==-1||e.indexOf("\\left[")!==-1||e.indexOf("\\left(")!==-1||e.indexOf("\\left|")!==-1||e.indexOf("\\left\\|")!==-1||e.indexOf("\\overrightarrow{")!==-1||e.indexOf("\\text{")!==-1}};m.cos30=Math.cos(30*m.convDegRad);m.couleur=function(t){var e,i,r;var n=["noir","rouge","vert","bleu","blanc","gris","darkorange"];var s=["black","red","green","blue","white","grey","maroon"];if(t==="0")return"black";for(e=0;e<n.length;e++){if(n[e]===t)return s[e]}if(t.substring(0,2)==="0x"){i="000000"+t.substring(2);r=i.substring(i.length-6);t="#"+r}else{if(m.chiffre(t.charAt(0))){t=parseFloat(t).toString(16);i="000000"+t;r=i.substring(i.length-6);t="#"+r}else{if(t.charAt(0)==="#"){i="000000"+t.substring(1);r=i.substring(i.length-6);t="#"+r}}}return t};m.colineaires=function(t,e){var i=t.norme();var r=e.norme();if(m.zero(i)||m.zero(r))return true;else return m.zero((t.x*e.y-t.y*e.x)/i/r)};m.colineairesMemeSens=function(t,e){return m.colineaires(t,e)&&t.x*e.x+t.y*e.y>=0};m.indiceVirgule=function(t,e,i){var r;var n;var s=0;var a=e;while(a<t.length){r=t.charAt(a);if(r==="("){n=m.indiceParentheseFermante(t,a);if(n===-1)return-1;else a=n}else{if(r===",")s++;if(s===i)return a}a++}return-1};m.determiner_graduations=function(t,e,i){var r;if(e*t<0){r=-Math.floor(-t/i)*i}else if(Math.ceil(Math.log(Math.abs(t))/Math.LN10)!==Math.ceil(Math.log(Math.abs(e))/Math.LN10)){if(t<0){r=-Math.pow(10,Math.floor(Math.log(Math.abs(t))/Math.LN10))}else{r=Math.pow(10,Math.ceil(Math.log(Math.abs(t))/Math.LN10))}r=r-Math.floor((r-t)/i)*i}else{r=m.valeur_approchee(t,Math.floor(Math.log(i)/Math.LN10));if(r<t){r+=i}}return r};m.traiteBalise=function(t,e,i,r,n){if(t==="")return;var s;var a;var o;var u;var c;var l;var h;var f;var d;var p=t.search(/<b>|<i>|<u>|<font/);var v=document.createElementNS(m.svgsn,"tspan");v.setAttribute("pointer-events","none");if(p===-1||p>0){s="";if(e.couleur)s+="fill:"+e.couleur+";";if(e.bold)s+="font-weight:bold;";if(e.italic)s+="font-style:italic;";if(e.underline)s+="text-decoration:underline;";if(e.fontface!=="")s+="font-family:"+e.fontface+";";else s+='font-family: "Times New Roman", Times, serif;';s+="font-size:"+e.taille+"px;";v.setAttribute("style",s);if(r){v.setAttribute("x",0);r=false}v.setAttribute("y",n);var g=p===-1?t:t.substring(0,p);v.appendChild(document.createTextNode(g));i.appendChild(v);if(p>0)m.traiteBalise(t.substring(p),e,i,r,n)}else{if(t.indexOf("<b>")===0){d=new m.infoBalise(true,e.italic,e.underline,e.couleur,e.fontface);a=m.indiceFinBalise(t);if(a===-1)m.traiteBalise(t.substring(3),d,i,r,n);else m.traiteBalise(t.substring(3,a-4),d,i,r,n)}else{if(t.indexOf("<i>")===0){d=new m.infoBalise(e.bold,true,e.underline,e.couleur,e.fontface);a=m.indiceFinBalise(t);if(a===-1)m.traiteBalise(t.substring(3),d,i,r,n);else m.traiteBalise(t.substring(3,a-4),d,i,r,n)}else{if(t.indexOf("<u>")===0){d=new m.infoBalise(e.bold,e.italic,true,e.couleur,e.fontface);a=m.indiceFinBalise(t);if(a===-1)m.traiteBalise(t.substring(3),d,i,r,n);else m.traiteBalise(t.substring(3,a-4),d,i,r,n)}else{if(t.indexOf("<font")===0){a=m.indiceFinBalise(t);if(a===-1)a=t.length;o=t.indexOf('face="');if(o!==-1){u=t.indexOf('"',o+6);if(u!==-1){c=t.substring(o+6,u)}else c=""}else c="";l="";o=t.indexOf('couleur="');if(o!==-1){u=t.indexOf('"',o+9);if(u!==-1){l=m.couleur(t.substring(o+9,u))}}else{o=t.indexOf('color="');if(o!==-1){u=t.indexOf('"',o+7);if(u!==-1){l=m.couleur(t.substring(o+7,u))}}}o=t.indexOf('size="');if(o!==-1){u=t.indexOf('"',o+6);if(u!==-1){h=t.substring(o+6,u)}else h=e.taille}d=new m.infoBalise(e.bold,e.italic,e.underline,l,c,h);f=t.indexOf(">");if(t.search(new RegExp("</font>","i"))!==-1){m.traiteBalise(t.substring(f+1,a-7),d,i,r,n)}else m.traiteBalise(t.substring(f+1),d,i,r,n)}}}}}};m.necessiteLatex=function(e){if(["a","c","d","f","g","n","p","r","s","u","v"].some(function(t){return e.includes("£".concat(t,"("))}))return true;var t,i,r;var n=e;while((t=n.search(/£e\(|£i\(/g))!==-1){i=m.indiceParentheseFermante(n,t+3);if(i===-1)i=n.length;r=n.substring(t,i);if(r.search(/£e\(|£i\(£lt£font/g)!==-1)return true;if(i===n.length)return false;else n=r.substring(i+1)}n=e;while((t=n.search(/£lt£font/g))!==-1){i=m.indiceFinBalise(n.substring(t));if(i===-1)i=n.length;else i+=t;r=n.substring(t,i);if(r.search(/£e\(|£i\(/g)!==-1)return true;if(i===n.length)return false;else n=r.substring(i+1)}return false};m.getMaths=function(t,e){var i,r,n,s,a,o,u,c,l,h,f,d,p;var v=t;if(v==="")return"";while((i=v.indexOf("<font"))!==-1){c=null;u=v.substring(i);r=m.indiceFinBalise(u);s=u.indexOf('couleur="');if(s!==-1){a=u.indexOf('"',s+9);if(a!==-1)c=m.couleur(u.substring(s+9,a))}else{s=u.indexOf('color="');if(s!==-1){a=u.indexOf('"',s+7);if(a!==-1)c=m.couleur(u.substring(s+7,a))}}if(c!=null){o=i+u.indexOf(">")+1;if(r===-1){return m.getMaths(v.substring(0,i)+"\\textcolor{"+c+"}{"+v.substring(o)+"}",e)}else{r+=i;return m.getMaths(v.substring(0,i)+"\\textcolor{"+c+"}{"+v.substring(o,r-7)+"}"+v.substring(r),e)}}else{o=i+u.indexOf(">")+1;if(r===-1)return m.getMaths(v.substring(0,i)+v.substring(o),e);else{r+=i;return m.getMaths(v.substring(0,i)+v.substring(o,r-7)+v.substring(r),e)}}}while((i=v.indexOf("£u("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(v.substring(0,i),e)+"\\unicode{x"+v.substring(i+3,r)+"}"+m.getMaths(v.substring(r+1),e)}while((i=v.indexOf("£f("))!==-1){n=m.indiceVirgule(v,i+3,1);r=m.indiceParentheseFermante(v,i+2);if(n===-1||r===-1||n>r)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\frac{"+m.getMaths(v.substring(i+3,n),false)+"}{"+m.getMaths(v.substring(n+1,r),false)+"}"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£r("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\sqrt{"+m.getMaths(v.substring(i+3,r),false)+"}"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£a("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\widehat{"+m.getMaths(v.substring(i+3,r),true)+"}"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£g("))!==-1){h=m.indiceVirgule(v,i+3,1);f=m.indiceVirgule(v,i+3,2);d=m.indiceVirgule(v,i+3,3);r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\int_{"+m.getMaths(v.substring(f+1,d),false)+"}^{"+m.getMaths(v.substring(d+1,r),false)+"}"+m.getMaths(v.substring(i+3,h),false)+" d"+m.getMaths(v.substring(h+1,f),false)+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£c("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(v.substring(0,i),e)+"\\left["+m.getMaths(v.substring(i+3,r),e)+"\\right]"+m.getMaths(v.substring(r+1),e)}while((i=v.indexOf("£p("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\left("+m.getMaths(v.substring(i+3,r),e)+"\\right)"+m.getMaths(v.substring(r+1),e))}while((i=v.indexOf("£d("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\left|"+m.getMaths(v.substring(i+3,r),false)+"\\right|"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£n("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\left\\|"+m.getMaths(v.substring(i+3,r),false)+"\\right\\|"+m.getMaths(v.substring(r+1),e))}while((i=v.indexOf("£i("))!==-1){n=m.indiceVirgule(v,i+3,1);r=m.indiceParentheseFermante(v,i+2);if(n===-1||r===-1||n>r)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"{"+m.getMaths(v.substring(i+3,n),false)+"}_{"+m.getMaths(v.substring(n+1,r),false)+"}"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("£e("))!==-1){n=m.indiceVirgule(v,i+3,1);r=m.indiceParentheseFermante(v,i+2);if(n===-1||r===-1||n>r)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"{"+m.getMaths(v.substring(i+3,n),false)+"}^{"+m.getMaths(v.substring(n+1,r),false)+"}"+m.getMaths(v.substring(r+1),e))}while((i=v.indexOf("£v("))!==-1){r=m.indiceParentheseFermante(v,i+2);if(r===-1)return v;return m.getMaths(m.getMaths(v.substring(0,i),e)+"\\overrightarrow{"+m.getMaths(v.substring(i+3,r),false)+"}"+m.getMaths(v.substring(r+1),e),e)}while((i=v.indexOf("<u>"))!==-1){r=m.indiceFinBalise(v.substring(i));if(r===-1)return v;else r+=i;return m.getMaths(v.substring(0,i),e)+"\\underline{"+m.getMaths(v.substring(i+3,r-4),true)+"}"+m.getMaths(v.substring(r),e)}while((i=v.indexOf("<i>"))!==-1){r=m.indiceFinBalise(v.substring(i));if(r===-1){return m.getMaths(v.substring(0,i),e)+"\\textit{"+m.getMaths(v.substring(i+3),false)+"}"}else{r+=i;return m.getMaths(v.substring(0,i),e)+"\\textit{"+m.getMaths(v.substring(i+3,r-4),false)+"}"+m.getMaths(v.substring(r),e)}}while((i=v.indexOf("<b>"))!==-1){r=m.indiceFinBalise(v.substring(i));if(r===-1){return m.getMaths(v.substring(0,i),e)+"\\textbf{"+m.getMaths(v.substring(i+3),false)+"}"}else{r+=i;return m.getMaths(v.substring(0,i),e)+"\\textbf{"+m.getMaths(v.substring(i+3,r-4),false)+"}"+m.getMaths(v.substring(r),e)}}if(e){p=v.charAt(0);if(p===")"||p===","||p==="}")return p+m.getMaths(v.substring(1),e);else{if(m.contientBaliseLaTeX(v))return v;else{i=v.indexOf("\\textcolor{");if(i!==-1){l="";u=v;while((i=u.indexOf("\\textcolor{"))!==-1){s=u.indexOf("}{");r=m.accoladeFermante(u,s+1);if(r===-1){if(i===0){if(s+2!==u.length)l+=u.substring(0,s+2)+"\\text{"+u.substring(s+2)+"}";else l+=u;u=""}else{if(s+2!==u.length){l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2)+"\\text{"+u.substring(s+2)+"}"}else l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2);u=""}}else{if(i===0){l+=u.substring(0,r+1);if(r<u.length-1)u=u.substring(r+1);else u=""}else{l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2)+"\\text{"+u.substring(s+2,r+1)+"}";if(r<u.length-1)u=u.substring(r+1);else u=""}}}if(u==="")return l;else return l+"\\text{"+u+"}"}else{var g=0;var b=0;while(v.charAt(b)===" "){g++;b++}return"~".repeat(g)+"\\text{"+v.substring(b)+"}"}}}}else return v};m.getMathsForName=function(t,e){var i,r,n,s,a,o,u,c,l,h;var f=t;if(f==="")return"";while((i=f.indexOf("<font"))!==-1){c=null;u=f.substring(i);r=m.indiceFinBalise(u);s=u.indexOf('couleur="');if(s!==-1){a=u.indexOf('"',s+9);if(a!==-1)c=m.couleur(u.substring(s+9,a))}else{s=u.indexOf('color="');if(s!==-1){a=u.indexOf('"',s+7);if(a!==-1)c=m.couleur(u.substring(s+7,a))}}if(c!==null){o=i+u.indexOf(">")+1;if(r===-1){return m.getMathsForName(f.substring(0,i)+"\\textcolor{"+c+"}{"+f.substring(o)+"}",e)}else{r+=i;return m.getMathsForName(f.substring(0,i)+"\\textcolor{"+c+"}{"+f.substring(o,r-7)+"}"+f.substring(r),e)}}else{o=i+u.indexOf(">")+1;if(r===-1)return m.getMathsForName(f.substring(0,i)+f.substring(o),e);else{r+=i;return m.getMathsForName(f.substring(0,i)+f.substring(o,r-7)+f.substring(r),e)}}}while((i=f.indexOf("£u("))!==-1){r=m.indiceParentheseFermante(f,i+2);if(r===-1)return f;return m.getMathsForName(f.substring(0,i),e)+"\\unicode{x"+f.substring(i+3,r)+"}"+m.getMathsForName(f.substring(r+1),e)}while((i=f.indexOf("£r("))!==-1){r=m.indiceParentheseFermante(f,i+2);if(r===-1)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"\\sqrt{"+m.getMathsForName(f.substring(i+3,r),false)+"}"+m.getMathsForName(f.substring(r+1),e),e)}while((i=f.indexOf("£d("))!==-1){r=m.indiceParentheseFermante(f,i+2);if(r===-1)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"\\left|"+m.getMathsForName(f.substring(i+3,r),false)+"\\right|"+m.getMathsForName(f.substring(r+1),e),e)}while((i=f.indexOf("£n("))!==-1){r=m.indiceParentheseFermante(f,i+2);if(r===-1)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"\\left\\|"+m.getMathsForName(f.substring(i+3,r),false)+"\\right\\|"+m.getMathsForName(f.substring(r+1),e))}while((i=f.indexOf("£i("))!==-1){n=m.indiceVirgule(f,i+3,1);r=m.indiceParentheseFermante(f,i+2);if(n===-1||r===-1||n>r)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"{"+m.getMathsForName(f.substring(i+3,n),true)+"}_{"+m.getMathsForName(f.substring(n+1,r),false)+"}"+m.getMathsForName(f.substring(r+1),e),e)}while((i=f.indexOf("£e("))!==-1){n=m.indiceVirgule(f,i+3,1);r=m.indiceParentheseFermante(f,i+2);if(n===-1||r===-1||n>r)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"{"+m.getMathsForName(f.substring(i+3,n),true)+"}^{"+m.getMathsForName(f.substring(n+1,r),false)+"}"+m.getMathsForName(f.substring(r+1),e))}while((i=f.indexOf("£v("))!==-1){r=m.indiceParentheseFermante(f,i+2);if(r===-1)return f;return m.getMathsForName(m.getMathsForName(f.substring(0,i),e)+"\\overrightarrow{"+m.getMathsForName(f.substring(i+3,r),false)+"}"+m.getMathsForName(f.substring(r+1),e),e)}while((i=f.indexOf("<u>"))!==-1){r=m.indiceFinBalise(f.substring(i));if(r===-1)return f;else r+=i;return m.getMathsForName(f.substring(0,i),e)+"\\underline{"+m.getMathsForName(f.substring(i+3,r-4),true)+"}"+m.getMathsForName(f.substring(r),e)}while((i=f.indexOf("<i>"))!==-1){r=m.indiceFinBalise(f.substring(i));if(r===-1){return m.getMathsForName(f.substring(0,i),e)+"\\textit{"+m.getMathsForName(f.substring(i+3),false)+"}"}else{r+=i;return m.getMathsForName(f.substring(0,i),e)+"\\textit{"+m.getMathsForName(f.substring(i+3,r-4),false)+"}"+m.getMathsForName(f.substring(r),e)}}while((i=f.indexOf("<b>"))!==-1){r=m.indiceFinBalise(f.substring(i));if(r===-1){return m.getMathsForName(f.substring(0,i),e)+"\\textbf{"+m.getMathsForName(f.substring(i+3),false)+"}"}else{r+=i;return m.getMathsForName(f.substring(0,i),e)+"\\textbf{"+m.getMathsForName(f.substring(i+3,r-4),false)+"}"+m.getMathsForName(f.substring(r),e)}}if(e){if(m.contientBaliseLaTeX(f))return f;else{i=f.indexOf("\\textcolor{");if(i!==-1){l="";u=f;while((i=u.indexOf("\\textcolor{"))!==-1){s=u.indexOf("}{");r=m.accoladeFermante(u,s+1);if(r===-1){if(i===0){if(s+2!==u.length)l+=u.substring(0,s+2)+"\\text{"+u.substring(s+2)+"}";else l+=u;u=""}else{if(s+2!==u.length){l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2)+"\\text{"+u.substring(s+2)+"}"}else l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2);u=""}}else{if(i===0){l+=u.substring(0,r+1);if(r<u.length-1)u=u.substring(r+1);else u=""}else{l+="\\text{"+u.substring(0,i)+"}"+u.substring(i,s+2)+"\\text{"+u.substring(s+2,r+1)+"}";if(r<u.length-1)u=u.substring(r+1);else u=""}}}if(u==="")return l;else return l+"\\text{"+u+"}"}else{h=f.charAt(0);if(h===")"||h===","||h==="}")return f;else{var d="";while(f.indexOf(" ")===0){d+="~";f=f.substring(1)}return d+"\\text{"+f+"}"}}}}else return f};m.traiteAccents=function(t){var e,i,r,n,s,a,o;var u="éèàùâêô";var c=["acute","grave","grave","grave","hat","hat","hat"];var l="eeauaeo";t=t.replace(/£virg£/gi,",");t=t.replace(/£virgule£/gi,",");a=false;for(r=0;r<u.length;r++){a=a||t.indexOf(u.charAt(r))!==0}if(!a||t.indexOf("\\text{")===-1)return t;var h="";var f=0;while((o=t.indexOf("\\text{",f))!==-1&&f<t.length){e=m.accoladeFermante(t,o+6);if(e===-1)break;h=h+t.substring(f,o);i=t.substring(o+6,e+1);for(r=0;r<u.length;r++){n=u.charAt(r);s=l.charAt(r);if(i.charAt(0)===n)i="\\"+c[r]+"{"+s+"}"+"\\text{"+i.substring(1);if(i.charAt(i.length-1)===n){i=i.substring(0,i.length-1)+"\\"+c[r]+"{"+s+"}"}i=i.replace(new RegExp(n,"g"),"}\\"+c[r]+"{"+s+"} \\text{")}a=false;for(r=0;r<u.length;r++){a=a||i.indexOf("\\"+c[r])===0}if(a)h=h+i;else h=h+"\\text{"+i;f=e+1}if(f<t.length)h=h+t.substring(f);return h};t.exports=m},function(r,t,e){(function(t){var e="object";var i=function(t){return t&&t.Math==Math&&t};r.exports=i(typeof globalThis==e&&globalThis)||i(typeof window==e&&window)||i(typeof self==e&&self)||i(typeof t==e&&t)||Function("return this")()}).call(this,e(109))},function(t,e,i){i(22);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */t.exports=r;function r(t,e){if(arguments.length===0)return;this.doc=t;this.tempo=e===null?null:parseInt(e)*100;this.isReady=false}r.prototype.setReady=function(){this.isReady=true};r.prototype.creegElement=function(){};r.prototype.actionVisible=function(){return true}},function(t,e,i){var r=i(2);var n=i(27);var s=i(49);var a=i(70);var o=r.Symbol;var u=n("wks");t.exports=function(t){return u[t]||(u[t]=a&&o[t]||(a?o:s)("Symbol."+t))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return true}}},function(t,e,i){var h=i(2);var f=i(24).f;var d=i(10);var p=i(15);var v=i(48);var g=i(67);var b=i(38);t.exports=function(t,e){var i=t.target;var r=t.global;var n=t.stat;var s,a,o,u,c,l;if(r){a=h}else if(n){a=h[i]||v(i,{})}else{a=(h[i]||{}).prototype}if(a)for(o in e){c=e[o];if(t.noTargetGet){l=f(a,o);u=l&&l.value}else u=a[o];s=b(r?o:i+(n?".":"#")+o,t.forced);if(!s&&u!==undefined){if(typeof c===typeof u)continue;g(c,u)}if(t.sham||u&&u.sham){d(c,"sham",true)}p(a,o,c,t)}}},function(t,e,i){var r=i(8);t.exports=function(t){if(!r(t)){throw TypeError(String(t)+" is not an object")}return t}},function(t,e){t.exports=function(t){return typeof t==="object"?t!==null:typeof t==="function"}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(13);var n=i(11);var s=i(25);t.exports=r?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){t[e]=i;return t}},function(t,e,i){var r=i(13);var n=i(65);var s=i(7);var a=i(26);var o=Object.defineProperty;e.f=r?o:function t(e,i,r){s(e);i=a(i,true);s(r);if(n)try{return o(e,i,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");if("value"in r)e[i]=r.value;return e}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(1);t.exports=n;function n(t,e,i,r){if(arguments.length>2){this.x=i-t;this.y=r-e}else{this.x=t;this.y=e}}n.prototype.presqueNul=function(){return r.zero(this.x)&&r.zero(this.y)};n.prototype.norme=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};n.prototype.vecteurColineaire=function(t){var e=this.norme();return new n(this.x/e*t,this.y/e*t)};n.prototype.tourne=function(t){var e=Math.cos(t*r.convDegRad);var i=Math.sin(t*r.convDegRad);return new n(e*this.x-i*this.y,e*this.y+i*this.x)};n.prototype.angle=function(){var t;if(this.x===0&&this.y===0)return 0;else{if(this.x===0){if(this.y>0){t=3*Math.PI/2}else t=Math.PI/2}else{if(this.x>=0){t=Math.atan(-this.y/this.x)}else{t=Math.PI-Math.atan(this.y/this.x)}if(t<0)t=t+2*Math.PI}}return t*r.convRadDeg}},function(t,e,i){var r=i(5);t.exports=!r(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var o=i(2);var r=i(27);var u=i(10);var c=i(9);var l=i(48);var n=i(66);var s=i(29);var a=s.get;var h=s.enforce;var f=String(n).split("toString");r("inspectSource",function(t){return n.call(t)});(t.exports=function(t,e,i,r){var n=r?!!r.unsafe:false;var s=r?!!r.enumerable:false;var a=r?!!r.noTargetGet:false;if(typeof i=="function"){if(typeof e=="string"&&!c(i,"name"))u(i,"name",e);h(i).source=f.join(typeof e=="string"?e:"")}if(t===o){if(s)t[e]=i;else l(e,i);return}else if(!n){delete t[e]}else if(!a&&t[e]){s=true}if(s)t[e]=i;else u(t,e,i)})(Function.prototype,"toString",function t(){return typeof this=="function"&&a(this).source||n.call(this)})},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){i(0);i(22);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(12);var a=i(1);t.exports=r;function r(t,e,i){this.doc=t;this.id=e;this.couleur=i;this.zoomfactor=1;this.visible=false;this.objet="trait"}r.prototype.positionne=function(){};r.prototype.initialisePosition=function(){};r.prototype.translate=function(t,e){this.setPosition(t,e,this.angle,this.zoomfactor)};r.prototype.tourne=function(t){this.setPosition(this.x,this.y,t,this.zoomfactor)};r.prototype.zoom=function(t){this.zoomfactor=t;this.setPosition(this.x,this.y,this.angle,t)};r.prototype.montre=function(t){this.visible=t;if(this.g)this.g.setAttribute("visibility",t?"visible":"hidden")};r.prototype.lanceAnimationTranslation=function(t,e,i){this.xfin=t;this.yfin=e;this.pix=Math.abs(i/4);var r=new s(this.x,this.y,t,e);this.dist=r.norme();if(this.dist===0){this.translate(this.xfin,this.yfin);this.doc.actionSuivante();return}this.vect=r.vecteurColineaire(this.pix);var n=this;this.timer=setInterval(function(){n.actionPourTranslation()},25)};r.prototype.actionPourTranslation=function(){var t=this.x+this.vect.x;var e=this.y+this.vect.y;var i=new s(t,e,this.xfin,this.yfin);var r=i.norme();if(r>this.dist||!this.doc.animationEnCours){this.translate(this.xfin,this.yfin);clearInterval(this.timer);this.doc.actionSuivante()}else{this.dist=r;this.translate(t,e)}};r.prototype.lanceAnimationRotation=function(t,e){var i=a.mesurePrincDeg(this.angle);var r=a.mesurePrincDeg(t);if(Math.abs(r-i)>180){if(r>i)r=r-360;else r=r+360}this.anglefin=r;this.angle=i;this.pasdeg=e*2/3;this.pasdeg*=t>=this.angle?1:-1;this.distang=Math.abs(t-this.angle);var n=this;this.timer=setInterval(function(){n.actionPourRotation()},25)};r.prototype.actionPourRotation=function(){var t=parseFloat(this.angle)+parseFloat(this.pasdeg);var e=Math.abs(t-this.anglefin);if(e>this.distang||!this.doc.animationEnCours){this.tourne(this.anglefin);clearInterval(this.timer);this.doc.actionSuivante()}else{this.distang=e;this.tourne(t)}};r.prototype.lanceAnimationZoom=function(t,e){this.zoomfin=t;this.vitesse=parseInt(e);this.pas=this.vitesse*.05*(this.zoomfin-this.zoomfactor);this.senspos=this.pas>=0;var i=this;this.timer=setInterval(function(){i.actionPourZoom()},100)};r.prototype.actionPourZoom=function(){var t=this.zoomfactor+this.pas;if(this.doc.animationEnCours&&(this.senspos&&t<this.zoomfin||!this.senspos&&t>this.zoomfin)){this.zoom(t)}else{this.zoom(this.zoomfin);clearInterval(this.timer);this.doc.actionSuivante()}};r.prototype.updateg=function(){var t=this.g;this.creeg();this.doc.svg.replaceChild(this.g,t);this.doc.setElement(this.id,this);this.g.setAttribute("visibility","visible")};r.prototype.creationAnimee=function(){return false};r.prototype.finAction=function(){}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var o=i(17);t.exports=r;function r(t,e,i,r,n,s){o.call(this,t,e,i);this.epaisseur=r;this.opacite=arguments.length>=5?n:"100";this.styleTrait=arguments.length>=6?s:"continu";var a=parseFloat(this.opacite/100);this.style="stroke:"+i+";stroke-width:"+r+";stroke-opacity:"+a+";stroke-linecap:round;";if(this.styleTrait==="tiret")this.style+="stroke-dasharray:10 8 10;"}r.prototype=new o},function(t,e,i){i(0);i(22);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(1);var a=i(12);t.exports=r;function r(t){this.doc=t;this.x=200;this.y=400;this.angle=0;this.zoomfactor=1;this.visible=false}r.prototype.montre=function(t){this.visible=t;this.g.setAttribute("visibility",t?"visible":"hidden")};r.prototype.updateg=function(){this.initialisePosition();this.doc.svg.removeChild(this.g);this.doc.svg.appendChild(this.g)};r.prototype.translate=function(t,e){this.setPosition(t,e,this.angle,this.zoomfactor)};r.prototype.angleInit=function(){return 0};r.prototype.setPosition=function(t,e,i,r){var n;this.x=t;this.y=e;this.angle=i;if(arguments.length>=4){n=r;this.zoomfactor=n}else n=this.zoomfactor;this.g.setAttribute("transform","scale("+n+") translate("+String(t/n)+","+String(e/n)+") rotate("+i+")")};r.prototype.initialisePosition=function(){this.setPosition(200,400,this.angleInit(),1)};r.prototype.lanceAnimationTranslation=function(t,e,i){this.xfin=t;this.yfin=e;this.pix=Math.abs(i/2);var r=new a(this.x,this.y,t,e);this.dist=r.norme();if(this.dist===0){this.doc.actionSuivante();return}this.vect=r.vecteurColineaire(this.pix);var n=this;this.timer=setInterval(function(){n.actionPourTranslation()},25)};r.prototype.actionPourTranslation=function(){var t=this.x+this.vect.x;var e=this.y+this.vect.y;var i=new a(t,e,this.xfin,this.yfin);var r=i.norme();if(r>this.dist||!this.doc.animationEnCours){this.setPosition(this.xfin,this.yfin,this.angle);if(this===this.doc.compas){if(this.doc.compasLeve!=null&&this.doc.compasLeve.visible){this.doc.compasLeve.setPosition(this.xfin,this.yfin,this.angle)}}clearInterval(this.timer);this.doc.actionSuivante()}else{this.dist=r;this.setPosition(t,e,this.angle);if(this===this.doc.compas){if(this.doc.compasLeve!=null&&this.doc.compasLeve.visible){this.doc.compasLeve.setPosition(t,e,this.angle)}}}};r.prototype.lanceAnimationRotation=function(t,e){var i=s.mesurePrincDeg(this.angle);var r=s.mesurePrincDeg(t);if(Math.abs(r-i)>180){if(r>i)r=r-360;else r=r+360}this.anglefin=r;this.angle=i;this.pasdeg=e/3;this.pasdeg*=r>=i?1:-1;this.distang=Math.abs(r-this.angle);var n=this;this.timer=setInterval(function(){n.actionPourRotation()},25)};r.prototype.actionPourRotation=function(){var t=parseFloat(this.angle)+parseFloat(this.pasdeg);var e=Math.abs(t-this.anglefin);if(e>this.distang||!this.doc.animationEnCours){this.setPosition(this.x,this.y,this.anglefin);clearInterval(this.timer);this.doc.actionSuivante()}else{this.distang=e;this.setPosition(this.x,this.y,t)}};r.prototype.lanceAnimationZoom=function(t,e){this.zoomfin=t;this.vitesse=parseInt(e);this.pas=this.vitesse*.05*(this.zoomfin-this.zoomfactor);this.senspos=this.pas>=0;var i=this;this.timer=setInterval(function(){i.actionPourZoom()},100)};r.prototype.actionPourZoom=function(){var t=this.zoomfactor+this.pas;if(this.doc.animationEnCours&&(this.senspos&&t<this.zoomfin||!this.senspos&&t>this.zoomfin)){this.setPosition(this.x,this.y,this.angle,t)}else{this.zoomfactor=this.zoomfin;this.positionne();clearInterval(this.timer);this.doc.actionSuivante()}};r.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)}},function(t,e,i){var r=i(64);var n=i(14);t.exports=function(t){return r(n(t))}},function(t,e,i){var r=i(31);var n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e,i){var r=i(6);var n=i(125);r({global:true,forced:parseInt!=n},{parseInt:n})},function(t,e,i){"use strict";var r=i(59);var h=i(57);var y=i(7);var f=i(14);var x=i(90);var A=i(88);var S=i(21);var w=i(61);var d=i(60);var n=i(5);var p=[].push;var E=Math.min;var C=4294967295;var N=!n(function(){return!RegExp(C,"y")});r("split",2,function(s,g,b){var m;if("abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length){m=function(t,e){var i=String(f(this));var r=e===undefined?C:e>>>0;if(r===0)return[];if(t===undefined)return[i];if(!h(t)){return g.call(i,t,r)}var n=[];var s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"");var a=0;var o=new RegExp(t.source,s+"g");var u,c,l;while(u=d.call(o,i)){c=o.lastIndex;if(c>a){n.push(i.slice(a,u.index));if(u.length>1&&u.index<i.length)p.apply(n,u.slice(1));l=u[0].length;a=c;if(n.length>=r)break}if(o.lastIndex===u.index)o.lastIndex++}if(a===i.length){if(l||!o.test(""))n.push("")}else n.push(i.slice(a));return n.length>r?n.slice(0,r):n}}else if("0".split(undefined,0).length){m=function(t,e){return t===undefined&&e===0?[]:g.call(this,t,e)}}else m=g;return[function t(e,i){var r=f(this);var n=e==undefined?undefined:e[s];return n!==undefined?n.call(e,r,i):m.call(String(r),e,i)},function(t,e){var i=b(m,t,this,e,m!==g);if(i.done)return i.value;var r=y(t);var n=String(this);var s=x(r,RegExp);var a=r.unicode;var o=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(N?"y":"g");var u=new s(N?r:"^(?:"+r.source+")",o);var c=e===undefined?C:e>>>0;if(c===0)return[];if(n.length===0)return w(u,n)===null?[n]:[];var l=0;var h=0;var f=[];while(h<n.length){u.lastIndex=N?h:0;var d=w(u,N?n:n.slice(h));var p;if(d===null||(p=E(S(u.lastIndex+(N?0:h)),n.length))===l){h=A(n,h,a)}else{f.push(n.slice(l,h));if(f.length===c)return f;for(var v=1;v<=d.length-1;v++){f.push(d[v]);if(f.length===c)return f}h=l=p}}f.push(n.slice(l));return f}]},!N)},function(t,e,i){var r=i(13);var n=i(63);var s=i(25);var a=i(20);var o=i(26);var u=i(9);var c=i(65);var l=Object.getOwnPropertyDescriptor;e.f=r?l:function t(e,i){e=a(e);i=o(i,true);if(c)try{return l(e,i)}catch(t){}if(u(e,i))return s(!n.f.call(e,i),e[i])}},function(t,e){t.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}},function(t,e,i){var n=i(8);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&typeof(i=t.toString)=="function"&&!n(r=i.call(t)))return r;if(typeof(i=t.valueOf)=="function"&&!n(r=i.call(t)))return r;if(!e&&typeof(i=t.toString)=="function"&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var r=i(2);var n=i(48);var s=i(28);var a="__core-js_shared__";var o=r[a]||n(a,{});(t.exports=function(t,e){return o[t]||(o[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.2.1",mode:s?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=false},function(t,e,i){var r=i(110);var n=i(2);var s=i(8);var a=i(10);var o=i(9);var u=i(35);var c=i(36);var l=n.WeakMap;var h,f,d;var p=function(t){return d(t)?f(t):h(t,{})};var v=function(i){return function(t){var e;if(!s(t)||(e=f(t)).type!==i){throw TypeError("Incompatible receiver, "+i+" required")}return e}};if(r){var g=new l;var b=g.get;var m=g.has;var y=g.set;h=function(t,e){y.call(g,t,e);return e};f=function(t){return b.call(g,t)||{}};d=function(t){return m.call(g,t)}}else{var x=u("state");c[x]=true;h=function(t,e){a(t,x,e);return e};f=function(t){return o(t,x)?t[x]:{}};d=function(t){return o(t,x)}}t.exports={set:h,get:f,has:d,enforce:p,getterFor:v}},function(t,e,i){var r=i(68);var n=i(52);var s=n.concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,s)}},function(t,e){var i=Math.ceil;var r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,i){var r=i(14);t.exports=function(t){return Object(r(t))}},function(t,e,i){"use strict";var r=i(6);var n=i(51).indexOf;var s=i(77);var a=[].indexOf;var o=!!a&&1/[1].indexOf(1,-0)<0;var u=s("indexOf");r({target:"Array",proto:true,forced:o||u},{indexOf:function t(e){return o?a.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:undefined)}})},function(t,e){t.exports={}},function(t,e,i){var r=i(27);var n=i(49);var s=r("keys");t.exports=function(t){return s[t]||(s[t]=n(t))}},function(t,e){t.exports={}},function(t,e,i){var r=i(50);var n=i(2);var s=function(t){return typeof t=="function"?t:undefined};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(n[t]):r[t]&&r[t][e]||n[t]&&n[t][e]}},function(t,e,i){var r=i(5);var n=/#|\.prototype\./;var s=function(t,e){var i=o[a(t)];return i==c?true:i==u?false:typeof e=="function"?r(e):!!e};var a=s.normalize=function(t){return String(t).replace(n,".").toLowerCase()};var o=s.data={};var u=s.NATIVE="N";var c=s.POLYFILL="P";t.exports=s},function(t,e,i){var n=i(7);var s=i(113);var o=i(52);var r=i(36);var u=i(72);var c=i(47);var a=i(35);var l=a("IE_PROTO");var h="prototype";var f=function(){};var d=function(){var t=c("iframe");var e=o.length;var i="<";var r="script";var n=">";var s="java"+r+":";var a;t.style.display="none";u.appendChild(t);t.src=String(s);a=t.contentWindow.document;a.open();a.write(i+r+n+"document.F=Object"+i+"/"+r+n);a.close();d=a.F;while(e--)delete d[h][o[e]];return d()};t.exports=Object.create||function t(e,i){var r;if(e!==null){f[h]=n(e);r=new f;f[h]=null;r[l]=e}else r=d();return i===undefined?r:s(r,i)};r[l]=true},function(t,e,i){var r=i(11).f;var n=i(9);var s=i(4);var a=s("toStringTag");t.exports=function(t,e,i){if(t&&!n(t=i?t:t.prototype,a)){r(t,a,{configurable:true,value:e})}}},function(t,e){t.exports=function(t){if(typeof t!="function"){throw TypeError(String(t)+" is not a function")}return t}},function(t,e,i){var r=i(14);var n=i(43);var s="["+n+"]";var a=RegExp("^"+s+s+"*");var o=RegExp(s+s+"*$");var u=function(i){return function(t){var e=String(r(t));if(i&1)e=e.replace(a,"");if(i&2)e=e.replace(o,"");return e}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,i){var r=i(13);var n=i(2);var s=i(38);var a=i(85);var o=i(11).f;var u=i(30).f;var c=i(57);var l=i(58);var h=i(15);var f=i(5);var d=i(86);var p=i(4);var v=p("match");var g=n.RegExp;var b=g.prototype;var m=/a/g;var y=/a/g;var x=new g(m)!==m;var A=r&&s("RegExp",!x||f(function(){y[v]=false;return g(m)!=m||g(y)==y||g(m,"i")!="/a/i"}));if(A){var S=function t(e,i){var r=this instanceof S;var n=c(e);var s=i===undefined;return!r&&n&&e.constructor===S&&s?e:a(x?new g(n&&!s?e.source:e,i):g((n=e instanceof S)?e.source:e,n&&s?l.call(e):i),r?this:b,S)};var w=function(e){e in S||o(S,e,{configurable:true,get:function(){return g[e]},set:function(t){g[e]=t}})};var E=u(g);var C=0;while(E.length>C)w(E[C++]);b.constructor=S;S.prototype=b;h(n,"RegExp",S)}d("RegExp")},function(t,e,i){"use strict";var r=i(15);var s=i(7);var n=i(5);var a=i(58);var o="toString";var u=RegExp.prototype;var c=u[o];var l=n(function(){return c.call({source:"a",flags:"b"})!="/a/b"});var h=c.name!=o;if(l||h){r(RegExp.prototype,o,function t(){var e=s(this);var i=String(e.source);var r=e.flags;var n=String(r===undefined&&e instanceof RegExp&&!("flags"in u)?a.call(e):r);return"/"+i+"/"+n},{unsafe:true})}},function(t,e,i){"use strict";var r=i(59);var E=i(7);var n=i(32);var C=i(21);var N=i(31);var a=i(14);var M=i(88);var k=i(61);var I=Math.max;var P=Math.min;var f=Math.floor;var d=/\$([$&'`]|\d\d?|<[^>]*>)/g;var p=/\$([$&'`]|\d\d?)/g;var F=function(t){return t===undefined?t:String(t)};r("replace",2,function(s,A,S){return[function t(e,i){var r=a(this);var n=e==undefined?undefined:e[s];return n!==undefined?n.call(e,r,i):A.call(String(r),e,i)},function(t,e){var i=S(A,t,this,e);if(i.done)return i.value;var r=E(t);var n=String(this);var s=typeof e==="function";if(!s)e=String(e);var a=r.global;if(a){var o=r.unicode;r.lastIndex=0}var u=[];while(true){var c=k(r,n);if(c===null)break;u.push(c);if(!a)break;var l=String(c[0]);if(l==="")r.lastIndex=M(n,C(r.lastIndex),o)}var h="";var f=0;for(var d=0;d<u.length;d++){c=u[d];var p=String(c[0]);var v=I(P(N(c.index),n.length),0);var g=[];for(var b=1;b<c.length;b++)g.push(F(c[b]));var m=c.groups;if(s){var y=[p].concat(g,v,n);if(m!==undefined)y.push(m);var x=String(e.apply(undefined,y))}else{x=w(p,n,v,g,m,e)}if(v>=f){h+=n.slice(f,v)+x;f=v+p.length}}return h+n.slice(f)}];function w(s,a,o,u,c,t){var l=o+s.length;var h=u.length;var e=p;if(c!==undefined){c=n(c);e=d}return A.call(t,e,function(t,e){var i;switch(e.charAt(0)){case"$":return"$";case"&":return s;case"`":return a.slice(0,o);case"'":return a.slice(l);case"<":i=c[e.slice(1,-1)];break;default:var r=+e;if(r===0)return t;if(r>h){var n=f(r/10);if(n===0)return t;if(n<=h)return u[n-1]===undefined?e.charAt(1):u[n-1]+e.charAt(1);return t}i=u[r-1]}return i===undefined?"":i})}})},function(t,e,i){var r=i(2);var n=i(8);var s=r.document;var a=n(s)&&n(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},function(t,e,i){var r=i(2);var n=i(10);t.exports=function(e,i){try{n(r,e,i)}catch(t){r[e]=i}return i}},function(t,e){var i=0;var r=Math.random();t.exports=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++i+r).toString(36)}},function(t,e,i){t.exports=i(2)},function(t,e,i){var u=i(20);var c=i(21);var l=i(112);var r=function(o){return function(t,e,i){var r=u(t);var n=c(r.length);var s=l(i,n);var a;if(o&&e!=e)while(n>s){a=r[s++];if(a!=a)return true}else for(;n>s;s++){if((o||s in r)&&r[s]===e)return o||s||0}return!o&&-1}};t.exports={includes:r(true),indexOf:r(false)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var r=i(16);t.exports=Array.isArray||function t(e){return r(e)=="Array"}},function(t,e,i){var x=i(55);var A=i(64);var S=i(32);var w=i(21);var E=i(75);var C=[].push;var r=function(d){var p=d==1;var v=d==2;var g=d==3;var b=d==4;var m=d==6;var y=d==5||m;return function(t,e,i,r){var n=S(t);var s=A(n);var a=x(e,i,3);var o=w(s.length);var u=0;var c=r||E;var l=p?c(t,o):v?c(t,0):undefined;var h,f;for(;o>u;u++)if(y||u in s){h=s[u];f=a(h,u,n);if(d){if(p)l[u]=f;else if(f)switch(d){case 3:return true;case 5:return h;case 6:return u;case 2:C.call(l,h)}else if(b)return false}}return m?-1:g||b?b:l}};t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(t,e,i){var s=i(41);t.exports=function(r,n,t){s(r);if(n===undefined)return r;switch(t){case 0:return function(){return r.call(n)};case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,i){return r.call(n,t,e,i)}}return function(){return r.apply(n,arguments)}}},function(t,e,i){var r=i(15);var n=i(123);var s=Object.prototype;if(n!==s.toString){r(s,"toString",n,{unsafe:true})}},function(t,e,i){var r=i(8);var n=i(16);var s=i(4);var a=s("match");t.exports=function(t){var e;return r(t)&&((e=t[a])!==undefined?!!e:n(t)=="RegExp")}},function(t,e,i){"use strict";var r=i(7);t.exports=function(){var t=r(this);var e="";if(t.global)e+="g";if(t.ignoreCase)e+="i";if(t.multiline)e+="m";if(t.dotAll)e+="s";if(t.unicode)e+="u";if(t.sticky)e+="y";return e}},function(t,e,i){"use strict";var h=i(10);var f=i(15);var d=i(5);var p=i(4);var v=i(60);var g=p("species");var b=!d(function(){var t=/./;t.exec=function(){var t=[];t.groups={a:"7"};return t};return"".replace(t,"$<a>")!=="7"});var m=!d(function(){var t=/(?:)/;var e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return i.length!==2||i[0]!=="a"||i[1]!=="b"});t.exports=function(i,t,e,r){var n=p(i);var s=!d(function(){var t={};t[n]=function(){return 7};return""[i](t)!=7});var a=s&&!d(function(){var t=false;var e=/a/;e.exec=function(){t=true;return null};if(i==="split"){e.constructor={};e.constructor[g]=function(){return e}}e[n]("");return!t});if(!s||!a||i==="replace"&&!b||i==="split"&&!m){var o=/./[n];var u=e(n,""[i],function(t,e,i,r,n){if(e.exec===v){if(s&&!n){return{done:true,value:o.call(e,i,r)}}return{done:true,value:t.call(i,e,r)}}return{done:false}});var c=u[0];var l=u[1];f(String.prototype,i,c);f(RegExp.prototype,n,t==2?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)});if(r)h(RegExp.prototype[n],"sham",true)}}},function(t,e,i){"use strict";var o=i(58);var u=RegExp.prototype.exec;var c=String.prototype.replace;var r=u;var l=function(){var t=/a/;var e=/b*/g;u.call(t,"a");u.call(e,"a");return t.lastIndex!==0||e.lastIndex!==0}();var h=/()??/.exec("")[1]!==undefined;var n=l||h;if(n){r=function t(e){var i=this;var r,n,s,a;if(h){n=new RegExp("^"+i.source+"$(?!\\s)",o.call(i))}if(l)r=i.lastIndex;s=u.call(i,e);if(l&&s){i.lastIndex=i.global?s.index+s[0].length:r}if(h&&s&&s.length>1){c.call(s[0],n,function(){for(a=1;a<arguments.length-2;a++){if(arguments[a]===undefined)s[a]=undefined}})}return s}}t.exports=r},function(t,e,i){var n=i(16);var s=i(60);t.exports=function(t,e){var i=t.exec;if(typeof i==="function"){var r=i.call(t,e);if(typeof r!=="object"){throw TypeError("RegExp exec method returned something other than an Object or null")}return r}if(n(t)!=="RegExp"){throw TypeError("RegExp#exec called on incompatible receiver")}return s.call(t,e)}},function(t,e,i){"use strict";if(!Array.prototype.forEach){Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++){t(this[e],e,this)}}}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function n(t){if(typeof t!=="string")throw new TypeError("countSlash n’accepte qu’une string en paramètre");return t.replace(/[^/]+/g,"").length}function s(t,e){if(!e)return t.replace(/</g,"&lt;");return t.replace(/[&<>"']/g,function(t){return r[t]})}function a(t,i){function r(t,e){return E(t,"0",e)}if(!i)i=new Date;else if(!(i instanceof Date))throw new TypeError("date is not a Date");if(typeof t!=="string")throw new TypeError("format is not a string");return t.replace(/%(.)/g,function(t,e){switch(e){case"d":return r(i.getDate());case"F":return String(i.getFullYear())+"-"+r(i.getMonth()+1)+"-"+r(i.getDate());case"H":return r(i.getHours());case"m":return r(i.getMonth()+1);case"M":return r(i.getMinutes());case"o":return r(i.getMilliseconds(),3);case"O":return r(i.getHours())+":"+r(i.getMinutes())+":"+r(i.getSeconds())+"."+r(i.getMilliseconds(),3);case"s":return r(Math.round(i.getTime()/1e3));case"S":return r(i.getSeconds());case"T":return r(i.getHours())+":"+r(i.getMinutes())+":"+r(i.getSeconds());case"y":return String(i.getFullYear()).substr(2);case"Y":return i.getFullYear();case"%":return"%";default:return"%"+e}})}function o(){return Math.random().toString(36).substr(2)+Math.random().toString(36).substr(2)}function c(t,e){if(typeof t==="object")return Object.prototype.hasOwnProperty.call(t,e);return false}function u(t){return Array.isArray(t)}function l(t){return Boolean(Array.isArray(t)&&t.length===0)}function h(t){return Boolean(Array.isArray(t)&&t.length)}function f(t){return typeof t==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function d(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return t instanceof Error}}function p(t){return typeof t==="function"}function v(t,e){if(!Array.isArray(t))throw new Error("isInArray veut un tableau en 1er argument");return t.indexOf(e)!==-1}function g(t,e){switch(typeof t){case"number":return Math.floor(t)===t;case"string":return Boolean(e&&t&&Math.floor(t)==t);default:return false}}function b(t,e,i){return g(t,i)&&(e?t>0:t>=0)}function m(t){var e=typeof t;return!!t&&(e==="object"||e==="function")}function y(t){return!!t&&typeof t==="object"&&Object.prototype.toString.call(t)==="[object Object]"}function x(t){return!!t&&typeof t==="object"&&Object.prototype.toString.call(t)==="[object RegExp]"}function A(t){return typeof t==="string"}function S(t){return typeof t==="undefined"}function w(t){return typeof t==="string"&&/^https?:\/\/[a-z0-9\-._]+(:[0-9]+)?(\/|$)/.test(t)}function E(t,e,i){if(e){if(typeof e!=="string")e=String(e);if(e.length!==1){console.error(new Error("char invalide "+e));e=undefined}}if(!e){e=typeof t==="number"?"0":" "}if(typeof t!=="string")t=String(t);if(!i)i=2;while(t.length<i)t=e+t;return t}function C(t){var e;if(typeof t==="string"){try{e=JSON.parse(t)}catch(t){if(!S(console)&&console.error)console.error(t)}}return e}function N(t,e){if(typeof t==="string"){if(!e)e=/[,;\s]+/;return t.split(e).map(function(t){return t.trim()}).filter(function(t){return t})}return[]}function M(e,i){var r;try{r=i?JSON.stringify(e,null,i):JSON.stringify(e)}catch(t){var n;var s;var a=[];for(n in e){if(c(e,n)&&!S(e[n])&&!p(e[n])){s=e[n];r='"'+n+'":';try{r+=i?JSON.stringify(s,null,i):JSON.stringify(s)}catch(t){r+='"'+t.toString()+'"'}a.push(r)}}var o=",";r="{";if(i){var u="\n"+" ".repeat(i);o+=u;r+=u}r+=a.join(o);if(i)r+="\n";r+="}"}return r}function k(t){function e(t,e){return t.replace(e[0],e[1])}if(typeof t==="string"){if(/^[\w]*$/.test(t))return t;var i=[[/[áàâäãå]/g,"a"],[/[ÁÀÂÄÃÅ]/g,"A"],["ç","c"],["Ç","C"],[/[éèêë]/g,"e"],[/[ÉÈÊË]/g,"E"],[/[íìîï]/g,"i"],[/[ÍÌÎÏ]/g,"I"],["ñ","n"],["Ñ","N"],[/[óòôöõ]/g,"o"],[/[ÓÒÔÖÕ]/g,"O"],[/[úùûü]/g,"u"],[/[ÚÙÛÜ]/g,"U"],[/[ýÿ]/g,"y"],[/[ÝŸ]/g,"Y"],["æ","ae"],["Æ","AE"],["œ","oe"],["Œ","OE"]];return i.reduce(e,t)}console.error(new TypeError("not a string"),t);return""}function I(t){switch(typeof t){case"number":return Math.round(t);case"string":if(t==="")return NaN;else return Math.round(t);default:return NaN}}t.exports={countSlash:n,escapeForHtml:s,formatDate:a,getToken:o,hasProp:c,isArray:u,isArrayEmpty:l,isArrayNotEmpty:h,isDate:f,isError:d,isFunction:p,isInArray:v,isInt:g,isIntPos:b,isObject:m,isObjectPlain:y,isRegExp:x,isString:A,isUndefined:S,isUrlAbsolute:w,pad:E,parse:C,splitAndTrim:N,stringify:M,toAscii:k,toInt:I}},function(t,e,i){"use strict";var r={}.propertyIsEnumerable;var n=Object.getOwnPropertyDescriptor;var s=n&&!r.call({1:2},1);e.f=s?function t(e){var i=n(this,e);return!!i&&i.enumerable}:r},function(t,e,i){var r=i(5);var n=i(16);var s="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return n(t)=="String"?s.call(t,""):Object(t)}:Object},function(t,e,i){var r=i(13);var n=i(5);var s=i(47);t.exports=!r&&!n(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(t,e,i){var r=i(27);t.exports=r("native-function-to-string",Function.toString)},function(t,e,i){var o=i(9);var u=i(111);var c=i(24);var l=i(11);t.exports=function(t,e){var i=u(e);var r=l.f;var n=c.f;for(var s=0;s<i.length;s++){var a=i[s];if(!o(t,a))r(t,a,n(e,a))}}},function(t,e,i){var a=i(9);var o=i(20);var u=i(51).indexOf;var c=i(36);t.exports=function(t,e){var i=o(t);var r=0;var n=[];var s;for(s in i)!a(c,s)&&a(i,s)&&n.push(s);while(e.length>r)if(a(i,s=e[r++])){~u(n,s)||n.push(s)}return n}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var r=i(5);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,i){var r=i(68);var n=i(52);t.exports=Object.keys||function t(e){return r(e,n)}},function(t,e,i){var r=i(37);t.exports=r("document","documentElement")},function(t,e,i){e.f=i(4)},function(t,e,i){var r=i(50);var n=i(9);var s=i(73);var a=i(11).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});if(!n(e,t))a(e,t,{value:s.f(t)})}},function(t,e,i){var r=i(8);var n=i(53);var s=i(4);var a=s("species");t.exports=function(t,e){var i;if(n(t)){i=t.constructor;if(typeof i=="function"&&(i===Array||n(i.prototype)))i=undefined;else if(r(i)){i=i[a];if(i===null)i=undefined}}return new(i===undefined?Array:i)(e===0?0:e)}},function(t,e,i){var r=i(5);var n=i(4);var s=n("species");t.exports=function(i){return!r(function(){var t=[];var e=t.constructor={};e[s]=function(){return{foo:1}};return t[i](Boolean).foo!==1})}},function(t,e,i){"use strict";var r=i(5);t.exports=function(t,e){var i=[][t];return!i||!r(function(){i.call(null,e||function(){throw 1},1)})}},function(t,e,i){"use strict";var r=i(20);var n=i(79);var s=i(34);var a=i(29);var o=i(80);var u="Array Iterator";var c=a.set;var l=a.getterFor(u);t.exports=o(Array,"Array",function(t,e){c(this,{type:u,target:r(t),index:0,kind:e})},function(){var t=l(this);var e=t.target;var i=t.kind;var r=t.index++;if(!e||r>=e.length){t.target=undefined;return{value:undefined,done:true}}if(i=="keys")return{value:r,done:false};if(i=="values")return{value:e[r],done:false};return{value:[r,e[r]],done:false}},"values");s.Arguments=s.Array;n("keys");n("values");n("entries")},function(t,e,i){var r=i(4);var n=i(39);var s=i(10);var a=r("unscopables");var o=Array.prototype;if(o[a]==undefined){s(o,a,n(null))}t.exports=function(t){o[a][t]=true}},function(t,e,i){"use strict";var b=i(6);var m=i(120);var y=i(82);var x=i(83);var A=i(40);var S=i(10);var w=i(15);var r=i(4);var E=i(28);var C=i(34);var n=i(81);var N=n.IteratorPrototype;var M=n.BUGGY_SAFARI_ITERATORS;var k=r("iterator");var I="keys";var P="values";var F="entries";var O=function(){return this};t.exports=function(t,e,i,r,n,s,a){m(i,e,r);var o=function(e){if(e===n&&f)return f;if(!M&&e in l)return l[e];switch(e){case I:return function t(){return new i(this,e)};case P:return function t(){return new i(this,e)};case F:return function t(){return new i(this,e)}}return function(){return new i(this)}};var u=e+" Iterator";var c=false;var l=t.prototype;var h=l[k]||l["@@iterator"]||n&&l[n];var f=!M&&h||o(n);var d=e=="Array"?l.entries||h:h;var p,v,g;if(d){p=y(d.call(new t));if(N!==Object.prototype&&p.next){if(!E&&y(p)!==N){if(x){x(p,N)}else if(typeof p[k]!="function"){S(p,k,O)}}A(p,u,true,true);if(E)C[u]=O}}if(n==P&&h&&h.name!==P){c=true;f=function t(){return h.call(this)}}if((!E||a)&&l[k]!==f){S(l,k,f)}C[e]=f;if(n){v={values:o(P),keys:s?f:o(I),entries:o(F)};if(a)for(g in v){if(M||c||!(g in l)){w(l,g,v[g])}}else b({target:e,proto:true,forced:M||c},v)}return v}},function(t,e,i){"use strict";var r=i(82);var n=i(10);var s=i(9);var a=i(4);var o=i(28);var u=a("iterator");var c=false;var l=function(){return this};var h,f,d;if([].keys){d=[].keys();if(!("next"in d))c=true;else{f=r(r(d));if(f!==Object.prototype)h=f}}if(h==undefined)h={};if(!o&&!s(h,u))n(h,u,l);t.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:c}},function(t,e,i){var r=i(9);var n=i(32);var s=i(35);var a=i(121);var o=s("IE_PROTO");var u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){t=n(t);if(r(t,o))return t[o];if(typeof t.constructor=="function"&&t instanceof t.constructor){return t.constructor.prototype}return t instanceof Object?u:null}},function(t,e,i){var s=i(7);var a=i(122);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r=false;var t={};var n;try{n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]);r=t instanceof Array}catch(t){}return function t(e,i){s(e);a(i);if(r)n.call(e,i);else e.__proto__=i;return e}}():undefined)},function(t,e,i){var n=i(16);var r=i(4);var s=r("toStringTag");var a=n(function(){return arguments}())=="Arguments";var o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,r;return t===undefined?"Undefined":t===null?"Null":typeof(i=o(e=Object(t),s))=="string"?i:a?n(e):(r=n(e))=="Object"&&typeof e.callee=="function"?"Arguments":r}},function(t,e,i){var s=i(8);var a=i(83);t.exports=function(t,e,i){var r,n;if(a&&typeof(r=e.constructor)=="function"&&r!==i&&s(n=r.prototype)&&n!==i.prototype)a(t,n);return t}},function(t,e,i){"use strict";var r=i(37);var n=i(11);var s=i(4);var a=i(13);var o=s("species");t.exports=function(t){var e=r(t);var i=n.f;if(a&&e&&!e[o]){i(e,o,{configurable:true,get:function(){return this}})}}},function(t,e,i){var u=i(31);var c=i(14);var r=function(o){return function(t,e){var i=String(c(t));var r=u(e);var n=i.length;var s,a;if(r<0||r>=n)return o?"":undefined;s=i.charCodeAt(r);return s<55296||s>56319||r+1===n||(a=i.charCodeAt(r+1))<56320||a>57343?o?i.charAt(r):s:o?i.slice(r,r+2):(s-55296<<10)+(a-56320)+65536}};t.exports={codeAt:r(false),charAt:r(true)}},function(t,e,i){"use strict";var r=i(87).charAt;t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},function(t,e,i){"use strict";var r=i(59);var u=i(7);var s=i(14);var c=i(127);var l=i(61);r("search",1,function(n,a,o){return[function t(e){var i=s(this);var r=e==undefined?undefined:e[n];return r!==undefined?r.call(e,i):new RegExp(e)[n](String(i))},function(t){var e=o(a,t,this);if(e.done)return e.value;var i=u(t);var r=String(this);var n=i.lastIndex;if(!c(n,0))i.lastIndex=0;var s=l(i,r);if(!c(i.lastIndex,n))i.lastIndex=n;return s===null?-1:s.index}]})},function(t,e,i){var n=i(7);var s=i(41);var r=i(4);var a=r("species");t.exports=function(t,e){var i=n(t).constructor;var r;return i===undefined||(r=n(i)[a])==undefined?e:s(r)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){var a=i(14);var o=/"/g;t.exports=function(t,e,i,r){var n=String(a(t));var s="<"+e;if(i!=="")s+=" "+i+'="'+String(r).replace(o,"&quot;")+'"';return s+">"+n+"</"+e+">"}},function(t,e,i){var r=i(5);t.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var p=i(1);var r=i(19);t.exports=n;function n(t){r.call(this,t);this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.creeg=function(){var t,e,i,r,n;var s=131;var a=223;var o=31;var u=24;var c=61;var l=c*a/s;var h=16;var f=a/s*(s-h);var d=s/a*(a-h);t=document.createElementNS(p.svgsn,"g");e=document.createElementNS(p.svgsn,"path");i="M 0 0 L "+s+" 0 L 0 "+String(-a)+" Z";r="M "+u+" "+String(-o)+" L "+u+" "+String(-o-l)+" L "+String(u+c)+" "+String(-o)+" Z";i+=r;e.setAttribute("d",i);e.setAttribute("style","stroke:black;stroke-width:0.75; fill: #c6cbe8; fill-opacity: 0.5");t.appendChild(e);e=document.createElementNS(p.svgsn,"path");i="M "+h+" "+String(-h)+" L "+d+" "+String(-h)+" L "+h+" "+-f+" Z";i+=r;e.setAttribute("d",i);e.setAttribute("style","stroke-width:0; fill: #c6cbe8; fill-opacity: 0.5");t.appendChild(e);n=document.createElementNS(p.svgsn,"text");n.setAttribute("pointer-events","none");n.appendChild(document.createTextNode("Sésamath"));n.setAttribute("x",u);n.setAttribute("y",-h/2-5);n.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon");t.appendChild(n);this.g=t;return t}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var a=i(3);var r=i(96);t.exports=n;function n(t,e,i,r,n){a.call(this,t,r);this.id=e;var s=this.doc.getElement(e,i.objet);this.objetRemplace=s===null?null:s;this.objet=i;if(arguments.length>=5)this.vitesse=n!=null?Math.abs(parseFloat(n)):8;else this.vitesse=8;if(this.objetRemplace!==null)this.doc.addElement(this.objet);else this.doc.pushElement(this.objet)}n.prototype=new a;n.prototype.execute=function(t){if(this.objet instanceof r){this.objet.x=this.objet.xinit;this.objet.y=this.objet.yinit}if(this.objetRemplace!==null){this.objetRemplace.montre(false)}if(this.objet.creationAnimee()&&!t){this.objet.lanceAnimation(this.vitesse)}else{this.objet.montre(true);if(t)this.objet.finAction();else this.doc.actionSuivante(t)}};n.prototype.creegElement=function(){var t=this.doc;var e=this.objet;e.creeg();e.positionne();e.g.setAttribute("visibility","hidden");t.svg.appendChild(e.g)};n.prototype.actionVisible=function(){return!(this.objet instanceof r)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var r=i(1);var n=i(17);t.exports=s;function s(t,e,i,r){n.call(this,t,e,"black");this.x=parseFloat(i);this.y=parseFloat(r);this.xinit=this.x;this.yinit=this.y;this.taille=20;this.angle=0;this.texte="";this.objet="texte"}s.prototype=new n;s.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)};s.prototype.translate=function(t,e){this.x=t;this.y=e;this.positionne()};s.prototype.updateg=function(t){var e=this.g;this.doc.svg.replaceChild(t,e);this.g=t;t.setAttribute("visibility","visible")};s.prototype.creeg=function(){this.g=document.createElementNS(r.svgsn,"g")};s.prototype.setPosition=function(t,e,i,r){this.x=t;this.y=e;this.angle=i;this.zoomfactor=r;var n=e+parseFloat(this.taille);this.g.setAttribute("transform","scale("+r+") translate("+String(t/r)+","+String(n/r)+") rotate("+i+")")}},function(t,e,i){"use strict";i(56);i(149);var r=i(162),s=r.addJs;var a="https://www.mathgraph32.org/js/MathJax/MathJax.js?config=TeX-AMS-MML_SVG-full";var o="MathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: [['$', '$'],['\\\\(', '\\\\)']]\n  },\n  jax: ['input/TeX','output/SVG'],\n  TeX: {extensions: ['color.js']},\n  messageStyle:'none'\n});";var u=10;var c;t.exports=function t(){if(!c){if(typeof MathJax==="undefined"){c=new Promise(function(t,e){var i=window.document.getElementsByTagName("head")[0];var r=window.document.createElement("script");r.type="text/x-mathjax-config";r.appendChild(window.document.createTextNode(o));i.appendChild(r);s(a,function(){clearTimeout(n);t()});var n=setTimeout(function(){c=null;e(Error("Mathjax non chargé après ".concat(u,"s d’attente")))},u*1e3)})}else{console.log("MathJax était déjà chargé, on ne fait rien");c=Promise.resolve()}}return c}},function(t,e,i){var r=i(2);var n=i(5);var s=i(16);var a=i(55);var o=i(72);var u=i(47);var c=r.location;var l=r.setImmediate;var h=r.clearImmediate;var f=r.process;var d=r.MessageChannel;var p=r.Dispatch;var v=0;var g={};var b="onreadystatechange";var m,y,x;var A=function(t){if(g.hasOwnProperty(t)){var e=g[t];delete g[t];e()}};var S=function(t){return function(){A(t)}};var w=function(t){A(t.data)};var E=function(t){r.postMessage(t+"",c.protocol+"//"+c.host)};if(!l||!h){l=function t(e){var i=[];var r=1;while(arguments.length>r)i.push(arguments[r++]);g[++v]=function(){(typeof e=="function"?e:Function(e)).apply(undefined,i)};m(v);return v};h=function t(e){delete g[e]};if(s(f)=="process"){m=function(t){f.nextTick(S(t))}}else if(p&&p.now){m=function(t){p.now(S(t))}}else if(d){y=new d;x=y.port2;y.port1.onmessage=w;m=a(x.postMessage,x,1)}else if(r.addEventListener&&typeof postMessage=="function"&&!r.importScripts&&!n(E)){m=E;r.addEventListener("message",w,false)}else if(b in u("script")){m=function(t){o.appendChild(u("script"))[b]=function(){o.removeChild(this);A(t)}}}else{m=function(t){setTimeout(S(t),0)}}}t.exports={set:l,clear:h}},function(t,e,i){var r=i(37);t.exports=r("navigator","userAgent")||""},function(t,e,i){"use strict";var n=i(41);var r=function(t){var i,r;this.promise=new t(function(t,e){if(i!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");i=t;r=e});this.resolve=n(i);this.reject=n(r)};t.exports.f=function(t){return new r(t)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var p=i(1);var a=i(19);t.exports=r;function r(t,e,i,r,n){a.call(this,t);var s=t.compasLeve==null?null:t.compasLeve.g;this.x=e;this.y=i;this.angle=r;this.ecart=n;this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(e,i,r);if(s==null)t.svg.appendChild(this.g);else t.svg.replaceChild(this.g,s)}r.prototype=new a;r.prototype.creeg=function(){var t,e,i,r;var n=7;var s=8;var a=this.ecart;var o=document.createElementNS(p.svgsn,"g");if(this.ecart>2*s){t=document.createElementNS(p.svgsn,"rect");t.setAttribute("x",s);t.setAttribute("y",-n/2);t.setAttribute("width",this.ecart-2*s);t.setAttribute("height",n);t.setAttribute("rx",1);t.setAttribute("ry",1);t.setAttribute("style","stroke:black;stroke-width:0.5;fill:silver;fill-opacity:1");o.appendChild(t)}i=document.createElementNS(p.svgsn,"path");i.setAttribute("d","M0 0 L"+s+" 1 "+s+" -1Z");i.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1");o.appendChild(i);var u=a-2*s;e=document.createElementNS(p.svgsn,"line");e.setAttribute("x1",s);e.setAttribute("y1",0);e.setAttribute("x2",s+u/8);e.setAttribute("y2",0);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);i=document.createElementNS(p.svgsn,"path");var c=String(a-s);i.setAttribute("d","M"+a+" 0 L"+c+" 1.5 "+c+" -1.5Z");i.setAttribute("style","stroke:black;stroke-width:0.5;fill:black;fill-opacity:1");o.appendChild(i);e=document.createElementNS(p.svgsn,"line");e.setAttribute("x1",c);e.setAttribute("y1",0);e.setAttribute("x2",String(a-s-u/8));e.setAttribute("y2",0);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);e=document.createElementNS(p.svgsn,"line");var l=String(a-s-u/8-2);e.setAttribute("x1",l);e.setAttribute("y1",-n/2);e.setAttribute("x2",l);e.setAttribute("y2",n/2);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);e=document.createElementNS(p.svgsn,"line");l=String(a-s-u/3-2);e.setAttribute("x1",l);e.setAttribute("y1",-n/2);e.setAttribute("x2",l);e.setAttribute("y2",n/2);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);t=document.createElementNS(p.svgsn,"rect");t.setAttribute("x",String(s+u/8-5));t.setAttribute("y",String(-n));t.setAttribute("width",8);t.setAttribute("height",3);t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");o.appendChild(t);t=document.createElementNS(p.svgsn,"rect");t.setAttribute("x",String(a-s-u/8-4));t.setAttribute("y",String(-n));t.setAttribute("width",8);t.setAttribute("height",3);t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");o.appendChild(t);var h=12;var f=4;i=document.createElementNS(p.svgsn,"path");var d="M"+String(a/2+h)+" "+String(-f)+" A "+String(h)+" 2 180 0 0 "+String(a/2-h)+" "+String(-f)+"A"+String(f)+" 2 90 0 1 "+String(a/2-h)+" "+String(f)+"A"+String(h)+" 2 0 0 0 "+String(a/2+h)+" "+String(f)+"A"+String(f)+" 2 -90 0 1 "+String(a/2+h)+" "+String(-f);i.setAttribute("d",d);i.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1");o.appendChild(i);e=document.createElementNS(p.svgsn,"line");e.setAttribute("x1",String(a/2+h));e.setAttribute("y1",-n/2);e.setAttribute("x2",String(a/2-h));e.setAttribute("y2",n/2);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);e=document.createElementNS(p.svgsn,"line");e.setAttribute("x1",String(a/2-h));e.setAttribute("y1",-n/2);e.setAttribute("x2",String(a/2+h));e.setAttribute("y2",n/2);e.setAttribute("style","stroke: black; stroke-width:0.5;");o.appendChild(e);r=document.createElementNS(p.svgsn,"circle");r.setAttribute("cx",String(a/2));r.setAttribute("cy",0);r.setAttribute("r",5);r.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1");o.appendChild(r);t=document.createElementNS(p.svgsn,"rect");t.setAttribute("x",String(s+u/8-5));t.setAttribute("y",String(-n));t.setAttribute("width",7);t.setAttribute("height",3);t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");o.appendChild(t);t=document.createElementNS(p.svgsn,"rect");t.setAttribute("x",String(a-s-u/8-4));t.setAttribute("y",String(-n));t.setAttribute("width",7);t.setAttribute("height",3);t.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");o.appendChild(t);this.g=o};r.prototype.setPosition=function(t,e,i){this.x=t;this.y=e;this.angle=i;this.g.setAttribute("transform","translate("+t+","+e+") rotate("+i+")")}},function(t,e,i){i(22);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var r=i(1);var l=i(103);t.exports=n;function n(t,e,i,r,n,s,a,o,u,c){l.call(this,t,e,i,r,n,s,a,o,u,c)}n.prototype=new l;n.prototype.creeg=function(){this.calcule();if(!this.horsFenetre){var t=document.createElementNS(r.svgsn,"line");t.setAttribute("x1",this.xext1);t.setAttribute("y1",this.yext1);t.setAttribute("x2",this.xext2);t.setAttribute("y2",this.yext2);t.setAttribute("style",this.style);this.g=t}else this.g=document.createElementNS(r.svgsn,"g");this.g.setAttribute("visibility","hidden")};n.prototype.calcule=function(){var t,e,i,r,n,s,a,o,u,c,l,h,f;var d=parseInt(this.doc.svg.getAttribute("width"));var p=parseInt(this.doc.svg.getAttribute("height"));c=this.x1;l=this.y1;h=this.x2;f=this.y2;if(c===h&&l===f){this.horsFenetre=true;return}this.horsFenetre=false;if(c===h){this.xext1=c;this.yext1=0;this.xext2=c;this.yext2=p;if(c<0||c>d){this.horsFenetre=true;return}this.xext1=c;this.yext1=0;this.xext2=c;this.yext2=p;return}if(l===f){this.xext1=0;this.yext1=l;this.xext2=d;this.yext2=l;if(l<0||l>p){this.horsFenetre=true;return}this.xext1=0;this.yext1=l;this.xext2=d;this.yext2=l;return}var v=0;t=(f-l)/(h-c);e=0;i=this.y1+t*(e-c);if(i>=0&&i<=p){v++;this.xext1=e;this.yext1=i}r=d;n=t*(r-c)+l;if(n>=0&&n<=p){v++;if(v===1){this.xext1=r;this.yext1=n}else{this.xext2=r;this.yext2=n;return}}a=0;s=(a-l)/t+c;if(s>0&&s<d){v++;if(v===1){this.xext1=s;this.yext1=a}else{this.xext2=s;this.yext2=a;return}}u=p;o=(u-l)/t+c;if(o>0&&o<=d){v++;if(v===2){this.xext2=o;this.yext2=u}else{this.horsFenetre=true}}else this.horsFenetre=true;if(this.horsFenetre){this.xext1=0;this.yext1=i;this.xext2=r;this.yext2=n}}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var n=i(1);var l=i(18);var s=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c){this.x1=parseFloat(i);this.y1=parseFloat(r);this.x2=parseFloat(n);this.y2=parseFloat(s);l.call(this,t,e,a,o,u,c)}r.prototype=new l;r.prototype.creeg=function(){var t,e;t=document.createElementNS(n.svgsn,"g");e=document.createElementNS(n.svgsn,"line");e.setAttribute("x1",this.x1);e.setAttribute("y1",this.y1);e.setAttribute("x2",this.x2);e.setAttribute("y2",this.y2);e.setAttribute("style",this.style);t.appendChild(e);t.setAttribute("visibility","hidden");this.g=t};r.prototype.creationAnimee=function(){return true};r.prototype.lanceAnimation=function(t){this.vitesse=t/4;var e=new s(this.x1,this.y1,this.x2,this.y2);this.dist=e.norme();if(n.zero(this.dist)){this.doc.actionSuivante();return}this.vect=e.vecteurColineaire(this.vitesse*1.8);this.xfin=this.x2;this.yfin=this.y2;this.x2=this.x1;this.y2=this.y1;var i=this.doc.crayon;i.setPosition(this.x1,this.y1,i.angle);var r=this;this.timer=setInterval(function(){r.actionPourAnimation(r)},25)};r.prototype.actionPourAnimation=function(){this.x2+=this.vect.x;this.y2+=this.vect.y;var t=new s(this.x1,this.y1,this.x2,this.y2);var e=t.norme();var i=this.doc.crayon;if(e>this.dist||!this.doc.animationEnCours){this.x2=this.xfin;this.y2=this.yfin;this.finAction();this.updateg();clearInterval(this.timer);this.doc.actionSuivante()}else{i.translate(this.x2,this.y2);this.updateg()}};r.prototype.finAction=function(){this.doc.crayon.translate(this.x2,this.y2)}},function(t,e,i){t.exports=i(105)},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 *
 * Sert à compiler iepjsmax.js et iepjsmin.js, en exportant la version webpack du lecteur iep
 * dans le même espace de nom que précédemment. à savoir une var globale iep
 * (cf webpack.old.config.js avec libraryTarget: var &  library: 'iep')
 * qui s'utilise avec `var app = new iep.iepApp()`
 *
 * On laisse ça, pour ceux qui utilisent encore ces js, dépréciés au profit du loader
 */
var r=i(106);t.exports={iepApp:r}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var s=i(107);t.exports=r;function r(t){this.debug=Boolean(t&&t.debug);if(this.debug)console.log("Mode debug activé");this.docs=[];var e=this;window.addEventListener("unload",function(){return e.closeAllXMLWindows()})}r.prototype.addDoc=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(typeof t==="string")t=document.getElementById(t);if(!t)return new Error("svg manquant");if(t.localName!=="svg")return new Error("svg incorrect");var r={autoStart:i,debug:this.debug};var n=new s(t,e,r);this.docs.push(n);t.iepDoc=n;return n};r.prototype.closeAllXMLWindows=function(){for(var t=0;t<this.docs.length;t++){var e=this.docs[t];if(e.windowxml!=null)e.windowxml.close()}}},function(t,e,i){i(108);i(115);i(116);i(117);i(119);i(33);i(78);i(56);i(0);i(22);i(44);i(45);i(126);i(46);i(89);i(23);i(128);i(130);function u(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function t(e){return typeof e}}else{u=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return u(t)}
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var F=i(1);var O=i(12);var c=i(141);var l=i(94);var h=i(142);var f=i(143);var d=i(144);var p=i(145);var j=i(146);var L=i(95);var T=i(147);var R=i(148);var _=i(166);var B=i(167);var G=i(168);var V=i(169);var z=i(170);var D=i(171);var q=i(172);var X=i(173);var H=i(174);var $=i(175);var Z=i(176);var J=i(177);var Y=i(178);var U=i(179);var W=i(180);var Q=i(181);var K=i(182);var tt=i(183);var et=i(184);var it=i(185);var rt=i(186);var nt=i(187);var st=i(188);var at=i(191);var ot=i(193);var ut=i(102);var ct=i(194);var lt=i(195);var ht=i(196);var ft=i(197);var dt=i(198);var pt=i(199);var vt=i(200);var gt=i(201);var bt=i(202);var mt=i(96);t.exports=n;var r=["compas","equerre","rapporteur","regle","requerre","crayon"];function n(t,e,i){this.svg=t;if(typeof i==="boolean"){this.autoStart=i;i={}}else{if(u(i)!=="object")i={};this.autoStart=Boolean(i.autoStart)}this.debug=Boolean(i.debug);this.windowxml=null;var r=e;if(r.search(/<?xml/gi)===-1)r='<?xml version="1.0" encoding="UTF-8"?>'+r;r=r.replace(/<action[_]\d*/gi,"<action");r=r.replace(/<!--.*-->/g,"");r=r.replace(/(="[^"]*")([^ ])/g,"$1 $2").replace(/--/g,"");r=r.replace(/<</g,"<").replace(/>>/g,">");r=r.replace(/<action(\w)/gi,"<action $1");r=r.replace(/<commentaire\s*texte\s*=/gi,"<commentaire texteCommentaire =");r=F.elimineDoublonsXML(r);this.codexml=r;var n=r.search(/<\s*INSTRUMENPOCHE/gi);var s=r.indexOf(">",n);var a=r.search(new RegExp("<\\s*/INSTRUMENPOCHE","gi"));this.chdoc="<INSTRUMENPOCHE>"+r.substring(s+1,a)+"</INSTRUMENPOCHE>";this.actions=[];this.elements=[];this.compasRetourne=false;this.compasLeve=null;this.compas=new c(this);this.equerre=new l(this);this.rapporteur=new h(this);this.regle=new f(this);this.requerre=new d(this);this.crayon=new p(this);this.xmldoc=F.parseXMLDoc(this.chdoc);this.tabact=this.xmldoc.getElementsByTagName("action");this.started=false;this.animationEnCours=true;this.indiceActionEnCours=0;this.creeActions();var o=this;t.addEventListener("mousemove",function(t){o.onmousemove(t,t.clientX,t.clientY)},false);t.addEventListener("mouseup",function(){o.onmouseup()},false);t.addEventListener("mouseleave",function(){o.onmouseleave()},false);t.addEventListener("touchmove",function(t){o.onmousemove(t,t.touches[0].pageX,t.touches[0].pageY)},false);t.addEventListener("touchend",function(){o.onmouseup()},false);t.addEventListener("touchcancel",function(){o.onmouseup()},false);t.addEventListener("touchleave",function(){o.onmouseleave()},false);if(this.debug)console.log("iepDoc instancié :",this)}n.prototype.waitForReadyState=function(){if(this.started)return;var t=this.verifyReadyState();if(t){this.start()}else{var e=this;setTimeout(function(){e.waitForReadyState()},200)}};n.prototype.verifyReadyState=function(){if(this.debug){var t=this.actions.filter(function(t){return!t.ready});if(t.length)console.log("".concat(t.length," actions pas encore prêtes (sur ").concat(this.actions.length,")"));else console.log("Les ".concat(this.actions.length," actions sont prêtes"))}return this.actions.every(function(t){return t.isReady})};n.prototype.creeElementsGraphiques=function(){this.actions.forEach(function(t){return t.creegElement()})};n.prototype.initialiseOutils=function(){var e=this;r.forEach(function(t){e[t].initialisePosition();e[t].montre(false)});this.compas.leve=false};n.prototype.recreeOutils=function(){var e=this;r.forEach(function(t){e[t].updateg();e[t].montre(false)});this.compasLeve=null};n.prototype.start=function(){this.started=true;this.creeElementsGraphiques();this.recreeOutils();this.creeIcones();this.InitialiseIcones();if(this.autoStart){this.onPlay()}else{this.montreIcone("Pause",false);this.montreIcone("Play",true)}};n.prototype.creeIcones=function(){var t=8;var e=this;this.barreIcones=document.createElementNS(F.svgsn,"g");this.creeElementsPourIcones();this.iconGoBegin=this.iconeGoBegin(0,0,"fonce");this.iconGoBeginGris=this.iconeGoBegin(0,0,"clair");this.iconGoBegin.onclick=function(){e.onGoBegin()};this.barreIcones.appendChild(this.iconGoBegin);this.barreIcones.appendChild(this.iconGoBeginGris);this.iconStepPrev=this.iconeStepPrev(32,0,"fonce");this.iconStepPrevGris=this.iconeStepPrev(32,0,"clair");this.iconStepPrev.onclick=function(){e.onStepPrev()};this.barreIcones.appendChild(this.iconStepPrev);this.barreIcones.appendChild(this.iconStepPrevGris);this.iconPause=this.iconePause(64,0,"fonce");this.iconPauseGris=this.iconePause(64,0,"clair");this.iconPause.onclick=function(){e.onPause()};this.barreIcones.appendChild(this.iconPause);this.barreIcones.appendChild(this.iconPauseGris);this.iconPlay=this.iconePlay(96,0,"fonce");this.iconPlayGris=this.iconePlay(96,0,"clair");this.iconPlay.onclick=function(){e.onPlay()};this.barreIcones.appendChild(this.iconPlay);this.iconPlay2=this.iconePlay(96,0,"rouge");this.iconPlay2.setAttribute("visibility","hidden");this.iconPlay2.onclick=function(){e.onPlayContinuer()};this.barreIcones.appendChild(this.iconPlay2);this.barreIcones.appendChild(this.iconPlayGris);this.iconRestart=this.iconeRestart(128,0,"fonce");this.iconRestartGris=this.iconeRestart(128,0,"clair");this.iconRestart.onclick=function(){e.onRestart()};this.barreIcones.appendChild(this.iconRestart);this.barreIcones.appendChild(this.iconRestartGris);this.iconStepNext=this.iconeStepNext(160,0,"fonce");this.iconStepNextGris=this.iconeStepNext(160,0,"clair");this.iconStepNext.onclick=function(){e.onStepNext()};this.barreIcones.appendChild(this.iconStepNext);this.barreIcones.appendChild(this.iconStepNextGris);this.iconGoEnd=this.iconeGoEnd(192,0,"fonce");this.iconGoEndGris=this.iconeGoEnd(192,0,"clair");this.iconGoEnd.onclick=function(){e.onGoEnd()};this.barreIcones.appendChild(this.iconGoEnd);this.barreIcones.appendChild(this.iconGoEndGris);this.iconXML=this.iconeXML(224,0,"fonce");this.iconXMLGris=this.iconeXML(224,0,"clair");this.iconXML.onclick=function(){e.onXML()};this.barreIcones.appendChild(this.iconXML);this.barreIcones.appendChild(this.iconXMLGris);this.hauteurBarre=32;this.demiLargeurBarre=t*16;this.xbarre=50;this.ybarre=4;this.barreIcones.setAttribute("transform","translate("+this.xbarre+",4)");this.svg.appendChild(this.barreIcones);this.isDraggingBarre=false;this.barreIcones.addEventListener("mousedown",function(t){e.onmousedownbarre(t.clientX,t.clientY)},false);this.barreIcones.addEventListener("mousemove",function(t){e.onmousemovebarre(t.clientX,t.clientY)},false);this.barreIcones.addEventListener("touchstart",function(t){e.onmousedownbarre(t.touches[0].pageX,t.touches[0].pageY)},false);this.barreIcones.addEventListener("touchmove",function(){e.onmousemovebarre()},false);this.deltax=0;this.deltay=0};n.prototype.onmousedownbarre=function(t,e){if(this.animationEnCours)return;this.isDraggingBarre=true;this.xcapturebarre=t;this.ycapturebarre=e};n.prototype.onmousemovebarre=function(){if(this.animationEnCours){this.barreIcones.style.cursor="default";this.isDraggingBarre=false;return}this.barreIcones.style.cursor="pointer"};n.prototype.onmousemove=function(t,e,i){if(this.isDraggingBarre){var r=parseInt(this.svg.getAttribute("width"));var n=parseInt(this.svg.getAttribute("height"));var s=e-this.xcapturebarre;var a=i-this.ycapturebarre;var o=this.deltax+s;var u=this.deltay+a;var c=this.xbarre+o;var l=this.ybarre+u;if(c<=r-2*this.demiLargeurBarre&&c>=0&&l>=0&&l<=n-this.hauteurBarre){this.barreIcones.setAttribute("transform","translate("+c+","+l+")");this.deltax=o;this.deltay=u;this.xcapturebarre=e;this.ycapturebarre=i}t.preventDefault()}};n.prototype.onmouseup=function(){this.isDraggingBarre=false};n.prototype.onmouseleave=function(){this.isDraggingBarre=false};n.prototype.onXML=function(){if(this.windowxml==null)this.windowxml=this.popup();else this.windowxml.focus()};n.prototype.montreIcone=function(t,e){var i="icon"+t;this[i].setAttribute("visibility",e?"visible":"hidden");this[i+"Gris"].setAttribute("visibility",e?"hidden":"visible")};n.prototype.activeIconeContinuer=function(){this.montreIcone("GoBegin",false);this.montreIcone("StepPrev",false);this.montreIcone("Pause",false);this.montreIcone("Play",false);this.montreIcone("Restart",false);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.iconPlayGris.setAttribute("visibility","hidden");this.iconPlay2.setAttribute("visibility","visible");this.montreIcone("XML",true)};n.prototype.InitialiseIcones=function(){this.montreIcone("GoBegin",false);this.montreIcone("StepPrev",false);this.montreIcone("Pause",true);this.montreIcone("Play",false);this.montreIcone("Restart",false);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.montreIcone("XML",false)};n.prototype.onGoBegin=function(){this.animationEnCours=false;this.initialise();this.montreIcone("GoBegin",false);this.montreIcone("StepPrev",false);this.montreIcone("Pause",false);this.montreIcone("Play",true);this.montreIcone("Restart",false);this.montreIcone("StepNext",true);this.montreIcone("GoEnd",true);this.montreIcone("XML",true);this.indiceActionEnCours=0};n.prototype.onGoEnd=function(){this.animationEnCours=false;this.initialise();this.montreIcone("GoBegin",true);this.montreIcone("StepPrev",true);this.montreIcone("Pause",false);this.montreIcone("Play",false);this.montreIcone("Restart",true);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.montreIcone("XML",true);this.executeJusque(this.actions.length-1);this.indiceActionEnCours=this.actions.length};n.prototype.onPlay=function(){this.animationEnCours=true;this.montreIcone("GoBegin",false);this.montreIcone("StepPrev",false);this.montreIcone("Pause",true);this.montreIcone("Play",false);this.montreIcone("Restart",false);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.montreIcone("XML",false);this.actions[this.indiceActionEnCours].execute(false)};n.prototype.onPlayContinuer=function(){if(this.indiceActionEnCours===this.actions.length){this.onGoEnd();return}this.iconPlay2.setAttribute("visibility","hidden");this.montreIcone("GoBegin",false);this.montreIcone("StepPrev",false);this.montreIcone("Pause",true);this.montreIcone("Play",false);this.montreIcone("Restart",false);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.montreIcone("XML",false);this.animationEnCours=true;this.indiceActionEnCours++;this.actions[this.indiceActionEnCours].execute(false)};n.prototype.onRestart=function(){var t=this;if(this.animationEnCours){this.animationEnCours=false;setTimeout(function(){t.onRestart()},100);return}if(this.animationEnCours)return;this.animationEnCours=false;this.initialise();this.indiceActionEnCours=0;this.onPlay()};n.prototype.onPause=function(){var t=this;t.animationEnCours=false;setTimeout(function(){t.montreIcone("GoBegin",true);t.montreIcone("StepPrev",true);t.montreIcone("Pause",false);t.montreIcone("Play",true);t.montreIcone("Restart",true);t.montreIcone("StepNext",true);t.montreIcone("GoEnd",true);t.montreIcone("XML",true)},500)};n.prototype.onStepNext=function(){var t=this.actions.length;this.animationEnCours=false;if(this.indiceActionEnCours<t){if(this.actions[this.indiceActionEnCours].actionVisible())this.indiceActionEnCours++;else this.indiceActionEnCours=this.indiceProchaineActionVisible(this.indiceActionEnCours)+1;this.executeJusque(this.indiceActionEnCours-1)}var e=this.indiceActionEnCours===this.actions.length;this.montreIcone("GoBegin",true);this.montreIcone("StepPrev",true);this.montreIcone("Pause",false);this.montreIcone("Play",!e);this.montreIcone("Restart",true);this.montreIcone("StepNext",!e);this.montreIcone("GoEnd",!e);this.montreIcone("XML",true)};n.prototype.onStepPrev=function(){this.animationEnCours=false;this.indiceActionEnCours=this.indicePrecedenteActionVisible(this.indiceActionEnCours-1);if(this.indiceActionEnCours>0)this.executeJusque(this.indiceActionEnCours-1);var t=this.indiceActionEnCours===0;this.montreIcone("GoBegin",!t);this.montreIcone("StepPrev",!t);this.montreIcone("Pause",false);this.montreIcone("Play",true);this.montreIcone("Restart",false);this.montreIcone("StepNext",true);this.montreIcone("GoEnd",true);this.montreIcone("XML",true)};n.prototype.initialise=function(){var t,e;var i=this.svg;for(t=0;t<i.childNodes.length;t++){e=i.childNodes[t];if(e!==this.barreIcones){try{i.childNodes[t].setAttribute("visibility","hidden")}catch(t){}}}for(t=0;t<this.actions.length;t++){var r=this.actions[t];if(r instanceof L)r.objet.initialisePosition()}this.initialiseOutils()};n.prototype.getInstrumentVisibility=function(t,e){if(e===-1)return false;var i;var r=false;for(var n=0;n<=e;n++){i=this.actions[n];if(i instanceof X){if(i.instrument===t)r=true}else if(i instanceof V){if(i.instrument===t)r=false}}return r};n.prototype.getObjectVisibility=function(t,e){if(e===-1)return false;var i;var r=false;for(var n=0;n<=e;n++){i=this.actions[n];if(i instanceof D){if(i.objet===t)r=true}else if(i instanceof G){if(i.objet===t)r=false}}return r};n.prototype.getCompasStatus=function(t){if(t===-1)return"couche";var e=true;var i;for(var r=0;r<=t;r++){i=this.actions[r];if(i instanceof j){e=true}else if(i instanceof B){e=false}}return e?"couche":"leve"};n.prototype.indiceProchaineActionVisible=function(t){if(t>=this.actions.length)return this.actions.length-1;for(var e=t;e<this.actions.length;e++){if(this.actions[e].actionVisible())return e}return this.actions.length-1};n.prototype.indicePrecedenteActionVisible=function(t){if(t<0)return 0;if(t===this.actions.length)t--;for(var e=t;e>=0;e--){if(this.actions[e].actionVisible())return e}return 0};n.prototype.montreInstrumentsEtape=function(t){var e=this.getInstrumentVisibility(this.compas,t);if(this.compas.leve)this.compasLeve.montre(e);else this.compas.montre(e);e=this.getInstrumentVisibility(this.crayon,t);this.crayon.montre(e);e=this.getInstrumentVisibility(this.equerre,t);this.equerre.montre(e);e=this.getInstrumentVisibility(this.rapporteur,t);this.rapporteur.montre(e);e=this.getInstrumentVisibility(this.regle,t);this.regle.montre(e);e=this.getInstrumentVisibility(this.requerre,t);this.requerre.montre(e)};n.prototype.executeJusque=function(t){if(t>=this.actions.length)return;this.initialise();this.initialiseOutils();this.animationEnCours=false;for(var e=0;e<=t;e++){this.actions[e].execute(true)}this.montreInstrumentsEtape(t)};n.prototype.addElement=function(t){var e,i;for(e=0;e<this.elements.length;e++){i=this.elements[e];if(i.id===t.id&&i.objet===t.objet){this.elements[e]=t;return}}this.elements.push(t)};n.prototype.pushElement=function(t){this.elements.push(t)};n.prototype.getElement=function(t,e){var i,r;if(e==="quadrillage"){for(i=0;i<this.elements.length;i++){r=this.elements[i];if(r.objet===e)return r}}else{for(i=0;i<this.elements.length;i++){r=this.elements[i];if(r.id===t&&r.objet===e)return r}}return null};n.prototype.setElement=function(t,e){for(var i=0;i<this.elements.length;i++){if(this.elements[i].id===t){this.elements[i]=e;return true}}return false};n.prototype.ajouteAction=function(t){t.indice=this.actions.length;this.actions.push(t)};n.prototype.creeActions=function(){var t,e,i,r,n,s,a,o,u,c,l,h,f,d,p,v,g,b,m,y,x,A,S,w;for(t=0;t<this.tabact.length;t++){e=this.tabact[t];c=this.getId(e);i=e.getAttribute("mouvement");b=e.getAttribute("tempo");try{var E=void 0,C=void 0;switch(i){case"creer":r=e.getAttribute("objet");if(this.getElement(c,r)!==null)break;if(r!=null){switch(r){case"point":n=new dt(this,c,parseFloat(this.getAbs(e)),parseFloat(this.getOrd(e)),this.getCouleur(e),this.getEpaisseur(e));s=new L(this,c,n,b);break;case"angle":n=new it(this,c,this.getAbs(e),this.getOrd(e),e.getAttribute("rayon"),e.getAttribute("angle1"),e.getAttribute("angle2"),this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteFond(e),e.getAttribute("forme"));s=new L(this,c,n,b);break;case"angle_droit":n=new rt(this,c,e.getAttribute("abscisse_sommet"),e.getAttribute("ordonnee_sommet"),e.getAttribute("abscisse_inter"),e.getAttribute("ordonnee_inter"),this.getCouleur(e),this.getEpaisseur(e));s=new L(this,c,n,b);break;case"longueur":n=new ht(this,c,this.getAbs(e),this.getOrd(e),this.getCouleur(e),this.getEpaisseur(e),e.getAttribute("forme"));s=new L(this,c,n,b);break;case"texte":n=new mt(this,c,this.getAbs(e),this.getOrd(e),this.getCouleur(e),e.getAttribute("taille"));s=new L(this,c,n,b);break;case"repere":n=new gt(this,e.getAttribute("hauteur"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),e.getAttribute("Xgrad"),e.getAttribute("Ygrad"),e.getAttribute("Xmin"),e.getAttribute("Xmax"),e.getAttribute("Ymin"),e.getAttribute("Ymax"),this.getCouleur(e),e.getAttribute("grille"),e.getAttribute("axes"),e.getAttribute("etiquettes"));s=new L(this,c,n,b);break;case"quadrillage":E=e.getAttribute("abscisse_bas_droite");if(E!=null){E=parseFloat(E)/30;var N=parseFloat(e.getAttribute("ordonnee_bas_droite"))/30;var M=parseFloat(e.getAttribute("abscisse_haut_gauche"))/30;var k=parseFloat(e.getAttribute("ordonnee_haut_gauche"))/30;n=new vt(this,e.getAttribute("quadrillage"),String(N-k),String(E-M),k,M,this.getCouleur(e));s=new L(this,"quadrillageIEP",n,b)}else{n=new vt(this,e.getAttribute("quadrillage"),e.getAttribute("hauteur"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),this.getCouleur(e))}s=new L(this,"quadrillageIEP",n,b);break;case"axe":n=new at(this,e.getAttribute("pente"),e.getAttribute("largeur"),e.getAttribute("haut"),e.getAttribute("gauche"),e.getAttribute("distanceBord"),e.getAttribute("Xgrad"),e.getAttribute("Xmin"),e.getAttribute("Xmax"),this.getCouleur(e));s=new L(this,c,n,b);break;case"gabarit":C=e.getAttribute("ecart_angle");if(C===null)C="-30";n=new st(this,c,e.getAttribute("abscisse"),e.getAttribute("ordonnee"),e.getAttribute("rayon"),C,this.getCouleur(e),this.getEpaisseur(e),this.getCouleurFond(e),this.getOpaciteTrait(e));s=new L(this,c,n,b);break;default:s=null}if(s){this.ajouteAction(s);s.setReady()}}break;case"montrer":r=e.getAttribute("objet");if(F.estInstrument(r)){d=e.getAttribute("abscisse");p=e.getAttribute("ordonnee");s=new X(this,this[r],d,p,b);if((r==="crayon"||r==="compas")&&d!=null&&p!=null)this[r].translate(parseFloat(d),parseFloat(p))}else s=new D(this,c,r,b);this.ajouteAction(s);s.setReady();break;case"masquer":r=e.getAttribute("objet");if(F.estInstrument(r))s=new V(this,this[r],b);else s=new G(this,c,r,b);this.ajouteAction(s);s.setReady();break;case"tracer":r=e.getAttribute("objet");w=e.getAttribute("cible");if(w!=null){n=this.getElement(w,"point");d=n.xcons;p=n.ycons}else{d=parseFloat(this.getAbs(e));p=parseFloat(this.getOrd(e))}switch(r){case"crayon":a=e.getAttribute("forme");o=this.crayon.x;u=this.crayon.y;c=this.getId(e);switch(a){case null:if(isNaN(d)||isNaN(p)){n=new lt(this,c,this.crayon.x,this.crayon.y,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));m=n.abs.length;this.crayon.translate(n.abs[m-1],n.ord[m-1])}else{n=new bt(this,c,o,u,d,p,this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));this.crayon.translate(d,p)}break;case"droite":if(isNaN(d)||isNaN(p))break;n=new ut(this,c,o,u,d,p,this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));this.crayon.translate(d,p);break;case"demidroite":if(isNaN(d)||isNaN(p))break;n=new ot(this,c,o,u,d,p,this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));this.crayon.translate(d,p);break;case"polygone":v=e.getAttribute("cibles");if(v===null){n=new pt(this,c,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),this.getCouleur(e),this.getEpaisseur(e),this.getCouleurFond(e),e.getAttribute("opacite"))}else{g=this.getCoord(v);n=new pt(this,c,g.abs,g.ord,this.getCouleur(e),this.getEpaisseur(e),this.getCouleurFond(e),e.getAttribute("opacite"))}m=n.abs.length;this.crayon.translate(n.abs[m-1],n.ord[m-1]);break;case"libre":n=new lt(this,c,this.crayon.x,this.crayon.y,e.getAttribute("abscisses"),e.getAttribute("ordonnees"),this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));m=n.abs.length;this.crayon.translate(n.abs[m-1],n.ord[m-1])}f=e.getAttribute("vitesse");if(f==null)f="4";s=new L(this,this.getId(e),n,b,f);this.ajouteAction(s);s.setReady();break;case"trait":f=e.getAttribute("vitesse");if(f===null)f=1e4;n=new bt(this,c,e.getAttribute("abscisse1"),e.getAttribute("ordonnee1"),e.getAttribute("abscisse2"),e.getAttribute("ordonnee2"),this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e),this.getStyle(e));s=new L(this,this.getId(e),n,b,f);this.ajouteAction(s);s.setReady();break;case"compas":n=new nt(this,c,this.compas.x,this.compas.y,this.compas.ecart,this.getAngle(e,"debut"),this.getAngle(e,"fin"),this.getCouleur(e),this.getEpaisseur(e),this.getOpaciteTrait(e),this.getStyleTrait(e));f=e.getAttribute("sens");if(f==null)f="8";s=new L(this,this.getId(e),n,b,f);this.ajouteAction(s);s.setReady();break;case"angle_droit":n=new rt(this,c,e.getAttribute("abscisse_sommet"),e.getAttribute("ordonnee_sommet"),e.getAttribute("abscisse_inter"),e.getAttribute("ordonnee_inter"),this.getCouleur(e),this.getEpaisseur(e));s=new L(this,this.getId(e),n,b,f);this.ajouteAction(s);s.setReady();break}break;case"rotation":r=e.getAttribute("objet");h=e.getAttribute("sens");if(F.estInstrument(r)){w=e.getAttribute("cible");if(w!=null&&e.getAttribute("angle")===null){n=this.getElement(w,"point");d=n.xcons;p=n.ycons;x=new O(this[r].x,this[r].y,d,p);if(x.presqueNul())l=0;else l=-x.angle()}else{if(r==="compas")l=this.getAngle(e,"angle");else l=e.getAttribute("angle")}s=new J(this,this[r],l,b,h)}else{if(this.getElement(c,r)===null)s=null;else{l=e.getAttribute("angle");s=new U(this,c,l,r,b,h)}}if(s!==null){this.ajouteAction(s);s.setReady()}break;case"translation":r=e.getAttribute("objet");w=e.getAttribute("cible");if(w!=null){n=this.getElement(w,"point");d=n.xcons;p=n.ycons}else{d=parseFloat(this.getAbs(e));p=parseFloat(this.getOrd(e))}f=e.getAttribute("vitesse");if(F.estInstrument(r)){this[r].x=d;this[r].y=p;s=new W(this,this[r],d,p,b,f)}else{if(this.getElement(c,r)===null)s=null;else{if(r==="point"){S=this.getElement(c,"point");S.xcons=d;S.ycons=p}s=new Q(this,c,d,p,r,b,f)}}if(s!==null){this.ajouteAction(s);if(r==="crayon"||r==="compas"){this[r].translate(d,p)}s.setReady()}break;case"zoom":r=e.getAttribute("objet");f=e.getAttribute("vitesse");if(F.estInstrument(r)){A=e.getAttribute("echelle");this[r].zoomfactor=parseFloat(A)/100;s=new K(this,this[r],A,b,f)}else{if(r==="texte"||r==="image")s=new tt(this,c,e.getAttribute("echelle"),r,b,f);else s=null}if(s!==null){this.ajouteAction(s);s.setReady()}break;case"ecarter":w=e.getAttribute("cible");if(w!=null){n=this.getElement(w,"point");x=new O(this.compas.x,this.compas.y,n.xcons,n.ycons);y=x.norme()}else y=parseFloat(e.getAttribute("ecart"))*this.compas.zoomfactor;this.compas.ecart=y;s=new T(this,y,b,e.getAttribute("vitesse"));this.ajouteAction(s);s.setReady();break;case"lever":s=new B(this,b);this.ajouteAction(s);s.setReady();break;case"coucher":s=new j(this,b);this.ajouteAction(s);s.setReady();break;case"masquer_nombres":s=new H(this,false,b);this.ajouteAction(s);s.setReady();break;case"montrer_nombres":s=new H(this,true,b);this.ajouteAction(s);s.setReady();break;case"graduations":r=e.getAttribute("objet");s=new q(this,this[r],true,b);this.ajouteAction(s);s.setReady();break;case"vide":r=e.getAttribute("objet");s=new q(this,this[r],false,b);this.ajouteAction(s);s.setReady();break;case"retourner":this.compasRetourne=!this.compasRetourne;s=new Y(this,b);this.ajouteAction(s);s.setReady();break;case"glisser":s=new _(this,e.getAttribute("abscisse"),b,e.getAttribute("vitesse"));this.ajouteAction(s);s.setReady();break;case"chargement":n=new ct(this,c,e.getAttribute("url"));n.prepareAction();break;case"ecrire":s=new R(this,c,this.getCouleur(e),e.getAttribute("taille"),e.getAttribute("texte"),e.getAttribute("style"),this.getCouleurFondTexte(e),e.getAttribute("opacite_fond"),this.getCouleurCadre(e),e.getAttribute("epaisseur_cadre"),e.getAttribute("marge"),e.getAttribute("marge_gauche"),e.getAttribute("marge_droite"),e.getAttribute("marge_haut"),e.getAttribute("marge_bas"),b);this.ajouteAction(s);s.prepare();break;case"nommer":if(this.getElement(c,"point")!==null){var I=e.getAttribute("nom");if(I!==""){n=new ft(this,c,this.getAbs(e),this.getOrd(e),I,this.getCouleur(e));s=new $(this,n,b);this.ajouteAction(s);s.prepare()}}break;case"pause":s=new Z(this,b);this.ajouteAction(s);s.setReady();break;case"modifier_longueur":r=e.getAttribute("objet");s=new z(this,this[r],e.getAttribute("longueur"),b);this.ajouteAction(s);s.setReady();break;case"modifier_rayon":r=e.getAttribute("objet");s=new et(this,c,e.getAttribute("rayon"),r,b);this.ajouteAction(s);s.setReady();break}}catch(t){}}var P=this;setTimeout(function(){if(!P.started){console.error("10s après l’instanciation IepDoc la figure n’est toujours pas prête");window.alert("Le chargement de la figure IEP a échoué");P.started=true}},2e4);this.waitForReadyState()};n.prototype.execute=function(t){this.indiceActionEnCours=0;this.actions[0].execute(t)};n.prototype.actionSuivante=function(t){var e=arguments.length===0?false:t;if(!this.animationEnCours&&!e){return}var i=this.actions[this.indiceActionEnCours];if(i.tempo===null||e)this.passageActionSuivante(e);else{var r=this;setTimeout(function(){r.passageActionSuivante(e)},i.tempo)}};n.prototype.passageActionSuivante=function(t){if(this.indiceActionEnCours>=this.actions.length)return;if(this.indiceActionEnCours!==this.actions.length-1){this.indiceActionEnCours++;this.actions[this.indiceActionEnCours].execute(t)}else{this.indiceActionEnCours++;this.montreIcone("GoBegin",true);this.montreIcone("StepPrev",true);this.montreIcone("Pause",false);this.montreIcone("Play",false);this.montreIcone("StepNext",false);this.montreIcone("GoEnd",false);this.montreIcone("Restart",true);this.montreIcone("XML",true);this.animationEnCours=false}};n.prototype.getCouleur=function(t){var e=t.getAttribute("couleur");if(e===null)return"black";else return F.couleur(e)};n.prototype.getCouleurCadre=function(t){var e=t.getAttribute("couleur_cadre");if(e===null)return null;else return F.couleur(e)};n.prototype.getCouleurFond=function(t){var e=t.getAttribute("couleur_fond");if(e===null)return null;else return F.couleur(e)};n.prototype.getCouleurFondTexte=function(t){var e=t.getAttribute("couleur_fond");if(e===null)return null;else return F.couleur(e)};n.prototype.getEpaisseur=function(t){var e=t.getAttribute("epaisseur");if(e===null||parseInt(e)===0)return"1";else return e};n.prototype.getOpaciteTrait=function(t){var e=t.getAttribute("opacite");if(e===null)return"100";else return e};n.prototype.getOpaciteFond=function(t){var e=t.getAttribute("opacite");if(e===null)return"50";else return e};n.prototype.getStyleTrait=function(t){var e=t.getAttribute("pointille");if(e==null)return"continu";else return e};n.prototype.getStyle=function(t){var e=t.getAttribute("style");if(e==null)return"normal";else return e};n.prototype.getId=function(t){return t.getAttribute("id")};n.prototype.getAbs=function(t){return t.getAttribute("abscisse")};n.prototype.getOrd=function(t){var e=t.getAttribute("ordonnee");if(e!==null)return e;else return t.getAttribute("ordonnée")};n.prototype.getCoord=function(t){var n=this;var s="";var a="";t.split(",").forEach(function(t,e){var i=e===0?"":",";var r=n.getElement(t,"point");s+=i+r.xcons;a+=i+r.ycons});return{abs:s,ord:a}};n.prototype.getAngle=function(t,e){var i=t.getAttribute(e);if(i==null)return null;if(this.compasRetourne)return String(parseFloat(i)+180);else return i};n.prototype.iconePlay=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"polygon");a.setAttribute("points","-5,8 8,0 -5,-8");a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);return r};n.prototype.iconePause=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"rect");a.setAttribute("x",-6);a.setAttribute("y",-7);a.setAttribute("width",3);a.setAttribute("height",14);a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);a=document.createElementNS(F.svgsn,"rect");a.setAttribute("x",2);a.setAttribute("y",-7);a.setAttribute("width",3);a.setAttribute("height",14);a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);return r};n.prototype.iconeStepNext=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"rect");a.setAttribute("x",5);a.setAttribute("y",-6);a.setAttribute("width",3);a.setAttribute("height",12);a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);var o=document.createElementNS(F.svgsn,"polygon");o.setAttribute("points","-7,6 2,0 -7,-6");o.setAttribute("style","stroke:white;fill:white;");o.setAttribute("transform","translate(16,16)");r.appendChild(o);return r};n.prototype.iconeStepPrev=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"rect");a.setAttribute("x",-7);a.setAttribute("y",-6);a.setAttribute("width",3);a.setAttribute("height",12);a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);var o=document.createElementNS(F.svgsn,"polygon");o.setAttribute("points","7,6 -2,0 7,-6");o.setAttribute("style","stroke:white;fill:white;");o.setAttribute("transform","translate(16,16)");r.appendChild(o);return r};n.prototype.iconeGoEnd=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"polygon");a.setAttribute("points","-6,7 1,0 -6,-7");a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);a=document.createElementNS(F.svgsn,"polygon");a.setAttribute("points","3,7 10,0 3,-7");a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);return r};n.prototype.iconeGoBegin=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"polygon");a.setAttribute("points","6,7 -1,0 6,-7");a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);a=document.createElementNS(F.svgsn,"polygon");a.setAttribute("points","-3,7 -10,0 -3,-7");a.setAttribute("style","stroke:white;fill:white;");a.setAttribute("transform","translate(16,16)");r.appendChild(a);return r};n.prototype.iconeRestart=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"path");a.setAttribute("d","M 0 -8 A 8 8 -90 1 1 -8 0");a.setAttribute("style","stroke:white;stroke-width:3;fill:none;");a.setAttribute("marker-end","url(#markerarrow");a.setAttribute("transform","translate(16,16)");r.appendChild(a);return r};n.prototype.iconeXML=function(t,e,i){var r=document.createElementNS(F.svgsn,"svg");r.setAttribute("x",t);r.setAttribute("y",e);r.setAttribute("width",32);r.setAttribute("height",32);var n=document.createElementNS(F.svgsn,"circle");r.appendChild(n);n.setAttribute("cx",16);n.setAttribute("cy",16);n.setAttribute("r",15);var s=i==="fonce"?"filtrebleu":"filtregris";n.setAttribute("style","stroke:none;"+"fill:url(#radial"+i+"); filter:url(#"+s+");");var a=document.createElementNS(F.svgsn,"text");a.setAttribute("pointer-events","none");a.appendChild(document.createTextNode("XML"));a.setAttribute("x",16);a.setAttribute("y",21);a.setAttribute("style","font-family:Arial;font-size:9pt;fill:white;text-anchor:middle");r.appendChild(a);return r};n.prototype.creeElementsPourIcones=function(){var t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.radialGradiant("#9999FF","#000099","radialfonce"));this.svg.appendChild(t);t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.radialGradiant("#CCCCCC","#666666","radialclair"));this.svg.appendChild(t);t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.radialGradiant("#FF9999","#FF0000","radialrouge"));this.svg.appendChild(t);t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.markerArrow("markerarrow"));this.barreIcones.appendChild(t);t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.filtreEclairageIcone("filtrebleu"));this.barreIcones.appendChild(t);t=document.createElementNS(F.svgsn,"defs");t.appendChild(this.filtreEclairageIcone("filtregris"));this.barreIcones.appendChild(t)};n.prototype.radialGradiant=function(t,e,i){var r=document.createElementNS(F.svgsn,"radialGradient");r.setAttribute("id",i);var n=document.createElementNS(F.svgsn,"stop");n.setAttribute("offset","0%");n.setAttribute("style","stop-color:"+e+";");r.appendChild(n);n=document.createElementNS(F.svgsn,"stop");n.setAttribute("offset","80%");n.setAttribute("style","stop-color:"+t+";");r.appendChild(n);n=document.createElementNS(F.svgsn,"stop");n.setAttribute("offset","100%");n.setAttribute("style","stop-color:"+e+";");r.appendChild(n);return r};n.prototype.markerArrow=function(t){var e=document.createElementNS(F.svgsn,"marker");e.setAttribute("id",t);e.setAttribute("markerWidth","4");e.setAttribute("markerHeight","4");e.setAttribute("refX","0");e.setAttribute("refY","2");e.setAttribute("orient","auto");var i=document.createElementNS(F.svgsn,"path");i.setAttribute("d","M 0 0 2 2 0 4 Z");i.setAttribute("style","fill:white;");e.appendChild(i);return e};n.prototype.filtreEclairageIcone=function(t){var e=document.createElementNS(F.svgsn,"filter");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("color-interpolation-filters","sRGB");var i=document.createElementNS(F.svgsn,"feDiffuseLighting");i.setAttribute("lighting-color","white");i.setAttribute("surfaceScale","1");i.setAttribute("diffuseConstant","1.2");i.setAttribute("in","SourceGraphic");i.setAttribute("result","diffOut");var r=document.createElementNS(F.svgsn,"fePointLight");r.setAttribute("x","5");r.setAttribute("y","5");r.setAttribute("z","15");i.appendChild(r);e.appendChild(i);var n=document.createElementNS(F.svgsn,"feComposite");n.setAttribute("in","SourceGraphic");n.setAttribute("in2","diffOut");n.setAttribute("operator","arithmetic");n.setAttribute("k1","1");n.setAttribute("k2","0");n.setAttribute("k3","0");n.setAttribute("k4","0");e.appendChild(n);e.setAttribute("id",t);return e};n.prototype.popup=function(){var t=window.open("","popup","width=700,height=450,toolbar=no,scrollbars=no,resizable=yes");t.iepDoc=this;var e=t.document;e.title="Code Xml de la figure";var i=document.createElement("div");var r=document.createElement("form");i.appendChild(r);i.setAttribute("align","center");e.body.appendChild(i);var n=document.createElement("textarea");r.appendChild(n);n.setAttribute("cols",80);n.setAttribute("rows",25);n.setAttribute("readonly",true);n.style.fontSize="13px";n.scrollIntoView();var s=this.codexml;s=s.replace(/>\s*</g,">\n<");n.appendChild(document.createTextNode(s));n.select();t.addEventListener("unload",function(){this.iepDoc.windowxml=null});return t}},function(t,e,i){"use strict";var r=i(6);var n=i(2);var s=i(28);var a=i(13);var o=i(70);var u=i(5);var c=i(9);var l=i(53);var h=i(8);var f=i(7);var d=i(32);var p=i(20);var v=i(26);var g=i(25);var b=i(39);var m=i(71);var y=i(30);var x=i(114);var A=i(69);var S=i(24);var w=i(11);var E=i(63);var C=i(10);var N=i(15);var M=i(27);var k=i(35);var I=i(36);var P=i(49);var F=i(4);var O=i(73);var j=i(74);var L=i(40);var T=i(29);var R=i(54).forEach;var _=k("hidden");var B="Symbol";var G="prototype";var V=F("toPrimitive");var z=T.set;var D=T.getterFor(B);var q=Object[G];var X=n.Symbol;var H=n.JSON;var $=H&&H.stringify;var Z=S.f;var J=w.f;var Y=x.f;var U=E.f;var W=M("symbols");var Q=M("op-symbols");var K=M("string-to-symbol-registry");var tt=M("symbol-to-string-registry");var et=M("wks");var it=n.QObject;var rt=!it||!it[G]||!it[G].findChild;var nt=a&&u(function(){return b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a!=7})?function(t,e,i){var r=Z(q,e);if(r)delete q[e];J(t,e,i);if(r&&t!==q){J(q,e,r)}}:J;var st=function(t,e){var i=W[t]=b(X[G]);z(i,{type:B,tag:t,description:e});if(!a)i.description=e;return i};var at=o&&typeof X.iterator=="symbol"?function(t){return typeof t=="symbol"}:function(t){return Object(t)instanceof X};var ot=function t(e,i,r){if(e===q)ot(Q,i,r);f(e);var n=v(i,true);f(r);if(c(W,n)){if(!r.enumerable){if(!c(e,_))J(e,_,g(1,{}));e[_][n]=true}else{if(c(e,_)&&e[_][n])e[_][n]=false;r=b(r,{enumerable:g(0,false)})}return nt(e,n,r)}return J(e,n,r)};var ut=function t(e,i){f(e);var r=p(i);var n=m(r).concat(dt(r));R(n,function(t){if(!a||lt.call(r,t))ot(e,t,r[t])});return e};var ct=function t(e,i){return i===undefined?b(e):ut(b(e),i)};var lt=function t(e){var i=v(e,true);var r=U.call(this,i);if(this===q&&c(W,i)&&!c(Q,i))return false;return r||!c(this,i)||!c(W,i)||c(this,_)&&this[_][i]?r:true};var ht=function t(e,i){var r=p(e);var n=v(i,true);if(r===q&&c(W,n)&&!c(Q,n))return;var s=Z(r,n);if(s&&c(W,n)&&!(c(r,_)&&r[_][n])){s.enumerable=true}return s};var ft=function t(e){var i=Y(p(e));var r=[];R(i,function(t){if(!c(W,t)&&!c(I,t))r.push(t)});return r};var dt=function t(e){var i=e===q;var r=Y(i?Q:p(e));var n=[];R(r,function(t){if(c(W,t)&&(!i||c(q,t))){n.push(W[t])}});return n};if(!o){X=function t(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var i=P(e);var r=function(t){if(this===q)r.call(Q,t);if(c(this,_)&&c(this[_],i))this[_][i]=false;nt(this,i,g(1,t))};if(a&&rt)nt(q,i,{configurable:true,set:r});return st(i,e)};N(X[G],"toString",function t(){return D(this).tag});E.f=lt;w.f=ot;S.f=ht;y.f=x.f=ft;A.f=dt;if(a){J(X[G],"description",{configurable:true,get:function t(){return D(this).description}});if(!s){N(q,"propertyIsEnumerable",lt,{unsafe:true})}}O.f=function(t){return st(F(t),t)}}r({global:true,wrap:true,forced:!o,sham:!o},{Symbol:X});R(m(et),function(t){j(t)});r({target:B,stat:true,forced:!o},{for:function(t){var e=String(t);if(c(K,e))return K[e];var i=X(e);K[e]=i;tt[i]=e;return i},keyFor:function t(e){if(!at(e))throw TypeError(e+" is not a symbol");if(c(tt,e))return tt[e]},useSetter:function(){rt=true},useSimple:function(){rt=false}});r({target:"Object",stat:true,forced:!o,sham:!a},{create:ct,defineProperty:ot,defineProperties:ut,getOwnPropertyDescriptor:ht});r({target:"Object",stat:true,forced:!o},{getOwnPropertyNames:ft,getOwnPropertySymbols:dt});r({target:"Object",stat:true,forced:u(function(){A.f(1)})},{getOwnPropertySymbols:function t(e){return A.f(d(e))}});H&&r({target:"JSON",stat:true,forced:!o||u(function(){var t=X();return $([t])!="[null]"||$({a:t})!="{}"||$(Object(t))!="{}"})},{stringify:function t(e){var i=[e];var r=1;var n,s;while(arguments.length>r)i.push(arguments[r++]);s=n=i[1];if(!h(n)&&e===undefined||at(e))return;if(!l(n))n=function(t,e){if(typeof s=="function")e=s.call(this,t,e);if(!at(e))return e};i[1]=n;return $.apply(H,i)}});if(!X[G][V])C(X[G],V,X[G].valueOf);L(X,B);I[_]=true},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){if(typeof window==="object")i=window}t.exports=i},function(t,e,i){var r=i(2);var n=i(66);var s=r.WeakMap;t.exports=typeof s==="function"&&/native code/.test(n.call(s))},function(t,e,i){var r=i(37);var n=i(30);var s=i(69);var a=i(7);t.exports=r("Reflect","ownKeys")||function t(e){var i=n.f(a(e));var r=s.f;return r?i.concat(r(e)):i}},function(t,e,i){var r=i(31);var n=Math.max;var s=Math.min;t.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):s(i,e)}},function(t,e,i){var r=i(13);var o=i(11);var u=i(7);var c=i(71);t.exports=r?Object.defineProperties:function t(e,i){u(e);var r=c(i);var n=r.length;var s=0;var a;while(n>s)o.f(e,a=r[s++],i[a]);return e}},function(t,e,i){var r=i(20);var n=i(30).f;var s={}.toString;var a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var o=function(t){try{return n(t)}catch(t){return a.slice()}};t.exports.f=function t(e){return a&&s.call(e)=="[object Window]"?o(e):n(r(e))}},function(t,e,i){"use strict";var r=i(6);var n=i(13);var s=i(2);var a=i(9);var o=i(8);var u=i(11).f;var c=i(67);var l=s.Symbol;if(n&&typeof l=="function"&&(!("description"in l.prototype)||l().description!==undefined)){var h={};var f=function t(){var e=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var i=this instanceof f?new l(e):e===undefined?l():l(e);if(e==="")h[i]=true;return i};c(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString;var v=String(l("test"))=="Symbol(test)";var g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:true,get:function t(){var e=o(this)?this.valueOf():this;var i=p.call(e);if(a(h,e))return"";var r=v?i.slice(7,-1):i.replace(g,"$1");return r===""?undefined:r}});r({global:true,forced:true},{Symbol:f})}},function(t,e,i){var r=i(74);r("iterator")},function(t,e,i){"use strict";var r=i(6);var n=i(5);var s=i(53);var a=i(8);var l=i(32);var h=i(21);var f=i(118);var d=i(75);var o=i(76);var u=i(4);var c=u("isConcatSpreadable");var p=9007199254740991;var v="Maximum allowed index exceeded";var g=!n(function(){var t=[];t[c]=false;return t.concat()[0]!==t});var b=o("concat");var m=function(t){if(!a(t))return false;var e=t[c];return e!==undefined?!!e:s(t)};var y=!g||!b;r({target:"Array",proto:true,forced:y},{concat:function t(e){var i=l(this);var r=d(i,0);var n=0;var s,a,o,u,c;for(s=-1,o=arguments.length;s<o;s++){c=s===-1?i:arguments[s];if(m(c)){u=h(c.length);if(n+u>p)throw TypeError(v);for(a=0;a<u;a++,n++)if(a in c)f(r,n,c[a])}else{if(n>=p)throw TypeError(v);f(r,n++,c)}}r.length=n;return r}})},function(t,e,i){"use strict";var n=i(26);var s=i(11);var a=i(25);t.exports=function(t,e,i){var r=n(e);if(r in t)s.f(t,r,a(0,i));else t[r]=i}},function(t,e,i){"use strict";var r=i(6);var n=i(54).filter;var s=i(76);r({target:"Array",proto:true,forced:!s("filter")},{filter:function t(e){return n(this,e,arguments.length>1?arguments[1]:undefined)}})},function(t,e,i){"use strict";var n=i(81).IteratorPrototype;var s=i(39);var a=i(25);var o=i(40);var u=i(34);var c=function(){return this};t.exports=function(t,e,i){var r=e+" Iterator";t.prototype=s(n,{next:a(1,i)});o(t,r,false,true);u[r]=c;return t}},function(t,e,i){var r=i(5);t.exports=!r(function(){function t(){}t.prototype.constructor=null;return Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,i){var r=i(8);t.exports=function(t){if(!r(t)&&t!==null){throw TypeError("Can't set "+String(t)+" as a prototype")}return t}},function(t,e,i){"use strict";var r=i(84);var n=i(4);var s=n("toStringTag");var a={};a[s]="z";t.exports=String(a)!=="[object z]"?function t(){return"[object "+r(this)+"]"}:a.toString},function(t,e,i){var r=i(2);var n=i(42).trim;var s=i(43);var a=r.parseFloat;var o=1/a(s+"-0")!==-Infinity;t.exports=o?function t(e){var i=n(String(e));var r=a(i);return r===0&&i.charAt(0)=="-"?-0:r}:a},function(t,e,i){var r=i(2);var n=i(42).trim;var s=i(43);var a=r.parseInt;var o=/^[+-]?0[Xx]/;var u=a(s+"08")!==8||a(s+"0x16")!==22;t.exports=u?function t(e,i){var r=n(String(e));return a(r,i>>>0||(o.test(r)?16:10))}:a},function(t,e,i){"use strict";var s=i(87).charAt;var r=i(29);var n=i(80);var a="String Iterator";var o=r.set;var u=r.getterFor(a);n(String,"String",function(t){o(this,{type:a,string:String(t),index:0})},function t(){var e=u(this);var i=e.string;var r=e.index;var n;if(r>=i.length)return{value:undefined,done:true};n=s(i,r);e.index+=n.length;return{value:n,done:false}})},function(t,e){t.exports=Object.is||function t(e,i){return e===i?e!==0||1/e===1/i:e!=e&&i!=i}},function(t,e,i){var r=i(2);var n=i(91);var s=i(129);var a=i(10);for(var o in n){var u=r[o];var c=u&&u.prototype;if(c&&c.forEach!==s)try{a(c,"forEach",s)}catch(t){c.forEach=s}}},function(t,e,i){"use strict";var r=i(54).forEach;var n=i(77);t.exports=n("forEach")?function t(e){return r(this,e,arguments.length>1?arguments[1]:undefined)}:[].forEach},function(t,e,i){var r=i(2);var n=i(91);var s=i(78);var a=i(10);var o=i(4);var u=o("iterator");var c=o("toStringTag");var l=s.values;for(var h in n){var f=r[h];var d=f&&f.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(t){d[u]=l}if(!d[c])a(d,c,h);if(n[h])for(var p in s){if(d[p]!==s[p])try{a(d,p,s[p])}catch(t){d[p]=s[p]}}}}},function(t,e,i){"use strict";var r=i(6);var n=i(51).includes;var s=i(79);r({target:"Array",proto:true},{includes:function t(e){return n(this,e,arguments.length>1?arguments[1]:undefined)}});s("includes")},function(t,e,i){"use strict";var r=i(6);var n=i(133);var s=i(14);var a=i(134);r({target:"String",proto:true,forced:!a("includes")},{includes:function t(e){return!!~String(s(this)).indexOf(n(e),arguments.length>1?arguments[1]:undefined)}})},function(t,e,i){var r=i(57);t.exports=function(t){if(r(t)){throw TypeError("The method doesn't accept regular expressions")}return t}},function(t,e,i){var r=i(4);var n=r("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{i[n]=false;return"/./"[e](i)}catch(t){}}return false}},function(t,e,i){var r=i(6);var n=i(136);r({target:"String",proto:true},{repeat:n})},function(t,e,i){"use strict";var s=i(31);var a=i(14);t.exports="".repeat||function t(e){var i=String(a(this));var r="";var n=s(e);if(n<0||n==Infinity)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(i+=i))if(n&1)r+=i;return r}},function(t,e,i){"use strict";var r=i(6);var n=i(42).trim;var s=i(138);r({target:"String",proto:true,forced:s("trim")},{trim:function t(){return n(this)}})},function(t,e,i){var r=i(5);var n=i(43);var s="​᠎";t.exports=function(t){return r(function(){return!!n[t]()||s[t]()!=s||n[t].name!==t})}},function(t,e,i){"use strict";var r=i(6);var n=i(92);var s=i(93);r({target:"String",proto:true,forced:s("bold")},{bold:function t(){return n(this,"b","","")}})},function(t,e,i){"use strict";var r=i(6);var n=i(92);var s=i(93);r({target:"String",proto:true,forced:s("italics")},{italics:function t(){return n(this,"i","","")}})},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var E=i(1);var r=i(19);t.exports=n;function n(t){r.call(this,t);this.ecart=0;this.bretourne=false;this.leve=false;this.lon=185;this.longpointe=18;var e=this.lon+this.longpointe;this.alp=Math.asin(this.ecart/(2*e))/Math.PI*180;this.decbh=30;this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle,1);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.initialisePosition=function(){r.prototype.initialisePosition.call(this);this.ecart=0;this.positionne()};n.prototype.creeg=function(){var t,e,i,r,n,s,a;var o=this.lon;var u=this.longpointe;var c=7;var l=20;var h=6;var f=3.5;var d=3;var p=12;var v=24;var g=35;var b=6;var m=50;var y=3;var x=70;t=document.createElementNS(E.svgsn,"g");this.bg=document.createElementNS(E.svgsn,"g");e=document.createElementNS(E.svgsn,"line");e.setAttribute("x1",0);e.setAttribute("y1",0);e.setAttribute("x2",0);e.setAttribute("y2",-u);e.setAttribute("style","stroke: black; stroke-width:1.5;");this.bg.appendChild(e);i=document.createElementNS(E.svgsn,"path");r="M0 "+String(-u)+"L 0 "+String(-u-o)+" "+String(-c)+" "+String(-u-o)+" "+String(-c)+" "+String(-u)+"Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");this.bg.appendChild(i);n=document.createElementNS(E.svgsn,"circle");n.setAttribute("cx",-c/2);n.setAttribute("cy",-u-l);n.setAttribute("r",h);n.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");this.bg.appendChild(n);n=document.createElementNS(E.svgsn,"circle");n.setAttribute("cx",-c/2);n.setAttribute("cy",-u-l);n.setAttribute("r",2);n.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1");this.bg.appendChild(n);t.appendChild(this.bg);this.bd=document.createElementNS(E.svgsn,"g");i=document.createElementNS(E.svgsn,"path");r="M 0 0 L0"+" "+String(-u)+" "+f+" "+String(-u-f)+" "+f+" "+String(-f-3)+"Z";i.setAttribute("style","stroke:black;stroke-width:0.75; fill: blck; fill-opacity: 1");i.setAttribute("d",r);this.bd.appendChild(i);i=document.createElementNS(E.svgsn,"path");r="M0 "+String(-u)+"L 0 "+String(-u-o)+" "+c+" "+String(-u-o)+" "+c+" "+String(-u)+"Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");this.bd.appendChild(i);i=document.createElementNS(E.svgsn,"path");var A=h/4*3;var S=h/2;r="M"+c+" "+String(-u-l+A)+"A "+A+" "+S+" -90 0 0 "+c+" "+String(-u-l-A)+"Z";i.setAttribute("style","stroke:black;stroke-width:1; fill: silver; fill-opacity: 1");i.setAttribute("d",r);this.bd.appendChild(i);var w="stroke: black; stroke-width:1;";e=document.createElementNS(E.svgsn,"line");e.setAttribute("x1",0);e.setAttribute("y1",-100);e.setAttribute("x2",c);e.setAttribute("y2",-100+c);e.setAttribute("style",w);this.bd.appendChild(e);e=document.createElementNS(E.svgsn,"line");e.setAttribute("x1",0);e.setAttribute("y1",-50);e.setAttribute("x2",c);e.setAttribute("y2",-50);e.setAttribute("style",w);this.bd.appendChild(e);e=document.createElementNS(E.svgsn,"line");e.setAttribute("x1",c/2);e.setAttribute("y1",-50);e.setAttribute("x2",c/2);e.setAttribute("y2",-73);e.setAttribute("style",w);this.bd.appendChild(e);a=document.createElementNS(E.svgsn,"rect");a.setAttribute("x",c);a.setAttribute("y",-68);a.setAttribute("width",4);a.setAttribute("height",12);a.setAttribute("style","stroke:black;stroke-width:0.75; fill: silver; fill-opacity: 1");this.bd.appendChild(a);t.appendChild(this.bd);this.haut=document.createElementNS(E.svgsn,"g");i=document.createElementNS(E.svgsn,"path");r="M 0 0 L"+d+" 0 "+p+" "+String(-v)+" "+p+" "+String(-g)+"A"+String(m-g)+" "+String(p-b)+" -90 0 1 "+b+" "+String(-m)+"L"+y+" "+String(-x)+" "+String(-y)+" "+String(-x)+"L"+String(-b)+" "+String(-m)+"A"+String(m-g)+" "+String(p-b)+" 90 0 1 "+String(-p)+" "+String(-g)+" L "+String(-p)+" "+String(-v)+" "+String(-d)+" 0Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black;stroke-width:0.75; fill: #666666; fill-opacity: 1");this.haut.appendChild(i);e=document.createElementNS(E.svgsn,"line");e.setAttribute("x1",b);e.setAttribute("y1",-m);e.setAttribute("x2",-b);e.setAttribute("y2",-m);e.setAttribute("style","stroke: black; stroke-width:1;");this.haut.appendChild(e);s=document.createElementNS(E.svgsn,"text");s.setAttribute("pointer-events","none");s.appendChild(document.createTextNode("Sésamath"));s.setAttribute("x",0);s.setAttribute("y",0);s.setAttribute("style","font-family: Arial;font-size: 5pt;fill: white");s.setAttribute("transform","rotate(-90) translate(4,2.5)");this.haut.appendChild(s);n=document.createElementNS(E.svgsn,"circle");n.setAttribute("cx",-c+1);n.setAttribute("cy",-this.decbh);n.setAttribute("r",3);n.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1");this.haut.appendChild(n);n=document.createElementNS(E.svgsn,"circle");n.setAttribute("cx",c-1);n.setAttribute("cy",-this.decbh);n.setAttribute("r",3);n.setAttribute("style","stroke:black;stroke-width:1; fill: white; fill-opacity: 1");this.haut.appendChild(n);t.appendChild(this.haut);this.g=t};n.prototype.setPosition=function(t,e,i,r){var n,s;if(arguments.length>=4){n=r;this.zoomfactor=n}else n=this.zoomfactor;if(this.bretroune)s="scale("+n+","+String(-n)+") ";else s="scale("+n+") ";this.x=t;this.y=e;this.angle=i;var a=this.lon+this.longpointe;this.alp=Math.asin(this.ecart/(2*a*n))/Math.PI*180;this.bg.setAttribute("transform","rotate("+this.alp+")");this.bd.setAttribute("transform","translate("+this.ecart/n+",0) rotate("+String(-this.alp)+")");var o=this.alp/180*Math.PI;this.haut.setAttribute("transform","translate("+String(this.ecart/2/n)+","+String(-a*Math.cos(o)+this.decbh)+")");this.g.setAttribute("transform",s+"translate("+String(t/n)+","+String(e/n)+") rotate("+i+")")};n.prototype.retourne=function(){this.bretourne=!this.bretourne;this.setPosition(this.x,this.y,this.angle)};n.prototype.positionne=function(){r.prototype.positionne.call(this);if(this.leve&&this.doc.compasLeve!=null)r.prototype.positionne.call(this.doc.compasLeve)};n.prototype.translate=function(t,e){r.prototype.translate.call(this,t,e);if(this.leve&&this.doc.compasLeve!=null)r.prototype.translate.call(this.doc.compasLeve,t,e)};n.prototype.lanceAnimationEcartement=function(t,e){this.ecartfin=parseFloat(t);this.pasecart=e/4;this.pasecart*=t>=this.ecart?1:-1;this.distecart=Math.abs(t-this.ecart);var i=this;this.timer=setInterval(function(){i.actionPourEcartement()},25)};n.prototype.actionPourEcartement=function(){var t=this.ecart+this.pasecart;var e=Math.abs(t-this.ecartfin);if(e>this.distecart||!this.doc.animationEnCours){this.ecart=this.ecartfin;this.setPosition(this.x,this.y,this.angle);clearInterval(this.timer);this.doc.actionSuivante()}else{this.distecart=e;this.ecart=t;this.setPosition(this.x,this.y,this.angle)}}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var b=i(1);var r=i(19);t.exports=n;function n(t){r.call(this,t);this.graduationExterneVisible=true;this.graduationInterneVisible=true;this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.creeg=function(){var t,e,i,r,n,s,a;var o=10;var u=9;var c="13";var l=156;var h=String(l);var f=89;var d=String(f);var p="116";var v="7";i=document.createElementNS(b.svgsn,"g");e=document.createElementNS(b.svgsn,"path");t="M "+h+" 0 A "+h+" "+h+" 0 0 0 -"+h+" 0 L "+"-"+h+" "+c+" L "+h+" "+c+" L "+h+" 0";t+="M 0 0 L -"+d+" 0 A "+d+" "+d+" 0 0 1 "+d+" 0 Z";e.setAttribute("d",t);e.setAttribute("style","stroke:#999999;stroke-width:1; fill: #c6cbe8; fill-opacity: 0.5");i.appendChild(e);e=document.createElementNS(b.svgsn,"path");t="M "+v+" 0 A "+v+" "+v+" 0 0 0 "+"-"+v+" 0 M 0 0 L 0 -"+v;e.setAttribute("d",t);e.setAttribute("style","stroke: #666666;stroke-width:1; fill: none");i.appendChild(e);for(n=0;n<=180;n++){r=document.createElementNS(b.svgsn,"line");r.setAttribute("x1",h);r.setAttribute("y1",0);r.setAttribute("x2",n%10===0?l-20:n%5===0?l-10:l-5);r.setAttribute("y2",0);r.setAttribute("transform","rotate(-"+n+")");r.setAttribute("style","stroke: #333333;stroke-width:0.7;");i.appendChild(r)}this.gradext=document.createElementNS(b.svgsn,"g");for(n=0;n<=180;n++){if(n%10===0){s=document.createElementNS(b.svgsn,"text");s.setAttribute("pointer-events","none");s.appendChild(document.createTextNode(n));s.setAttribute("x",0);s.setAttribute("y",0);s.setAttribute("style","font-family: arial;font-size: "+o+"px;text-anchor: middle; fill: black");s.setAttribute("transform"," scale(-1) rotate("+String(-n-90)+") translate(0,"+String(-l+22+o)+")");this.gradext.appendChild(s)}}i.appendChild(this.gradext);var g=l-26-o;e=document.createElementNS(b.svgsn,"path");t="M "+String(g)+" 0 L "+p+" 0 A "+p+" "+p+" 0 0 0 -"+p+" 0 L "+String(-g)+" 0";e.setAttribute("d",t);e.setAttribute("style","stroke: #666666;stroke-width:1; fill: none");i.appendChild(e);for(n=0;n<=18;n++){r=document.createElementNS(b.svgsn,"line");r.setAttribute("x1",f);r.setAttribute("y1",0);r.setAttribute("x2",f+10);r.setAttribute("y2",0);r.setAttribute("transform","rotate(-"+String(10*n)+")");r.setAttribute("style","stroke: #333333;stroke-width:0.7;");i.appendChild(r)}this.gradint=document.createElementNS(b.svgsn,"g");for(n=0;n<=18;n++){s=document.createElementNS(b.svgsn,"text");s.setAttribute("pointer-events","none");s.appendChild(document.createTextNode(180-10*n));s.setAttribute("x",0);s.setAttribute("y",0);s.setAttribute("style","font-family: arial;font-size: "+u+"px;text-anchor: middle; fill: black");s.setAttribute("transform","scale(-1) rotate("+String(-10*n-90)+") translate(0,"+String(-f-14)+")");this.gradint.appendChild(s)}i.appendChild(this.gradint);a=document.createElementNS(b.svgsn,"circle");a.setAttribute("cx",0);a.setAttribute("cy",0);a.setAttribute("r",2);a.setAttribute("style","stroke: black; stroke-width: 1;fill: none");i.appendChild(a);s=document.createElementNS(b.svgsn,"text");s.setAttribute("pointer-events","none");s.appendChild(document.createTextNode("Sésamath"));s.setAttribute("x",0);s.setAttribute("y",c-2);s.setAttribute("style","font-family: sans-serif;font-size: 7pt;font-weight:bold;text-anchor: middle; fill: maroon");i.appendChild(s);this.g=i};n.prototype.montreGraduations=function(t){this.graduationInterneVisible=true;if(this.visible)this.gradint.setAttribute("visibility",t?"visible":"hidden")};n.prototype.montreGraduationsExternes=function(t){this.graduationExterneVisible=true;if(this.visible)this.gradext.setAttribute("visibility",t?"visible":"hidden")};n.prototype.montre=function(t){r.prototype.montre.call(this,t);if(t){this.gradint.setAttribute("visibility",this.graduationInterneVisible?"visible":"hidden");this.gradext.setAttribute("visibility",this.graduationExterneVisible?"visible":"hidden")}else{this.gradint.setAttribute("visibility","hidden");this.gradext.setAttribute("visibility","hidden")}}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var d=i(1);var r=i(19);t.exports=n;function n(t){r.call(this,t);this.x=100;this.y=400;this.angle=0;this.longueur=15;this.graduationVisible=true;this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.creeg=function(){var t,e;var i=9;var r=this.longueur*30+15;var n=57;var s=String(n);var a=6;var o=String(a);var u=document.createElementNS(d.svgsn,"g");var c=document.createElementNS(d.svgsn,"rect");c.setAttribute("x",-o-1);c.setAttribute("y",0);c.setAttribute("width",String(r+a+1));c.setAttribute("height",s);c.setAttribute("rx",o);c.setAttribute("ry",o);c.setAttribute("style","stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5;");u.appendChild(c);var l=document.createElementNS(d.svgsn,"line");l.setAttribute("x1",-o);l.setAttribute("y1",27);l.setAttribute("x2",r);l.setAttribute("y2",27);l.setAttribute("style","stroke:#999999;stroke-width:2;");u.appendChild(l);this.graduations=document.createElementNS(d.svgsn,"g");for(var h=0;h<=this.longueur*10;h++){t=document.createElementNS(d.svgsn,"line");var f=3*h;t.setAttribute("x1",f);t.setAttribute("y1",0);t.setAttribute("x2",f);t.setAttribute("y2",h%10===0?12:h%5===0?9:6);if(h%10===0){e=document.createElementNS(d.svgsn,"text");e.setAttribute("pointer-events","none");e.appendChild(document.createTextNode(String(h/10)));e.setAttribute("x",f);e.setAttribute("y",12+i);e.setAttribute("style","font-family: monospace;font-size: "+i+"pt;text-anchor:middle");this.graduations.appendChild(e)}t.setAttribute("style","stroke:black;stroke-width:0.7;");this.graduations.appendChild(t)}e=document.createElementNS(d.svgsn,"text");e.setAttribute("pointer-events","none");e.appendChild(document.createTextNode("Sésamath"));e.setAttribute("x",r/2-a-3);e.setAttribute("y",s-5);e.setAttribute("style","font-family: Arial;font-size: 8pt;font-weight:bold;fill: maroon;text-anchor:middle;");u.appendChild(e);u.appendChild(this.graduations);this.g=u};n.prototype.montreGraduations=function(t){this.graduationVisible=t;this.graduations.setAttribute("visibility",this.visible?t?"visible":"hidden":"hidden")};n.prototype.montre=function(t){r.prototype.montre.call(this,t);if(t){this.graduations.setAttribute("visibility",this.graduationVisible?"visble":"hidden")}else{this.graduations.setAttribute("visibility","hidden")}};n.prototype.initialisePosition=function(){if(this.longueur!==15){this.longueur=15;var t=this.visible;var e=this.g;this.creeg();this.g.setAttribute("visibility",t?"visible":"hidden");this.doc.svg.replaceChild(this.g,e)}r.prototype.initialisePosition.call(this)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var v=i(1);var r=i(19);var g=i(94);t.exports=n;function n(t){r.call(this,t);this.x=200;this.y=400;this.angle=0;this.zoomfactor=1;this.abscisse=0;this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.creeg=function(){var t,e,i,r,n;var s=172;var a=256;var o=57;var u=5;var c=16;var l=20;var h=15;var f=6;var d="stroke:#999999;stroke-width:2; fill: #c6cbe8; fill-opacity: 0.5";t=document.createElementNS(v.svgsn,"g");e=document.createElementNS(v.svgsn,"path");i="M 0 0 L "+String(s-u)+" 0 A "+u+" "+u+" 0 0 1 "+String(s)+" "+u+" L "+String(s)+" "+String(o-u)+" A "+u+" "+u+" 90 0 1 "+String(s-u)+" "+String(o)+" L "+String(-a+u)+" "+o+" A "+u+" "+u+" 180 0 1 "+"-"+a+" "+String(o-u)+" L "+String(-a)+" "+u+" A "+u+" "+u+" -90 0 1 "+String(-a+u)+" 0Z";var p=o-h;r="M"+String(s-l+f)+" "+p+"A "+f+" "+f+" 180 0 0 "+String(s-l-f)+" "+String(p)+"A "+f+" "+f+" 180 0 0 "+String(s-l+f)+" "+String(p);i+=r;e.setAttribute("d",i);e.setAttribute("style",d);t.appendChild(e);e=document.createElementNS(v.svgsn,"path");i="M"+String(s)+" "+String(c)+"L"+String(s)+" "+String(o-u)+" A "+u+" "+u+" 90 0 1 "+String(s-u)+" "+String(o)+" L "+String(-a+u)+" "+o+" A "+u+" "+u+" 180 0 1 "+"-"+a+" "+String(o-u)+" L "+String(-a)+" "+String(c)+"Z"+r;e.setAttribute("d",i);e.setAttribute("style",d);t.appendChild(e);n=document.createElementNS(v.svgsn,"line");n.setAttribute("x1",0);n.setAttribute("y1",8);n.setAttribute("x2",0);n.setAttribute("y2",0);n.setAttribute("style","stroke: black");t.appendChild(n);this.gequerre=new g.prototype.creeg;this.gequerre.setAttribute("transform","scale(0.7)");t.appendChild(this.gequerre);this.setAbs(this.abscisse);this.g=t};n.prototype.setAbs=function(t){this.abscisse=t;this.gequerre.setAttribute("transform","translate("+t+",0)")};n.prototype.lanceAnimationGlissement=function(t,e){this.absfin=t;this.pix=t>=this.abscisse?e/4:-e/4;this.dist=Math.abs(t-this.abscisse);var i=this;this.timer=setInterval(function(){i.actionPourGlissement()},25)};n.prototype.actionPourGlissement=function(){var t=this.abscisse+this.pix;var e=Math.abs(this.absfin-t);if(e>this.dist||!this.doc.animationEnCours){this.setAbs(this.absfin);clearInterval(this.timer);this.doc.actionSuivante()}else{this.dist=e;this.setAbs(t)}}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var v=i(1);var r=i(19);t.exports=n;function n(t){r.call(this,t);this.angle=this.angleInit();this.creeg();this.g.setAttribute("visibility","hidden");this.setPosition(this.x,this.y,this.angle);t.svg.appendChild(this.g)}n.prototype=new r;n.prototype.angleInit=function(){return-40};n.prototype.creeg=function(){var t,e,i,r,n,s,a,o;var u=97;var c=15;var l=4.5;var h=3;var f=h/c*l;t=document.createElementNS(v.svgsn,"g");e=document.createElementNS(v.svgsn,"defs");s=document.createElementNS(v.svgsn,"linearGradient");s.setAttribute("id","gradpointe");a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","0%");a.setAttribute("style","stop-color: #f00000;");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","50%");a.setAttribute("style","stop-color: #eeb444;");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","100%");a.setAttribute("style","stop-color: #f00000");s.appendChild(a);s.setAttribute("x1","0%");s.setAttribute("y1","0%");s.setAttribute("x2","0%");s.setAttribute("y2","100%");e.appendChild(s);t.appendChild(e);e=document.createElementNS(v.svgsn,"defs");s=document.createElementNS(v.svgsn,"linearGradient");s.setAttribute("id","gradcorps");a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","0%");a.setAttribute("style","stop-color: #810216;");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","25%");a.setAttribute("style","stop-color: #c64f00;");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","50%");a.setAttribute("style","stop-color: #ab4a36");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","75%");a.setAttribute("style","stop-color: #c64f00;");s.appendChild(a);a=document.createElementNS(v.svgsn,"stop");a.setAttribute("offset","100%");a.setAttribute("style","stop-colr: #810216;");s.appendChild(a);s.setAttribute("x1","0%");s.setAttribute("y1","0%");s.setAttribute("x2","0%");s.setAttribute("y2","100%");e.appendChild(s);t.appendChild(e);i=document.createElementNS(v.svgsn,"path");var d=l/3;var p=d*3/4;n="A"+d+" "+p+" -90 0 0 "+c+" "+String(d)+"A"+d+" "+p+" -90 0 1 "+ +c+" "+String(-d)+"A"+d+" "+p+" -90 0 0 "+ +c+" "+String(-l);r="M 0 0 L"+c+" "+l+n+"Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradpointe); fill-opacity: 1;");t.appendChild(i);i=document.createElementNS(v.svgsn,"path");r="M 0 0 L "+h+" "+f+" "+h+" "+String(-f)+"Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black; stroke-width:0.5; fill: black; fill-opacity: 1;");t.appendChild(i);i=document.createElementNS(v.svgsn,"path");r="M "+c+" "+l+n+" L "+u+" "+String(-l)+" L "+u+" "+String(l)+"Z";i.setAttribute("d",r);i.setAttribute("style","stroke:black; stroke-width:0.5; fill: url(#gradcorps); fill-opacity: 1;");t.appendChild(i);o=document.createElementNS(v.svgsn,"circle");o.setAttribute("r",l);o.setAttribute("cx",u);o.setAttribute("cy",0);o.setAttribute("style","stroke:blue; stroke-width:0.5; fill: blue; fill-opacity: 1;");t.appendChild(o);this.g=t}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);t.exports=n;function n(t,e){r.call(this,t,e)}n.prototype=new r;n.prototype.execute=function(t){var e=this.doc.compas;var i=this.doc.compasLeve;if(e.leve){i.montre(false);e.setPosition(i.x,i.y,i.angle)}if(!t&&e.visible)e.montre(true);e.leve=false;if(!t)this.doc.actionSuivante(t)};n.prototype.actionVisible=function(){var t=this.doc.getInstrumentVisibility(this.doc.compas.compas,this.indice-1);if(!t)return false;else return this.doc.getCompasStatus(this.indice-1)==="leve"}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,i);this.ecartement=e;this.ec10=r===null?16:parseFloat(r)}r.prototype=new n;r.prototype.execute=function(t){if(!t)this.doc.compas.lanceAnimationEcartement(this.ecartement,this.ec10);else{this.doc.compas.ecart=this.ecartement;this.doc.compas.positionne()}};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)}},function(t,e,i){i(33);i(0);i(44);i(45);i(46);i(23);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var k=i(1);var g=i(3);var r=i(97);t.exports=n;function n(t,e,i,r,n,s,a,o,u,c,l,h,f,d,p,v){g.call(this,t,v);this.txt=this.doc.getElement(e,"texte");this.id=e;this.couleur=i;this.taille=r==null?"20":r.replace(/O/g,"0");this.texte=k.remplaceAccentsHtml(k.remplaceBalises(k.remplaceCarSpe(n)));this.style=s===null?"texte":s;this.couleurFond=a;this.opaciteFond=o==null?"0.6":parseFloat(o)/100;this.couleurCadre=u;if(c!==null&&u===null)this.couleurCadre=i;this.epaisseurCadre=c!=null?c:u==null?0:1;this.marge=l==null?0:parseFloat(l);this.margeGauche=h==null?0:parseFloat(h);this.margeDroite=f==null?0:parseFloat(f);this.margeHaut=d==null?0:parseFloat(d);this.margeBas=p==null?0:parseFloat(p);this.estLatex=this.estAffichageLatex();this.texte=this.traduitCaracteresGrecs(this.texte);if(!this.estLatex){this.texte=this.texte.replace(/\*/g,"×");if(k.necessiteLatex(n)){this.texte="$"+this.traiteMaths(this.texte)+"$";this.estLatex=true}else this.texte=k.traiteAccents(this.texte)}}n.prototype=new g;n.prototype.execute=function(t){if(this.txt!=null){this.angle=0;var e=this.txt;e.couleur=this.couleur;e.taille=this.taille;e.texte=this.texte;e.couleurFond=this.couleurFond;e.couleurCadre=this.couleurCadre;e.epaisseurCadre=this.epaisseurCadre;e.updateg(this.g);e.positionne()}if(!t)this.doc.actionSuivante(t)};n.prototype.estAffichageLatex=function(){return this.texte.charAt(0)==="$"&&this.texte.charAt(this.texte.length-1)==="$"};n.prototype.traduitCaracteresGrecs=function(t){var e,i;var r=k.caracteresGrecs;if(t.indexOf("£")!==-1){for(e=0;e<r.length;e++){i="£"+r[e]+"£";if(t.indexOf(i)!==-1)t=t.replace(new RegExp(i,"g"),k.caracteresGrecsUtf8[e])}}return t};n.prototype.traiteMaths=function(t){var e;var i=t;var r=this.style==="texte";var n=i.split(new RegExp("<br>|</br>","gi"));if(n.length<=1)return k.traiteAccents(k.getMaths(t,r));var s="\\begin{array}{l}";for(e=0;e<n.length;e++){if(e!==0)s+="\\\\";s+=k.traiteAccents(k.getMaths(n[e],r))}s+="\\end{array}";return s};n.prototype.prepare=function(){if(this.estLatex){this.div=document.createElement("div");this.div.setAttribute("style",'top:0px;left:0px;position:absolute;font-family: "Times New Roman", Times, serif;font-size:'+String(this.taille-2)+"px;visibility:hidden;");this.div.setAttribute("id",this.id+"iepprov");var t="$$"+this.prelatex()+this.texte.substring(1)+"$";this.div.appendChild(document.createTextNode(t));document.body.appendChild(this.div);var e=this;r().then(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.div]);MathJax.Hub.Queue([function(){e.creegLatex();e.setReady()}])}).catch(function(t){console.error(Error("Mathjax n’a pas été chargé correctement, impossible d’afficher du texte en LaTeX"),t)})}else{this.creeg();this.setReady()}};n.prototype.prelatex=function(){return"\\color{"+this.couleur+"}"};n.prototype.creegLatex=function(){var t,e;try{var i=document.createElementNS(k.svgsn,"g");var r=this.div.childNodes[1];if(!r)return document.createElementNS(k.svgsn,"g");var n=r.childNodes[0];if(!n)return document.createElementNS(k.svgsn,"g");var s=n.childNodes[0];if(!s)return document.createElementNS(k.svgsn,"g");while(s.tagName==="SPAN"){s=s.childNodes[0]}if(s.clientWidth!==0&&s.clientHeight!==0){t=s.clientWidth;e=s.clientHeight}else{t=n.clientWidth;e=n.clientHeight}var a=this.taille;if(e<a)e=a;var o=s.cloneNode(true);o.setAttribute("x","0");o.setAttribute("y",String(-this.taille));o.setAttribute("width",t+"px");o.setAttribute("height",e+"px");i.appendChild(o);document.body.removeChild(this.div);i.setAttribute("visibility","hidden");if(this.couleurFond!==null||this.couleurCadre!==null){i.setAttribute("visibility","hidden");this.doc.svg.appendChild(i);this.rectAff={};var u=parseFloat(this.epaisseurCadre);this.rectAff.height=i.getBBox().height+2*u+4+2*this.marge+this.margeHaut+this.margeBas;this.rectAff.width=i.getBBox().width+2*u+2+2*this.marge+this.margeGauche+this.margeDroite;this.rectAff.x=i.getBBox().x-u-1-this.marge-this.margeGauche;this.rectAff.y=i.getBBox().y-u-1-this.marge-this.margeHaut;i.setAttribute("visibility","visible");this.doc.svg.removeChild(i);this.creeRectangle(i,this.couleurFond==null?"white":this.couleurFond)}this.g=i}catch(t){if(this.div!=null)document.body.removeChild(this.div);this.g=document.createElementNS(k.svgsn,"g")}};n.prototype.creeg=function(){var t,e,i,r,n,s,a,o,u,c,l,h,f,d,p,v,g,b;var m=0;var y="<";var x="£e(";var A="£i(";var S=document.createElementNS(k.svgsn,"g");var w=parseFloat(this.taille)+2;var E=0;var C=parseFloat(this.taille)*.4;if(this.texte!==""){s=document.createElementNS(k.svgsn,"text");s.setAttribute("pointer-events","none");s.setAttribute("x",0);s.setAttribute("y",0);n="text-anchor:left;font-size:"+this.taille+"px;"+"fill:"+this.couleur+";";s.setAttribute("style",n);r=this.texte.replace(new RegExp(" ","g")," ");if(this.texte.indexOf(y)===-1&&this.texte.indexOf(x)===-1&&this.texte.indexOf(A)===-1&&this.texte.indexOf("<br>")===-1){s.appendChild(document.createTextNode(r))}else{p=r.split(/<br>/gi);d=-w;for(v=0;v<p.length;v++){g=true;i=p[v];while(i!==""){t=i.indexOf(y);o=i.indexOf(x);u=i.indexOf(A);if(g)d+=w+E;if(o!==-1)d+=C;if(t===-1&&o===-1&&u===-1){e=document.createElementNS(k.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m);if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}m=0;e.appendChild(document.createTextNode(i));s.appendChild(e);break}else{while(i.indexOf(y)!==-1||i.indexOf(x)!==-1||i.indexOf(A)!==-1){t=i.indexOf(y);o=i.indexOf(x);u=i.indexOf(A);if(t===-1){if(o===-1)c=u;else c=u===-1?o:Math.min(u,o)}else{if(o===-1)c=u===-1?t:Math.min(t,u);else{if(u===-1)c=Math.min(t,o);else c=Math.min(t,u,o)}}if(c>0){e=document.createElementNS(k.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m);if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}m=0;e.appendChild(document.createTextNode(i.substring(0,c)));s.appendChild(e);i=i.substring(c)}else{if(t===0){var N=new k.infoBalise(false,false,false,this.couleur,"",this.taille);a=k.indiceFinBalise(i);if(a===-1)k.traiteBalise(i,N,s,g,d);else k.traiteBalise(i.substring(0,a),N,s,g,d);g=false;if(a!==-1)i=i.substring(a);else i="";m=0}else{l=c===o;b=k.analyseExposantOuIndice(i);e=document.createElementNS(k.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m+"px");if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}if(b.erreur)e.appendChild(document.createTextNode(i));else{e.appendChild(document.createTextNode(b.operande));s.appendChild(e);e=document.createElementNS(k.svgsn,"tspan");e.setAttribute("pointer-events","none");e.appendChild(document.createTextNode(b.exposant));m=C;if(l)m=-m;else E=m;e.setAttribute("dy",m+"px");h=parseFloat(this.taille)*.6;f="font-size:"+h+"px;";e.setAttribute("style",f);s.appendChild(e);m=-m}i=b.texte}}}}}}}S.appendChild(s)}S.setAttribute("visibility","hidden");if(this.couleurFond!=null||this.couleurCadre!=null){S.setAttribute("visibility","hidden");this.doc.svg.appendChild(S);this.rectAff={};var M=parseFloat(this.epaisseurCadre);this.rectAff.height=S.getBBox().height+2*M+3+2*this.marge+this.margeHaut+this.margeBas;this.rectAff.width=S.getBBox().width+2*M+2+2*this.marge+this.margeGauche+this.margeDroite;this.rectAff.x=S.getBBox().x-M-1-this.marge-this.margeGauche;this.rectAff.y=S.getBBox().y-M-1-this.marge-this.margeHaut;S.setAttribute("visibility","visible");this.doc.svg.removeChild(S);this.creeRectangle(S,this.couleurFond==null?"white":this.couleurFond)}this.g=S};n.prototype.contientBalisesItaliqueOuUnderlineOuFontOuBold=function(t){return new RegExp(/<(u|b|i|font[^>]+)>/,"gi").test(t)};n.prototype.creeRectangle=function(t,e){var i=document.createElementNS(k.svgsn,"rect");var r="stroke-width:"+this.epaisseurCadre+"px;"+"stroke:"+this.couleurCadre+";"+"fill:"+e+";fill-opacity:"+this.opaciteFond+";";i.setAttribute("style",r);i.setAttribute("x",this.rectAff.x);i.setAttribute("y",this.rectAff.y);i.setAttribute("width",this.rectAff.width);i.setAttribute("height",this.rectAff.height);i.setAttribute("pointer-events","none");t.insertBefore(i,t.childNodes[0])}},function(t,e,i){"use strict";var r=i(6);var n=i(28);var s=i(2);var a=i(50);var o=i(150);var u=i(15);var c=i(151);var l=i(40);var h=i(86);var f=i(8);var d=i(41);var p=i(152);var v=i(16);var g=i(153);var b=i(157);var m=i(90);var y=i(98).set;var x=i(158);var A=i(159);var S=i(160);var w=i(100);var E=i(161);var C=i(99);var N=i(29);var M=i(38);var k=i(4);var I=k("species");var P="Promise";var F=N.get;var O=N.set;var j=N.getterFor(P);var L=o;var T=s.TypeError;var R=s.document;var _=s.process;var B=s.fetch;var G=_&&_.versions;var V=G&&G.v8||"";var z=w.f;var D=z;var q=v(_)=="process";var X=!!(R&&R.createEvent&&s.dispatchEvent);var H="unhandledrejection";var $="rejectionhandled";var Z=0;var J=1;var Y=2;var U=1;var W=2;var Q,K,tt,et;var it=M(P,function(){var t=L.resolve(1);var e=function(){};var i=(t.constructor={})[I]=function(t){t(e,e)};return!((q||typeof PromiseRejectionEvent=="function")&&(!n||t["finally"])&&t.then(e)instanceof i&&V.indexOf("6.6")!==0&&C.indexOf("Chrome/66")===-1)});var rt=it||!b(function(t){L.all(t)["catch"](function(){})});var nt=function(t){var e;return f(t)&&typeof(e=t.then)=="function"?e:false};var st=function(h,f,d){if(f.notified)return;f.notified=true;var p=f.reactions;x(function(){var t=f.value;var e=f.state==J;var i=0;while(p.length>i){var r=p[i++];var n=e?r.ok:r.fail;var s=r.resolve;var a=r.reject;var o=r.domain;var u,c,l;try{if(n){if(!e){if(f.rejection===W)ct(h,f);f.rejection=U}if(n===true)u=t;else{if(o)o.enter();u=n(t);if(o){o.exit();l=true}}if(u===r.promise){a(T("Promise-chain cycle"))}else if(c=nt(u)){c.call(u,s,a)}else s(u)}else a(t)}catch(t){if(o&&!l)o.exit();a(t)}}f.reactions=[];f.notified=false;if(d&&!f.rejection)ot(h,f)})};var at=function(t,e,i){var r,n;if(X){r=R.createEvent("Event");r.promise=e;r.reason=i;r.initEvent(t,false,true);s.dispatchEvent(r)}else r={promise:e,reason:i};if(n=s["on"+t])n(r);else if(t===H)S("Unhandled promise rejection",i)};var ot=function(r,n){y.call(s,function(){var t=n.value;var e=ut(n);var i;if(e){i=E(function(){if(q){_.emit("unhandledRejection",t,r)}else at(H,r,t)});n.rejection=q||ut(n)?W:U;if(i.error)throw i.value}})};var ut=function(t){return t.rejection!==U&&!t.parent};var ct=function(t,e){y.call(s,function(){if(q){_.emit("rejectionHandled",t)}else at($,t,e.value)})};var lt=function(e,i,r,n){return function(t){e(i,r,t,n)}};var ht=function(t,e,i,r){if(e.done)return;e.done=true;if(r)e=r;e.value=i;e.state=Y;st(t,e,true)};var ft=function(i,r,t,e){if(r.done)return;r.done=true;if(e)r=e;try{if(i===t)throw T("Promise can't be resolved itself");var n=nt(t);if(n){x(function(){var e={done:false};try{n.call(t,lt(ft,i,e,r),lt(ht,i,e,r))}catch(t){ht(i,e,t,r)}})}else{r.value=t;r.state=J;st(i,r,false)}}catch(t){ht(i,{done:false},t,r)}};if(it){L=function t(e){p(this,L,P);d(e);Q.call(this);var i=F(this);try{e(lt(ft,this,i),lt(ht,this,i))}catch(t){ht(this,i,t)}};Q=function t(e){O(this,{type:P,done:false,notified:false,parent:false,reactions:[],rejection:false,state:Z,value:undefined})};Q.prototype=c(L.prototype,{then:function t(e,i){var r=j(this);var n=z(m(this,L));n.ok=typeof e=="function"?e:true;n.fail=typeof i=="function"&&i;n.domain=q?_.domain:undefined;r.parent=true;r.reactions.push(n);if(r.state!=Z)st(this,r,false);return n.promise},catch:function(t){return this.then(undefined,t)}});K=function(){var t=new Q;var e=F(t);this.promise=t;this.resolve=lt(ft,t,e);this.reject=lt(ht,t,e)};w.f=z=function(t){return t===L||t===tt?new K(t):D(t)};if(!n&&typeof o=="function"){et=o.prototype.then;u(o.prototype,"then",function t(e,i){var r=this;return new L(function(t,e){et.call(r,t,e)}).then(e,i)});if(typeof B=="function")r({global:true,enumerable:true,forced:true},{fetch:function t(e){return A(L,B.apply(s,arguments))}})}}r({global:true,wrap:true,forced:it},{Promise:L});l(L,P,false,true);h(P);tt=a[P];r({target:P,stat:true,forced:it},{reject:function t(e){var i=z(this);i.reject.call(undefined,e);return i.promise}});r({target:P,stat:true,forced:n||it},{resolve:function t(e){return A(n&&this===tt?L:this,e)}});r({target:P,stat:true,forced:rt},{all:function t(e){var o=this;var i=z(o);var u=i.resolve;var c=i.reject;var r=E(function(){var r=d(o.resolve);var n=[];var s=0;var a=1;g(e,function(t){var e=s++;var i=false;n.push(undefined);a++;r.call(o,t).then(function(t){if(i)return;i=true;n[e]=t;--a||u(n)},c)});--a||u(n)});if(r.error)c(r.value);return i.promise},race:function t(i){var r=this;var n=z(r);var s=n.reject;var e=E(function(){var e=d(r.resolve);g(i,function(t){e.call(r,t).then(n.resolve,s)})});if(e.error)s(e.value);return n.promise}})},function(t,e,i){var r=i(2);t.exports=r.Promise},function(t,e,i){var n=i(15);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e){t.exports=function(t,e,i){if(!(t instanceof e)){throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}return t}},function(t,e,i){var f=i(7);var d=i(154);var p=i(21);var v=i(55);var g=i(155);var b=i(156);var m=function(t,e){this.stopped=t;this.result=e};var r=t.exports=function(t,e,i,r,n){var s=v(e,i,r?2:1);var a,o,u,c,l,h;if(n){a=t}else{o=g(t);if(typeof o!="function")throw TypeError("Target is not iterable");if(d(o)){for(u=0,c=p(t.length);c>u;u++){l=r?s(f(h=t[u])[0],h[1]):s(t[u]);if(l&&l instanceof m)return l}return new m(false)}a=o.call(t)}while(!(h=a.next()).done){l=b(a,s,h.value,r);if(l&&l instanceof m)return l}return new m(false)};r.stop=function(t){return new m(true,t)}},function(t,e,i){var r=i(4);var n=i(34);var s=r("iterator");var a=Array.prototype;t.exports=function(t){return t!==undefined&&(n.Array===t||a[s]===t)}},function(t,e,i){var r=i(84);var n=i(34);var s=i(4);var a=s("iterator");t.exports=function(t){if(t!=undefined)return t[a]||t["@@iterator"]||n[r(t)]}},function(t,e,i){var s=i(7);t.exports=function(e,t,i,r){try{return r?t(s(i)[0],i[1]):t(i)}catch(t){var n=e["return"];if(n!==undefined)s(n.call(e));throw t}}},function(t,e,i){var r=i(4);var n=r("iterator");var s=false;try{var a=0;var o={next:function(){return{done:!!a++}},return:function(){s=true}};o[n]=function(){return this};Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return false;var i=false;try{var r={};r[n]=function(){return{next:function(){return{done:i=true}}}};t(r)}catch(t){}return i}},function(t,e,i){var r=i(2);var n=i(24).f;var s=i(16);var a=i(98).set;var o=i(99);var u=r.MutationObserver||r.WebKitMutationObserver;var c=r.process;var l=r.Promise;var h=s(c)=="process";var f=n(r,"queueMicrotask");var d=f&&f.value;var p,v,g,b,m,y,x,A;if(!d){p=function(){var t,e;if(h&&(t=c.domain))t.exit();while(v){e=v.fn;v=v.next;try{e()}catch(t){if(v)b();else g=undefined;throw t}}g=undefined;if(t)t.enter()};if(h){b=function(){c.nextTick(p)}}else if(u&&!/(iphone|ipod|ipad).*applewebkit/i.test(o)){m=true;y=document.createTextNode("");new u(p).observe(y,{characterData:true});b=function(){y.data=m=!m}}else if(l&&l.resolve){x=l.resolve(undefined);A=x.then;b=function(){A.call(x,p)}}else{b=function(){a.call(r,p)}}}t.exports=d||function(t){var e={fn:t,next:undefined};if(g)g.next=e;if(!v){v=e;b()}g=e}},function(t,e,i){var n=i(7);var s=i(8);var a=i(100);t.exports=function(t,e){n(t);if(s(e)&&e.constructor===t)return e;var i=a.f(t);var r=i.resolve;r(e);return i.promise}},function(t,e,i){var r=i(2);t.exports=function(t,e){var i=r.console;if(i&&i.error){arguments.length===1?i.error(t):i.error(t,e)}}},function(t,e){t.exports=function(t){try{return{error:false,value:t()}}catch(t){return{error:true,value:t}}}},function(t,e,i){"use strict";var a=i(163);var s=i(62).hasProp;function r(t){var e=window.document.getElementsByTagName("head")[0];var i=e.getElementsByTagName("link");var r=false;for(var n=0;n<i.length;n++){if(i[n].href===t){r=true;break}}if(r){a(t+" était déjà présent, on ne l'ajoute pas")}else{var s=window.document.createElement("link");s.rel="stylesheet";s.type="text/css";s.href=t;e.appendChild(s)}}function n(t,e){function i(){e();n.removeEventListener("load",i)}var r=window.document.getElementsByTagName("body")[0];var n=window.document.createElement("script");n.type="text/javascript";r.appendChild(n);n.addEventListener("load",i);n.src=t}function o(t,e,i,r){var n=p(e,i,r);t.appendChild(n);return n}function u(t,e,i,r){var n=p(e,i,r);var s=t.parentNode;if(s)s.insertBefore(n,t.nextSibling);else a.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'ajouter l'élément"));return n}function c(t,e,i,r){var n=p(e,i,r);var s=t.parentNode;if(s)s.insertBefore(n,t);else a.error(new Error("Navigateur incompatible (pas de parentNode), impossible d'insérer l'élément"));return n}function l(t,e,i,r){var n=p(e,i,r);t.insertBefore(n,t.firstChild);return n}function h(t,e,i,r){var n=p(e,i,r);t.parentNode.insertBefore(n,t.parentNode.firstChild);return n}function f(t,e){t.appendChild(window.document.createTextNode(e))}function d(t){if(t&&t.firstChild){while(t.firstChild)t.removeChild(t.firstChild)}}function p(e,i,t){var r=window.document.createElement(e);var n;try{if(i){for(n in i){if(s(i,n)){if(n==="class")r.className=i.class;else if(n==="className")r.className=i.className;else if(n==="style")b(r,i.style);else r.setAttribute(n,i[n])}}}}catch(t){a("plantage dans getElement "+e+" avec les attributs ",i,t)}if(t)f(r,t);return r}function v(){var t=window.document.compatMode==="CSS1Compat"?window.document.documentElement:window.document.body;return{width:Math.floor(Math.min(t.clientWidth,window.innerWidth)),height:Math.floor(Math.min(t.clientHeight,window.innerHeight))}}var g=function(){var e=1e4;var i=0;var r="sesa"+i;return function t(){while(window.document.getElementById(r)&&i<e){i++;r="sesa"+i}if(i===e)throw Error("Max de "+e+" id générés atteint");return r}}();function b(i,t){try{if(i&&i.style){if(typeof t==="string"){t=t.split(";");t.forEach(function(t){t=/([\w]+):(.+)/.exec(t);if(t&&t.length===3){var e=t[1];i.style[e]=t[2]}})}else if(typeof t==="object"){for(var e in t){if(s(t,e)){i.style[e]=t[e]}}}}}catch(t){a.error(t)}}t.exports={addCss:r,addJs:n,addElement:o,addElementAfter:u,addElementBefore:c,addElementFirstChild:l,addElementFirstSibling:h,addText:f,empty:d,getElement:p,getSize:v,getNewId:g,setStyles:b}},function(b,t,m){"use strict";(function(e){var a=m(165);var t=m(62);var s=t.formatDate;var i=t.hasProp;var o={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4};var u=["[debug]","[info]","[warning]","[error]","[CRITICAL]"];var c=[console.info||console.log,console.log,console.warn||console.error||console.log,console.error||console.log,console.error||console.log];var l=o.info;var r=typeof e!=="undefined"&&e.env;var n=r&&i(e.env,"NODE_APP_INSTANCE");var h=r&&!n;var f="[%O]";var d=n;var p=n&&e.env.NODE_APP_INSTANCE||"N/A";function v(t,e){try{var i=c[e]||console.log;var r="";if(h)r=s(f);if(d){if(r)r+=" ";r+="["+p+"]"}if(r)r+=" ";r+=u[e];if(t.length<1)t=[Error("fonction de log appelée sans contenu")];i(r,t[0]);if(t.length>1)for(var n=1;n<t.length;n++)i(t[n])}catch(t){}}function g(){if(l<o.warning){v(arguments,o.info)}}g.debug=function t(){if(l<o.info){v(arguments,o.debug)}};g.info=function t(){if(l<o.warning){v(arguments,o.info)}};g.warn=function t(){if(l<o.error){v(arguments,o.warning)}};g.ifError=function t(){if(t&&l<o.critical){v(arguments,o.error)}};g.error=function t(){if(l<o.critical){v(arguments,o.error)}};g.critical=function t(){v(arguments,o.critical)};g.disable=function t(){l=o.error};g.disableDatePrefix=function t(){h=false};g.disableProcessPrefix=function t(){d=false};g.dump=function(t,e,i){if(typeof i!=="object")i={};var r=i.level||o.debug;if(typeof r==="string")r=o[r]||o.debug;var n=a(e);var s=i.max||1e3;if(n.length>s)n=n.substr(0,s)+"…";if(l<=r)v([t,n],r)};g.enable=function t(){l=o.info};g.enableDatePrefix=function t(){h=true};g.enableProcessPrefix=function t(){if(typeof e==="undefined")console.error("process not available");else d=true};g.setDatePrefix=function t(e){if(typeof e==="string")f=e;else g.error(new Error("Le préfixe de log doit être une string"))};g.setLogLevel=function t(e){switch(e){case 0:case"0":case"debug":l=o.debug;break;case 1:case"1":case"info":case"notice":l=o.notice;break;case 2:case"2":case"warn":case"warning":l=o.warning;break;case 3:case"3":case"err":case"error":l=o.error;break;case 4:case"4":case"alert":case"crit":case"critical":l=o.critical;break;default:g.error("niveau d’erreur "+e)}};g.levels={debug:0,info:1,notice:1,warn:2,warning:2,error:3,alert:4,critical:4};b.exports=g}).call(this,m(164))},function(t,e){var i=t.exports={};var r;var n;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=s}}catch(t){r=s}try{if(typeof clearTimeout==="function"){n=clearTimeout}else{n=a}}catch(t){n=a}})();function o(e){if(r===setTimeout){return setTimeout(e,0)}if((r===s||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(n===clearTimeout){return clearTimeout(e)}if((n===a||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var c=[];var l=false;var h;var f=-1;function d(){if(!l||!h){return}l=false;if(h.length){c=h.concat(c)}else{f=-1}if(c.length){p()}}function p(){if(l){return}var t=o(d);l=true;var e=c.length;while(e){h=c;c=[];while(++f<e){if(h){h[f].run()}}f=-1;e=c.length}h=null;l=false;u(t)}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){e[i-1]=arguments[i]}}c.push(new v(t,e));if(c.length===1&&!l){o(p)}};function v(t,e){this.fun=t;this.array=e}v.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function g(){}i.on=g;i.addListener=g;i.once=g;i.off=g;i.removeListener=g;i.removeAllListeners=g;i.emit=g;i.prependListener=g;i.prependOnceListener=g;i.listeners=function(t){return[]};i.binding=function(t){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(t){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},function(t,e,i){"use strict";var l=i(62);var h=l.hasProp;t.exports=function i(r,n){if(r===null)return"null";var t=typeof r;switch(t){case"undefined":return r;case"number":case"boolean":return String(r);case"string":return'"'+r.replace('"','\\"')+'"';case"symbol":return"[Symbol "+r.toString()+"]";default:if(!n)n=0;var e=" ".repeat(n);n+=2;var s=e+"  ";var a=[];var o;if(l.isDate(r)){return JSON.stringify(r)}else if(l.isArray(r)){o="[\n";r.forEach(function(t,e){o+=s+i(t,n)+(e===r.length-1?"\n":",\n")});if(r.length)o+=e+"]";else o+="]";return o}else if(l.isRegExp(r)||l.isFunction(r)){return typeof r.toSource==="function"?r.toSource():r.toString()}else if(l.isObject(r)){var u=0;for(var c in r){if(h(r,c)){u++;try{JSON.stringify(r[c]);a.push(c+": "+i(r[c],n))}catch(t){a.push(c+': "'+t.toString().replace('"','\\"')+'"')}}}if(u)return"{\n"+s+a.join(",\n"+s)+"\n"+e+"}";else if(l.isObjectPlain(r))return e+"{}";else return e+r.toString()}else{console.error("dump est tombé sur un truc qui ne ressemble à rien de connu",r);return l.stringify(r,2)}}}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,i);this.abscisseFin=parseFloat(e);this.pix10=r===null?8:String(Math.abs(r))}r.prototype=new n;r.prototype.execute=function(t){if(!t)this.doc.requerre.lanceAnimationGlissement(this.abscisseFin,this.pix10);else{this.doc.requerre.setAbs(this.abscisseFin);this.doc.requerre.positionne()}};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.requerre,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);var n=i(101);t.exports=s;function s(t,e){r.call(this,t,e)}s.prototype=new r;s.prototype.execute=function(t){var e=this.doc.compas;if(e.visible){e.montre(false);e.visible=true}this.doc.compasLeve=new n(this.doc,e.x,e.y,e.angle,e.ecart);if(!t&&e.visible)this.doc.compasLeve.montre(true);e.leve=true;if(!t)this.doc.actionSuivante(t)};s.prototype.actionVisible=function(){var t=this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1);if(!t)return false;else return this.doc.getCompasStatus(this.indice-1)==="couche"}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,r);this.objet=this.doc.getElement(e,i)}r.prototype=new n;r.prototype.execute=function(t){var e=this.objet;if(e!=null)e.montre(false);if(!t)this.doc.actionSuivante(t)};r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);t.exports=n;function n(t,e,i){r.call(this,t,i);this.instrument=e}n.prototype=new r;n.prototype.execute=function(t){var e=this.doc.compas;this.instrument.montre(false);if(e.leve)this.doc.compasLeve.montre(false);if(!t)this.doc.actionSuivante(t)};n.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,r);this.instrument=e;this.longueur=i}r.prototype=new n;r.prototype.execute=function(t){if(this.instrument===this.doc.regle){var e=this.instrument.visible;this.instrument.longueur=this.longueur;var i=this.instrument.g;this.instrument.creeg();this.instrument.g.setAttribute("visibility",e?"visible":"hidden");this.doc.svg.replaceChild(this.instrument.g,i);this.instrument.translate(this.instrument.x,this.instrument.y)}if(!t)this.doc.actionSuivante(t)};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,r);this.objet=this.doc.getElement(e,i)}r.prototype=new n;r.prototype.execute=function(t){var e=this.objet;if(e!==null)e.montre(true);if(!t)this.doc.actionSuivante(t)};r.prototype.actionVisible=function(){return!this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var n=i(3);t.exports=r;function r(t,e,i,r){n.call(this,t,r);this.instrument=e;this.bmontrer=i}r.prototype=new n;r.prototype.execute=function(t){this.instrument.montreGraduations(this.bmontrer);if(!t)this.doc.actionSuivante(t)};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(3);t.exports=r;function r(t,e,i,r,n){s.call(this,t,n);this.x=i===null?null:parseFloat(i);this.y=r===null?null:parseFloat(r);this.instrument=e}r.prototype=new s;r.prototype.execute=function(t){var e=this.doc.compas;if(this.x!==null&&this.y!==null)this.instrument.translate(this.x,this.y);if(this.instrument===e&&!t){if(!e.leve)e.montre(true);else this.doc.compasLeve.montre(true);e.visible=true}else this.instrument.montre(true);if(!t)this.doc.actionSuivante(t)};r.prototype.actionVisible=function(){return!this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);t.exports=n;function n(t,e,i){r.call(this,t,i);this.bmontrer=e}n.prototype=new r;n.prototype.execute=function(t){this.doc.rapporteur.montreGraduationsExternes(this.bmontrer);if(!t)this.doc.actionSuivante(t)};n.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.rapporteur,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);var n=i(97);t.exports=s;function s(t,e,i){r.call(this,t,i);this.nomPoint=e}s.prototype=new r;s.prototype.prepare=function(){if(this.nomPoint.estLatex){this.nomPoint.div=document.createElement("div");this.nomPoint.div.setAttribute("style","top:0px;left:0px;position:absolute;font-size:"+String(this.nomPoint.taille-2)+"px;visibility:hidden;");this.nomPoint.div.setAttribute("id",this.nomPoint.id+"iepprov");var t="$$"+this.nomPoint.nom.substring(1)+"$";this.nomPoint.div.appendChild(document.createTextNode(t));document.body.appendChild(this.nomPoint.div);var e=this;n().then(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.nomPoint.div]);MathJax.Hub.Queue([function(){e.nomPoint.creegLatex();e.setReady()}])}).catch(function(t){console.error(Error("Mathjax n’a pas été chargé correctement, impossible d’afficher le point en LaTeX"),t)})}else{this.nomPoint.creeg();this.setReady()}};s.prototype.execute=function(t){if(this.nomPoint.objet==="point"){this.nomPoint.positionne();var e=this.nomPoint.point;if(e.nom!==null){this.doc.svg.replaceChild(this.nomPoint.g,e.nom.g)}else this.doc.svg.appendChild(this.nomPoint.g);e.nom=this.nomPoint}this.nomPoint.g.setAttribute("visibility","visible");if(!t)this.doc.actionSuivante(t)};s.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.nomPoint.point,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);t.exports=n;function n(t,e){r.call(this,t,e)}n.prototype=new r;n.prototype.execute=function(t){if(!t){this.doc.activeIconeContinuer();this.doc.animationEnCours=false}};n.prototype.actionVisible=function(){return false}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(3);t.exports=r;function r(t,e,i,r,n){s.call(this,t,r);this.instrument=e;this.anglefin=parseFloat(i);this.deg10=n==null?8:Math.abs(parseFloat(n))}r.prototype=new s;r.prototype.execute=function(t){if(!t)this.instrument.lanceAnimationRotation(this.anglefin,this.deg10);else{this.instrument.angle=this.anglefin;this.instrument.positionne();if(!t)this.doc.actionSuivante(t)}};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(3);t.exports=n;function n(t,e){r.call(this,t,e)}n.prototype=new r;n.prototype.execute=function(t){this.doc.compas.retourne();if(!t)this.doc.actionSuivante(t)};n.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.doc.compas,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var a=i(3);t.exports=r;function r(t,e,i,r,n,s){a.call(this,t,n);this.anglefin=parseFloat(i);this.deg10=s==null?8:Math.abs(parseFloat(s));this.objet=this.doc.getElement(e,r)}r.prototype=new a;r.prototype.execute=function(t){var e=this.objet;if(e==null){if(!t)this.doc.actionSuivante(t);return}if(!t)e.lanceAnimationRotation(this.anglefin,this.deg10,this.tempo);else{e.angle=this.anglefin;e.positionne()}};r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var a=i(3);t.exports=r;function r(t,e,i,r,n,s){a.call(this,t,n);this.instrument=e;this.xfin=parseFloat(i);this.yfin=parseFloat(r);this.pix10=s==null?8:parseFloat(s)}r.prototype=new a;r.prototype.execute=function(t){if(isNaN(this.xfin)||isNaN(this.yfin))this.doc.actionSuivante(t);else{if(t)this.instrument.translate(this.xfin,this.yfin);else this.instrument.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10)}};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var o=i(3);t.exports=r;function r(t,e,i,r,n,s,a){o.call(this,t,s);this.xfin=parseFloat(i);this.yfin=parseFloat(r);this.pix10=a==null?8:parseFloat(a);this.type=n;this.objet=this.doc.getElement(e,n)}r.prototype=new o;r.prototype.execute=function(t){var e=this.objet;if(e==null){this.doc.actionSuivante(t);return}if(!t)e.lanceAnimationTranslation(this.xfin,this.yfin,this.pix10);else{e.translate(this.xfin,this.yfin)}};r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){i(0);i(22);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(3);t.exports=r;function r(t,e,i,r,n){s.call(this,t,r);this.instrument=e;this.zoomfin=parseFloat(i)/100;this.vitesse=parseInt(n)}r.prototype=new s;r.prototype.execute=function(t){if(!t)this.instrument.lanceAnimationZoom(this.zoomfin,this.vitesse);else{this.instrument.zoomfactor=this.zoomfin;this.instrument.positionne()}};r.prototype.actionVisible=function(){return this.doc.getInstrumentVisibility(this.instrument,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var a=i(3);t.exports=r;function r(t,e,i,r,n,s){a.call(this,t,n);this.objet=this.doc.getElement(e,r);this.zoomfin=parseFloat(i)/100;this.vitesse=s;this.type=r}r.prototype=new a;r.prototype.execute=function(t){var e=this.objet;if(e==null){this.doc.actionSuivante(t);return}if(!t)e.lanceAnimationZoom(this.zoomfin,this.vitesse);else{e.zoomfactor=this.zoomfin;e.positionne()}};r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var a=i(3);t.exports=r;function r(t,e,i,r,n,s){a.call(this,t,n);this.rayFin=parseFloat(i);this.pix10=s==null?8:parseFloat(s);this.type=r;this.objet=this.doc.getElement(e,r)}r.prototype=new a;r.prototype.execute=function(t){var e=this.objet;if(e==null){this.doc.actionSuivante(t);return}if(!t)e.lanceAnimationModificationRayon(this.rayFin,this.pix10);else{e.donneRayon(this.rayFin)}};r.prototype.actionVisible=function(){return this.doc.getObjectVisibility(this.objet,this.indice-1)}},function(t,e,i){i(33);i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var z=i(1);var h=i(18);var D=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c,l){this.x=parseFloat(i);this.y=parseFloat(r);this.ray=parseFloat(n);this.ang1=parseFloat(s);this.ang2=parseFloat(a);this.motif=l==null?"simple":l;h.call(this,t,e,o,u,1);this.opaciteRemplissage=c==null?.7:parseFloat(c)/100;this.objet="angle"}r.prototype=new h;r.prototype.creeg=function(){var t,e,i,r,n,s,a,o,u,c;var l=5;var h=this.motif;var f=this.ray;var d=this.ang1;var p=this.ang2;var v=p-d;var g=z.mesurePrincDeg(v);if(z.zeroAngle(Math.abs(v)-180))t=this.ang1<=this.ang2;else t=g>0;var b=new D(this.x,this.y,this.x+Math.cos(d*z.convDegRad),this.y+Math.sin(d*z.convDegRad)).vecteurColineaire(f);var m=new D(this.x,this.y,this.x+Math.cos(p*z.convDegRad),this.y+Math.sin(p*z.convDegRad)).vecteurColineaire(f);var y=this.x+b.x;var x=this.y+b.y;var A=this.x+m.x;var S=this.y+m.y;var w=document.createElementNS(z.svgsn,"g");var E=document.createElementNS(z.svgsn,"path");var C=h.indexOf("plein")!==-1?this.couleur:"none";if(C!=="none"){e="M"+this.x+" "+this.y+"L"+y+" "+x+"A"+f+" "+f+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+A+" "+S+" Z"}else{e="M"+y+" "+x+"A"+f+" "+f+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+A+" "+S}E.setAttribute("d",e);var N="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";";var M=N+"fill:"+C+";fill-opacity:"+this.opaciteRemplissage+";";E.setAttribute("style",M);w.appendChild(E);var k=h.indexOf("O")!==-1;var I=b.tourne(g/2);var P=this.x+I.x;var F=this.y+I.y;if(k){var O=document.createElementNS(z.svgsn,"circle");O.setAttribute("r",5);O.setAttribute("cx",P);O.setAttribute("cy",F);O.setAttribute("style",N+"fill:none;");w.appendChild(O)}var j=h.indexOf("triple")!==-1?2:h.indexOf("double")!==-1?1:0;for(var L=1;L<=j;L++){E=document.createElementNS(z.svgsn,"path");var T=f-L*5;var R=b.vecteurColineaire(T);var _=m.vecteurColineaire(T);y=this.x+R.x;x=this.y+R.y;A=this.x+_.x;S=this.y+_.y;e="M"+y+" "+x+"A"+T+" "+T+" "+this.ang1+" 0 "+(t?"1 ":"0 ")+A+" "+S;E.setAttribute("d",e);E.setAttribute("style",N+"fill:none;");w.appendChild(E)}var B=h.indexOf("///")!==-1?3:h.indexOf("//")!==-1?2:h.indexOf("/")!==-1?1:0;if(B===0){this.g=w;return}var G=j+1;var V=I.vecteurColineaire(1);switch(B){case 1:a=this.x+V.x*f;o=this.y+V.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",a-V.x*l*G);i.setAttribute("y1",o-V.y*l*G);i.setAttribute("x2",a+V.x*l);i.setAttribute("y2",o+V.y*l);i.setAttribute("style",M);w.appendChild(i);break;case 2:u=g/6;c=6;if(Math.abs(u)>=Math.abs(c))u=c;r=V.tourne(u);n=this.x+r.x*f;s=this.y+r.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",n-V.x*l*G);i.setAttribute("y1",s-V.y*l*G);i.setAttribute("x2",n+V.x*l);i.setAttribute("y2",s+V.y*l);i.setAttribute("style",M);w.appendChild(i);r=V.tourne(-u);n=this.x+r.x*f;s=this.y+r.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",n-V.x*l*G);i.setAttribute("y1",s-V.y*l*G);i.setAttribute("x2",n+V.x*l);i.setAttribute("y2",s+V.y*l);i.setAttribute("style",M);w.appendChild(i);break;case 3:a=this.x+V.x*f;o=this.y+V.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",a-V.x*l*G);i.setAttribute("y1",o-V.y*l*G);i.setAttribute("x2",a+V.x*l);i.setAttribute("y2",o+V.y*l);i.setAttribute("style",M);w.appendChild(i);u=g/4;c=9;if(Math.abs(u)>=Math.abs(c))u=c;r=V.tourne(u);n=this.x+r.x*f;s=this.y+r.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",n-V.x*l*G);i.setAttribute("y1",s-V.y*l*G);i.setAttribute("x2",n+V.x*l);i.setAttribute("y2",s+V.y*l);i.setAttribute("style",M);w.appendChild(i);r=V.tourne(-u);n=this.x+r.x*f;s=this.y+r.y*f;i=document.createElementNS(z.svgsn,"line");i.setAttribute("x1",n-V.x*l*G);i.setAttribute("y1",s-V.y*l*G);i.setAttribute("x2",n+V.x*l);i.setAttribute("y2",s+V.y*l);i.setAttribute("style",M);w.appendChild(i);break}this.g=w}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var s=i(1);var u=i(18);var a=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o){this.xsommet=parseFloat(i);this.ysommet=parseFloat(r);this.xinter=parseFloat(n);this.yinter=parseFloat(s);u.call(this,t,e,a,o,100);this.objet="angle_droit"}r.prototype=new u;r.prototype.creeg=function(){var t=new a(this.xsommet,this.ysommet,this.xinter,this.yinter);var e=t.norme();t=t.vecteurColineaire(e/Math.sqrt(2));t=t.tourne(45);var i=t.tourne(-90);var r=document.createElementNS(s.svgsn,"polyline");var n=String(this.xsommet+t.x)+" "+String(this.ysommet+t.y)+" "+this.xsommet+" "+this.ysommet+" "+String(this.xsommet+i.x)+" "+String(this.ysommet+i.y);r.setAttribute("points",n);r.setAttribute("style",this.style+"fill:none;");this.g=r}},function(t,e,i){i(0);
/*
* Visualiseur InstrumenPoche en Javascript et SVG
* @Author Yves Biton (yves.biton@sesamath.net)
* @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
*/var v=i(1);var h=i(18);var n=i(101);var g=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c,l){this.x=parseFloat(i);this.y=parseFloat(r);this.ray=parseFloat(n);this.debut=parseFloat(s);this.fin=parseFloat(a);h.call(this,t,e,o,u,c,l)}r.prototype=new h;r.prototype.creeg=function(){var t=this.debut;var e=this.fin;var i=this.ray;var r=t<e?"1":"0";var n=Math.abs(e-t);var s=document.createElementNS(v.svgsn,"g");if(n>=359.9){var a=document.createElementNS(v.svgsn,"circle");a.setAttribute("r",i);a.setAttribute("cx",0);a.setAttribute("cy",0);a.setAttribute("style",this.style+";fill:none;");s.appendChild(a)}else{var o=document.createElementNS(v.svgsn,"path");var u=new g(Math.cos(t*v.convDegRad)*i,Math.sin(t*v.convDegRad)*i);var c=new g(Math.cos(e*v.convDegRad)*i,Math.sin(e*v.convDegRad)*i);var l=u.x;var h=u.y;var f=c.x;var d=c.y;var p="M"+l+" "+h+"A"+i+" "+i+" "+t+" "+(n>180?"1":"0")+" "+r+" "+f+" "+d;o.setAttribute("d",p);o.setAttribute("style",this.style+";fill:none");s.appendChild(o)}s.setAttribute("transform","translate("+this.x+","+this.y+")");s.setAttribute("visibility","hidden");this.g=s};r.prototype.creationAnimee=function(){return true};r.prototype.lanceAnimation=function(t){var e=this.doc.compas;if(this.doc.compasLeve==null){this.doc.compasLeve=new n(this.doc,e.x,e.y,e.angle,e.ecart)}var i=this.doc.compasLeve;this.ray=this.doc.compas.ecart;this.angfin=this.fin;this.pasdeg=t/2;this.pasdeg*=this.fin>=this.debut?1:-1;this.distang=Math.abs(this.fin-this.debut);this.fin=this.debut;e.setPosition(this.x,this.y,this.debut);i.setPosition(this.x,this.y,this.debut);var r=this;this.timer=setInterval(function(){r.actionPourAnimation()},25)};r.prototype.actionPourAnimation=function(){var t=this.doc.compas;var e=this.doc.compasLeve;this.fin+=this.pasdeg;var i=Math.abs(this.angfin-this.fin);if(i>this.distang||!this.doc.animationEnCours){this.fin=this.angfin;this.updateg();this.finAction();clearInterval(this.timer);this.doc.actionSuivante()}else{this.distang=i;this.updateg();t.setPosition(this.x,this.y,this.fin);if(e!==null)e.setPosition(this.x,this.y,this.fin)}};r.prototype.finAction=function(){this.doc.compas.setPosition(this.x,this.y,this.fin);if(this.doc.compasLeve!==null)this.doc.compasLeve.setPosition(this.x,this.y,this.fin)}},function(t,e,i){i(189);i(0);
/*
* Visualiseur InstrumenPoche en Javascript et SVG
* @Author Yves Biton (yves.biton@sesamath.net)
* @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
*/var l=i(18);var p=i(1);var v=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c){l.call(this,t,e,a,o,c,"continu");this.x=parseFloat(i);this.y=parseFloat(r);this.ray=n===null?10:parseFloat(n);this.ecartAngle=parseFloat(s);this.couleur=a;this.couleurFond=u===null?a:u;this.angle=0;this.objet="gabarit"}r.prototype=new l;r.prototype.creationAnimee=function(){return false};r.prototype.creeg=function(){var t=this.ecartAngle;var e=this.ray;var i=t>=0?"1":"0";var r=Math.abs(t);var n=document.createElementNS(p.svgsn,"g");var s=document.createElementNS(p.svgsn,"path");var a=new v(Math.cos(t*p.convDegRad)*e,Math.sin(t*p.convDegRad)*e);var o=e;var u=0;var c=a.x;var l=a.y;var h="M 0 0 L "+o+" "+u+" A "+e+" "+e+" 0 "+(r>180?"1":"0")+" "+i+" "+c+" "+l+" Z";s.setAttribute("d",h);var f=parseFloat(this.opacite/100);var d="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";"+"fill:"+this.couleurFond+";fill-opacity:"+f+";";s.setAttribute("style",d);n.appendChild(s);n.setAttribute("transform","translate("+this.x+","+this.y+") rotate("+this.angle+")");n.setAttribute("visibility","hidden");this.g=n};r.prototype.donneRayon=function(t){this.ray=t;this.updateg();this.setPosition(this.x,this.y,this.angle)};r.prototype.setPosition=function(t,e,i){this.x=t;this.y=e;this.angle=i;this.g.setAttribute("transform","translate("+t+","+e+") rotate("+i+")")};r.prototype.lanceAnimationModificationRayon=function(t,e){this.rayFin=t;this.rayInit=this.ray;var i=t-this.ray;this.dist=Math.abs(i);this.dray=Math.sign(i)*Math.abs(e/4);if(this.dist===0)return;var r=this;this.timer=setInterval(function(){r.actionPourModificationRayon()},25)};r.prototype.actionPourModificationRayon=function(){var t=this.ray+this.dray;var e=Math.abs(t-this.rayInit);if(e>this.dist||!this.doc.animationEnCours){this.donneRayon(this.rayFin);clearInterval(this.timer);this.doc.actionSuivante()}else{this.dist=e;this.donneRayon(t)}}},function(t,e,i){var r=i(6);var n=i(190);r({target:"Math",stat:true},{sign:n})},function(t,e){t.exports=Math.sign||function t(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(t,e,i){i(192);i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var h=i(1);var l=i(17);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c){l.call(this,t,"axeIEP",c);this.pente=e==null?"horizontal":e;this.largeur=i;this.haut=r==null?0:parseFloat(r);this.gauche=n==null?0:parseFloat(n);this.distanceBord=parseFloat(s);this.xgrad=a;this.xmin=o;this.xmax=u;this.cadre={};this.cadre.gauche=this.gauche*30;this.cadre.haut=this.haut*30;this.width=30*i;this.cadre.droite=this.gauche+this.width;this.cadre.bas=this.haut+this.width}r.prototype=new l;r.prototype.creeg=function(){var t,e,i,r;this.g=document.createElementNS(h.svgsn,"g");var n="stroke:black;stroke-width:1;";if(this.pente==="horizontal"&&this.xmax-this.xmin>this.xgrad){e=Math.floor((this.xmax-this.xmin)/this.xgrad);i=this.distanceBord*30;r=h.determiner_graduations(this.xmin,this.xmax,this.xgrad);this.tracer_abscisses(r,this.xgrad,e,i);t=document.createElementNS(h.svgsn,"line");t.setAttribute("style",n);t.setAttribute("x1",this.cadre.gauche);t.setAttribute("y1",i);t.setAttribute("x2",this.cadre.droite);t.setAttribute("y2",i);this.g.appendChild(t)}else if(this.xmax-this.xmin>this.xgrad){e=Math.floor((this.xmax-this.xmin)/this.xgrad);i=Number(this.distanceBord)*30;r=h.determiner_graduations(this.xmin,this.xmax,this.xgrad);this.tracer_ordonnees(r,this.xgrad,e,i);t=document.createElementNS(h.svgsn,"line");t.setAttribute("style",n);t.setAttribute("x1",i);t.setAttribute("y1",this.cadre.bas);t.setAttribute("x2",i);t.setAttribute("y2",this.cadre.haut);this.g.appendChild(t)}};r.prototype.tracer_abscisses=function(t,e,i,r){var n,s,a,o;var u=12;var c="stroke:black;stroke-width:1.5;";n=document.createElementNS(h.svgsn,"line");n.setAttribute("style",c);n.setAttribute("x1",this.cadre.gauche);n.setAttribute("y1",r);n.setAttribute("x2",this.cadre.droite);n.setAttribute("y2",r);this.g.appendChild(n);for(o=0;o<=i;o++){n=document.createElementNS(h.svgsn,"line");n.setAttribute("style",c);a=this.mettre_x_en_pixels(t+o*e);n.setAttribute("x1",a);n.setAttribute("y1",String(r-5));n.setAttribute("x2",a);n.setAttribute("y2",String(r+5));this.g.appendChild(n);s=document.createElementNS(h.svgsn,"text");s.setAttribute("x",a);s.setAttribute("y",r+u+5);var l="text-anchor:left;font-size:"+u+"px;"+"fill:"+this.couleur+";";s.setAttribute("style",l);s.appendChild(document.createTextNode(String(t+o*e)));this.g.appendChild(s)}};r.prototype.tracer_ordonnees=function(t,e,i,r){var n,s,a;var o=12;var u="stroke:black;stroke-width:1.5;";n=document.createElementNS(h.svgsn,"line");n.setAttribute("style",u);n.setAttribute("x1",r);n.setAttribute("y1",this.cadre.haut);n.setAttribute("x2",r);n.setAttribute("y2",this.cadre.bas);this.g.appendChild(n);for(a=0;a<=i;a++){n=document.createElementNS(h.svgsn,"line");n.setAttribute("style",u);var c=this.mettre_y_en_pixels(t+a*e);n.setAttribute("x1",String(r-5));n.setAttribute("y1",c);n.setAttribute("x2",String(r+5));n.setAttribute("y2",c);this.g.appendChild(n);s=document.createElementNS(h.svgsn,"text");s.setAttribute("x",r+10);s.setAttribute("y",c+2);var l="text-anchor:left;font-size:"+o+"px;"+"fill:"+this.couleur+";";s.setAttribute("style",l);s.appendChild(document.createTextNode(String(t+a*e)));this.g.appendChild(s)}};r.prototype.mettre_x_en_pixels=function(t){return h.mettre_en_pixels(t,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)};r.prototype.mettre_y_en_pixels=function(t){return h.mettre_en_pixels(t,this.xmax,this.xmin,this.cadre.haut,this.cadre.bas)}},function(t,e,i){"use strict";var r=i(13);var n=i(2);var s=i(38);var a=i(15);var o=i(9);var u=i(16);var c=i(85);var l=i(26);var h=i(5);var f=i(39);var d=i(30).f;var p=i(24).f;var v=i(11).f;var g=i(42).trim;var b="Number";var m=n[b];var y=m.prototype;var x=u(f(y))==b;var A=function(t){var e=l(t,false);var i,r,n,s,a,o,u,c;if(typeof e=="string"&&e.length>2){e=g(e);i=e.charCodeAt(0);if(i===43||i===45){r=e.charCodeAt(2);if(r===88||r===120)return NaN}else if(i===48){switch(e.charCodeAt(1)){case 66:case 98:n=2;s=49;break;case 79:case 111:n=8;s=55;break;default:return+e}a=e.slice(2);o=a.length;for(u=0;u<o;u++){c=a.charCodeAt(u);if(c<48||c>s)return NaN}return parseInt(a,n)}}return+e};if(s(b,!m(" 0o1")||!m("0b1")||m("+0x1"))){var S=function t(e){var i=arguments.length<1?0:e;var r=this;return r instanceof S&&(x?h(function(){y.valueOf.call(r)}):u(r)!=b)?c(new m(A(i)),r,S):A(i)};for(var w=r?d(m):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),E=0,C;w.length>E;E++){if(o(m,C=w[E])&&!o(S,C)){v(S,C,p(m,C))}}S.prototype=y;y.constructor=S;a(n,b,S)}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var r=i(1);var l=i(102);var n=i(12);t.exports=s;function s(t,e,i,r,n,s,a,o,u,c){l.call(this,t,e,i,r,n,s,a,o,u,c)}s.prototype=new l;s.prototype.calcule=function(){var t,e;l.prototype.calcule.call(this);var i=new n(this.x1,this.y1,this.x2,this.y2);if(this.horsFenetre)return;t=new n(this.x1,this.y1,this.xext1,this.yext1);if(t.presqueNul()){e=new n(this.x1,this.y1,this.xext2,this.yext2);if(r.colineairesMemeSens(e,i)){this.xext1=this.x1;this.yext1=this.y1}else{this.xext2=this.xext1;this.yext2=this.yext1;this.xext1=this.x1;this.yext1=this.y1}}else{if(r.colineairesMemeSens(t,i)){this.xext2=this.xext1;this.yext2=this.yext1;this.xext1=this.x1;this.yext1=this.y1}else{this.xext1=this.x1;this.yext1=this.y1}}}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 * Attention : Ne pas appeler cet objet Imag car entre en conflit avec l'objet Imag du JS
 */
var r=i(1);var n=i(17);var s=i(95);t.exports=a;function a(t,e,i){this.doc=t;this.id=e;this.url=i;this.x=0;this.y=0;this.angle=0;this.objet="image";this.zoomfactor=1}a.prototype=new n;a.prototype.initialisePosition=function(){this.x=0;this.y=0;this.angle=0;this.zoomfactor=1;this.positionne()};a.prototype.prepareAction=function(){var t=new Image;t.owner=this;this.action=new s(this.doc,this.id,this);this.action.isReady=false;this.doc.ajouteAction(this.action);t.onload=function(){var t=this.owner;t.width=this.width;t.height=this.height;t.action.isReady=true};t.src=this.url};a.prototype.creeg=function(){var t=document.createElementNS(r.svgsn,"image");t.setAttribute("width",this.width);t.setAttribute("height",this.height);t.setAttributeNS("http://www.w3.org/1999/xlink","href",this.url);t.setAttribute("x",this.x);t.setAttribute("y",this.y);t.setAttribute("visibility","hidden");this.g=t;this.setPosition(this.x,this.y,this.angle,this.zoomfactor);this.doc.svg.appendChild(t)};a.prototype.setPosition=function(t,e,i,r){this.x=t;this.y=e;this.angle=i;this.zoomfactor=r;this.g.setAttribute("transform","scale("+r+") translate("+String(t/r)+","+String(e/r)+") rotate("+i+")")};a.prototype.positionne=function(){this.setPosition(this.x,this.y,this.angle,this.zoomfactor)}},function(t,e,i){i(0);i(23);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var r=i(1);var l=i(18);t.exports=n;function n(t,e,i,r,n,s,a,o,u,c){l.call(this,t,e,a,o,u,c);this.xdeb=i;this.ydeb=r;this.abs=n.split(",");this.ord=s.split(",");this.objet="trait"}n.prototype=new l;n.prototype.creeg=function(){var t,e,i;t=document.createElementNS(r.svgsn,"polyline");e=this.xdeb+" "+this.ydeb;for(i=0;i<this.abs.length;i++){e+=" "+this.abs[i]+" "+this.ord[i]}t.setAttribute("points",e);t.setAttribute("style",this.style+"fill:none;");t.setAttribute("visibility","hidden");this.g=t};n.prototype.creationAnimee=function(){return true};n.prototype.lanceAnimation=function(){this.sauveabs=this.abs;this.sauveord=this.ord;this.abs=[];this.ord=[];this.ind=-1;var t=this;this.timer=setInterval(function(){t.actionPourAnimation()},25)};n.prototype.actionPourAnimation=function(){this.ind++;var t=this.doc.crayon;if(this.ind>=this.sauveabs.length){this.abs=this.sauveabs;this.ord=this.sauveord;this.updateg();clearInterval(this.timer);this.finAction();this.doc.actionSuivante()}else{var e=this.sauveabs[this.ind];var i=this.sauveord[this.ind];this.abs.push(e);this.ord.push(i);this.updateg();t.setPosition(parseFloat(e),parseFloat(i),t.angle);this.updateg()}};n.prototype.finAction=function(){var t=this.abs.length;this.doc.crayon.translate(parseFloat(this.abs[t-1]),parseFloat(this.ord[t-1]))}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var o=i(1);var u=i(18);t.exports=r;function r(t,e,i,r,n,s,a){this.x=parseFloat(i);this.y=parseFloat(r);this.motif=a;u.call(this,t,e,n,s,100);this.objet="longueur"}r.prototype=new u;r.prototype.creeg=function(){var t,e,i;var r=5;var n=5;var s=n/2;var a=5;switch(this.motif){case"/":t=document.createElementNS(o.svgsn,"line");t.setAttribute("x1",r);t.setAttribute("y1",-r);t.setAttribute("x2",-r);t.setAttribute("y2",r);t.setAttribute("style",this.style);break;case"\\":t=document.createElementNS(o.svgsn,"line");t.setAttribute("x1",-r);t.setAttribute("y1",-r);t.setAttribute("x2",r);t.setAttribute("y2",r);t.setAttribute("style",this.style);break;case"//":t=document.createElementNS(o.svgsn,"g");for(i=-1;i<=1;i+=2){e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",i*s+r);e.setAttribute("y1",-r);e.setAttribute("x2",i*s-r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e)}break;case"///":t=document.createElementNS(o.svgsn,"g");for(i=-1;i<=1;i++){e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",i*n+r);e.setAttribute("y1",-r);e.setAttribute("x2",i*n-r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e)}break;case"\\\\":t=document.createElementNS(o.svgsn,"g");for(i=-1;i<=1;i+=2){e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",i*s-r);e.setAttribute("y1",-r);e.setAttribute("x2",i*s+r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e)}break;case"\\\\\\":t=document.createElementNS(o.svgsn,"g");for(i=-1;i<=1;i++){e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",i*n-r);e.setAttribute("y1",-r);e.setAttribute("x2",i*n+r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e)}break;case"X":t=document.createElementNS(o.svgsn,"g");e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",-r);e.setAttribute("y1",-r);e.setAttribute("x2",r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e);e=document.createElementNS(o.svgsn,"line");e.setAttribute("x1",r);e.setAttribute("y1",-r);e.setAttribute("x2",-r);e.setAttribute("y2",r);e.setAttribute("style",this.style);t.appendChild(e);break;case"O":t=document.createElementNS(o.svgsn,"circle");t.setAttribute("cx",0);t.setAttribute("cy",0);t.setAttribute("r",a);t.setAttribute("style",this.style+"fill:none;");break;default:t=document.createElementNS(o.svgsn,"g")}this.g=t};r.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")};r.prototype.translate=function(t,e){this.x=t;this.y=e;this.positionne()}},function(t,e,i){i(33);i(0);i(44);i(45);i(46);i(23);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var M=i(1);var a=i(17);t.exports=r;function r(t,e,i,r,n,s){a.call(this,t,e,s);this.dx=i==null?2:parseFloat(i);this.dy=r==null?4:parseFloat(r);this.nom=M.remplaceAccentsHtml(M.remplaceBalises(M.remplaceCarSpe(n)));this.taille=20;this.point=this.doc.getElement(this.id,"point");this.objet="point";this.nom=this.nom.replace(/\*/g,"×");if(M.necessiteLatex(n)){this.nom="$"+this.traiteMaths(this.nom)+"$";this.estLatex=true}else{this.nom=M.traiteAccents(this.nom);this.estLatex=false}}r.prototype=new a;r.prototype.creeg=function(){var t,e,i,r,n,s,a,o,u,c,l,h,f,d,p,v,g,b;var m=0;var y="<";var x="£e(";var A="£i(";var S=document.createElementNS(M.svgsn,"g");var w=parseFloat(this.taille)+2;var E=0;var C=parseFloat(this.taille)*.4;if(this.nom.length!==0){s=document.createElementNS(M.svgsn,"text");s.setAttribute("pointer-events","none");s.setAttribute("x",0);s.setAttribute("y",0);n="text-anchor:left;font-size:"+this.taille+"px;"+"fill:"+this.couleur+";";s.setAttribute("style",n);r=this.nom.replace(new RegExp(" ","g")," ");if(this.nom.indexOf(y)===-1&&this.nom.indexOf(x)===-1&&this.nom.indexOf(A)===-1&&this.nom.indexOf("<br>")===-1){s.appendChild(document.createTextNode(r))}else{p=r.split(/<br>/gi);d=-w;for(v=0;v<p.length;v++){g=true;i=p[v];while(i.length!==0){t=i.indexOf(y);o=i.indexOf(x);u=i.indexOf(A);if(g)d+=w+E;if(o!==-1)d+=C;if(t===-1&&o===-1&&u===-1){e=document.createElementNS(M.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m);if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}m=0;e.appendChild(document.createTextNode(i));s.appendChild(e);break}else{while(i.indexOf(y)!==-1||i.indexOf(x)!==-1||i.indexOf(A)!==-1){t=i.indexOf(y);o=i.indexOf(x);u=i.indexOf(A);if(t===-1){if(o===-1)c=u;else c=u===-1?o:Math.min(u,o)}else{if(o===-1)c=u===-1?t:Math.min(t,u);else{if(u===-1)c=Math.min(t,o);else c=Math.min(t,u,o)}}if(c>0){e=document.createElementNS(M.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m);if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}m=0;e.appendChild(document.createTextNode(i.substring(0,c)));s.appendChild(e);i=i.substring(c)}else{if(t===0){var N=new M.infoBalise(false,false,false,this.couleur,"",this.taille);a=M.indiceFinBalise(i);if(a===-1)M.traiteBalise(i,N,s,g,d);else M.traiteBalise(i.substring(0,a),N,s,g,d);g=false;if(a!==-1)i=i.substring(a);else i="";m=0}else{l=c===o;b=M.analyseExposantOuIndice(i);e=document.createElementNS(M.svgsn,"tspan");e.setAttribute("pointer-events","none");e.setAttribute("dy",m+"px");if(g){e.setAttribute("x",0);e.setAttribute("y",d);g=false}if(b.erreur)e.appendChild(document.createTextNode(i));else{e.appendChild(document.createTextNode(b.operande));s.appendChild(e);e=document.createElementNS(M.svgsn,"tspan");e.setAttribute("pointer-events","none");e.appendChild(document.createTextNode(b.exposant));m=C;if(l)m=-m;else E=m;e.setAttribute("dy",m+"px");h=parseFloat(this.taille)*.6;f="font-size:"+h+"px;";e.setAttribute("style",f);s.appendChild(e);m=-m}i=b.texte}}}}}}}S.appendChild(s);this.g=S}S.setAttribute("visibility","hidden")};r.prototype.creegLatex=function(){var t,e,i;try{var r=document.createElementNS(M.svgsn,"g");var n=this.div.childNodes[1];if(n===undefined)return document.createElementNS(M.svgsn,"g");var s=n.childNodes[0];if(s===undefined)return document.createElementNS(M.svgsn,"g");var a=s.childNodes[0];if(a===undefined)return document.createElementNS(M.svgsn,"g");while(a.tagName==="SPAN"){a=a.childNodes[0]}if(a.clientWidth!==0&&a.clientHeight!==0){t=a.clientWidth;e=a.clientHeight}else{var o=a.getBBox();i=o.height/o.width;t=this.div.clientWidth;e=t*i}var u=this.taille;if(e<u)e=u;a.setAttribute("x","0");a.setAttribute("y",String(-this.taille));a.setAttribute("width",t+"px");a.setAttribute("height",e+"px");r.appendChild(a.parentNode.removeChild(a));document.body.removeChild(this.div);r.setAttribute("visibility","hidden");this.g=r}catch(t){if(this.div!=null)document.body.removeChild(this.div);this.g=document.createElementNS(M.svgsn,"g")}};r.prototype.positionne=function(){if(this.point===null)this.point=this.doc.getElement(this.id,"point");var t=this.point.x;var e=this.point.y;this.g.setAttribute("transform","translate("+String(t+this.dx)+","+String(e+this.dy+this.taille)+")")};r.prototype.traiteMaths=function(t){return M.traiteAccents(M.getMathsForName(t,true))}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var r=i(1);var a=i(18);var n=i(17);t.exports=s;function s(t,e,i,r,n,s){this.x=parseFloat(i);this.y=parseFloat(r);this.xinit=this.x;this.yinit=this.y;this.xcons=this.x;this.ycons=this.y;a.call(this,t,e,n,s);this.style+="stroke-linecap:round;";this.nom=null;this.objet="point"}s.prototype=new a;s.prototype.initialisePosition=function(){this.x=this.xinit;this.y=this.yinit;this.positionne()};s.prototype.creeg=function(){var t,e;var i=5;t=document.createElementNS(r.svgsn,"g");e=document.createElementNS(r.svgsn,"line");e.setAttribute("x1",-i);e.setAttribute("y1",i);e.setAttribute("x2",i);e.setAttribute("y2",-i);e.setAttribute("style",this.style);t.appendChild(e);e=document.createElementNS(r.svgsn,"line");e.setAttribute("x1",-i);e.setAttribute("y1",-i);e.setAttribute("x2",i);e.setAttribute("y2",i);e.setAttribute("style",this.style);t.appendChild(e);this.g=t};s.prototype.positionne=function(){this.g.setAttribute("transform","translate("+this.x+","+this.y+")")};s.prototype.translate=function(t,e){this.x=t;this.y=e;this.positionne();if(this.nom!==null)this.nom.positionne()};s.prototype.updateg=function(){this.setPosition(this.x,this.y)};s.prototype.montre=function(t){n.prototype.montre.call(this,t);if(this.nom!==null)if(this.nom.g)this.nom.montre(t)}},function(t,e,i){i(0);i(23);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var r=i(1);var c=i(17);var o=i(12);t.exports=n;function n(t,e,i,r,n,s,a,o){c.call(this,t,e,n);this.abs=i.split(",");this.ord=r.split(",");this.sauveabs=this.abs;this.sauveord=this.ord;this.epaisseur=s;this.opacite=o==null?"60":o;var u=parseFloat(this.opacite/100);if(a==null)this.couleurFond=this.couleur;else this.couleurFond=a;this.style="stroke:"+n+";stroke-width:"+s+";fill:"+this.couleurFond+";";this.style+="fill-opacity:"+u+";";this.objet="trait"}n.prototype=new c;n.prototype.creeg=function(){var t,e;var i=document.createElementNS(r.svgsn,"polygon");t="";for(e=0;e<this.abs.length;e++){t+=" "+this.abs[e]+" "+this.ord[e]}i.setAttribute("points",t);i.setAttribute("style",this.style);i.setAttribute("visibility","hidden");this.g=i};n.prototype.creationAnimee=function(){return true};n.prototype.lanceAnimation=function(t){this.pix=parseFloat(t/2);this.abs=[];this.abs[0]=this.sauveabs[0];this.ord=[];this.ord[0]=this.sauveord[0];this.ind=0;this.n=0;var e=this.doc.crayon;var i=new o(parseFloat(this.sauveabs[0]),parseFloat(this.sauveord[0]),parseFloat(this.sauveabs[1]),parseFloat(this.sauveord[1]));this.longcote=i.norme();this.vect=i.vecteurColineaire(this.pix);e.setPosition(parseFloat(this.abs[0]),parseFloat(this.ord[0]),e.angle);var r=this;this.timer=setInterval(function(){r.actionPourAnimation()},25)};n.prototype.actionPourAnimation=function(){var t=this.doc.crayon;var e=this.ind;var i=parseFloat(this.abs[e]);var r=parseFloat(this.ord[e]);this.n++;if(this.doc.animationEnCours){if(this.n*this.pix<=this.longcote){var n=i+this.n*this.vect.x;var s=r+this.n*this.vect.y;this.abs[e+1]=String(n);this.ord[e+1]=String(s);t.translate(n,s);this.updateg()}else{this.ind++;e++;if(e===this.sauveabs.length-1){clearInterval(this.timer);this.finAction();this.doc.actionSuivante()}else{this.abs[e]=this.sauveabs[e];this.ord[e]=this.sauveord[e];t.translate(parseFloat(this.abs[e]),parseFloat(this.ord[e]));var a=new o(parseFloat(this.sauveabs[e]),parseFloat(this.sauveord[e]),parseFloat(this.sauveabs[e+1]),parseFloat(this.sauveord[e+1]));this.longcote=a.norme();this.vect=a.vecteurColineaire(this.pix);this.n=0}}}else{clearInterval(this.timer);this.finAction();this.doc.actionSuivante()}};n.prototype.finAction=function(){this.abs=this.sauveabs;this.ord=this.sauveord;var t=this.abs.length;this.updateg();this.doc.crayon.translate(parseFloat(this.abs[t-1]),parseFloat(this.ord[t-1]))}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var d=i(1);var o=i(17);t.exports=r;function r(t,e,i,r,n,s,a){o.call(this,t,"quadrillageIEP",a);this.hauteur=parseFloat(i);this.largeur=parseFloat(r);this.haut=n==null?0:parseFloat(n);this.gauche=s==null?0:parseFloat(s);this.type=e;this.cadre={};this.cadre.gauche=this.gauche*30;this.cadre.haut=this.haut*30;this.cadre.droite=this.cadre.gauche+this.largeur*30;this.cadre.bas=this.cadre.haut+this.hauteur*30;this.objet="quadrillage"}r.prototype=new o;r.prototype.creeg=function(){var t=this.cadre.gauche;var e=this.cadre.droite;var i=this.cadre.haut;var r=this.cadre.bas;var n=this.couleur;this.g=document.createElementNS(d.svgsn,"g");var s=this.doc.svg.getElementById("quadrillageIEP");if(s!=null)this.doc.svg.removeChild(s);switch(this.type){case"seyes":this.tracer_grille(n,24,6,t,i,e,r,false,1);this.tracer_grille(n,24,24,t,i,e,r,false,1);break;case"millimetre":this.tracer_grille(n,3,3,t,i,e,r,false,.6);this.tracer_grille(n,30,30,t,i,e,r,false,.8);this.tracer_grille(n,150,150,t,i,e,r,false,1);break;case"10x10":case"10x":this.tracer_grille(n,30,30,t,i,e,r,false,1);break;case"5x5":case"5x":default:this.tracer_grille(n,15,15,t,i,e,r,false,1);break}};r.prototype.tracer_grille=function(t,e,i,r,n,s,a,o,u){var c,l;var h="stroke:"+t+";stroke-width:0.5;"+"stroke-opacity:"+u+";";if(o)this.style+="stroke-dasharray:2 2;";var f=Math.ceil(Math.abs(s-r)/e);for(l=0;l<f;l++){c=document.createElementNS(d.svgsn,"line");c.setAttribute("style",h);c.setAttribute("x1",r+l*e);c.setAttribute("y1",n);c.setAttribute("x2",r+l*e);c.setAttribute("y2",a);c.setAttribute("style",h);this.g.appendChild(c)}f=Math.ceil(Math.abs(a-n)/i);for(l=0;l<f;l++){c=document.createElementNS(d.svgsn,"line");c.setAttribute("style",h);c.setAttribute("x1",r);c.setAttribute("y1",n+l*i);c.setAttribute("x2",s);c.setAttribute("y2",n+l*i);c.setAttribute("style",h);this.g.appendChild(c)}}},function(t,e,i){i(0);
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */var d=i(1);var v=i(17);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c,l,h,f,d,p){v.call(this,t,"repereIEP",h);this.hauteur=e;this.largeur=i;this.haut=r==null?0:parseFloat(r);this.gauche=n==null?0:parseFloat(n);this.xgrad=parseFloat(s);this.ygrad=parseFloat(a);this.xmin=parseFloat(o);this.xmax=parseFloat(u);this.ymin=parseFloat(c);this.ymax=parseFloat(l);this.grille=f==null?"visible":f;this.axes=d==null?"visible":d;this.etiquettes=p==null?"visible":p;this.cadre={};this.cadre.gauche=this.gauche*30;this.cadre.haut=this.haut*30;this.cadre.droite=this.cadre.gauche+this.largeur*30;this.cadre.bas=this.cadre.haut+this.hauteur*30}r.prototype=new v;r.prototype.mettre_x_en_pixels=function(t){return d.mettre_en_pixels(t,this.xmin,this.xmax,this.cadre.gauche,this.cadre.droite)};r.prototype.mettre_y_en_pixels=function(t){return d.mettre_en_pixels(t,this.ymax,this.ymin,this.cadre.haut,this.cadre.bas)};r.prototype.tracer_abscisses=function(t,e,i,r,n,s){var a,o,u,c;var l=12;var h="stroke:black;stroke-width:0.5;";if(this.grille==="invisible"&&this.axes!=="invisible"){a=document.createElementNS(d.svgsn,"line");a.setAttribute("style",h);a.setAttribute("x1",this.cadre.gauche);a.setAttribute("y1",r);a.setAttribute("x2",this.cadre.droite);a.setAttribute("y2",r);this.g.appendChild(a)}for(c=0;c<=i;c++){a=document.createElementNS(d.svgsn,"line");a.setAttribute("style",h);u=this.mettre_x_en_pixels(t+c*e);if(this.grille==="invisible"){if(this.axes!=="invisible"){a.setAttribute("x1",u);a.setAttribute("y1",String(r-5));a.setAttribute("x2",u);a.setAttribute("y2",String(r+5));this.g.appendChild(a)}}else{a.setAttribute("x1",u);a.setAttribute("y1",n);a.setAttribute("x2",u);a.setAttribute("y2",s);this.g.appendChild(a)}if(this.etiquettes!=="invisible"&&this.axes!=="invisible"){o=document.createElementNS(d.svgsn,"text");o.setAttribute("x",u+2);o.setAttribute("y",r+l);var f="text-anchor:left;font-size:"+l+"px;"+"fill:"+this.couleur+";";o.setAttribute("style",f);o.appendChild(document.createTextNode(String(t+c*e)));this.g.appendChild(o)}}};r.prototype.tracer_ordonnees=function(t,e,i,r,n,s){var a,o,u,c;var l=12;var h="stroke:black;stroke-width:0.5;";if(this.grille==="invisible"&&this.axes!=="invisible"){a=document.createElementNS(d.svgsn,"line");a.setAttribute("style",h);a.setAttribute("x1",r);a.setAttribute("y1",this.cadre.haut);a.setAttribute("x2",r);a.setAttribute("y2",this.cadre.bas);this.g.appendChild(a)}for(c=0;c<=i;c++){a=document.createElementNS(d.svgsn,"line");a.setAttribute("style",h);u=this.mettre_y_en_pixels(t+c*e);if(this.grille==="invisible"){if(this.axes!=="invisible"){a.setAttribute("x1",String(r-5));a.setAttribute("y1",u);a.setAttribute("x2",String(r+5));a.setAttribute("y2",u);this.g.appendChild(a)}}else{a.setAttribute("x1",n);a.setAttribute("y1",u);a.setAttribute("x2",s);a.setAttribute("y2",u);this.g.appendChild(a)}if(this.etiquettes!=="invisible"&&this.axes!=="invisible"){o=document.createElementNS(d.svgsn,"text");o.setAttribute("x",r+2);o.setAttribute("y",u+l);var f="text-anchor:left;font-size:"+l+"px;"+"fill:"+this.couleur+";";o.setAttribute("style",f);o.appendChild(document.createTextNode(String(t+c*e)));this.g.appendChild(o)}}};r.prototype.creeg=function(){var t=this.cadre.droite-this.cadre.gauche;var e=this.cadre.bas-this.cadre.haut;this.g=document.createElementNS(d.svgsn,"g");var i=document.createElementNS(d.svgsn,"defs");var r=document.createElementNS(d.svgsn,"clipPath");r.setAttribute("id","clipRepere");var n=document.createElementNS(d.svgsn,"rect");n.setAttribute("style",f);n.setAttribute("x",this.cadre.gauche);n.setAttribute("y",this.cadre.haut);n.setAttribute("width",t);n.setAttribute("height",e);r.appendChild(n);i.appendChild(r);this.g.appendChild(i);this.g.setAttribute("style","clip-path:url(#clipRepere)");if(this.xmax-this.xmin>this.xgrad){var s=Math.floor((this.xmax-this.xmin)/this.xgrad);var a;if(this.ymax*this.ymin<0){a=this.mettre_y_en_pixels(0)}else if(this.ymax<0){a=this.cadre.haut}else{a=this.cadre.bas}var o=d.determiner_graduations(this.xmin,this.xmax,this.xgrad);this.tracer_abscisses(o,this.xgrad,s,a,this.cadre.haut,this.cadre.bas)}if(this.ymax-this.ymin>this.ygrad){var u=Math.floor((this.ymax-this.ymin)/this.ygrad);var c;if(this.xmax*this.xmin<0){c=this.mettre_x_en_pixels(0)}else if(this.xmax<0){c=this.cadre.droite}else{c=this.cadre.gauche}var l=d.determiner_graduations(this.ymin,this.ymax,this.ygrad);this.tracer_ordonnees(l,this.ygrad,u,c,this.cadre.gauche,this.cadre.droite)}var h=document.createElementNS(d.svgsn,"rect");var f="stroke:"+this.couleur+";stroke-width:1;fill:none;";h.setAttribute("style",f);h.setAttribute("x",this.cadre.gauche);h.setAttribute("y",this.cadre.haut);h.setAttribute("width",t);h.setAttribute("height",e);this.g.appendChild(h);this.g.setAttribute("visibility","hidden")}},function(t,e,i){
/*
 * Visualiseur InstrumenPoche en Javascript et SVG
 * @Author Yves Biton (yves.biton@sesamath.net)
 * @License: GNU AGPLv3 https://www.gnu.org/licenses/agpl-3.0.html
 */
var f=i(1);var d=i(103);var p=i(12);t.exports=r;function r(t,e,i,r,n,s,a,o,u,c,l){d.call(this,t,e,i,r,n,s,a,o,u,c);this.stylefleche=l}r.prototype=new d;r.prototype.creeg=function(){d.prototype.creeg.call(this);if(this.stylefleche==="vecteur"){var t=12;var e=this.x1;var i=this.x2;var r=this.y1;var n=this.y2;var s=new p(i,n,e,r);var a=s.vecteurColineaire(t);var o=new p(a.x*f.cos30-a.y*f.sin30,a.x*f.sin30+a.y*f.cos30);var u=new p(a.x*f.cos30+a.y*f.sin30,-a.x*f.sin30+a.y*f.cos30);var c=String(i+o.x)+" "+String(n+o.y)+","+i+" "+n+","+String(i+u.x)+" "+String(n+u.y);var l=document.createElementNS(f.svgsn,"polyline");l.setAttribute("points",c);var h="stroke:"+this.couleur+";stroke-width:"+this.epaisseur+";stroke-opacity:"+this.opacite+";fill:none";l.setAttribute("style",h);this.g.appendChild(l)}}}]);
//# sourceMappingURL=iepjsmin.js.map